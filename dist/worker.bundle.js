!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var web_linter_1=require("./worker/web-linter"),rules=require("codelyzer"),rulesConfig={"directive-selector":[!0,"attribute","sg","camelCase"],"component-selector":[!0,"element","sg","kebab-case"],"use-input-property-decorator":!0,"use-output-property-decorator":!0,"use-host-property-decorator":!0,"no-input-rename":!0,"no-output-rename":!0,"use-life-cycle-interface":!0,"use-pipe-transform-interface":!0,"component-class-suffix":!0,"directive-class-suffix":!0,"import-destructuring-spacing":!0,"templates-use-public":!0,"no-access-missing-member":!0,"invoke-injectable":!0,"no-unused-css":!0},ruleToClass=function(ruleName){var result=ruleName.replace(/(\-\w)/g,function(m){return m[1].toUpperCase()})+"Rule";return result[0].toUpperCase()+result.slice(1,result.length)},getRules=function(config){return Object.keys(config).map(function(k){var className=ruleToClass(k),ruleConfig=config[k];return new rules[className](k,ruleConfig,[])})},linter=new web_linter_1.WebLinter;self.addEventListener("message",function(e){var config=JSON.parse(e.data),output=null,error=null;try{linter.lint("file.ts",config.program,getRules(rulesConfig)),output=linter.getResult().output}catch(e){error=e}error?self.postMessage({error:error}):self.postMessage({output:output}),linter.reset()})},{"./worker/web-linter":2,codelyzer:73}],2:[function(require,module,exports){"use strict";function getSourceFile(fileName,source){var normalizedName=fileName,compilerOptions=createCompilerOptions(),compilerHost={fileExists:function(){return!0},getCanonicalFileName:function(filename){return filename},getCurrentDirectory:function(){return""},getDefaultLibFileName:function(){return"lib.d.ts"},getDirectories:function(_path){return[]},getNewLine:function(){return"\n"},getSourceFile:function(filenameToGet){return filenameToGet===normalizedName?ts.createSourceFile(filenameToGet,source,compilerOptions.target,!0):void 0},readFile:function(){return null},useCaseSensitiveFileNames:function(){return!0},writeFile:function(){return null}},program=ts.createProgram([normalizedName],compilerOptions,compilerHost);return program.getSourceFile(normalizedName)}function createCompilerOptions(){return{noResolve:!0,target:ts.ScriptTarget.ES5}}var ts=require("typescript"),Linter=require("tslint/lib/lint");exports.getSourceFile=getSourceFile,exports.createCompilerOptions=createCompilerOptions;var WebLinter=function(){function WebLinter(){this.failures=[]}return WebLinter.prototype.lint=function(fileName,source,enabledRules){var sourceFile=getSourceFile(fileName,source);if(void 0===sourceFile)throw new Error("Invalid source file: "+fileName+". Ensure that the files supplied to lint have a .ts or .tsx extension.");for(var _i=0,enabledRules_1=enabledRules;_i<enabledRules_1.length;_i++){var rule=enabledRules_1[_i],ruleFailures=[];ruleFailures=rule.apply(sourceFile);for(var _a=0,ruleFailures_1=ruleFailures;_a<ruleFailures_1.length;_a++){var ruleFailure=ruleFailures_1[_a];this.containsRule(this.failures,ruleFailure)||this.failures.push(ruleFailure)}}},WebLinter.prototype.getResult=function(){var formatter=new Linter.Formatters.JsonFormatter,output=formatter.format(this.failures);return{failureCount:this.failures.length,failures:this.failures,format:"json",output:output}},WebLinter.prototype.reset=function(){this.failures.length=0},WebLinter.prototype.containsRule=function(rules,rule){return rules.some(function(r){return r.equals(rule)})},WebLinter}();exports.WebLinter=WebLinter},{"tslint/lib/lint":286,typescript:296}],3:[function(require,module,exports){!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports,require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core"],factory):factory((global.ng=global.ng||{},global.ng.compiler=global.ng.compiler||{}),global.ng.core)}(this,function(exports,_angular_core){"use strict";function templateVisitAll(visitor,asts,context){void 0===context&&(context=null);var result=[],visit=visitor.visit?function(ast){return visitor.visit(ast,context)||ast.visit(visitor,context)}:function(ast){return ast.visit(visitor,context)};return asts.forEach(function(ast){var astResult=visit(ast);astResult&&result.push(astResult)}),result}function isPresent(obj){return void 0!==obj&&null!==obj}function isBlank(obj){return void 0===obj||null===obj}function isStrictStringMap(obj){return"object"==typeof obj&&null!==obj&&Object.getPrototypeOf(obj)===STRING_MAP_PROTO}function stringify(token){if("string"==typeof token)return token;if(void 0===token||null===token)return""+token;if(token.overriddenName)return token.overriddenName;if(token.name)return token.name;var res=token.toString(),newLineIndex=res.indexOf("\n");return-1===newLineIndex?res:res.substring(0,newLineIndex)}function normalizeBlank(obj){return isBlank(obj)?null:obj}function normalizeBool(obj){return isBlank(obj)?!1:obj}function isJsObject(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function isPrimitive(obj){return!isJsObject(obj)}function escapeRegExp(s){return s.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function _flattenArray(source,target){if(isPresent(source))for(var i=0;i<source.length;i++){var item=source[i];Array.isArray(item)?_flattenArray(item,target):target.push(item)}return target}function splitNsName(elementName){if(":"!=elementName[0])return[null,elementName];var colonIndex=elementName.indexOf(":",1);if(-1==colonIndex)throw new Error('Unsupported format "'+elementName+'" expecting ":namespace:name"');return[elementName.slice(1,colonIndex),elementName.slice(colonIndex+1)]}function getNsPrefix(fullName){return null===fullName?null:splitNsName(fullName)[0]}function mergeNsAndName(prefix,localName){return prefix?":"+prefix+":"+localName:localName}function getHtmlTagDefinition(tagName){return TAG_DEFINITIONS[tagName.toLowerCase()]||_DEFAULT_TAG_DEFINITION}function replaceVarInExpression(varName,newValue,expression){var transformer=new _ReplaceVariableTransformer(varName,newValue);return expression.visitExpression(transformer,null)}function findReadVarNames(stmts){var finder=new _VariableFinder;return finder.visitAllStatements(stmts,null),finder.varNames}function variable(name,type){return void 0===type&&(type=null),new ReadVarExpr(name,type)}function importExpr(id,typeParams){return void 0===typeParams&&(typeParams=null),new ExternalExpr(id,null,typeParams)}function importType(id,typeParams,typeModifiers){return void 0===typeParams&&(typeParams=null),void 0===typeModifiers&&(typeModifiers=null),isPresent(id)?new ExternalType(id,typeParams,typeModifiers):null}function literalArr(values,type){return void 0===type&&(type=null),new LiteralArrayExpr(values,type)}function literalMap(values,type){return void 0===type&&(type=null),new LiteralMapExpr(values,type)}function not(expr){return new NotExpr(expr)}function fn(params,body,type){return void 0===type&&(type=null),new FunctionExpr(params,body,type)}function literal(value,type){return void 0===type&&(type=null),new LiteralExpr(value,type)}function splitAtColon(input,defaultValues){return _splitAt(input,":",defaultValues)}function splitAtPeriod(input,defaultValues){return _splitAt(input,".",defaultValues)}function _splitAt(input,character,defaultValues){var characterIndex=input.indexOf(character);return-1==characterIndex?defaultValues:[input.slice(0,characterIndex).trim(),input.slice(characterIndex+1).trim()]}function sanitizeIdentifier(name){return name.replace(/\W/g,"_")}function visitValue(value,visitor,context){return Array.isArray(value)?visitor.visitArray(value,context):isStrictStringMap(value)?visitor.visitStringMap(value,context):isBlank(value)||isPrimitive(value)?visitor.visitPrimitive(value,context):visitor.visitOther(value,context)}function assetUrl(pkg,path,type){return void 0===path&&(path=null),void 0===type&&(type="src"),null==path?"asset:@angular/lib/"+pkg+"/index":"asset:@angular/lib/"+pkg+"/src/"+path}function createDiTokenExpression(token){return isPresent(token.value)?literal(token.value):token.identifierIsInstance?importExpr(token.identifier).instantiate([],importType(token.identifier,[],[TypeModifier.Const])):importExpr(token.identifier)}function unimplemented(){throw new Error("unimplemented")}function createHostComponentMeta(compMeta){var template=CssSelector.parse(compMeta.selector)[0].getMatchingElementTemplate();return CompileDirectiveMetadata.create({type:new CompileTypeMetadata({reference:Object,name:compMeta.type.name+"_Host",moduleUrl:compMeta.type.moduleUrl,isHost:!0}),template:new CompileTemplateMetadata({encapsulation:_angular_core.ViewEncapsulation.None,template:template,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[],animations:[]}),changeDetection:_angular_core.ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],viewQueries:[]})}function removeIdentifierDuplicates(items){var map=new Map;return items.forEach(function(item){map.get(item.identifier.reference)||map.set(item.identifier.reference,item)}),MapWrapper.values(map)}function _normalizeArray(obj){return obj||[]}function isStaticSymbol(value){return"object"==typeof value&&null!==value&&value.name&&value.filePath}function isWhitespace(code){return code>=$TAB&&$SPACE>=code||code==$NBSP}function isDigit(code){return code>=$0&&$9>=code}function isAsciiLetter(code){return code>=$a&&$z>=code||code>=$A&&$Z>=code}function isAsciiHexDigit(code){return code>=$a&&$f>=code||code>=$A&&$F>=code||isDigit(code)}function assertArrayOfStrings(identifier,value){if(_angular_core.isDevMode()&&!isBlank(value)){if(!Array.isArray(value))throw new Error("Expected '"+identifier+"' to be an array of strings.");for(var i=0;i<value.length;i+=1)if("string"!=typeof value[i])throw new Error("Expected '"+identifier+"' to be an array of strings.")}}function assertInterpolationSymbols(identifier,value){if(isPresent(value)&&(!Array.isArray(value)||2!=value.length))throw new Error("Expected '"+identifier+"' to be an array, [start, end].");if(_angular_core.isDevMode()&&!isBlank(value)){var start_1=value[0],end_1=value[1];INTERPOLATION_BLACKLIST_REGEXPS.forEach(function(regexp){if(regexp.test(start_1)||regexp.test(end_1))throw new Error("['"+start_1+"', '"+end_1+"'] contains unusable interpolation symbol.")})}}function newCharacterToken(index,code){return new Token(index,exports.TokenType.Character,code,String.fromCharCode(code))}function newIdentifierToken(index,text){return new Token(index,exports.TokenType.Identifier,0,text)}function newKeywordToken(index,text){return new Token(index,exports.TokenType.Keyword,0,text)}function newOperatorToken(index,text){return new Token(index,exports.TokenType.Operator,0,text)}function newStringToken(index,text){return new Token(index,exports.TokenType.String,0,text)}function newNumberToken(index,n){return new Token(index,exports.TokenType.Number,n,"")}function newErrorToken(index,message){return new Token(index,exports.TokenType.Error,0,message)}function isIdentifierStart(code){return code>=$a&&$z>=code||code>=$A&&$Z>=code||code==$_||code==$$}function isIdentifier(input){if(0==input.length)return!1;var scanner=new _Scanner(input);if(!isIdentifierStart(scanner.peek))return!1;for(scanner.advance();scanner.peek!==$EOF;){if(!isIdentifierPart(scanner.peek))return!1;scanner.advance()}return!0}function isIdentifierPart(code){return isAsciiLetter(code)||isDigit(code)||code==$_||code==$$}function isExponentStart(code){return code==$e||code==$E}function isExponentSign(code){return code==$MINUS||code==$PLUS}function isQuote(code){return code===$SQ||code===$DQ||code===$BT}function unescape(code){switch(code){case $n:return $LF;case $f:return $FF;case $r:return $CR;case $t:return $TAB;case $v:return $VTAB;default:return code}}function _createInterpolateRegExp(config){var pattern=escapeRegExp(config.start)+"([\\s\\S]*?)"+escapeRegExp(config.end);return new RegExp(pattern,"g")}function visitAll(visitor,nodes,context){void 0===context&&(context=null);var result=[],visit=visitor.visit?function(ast){return visitor.visit(ast,context)||ast.visit(visitor,context)}:function(ast){return ast.visit(visitor,context)};return nodes.forEach(function(ast){var astResult=visit(ast);astResult&&result.push(astResult)}),result}function tokenize(source,url,getTagDefinition,tokenizeExpansionForms,interpolationConfig){return void 0===tokenizeExpansionForms&&(tokenizeExpansionForms=!1),void 0===interpolationConfig&&(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG),new _Tokenizer(new ParseSourceFile(source,url),getTagDefinition,tokenizeExpansionForms,interpolationConfig).tokenize()}function _unexpectedCharacterErrorMsg(charCode){var char=charCode===$EOF?"EOF":String.fromCharCode(charCode);return'Unexpected character "'+char+'"'}function _unknownEntityErrorMsg(entitySrc){return'Unknown entity "'+entitySrc+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}function isNotWhitespace(code){return!isWhitespace(code)||code===$EOF}function isNameEnd(code){return isWhitespace(code)||code===$GT||code===$SLASH||code===$SQ||code===$DQ||code===$EQ}function isPrefixEnd(code){return($a>code||code>$z)&&($A>code||code>$Z)&&($0>code||code>$9)}function isDigitEntityEnd(code){return code==$SEMICOLON||code==$EOF||!isAsciiHexDigit(code)}function isNamedEntityEnd(code){return code==$SEMICOLON||code==$EOF||!isAsciiLetter(code)}function isExpansionFormStart(input,offset,interpolationConfig){var isInterpolationStart=interpolationConfig?input.indexOf(interpolationConfig.start,offset)==offset:!1;return input.charCodeAt(offset)==$LBRACE&&!isInterpolationStart}function isExpansionCaseStart(peek){return peek===$EQ||isAsciiLetter(peek)}function compareCharCodeCaseInsensitive(code1,code2){return toUpperCaseCharCode(code1)==toUpperCaseCharCode(code2)}function toUpperCaseCharCode(code){return code>=$a&&$z>=code?code-$a+$A:code}function mergeTextTokens(srcTokens){for(var lastDstToken,dstTokens=[],i=0;i<srcTokens.length;i++){var token=srcTokens[i];lastDstToken&&lastDstToken.type==TokenType$1.TEXT&&token.type==TokenType$1.TEXT?(lastDstToken.parts[0]+=token.parts[0],lastDstToken.sourceSpan.end=token.sourceSpan.end):(lastDstToken=token,dstTokens.push(lastDstToken))}return dstTokens}function lastOnStack(stack,element){return stack.length>0&&stack[stack.length-1]===element}function digestMessage(message){return sha1(serializeNodes(message.nodes).join("")+("["+message.meaning+"]"))}function serializeNodes(nodes){return nodes.map(function(a){return a.visit(serializerVisitor,null)})}function sha1(str){var utf8=utf8Encode(str),words32=stringToWords32(utf8),len=8*utf8.length,w=new Array(80),_a=[1732584193,4023233417,2562383102,271733878,3285377520],a=_a[0],b=_a[1],c=_a[2],d=_a[3],e=_a[4];words32[len>>5]|=128<<24-len%32,words32[(len+64>>9<<4)+15]=len;for(var i=0;i<words32.length;i+=16){for(var _b=[a,b,c,d,e],h0=_b[0],h1=_b[1],h2=_b[2],h3=_b[3],h4=_b[4],j=0;80>j;j++){16>j?w[j]=words32[i+j]:w[j]=rol32(w[j-3]^w[j-8]^w[j-14]^w[j-16],1);var _c=fk(j,b,c,d),f=_c[0],k=_c[1],temp=[rol32(a,5),f,e,k,w[j]].reduce(add32);_d=[d,c,rol32(b,30),a,temp],e=_d[0],d=_d[1],c=_d[2],b=_d[3],a=_d[4]}_e=[add32(a,h0),add32(b,h1),add32(c,h2),add32(d,h3),add32(e,h4)],a=_e[0],b=_e[1],c=_e[2],d=_e[3],e=_e[4]}for(var sha1=words32ToString([a,b,c,d,e]),hex="",i=0;i<sha1.length;i++){var b_1=sha1.charCodeAt(i);hex+=(b_1>>>4&15).toString(16)+(15&b_1).toString(16)}return hex.toLowerCase();var _d,_e}function utf8Encode(str){for(var encoded="",index=0;index<str.length;index++){var codePoint=decodeSurrogatePairs(str,index);127>=codePoint?encoded+=String.fromCharCode(codePoint):2047>=codePoint?encoded+=String.fromCharCode(192|codePoint>>>6,128|63&codePoint):65535>=codePoint?encoded+=String.fromCharCode(224|codePoint>>>12,128|codePoint>>>6&63,128|63&codePoint):2097151>=codePoint&&(encoded+=String.fromCharCode(240|codePoint>>>18,128|codePoint>>>12&63,128|codePoint>>>6&63,128|63&codePoint))}return encoded}function decodeSurrogatePairs(str,index){if(0>index||index>=str.length)throw new Error("index="+index+' is out of range in "'+str+'"');var low,high=str.charCodeAt(index);return high>=55296&&57343>=high&&str.length>index+1&&(low=str.charCodeAt(index+1),low>=56320&&57343>=low)?1024*(high-55296)+low-56320+65536:high}function stringToWords32(str){for(var words32=Array(str.length>>>2),i=0;i<words32.length;i++)words32[i]=0;for(var i=0;i<str.length;i++)words32[i>>>2]|=(255&str.charCodeAt(i))<<8*(3-i&3);return words32}function words32ToString(words32){for(var str="",i=0;i<4*words32.length;i++)str+=String.fromCharCode(words32[i>>>2]>>>8*(3-i&3)&255);return str}function fk(index,b,c,d){return 20>index?[b&c|~b&d,1518500249]:40>index?[b^c^d,1859775393]:60>index?[b&c|b&d|c&d,2400959708]:[b^c^d,3395469782]}function add32(a,b){var low=(65535&a)+(65535&b),high=(a>>16)+(b>>16)+(low>>16);return high<<16|65535&low}function rol32(a,count){return a<<count|a>>>32-count}function createI18nMessageFactory(interpolationConfig){var visitor=new _I18nVisitor(_expParser,interpolationConfig);return function(nodes,meaning,description){return visitor.toI18nMessage(nodes,meaning,description)}}function _extractPlaceholderName(input){return input.split(_CUSTOM_PH_EXP)[1]}function extractMessages(nodes,interpolationConfig,implicitTags,implicitAttrs){var visitor=new _Visitor(implicitTags,implicitAttrs);return visitor.extract(nodes,interpolationConfig)}function mergeTranslations(nodes,translations,interpolationConfig,implicitTags,implicitAttrs){var visitor=new _Visitor(implicitTags,implicitAttrs);return visitor.merge(nodes,translations,interpolationConfig)}function _isOpeningComment(n){return n instanceof Comment&&n.value&&n.value.startsWith("i18n")}function _isClosingComment(n){return n instanceof Comment&&n.value&&"/i18n"===n.value}function _getI18nAttr(p){return p.attrs.find(function(attr){return attr.name===_I18N_ATTR})||null}function _splitMeaningAndDesc(i18n){if(!i18n)return["",""];var pipeIndex=i18n.indexOf("|");return-1==pipeIndex?["",i18n]:[i18n.slice(0,pipeIndex),i18n.slice(pipeIndex+1)]}function getXmlTagDefinition(tagName){return _TAG_DEFINITION}function extractPlaceholders(messageBundle){var messageMap=messageBundle.getMessageMap(),placeholders={};return Object.keys(messageMap).forEach(function(msgId){placeholders[msgId]=messageMap[msgId].placeholders}),placeholders}function extractPlaceholderToIds(messageBundle){var messageMap=messageBundle.getMessageMap(),placeholderToIds={};return Object.keys(messageMap).forEach(function(msgId){placeholderToIds[msgId]=messageMap[msgId].placeholderToMsgIds}),placeholderToIds}function serialize(nodes){return nodes.map(function(node){return node.visit(_visitor)}).join("")}function _escapeXml(text){return _ESCAPED_CHARS.reduce(function(text,entry){return text.replace(entry[0],entry[1])},text)}function getCtypeForTag(tag){switch(tag.toLowerCase()){case"br":return"lb";case"img":return"image";default:return"x-"+tag}}function resolveIdentifier(identifier){return new CompileIdentifierMetadata({name:identifier.name,moduleUrl:identifier.moduleUrl,reference:reflector.resolveIdentifier(identifier.name,identifier.moduleUrl,identifier.runtime)})}function identifierToken(identifier){return new CompileTokenMetadata({identifier:identifier})}function resolveIdentifierToken(identifier){return identifierToken(resolveIdentifier(identifier))}function resolveEnumIdentifier(enumType,name){var resolvedEnum=reflector.resolveEnum(enumType.reference,name);return new CompileIdentifierMetadata({name:enumType.name+"."+name,moduleUrl:enumType.moduleUrl,reference:resolvedEnum})}function expandNodes(nodes){var expander=new _Expander;return new ExpansionResult(visitAll(expander,nodes),expander.isExpanded,expander.errors)}function _expandPluralForm(ast,errors){var children=ast.cases.map(function(c){-1!=PLURAL_CASES.indexOf(c.value)||c.value.match(/^=\d+$/)||errors.push(new ExpansionError(c.valueSourceSpan,'Plural cases should be "=<number>" or one of '+PLURAL_CASES.join(", ")));var expansionResult=expandNodes(c.expression);return errors.push.apply(errors,expansionResult.errors),new Element("template",[new Attribute$1("ngPluralCase",""+c.value,c.valueSourceSpan)],expansionResult.nodes,c.sourceSpan,c.sourceSpan,c.sourceSpan)}),switchAttr=new Attribute$1("[ngPlural]",ast.switchValue,ast.switchValueSourceSpan);return new Element("ng-container",[switchAttr],children,ast.sourceSpan,ast.sourceSpan,ast.sourceSpan)}function _expandDefaultForm(ast,errors){var children=ast.cases.map(function(c){var expansionResult=expandNodes(c.expression);return errors.push.apply(errors,expansionResult.errors),new Element("template",[new Attribute$1("ngSwitchCase",""+c.value,c.valueSourceSpan)],expansionResult.nodes,c.sourceSpan,c.sourceSpan,c.sourceSpan)}),switchAttr=new Attribute$1("[ngSwitch]",ast.switchValue,ast.switchValueSourceSpan);return new Element("ng-container",[switchAttr],children,ast.sourceSpan,ast.sourceSpan,ast.sourceSpan)}function _transformProvider(provider,_a){var useExisting=_a.useExisting,useValue=_a.useValue,deps=_a.deps;return new CompileProviderMetadata({token:provider.token,useClass:provider.useClass,useExisting:useExisting,useFactory:provider.useFactory,useValue:useValue,deps:deps,multi:provider.multi})}function _transformProviderAst(provider,_a){var eager=_a.eager,providers=_a.providers;return new ProviderAst(provider.token,provider.multiProvider,provider.eager||eager,providers,provider.providerType,provider.lifecycleHooks,provider.sourceSpan)}function _normalizeProviders(providers,sourceSpan,targetErrors,targetProviders){return void 0===targetProviders&&(targetProviders=null),targetProviders||(targetProviders=[]),isPresent(providers)&&providers.forEach(function(provider){if(Array.isArray(provider))_normalizeProviders(provider,sourceSpan,targetErrors,targetProviders);else{var normalizeProvider=void 0;provider instanceof CompileProviderMetadata?normalizeProvider=provider:provider instanceof CompileTypeMetadata?normalizeProvider=new CompileProviderMetadata({token:new CompileTokenMetadata({identifier:provider}),useClass:provider}):targetErrors.push(new ProviderError("Unknown provider type "+provider,sourceSpan)),isPresent(normalizeProvider)&&targetProviders.push(normalizeProvider)}}),targetProviders}function _resolveProvidersFromDirectives(directives,sourceSpan,targetErrors){var providersByToken=new Map;directives.forEach(function(directive){var dirProvider=new CompileProviderMetadata({token:new CompileTokenMetadata({identifier:directive.type}),useClass:directive.type});_resolveProviders([dirProvider],directive.isComponent?exports.ProviderAstType.Component:exports.ProviderAstType.Directive,!0,sourceSpan,targetErrors,providersByToken)});var directivesWithComponentFirst=directives.filter(function(dir){return dir.isComponent}).concat(directives.filter(function(dir){return!dir.isComponent}));return directivesWithComponentFirst.forEach(function(directive){_resolveProviders(_normalizeProviders(directive.providers,sourceSpan,targetErrors),exports.ProviderAstType.PublicService,!1,sourceSpan,targetErrors,providersByToken),_resolveProviders(_normalizeProviders(directive.viewProviders,sourceSpan,targetErrors),exports.ProviderAstType.PrivateService,!1,sourceSpan,targetErrors,providersByToken)}),providersByToken}function _resolveProviders(providers,providerType,eager,sourceSpan,targetErrors,targetProvidersByToken){providers.forEach(function(provider){var resolvedProvider=targetProvidersByToken.get(provider.token.reference);if(isPresent(resolvedProvider)&&resolvedProvider.multiProvider!==provider.multi&&targetErrors.push(new ProviderError("Mixing multi and non multi provider is not possible for token "+resolvedProvider.token.name,sourceSpan)),resolvedProvider)provider.multi||ListWrapper.clear(resolvedProvider.providers),resolvedProvider.providers.push(provider);else{var lifecycleHooks=provider.token.identifier&&provider.token.identifier instanceof CompileTypeMetadata?provider.token.identifier.lifecycleHooks:[];resolvedProvider=new ProviderAst(provider.token,provider.multi,eager||lifecycleHooks.length>0,[provider],providerType,lifecycleHooks,sourceSpan),targetProvidersByToken.set(provider.token.reference,resolvedProvider)}})}function _getViewQueries(component){var viewQueries=new Map;return isPresent(component.viewQueries)&&component.viewQueries.forEach(function(query){return _addQueryToTokenMap(viewQueries,query)}),component.type.diDeps.forEach(function(dep){isPresent(dep.viewQuery)&&_addQueryToTokenMap(viewQueries,dep.viewQuery)}),viewQueries}function _getContentQueries(directives){var contentQueries=new Map;return directives.forEach(function(directive){isPresent(directive.queries)&&directive.queries.forEach(function(query){return _addQueryToTokenMap(contentQueries,query)}),directive.type.diDeps.forEach(function(dep){isPresent(dep.query)&&_addQueryToTokenMap(contentQueries,dep.query)})}),contentQueries}function _addQueryToTokenMap(map,query){query.selectors.forEach(function(token){var entry=map.get(token.reference);entry||(entry=[],map.set(token.reference,entry)),entry.push(query)})}function isStyleUrlResolvable(url){if(isBlank(url)||0===url.length||"/"==url[0])return!1;var schemeMatch=url.match(_urlWithSchemaRe);return null===schemeMatch||"package"==schemeMatch[1]||"asset"==schemeMatch[1]}function extractStyleUrls(resolver,baseUrl,cssText){var foundUrls=[],modifiedCssText=cssText.replace(_cssImportRe,function(){for(var m=[],_i=0;_i<arguments.length;_i++)m[_i-0]=arguments[_i];var url=m[1]||m[2];return isStyleUrlResolvable(url)?(foundUrls.push(resolver.resolve(baseUrl,url)),""):m[0]});return new StyleWithImports(modifiedCssText,foundUrls)}function preparseElement(ast){var selectAttr=null,hrefAttr=null,relAttr=null,nonBindable=!1,projectAs=null;ast.attrs.forEach(function(attr){var lcAttrName=attr.name.toLowerCase();lcAttrName==NG_CONTENT_SELECT_ATTR?selectAttr=attr.value:lcAttrName==LINK_STYLE_HREF_ATTR?hrefAttr=attr.value:lcAttrName==LINK_STYLE_REL_ATTR?relAttr=attr.value:attr.name==NG_NON_BINDABLE_ATTR?nonBindable=!0:attr.name==NG_PROJECT_AS&&attr.value.length>0&&(projectAs=attr.value)}),selectAttr=normalizeNgContentSelect(selectAttr);var nodeName=ast.name.toLowerCase(),type=PreparsedElementType.OTHER;return splitNsName(nodeName)[1]==NG_CONTENT_ELEMENT?type=PreparsedElementType.NG_CONTENT:nodeName==STYLE_ELEMENT?type=PreparsedElementType.STYLE:nodeName==SCRIPT_ELEMENT?type=PreparsedElementType.SCRIPT:nodeName==LINK_ELEMENT&&relAttr==LINK_STYLE_REL_VALUE&&(type=PreparsedElementType.STYLESHEET),new PreparsedElement(type,selectAttr,hrefAttr,nonBindable,projectAs)}function normalizeNgContentSelect(selectAttr){return null===selectAttr||0===selectAttr.length?"*":selectAttr}function splitClasses(classAttrValue){return classAttrValue.trim().split(/\s+/g)}function createElementCssSelector(elementName,matchableAttrs){var cssSelector=new CssSelector,elNameNoNs=splitNsName(elementName)[1];cssSelector.setElement(elNameNoNs);for(var i=0;i<matchableAttrs.length;i++){var attrName=matchableAttrs[i][0],attrNameNoNs=splitNsName(attrName)[1],attrValue=matchableAttrs[i][1];if(cssSelector.addAttribute(attrNameNoNs,attrValue),attrName.toLowerCase()==CLASS_ATTR){var classes=splitClasses(attrValue);classes.forEach(function(className){return cssSelector.addClassName(className)})}}return cssSelector}function _isAnimationLabel(name){return"@"==name[0]}function _isEmptyTextNode(node){return node instanceof Text&&0==node.value.trim().length}function unimplemented$1(){throw new Error("unimplemented")}function _compareToAnimationStateExpr(value,animationState){var emptyStateLiteral=literal(EMPTY_ANIMATION_STATE);switch(animationState){case EMPTY_ANIMATION_STATE:return value.equals(emptyStateLiteral);case ANY_STATE:return literal(!0);default:return value.equals(literal(animationState))}}function _isEndStateAnimateStep(step){if(step instanceof AnimationStepAst&&step.duration>0&&2==step.keyframes.length){var styles1=_getStylesArray(step.keyframes[0])[0],styles2=_getStylesArray(step.keyframes[1])[0];return 0===Object.keys(styles1).length&&0===Object.keys(styles2).length}return!1}function _getStylesArray(obj){return obj.styles.styles}function _parseAnimationDeclarationStates(stateMetadata,errors){var styleValues=[];stateMetadata.styles.styles.forEach(function(stylesEntry){"object"==typeof stylesEntry&&null!==stylesEntry?styleValues.push(stylesEntry):errors.push(new AnimationParseError("State based animations cannot contain references to other states"))});var defStyles=new AnimationStylesAst(styleValues),states=stateMetadata.stateNameExpr.split(/\s*,\s*/);return states.map(function(state){return new AnimationStateDeclarationAst(state,defStyles)})}function _parseAnimationStateTransition(transitionStateMetadata,stateStyles,errors){var styles=new StylesCollection,transitionExprs=[],transitionStates=transitionStateMetadata.stateChangeExpr.split(/\s*,\s*/);transitionStates.forEach(function(expr){transitionExprs.push.apply(transitionExprs,_parseAnimationTransitionExpr(expr,errors))});var entry=_normalizeAnimationEntry(transitionStateMetadata.steps),animation=_normalizeStyleSteps(entry,stateStyles,errors),animationAst=_parseTransitionAnimation(animation,0,styles,stateStyles,errors);0==errors.length&&_fillAnimationAstStartingKeyframes(animationAst,styles,errors);var stepsAst=animationAst instanceof AnimationWithStepsAst?animationAst:new AnimationSequenceAst([animationAst]);return new AnimationStateTransitionAst(transitionExprs,stepsAst)}function _parseAnimationAlias(alias,errors){switch(alias){case":enter":return"void => *";case":leave":return"* => void";default:return errors.push(new AnimationParseError('the transition alias value "'+alias+'" is not supported')),"* => *"}}function _parseAnimationTransitionExpr(eventStr,errors){var expressions=[];":"==eventStr[0]&&(eventStr=_parseAnimationAlias(eventStr,errors));var match=eventStr.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(!isPresent(match)||match.length<4)return errors.push(new AnimationParseError("the provided "+eventStr+" is not of a supported format")),expressions;var fromState=match[1],separator=match[2],toState=match[3];expressions.push(new AnimationStateTransitionExpression(fromState,toState));var isFullAnyStateExpr=fromState==ANY_STATE&&toState==ANY_STATE;return"<"!=separator[0]||isFullAnyStateExpr||expressions.push(new AnimationStateTransitionExpression(toState,fromState)),expressions}function _normalizeAnimationEntry(entry){return Array.isArray(entry)?new CompileAnimationSequenceMetadata(entry):entry}function _normalizeStyleMetadata(entry,stateStyles,errors){var normalizedStyles=[];return entry.styles.forEach(function(styleEntry){"string"==typeof styleEntry?ListWrapper.addAll(normalizedStyles,_resolveStylesFromState(styleEntry,stateStyles,errors)):normalizedStyles.push(styleEntry)}),normalizedStyles}function _normalizeStyleSteps(entry,stateStyles,errors){var steps=_normalizeStyleStepEntry(entry,stateStyles,errors);return entry instanceof CompileAnimationGroupMetadata?new CompileAnimationGroupMetadata(steps):new CompileAnimationSequenceMetadata(steps)}function _mergeAnimationStyles(stylesList,newItem){if("object"==typeof newItem&&null!==newItem&&stylesList.length>0){var lastIndex=stylesList.length-1,lastItem=stylesList[lastIndex];if("object"==typeof lastItem&&null!==lastItem)return void(stylesList[lastIndex]=StringMapWrapper.merge(lastItem,newItem))}stylesList.push(newItem)}function _normalizeStyleStepEntry(entry,stateStyles,errors){var steps;if(!(entry instanceof CompileAnimationWithStepsMetadata))return[entry];steps=entry.steps;var combinedStyles,newSteps=[];
return steps.forEach(function(step){if(step instanceof CompileAnimationStyleMetadata)isPresent(combinedStyles)||(combinedStyles=[]),_normalizeStyleMetadata(step,stateStyles,errors).forEach(function(entry){_mergeAnimationStyles(combinedStyles,entry)});else{if(isPresent(combinedStyles)&&(newSteps.push(new CompileAnimationStyleMetadata(0,combinedStyles)),combinedStyles=null),step instanceof CompileAnimationAnimateMetadata){var animateStyleValue=step.styles;animateStyleValue instanceof CompileAnimationStyleMetadata?animateStyleValue.styles=_normalizeStyleMetadata(animateStyleValue,stateStyles,errors):animateStyleValue instanceof CompileAnimationKeyframesSequenceMetadata&&animateStyleValue.steps.forEach(function(step){step.styles=_normalizeStyleMetadata(step,stateStyles,errors)})}else if(step instanceof CompileAnimationWithStepsMetadata){var innerSteps=_normalizeStyleStepEntry(step,stateStyles,errors);step=step instanceof CompileAnimationGroupMetadata?new CompileAnimationGroupMetadata(innerSteps):new CompileAnimationSequenceMetadata(innerSteps)}newSteps.push(step)}}),isPresent(combinedStyles)&&newSteps.push(new CompileAnimationStyleMetadata(0,combinedStyles)),newSteps}function _resolveStylesFromState(stateName,stateStyles,errors){var styles=[];if(":"!=stateName[0])errors.push(new AnimationParseError('Animation states via styles must be prefixed with a ":"'));else{var normalizedStateName=stateName.substring(1),value=stateStyles[normalizedStateName];isPresent(value)?value.styles.forEach(function(stylesEntry){"object"==typeof stylesEntry&&null!==stylesEntry&&styles.push(stylesEntry)}):errors.push(new AnimationParseError('Unable to apply styles due to missing a state: "'+normalizedStateName+'"'))}return styles}function _parseAnimationKeyframes(keyframeSequence,currentTime,collectedStyles,stateStyles,errors){var totalEntries=keyframeSequence.steps.length,totalOffsets=0;keyframeSequence.steps.forEach(function(step){return totalOffsets+=isPresent(step.offset)?1:0}),totalOffsets>0&&totalEntries>totalOffsets&&(errors.push(new AnimationParseError("Not all style() entries contain an offset for the provided keyframe()")),totalOffsets=totalEntries);var limit=totalEntries-1,margin=0==totalOffsets?1/limit:0,rawKeyframes=[],index=0,doSortKeyframes=!1,lastOffset=0;keyframeSequence.steps.forEach(function(styleMetadata){var offset=styleMetadata.offset,keyframeStyles={};styleMetadata.styles.forEach(function(entry){Object.keys(entry).forEach(function(prop){"offset"!=prop&&(keyframeStyles[prop]=entry[prop])})}),isPresent(offset)?doSortKeyframes=doSortKeyframes||lastOffset>offset:offset=index==limit?_TERMINAL_KEYFRAME:margin*index,rawKeyframes.push([offset,keyframeStyles]),lastOffset=offset,index++}),doSortKeyframes&&ListWrapper.sort(rawKeyframes,function(a,b){return a[0]<=b[0]?-1:1});var firstKeyframe=rawKeyframes[0];firstKeyframe[0]!=_INITIAL_KEYFRAME&&ListWrapper.insert(rawKeyframes,0,firstKeyframe=[_INITIAL_KEYFRAME,{}]);var firstKeyframeStyles=firstKeyframe[1];limit=rawKeyframes.length-1;var lastKeyframe=rawKeyframes[limit];lastKeyframe[0]!=_TERMINAL_KEYFRAME&&(rawKeyframes.push(lastKeyframe=[_TERMINAL_KEYFRAME,{}]),limit++);for(var lastKeyframeStyles=lastKeyframe[1],i=1;limit>=i;i++){var entry=rawKeyframes[i],styles=entry[1];Object.keys(styles).forEach(function(prop){isPresent(firstKeyframeStyles[prop])||(firstKeyframeStyles[prop]=FILL_STYLE_FLAG)})}for(var _loop_1=function(i){var entry=rawKeyframes[i],styles=entry[1];Object.keys(styles).forEach(function(prop){isPresent(lastKeyframeStyles[prop])||(lastKeyframeStyles[prop]=styles[prop])})},i=limit-1;i>=0;i--)_loop_1(i);return rawKeyframes.map(function(entry){return new AnimationKeyframeAst(entry[0],new AnimationStylesAst([entry[1]]))})}function _parseTransitionAnimation(entry,currentTime,collectedStyles,stateStyles,errors){var ast,playTime=0,startingTime=currentTime;if(entry instanceof CompileAnimationWithStepsMetadata){var previousStyles,maxDuration=0,steps=[],isGroup=entry instanceof CompileAnimationGroupMetadata;if(entry.steps.forEach(function(entry){var time=isGroup?startingTime:currentTime;if(entry instanceof CompileAnimationStyleMetadata)return entry.styles.forEach(function(stylesEntry){var map=stylesEntry;Object.keys(map).forEach(function(prop){collectedStyles.insertAtTime(prop,time,map[prop])})}),void(previousStyles=entry.styles);var innerAst=_parseTransitionAnimation(entry,time,collectedStyles,stateStyles,errors);if(isPresent(previousStyles)){if(entry instanceof CompileAnimationWithStepsMetadata){var startingStyles=new AnimationStylesAst(previousStyles);steps.push(new AnimationStepAst(startingStyles,[],0,0,""))}else{var innerStep=innerAst;ListWrapper.addAll(innerStep.startingStyles.styles,previousStyles)}previousStyles=null}var astDuration=innerAst.playTime;currentTime+=astDuration,playTime+=astDuration,maxDuration=Math.max(astDuration,maxDuration),steps.push(innerAst)}),isPresent(previousStyles)){var startingStyles=new AnimationStylesAst(previousStyles);steps.push(new AnimationStepAst(startingStyles,[],0,0,""))}isGroup?(ast=new AnimationGroupAst(steps),playTime=maxDuration,currentTime=startingTime+playTime):ast=new AnimationSequenceAst(steps)}else if(entry instanceof CompileAnimationAnimateMetadata){var keyframes,timings=_parseTimeExpression(entry.timings,errors),styles=entry.styles;if(styles instanceof CompileAnimationKeyframesSequenceMetadata)keyframes=_parseAnimationKeyframes(styles,currentTime,collectedStyles,stateStyles,errors);else{var styleData=styles,offset=_TERMINAL_KEYFRAME,styleAst=new AnimationStylesAst(styleData.styles),keyframe=new AnimationKeyframeAst(offset,styleAst);keyframes=[keyframe]}ast=new AnimationStepAst(new AnimationStylesAst([]),keyframes,timings.duration,timings.delay,timings.easing),playTime=timings.duration+timings.delay,currentTime+=playTime,keyframes.forEach(function(keyframe){return keyframe.styles.styles.forEach(function(entry){return Object.keys(entry).forEach(function(prop){collectedStyles.insertAtTime(prop,currentTime,entry[prop])})})})}else ast=new AnimationStepAst(null,[],0,0,"");return ast.playTime=playTime,ast.startTime=startingTime,ast}function _fillAnimationAstStartingKeyframes(ast,collectedStyles,errors){if(ast instanceof AnimationStepAst&&ast.keyframes.length>0){var keyframes=ast.keyframes;if(1==keyframes.length){var endKeyframe=keyframes[0],startKeyframe=_createStartKeyframeFromEndKeyframe(endKeyframe,ast.startTime,ast.playTime,collectedStyles,errors);ast.keyframes=[startKeyframe,endKeyframe]}}else ast instanceof AnimationWithStepsAst&&ast.steps.forEach(function(entry){return _fillAnimationAstStartingKeyframes(entry,collectedStyles,errors)})}function _parseTimeExpression(exp,errors){var duration,regex=/^([\.\d]+)(m?s)(?:\s+([\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?/i,delay=0,easing=null;if("string"==typeof exp){var matches=exp.match(regex);if(null===matches)return errors.push(new AnimationParseError('The provided timing value "'+exp+'" is invalid.')),new _AnimationTimings(0,0,null);var durationMatch=parseFloat(matches[1]),durationUnit=matches[2];"s"==durationUnit&&(durationMatch*=_ONE_SECOND),duration=Math.floor(durationMatch);var delayMatch=matches[3],delayUnit=matches[4];if(isPresent(delayMatch)){var delayVal=parseFloat(delayMatch);isPresent(delayUnit)&&"s"==delayUnit&&(delayVal*=_ONE_SECOND),delay=Math.floor(delayVal)}var easingVal=matches[5];isBlank(easingVal)||(easing=easingVal)}else duration=exp;return new _AnimationTimings(duration,delay,easing)}function _createStartKeyframeFromEndKeyframe(endKeyframe,startTime,duration,collectedStyles,errors){var values={},endTime=startTime+duration;return endKeyframe.styles.styles.forEach(function(styleData){Object.keys(styleData).forEach(function(prop){var val=styleData[prop];if("offset"!=prop){var resultEntry,nextEntry,value,resultIndex=collectedStyles.indexOfAtOrBeforeTime(prop,startTime);isPresent(resultIndex)?(resultEntry=collectedStyles.getByIndex(prop,resultIndex),value=resultEntry.value,nextEntry=collectedStyles.getByIndex(prop,resultIndex+1)):value=FILL_STYLE_FLAG,isPresent(nextEntry)&&!nextEntry.matches(endTime,val)&&errors.push(new AnimationParseError('The animated CSS property "'+prop+'" unexpectedly changes between steps "'+resultEntry.time+'ms" and "'+endTime+'ms" at "'+nextEntry.time+'ms"')),values[prop]=value}})}),new AnimationKeyframeAst(_INITIAL_KEYFRAME,new AnimationStylesAst([values]))}function detectChangesInternalMethod(lifecycleHooks,logBindingUpdate){var changedVar=variable("changed"),stmts=[changedVar.set(THIS_EXPR.prop(CHANGED_FIELD_NAME)).toDeclStmt(),THIS_EXPR.prop(CHANGED_FIELD_NAME).set(literal(!1)).toStmt()],lifecycleStmts=[];if(lifecycleHooks.genChanges){var onChangesStmts=[];lifecycleHooks.ngOnChanges&&onChangesStmts.push(THIS_EXPR.prop(CONTEXT_FIELD_NAME).callMethod("ngOnChanges",[THIS_EXPR.prop(CHANGES_FIELD_NAME)]).toStmt()),logBindingUpdate&&onChangesStmts.push(importExpr(resolveIdentifier(Identifiers.setBindingDebugInfoForChanges)).callFn([VIEW_VAR.prop("renderer"),RENDER_EL_VAR,THIS_EXPR.prop(CHANGES_FIELD_NAME)]).toStmt()),onChangesStmts.push(RESET_CHANGES_STMT),lifecycleStmts.push(new IfStmt(changedVar,onChangesStmts))}return lifecycleHooks.ngOnInit&&lifecycleStmts.push(new IfStmt(VIEW_VAR.prop("numberOfChecks").identical(new LiteralExpr(0)),[THIS_EXPR.prop(CONTEXT_FIELD_NAME).callMethod("ngOnInit",[]).toStmt()])),lifecycleHooks.ngDoCheck&&lifecycleStmts.push(THIS_EXPR.prop(CONTEXT_FIELD_NAME).callMethod("ngDoCheck",[]).toStmt()),lifecycleStmts.length>0&&stmts.push(new IfStmt(not(THROW_ON_CHANGE_VAR),lifecycleStmts)),stmts.push(new ReturnStatement(changedVar)),new ClassMethod("detectChangesInternal",[new FnParam(VIEW_VAR.name,importType(resolveIdentifier(Identifiers.AppView),[DYNAMIC_TYPE])),new FnParam(RENDER_EL_VAR.name,DYNAMIC_TYPE),new FnParam(THROW_ON_CHANGE_VAR.name,BOOL_TYPE)],stmts,BOOL_TYPE)}function checkInputMethod(input,fieldExpr,lifecycleHooks){var onChangeStatements=[THIS_EXPR.prop(CHANGED_FIELD_NAME).set(literal(!0)).toStmt(),THIS_EXPR.prop(CONTEXT_FIELD_NAME).prop(input).set(CURR_VALUE_VAR).toStmt()];lifecycleHooks.genChanges&&onChangeStatements.push(THIS_EXPR.prop(CHANGES_FIELD_NAME).key(literal(input)).set(importExpr(resolveIdentifier(Identifiers.SimpleChange)).instantiate([fieldExpr,CURR_VALUE_VAR])).toStmt()),onChangeStatements.push(fieldExpr.set(CURR_VALUE_VAR).toStmt());var methodBody=[new IfStmt(FORCE_UPDATE_VAR.or(importExpr(resolveIdentifier(Identifiers.checkBinding)).callFn([THROW_ON_CHANGE_VAR,fieldExpr,CURR_VALUE_VAR])),onChangeStatements)];return new ClassMethod("check_"+input,[new FnParam(CURR_VALUE_VAR.name,DYNAMIC_TYPE),new FnParam(THROW_ON_CHANGE_VAR.name,BOOL_TYPE),new FnParam(FORCE_UPDATE_VAR.name,BOOL_TYPE)],methodBody)}function convertValueToOutputAst(value,type){return void 0===type&&(type=null),visitValue(value,new _ValueOutputAstTransformer,type)}function getPropertyInView(property,callingView,definedView){if(callingView===definedView)return property;for(var viewProp=THIS_EXPR,currView=callingView;currView!==definedView&&isPresent(currView.declarationElement.view);)currView=currView.declarationElement.view,viewProp=viewProp.prop("parent");if(currView!==definedView)throw new Error("Internal error: Could not calculate a property in a parent view: "+property);return property.visitExpression(new _ReplaceViewTransformer(viewProp,definedView),null)}function injectFromViewParentInjector(token,optional){var args=[createDiTokenExpression(token)];return optional&&args.push(NULL_EXPR),THIS_EXPR.prop("parentInjector").callMethod("get",args)}function getViewFactoryName(component,embeddedTemplateIndex){return"viewFactory_"+component.type.name+embeddedTemplateIndex}function createFlatArray(expressions){for(var lastNonArrayExpressions=[],result=literalArr([]),i=0;i<expressions.length;i++){var expr=expressions[i];expr.type instanceof ArrayType?(lastNonArrayExpressions.length>0&&(result=result.callMethod(BuiltinMethod.ConcatArray,[literalArr(lastNonArrayExpressions)]),lastNonArrayExpressions=[]),result=result.callMethod(BuiltinMethod.ConcatArray,[expr])):lastNonArrayExpressions.push(expr)}return lastNonArrayExpressions.length>0&&(result=result.callMethod(BuiltinMethod.ConcatArray,[literalArr(lastNonArrayExpressions)])),result}function createPureProxy(fn,argCount,pureProxyProp,view){view.fields.push(new ClassField(pureProxyProp.name,null));var pureProxyId=argCount<Identifiers.pureProxies.length?Identifiers.pureProxies[argCount]:null;if(!pureProxyId)throw new Error("Unsupported number of argument for pure functions: "+argCount);view.createMethod.addStmt(THIS_EXPR.prop(pureProxyProp.name).set(importExpr(resolveIdentifier(pureProxyId)).callFn([fn])).toStmt())}function createQueryValues(viewValues){return ListWrapper.flatten(viewValues.values.map(function(entry){return entry instanceof ViewQueryValues?mapNestedViews(entry.view.declarationElement.appElement,entry.view,createQueryValues(entry)):entry}))}function mapNestedViews(declarationAppElement,view,expressions){var adjustedExpressions=expressions.map(function(expr){return replaceVarInExpression(THIS_EXPR.name,variable("nestedView"),expr)});return declarationAppElement.callMethod("mapNestedViews",[variable(view.className),fn([new FnParam("nestedView",view.classType)],[new ReturnStatement(literalArr(adjustedExpressions))],DYNAMIC_TYPE)])}function createQueryList(query,directiveInstance,propertyName,compileView){compileView.fields.push(new ClassField(propertyName,importType(resolveIdentifier(Identifiers.QueryList),[DYNAMIC_TYPE])));var expr=THIS_EXPR.prop(propertyName);return compileView.createMethod.addStmt(THIS_EXPR.prop(propertyName).set(importExpr(resolveIdentifier(Identifiers.QueryList),[DYNAMIC_TYPE]).instantiate([])).toStmt()),expr}function addQueryToTokenMap(map,query){query.meta.selectors.forEach(function(selector){var entry=map.get(selector.reference);entry||(entry=[],map.set(selector.reference,entry)),entry.push(query)})}function _enumExpression(classIdentifier,name){return importExpr(resolveEnumIdentifier(classIdentifier,name))}function createInjectInternalCondition(nodeIndex,childNodeCount,provider,providerExpr){var indexCondition;return indexCondition=childNodeCount>0?literal(nodeIndex).lowerEquals(InjectMethodVars.requestNodeIndex).and(InjectMethodVars.requestNodeIndex.lowerEquals(literal(nodeIndex+childNodeCount))):literal(nodeIndex).identical(InjectMethodVars.requestNodeIndex),new IfStmt(InjectMethodVars.token.identical(createDiTokenExpression(provider.token)).and(indexCondition),[new ReturnStatement(providerExpr)])}function createProviderProperty(propName,provider,providerValueExpressions,isMulti,isEager,compileElement){var resolvedProviderValueExpr,type,view=compileElement.view;if(isMulti?(resolvedProviderValueExpr=literalArr(providerValueExpressions),type=new ArrayType(DYNAMIC_TYPE)):(resolvedProviderValueExpr=providerValueExpressions[0],type=providerValueExpressions[0].type),type||(type=DYNAMIC_TYPE),isEager)view.fields.push(new ClassField(propName,type)),view.createMethod.addStmt(THIS_EXPR.prop(propName).set(resolvedProviderValueExpr).toStmt());else{var internalField="_"+propName;view.fields.push(new ClassField(internalField,type));var getter=new CompileMethod(view);getter.resetDebugInfo(compileElement.nodeIndex,compileElement.sourceAst),getter.addStmt(new IfStmt(THIS_EXPR.prop(internalField).isBlank(),[THIS_EXPR.prop(internalField).set(resolvedProviderValueExpr).toStmt()])),getter.addStmt(new ReturnStatement(THIS_EXPR.prop(internalField))),view.getters.push(new ClassGetter(propName,getter.finish(),type))}return THIS_EXPR.prop(propName)}function _findPipeMeta(view,name){for(var pipeMeta=null,i=view.pipeMetas.length-1;i>=0;i--){var localPipeMeta=view.pipeMetas[i];if(localPipeMeta.name==name){pipeMeta=localPipeMeta;break}}if(!pipeMeta)throw new Error("Illegal state: Could not find pipe "+name+" although the parser should have detected this error!");return pipeMeta}function getViewType(component,embeddedTemplateIndex){return embeddedTemplateIndex>0?ViewType.EMBEDDED:component.type.isHost?ViewType.HOST:ViewType.COMPONENT}function convertCdExpressionToIr(nameResolver,implicitReceiver,expression,valueUnwrapper,bindingIndex){var visitor=new _AstToIrVisitor(nameResolver,implicitReceiver,valueUnwrapper,bindingIndex),irAst=expression.visit(visitor,_Mode.Expression);return new ExpressionWithWrappedValueInfo(irAst,visitor.needsValueUnwrapper,visitor.temporaryCount)}function convertCdStatementToIr(nameResolver,implicitReceiver,stmt,bindingIndex){var visitor=new _AstToIrVisitor(nameResolver,implicitReceiver,null,bindingIndex),statements=[];return flattenStatements(stmt.visit(visitor,_Mode.Statement),statements),prependTemporaryDecls(visitor.temporaryCount,bindingIndex,statements),statements}function temporaryName(bindingIndex,temporaryNumber){return"tmp_"+bindingIndex+"_"+temporaryNumber}function temporaryDeclaration(bindingIndex,temporaryNumber){return new DeclareVarStmt(temporaryName(bindingIndex,temporaryNumber),NULL_EXPR)}function prependTemporaryDecls(temporaryCount,bindingIndex,statements){for(var i=temporaryCount-1;i>=0;i--)statements.unshift(temporaryDeclaration(bindingIndex,i))}function ensureStatementMode(mode,ast){if(mode!==_Mode.Statement)throw new Error("Expected a statement, but saw "+ast)}function ensureExpressionMode(mode,ast){if(mode!==_Mode.Expression)throw new Error("Expected an expression, but saw "+ast)}function convertToStatementIfNeeded(mode,expr){return mode===_Mode.Statement?expr.toStmt():expr}function flattenStatements(arg,output){Array.isArray(arg)?arg.forEach(function(entry){return flattenStatements(entry,output)}):output.push(arg)}function collectEventListeners(hostEvents,dirs,compileElement){var eventListeners=[];return hostEvents.forEach(function(hostEvent){compileElement.view.bindings.push(new CompileBinding(compileElement,hostEvent));var listener=CompileEventListener.getOrCreate(compileElement,hostEvent.target,hostEvent.name,hostEvent.phase,eventListeners);listener.addAction(hostEvent,null,null)}),dirs.forEach(function(directiveAst){var directiveInstance=compileElement.instances.get(identifierToken(directiveAst.directive.type).reference);directiveAst.hostEvents.forEach(function(hostEvent){compileElement.view.bindings.push(new CompileBinding(compileElement,hostEvent));var listener=CompileEventListener.getOrCreate(compileElement,hostEvent.target,hostEvent.name,hostEvent.phase,eventListeners);listener.addAction(hostEvent,directiveAst.directive,directiveInstance)})}),eventListeners.forEach(function(listener){return listener.finishMethod()}),eventListeners}function bindDirectiveOutputs(directiveAst,directiveInstance,eventListeners){Object.keys(directiveAst.directive.outputs).forEach(function(observablePropName){var eventName=directiveAst.directive.outputs[observablePropName];eventListeners.filter(function(listener){return listener.eventName==eventName}).forEach(function(listener){listener.listenToDirective(directiveInstance,observablePropName)})})}function bindRenderOutputs(eventListeners){eventListeners.forEach(function(listener){listener.isAnimation||listener.listenToRenderer()})}function convertStmtIntoExpression(stmt){return stmt instanceof ExpressionStatement?stmt.expr:stmt instanceof ReturnStatement?stmt.value:null}function sanitizeEventName(name){return name.replace(/[^a-zA-Z_]/g,"_")}function bindDirectiveAfterContentLifecycleCallbacks(directiveMeta,directiveInstance,compileElement){var view=compileElement.view,lifecycleHooks=directiveMeta.type.lifecycleHooks,afterContentLifecycleCallbacksMethod=view.afterContentLifecycleCallbacksMethod;afterContentLifecycleCallbacksMethod.resetDebugInfo(compileElement.nodeIndex,compileElement.sourceAst),-1!==lifecycleHooks.indexOf(LifecycleHooks.AfterContentInit)&&afterContentLifecycleCallbacksMethod.addStmt(new IfStmt(STATE_IS_NEVER_CHECKED,[directiveInstance.callMethod("ngAfterContentInit",[]).toStmt()])),-1!==lifecycleHooks.indexOf(LifecycleHooks.AfterContentChecked)&&afterContentLifecycleCallbacksMethod.addStmt(directiveInstance.callMethod("ngAfterContentChecked",[]).toStmt())}function bindDirectiveAfterViewLifecycleCallbacks(directiveMeta,directiveInstance,compileElement){var view=compileElement.view,lifecycleHooks=directiveMeta.type.lifecycleHooks,afterViewLifecycleCallbacksMethod=view.afterViewLifecycleCallbacksMethod;afterViewLifecycleCallbacksMethod.resetDebugInfo(compileElement.nodeIndex,compileElement.sourceAst),-1!==lifecycleHooks.indexOf(LifecycleHooks.AfterViewInit)&&afterViewLifecycleCallbacksMethod.addStmt(new IfStmt(STATE_IS_NEVER_CHECKED,[directiveInstance.callMethod("ngAfterViewInit",[]).toStmt()])),-1!==lifecycleHooks.indexOf(LifecycleHooks.AfterViewChecked)&&afterViewLifecycleCallbacksMethod.addStmt(directiveInstance.callMethod("ngAfterViewChecked",[]).toStmt())}function bindInjectableDestroyLifecycleCallbacks(provider,providerInstance,compileElement){var onDestroyMethod=compileElement.view.destroyMethod;onDestroyMethod.resetDebugInfo(compileElement.nodeIndex,compileElement.sourceAst),-1!==provider.lifecycleHooks.indexOf(LifecycleHooks.OnDestroy)&&onDestroyMethod.addStmt(providerInstance.callMethod("ngOnDestroy",[]).toStmt())}function bindPipeDestroyLifecycleCallbacks(pipeMeta,pipeInstance,view){var onDestroyMethod=view.destroyMethod;-1!==pipeMeta.type.lifecycleHooks.indexOf(LifecycleHooks.OnDestroy)&&onDestroyMethod.addStmt(pipeInstance.callMethod("ngOnDestroy",[]).toStmt())}function createBindFieldExpr(exprIndex){return THIS_EXPR.prop("_expr_"+exprIndex)}function createCurrValueExpr(exprIndex){return variable("currVal_"+exprIndex)}function evalCdAst(view,currValExpr,parsedExpression,context,method,bindingIndex){var checkExpression=convertCdExpressionToIr(view,context,parsedExpression,DetectChangesVars.valUnwrapper,bindingIndex);if(!checkExpression.expression)return null;if(checkExpression.temporaryCount)for(var i=0;i<checkExpression.temporaryCount;i++)method.addStmt(temporaryDeclaration(bindingIndex,i));if(checkExpression.needsValueUnwrapper){var initValueUnwrapperStmt=DetectChangesVars.valUnwrapper.callMethod("reset",[]).toStmt();method.addStmt(initValueUnwrapperStmt)}return method.addStmt(currValExpr.set(checkExpression.expression).toDeclStmt(null,[StmtModifier.Final])),new EvalResult(checkExpression.needsValueUnwrapper?DetectChangesVars.valUnwrapper.prop("hasWrappedValue"):null)}function bind(view,currValExpr,fieldExpr,parsedExpression,context,actions,method,bindingIndex){var evalResult=evalCdAst(view,currValExpr,parsedExpression,context,method,bindingIndex);if(evalResult){view.fields.push(new ClassField(fieldExpr.name,null,[StmtModifier.Private])),view.createMethod.addStmt(THIS_EXPR.prop(fieldExpr.name).set(importExpr(resolveIdentifier(Identifiers.UNINITIALIZED))).toStmt());var condition=importExpr(resolveIdentifier(Identifiers.checkBinding)).callFn([DetectChangesVars.throwOnChange,fieldExpr,currValExpr]);evalResult.forceUpdate&&(condition=evalResult.forceUpdate.or(condition)),method.addStmt(new IfStmt(condition,actions.concat([THIS_EXPR.prop(fieldExpr.name).set(currValExpr).toStmt()])))}}function bindRenderText(boundText,compileNode,view){var bindingIndex=view.bindings.length;view.bindings.push(new CompileBinding(compileNode,boundText));var currValExpr=createCurrValueExpr(bindingIndex),valueField=createBindFieldExpr(bindingIndex);view.detectChangesRenderPropertiesMethod.resetDebugInfo(compileNode.nodeIndex,boundText),bind(view,currValExpr,valueField,boundText.value,view.componentContext,[THIS_EXPR.prop("renderer").callMethod("setText",[compileNode.renderNode,currValExpr]).toStmt()],view.detectChangesRenderPropertiesMethod,bindingIndex)}function bindAndWriteToRenderer(boundProps,context,compileElement,isHostProp,eventListeners){var view=compileElement.view,renderNode=compileElement.renderNode;boundProps.forEach(function(boundProp){var bindingIndex=view.bindings.length;view.bindings.push(new CompileBinding(compileElement,boundProp)),view.detectChangesRenderPropertiesMethod.resetDebugInfo(compileElement.nodeIndex,boundProp);var fieldExpr=createBindFieldExpr(bindingIndex),currValExpr=createCurrValueExpr(bindingIndex),oldRenderValue=sanitizedValue(boundProp,fieldExpr),renderValue=sanitizedValue(boundProp,currValExpr),updateStmts=[],compileMethod=view.detectChangesRenderPropertiesMethod;switch(boundProp.type){case exports.PropertyBindingType.Property:view.genConfig.logBindingUpdate&&updateStmts.push(logBindingUpdateStmt(renderNode,boundProp.name,renderValue)),updateStmts.push(THIS_EXPR.prop("renderer").callMethod("setElementProperty",[renderNode,literal(boundProp.name),renderValue]).toStmt());break;case exports.PropertyBindingType.Attribute:renderValue=renderValue.isBlank().conditional(NULL_EXPR,renderValue.callMethod("toString",[])),updateStmts.push(THIS_EXPR.prop("renderer").callMethod("setElementAttribute",[renderNode,literal(boundProp.name),renderValue]).toStmt());break;case exports.PropertyBindingType.Class:updateStmts.push(THIS_EXPR.prop("renderer").callMethod("setElementClass",[renderNode,literal(boundProp.name),renderValue]).toStmt());break;case exports.PropertyBindingType.Style:var strValue=renderValue.callMethod("toString",[]);isPresent(boundProp.unit)&&(strValue=strValue.plus(literal(boundProp.unit))),renderValue=renderValue.isBlank().conditional(NULL_EXPR,strValue),updateStmts.push(THIS_EXPR.prop("renderer").callMethod("setElementStyle",[renderNode,literal(boundProp.name),renderValue]).toStmt());break;case exports.PropertyBindingType.Animation:compileMethod=view.animationBindingsMethod;var detachStmts_1=[],animationName_1=boundProp.name,targetViewExpr=isHostProp?compileElement.appElement.prop("componentView"):THIS_EXPR,animationFnExpr=targetViewExpr.prop("componentType").prop("animations").key(literal(animationName_1)),emptyStateValue=literal(EMPTY_ANIMATION_STATE),unitializedValue=importExpr(resolveIdentifier(Identifiers.UNINITIALIZED)),animationTransitionVar_1=variable("animationTransition_"+animationName_1);updateStmts.push(animationTransitionVar_1.set(animationFnExpr.callFn([THIS_EXPR,renderNode,oldRenderValue.equals(unitializedValue).conditional(emptyStateValue,oldRenderValue),renderValue.equals(unitializedValue).conditional(emptyStateValue,renderValue)])).toDeclStmt()),detachStmts_1.push(animationTransitionVar_1.set(animationFnExpr.callFn([THIS_EXPR,renderNode,oldRenderValue,emptyStateValue])).toDeclStmt()),eventListeners.forEach(function(listener){if(listener.isAnimation&&listener.eventName===animationName_1){var animationStmt=listener.listenToAnimation(animationTransitionVar_1);updateStmts.push(animationStmt),detachStmts_1.push(animationStmt)}}),view.detachMethod.addStmts(detachStmts_1)}bind(view,currValExpr,fieldExpr,boundProp.value,context,updateStmts,compileMethod,view.bindings.length)})}function sanitizedValue(boundProp,renderValue){var enumValue;switch(boundProp.securityContext){case _angular_core.SecurityContext.NONE:return renderValue;case _angular_core.SecurityContext.HTML:enumValue="HTML";break;case _angular_core.SecurityContext.STYLE:enumValue="STYLE";break;case _angular_core.SecurityContext.SCRIPT:enumValue="SCRIPT";break;case _angular_core.SecurityContext.URL:enumValue="URL";break;case _angular_core.SecurityContext.RESOURCE_URL:enumValue="RESOURCE_URL";break;default:throw new Error("internal error, unexpected SecurityContext "+boundProp.securityContext+".")}var ctx=ViewProperties.viewUtils.prop("sanitizer"),args=[importExpr(resolveIdentifier(Identifiers.SecurityContext)).prop(enumValue),renderValue];return ctx.callMethod("sanitize",args)}function bindRenderInputs(boundProps,compileElement,eventListeners){bindAndWriteToRenderer(boundProps,compileElement.view.componentContext,compileElement,!1,eventListeners)}function bindDirectiveHostProps(directiveAst,directiveInstance,compileElement,eventListeners){bindAndWriteToRenderer(directiveAst.hostProperties,directiveInstance,compileElement,!0,eventListeners)}function bindDirectiveInputs(directiveAst,directiveWrapperInstance,compileElement){var view=compileElement.view,detectChangesInInputsMethod=view.detectChangesInInputsMethod;detectChangesInInputsMethod.resetDebugInfo(compileElement.nodeIndex,compileElement.sourceAst),directiveAst.inputs.forEach(function(input){var bindingIndex=view.bindings.length;view.bindings.push(new CompileBinding(compileElement,input)),detectChangesInInputsMethod.resetDebugInfo(compileElement.nodeIndex,input);var currValExpr=createCurrValueExpr(bindingIndex),evalResult=evalCdAst(view,currValExpr,input.value,view.componentContext,detectChangesInInputsMethod,bindingIndex);evalResult&&detectChangesInInputsMethod.addStmt(directiveWrapperInstance.callMethod("check_"+input.directiveName,[currValExpr,DetectChangesVars.throwOnChange,evalResult.forceUpdate||literal(!1)]).toStmt())});var isOnPushComp=directiveAst.directive.isComponent&&!isDefaultChangeDetectionStrategy(directiveAst.directive.changeDetection),directiveDetectChangesExpr=directiveWrapperInstance.callMethod("detectChangesInternal",[THIS_EXPR,compileElement.renderNode,DetectChangesVars.throwOnChange]),directiveDetectChangesStmt=isOnPushComp?new IfStmt(directiveDetectChangesExpr,[compileElement.appElement.prop("componentView").callMethod("markAsCheckOnce",[]).toStmt()]):directiveDetectChangesExpr.toStmt();detectChangesInInputsMethod.addStmt(directiveDetectChangesStmt)}function logBindingUpdateStmt(renderNode,propName,value){return importExpr(resolveIdentifier(Identifiers.setBindingDebugInfo)).callFn([THIS_EXPR.prop("renderer"),renderNode,literal(propName),value]).toStmt()}function bindView(view,parsedTemplate){var visitor=new ViewBinderVisitor(view);templateVisitAll(visitor,parsedTemplate),view.pipes.forEach(function(pipe){bindPipeDestroyLifecycleCallbacks(pipe.meta,pipe.instance,pipe.view)})}function buildView(view,template,targetDependencies){var builderVisitor=new ViewBuilderVisitor(view,targetDependencies);return templateVisitAll(builderVisitor,template,view.declarationElement.isNull()?view.declarationElement:view.declarationElement.parent),builderVisitor.nestedViewCount}function finishView(view,targetStatements){view.afterNodes(),createViewTopLevelStmts(view,targetStatements),view.nodes.forEach(function(node){node instanceof CompileElement&&node.hasEmbeddedView&&finishView(node.embeddedView,targetStatements)})}function _getOuterContainerOrSelf(node){for(var view=node.view;_isNgContainer(node.parent,view);)node=node.parent;return node}function _getOuterContainerParentOrSelf(el){for(var view=el.view;_isNgContainer(el,view);)el=el.parent;return el}function _isNgContainer(node,view){return!node.isNull()&&node.sourceAst.name===NG_CONTAINER_TAG&&node.view===view}function _mergeHtmlAndDirectiveAttrs(declaredHtmlAttrs,directives){var result={};return Object.keys(declaredHtmlAttrs).forEach(function(key){result[key]=declaredHtmlAttrs[key]}),directives.forEach(function(directiveMeta){Object.keys(directiveMeta.hostAttributes).forEach(function(name){var value=directiveMeta.hostAttributes[name],prevValue=result[name];result[name]=isPresent(prevValue)?mergeAttributeValue(name,prevValue,value):value})}),mapToKeyValueArray(result)}function _readHtmlAttrs(attrs){var htmlAttrs={};return attrs.forEach(function(ast){htmlAttrs[ast.name]=ast.value}),htmlAttrs}function mergeAttributeValue(attrName,attrValue1,attrValue2){return attrName==CLASS_ATTR$1||attrName==STYLE_ATTR?attrValue1+" "+attrValue2:attrValue2}function mapToKeyValueArray(data){var entryArray=[];return Object.keys(data).forEach(function(name){entryArray.push([name,data[name]])}),ListWrapper.sort(entryArray),entryArray}function createViewTopLevelStmts(view,targetStatements){var nodeDebugInfosVar=NULL_EXPR;view.genConfig.genDebugInfo&&(nodeDebugInfosVar=variable("nodeDebugInfos_"+view.component.type.name+view.viewIndex),targetStatements.push(nodeDebugInfosVar.set(literalArr(view.nodes.map(createStaticNodeDebugInfo),new ArrayType(new ExternalType(resolveIdentifier(Identifiers.StaticNodeDebugInfo)),[TypeModifier.Const]))).toDeclStmt(null,[StmtModifier.Final])));
var renderCompTypeVar=variable("renderType_"+view.component.type.name);0===view.viewIndex&&targetStatements.push(renderCompTypeVar.set(NULL_EXPR).toDeclStmt(importType(resolveIdentifier(Identifiers.RenderComponentType))));var viewClass=createViewClass(view,renderCompTypeVar,nodeDebugInfosVar);targetStatements.push(viewClass),targetStatements.push(createViewFactory(view,viewClass,renderCompTypeVar))}function createStaticNodeDebugInfo(node){var compileElement=node instanceof CompileElement?node:null,providerTokens=[],componentToken=NULL_EXPR,varTokenEntries=[];return isPresent(compileElement)&&(providerTokens=compileElement.getProviderTokens(),isPresent(compileElement.component)&&(componentToken=createDiTokenExpression(identifierToken(compileElement.component.type))),Object.keys(compileElement.referenceTokens).forEach(function(varName){var token=compileElement.referenceTokens[varName];varTokenEntries.push([varName,isPresent(token)?createDiTokenExpression(token):NULL_EXPR])})),importExpr(resolveIdentifier(Identifiers.StaticNodeDebugInfo)).instantiate([literalArr(providerTokens,new ArrayType(DYNAMIC_TYPE,[TypeModifier.Const])),componentToken,literalMap(varTokenEntries,new MapType(DYNAMIC_TYPE,[TypeModifier.Const]))],importType(resolveIdentifier(Identifiers.StaticNodeDebugInfo),null,[TypeModifier.Const]))}function createViewClass(view,renderCompTypeVar,nodeDebugInfosVar){var viewConstructorArgs=[new FnParam(ViewConstructorVars.viewUtils.name,importType(resolveIdentifier(Identifiers.ViewUtils))),new FnParam(ViewConstructorVars.parentInjector.name,importType(resolveIdentifier(Identifiers.Injector))),new FnParam(ViewConstructorVars.declarationEl.name,importType(resolveIdentifier(Identifiers.AppElement)))],superConstructorArgs=[variable(view.className),renderCompTypeVar,ViewTypeEnum.fromValue(view.viewType),ViewConstructorVars.viewUtils,ViewConstructorVars.parentInjector,ViewConstructorVars.declarationEl,ChangeDetectorStatusEnum.fromValue(getChangeDetectionMode(view))];view.genConfig.genDebugInfo&&superConstructorArgs.push(nodeDebugInfosVar);var viewConstructor=new ClassMethod(null,viewConstructorArgs,[SUPER_EXPR.callFn(superConstructorArgs).toStmt()]),viewMethods=[new ClassMethod("createInternal",[new FnParam(rootSelectorVar.name,STRING_TYPE)],generateCreateMethod(view),importType(resolveIdentifier(Identifiers.AppElement))),new ClassMethod("injectorGetInternal",[new FnParam(InjectMethodVars.token.name,DYNAMIC_TYPE),new FnParam(InjectMethodVars.requestNodeIndex.name,NUMBER_TYPE),new FnParam(InjectMethodVars.notFoundResult.name,DYNAMIC_TYPE)],addReturnValuefNotEmpty(view.injectorGetMethod.finish(),InjectMethodVars.notFoundResult),DYNAMIC_TYPE),new ClassMethod("detectChangesInternal",[new FnParam(DetectChangesVars.throwOnChange.name,BOOL_TYPE)],generateDetectChangesMethod(view)),new ClassMethod("dirtyParentQueriesInternal",[],view.dirtyParentQueriesMethod.finish()),new ClassMethod("destroyInternal",[],view.destroyMethod.finish()),new ClassMethod("detachInternal",[],view.detachMethod.finish())].concat(view.eventHandlerMethods),superClass=view.genConfig.genDebugInfo?Identifiers.DebugAppView:Identifiers.AppView,viewClass=new ClassStmt(view.className,importExpr(resolveIdentifier(superClass),[getContextType(view)]),view.fields,view.getters,viewConstructor,viewMethods.filter(function(method){return method.body.length>0}));return viewClass}function createViewFactory(view,viewClass,renderCompTypeVar){var templateUrlInfo,viewFactoryArgs=[new FnParam(ViewConstructorVars.viewUtils.name,importType(resolveIdentifier(Identifiers.ViewUtils))),new FnParam(ViewConstructorVars.parentInjector.name,importType(resolveIdentifier(Identifiers.Injector))),new FnParam(ViewConstructorVars.declarationEl.name,importType(resolveIdentifier(Identifiers.AppElement)))],initRenderCompTypeStmts=[];if(templateUrlInfo=view.component.template.templateUrl==view.component.type.moduleUrl?view.component.type.moduleUrl+" class "+view.component.type.name+" - inline template":view.component.template.templateUrl,0===view.viewIndex){var animationsExpr=literalMap(view.animations.map(function(entry){return[entry.name,entry.fnExp]}));initRenderCompTypeStmts=[new IfStmt(renderCompTypeVar.identical(NULL_EXPR),[renderCompTypeVar.set(ViewConstructorVars.viewUtils.callMethod("createRenderComponentType",[literal(view.genConfig.genDebugInfo?templateUrlInfo:""),literal(view.component.template.ngContentSelectors.length),ViewEncapsulationEnum.fromValue(view.component.template.encapsulation),view.styles,animationsExpr])).toStmt()])]}return fn(viewFactoryArgs,initRenderCompTypeStmts.concat([new ReturnStatement(variable(viewClass.name).instantiate(viewClass.constructorMethod.params.map(function(param){return variable(param.name)})))]),importType(resolveIdentifier(Identifiers.AppView),[getContextType(view)])).toDeclStmt(view.viewFactory.name,[StmtModifier.Final])}function generateCreateMethod(view){var parentRenderNodeExpr=NULL_EXPR,parentRenderNodeStmts=[];view.viewType===ViewType.COMPONENT&&(parentRenderNodeExpr=ViewProperties.renderer.callMethod("createViewRoot",[THIS_EXPR.prop("declarationAppElement").prop("nativeElement")]),parentRenderNodeStmts=[parentRenderNodeVar.set(parentRenderNodeExpr).toDeclStmt(importType(view.genConfig.renderTypes.renderNode),[StmtModifier.Final])]);var resultExpr;return resultExpr=view.viewType===ViewType.HOST?view.nodes[0].appElement:NULL_EXPR,parentRenderNodeStmts.concat(view.createMethod.finish(),[THIS_EXPR.callMethod("init",[createFlatArray(view.rootNodesOrAppElements),literalArr(view.nodes.map(function(node){return node.renderNode})),literalArr(view.disposables),literalArr(view.subscriptions)]).toStmt(),new ReturnStatement(resultExpr)])}function generateDetectChangesMethod(view){var stmts=[];if(view.animationBindingsMethod.isEmpty()&&view.detectChangesInInputsMethod.isEmpty()&&view.updateContentQueriesMethod.isEmpty()&&view.afterContentLifecycleCallbacksMethod.isEmpty()&&view.detectChangesRenderPropertiesMethod.isEmpty()&&view.updateViewQueriesMethod.isEmpty()&&view.afterViewLifecycleCallbacksMethod.isEmpty())return stmts;ListWrapper.addAll(stmts,view.animationBindingsMethod.finish()),ListWrapper.addAll(stmts,view.detectChangesInInputsMethod.finish()),stmts.push(THIS_EXPR.callMethod("detectContentChildrenChanges",[DetectChangesVars.throwOnChange]).toStmt());var afterContentStmts=view.updateContentQueriesMethod.finish().concat(view.afterContentLifecycleCallbacksMethod.finish());afterContentStmts.length>0&&stmts.push(new IfStmt(not(DetectChangesVars.throwOnChange),afterContentStmts)),ListWrapper.addAll(stmts,view.detectChangesRenderPropertiesMethod.finish()),stmts.push(THIS_EXPR.callMethod("detectViewChildrenChanges",[DetectChangesVars.throwOnChange]).toStmt());var afterViewStmts=view.updateViewQueriesMethod.finish().concat(view.afterViewLifecycleCallbacksMethod.finish());afterViewStmts.length>0&&stmts.push(new IfStmt(not(DetectChangesVars.throwOnChange),afterViewStmts));var varStmts=[],readVars=findReadVarNames(stmts);return readVars.has(DetectChangesVars.changed.name)&&varStmts.push(DetectChangesVars.changed.set(literal(!0)).toDeclStmt(BOOL_TYPE)),readVars.has(DetectChangesVars.changes.name)&&varStmts.push(DetectChangesVars.changes.set(NULL_EXPR).toDeclStmt(new MapType(importType(resolveIdentifier(Identifiers.SimpleChange))))),readVars.has(DetectChangesVars.valUnwrapper.name)&&varStmts.push(DetectChangesVars.valUnwrapper.set(importExpr(resolveIdentifier(Identifiers.ValueUnwrapper)).instantiate([])).toDeclStmt(null,[StmtModifier.Final])),varStmts.concat(stmts)}function addReturnValuefNotEmpty(statements,value){return statements.length>0?statements.concat([new ReturnStatement(value)]):statements}function getContextType(view){return view.viewType===ViewType.COMPONENT?importType(view.component.type):DYNAMIC_TYPE}function getChangeDetectionMode(view){var mode;return mode=view.viewType===ViewType.COMPONENT?isDefaultChangeDetectionStrategy(view.component.changeDetection)?ChangeDetectorStatus.CheckAlways:ChangeDetectorStatus.CheckOnce:ChangeDetectorStatus.CheckAlways}function analyzeModules(ngModules,metadataResolver){var ngModuleByDirective=new Map,modules=[];return ngModules.forEach(function(ngModule){var ngModuleMeta=metadataResolver.getNgModuleMetadata(ngModule);modules.push(ngModuleMeta),ngModuleMeta.declaredDirectives.forEach(function(dirMeta){ngModuleByDirective.set(dirMeta.type.reference,ngModuleMeta)})}),new NgModulesSummary(ngModuleByDirective,modules)}function _resolveViewStatements(compileResult){return compileResult.dependencies.forEach(function(dep){if(dep instanceof ViewFactoryDependency){var vfd=dep;vfd.placeholder.moduleUrl=_ngfactoryModuleUrl(vfd.comp.moduleUrl)}else if(dep instanceof ComponentFactoryDependency){var cfd=dep;cfd.placeholder.name=_componentFactoryName(cfd.comp),cfd.placeholder.moduleUrl=_ngfactoryModuleUrl(cfd.comp.moduleUrl)}else if(dep instanceof DirectiveWrapperDependency){var dwd=dep;dwd.placeholder.moduleUrl=_ngfactoryModuleUrl(dwd.dir.moduleUrl)}}),compileResult.statements}function _resolveStyleStatements(compileResult,fileSuffix){return compileResult.dependencies.forEach(function(dep){dep.valuePlaceholder.moduleUrl=_stylesModuleUrl(dep.moduleUrl,dep.isShimmed,fileSuffix)}),compileResult.statements}function _ngfactoryModuleUrl(dirUrl){var urlWithSuffix=_splitTypescriptSuffix(dirUrl);return urlWithSuffix[0]+".ngfactory"+urlWithSuffix[1]}function _componentFactoryName(comp){return comp.name+"NgFactory"}function _stylesModuleUrl(stylesheetUrl,shim,suffix){return shim?stylesheetUrl+".shim"+suffix:""+stylesheetUrl+suffix}function _assertComponent(meta){if(!meta.isComponent)throw new Error("Could not compile '"+meta.type.name+"' because it is not a component.")}function _splitTypescriptSuffix(path){if(path.endsWith(".d.ts"))return[path.slice(0,-5),".ts"];var lastDot=path.lastIndexOf(".");return-1!==lastDot?[path.substring(0,lastDot),path.substring(lastDot)]:[path,""]}function createUrlResolverWithoutPackagePrefix(){return new UrlResolver}function createOfflineCompileUrlResolver(){return new UrlResolver(_ASSET_SCHEME)}function getUrlScheme(url){var match=_split(url);return match&&match[_ComponentIndex.Scheme]||""}function _buildFromEncodedParts(opt_scheme,opt_userInfo,opt_domain,opt_port,opt_path,opt_queryData,opt_fragment){var out=[];return isPresent(opt_scheme)&&out.push(opt_scheme+":"),isPresent(opt_domain)&&(out.push("//"),isPresent(opt_userInfo)&&out.push(opt_userInfo+"@"),out.push(opt_domain),isPresent(opt_port)&&out.push(":"+opt_port)),isPresent(opt_path)&&out.push(opt_path),isPresent(opt_queryData)&&out.push("?"+opt_queryData),isPresent(opt_fragment)&&out.push("#"+opt_fragment),out.join("")}function _split(uri){return uri.match(_splitRe)}function _removeDotSegments(path){if("/"==path)return"/";for(var leadingSlash="/"==path[0]?"/":"",trailingSlash="/"===path[path.length-1]?"/":"",segments=path.split("/"),out=[],up=0,pos=0;pos<segments.length;pos++){var segment=segments[pos];switch(segment){case"":case".":break;case"..":out.length>0?out.pop():up++;break;default:out.push(segment)}}if(""==leadingSlash){for(;up-->0;)out.unshift("..");0===out.length&&out.push(".")}return leadingSlash+out.join("/")+trailingSlash}function _joinAndCanonicalizePath(parts){var path=parts[_ComponentIndex.Path];return path=isBlank(path)?"":_removeDotSegments(path),parts[_ComponentIndex.Path]=path,_buildFromEncodedParts(parts[_ComponentIndex.Scheme],parts[_ComponentIndex.UserInfo],parts[_ComponentIndex.Domain],parts[_ComponentIndex.Port],path,parts[_ComponentIndex.QueryData],parts[_ComponentIndex.Fragment])}function _resolveUrl(base,url){var parts=_split(encodeURI(url)),baseParts=_split(base);if(isPresent(parts[_ComponentIndex.Scheme]))return _joinAndCanonicalizePath(parts);parts[_ComponentIndex.Scheme]=baseParts[_ComponentIndex.Scheme];for(var i=_ComponentIndex.Scheme;i<=_ComponentIndex.Port;i++)isBlank(parts[i])&&(parts[i]=baseParts[i]);if("/"==parts[_ComponentIndex.Path][0])return _joinAndCanonicalizePath(parts);var path=baseParts[_ComponentIndex.Path];isBlank(path)&&(path="/");var index=path.lastIndexOf("/");return path=path.substring(0,index+1)+parts[_ComponentIndex.Path],parts[_ComponentIndex.Path]=path,_joinAndCanonicalizePath(parts)}function _cloneDirectiveWithTemplate(directive,template){return new CompileDirectiveMetadata({type:directive.type,isComponent:directive.isComponent,selector:directive.selector,exportAs:directive.exportAs,changeDetection:directive.changeDetection,inputs:directive.inputs,outputs:directive.outputs,hostListeners:directive.hostListeners,hostProperties:directive.hostProperties,hostAttributes:directive.hostAttributes,providers:directive.providers,viewProviders:directive.viewProviders,queries:directive.queries,viewQueries:directive.viewQueries,entryComponents:directive.entryComponents,template:template})}function isDirectiveMetadata(type){return type instanceof _angular_core.Directive}function hasLifecycleHook(hook,token){return reflector.hasLifecycleHook(token,getHookName(hook))}function getHookName(hook){switch(hook){case LifecycleHooks.OnInit:return"ngOnInit";case LifecycleHooks.OnDestroy:return"ngOnDestroy";case LifecycleHooks.DoCheck:return"ngDoCheck";case LifecycleHooks.OnChanges:return"ngOnChanges";case LifecycleHooks.AfterContentInit:return"ngAfterContentInit";case LifecycleHooks.AfterContentChecked:return"ngAfterContentChecked";case LifecycleHooks.AfterViewInit:return"ngAfterViewInit";case LifecycleHooks.AfterViewChecked:return"ngAfterViewChecked"}}function _isNgModuleMetadata(obj){return obj instanceof _angular_core.NgModule}function _isPipeMetadata(type){return type instanceof _angular_core.Pipe}function getTransitiveModules(modules,includeImports,targetModules,visitedModules){return void 0===targetModules&&(targetModules=[]),void 0===visitedModules&&(visitedModules=new Set),modules.forEach(function(ngModule){if(!visitedModules.has(ngModule.type.reference)){visitedModules.add(ngModule.type.reference);var nestedModules=includeImports?ngModule.importedModules.concat(ngModule.exportedModules):ngModule.exportedModules;getTransitiveModules(nestedModules,includeImports,targetModules,visitedModules),targetModules.push(ngModule)}}),targetModules}function flattenArray(tree,out){if(void 0===out&&(out=[]),tree)for(var i=0;i<tree.length;i++){var item=_angular_core.resolveForwardRef(tree[i]);Array.isArray(item)?flattenArray(item,out):out.push(item)}return out}function isValidType(value){return isStaticSymbol(value)||value instanceof _angular_core.Type}function staticTypeModuleUrl(value){return isStaticSymbol(value)?value.filePath:null}function componentModuleUrl(reflector,type,cmpMetadata){if(isStaticSymbol(type))return staticTypeModuleUrl(type);var moduleId=cmpMetadata.moduleId;if("string"==typeof moduleId){var scheme=getUrlScheme(moduleId);return scheme?moduleId:"package:"+moduleId+MODULE_SUFFIX}if(null!==moduleId&&void 0!==moduleId)throw new Error('moduleId should be a string in "'+stringify(type)+"\". See https://goo.gl/wIDDiL for more information.\nIf you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.");return reflector.importUri(type)}function convertToCompileValue(value,targetIdentifiers){return visitValue(value,new _CompileValueConverter,targetIdentifiers)}function escapeIdentifier(input,escapeDollar,alwaysQuote){if(void 0===alwaysQuote&&(alwaysQuote=!0),isBlank(input))return null;var body=input.replace(_SINGLE_QUOTE_ESCAPE_STRING_RE,function(){for(var match=[],_i=0;_i<arguments.length;_i++)match[_i-0]=arguments[_i];return"$"==match[0]?escapeDollar?"\\$":"$":"\n"==match[0]?"\\n":"\r"==match[0]?"\\r":"\\"+match[0]}),requiresQuotes=alwaysQuote||!_LEGAL_IDENTIFIER_RE.test(body);return requiresQuotes?"'"+body+"'":body}function _createIndent(count){for(var res="",i=0;count>i;i++)res+="  ";return res}function debugOutputAstAsTypeScript(ast){var converter=new _TsEmitterVisitor(_debugModuleUrl),ctx=EmitterVisitorContext.createRoot([]),asts=Array.isArray(ast)?ast:[ast];return asts.forEach(function(ast){if(ast instanceof Statement)ast.visitStatement(converter,ctx);else if(ast instanceof Expression)ast.visitExpression(converter,ctx);else{if(!(ast instanceof Type$1))throw new Error("Don't know how to print debug info for "+ast);ast.visitType(converter,ctx)}}),ctx.toSource()}function interpretStatements(statements,resultVar){var stmtsWithReturn=statements.concat([new ReturnStatement(variable(resultVar))]),ctx=new _ExecutionContext(null,null,null,new Map),visitor=new StatementInterpreter,result=visitor.visitAllStatements(stmtsWithReturn,ctx);return isPresent(result)?result.value:null}function _executeFunctionStatements(varNames,varValues,statements,ctx,visitor){for(var childCtx=ctx.createChildWihtLocalVars(),i=0;i<varNames.length;i++)childCtx.vars.set(varNames[i],varValues[i]);var result=visitor.visitAllStatements(statements,childCtx);return isPresent(result)?result.value:null}function createDynamicClass(_classStmt,_ctx,_visitor){var propertyDescriptors={};_classStmt.getters.forEach(function(getter){propertyDescriptors[getter.name]={configurable:!1,get:function(){var instanceCtx=new _ExecutionContext(_ctx,this,_classStmt.name,_ctx.vars);return _executeFunctionStatements([],[],getter.body,instanceCtx,_visitor)}}}),_classStmt.methods.forEach(function(method){var paramNames=method.params.map(function(param){return param.name});propertyDescriptors[method.name]={writable:!1,configurable:!1,value:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];var instanceCtx=new _ExecutionContext(_ctx,this,_classStmt.name,_ctx.vars);return _executeFunctionStatements(paramNames,args,method.body,instanceCtx,_visitor)}}});var ctorParamNames=_classStmt.constructorMethod.params.map(function(param){return param.name}),ctor=function(){for(var _this=this,args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];var instanceCtx=new _ExecutionContext(_ctx,this,_classStmt.name,_ctx.vars);_classStmt.fields.forEach(function(field){_this[field.name]=void 0}),_executeFunctionStatements(ctorParamNames,args,_classStmt.constructorMethod.body,instanceCtx,_visitor)},superClass=_classStmt.parent?_classStmt.parent.visitExpression(_visitor,_ctx):Object;return ctor.prototype=Object.create(superClass.prototype,propertyDescriptors),ctor}function _declareFn(varNames,statements,ctx,visitor){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return _executeFunctionStatements(varNames,args,statements,ctx,visitor)}}function evalExpression(sourceUrl,expr,declarations,vars){var fnBody=declarations+"\nreturn "+expr+"\n//# sourceURL="+sourceUrl,fnArgNames=[],fnArgValues=[];for(var argName in vars)fnArgNames.push(argName),fnArgValues.push(vars[argName]);return(new(Function.bind.apply(Function,[void 0].concat(fnArgNames.concat(fnBody))))).apply(void 0,fnArgValues)}function jitStatements(sourceUrl,statements,resultVar){var converter=new JitEmitterVisitor,ctx=EmitterVisitorContext.createRoot([resultVar]);return converter.visitAllStatements(statements,ctx),evalExpression(sourceUrl,resultVar,ctx.toSource(),converter.getArgs())}function stripComments(input){return input.replace(_commentRe,"")}function extractSourceMappingUrl(input){var matcher=input.match(_sourceMappingUrlRe);return matcher?matcher[0]:""}function processRules(input,ruleCallback){var inputWithEscapedBlocks=escapeBlocks(input),nextBlockIndex=0;return inputWithEscapedBlocks.escapedString.replace(_ruleRe,function(){for(var m=[],_i=0;_i<arguments.length;_i++)m[_i-0]=arguments[_i];var selector=m[2],content="",suffix=m[4],contentPrefix="";suffix&&suffix.startsWith("{"+BLOCK_PLACEHOLDER)&&(content=inputWithEscapedBlocks.blocks[nextBlockIndex++],suffix=suffix.substring(BLOCK_PLACEHOLDER.length+1),contentPrefix="{");var rule=ruleCallback(new CssRule(selector,content));return""+m[1]+rule.selector+m[3]+contentPrefix+rule.content+suffix})}function escapeBlocks(input){for(var inputParts=input.split(_curlyRe),resultParts=[],escapedBlocks=[],bracketCount=0,currentBlockParts=[],partIndex=0;partIndex<inputParts.length;partIndex++){var part=inputParts[partIndex];part==CLOSE_CURLY&&bracketCount--,bracketCount>0?currentBlockParts.push(part):(currentBlockParts.length>0&&(escapedBlocks.push(currentBlockParts.join("")),resultParts.push(BLOCK_PLACEHOLDER),currentBlockParts=[]),resultParts.push(part)),part==OPEN_CURLY&&bracketCount++}return currentBlockParts.length>0&&(escapedBlocks.push(currentBlockParts.join("")),resultParts.push(BLOCK_PLACEHOLDER)),new StringWithEscapedBlocks(resultParts.join(""),escapedBlocks)}function getStylesVarName(component){var result="styles";return component&&(result+="_"+component.type.name),result}function assertComponent(meta){if(!meta.isComponent)throw new Error("Could not compile '"+meta.type.name+"' because it is not a component.")}function registerContext(ctx,specs){for(var _i=0,specs_1=specs;_i<specs_1.length;_i++){var spec=specs_1[_i];SECURITY_SCHEMA[spec.toLowerCase()]=ctx}}function _initReflector(){reflector.reflectionCapabilities=new ReflectionCapabilities}function _mergeOptions(optionsArr){return{useDebug:_lastDefined(optionsArr.map(function(options){return options.useDebug})),useJit:_lastDefined(optionsArr.map(function(options){return options.useJit})),defaultEncapsulation:_lastDefined(optionsArr.map(function(options){return options.defaultEncapsulation})),providers:_mergeArrays(optionsArr.map(function(options){return options.providers}))}}function _lastDefined(args){for(var i=args.length-1;i>=0;i--)if(void 0!==args[i])return args[i];return void 0}function _mergeArrays(parts){var result=[];return parts.forEach(function(part){return part&&result.push.apply(result,part)}),result}var TextAst=function(){function TextAst(value,ngContentIndex,sourceSpan){this.value=value,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return TextAst.prototype.visit=function(visitor,context){return visitor.visitText(this,context)},TextAst}(),BoundTextAst=function(){function BoundTextAst(value,ngContentIndex,sourceSpan){this.value=value,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return BoundTextAst.prototype.visit=function(visitor,context){return visitor.visitBoundText(this,context)},BoundTextAst}(),AttrAst=function(){function AttrAst(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}return AttrAst.prototype.visit=function(visitor,context){return visitor.visitAttr(this,context)},AttrAst}(),BoundElementPropertyAst=function(){function BoundElementPropertyAst(name,type,securityContext,value,unit,sourceSpan){this.name=name,this.type=type,this.securityContext=securityContext,this.value=value,this.unit=unit,this.sourceSpan=sourceSpan}return BoundElementPropertyAst.prototype.visit=function(visitor,context){return visitor.visitElementProperty(this,context)},Object.defineProperty(BoundElementPropertyAst.prototype,"isAnimation",{get:function(){return this.type===exports.PropertyBindingType.Animation},enumerable:!0,configurable:!0}),BoundElementPropertyAst}(),BoundEventAst=function(){function BoundEventAst(name,target,phase,handler,sourceSpan){this.name=name,this.target=target,this.phase=phase,this.handler=handler,this.sourceSpan=sourceSpan}return BoundEventAst.prototype.visit=function(visitor,context){return visitor.visitEvent(this,context)},Object.defineProperty(BoundEventAst.prototype,"fullName",{get:function(){return this.target?this.target+":"+this.name:this.name},enumerable:!0,configurable:!0}),Object.defineProperty(BoundEventAst.prototype,"isAnimation",{get:function(){return!!this.phase},enumerable:!0,configurable:!0}),BoundEventAst}(),ReferenceAst=function(){function ReferenceAst(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}return ReferenceAst.prototype.visit=function(visitor,context){return visitor.visitReference(this,context)},ReferenceAst}(),VariableAst=function(){function VariableAst(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}return VariableAst.prototype.visit=function(visitor,context){return visitor.visitVariable(this,context)},VariableAst}(),ElementAst=function(){function ElementAst(name,attrs,inputs,outputs,references,directives,providers,hasViewContainer,children,ngContentIndex,sourceSpan,endSourceSpan){this.name=name,this.attrs=attrs,this.inputs=inputs,this.outputs=outputs,this.references=references,this.directives=directives,this.providers=providers,this.hasViewContainer=hasViewContainer,this.children=children,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan,this.endSourceSpan=endSourceSpan}return ElementAst.prototype.visit=function(visitor,context){return visitor.visitElement(this,context)},ElementAst}(),EmbeddedTemplateAst=function(){function EmbeddedTemplateAst(attrs,outputs,references,variables,directives,providers,hasViewContainer,children,ngContentIndex,sourceSpan){this.attrs=attrs,this.outputs=outputs,this.references=references,this.variables=variables,this.directives=directives,this.providers=providers,this.hasViewContainer=hasViewContainer,this.children=children,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return EmbeddedTemplateAst.prototype.visit=function(visitor,context){return visitor.visitEmbeddedTemplate(this,context)},EmbeddedTemplateAst}(),BoundDirectivePropertyAst=function(){function BoundDirectivePropertyAst(directiveName,templateName,value,sourceSpan){this.directiveName=directiveName,this.templateName=templateName,this.value=value,this.sourceSpan=sourceSpan}return BoundDirectivePropertyAst.prototype.visit=function(visitor,context){return visitor.visitDirectiveProperty(this,context)},BoundDirectivePropertyAst}(),DirectiveAst=function(){function DirectiveAst(directive,inputs,hostProperties,hostEvents,sourceSpan){this.directive=directive,this.inputs=inputs,this.hostProperties=hostProperties,this.hostEvents=hostEvents,this.sourceSpan=sourceSpan}return DirectiveAst.prototype.visit=function(visitor,context){return visitor.visitDirective(this,context)},DirectiveAst}(),ProviderAst=function(){function ProviderAst(token,multiProvider,eager,providers,providerType,lifecycleHooks,sourceSpan){this.token=token,this.multiProvider=multiProvider,this.eager=eager,this.providers=providers,this.providerType=providerType,this.lifecycleHooks=lifecycleHooks,this.sourceSpan=sourceSpan}return ProviderAst.prototype.visit=function(visitor,context){return null},ProviderAst}();exports.ProviderAstType,function(ProviderAstType){ProviderAstType[ProviderAstType.PublicService=0]="PublicService",ProviderAstType[ProviderAstType.PrivateService=1]="PrivateService",ProviderAstType[ProviderAstType.Component=2]="Component",ProviderAstType[ProviderAstType.Directive=3]="Directive",ProviderAstType[ProviderAstType.Builtin=4]="Builtin"}(exports.ProviderAstType||(exports.ProviderAstType={}));var NgContentAst=function(){function NgContentAst(index,ngContentIndex,sourceSpan){this.index=index,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return NgContentAst.prototype.visit=function(visitor,context){return visitor.visitNgContent(this,context)},NgContentAst}();exports.PropertyBindingType,function(PropertyBindingType){PropertyBindingType[PropertyBindingType.Property=0]="Property",PropertyBindingType[PropertyBindingType.Attribute=1]="Attribute",PropertyBindingType[PropertyBindingType.Class=2]="Class",PropertyBindingType[PropertyBindingType.Style=3]="Style",PropertyBindingType[PropertyBindingType.Animation=4]="Animation"}(exports.PropertyBindingType||(exports.PropertyBindingType={}));var TagContentType,STRING_MAP_PROTO=Object.getPrototypeOf({}),NumberWrapper=function(){function NumberWrapper(){}return NumberWrapper.parseIntAutoRadix=function(text){var result=parseInt(text);if(isNaN(result))throw new Error("Invalid integer literal when parsing "+text);return result},NumberWrapper.parseInt=function(text,radix){if(10==radix){if(/^(\-|\+)?[0-9]+$/.test(text))return parseInt(text,radix)}else if(16==radix){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(text))return parseInt(text,radix)}else{var result=parseInt(text,radix);if(!isNaN(result))return result}throw new Error("Invalid integer literal when parsing "+text+" in base "+radix)},NumberWrapper.isNumeric=function(value){return!isNaN(value-parseFloat(value))},NumberWrapper}(),_arrayFromMap=function(){try{if((new Map).values().next)return function(m,getValues){return getValues?Array.from(m.values()):Array.from(m.keys())}}catch(e){}return function(m,getValues){var res=new Array(m.size),i=0;return m.forEach(function(v,k){res[i]=getValues?v:k,i++}),res}}(),MapWrapper=function(){function MapWrapper(){}return MapWrapper.createFromStringMap=function(stringMap){var result=new Map;for(var prop in stringMap)result.set(prop,stringMap[prop]);return result},MapWrapper.keys=function(m){return _arrayFromMap(m,!1)},MapWrapper.values=function(m){return _arrayFromMap(m,!0)},MapWrapper}(),StringMapWrapper=function(){function StringMapWrapper(){}return StringMapWrapper.merge=function(m1,m2){for(var m={},_i=0,_a=Object.keys(m1);_i<_a.length;_i++){var k=_a[_i];m[k]=m1[k]}for(var _b=0,_c=Object.keys(m2);_b<_c.length;_b++){var k=_c[_b];m[k]=m2[k]}return m},StringMapWrapper.equals=function(m1,m2){var k1=Object.keys(m1),k2=Object.keys(m2);if(k1.length!=k2.length)return!1;for(var i=0;i<k1.length;i++){var key=k1[i];if(m1[key]!==m2[key])return!1}return!0},StringMapWrapper}(),ListWrapper=function(){function ListWrapper(){}return ListWrapper.createFixedSize=function(size){return new Array(size)},ListWrapper.createGrowableSize=function(size){return new Array(size)},ListWrapper.clone=function(array){return array.slice(0)},ListWrapper.forEachWithIndex=function(array,fn){for(var i=0;i<array.length;i++)fn(array[i],i)},ListWrapper.first=function(array){return array?array[0]:null},ListWrapper.last=function(array){return array&&0!=array.length?array[array.length-1]:null},ListWrapper.indexOf=function(array,value,startIndex){return void 0===startIndex&&(startIndex=0),array.indexOf(value,startIndex)},ListWrapper.contains=function(list,el){return-1!==list.indexOf(el)},ListWrapper.reversed=function(array){var a=ListWrapper.clone(array);return a.reverse()},ListWrapper.concat=function(a,b){return a.concat(b)},ListWrapper.insert=function(list,index,value){list.splice(index,0,value)},ListWrapper.removeAt=function(list,index){var res=list[index];return list.splice(index,1),res},ListWrapper.removeAll=function(list,items){for(var i=0;i<items.length;++i){var index=list.indexOf(items[i]);list.splice(index,1)}},ListWrapper.remove=function(list,el){var index=list.indexOf(el);return index>-1?(list.splice(index,1),!0):!1},ListWrapper.clear=function(list){list.length=0},ListWrapper.isEmpty=function(list){return 0==list.length},ListWrapper.fill=function(list,value,start,end){void 0===start&&(start=0),void 0===end&&(end=null),list.fill(value,start,null===end?list.length:end)},ListWrapper.equals=function(a,b){if(a.length!=b.length)return!1;for(var i=0;i<a.length;++i)if(a[i]!==b[i])return!1;return!0},ListWrapper.slice=function(l,from,to){return void 0===from&&(from=0),void 0===to&&(to=null),l.slice(from,null===to?void 0:to)},ListWrapper.splice=function(l,from,length){return l.splice(from,length)},ListWrapper.sort=function(l,compareFn){isPresent(compareFn)?l.sort(compareFn):l.sort()},ListWrapper.toString=function(l){return l.toString()},ListWrapper.toJSON=function(l){return JSON.stringify(l)},ListWrapper.maximum=function(list,predicate){if(0==list.length)return null;for(var solution=null,maxValue=-(1/0),index=0;index<list.length;index++){var candidate=list[index];if(!isBlank(candidate)){var candidateValue=predicate(candidate);candidateValue>maxValue&&(solution=candidate,maxValue=candidateValue)}}return solution},ListWrapper.flatten=function(list){var target=[];return _flattenArray(list,target),target},ListWrapper.addAll=function(list,source){for(var i=0;i<source.length;i++)list.push(source[i])},ListWrapper}();!function(TagContentType){TagContentType[TagContentType.RAW_TEXT=0]="RAW_TEXT",
TagContentType[TagContentType.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",TagContentType[TagContentType.PARSABLE_DATA=2]="PARSABLE_DATA"}(TagContentType||(TagContentType={}));var TypeModifier,NAMED_ENTITIES={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",alefsym:"ℵ",Alpha:"Α",alpha:"α",amp:"&",and:"∧",ang:"∠",apos:"'",Aring:"Å",aring:"å",asymp:"≈",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",bdquo:"„",Beta:"Β",beta:"β",brvbar:"¦",bull:"•",cap:"∩",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",Chi:"Χ",chi:"χ",circ:"ˆ",clubs:"♣",cong:"≅",copy:"©",crarr:"↵",cup:"∪",curren:"¤",dagger:"†",Dagger:"‡",darr:"↓",dArr:"⇓",deg:"°",Delta:"Δ",delta:"δ",diams:"♦",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",empty:"∅",emsp:" ",ensp:" ",Epsilon:"Ε",epsilon:"ε",equiv:"≡",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",exist:"∃",fnof:"ƒ",forall:"∀",frac12:"½",frac14:"¼",frac34:"¾",frasl:"⁄",Gamma:"Γ",gamma:"γ",ge:"≥",gt:">",harr:"↔",hArr:"⇔",hearts:"♥",hellip:"…",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",image:"ℑ",infin:"∞",int:"∫",Iota:"Ι",iota:"ι",iquest:"¿",isin:"∈",Iuml:"Ï",iuml:"ï",Kappa:"Κ",kappa:"κ",Lambda:"Λ",lambda:"λ",lang:"⟨",laquo:"«",larr:"←",lArr:"⇐",lceil:"⌈",ldquo:"“",le:"≤",lfloor:"⌊",lowast:"∗",loz:"◊",lrm:"‎",lsaquo:"‹",lsquo:"‘",lt:"<",macr:"¯",mdash:"—",micro:"µ",middot:"·",minus:"−",Mu:"Μ",mu:"μ",nabla:"∇",nbsp:" ",ndash:"–",ne:"≠",ni:"∋",not:"¬",notin:"∉",nsub:"⊄",Ntilde:"Ñ",ntilde:"ñ",Nu:"Ν",nu:"ν",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",OElig:"Œ",oelig:"œ",Ograve:"Ò",ograve:"ò",oline:"‾",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",oplus:"⊕",or:"∨",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",otimes:"⊗",Ouml:"Ö",ouml:"ö",para:"¶",permil:"‰",perp:"⊥",Phi:"Φ",phi:"φ",Pi:"Π",pi:"π",piv:"ϖ",plusmn:"±",pound:"£",prime:"′",Prime:"″",prod:"∏",prop:"∝",Psi:"Ψ",psi:"ψ",quot:'"',radic:"√",rang:"⟩",raquo:"»",rarr:"→",rArr:"⇒",rceil:"⌉",rdquo:"”",real:"ℜ",reg:"®",rfloor:"⌋",Rho:"Ρ",rho:"ρ",rlm:"‏",rsaquo:"›",rsquo:"’",sbquo:"‚",Scaron:"Š",scaron:"š",sdot:"⋅",sect:"§",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sim:"∼",spades:"♠",sub:"⊂",sube:"⊆",sum:"∑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supe:"⊇",szlig:"ß",Tau:"Τ",tau:"τ",there4:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thinsp:" ",THORN:"Þ",thorn:"þ",tilde:"˜",times:"×",trade:"™",Uacute:"Ú",uacute:"ú",uarr:"↑",uArr:"⇑",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",Uuml:"Ü",uuml:"ü",weierp:"℘",Xi:"Ξ",xi:"ξ",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ",Yuml:"Ÿ",Zeta:"Ζ",zeta:"ζ",zwj:"‍",zwnj:"‌"},HtmlTagDefinition=function(){function HtmlTagDefinition(_a){var _this=this,_b=void 0===_a?{}:_a,closedByChildren=_b.closedByChildren,requiredParents=_b.requiredParents,implicitNamespacePrefix=_b.implicitNamespacePrefix,_c=_b.contentType,contentType=void 0===_c?TagContentType.PARSABLE_DATA:_c,_d=_b.closedByParent,closedByParent=void 0===_d?!1:_d,_e=_b.isVoid,isVoid=void 0===_e?!1:_e,_f=_b.ignoreFirstLf,ignoreFirstLf=void 0===_f?!1:_f;this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,closedByChildren&&closedByChildren.length>0&&closedByChildren.forEach(function(tagName){return _this.closedByChildren[tagName]=!0}),this.isVoid=isVoid,this.closedByParent=closedByParent||isVoid,requiredParents&&requiredParents.length>0&&(this.requiredParents={},this.parentToAdd=requiredParents[0],requiredParents.forEach(function(tagName){return _this.requiredParents[tagName]=!0})),this.implicitNamespacePrefix=implicitNamespacePrefix,this.contentType=contentType,this.ignoreFirstLf=ignoreFirstLf}return HtmlTagDefinition.prototype.requireExtraParent=function(currentParent){if(!this.requiredParents)return!1;if(!currentParent)return!0;var lcParent=currentParent.toLowerCase();return 1!=this.requiredParents[lcParent]&&"template"!=lcParent},HtmlTagDefinition.prototype.isClosedByChild=function(name){return this.isVoid||name.toLowerCase()in this.closedByChildren},HtmlTagDefinition}(),TAG_DEFINITIONS={base:new HtmlTagDefinition({isVoid:!0}),meta:new HtmlTagDefinition({isVoid:!0}),area:new HtmlTagDefinition({isVoid:!0}),embed:new HtmlTagDefinition({isVoid:!0}),link:new HtmlTagDefinition({isVoid:!0}),img:new HtmlTagDefinition({isVoid:!0}),input:new HtmlTagDefinition({isVoid:!0}),param:new HtmlTagDefinition({isVoid:!0}),hr:new HtmlTagDefinition({isVoid:!0}),br:new HtmlTagDefinition({isVoid:!0}),source:new HtmlTagDefinition({isVoid:!0}),track:new HtmlTagDefinition({isVoid:!0}),wbr:new HtmlTagDefinition({isVoid:!0}),p:new HtmlTagDefinition({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"]}),tbody:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new HtmlTagDefinition({closedByChildren:["tbody"],closedByParent:!0}),tr:new HtmlTagDefinition({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),th:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),col:new HtmlTagDefinition({requiredParents:["colgroup"],isVoid:!0}),svg:new HtmlTagDefinition({implicitNamespacePrefix:"svg"}),math:new HtmlTagDefinition({implicitNamespacePrefix:"math"}),li:new HtmlTagDefinition({closedByChildren:["li"],closedByParent:!0}),dt:new HtmlTagDefinition({closedByChildren:["dt","dd"]}),dd:new HtmlTagDefinition({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new HtmlTagDefinition({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new HtmlTagDefinition({closedByChildren:["optgroup"],closedByParent:!0}),option:new HtmlTagDefinition({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new HtmlTagDefinition({ignoreFirstLf:!0}),listing:new HtmlTagDefinition({ignoreFirstLf:!0}),style:new HtmlTagDefinition({contentType:TagContentType.RAW_TEXT}),script:new HtmlTagDefinition({contentType:TagContentType.RAW_TEXT}),title:new HtmlTagDefinition({contentType:TagContentType.ESCAPABLE_RAW_TEXT}),textarea:new HtmlTagDefinition({contentType:TagContentType.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},_DEFAULT_TAG_DEFINITION=new HtmlTagDefinition,_SELECTOR_REGEXP=new RegExp("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-\\w*]+)(?:=([^\\]]*))?\\])|(\\))|(\\s*,\\s*)","g"),CssSelector=function(){function CssSelector(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return CssSelector.parse=function(selector){var match,results=[],_addResult=function(res,cssSel){cssSel.notSelectors.length>0&&!cssSel.element&&0==cssSel.classNames.length&&0==cssSel.attrs.length&&(cssSel.element="*"),res.push(cssSel)},cssSelector=new CssSelector,current=cssSelector,inNot=!1;for(_SELECTOR_REGEXP.lastIndex=0;match=_SELECTOR_REGEXP.exec(selector);){if(match[1]){if(inNot)throw new Error("Nesting :not is not allowed in a selector");inNot=!0,current=new CssSelector,cssSelector.notSelectors.push(current)}if(match[2]&&current.setElement(match[2]),match[3]&&current.addClassName(match[3]),match[4]&&current.addAttribute(match[4],match[5]),match[6]&&(inNot=!1,current=cssSelector),match[7]){if(inNot)throw new Error("Multiple selectors in :not are not supported");_addResult(results,cssSelector),cssSelector=current=new CssSelector}}return _addResult(results,cssSelector),results},CssSelector.prototype.isElementSelector=function(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length},CssSelector.prototype.hasElementSelector=function(){return!!this.element},CssSelector.prototype.setElement=function(element){void 0===element&&(element=null),this.element=element},CssSelector.prototype.getMatchingElementTemplate=function(){for(var tagName=this.element||"div",classAttr=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",attrs="",i=0;i<this.attrs.length;i+=2){var attrName=this.attrs[i],attrValue=""!==this.attrs[i+1]?'="'+this.attrs[i+1]+'"':"";attrs+=" "+attrName+attrValue}return getHtmlTagDefinition(tagName).isVoid?"<"+tagName+classAttr+attrs+"/>":"<"+tagName+classAttr+attrs+"></"+tagName+">"},CssSelector.prototype.addAttribute=function(name,value){void 0===value&&(value=""),this.attrs.push(name,value&&value.toLowerCase()||"")},CssSelector.prototype.addClassName=function(name){this.classNames.push(name.toLowerCase())},CssSelector.prototype.toString=function(){var res=this.element||"";if(this.classNames&&this.classNames.forEach(function(klass){return res+="."+klass}),this.attrs)for(var i=0;i<this.attrs.length;i+=2){var name_1=this.attrs[i],value=this.attrs[i+1];res+="["+name_1+(value?"="+value:"")+"]"}return this.notSelectors.forEach(function(notSelector){return res+=":not("+notSelector+")"}),res},CssSelector}(),SelectorMatcher=function(){function SelectorMatcher(){this._elementMap={},this._elementPartialMap={},this._classMap={},this._classPartialMap={},this._attrValueMap={},this._attrValuePartialMap={},this._listContexts=[]}return SelectorMatcher.createNotMatcher=function(notSelectors){var notMatcher=new SelectorMatcher;return notMatcher.addSelectables(notSelectors,null),notMatcher},SelectorMatcher.prototype.addSelectables=function(cssSelectors,callbackCtxt){var listContext=null;cssSelectors.length>1&&(listContext=new SelectorListContext(cssSelectors),this._listContexts.push(listContext));for(var i=0;i<cssSelectors.length;i++)this._addSelectable(cssSelectors[i],callbackCtxt,listContext)},SelectorMatcher.prototype._addSelectable=function(cssSelector,callbackCtxt,listContext){var matcher=this,element=cssSelector.element,classNames=cssSelector.classNames,attrs=cssSelector.attrs,selectable=new SelectorContext(cssSelector,callbackCtxt,listContext);if(element){var isTerminal=0===attrs.length&&0===classNames.length;isTerminal?this._addTerminal(matcher._elementMap,element,selectable):matcher=this._addPartial(matcher._elementPartialMap,element)}if(classNames)for(var i=0;i<classNames.length;i++){var isTerminal=0===attrs.length&&i===classNames.length-1,className=classNames[i];isTerminal?this._addTerminal(matcher._classMap,className,selectable):matcher=this._addPartial(matcher._classPartialMap,className)}if(attrs)for(var i=0;i<attrs.length;i+=2){var isTerminal=i===attrs.length-2,name_2=attrs[i],value=attrs[i+1];if(isTerminal){var terminalMap=matcher._attrValueMap,terminalValuesMap=terminalMap[name_2];terminalValuesMap||(terminalValuesMap={},terminalMap[name_2]=terminalValuesMap),this._addTerminal(terminalValuesMap,value,selectable)}else{var partialMap=matcher._attrValuePartialMap,partialValuesMap=partialMap[name_2];partialValuesMap||(partialValuesMap={},partialMap[name_2]=partialValuesMap),matcher=this._addPartial(partialValuesMap,value)}}},SelectorMatcher.prototype._addTerminal=function(map,name,selectable){var terminalList=map[name];terminalList||(terminalList=[],map[name]=terminalList),terminalList.push(selectable)},SelectorMatcher.prototype._addPartial=function(map,name){var matcher=map[name];return matcher||(matcher=new SelectorMatcher,map[name]=matcher),matcher},SelectorMatcher.prototype.match=function(cssSelector,matchedCallback){for(var result=!1,element=cssSelector.element,classNames=cssSelector.classNames,attrs=cssSelector.attrs,i=0;i<this._listContexts.length;i++)this._listContexts[i].alreadyMatched=!1;if(result=this._matchTerminal(this._elementMap,element,cssSelector,matchedCallback)||result,result=this._matchPartial(this._elementPartialMap,element,cssSelector,matchedCallback)||result,classNames)for(var i=0;i<classNames.length;i++){var className=classNames[i];result=this._matchTerminal(this._classMap,className,cssSelector,matchedCallback)||result,result=this._matchPartial(this._classPartialMap,className,cssSelector,matchedCallback)||result}if(attrs)for(var i=0;i<attrs.length;i+=2){var name_3=attrs[i],value=attrs[i+1],terminalValuesMap=this._attrValueMap[name_3];value&&(result=this._matchTerminal(terminalValuesMap,"",cssSelector,matchedCallback)||result),result=this._matchTerminal(terminalValuesMap,value,cssSelector,matchedCallback)||result;var partialValuesMap=this._attrValuePartialMap[name_3];value&&(result=this._matchPartial(partialValuesMap,"",cssSelector,matchedCallback)||result),result=this._matchPartial(partialValuesMap,value,cssSelector,matchedCallback)||result}return result},SelectorMatcher.prototype._matchTerminal=function(map,name,cssSelector,matchedCallback){if(!map||"string"!=typeof name)return!1;var selectables=map[name],starSelectables=map["*"];if(starSelectables&&(selectables=selectables.concat(starSelectables)),!selectables)return!1;for(var selectable,result=!1,i=0;i<selectables.length;i++)selectable=selectables[i],result=selectable.finalize(cssSelector,matchedCallback)||result;return result},SelectorMatcher.prototype._matchPartial=function(map,name,cssSelector,matchedCallback){if(!map||"string"!=typeof name)return!1;var nestedSelector=map[name];return nestedSelector?nestedSelector.match(cssSelector,matchedCallback):!1},SelectorMatcher}(),SelectorListContext=function(){function SelectorListContext(selectors){this.selectors=selectors,this.alreadyMatched=!1}return SelectorListContext}(),SelectorContext=function(){function SelectorContext(selector,cbContext,listContext){this.selector=selector,this.cbContext=cbContext,this.listContext=listContext,this.notSelectors=selector.notSelectors}return SelectorContext.prototype.finalize=function(cssSelector,callback){var result=!0;if(this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)){var notMatcher=SelectorMatcher.createNotMatcher(this.notSelectors);result=!notMatcher.match(cssSelector,null)}return!result||!callback||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),callback(this.selector,this.cbContext)),result},SelectorContext}(),__extends$2=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)};!function(TypeModifier){TypeModifier[TypeModifier.Const=0]="Const"}(TypeModifier||(TypeModifier={}));var BuiltinTypeName,Type$1=function(){function Type(modifiers){void 0===modifiers&&(modifiers=null),this.modifiers=modifiers,modifiers||(this.modifiers=[])}return Type.prototype.hasModifier=function(modifier){return-1!==this.modifiers.indexOf(modifier)},Type}();!function(BuiltinTypeName){BuiltinTypeName[BuiltinTypeName.Dynamic=0]="Dynamic",BuiltinTypeName[BuiltinTypeName.Bool=1]="Bool",BuiltinTypeName[BuiltinTypeName.String=2]="String",BuiltinTypeName[BuiltinTypeName.Int=3]="Int",BuiltinTypeName[BuiltinTypeName.Number=4]="Number",BuiltinTypeName[BuiltinTypeName.Function=5]="Function"}(BuiltinTypeName||(BuiltinTypeName={}));var BinaryOperator,BuiltinType=function(_super){function BuiltinType(name,modifiers){void 0===modifiers&&(modifiers=null),_super.call(this,modifiers),this.name=name}return __extends$2(BuiltinType,_super),BuiltinType.prototype.visitType=function(visitor,context){return visitor.visitBuiltintType(this,context)},BuiltinType}(Type$1),ExternalType=function(_super){function ExternalType(value,typeParams,modifiers){void 0===typeParams&&(typeParams=null),void 0===modifiers&&(modifiers=null),_super.call(this,modifiers),this.value=value,this.typeParams=typeParams}return __extends$2(ExternalType,_super),ExternalType.prototype.visitType=function(visitor,context){return visitor.visitExternalType(this,context)},ExternalType}(Type$1),ArrayType=function(_super){function ArrayType(of,modifiers){void 0===modifiers&&(modifiers=null),_super.call(this,modifiers),this.of=of}return __extends$2(ArrayType,_super),ArrayType.prototype.visitType=function(visitor,context){return visitor.visitArrayType(this,context)},ArrayType}(Type$1),MapType=function(_super){function MapType(valueType,modifiers){void 0===modifiers&&(modifiers=null),_super.call(this,modifiers),this.valueType=valueType}return __extends$2(MapType,_super),MapType.prototype.visitType=function(visitor,context){return visitor.visitMapType(this,context)},MapType}(Type$1),DYNAMIC_TYPE=new BuiltinType(BuiltinTypeName.Dynamic),BOOL_TYPE=new BuiltinType(BuiltinTypeName.Bool),NUMBER_TYPE=(new BuiltinType(BuiltinTypeName.Int),new BuiltinType(BuiltinTypeName.Number)),STRING_TYPE=new BuiltinType(BuiltinTypeName.String),FUNCTION_TYPE=new BuiltinType(BuiltinTypeName.Function);!function(BinaryOperator){BinaryOperator[BinaryOperator.Equals=0]="Equals",BinaryOperator[BinaryOperator.NotEquals=1]="NotEquals",BinaryOperator[BinaryOperator.Identical=2]="Identical",BinaryOperator[BinaryOperator.NotIdentical=3]="NotIdentical",BinaryOperator[BinaryOperator.Minus=4]="Minus",BinaryOperator[BinaryOperator.Plus=5]="Plus",BinaryOperator[BinaryOperator.Divide=6]="Divide",BinaryOperator[BinaryOperator.Multiply=7]="Multiply",BinaryOperator[BinaryOperator.Modulo=8]="Modulo",BinaryOperator[BinaryOperator.And=9]="And",BinaryOperator[BinaryOperator.Or=10]="Or",BinaryOperator[BinaryOperator.Lower=11]="Lower",BinaryOperator[BinaryOperator.LowerEquals=12]="LowerEquals",BinaryOperator[BinaryOperator.Bigger=13]="Bigger",BinaryOperator[BinaryOperator.BiggerEquals=14]="BiggerEquals"}(BinaryOperator||(BinaryOperator={}));var BuiltinVar,Expression=function(){function Expression(type){this.type=type}return Expression.prototype.prop=function(name){return new ReadPropExpr(this,name)},Expression.prototype.key=function(index,type){return void 0===type&&(type=null),new ReadKeyExpr(this,index,type)},Expression.prototype.callMethod=function(name,params){return new InvokeMethodExpr(this,name,params)},Expression.prototype.callFn=function(params){return new InvokeFunctionExpr(this,params)},Expression.prototype.instantiate=function(params,type){return void 0===type&&(type=null),new InstantiateExpr(this,params,type)},Expression.prototype.conditional=function(trueCase,falseCase){return void 0===falseCase&&(falseCase=null),new ConditionalExpr(this,trueCase,falseCase)},Expression.prototype.equals=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Equals,this,rhs)},Expression.prototype.notEquals=function(rhs){return new BinaryOperatorExpr(BinaryOperator.NotEquals,this,rhs)},Expression.prototype.identical=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Identical,this,rhs)},Expression.prototype.notIdentical=function(rhs){return new BinaryOperatorExpr(BinaryOperator.NotIdentical,this,rhs)},Expression.prototype.minus=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Minus,this,rhs)},Expression.prototype.plus=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Plus,this,rhs)},Expression.prototype.divide=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Divide,this,rhs)},Expression.prototype.multiply=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Multiply,this,rhs)},Expression.prototype.modulo=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Modulo,this,rhs)},Expression.prototype.and=function(rhs){return new BinaryOperatorExpr(BinaryOperator.And,this,rhs)},Expression.prototype.or=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Or,this,rhs)},Expression.prototype.lower=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Lower,this,rhs)},Expression.prototype.lowerEquals=function(rhs){return new BinaryOperatorExpr(BinaryOperator.LowerEquals,this,rhs)},Expression.prototype.bigger=function(rhs){return new BinaryOperatorExpr(BinaryOperator.Bigger,this,rhs)},Expression.prototype.biggerEquals=function(rhs){return new BinaryOperatorExpr(BinaryOperator.BiggerEquals,this,rhs)},Expression.prototype.isBlank=function(){return this.equals(NULL_EXPR)},Expression.prototype.cast=function(type){return new CastExpr(this,type)},Expression.prototype.toStmt=function(){return new ExpressionStatement(this)},Expression}();!function(BuiltinVar){BuiltinVar[BuiltinVar.This=0]="This",BuiltinVar[BuiltinVar.Super=1]="Super",BuiltinVar[BuiltinVar.CatchError=2]="CatchError",BuiltinVar[BuiltinVar.CatchStack=3]="CatchStack"}(BuiltinVar||(BuiltinVar={}));var BuiltinMethod,ReadVarExpr=function(_super){function ReadVarExpr(name,type){void 0===type&&(type=null),_super.call(this,type),"string"==typeof name?(this.name=name,this.builtin=null):(this.name=null,this.builtin=name)}return __extends$2(ReadVarExpr,_super),ReadVarExpr.prototype.visitExpression=function(visitor,context){return visitor.visitReadVarExpr(this,context)},ReadVarExpr.prototype.set=function(value){return new WriteVarExpr(this.name,value)},ReadVarExpr}(Expression),WriteVarExpr=function(_super){function WriteVarExpr(name,value,type){void 0===type&&(type=null),_super.call(this,type||value.type),this.name=name,this.value=value}return __extends$2(WriteVarExpr,_super),WriteVarExpr.prototype.visitExpression=function(visitor,context){return visitor.visitWriteVarExpr(this,context)},WriteVarExpr.prototype.toDeclStmt=function(type,modifiers){return void 0===type&&(type=null),void 0===modifiers&&(modifiers=null),new DeclareVarStmt(this.name,this.value,type,modifiers)},WriteVarExpr}(Expression),WriteKeyExpr=function(_super){function WriteKeyExpr(receiver,index,value,type){void 0===type&&(type=null),_super.call(this,type||value.type),this.receiver=receiver,this.index=index,this.value=value}return __extends$2(WriteKeyExpr,_super),WriteKeyExpr.prototype.visitExpression=function(visitor,context){return visitor.visitWriteKeyExpr(this,context)},WriteKeyExpr}(Expression),WritePropExpr=function(_super){function WritePropExpr(receiver,name,value,type){void 0===type&&(type=null),_super.call(this,type||value.type),this.receiver=receiver,this.name=name,this.value=value}return __extends$2(WritePropExpr,_super),WritePropExpr.prototype.visitExpression=function(visitor,context){return visitor.visitWritePropExpr(this,context)},WritePropExpr}(Expression);!function(BuiltinMethod){BuiltinMethod[BuiltinMethod.ConcatArray=0]="ConcatArray",BuiltinMethod[BuiltinMethod.SubscribeObservable=1]="SubscribeObservable",BuiltinMethod[BuiltinMethod.Bind=2]="Bind"}(BuiltinMethod||(BuiltinMethod={}));var StmtModifier,InvokeMethodExpr=function(_super){function InvokeMethodExpr(receiver,method,args,type){void 0===type&&(type=null),_super.call(this,type),this.receiver=receiver,this.args=args,"string"==typeof method?(this.name=method,this.builtin=null):(this.name=null,this.builtin=method)}return __extends$2(InvokeMethodExpr,_super),InvokeMethodExpr.prototype.visitExpression=function(visitor,context){return visitor.visitInvokeMethodExpr(this,context)},InvokeMethodExpr}(Expression),InvokeFunctionExpr=function(_super){function InvokeFunctionExpr(fn,args,type){void 0===type&&(type=null),_super.call(this,type),this.fn=fn,this.args=args}return __extends$2(InvokeFunctionExpr,_super),InvokeFunctionExpr.prototype.visitExpression=function(visitor,context){return visitor.visitInvokeFunctionExpr(this,context)},InvokeFunctionExpr}(Expression),InstantiateExpr=function(_super){function InstantiateExpr(classExpr,args,type){_super.call(this,type),this.classExpr=classExpr,this.args=args}return __extends$2(InstantiateExpr,_super),InstantiateExpr.prototype.visitExpression=function(visitor,context){return visitor.visitInstantiateExpr(this,context)},InstantiateExpr}(Expression),LiteralExpr=function(_super){function LiteralExpr(value,type){void 0===type&&(type=null),_super.call(this,type),this.value=value}return __extends$2(LiteralExpr,_super),LiteralExpr.prototype.visitExpression=function(visitor,context){return visitor.visitLiteralExpr(this,context)},LiteralExpr}(Expression),ExternalExpr=function(_super){function ExternalExpr(value,type,typeParams){void 0===type&&(type=null),void 0===typeParams&&(typeParams=null),_super.call(this,type),this.value=value,this.typeParams=typeParams}return __extends$2(ExternalExpr,_super),ExternalExpr.prototype.visitExpression=function(visitor,context){return visitor.visitExternalExpr(this,context)},ExternalExpr}(Expression),ConditionalExpr=function(_super){function ConditionalExpr(condition,trueCase,falseCase,type){void 0===falseCase&&(falseCase=null),void 0===type&&(type=null),_super.call(this,type||trueCase.type),this.condition=condition,this.falseCase=falseCase,this.trueCase=trueCase}return __extends$2(ConditionalExpr,_super),ConditionalExpr.prototype.visitExpression=function(visitor,context){return visitor.visitConditionalExpr(this,context)},ConditionalExpr}(Expression),NotExpr=function(_super){function NotExpr(condition){_super.call(this,BOOL_TYPE),this.condition=condition}return __extends$2(NotExpr,_super),NotExpr.prototype.visitExpression=function(visitor,context){return visitor.visitNotExpr(this,context)},NotExpr}(Expression),CastExpr=function(_super){function CastExpr(value,type){_super.call(this,type),this.value=value}return __extends$2(CastExpr,_super),CastExpr.prototype.visitExpression=function(visitor,context){return visitor.visitCastExpr(this,context)},CastExpr}(Expression),FnParam=function(){function FnParam(name,type){void 0===type&&(type=null),this.name=name,this.type=type}return FnParam}(),FunctionExpr=function(_super){function FunctionExpr(params,statements,type){void 0===type&&(type=null),_super.call(this,type),this.params=params,this.statements=statements}return __extends$2(FunctionExpr,_super),FunctionExpr.prototype.visitExpression=function(visitor,context){return visitor.visitFunctionExpr(this,context)},FunctionExpr.prototype.toDeclStmt=function(name,modifiers){return void 0===modifiers&&(modifiers=null),new DeclareFunctionStmt(name,this.params,this.statements,this.type,modifiers)},FunctionExpr}(Expression),BinaryOperatorExpr=function(_super){function BinaryOperatorExpr(operator,lhs,rhs,type){void 0===type&&(type=null),_super.call(this,type||lhs.type),this.operator=operator,this.rhs=rhs,this.lhs=lhs}return __extends$2(BinaryOperatorExpr,_super),BinaryOperatorExpr.prototype.visitExpression=function(visitor,context){return visitor.visitBinaryOperatorExpr(this,context)},BinaryOperatorExpr}(Expression),ReadPropExpr=function(_super){function ReadPropExpr(receiver,name,type){void 0===type&&(type=null),_super.call(this,type),this.receiver=receiver,this.name=name}return __extends$2(ReadPropExpr,_super),ReadPropExpr.prototype.visitExpression=function(visitor,context){return visitor.visitReadPropExpr(this,context)},ReadPropExpr.prototype.set=function(value){return new WritePropExpr(this.receiver,this.name,value)},ReadPropExpr}(Expression),ReadKeyExpr=function(_super){function ReadKeyExpr(receiver,index,type){void 0===type&&(type=null),_super.call(this,type),this.receiver=receiver,this.index=index}return __extends$2(ReadKeyExpr,_super),ReadKeyExpr.prototype.visitExpression=function(visitor,context){return visitor.visitReadKeyExpr(this,context)},ReadKeyExpr.prototype.set=function(value){return new WriteKeyExpr(this.receiver,this.index,value)},ReadKeyExpr}(Expression),LiteralArrayExpr=function(_super){function LiteralArrayExpr(entries,type){void 0===type&&(type=null),_super.call(this,type),this.entries=entries}return __extends$2(LiteralArrayExpr,_super),LiteralArrayExpr.prototype.visitExpression=function(visitor,context){return visitor.visitLiteralArrayExpr(this,context)},LiteralArrayExpr}(Expression),LiteralMapExpr=function(_super){function LiteralMapExpr(entries,type){void 0===type&&(type=null),_super.call(this,type),this.entries=entries,this.valueType=null,isPresent(type)&&(this.valueType=type.valueType)}return __extends$2(LiteralMapExpr,_super),LiteralMapExpr.prototype.visitExpression=function(visitor,context){return visitor.visitLiteralMapExpr(this,context)},LiteralMapExpr}(Expression),THIS_EXPR=new ReadVarExpr(BuiltinVar.This),SUPER_EXPR=new ReadVarExpr(BuiltinVar.Super),NULL_EXPR=(new ReadVarExpr(BuiltinVar.CatchError),new ReadVarExpr(BuiltinVar.CatchStack),new LiteralExpr(null,null));!function(StmtModifier){StmtModifier[StmtModifier.Final=0]="Final",StmtModifier[StmtModifier.Private=1]="Private"}(StmtModifier||(StmtModifier={}));var Statement=function(){function Statement(modifiers){void 0===modifiers&&(modifiers=null),this.modifiers=modifiers,modifiers||(this.modifiers=[])}return Statement.prototype.hasModifier=function(modifier){return-1!==this.modifiers.indexOf(modifier)},Statement}(),DeclareVarStmt=function(_super){function DeclareVarStmt(name,value,type,modifiers){void 0===type&&(type=null),void 0===modifiers&&(modifiers=null),_super.call(this,modifiers),this.name=name,this.value=value,this.type=type||value.type}return __extends$2(DeclareVarStmt,_super),DeclareVarStmt.prototype.visitStatement=function(visitor,context){return visitor.visitDeclareVarStmt(this,context)},DeclareVarStmt}(Statement),DeclareFunctionStmt=function(_super){function DeclareFunctionStmt(name,params,statements,type,modifiers){void 0===type&&(type=null),void 0===modifiers&&(modifiers=null),_super.call(this,modifiers),this.name=name,this.params=params,this.statements=statements,this.type=type}return __extends$2(DeclareFunctionStmt,_super),DeclareFunctionStmt.prototype.visitStatement=function(visitor,context){return visitor.visitDeclareFunctionStmt(this,context)},DeclareFunctionStmt}(Statement),ExpressionStatement=function(_super){function ExpressionStatement(expr){_super.call(this),this.expr=expr}return __extends$2(ExpressionStatement,_super),ExpressionStatement.prototype.visitStatement=function(visitor,context){return visitor.visitExpressionStmt(this,context)},ExpressionStatement}(Statement),ReturnStatement=function(_super){function ReturnStatement(value){_super.call(this),this.value=value}return __extends$2(ReturnStatement,_super),ReturnStatement.prototype.visitStatement=function(visitor,context){return visitor.visitReturnStmt(this,context)},ReturnStatement}(Statement),AbstractClassPart=function(){function AbstractClassPart(type,modifiers){void 0===type&&(type=null),this.type=type,this.modifiers=modifiers,modifiers||(this.modifiers=[])}return AbstractClassPart.prototype.hasModifier=function(modifier){return-1!==this.modifiers.indexOf(modifier)},AbstractClassPart}(),ClassField=function(_super){function ClassField(name,type,modifiers){void 0===type&&(type=null),void 0===modifiers&&(modifiers=null),_super.call(this,type,modifiers),this.name=name}return __extends$2(ClassField,_super),ClassField}(AbstractClassPart),ClassMethod=function(_super){function ClassMethod(name,params,body,type,modifiers){void 0===type&&(type=null),void 0===modifiers&&(modifiers=null),_super.call(this,type,modifiers),this.name=name,this.params=params,this.body=body}return __extends$2(ClassMethod,_super),ClassMethod}(AbstractClassPart),ClassGetter=function(_super){function ClassGetter(name,body,type,modifiers){void 0===type&&(type=null),void 0===modifiers&&(modifiers=null),_super.call(this,type,modifiers),this.name=name,this.body=body}return __extends$2(ClassGetter,_super),ClassGetter}(AbstractClassPart),ClassStmt=function(_super){function ClassStmt(name,parent,fields,getters,constructorMethod,methods,modifiers){void 0===modifiers&&(modifiers=null),_super.call(this,modifiers),this.name=name,this.parent=parent,this.fields=fields,this.getters=getters,this.constructorMethod=constructorMethod,this.methods=methods}return __extends$2(ClassStmt,_super),ClassStmt.prototype.visitStatement=function(visitor,context){return visitor.visitDeclareClassStmt(this,context)},ClassStmt}(Statement),IfStmt=function(_super){function IfStmt(condition,trueCase,falseCase){void 0===falseCase&&(falseCase=[]),_super.call(this),this.condition=condition,this.trueCase=trueCase,this.falseCase=falseCase}return __extends$2(IfStmt,_super),IfStmt.prototype.visitStatement=function(visitor,context){return visitor.visitIfStmt(this,context);
},IfStmt}(Statement),TryCatchStmt=(function(_super){function CommentStmt(comment){_super.call(this),this.comment=comment}return __extends$2(CommentStmt,_super),CommentStmt.prototype.visitStatement=function(visitor,context){return visitor.visitCommentStmt(this,context)},CommentStmt}(Statement),function(_super){function TryCatchStmt(bodyStmts,catchStmts){_super.call(this),this.bodyStmts=bodyStmts,this.catchStmts=catchStmts}return __extends$2(TryCatchStmt,_super),TryCatchStmt.prototype.visitStatement=function(visitor,context){return visitor.visitTryCatchStmt(this,context)},TryCatchStmt}(Statement)),ThrowStmt=function(_super){function ThrowStmt(error){_super.call(this),this.error=error}return __extends$2(ThrowStmt,_super),ThrowStmt.prototype.visitStatement=function(visitor,context){return visitor.visitThrowStmt(this,context)},ThrowStmt}(Statement),ExpressionTransformer=function(){function ExpressionTransformer(){}return ExpressionTransformer.prototype.visitReadVarExpr=function(ast,context){return ast},ExpressionTransformer.prototype.visitWriteVarExpr=function(expr,context){return new WriteVarExpr(expr.name,expr.value.visitExpression(this,context))},ExpressionTransformer.prototype.visitWriteKeyExpr=function(expr,context){return new WriteKeyExpr(expr.receiver.visitExpression(this,context),expr.index.visitExpression(this,context),expr.value.visitExpression(this,context))},ExpressionTransformer.prototype.visitWritePropExpr=function(expr,context){return new WritePropExpr(expr.receiver.visitExpression(this,context),expr.name,expr.value.visitExpression(this,context))},ExpressionTransformer.prototype.visitInvokeMethodExpr=function(ast,context){var method=ast.builtin||ast.name;return new InvokeMethodExpr(ast.receiver.visitExpression(this,context),method,this.visitAllExpressions(ast.args,context),ast.type)},ExpressionTransformer.prototype.visitInvokeFunctionExpr=function(ast,context){return new InvokeFunctionExpr(ast.fn.visitExpression(this,context),this.visitAllExpressions(ast.args,context),ast.type)},ExpressionTransformer.prototype.visitInstantiateExpr=function(ast,context){return new InstantiateExpr(ast.classExpr.visitExpression(this,context),this.visitAllExpressions(ast.args,context),ast.type)},ExpressionTransformer.prototype.visitLiteralExpr=function(ast,context){return ast},ExpressionTransformer.prototype.visitExternalExpr=function(ast,context){return ast},ExpressionTransformer.prototype.visitConditionalExpr=function(ast,context){return new ConditionalExpr(ast.condition.visitExpression(this,context),ast.trueCase.visitExpression(this,context),ast.falseCase.visitExpression(this,context))},ExpressionTransformer.prototype.visitNotExpr=function(ast,context){return new NotExpr(ast.condition.visitExpression(this,context))},ExpressionTransformer.prototype.visitCastExpr=function(ast,context){return new CastExpr(ast.value.visitExpression(this,context),context)},ExpressionTransformer.prototype.visitFunctionExpr=function(ast,context){return ast},ExpressionTransformer.prototype.visitBinaryOperatorExpr=function(ast,context){return new BinaryOperatorExpr(ast.operator,ast.lhs.visitExpression(this,context),ast.rhs.visitExpression(this,context),ast.type)},ExpressionTransformer.prototype.visitReadPropExpr=function(ast,context){return new ReadPropExpr(ast.receiver.visitExpression(this,context),ast.name,ast.type)},ExpressionTransformer.prototype.visitReadKeyExpr=function(ast,context){return new ReadKeyExpr(ast.receiver.visitExpression(this,context),ast.index.visitExpression(this,context),ast.type)},ExpressionTransformer.prototype.visitLiteralArrayExpr=function(ast,context){return new LiteralArrayExpr(this.visitAllExpressions(ast.entries,context))},ExpressionTransformer.prototype.visitLiteralMapExpr=function(ast,context){var _this=this,entries=ast.entries.map(function(entry){return[entry[0],entry[1].visitExpression(_this,context)]});return new LiteralMapExpr(entries)},ExpressionTransformer.prototype.visitAllExpressions=function(exprs,context){var _this=this;return exprs.map(function(expr){return expr.visitExpression(_this,context)})},ExpressionTransformer.prototype.visitDeclareVarStmt=function(stmt,context){return new DeclareVarStmt(stmt.name,stmt.value.visitExpression(this,context),stmt.type,stmt.modifiers)},ExpressionTransformer.prototype.visitDeclareFunctionStmt=function(stmt,context){return stmt},ExpressionTransformer.prototype.visitExpressionStmt=function(stmt,context){return new ExpressionStatement(stmt.expr.visitExpression(this,context))},ExpressionTransformer.prototype.visitReturnStmt=function(stmt,context){return new ReturnStatement(stmt.value.visitExpression(this,context))},ExpressionTransformer.prototype.visitDeclareClassStmt=function(stmt,context){return stmt},ExpressionTransformer.prototype.visitIfStmt=function(stmt,context){return new IfStmt(stmt.condition.visitExpression(this,context),this.visitAllStatements(stmt.trueCase,context),this.visitAllStatements(stmt.falseCase,context))},ExpressionTransformer.prototype.visitTryCatchStmt=function(stmt,context){return new TryCatchStmt(this.visitAllStatements(stmt.bodyStmts,context),this.visitAllStatements(stmt.catchStmts,context))},ExpressionTransformer.prototype.visitThrowStmt=function(stmt,context){return new ThrowStmt(stmt.error.visitExpression(this,context))},ExpressionTransformer.prototype.visitCommentStmt=function(stmt,context){return stmt},ExpressionTransformer.prototype.visitAllStatements=function(stmts,context){var _this=this;return stmts.map(function(stmt){return stmt.visitStatement(_this,context)})},ExpressionTransformer}(),RecursiveExpressionVisitor=function(){function RecursiveExpressionVisitor(){}return RecursiveExpressionVisitor.prototype.visitReadVarExpr=function(ast,context){return ast},RecursiveExpressionVisitor.prototype.visitWriteVarExpr=function(expr,context){return expr.value.visitExpression(this,context),expr},RecursiveExpressionVisitor.prototype.visitWriteKeyExpr=function(expr,context){return expr.receiver.visitExpression(this,context),expr.index.visitExpression(this,context),expr.value.visitExpression(this,context),expr},RecursiveExpressionVisitor.prototype.visitWritePropExpr=function(expr,context){return expr.receiver.visitExpression(this,context),expr.value.visitExpression(this,context),expr},RecursiveExpressionVisitor.prototype.visitInvokeMethodExpr=function(ast,context){return ast.receiver.visitExpression(this,context),this.visitAllExpressions(ast.args,context),ast},RecursiveExpressionVisitor.prototype.visitInvokeFunctionExpr=function(ast,context){return ast.fn.visitExpression(this,context),this.visitAllExpressions(ast.args,context),ast},RecursiveExpressionVisitor.prototype.visitInstantiateExpr=function(ast,context){return ast.classExpr.visitExpression(this,context),this.visitAllExpressions(ast.args,context),ast},RecursiveExpressionVisitor.prototype.visitLiteralExpr=function(ast,context){return ast},RecursiveExpressionVisitor.prototype.visitExternalExpr=function(ast,context){return ast},RecursiveExpressionVisitor.prototype.visitConditionalExpr=function(ast,context){return ast.condition.visitExpression(this,context),ast.trueCase.visitExpression(this,context),ast.falseCase.visitExpression(this,context),ast},RecursiveExpressionVisitor.prototype.visitNotExpr=function(ast,context){return ast.condition.visitExpression(this,context),ast},RecursiveExpressionVisitor.prototype.visitCastExpr=function(ast,context){return ast.value.visitExpression(this,context),ast},RecursiveExpressionVisitor.prototype.visitFunctionExpr=function(ast,context){return ast},RecursiveExpressionVisitor.prototype.visitBinaryOperatorExpr=function(ast,context){return ast.lhs.visitExpression(this,context),ast.rhs.visitExpression(this,context),ast},RecursiveExpressionVisitor.prototype.visitReadPropExpr=function(ast,context){return ast.receiver.visitExpression(this,context),ast},RecursiveExpressionVisitor.prototype.visitReadKeyExpr=function(ast,context){return ast.receiver.visitExpression(this,context),ast.index.visitExpression(this,context),ast},RecursiveExpressionVisitor.prototype.visitLiteralArrayExpr=function(ast,context){return this.visitAllExpressions(ast.entries,context),ast},RecursiveExpressionVisitor.prototype.visitLiteralMapExpr=function(ast,context){var _this=this;return ast.entries.forEach(function(entry){return entry[1].visitExpression(_this,context)}),ast},RecursiveExpressionVisitor.prototype.visitAllExpressions=function(exprs,context){var _this=this;exprs.forEach(function(expr){return expr.visitExpression(_this,context)})},RecursiveExpressionVisitor.prototype.visitDeclareVarStmt=function(stmt,context){return stmt.value.visitExpression(this,context),stmt},RecursiveExpressionVisitor.prototype.visitDeclareFunctionStmt=function(stmt,context){return stmt},RecursiveExpressionVisitor.prototype.visitExpressionStmt=function(stmt,context){return stmt.expr.visitExpression(this,context),stmt},RecursiveExpressionVisitor.prototype.visitReturnStmt=function(stmt,context){return stmt.value.visitExpression(this,context),stmt},RecursiveExpressionVisitor.prototype.visitDeclareClassStmt=function(stmt,context){return stmt},RecursiveExpressionVisitor.prototype.visitIfStmt=function(stmt,context){return stmt.condition.visitExpression(this,context),this.visitAllStatements(stmt.trueCase,context),this.visitAllStatements(stmt.falseCase,context),stmt},RecursiveExpressionVisitor.prototype.visitTryCatchStmt=function(stmt,context){return this.visitAllStatements(stmt.bodyStmts,context),this.visitAllStatements(stmt.catchStmts,context),stmt},RecursiveExpressionVisitor.prototype.visitThrowStmt=function(stmt,context){return stmt.error.visitExpression(this,context),stmt},RecursiveExpressionVisitor.prototype.visitCommentStmt=function(stmt,context){return stmt},RecursiveExpressionVisitor.prototype.visitAllStatements=function(stmts,context){var _this=this;stmts.forEach(function(stmt){return stmt.visitStatement(_this,context)})},RecursiveExpressionVisitor}(),_ReplaceVariableTransformer=function(_super){function _ReplaceVariableTransformer(_varName,_newValue){_super.call(this),this._varName=_varName,this._newValue=_newValue}return __extends$2(_ReplaceVariableTransformer,_super),_ReplaceVariableTransformer.prototype.visitReadVarExpr=function(ast,context){return ast.name==this._varName?this._newValue:ast},_ReplaceVariableTransformer}(ExpressionTransformer),_VariableFinder=function(_super){function _VariableFinder(){_super.apply(this,arguments),this.varNames=new Set}return __extends$2(_VariableFinder,_super),_VariableFinder.prototype.visitReadVarExpr=function(ast,context){return this.varNames.add(ast.name),null},_VariableFinder}(RecursiveExpressionVisitor),MODULE_SUFFIX="",ValueTransformer=function(){function ValueTransformer(){}return ValueTransformer.prototype.visitArray=function(arr,context){var _this=this;return arr.map(function(value){return visitValue(value,_this,context)})},ValueTransformer.prototype.visitStringMap=function(map,context){var _this=this,result={};return Object.keys(map).forEach(function(key){result[key]=visitValue(map[key],_this,context)}),result},ValueTransformer.prototype.visitPrimitive=function(value,context){return value},ValueTransformer.prototype.visitOther=function(value,context){return value},ValueTransformer}(),SyncAsyncResult=function(){function SyncAsyncResult(syncResult,asyncResult){void 0===asyncResult&&(asyncResult=null),this.syncResult=syncResult,this.asyncResult=asyncResult,asyncResult||(this.asyncResult=Promise.resolve(syncResult))}return SyncAsyncResult}(),__extends$1=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HOST_REG_EXP=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/,CompileMetadataWithIdentifier=function(){function CompileMetadataWithIdentifier(){}return Object.defineProperty(CompileMetadataWithIdentifier.prototype,"identifier",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),CompileMetadataWithIdentifier}(),CompileAnimationEntryMetadata=function(){function CompileAnimationEntryMetadata(name,definitions){void 0===name&&(name=null),void 0===definitions&&(definitions=null),this.name=name,this.definitions=definitions}return CompileAnimationEntryMetadata}(),CompileAnimationStateMetadata=function(){function CompileAnimationStateMetadata(){}return CompileAnimationStateMetadata}(),CompileAnimationStateDeclarationMetadata=function(_super){function CompileAnimationStateDeclarationMetadata(stateNameExpr,styles){_super.call(this),this.stateNameExpr=stateNameExpr,this.styles=styles}return __extends$1(CompileAnimationStateDeclarationMetadata,_super),CompileAnimationStateDeclarationMetadata}(CompileAnimationStateMetadata),CompileAnimationStateTransitionMetadata=function(_super){function CompileAnimationStateTransitionMetadata(stateChangeExpr,steps){_super.call(this),this.stateChangeExpr=stateChangeExpr,this.steps=steps}return __extends$1(CompileAnimationStateTransitionMetadata,_super),CompileAnimationStateTransitionMetadata}(CompileAnimationStateMetadata),CompileAnimationMetadata=function(){function CompileAnimationMetadata(){}return CompileAnimationMetadata}(),CompileAnimationKeyframesSequenceMetadata=function(_super){function CompileAnimationKeyframesSequenceMetadata(steps){void 0===steps&&(steps=[]),_super.call(this),this.steps=steps}return __extends$1(CompileAnimationKeyframesSequenceMetadata,_super),CompileAnimationKeyframesSequenceMetadata}(CompileAnimationMetadata),CompileAnimationStyleMetadata=function(_super){function CompileAnimationStyleMetadata(offset,styles){void 0===styles&&(styles=null),_super.call(this),this.offset=offset,this.styles=styles}return __extends$1(CompileAnimationStyleMetadata,_super),CompileAnimationStyleMetadata}(CompileAnimationMetadata),CompileAnimationAnimateMetadata=function(_super){function CompileAnimationAnimateMetadata(timings,styles){void 0===timings&&(timings=0),void 0===styles&&(styles=null),_super.call(this),this.timings=timings,this.styles=styles}return __extends$1(CompileAnimationAnimateMetadata,_super),CompileAnimationAnimateMetadata}(CompileAnimationMetadata),CompileAnimationWithStepsMetadata=function(_super){function CompileAnimationWithStepsMetadata(steps){void 0===steps&&(steps=null),_super.call(this),this.steps=steps}return __extends$1(CompileAnimationWithStepsMetadata,_super),CompileAnimationWithStepsMetadata}(CompileAnimationMetadata),CompileAnimationSequenceMetadata=function(_super){function CompileAnimationSequenceMetadata(steps){void 0===steps&&(steps=null),_super.call(this,steps)}return __extends$1(CompileAnimationSequenceMetadata,_super),CompileAnimationSequenceMetadata}(CompileAnimationWithStepsMetadata),CompileAnimationGroupMetadata=function(_super){function CompileAnimationGroupMetadata(steps){void 0===steps&&(steps=null),_super.call(this,steps)}return __extends$1(CompileAnimationGroupMetadata,_super),CompileAnimationGroupMetadata}(CompileAnimationWithStepsMetadata),CompileIdentifierMetadata=function(){function CompileIdentifierMetadata(_a){var _b=void 0===_a?{}:_a,reference=_b.reference,name=_b.name,moduleUrl=_b.moduleUrl,prefix=_b.prefix,value=_b.value;this.reference=reference,this.name=name,this.prefix=prefix,this.moduleUrl=moduleUrl,this.value=value}return Object.defineProperty(CompileIdentifierMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),CompileIdentifierMetadata}(),CompileDiDependencyMetadata=function(){function CompileDiDependencyMetadata(_a){var _b=void 0===_a?{}:_a,isAttribute=_b.isAttribute,isSelf=_b.isSelf,isHost=_b.isHost,isSkipSelf=_b.isSkipSelf,isOptional=_b.isOptional,isValue=_b.isValue,query=_b.query,viewQuery=_b.viewQuery,token=_b.token,value=_b.value;this.isAttribute=normalizeBool(isAttribute),this.isSelf=normalizeBool(isSelf),this.isHost=normalizeBool(isHost),this.isSkipSelf=normalizeBool(isSkipSelf),this.isOptional=normalizeBool(isOptional),this.isValue=normalizeBool(isValue),this.query=query,this.viewQuery=viewQuery,this.token=token,this.value=value}return CompileDiDependencyMetadata}(),CompileProviderMetadata=function(){function CompileProviderMetadata(_a){var token=_a.token,useClass=_a.useClass,useValue=_a.useValue,useExisting=_a.useExisting,useFactory=_a.useFactory,deps=_a.deps,multi=_a.multi;this.token=token,this.useClass=useClass,this.useValue=useValue,this.useExisting=useExisting,this.useFactory=useFactory,this.deps=normalizeBlank(deps),this.multi=normalizeBool(multi)}return CompileProviderMetadata}(),CompileFactoryMetadata=function(_super){function CompileFactoryMetadata(_a){var reference=_a.reference,name=_a.name,moduleUrl=_a.moduleUrl,prefix=_a.prefix,diDeps=_a.diDeps,value=_a.value;_super.call(this,{reference:reference,name:name,prefix:prefix,moduleUrl:moduleUrl,value:value}),this.diDeps=_normalizeArray(diDeps)}return __extends$1(CompileFactoryMetadata,_super),CompileFactoryMetadata}(CompileIdentifierMetadata),CompileTokenMetadata=function(){function CompileTokenMetadata(_a){var value=_a.value,identifier=_a.identifier,identifierIsInstance=_a.identifierIsInstance;this.value=value,this.identifier=identifier,this.identifierIsInstance=normalizeBool(identifierIsInstance)}return Object.defineProperty(CompileTokenMetadata.prototype,"reference",{get:function(){return isPresent(this.identifier)?this.identifier.reference:this.value},enumerable:!0,configurable:!0}),Object.defineProperty(CompileTokenMetadata.prototype,"name",{get:function(){return isPresent(this.value)?sanitizeIdentifier(this.value):this.identifier.name},enumerable:!0,configurable:!0}),CompileTokenMetadata}(),CompileTypeMetadata=function(_super){function CompileTypeMetadata(_a){var _b=void 0===_a?{}:_a,reference=_b.reference,name=_b.name,moduleUrl=_b.moduleUrl,prefix=_b.prefix,isHost=_b.isHost,value=_b.value,diDeps=_b.diDeps,lifecycleHooks=_b.lifecycleHooks;_super.call(this,{reference:reference,name:name,moduleUrl:moduleUrl,prefix:prefix,value:value}),this.isHost=normalizeBool(isHost),this.diDeps=_normalizeArray(diDeps),this.lifecycleHooks=_normalizeArray(lifecycleHooks)}return __extends$1(CompileTypeMetadata,_super),CompileTypeMetadata}(CompileIdentifierMetadata),CompileQueryMetadata=function(){function CompileQueryMetadata(_a){var _b=void 0===_a?{}:_a,selectors=_b.selectors,descendants=_b.descendants,first=_b.first,propertyName=_b.propertyName,read=_b.read;this.selectors=selectors,this.descendants=normalizeBool(descendants),this.first=normalizeBool(first),this.propertyName=propertyName,this.read=read}return CompileQueryMetadata}(),CompileStylesheetMetadata=function(){function CompileStylesheetMetadata(_a){var _b=void 0===_a?{}:_a,moduleUrl=_b.moduleUrl,styles=_b.styles,styleUrls=_b.styleUrls;this.moduleUrl=moduleUrl,this.styles=_normalizeArray(styles),this.styleUrls=_normalizeArray(styleUrls)}return CompileStylesheetMetadata}(),CompileTemplateMetadata=function(){function CompileTemplateMetadata(_a){var _b=void 0===_a?{}:_a,encapsulation=_b.encapsulation,template=_b.template,templateUrl=_b.templateUrl,styles=_b.styles,styleUrls=_b.styleUrls,externalStylesheets=_b.externalStylesheets,animations=_b.animations,ngContentSelectors=_b.ngContentSelectors,interpolation=_b.interpolation;if(this.encapsulation=encapsulation,this.template=template,this.templateUrl=templateUrl,this.styles=_normalizeArray(styles),this.styleUrls=_normalizeArray(styleUrls),this.externalStylesheets=_normalizeArray(externalStylesheets),this.animations=isPresent(animations)?ListWrapper.flatten(animations):[],this.ngContentSelectors=ngContentSelectors||[],isPresent(interpolation)&&2!=interpolation.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=interpolation}return CompileTemplateMetadata}(),CompileDirectiveMetadata=function(){function CompileDirectiveMetadata(_a){var _b=void 0===_a?{}:_a,type=_b.type,isComponent=_b.isComponent,selector=_b.selector,exportAs=_b.exportAs,changeDetection=_b.changeDetection,inputs=_b.inputs,outputs=_b.outputs,hostListeners=_b.hostListeners,hostProperties=_b.hostProperties,hostAttributes=_b.hostAttributes,providers=_b.providers,viewProviders=_b.viewProviders,queries=_b.queries,viewQueries=_b.viewQueries,entryComponents=_b.entryComponents,template=_b.template;this.type=type,this.isComponent=isComponent,this.selector=selector,this.exportAs=exportAs,this.changeDetection=changeDetection,this.inputs=inputs,this.outputs=outputs,this.hostListeners=hostListeners,this.hostProperties=hostProperties,this.hostAttributes=hostAttributes,this.providers=_normalizeArray(providers),this.viewProviders=_normalizeArray(viewProviders),this.queries=_normalizeArray(queries),this.viewQueries=_normalizeArray(viewQueries),this.entryComponents=_normalizeArray(entryComponents),this.template=template}return CompileDirectiveMetadata.create=function(_a){var _b=void 0===_a?{}:_a,type=_b.type,isComponent=_b.isComponent,selector=_b.selector,exportAs=_b.exportAs,changeDetection=_b.changeDetection,inputs=_b.inputs,outputs=_b.outputs,host=_b.host,providers=_b.providers,viewProviders=_b.viewProviders,queries=_b.queries,viewQueries=_b.viewQueries,entryComponents=_b.entryComponents,template=_b.template,hostListeners={},hostProperties={},hostAttributes={};isPresent(host)&&Object.keys(host).forEach(function(key){var value=host[key],matches=key.match(HOST_REG_EXP);null===matches?hostAttributes[key]=value:isPresent(matches[1])?hostProperties[matches[1]]=value:isPresent(matches[2])&&(hostListeners[matches[2]]=value)});var inputsMap={};isPresent(inputs)&&inputs.forEach(function(bindConfig){var parts=splitAtColon(bindConfig,[bindConfig,bindConfig]);inputsMap[parts[0]]=parts[1]});var outputsMap={};return isPresent(outputs)&&outputs.forEach(function(bindConfig){var parts=splitAtColon(bindConfig,[bindConfig,bindConfig]);outputsMap[parts[0]]=parts[1]}),new CompileDirectiveMetadata({type:type,isComponent:normalizeBool(isComponent),selector:selector,exportAs:exportAs,changeDetection:changeDetection,inputs:inputsMap,outputs:outputsMap,hostListeners:hostListeners,hostProperties:hostProperties,hostAttributes:hostAttributes,providers:providers,viewProviders:viewProviders,queries:queries,viewQueries:viewQueries,entryComponents:entryComponents,template:template})},Object.defineProperty(CompileDirectiveMetadata.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),CompileDirectiveMetadata}(),CompilePipeMetadata=function(){function CompilePipeMetadata(_a){var _b=void 0===_a?{}:_a,type=_b.type,name=_b.name,pure=_b.pure;this.type=type,this.name=name,this.pure=normalizeBool(pure)}return Object.defineProperty(CompilePipeMetadata.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),CompilePipeMetadata}(),CompileNgModuleMetadata=function(){function CompileNgModuleMetadata(_a){var _b=void 0===_a?{}:_a,type=_b.type,providers=_b.providers,declaredDirectives=_b.declaredDirectives,exportedDirectives=_b.exportedDirectives,declaredPipes=_b.declaredPipes,exportedPipes=_b.exportedPipes,entryComponents=_b.entryComponents,bootstrapComponents=_b.bootstrapComponents,importedModules=_b.importedModules,exportedModules=_b.exportedModules,schemas=_b.schemas,transitiveModule=_b.transitiveModule,id=_b.id;this.type=type,this.declaredDirectives=_normalizeArray(declaredDirectives),this.exportedDirectives=_normalizeArray(exportedDirectives),this.declaredPipes=_normalizeArray(declaredPipes),this.exportedPipes=_normalizeArray(exportedPipes),this.providers=_normalizeArray(providers),this.entryComponents=_normalizeArray(entryComponents),this.bootstrapComponents=_normalizeArray(bootstrapComponents),this.importedModules=_normalizeArray(importedModules),this.exportedModules=_normalizeArray(exportedModules),this.schemas=_normalizeArray(schemas),this.id=id,this.transitiveModule=transitiveModule}return Object.defineProperty(CompileNgModuleMetadata.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),CompileNgModuleMetadata}(),TransitiveCompileNgModuleMetadata=function(){function TransitiveCompileNgModuleMetadata(modules,providers,entryComponents,directives,pipes){var _this=this;this.modules=modules,this.providers=providers,this.entryComponents=entryComponents,this.directives=directives,this.pipes=pipes,this.directivesSet=new Set,this.pipesSet=new Set,directives.forEach(function(dir){return _this.directivesSet.add(dir.type.reference)}),pipes.forEach(function(pipe){return _this.pipesSet.add(pipe.type.reference)})}return TransitiveCompileNgModuleMetadata}(),ProviderMeta=function(){function ProviderMeta(token,_a){var useClass=_a.useClass,useValue=_a.useValue,useExisting=_a.useExisting,useFactory=_a.useFactory,deps=_a.deps,multi=_a.multi;this.token=token,this.useClass=useClass,this.useValue=useValue,this.useExisting=useExisting,this.useFactory=useFactory,this.dependencies=deps,this.multi=!!multi}return ProviderMeta}(),__extends$3=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ParserError=function(){function ParserError(message,input,errLocation,ctxLocation){this.input=input,this.errLocation=errLocation,this.ctxLocation=ctxLocation,this.message="Parser Error: "+message+" "+errLocation+" ["+input+"] in "+ctxLocation}return ParserError}(),ParseSpan=function(){function ParseSpan(start,end){this.start=start,this.end=end}return ParseSpan}(),AST=function(){function AST(span){this.span=span}return AST.prototype.visit=function(visitor,context){return void 0===context&&(context=null),null},AST.prototype.toString=function(){return"AST"},AST}(),Quote=function(_super){function Quote(span,prefix,uninterpretedExpression,location){_super.call(this,span),this.prefix=prefix,this.uninterpretedExpression=uninterpretedExpression,this.location=location}return __extends$3(Quote,_super),Quote.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitQuote(this,context)},Quote.prototype.toString=function(){return"Quote"},Quote}(AST),EmptyExpr=function(_super){function EmptyExpr(){_super.apply(this,arguments)}return __extends$3(EmptyExpr,_super),EmptyExpr.prototype.visit=function(visitor,context){void 0===context&&(context=null)},EmptyExpr}(AST),ImplicitReceiver=function(_super){function ImplicitReceiver(){_super.apply(this,arguments)}return __extends$3(ImplicitReceiver,_super),ImplicitReceiver.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitImplicitReceiver(this,context)},ImplicitReceiver}(AST),Chain=function(_super){function Chain(span,expressions){_super.call(this,span),this.expressions=expressions}return __extends$3(Chain,_super),Chain.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitChain(this,context)},Chain}(AST),Conditional=function(_super){function Conditional(span,condition,trueExp,falseExp){_super.call(this,span),this.condition=condition,this.trueExp=trueExp,this.falseExp=falseExp}return __extends$3(Conditional,_super),Conditional.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitConditional(this,context)},Conditional}(AST),PropertyRead=function(_super){function PropertyRead(span,receiver,name){_super.call(this,span),this.receiver=receiver,this.name=name}return __extends$3(PropertyRead,_super),PropertyRead.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitPropertyRead(this,context)},PropertyRead}(AST),PropertyWrite=function(_super){function PropertyWrite(span,receiver,name,value){_super.call(this,span),this.receiver=receiver,this.name=name,this.value=value}return __extends$3(PropertyWrite,_super),PropertyWrite.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitPropertyWrite(this,context)},PropertyWrite}(AST),SafePropertyRead=function(_super){function SafePropertyRead(span,receiver,name){_super.call(this,span),this.receiver=receiver,this.name=name}return __extends$3(SafePropertyRead,_super),SafePropertyRead.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitSafePropertyRead(this,context)},SafePropertyRead}(AST),KeyedRead=function(_super){function KeyedRead(span,obj,key){_super.call(this,span),this.obj=obj,this.key=key}return __extends$3(KeyedRead,_super),KeyedRead.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitKeyedRead(this,context)},KeyedRead}(AST),KeyedWrite=function(_super){function KeyedWrite(span,obj,key,value){_super.call(this,span),this.obj=obj,this.key=key,this.value=value}return __extends$3(KeyedWrite,_super),KeyedWrite.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitKeyedWrite(this,context)},KeyedWrite}(AST),BindingPipe=function(_super){function BindingPipe(span,exp,name,args){_super.call(this,span),this.exp=exp,this.name=name,this.args=args}return __extends$3(BindingPipe,_super),BindingPipe.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitPipe(this,context)},BindingPipe}(AST),LiteralPrimitive=function(_super){function LiteralPrimitive(span,value){_super.call(this,span),this.value=value}return __extends$3(LiteralPrimitive,_super),LiteralPrimitive.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitLiteralPrimitive(this,context)},LiteralPrimitive}(AST),LiteralArray=function(_super){function LiteralArray(span,expressions){_super.call(this,span),this.expressions=expressions}return __extends$3(LiteralArray,_super),LiteralArray.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitLiteralArray(this,context)},LiteralArray}(AST),LiteralMap=function(_super){function LiteralMap(span,keys,values){_super.call(this,span),this.keys=keys,this.values=values}return __extends$3(LiteralMap,_super),LiteralMap.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitLiteralMap(this,context)},LiteralMap}(AST),Interpolation=function(_super){function Interpolation(span,strings,expressions){_super.call(this,span),this.strings=strings,this.expressions=expressions}return __extends$3(Interpolation,_super),Interpolation.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitInterpolation(this,context)},Interpolation}(AST),Binary=function(_super){function Binary(span,operation,left,right){_super.call(this,span),this.operation=operation,this.left=left,this.right=right}return __extends$3(Binary,_super),Binary.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitBinary(this,context)},Binary}(AST),PrefixNot=function(_super){function PrefixNot(span,expression){_super.call(this,span),this.expression=expression}return __extends$3(PrefixNot,_super),PrefixNot.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitPrefixNot(this,context)},PrefixNot}(AST),MethodCall=function(_super){function MethodCall(span,receiver,name,args){_super.call(this,span),this.receiver=receiver,this.name=name,this.args=args}return __extends$3(MethodCall,_super),MethodCall.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitMethodCall(this,context)},MethodCall}(AST),SafeMethodCall=function(_super){function SafeMethodCall(span,receiver,name,args){_super.call(this,span),this.receiver=receiver,this.name=name,this.args=args}return __extends$3(SafeMethodCall,_super),SafeMethodCall.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitSafeMethodCall(this,context)},SafeMethodCall}(AST),FunctionCall=function(_super){function FunctionCall(span,target,args){_super.call(this,span),this.target=target,this.args=args}return __extends$3(FunctionCall,_super),
FunctionCall.prototype.visit=function(visitor,context){return void 0===context&&(context=null),visitor.visitFunctionCall(this,context)},FunctionCall}(AST),ASTWithSource=function(_super){function ASTWithSource(ast,source,location,errors){_super.call(this,new ParseSpan(0,isBlank(source)?0:source.length)),this.ast=ast,this.source=source,this.location=location,this.errors=errors}return __extends$3(ASTWithSource,_super),ASTWithSource.prototype.visit=function(visitor,context){return void 0===context&&(context=null),this.ast.visit(visitor,context)},ASTWithSource.prototype.toString=function(){return this.source+" in "+this.location},ASTWithSource}(AST),TemplateBinding=function(){function TemplateBinding(key,keyIsVar,name,expression){this.key=key,this.keyIsVar=keyIsVar,this.name=name,this.expression=expression}return TemplateBinding}(),RecursiveAstVisitor=function(){function RecursiveAstVisitor(){}return RecursiveAstVisitor.prototype.visitBinary=function(ast,context){return ast.left.visit(this),ast.right.visit(this),null},RecursiveAstVisitor.prototype.visitChain=function(ast,context){return this.visitAll(ast.expressions,context)},RecursiveAstVisitor.prototype.visitConditional=function(ast,context){return ast.condition.visit(this),ast.trueExp.visit(this),ast.falseExp.visit(this),null},RecursiveAstVisitor.prototype.visitPipe=function(ast,context){return ast.exp.visit(this),this.visitAll(ast.args,context),null},RecursiveAstVisitor.prototype.visitFunctionCall=function(ast,context){return ast.target.visit(this),this.visitAll(ast.args,context),null},RecursiveAstVisitor.prototype.visitImplicitReceiver=function(ast,context){return null},RecursiveAstVisitor.prototype.visitInterpolation=function(ast,context){return this.visitAll(ast.expressions,context)},RecursiveAstVisitor.prototype.visitKeyedRead=function(ast,context){return ast.obj.visit(this),ast.key.visit(this),null},RecursiveAstVisitor.prototype.visitKeyedWrite=function(ast,context){return ast.obj.visit(this),ast.key.visit(this),ast.value.visit(this),null},RecursiveAstVisitor.prototype.visitLiteralArray=function(ast,context){return this.visitAll(ast.expressions,context)},RecursiveAstVisitor.prototype.visitLiteralMap=function(ast,context){return this.visitAll(ast.values,context)},RecursiveAstVisitor.prototype.visitLiteralPrimitive=function(ast,context){return null},RecursiveAstVisitor.prototype.visitMethodCall=function(ast,context){return ast.receiver.visit(this),this.visitAll(ast.args,context)},RecursiveAstVisitor.prototype.visitPrefixNot=function(ast,context){return ast.expression.visit(this),null},RecursiveAstVisitor.prototype.visitPropertyRead=function(ast,context){return ast.receiver.visit(this),null},RecursiveAstVisitor.prototype.visitPropertyWrite=function(ast,context){return ast.receiver.visit(this),ast.value.visit(this),null},RecursiveAstVisitor.prototype.visitSafePropertyRead=function(ast,context){return ast.receiver.visit(this),null},RecursiveAstVisitor.prototype.visitSafeMethodCall=function(ast,context){return ast.receiver.visit(this),this.visitAll(ast.args,context)},RecursiveAstVisitor.prototype.visitAll=function(asts,context){var _this=this;return asts.forEach(function(ast){return ast.visit(_this,context)}),null},RecursiveAstVisitor.prototype.visitQuote=function(ast,context){return null},RecursiveAstVisitor}(),$EOF=0,$TAB=9,$LF=10,$VTAB=11,$FF=12,$CR=13,$SPACE=32,$BANG=33,$DQ=34,$HASH=35,$$=36,$PERCENT=37,$AMPERSAND=38,$SQ=39,$LPAREN=40,$RPAREN=41,$STAR=42,$PLUS=43,$COMMA=44,$MINUS=45,$PERIOD=46,$SLASH=47,$COLON=58,$SEMICOLON=59,$LT=60,$EQ=61,$GT=62,$QUESTION=63,$0=48,$9=57,$A=65,$E=69,$F=70,$X=88,$Z=90,$LBRACKET=91,$BACKSLASH=92,$RBRACKET=93,$CARET=94,$_=95,$a=97,$e=101,$f=102,$n=110,$r=114,$t=116,$u=117,$v=118,$x=120,$z=122,$LBRACE=123,$BAR=124,$RBRACE=125,$NBSP=160,$BT=96,INTERPOLATION_BLACKLIST_REGEXPS=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//],InterpolationConfig=function(){function InterpolationConfig(start,end){this.start=start,this.end=end}return InterpolationConfig.fromArray=function(markers){return markers?(assertInterpolationSymbols("interpolation",markers),new InterpolationConfig(markers[0],markers[1])):DEFAULT_INTERPOLATION_CONFIG},InterpolationConfig}(),DEFAULT_INTERPOLATION_CONFIG=new InterpolationConfig("{{","}}");exports.TokenType,function(TokenType){TokenType[TokenType.Character=0]="Character",TokenType[TokenType.Identifier=1]="Identifier",TokenType[TokenType.Keyword=2]="Keyword",TokenType[TokenType.String=3]="String",TokenType[TokenType.Operator=4]="Operator",TokenType[TokenType.Number=5]="Number",TokenType[TokenType.Error=6]="Error"}(exports.TokenType||(exports.TokenType={}));var KEYWORDS=["var","let","null","undefined","true","false","if","else","this"],Lexer=function(){function Lexer(){}return Lexer.prototype.tokenize=function(text){for(var scanner=new _Scanner(text),tokens=[],token=scanner.scanToken();null!=token;)tokens.push(token),token=scanner.scanToken();return tokens},Lexer.decorators=[{type:_angular_core.Injectable}],Lexer.ctorParameters=[],Lexer}(),Token=function(){function Token(index,type,numValue,strValue){this.index=index,this.type=type,this.numValue=numValue,this.strValue=strValue}return Token.prototype.isCharacter=function(code){return this.type==exports.TokenType.Character&&this.numValue==code},Token.prototype.isNumber=function(){return this.type==exports.TokenType.Number},Token.prototype.isString=function(){return this.type==exports.TokenType.String},Token.prototype.isOperator=function(operater){return this.type==exports.TokenType.Operator&&this.strValue==operater},Token.prototype.isIdentifier=function(){return this.type==exports.TokenType.Identifier},Token.prototype.isKeyword=function(){return this.type==exports.TokenType.Keyword},Token.prototype.isKeywordLet=function(){return this.type==exports.TokenType.Keyword&&"let"==this.strValue},Token.prototype.isKeywordNull=function(){return this.type==exports.TokenType.Keyword&&"null"==this.strValue},Token.prototype.isKeywordUndefined=function(){return this.type==exports.TokenType.Keyword&&"undefined"==this.strValue},Token.prototype.isKeywordTrue=function(){return this.type==exports.TokenType.Keyword&&"true"==this.strValue},Token.prototype.isKeywordFalse=function(){return this.type==exports.TokenType.Keyword&&"false"==this.strValue},Token.prototype.isKeywordThis=function(){return this.type==exports.TokenType.Keyword&&"this"==this.strValue},Token.prototype.isError=function(){return this.type==exports.TokenType.Error},Token.prototype.toNumber=function(){return this.type==exports.TokenType.Number?this.numValue:-1},Token.prototype.toString=function(){switch(this.type){case exports.TokenType.Character:case exports.TokenType.Identifier:case exports.TokenType.Keyword:case exports.TokenType.Operator:case exports.TokenType.String:case exports.TokenType.Error:return this.strValue;case exports.TokenType.Number:return this.numValue.toString();default:return null}},Token}(),EOF=new Token(-1,exports.TokenType.Character,0,""),_Scanner=function(){function _Scanner(input){this.input=input,this.peek=0,this.index=-1,this.length=input.length,this.advance()}return _Scanner.prototype.advance=function(){this.peek=++this.index>=this.length?$EOF:this.input.charCodeAt(this.index)},_Scanner.prototype.scanToken=function(){for(var input=this.input,length=this.length,peek=this.peek,index=this.index;$SPACE>=peek;){if(++index>=length){peek=$EOF;break}peek=input.charCodeAt(index)}if(this.peek=peek,this.index=index,index>=length)return null;if(isIdentifierStart(peek))return this.scanIdentifier();if(isDigit(peek))return this.scanNumber(index);var start=index;switch(peek){case $PERIOD:return this.advance(),isDigit(this.peek)?this.scanNumber(start):newCharacterToken(start,$PERIOD);case $LPAREN:case $RPAREN:case $LBRACE:case $RBRACE:case $LBRACKET:case $RBRACKET:case $COMMA:case $COLON:case $SEMICOLON:return this.scanCharacter(start,peek);case $SQ:case $DQ:return this.scanString();case $HASH:case $PLUS:case $MINUS:case $STAR:case $SLASH:case $PERCENT:case $CARET:return this.scanOperator(start,String.fromCharCode(peek));case $QUESTION:return this.scanComplexOperator(start,"?",$PERIOD,".");case $LT:case $GT:return this.scanComplexOperator(start,String.fromCharCode(peek),$EQ,"=");case $BANG:case $EQ:return this.scanComplexOperator(start,String.fromCharCode(peek),$EQ,"=",$EQ,"=");case $AMPERSAND:return this.scanComplexOperator(start,"&",$AMPERSAND,"&");case $BAR:return this.scanComplexOperator(start,"|",$BAR,"|");case $NBSP:for(;isWhitespace(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character ["+String.fromCharCode(peek)+"]",0)},_Scanner.prototype.scanCharacter=function(start,code){return this.advance(),newCharacterToken(start,code)},_Scanner.prototype.scanOperator=function(start,str){return this.advance(),newOperatorToken(start,str)},_Scanner.prototype.scanComplexOperator=function(start,one,twoCode,two,threeCode,three){this.advance();var str=one;return this.peek==twoCode&&(this.advance(),str+=two),isPresent(threeCode)&&this.peek==threeCode&&(this.advance(),str+=three),newOperatorToken(start,str)},_Scanner.prototype.scanIdentifier=function(){var start=this.index;for(this.advance();isIdentifierPart(this.peek);)this.advance();var str=this.input.substring(start,this.index);return KEYWORDS.indexOf(str)>-1?newKeywordToken(start,str):newIdentifierToken(start,str)},_Scanner.prototype.scanNumber=function(start){var simple=this.index===start;for(this.advance();;){if(isDigit(this.peek));else if(this.peek==$PERIOD)simple=!1;else{if(!isExponentStart(this.peek))break;if(this.advance(),isExponentSign(this.peek)&&this.advance(),!isDigit(this.peek))return this.error("Invalid exponent",-1);simple=!1}this.advance()}var str=this.input.substring(start,this.index),value=simple?NumberWrapper.parseIntAutoRadix(str):parseFloat(str);return newNumberToken(start,value)},_Scanner.prototype.scanString=function(){var start=this.index,quote=this.peek;this.advance();for(var buffer="",marker=this.index,input=this.input;this.peek!=quote;)if(this.peek==$BACKSLASH){buffer+=input.substring(marker,this.index),this.advance();var unescapedCode=void 0;if(this.peek==$u){var hex=input.substring(this.index+1,this.index+5);try{unescapedCode=NumberWrapper.parseInt(hex,16)}catch(e){return this.error("Invalid unicode escape [\\u"+hex+"]",0)}for(var i=0;5>i;i++)this.advance()}else unescapedCode=unescape(this.peek),this.advance();buffer+=String.fromCharCode(unescapedCode),marker=this.index}else{if(this.peek==$EOF)return this.error("Unterminated quote",0);this.advance()}var last=input.substring(marker,this.index);return this.advance(),newStringToken(start,buffer+last)},_Scanner.prototype.error=function(message,offset){var position=this.index+offset;return newErrorToken(position,"Lexer Error: "+message+" at column "+position+" in expression ["+this.input+"]")},_Scanner}(),SplitInterpolation=function(){function SplitInterpolation(strings,expressions,offsets){this.strings=strings,this.expressions=expressions,this.offsets=offsets}return SplitInterpolation}(),TemplateBindingParseResult=function(){function TemplateBindingParseResult(templateBindings,warnings,errors){this.templateBindings=templateBindings,this.warnings=warnings,this.errors=errors}return TemplateBindingParseResult}(),Parser=function(){function Parser(_lexer){this._lexer=_lexer,this.errors=[]}return Parser.prototype.parseAction=function(input,location,interpolationConfig){void 0===interpolationConfig&&(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG),this._checkNoInterpolation(input,location,interpolationConfig);var sourceToLex=this._stripComments(input),tokens=this._lexer.tokenize(this._stripComments(input)),ast=new _ParseAST(input,location,tokens,sourceToLex.length,!0,this.errors,input.length-sourceToLex.length).parseChain();return new ASTWithSource(ast,input,location,this.errors)},Parser.prototype.parseBinding=function(input,location,interpolationConfig){void 0===interpolationConfig&&(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG);var ast=this._parseBindingAst(input,location,interpolationConfig);return new ASTWithSource(ast,input,location,this.errors)},Parser.prototype.parseSimpleBinding=function(input,location,interpolationConfig){void 0===interpolationConfig&&(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG);var ast=this._parseBindingAst(input,location,interpolationConfig);return SimpleExpressionChecker.check(ast)||this._reportError("Host binding expression can only contain field access and constants",input,location),new ASTWithSource(ast,input,location,this.errors)},Parser.prototype._reportError=function(message,input,errLocation,ctxLocation){this.errors.push(new ParserError(message,input,errLocation,ctxLocation))},Parser.prototype._parseBindingAst=function(input,location,interpolationConfig){var quote=this._parseQuote(input,location);if(isPresent(quote))return quote;this._checkNoInterpolation(input,location,interpolationConfig);var sourceToLex=this._stripComments(input),tokens=this._lexer.tokenize(sourceToLex);return new _ParseAST(input,location,tokens,sourceToLex.length,!1,this.errors,input.length-sourceToLex.length).parseChain()},Parser.prototype._parseQuote=function(input,location){if(isBlank(input))return null;var prefixSeparatorIndex=input.indexOf(":");if(-1==prefixSeparatorIndex)return null;var prefix=input.substring(0,prefixSeparatorIndex).trim();if(!isIdentifier(prefix))return null;var uninterpretedExpression=input.substring(prefixSeparatorIndex+1);return new Quote(new ParseSpan(0,input.length),prefix,uninterpretedExpression,location)},Parser.prototype.parseTemplateBindings=function(input,location){var tokens=this._lexer.tokenize(input);return new _ParseAST(input,location,tokens,input.length,!1,this.errors,0).parseTemplateBindings()},Parser.prototype.parseInterpolation=function(input,location,interpolationConfig){void 0===interpolationConfig&&(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG);var split=this.splitInterpolation(input,location,interpolationConfig);if(null==split)return null;for(var expressions=[],i=0;i<split.expressions.length;++i){var expressionText=split.expressions[i],sourceToLex=this._stripComments(expressionText),tokens=this._lexer.tokenize(this._stripComments(split.expressions[i])),ast=new _ParseAST(input,location,tokens,sourceToLex.length,!1,this.errors,split.offsets[i]+(expressionText.length-sourceToLex.length)).parseChain();expressions.push(ast)}return new ASTWithSource(new Interpolation(new ParseSpan(0,isBlank(input)?0:input.length),split.strings,expressions),input,location,this.errors)},Parser.prototype.splitInterpolation=function(input,location,interpolationConfig){void 0===interpolationConfig&&(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG);var regexp=_createInterpolateRegExp(interpolationConfig),parts=input.split(regexp);if(parts.length<=1)return null;for(var strings=[],expressions=[],offsets=[],offset=0,i=0;i<parts.length;i++){var part=parts[i];i%2===0?(strings.push(part),offset+=part.length):part.trim().length>0?(offset+=interpolationConfig.start.length,expressions.push(part),offsets.push(offset),offset+=part.length+interpolationConfig.end.length):this._reportError("Blank expressions are not allowed in interpolated strings",input,"at column "+this._findInterpolationErrorColumn(parts,i,interpolationConfig)+" in",location)}return new SplitInterpolation(strings,expressions,offsets)},Parser.prototype.wrapLiteralPrimitive=function(input,location){return new ASTWithSource(new LiteralPrimitive(new ParseSpan(0,isBlank(input)?0:input.length),input),input,location,this.errors)},Parser.prototype._stripComments=function(input){var i=this._commentStart(input);return isPresent(i)?input.substring(0,i).trim():input},Parser.prototype._commentStart=function(input){for(var outerQuote=null,i=0;i<input.length-1;i++){var char=input.charCodeAt(i),nextChar=input.charCodeAt(i+1);if(char===$SLASH&&nextChar==$SLASH&&isBlank(outerQuote))return i;outerQuote===char?outerQuote=null:isBlank(outerQuote)&&isQuote(char)&&(outerQuote=char)}return null},Parser.prototype._checkNoInterpolation=function(input,location,interpolationConfig){var regexp=_createInterpolateRegExp(interpolationConfig),parts=input.split(regexp);parts.length>1&&this._reportError("Got interpolation ("+interpolationConfig.start+interpolationConfig.end+") where expression was expected",input,"at column "+this._findInterpolationErrorColumn(parts,1,interpolationConfig)+" in",location)},Parser.prototype._findInterpolationErrorColumn=function(parts,partInErrIdx,interpolationConfig){for(var errLocation="",j=0;partInErrIdx>j;j++)errLocation+=j%2===0?parts[j]:""+interpolationConfig.start+parts[j]+interpolationConfig.end;return errLocation.length},Parser.decorators=[{type:_angular_core.Injectable}],Parser.ctorParameters=[{type:Lexer}],Parser}(),_ParseAST=function(){function _ParseAST(input,location,tokens,inputLength,parseAction,errors,offset){this.input=input,this.location=location,this.tokens=tokens,this.inputLength=inputLength,this.parseAction=parseAction,this.errors=errors,this.offset=offset,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}return _ParseAST.prototype.peek=function(offset){var i=this.index+offset;return i<this.tokens.length?this.tokens[i]:EOF},Object.defineProperty(_ParseAST.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(_ParseAST.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset},enumerable:!0,configurable:!0}),_ParseAST.prototype.span=function(start){return new ParseSpan(start,this.inputIndex)},_ParseAST.prototype.advance=function(){this.index++},_ParseAST.prototype.optionalCharacter=function(code){return this.next.isCharacter(code)?(this.advance(),!0):!1},_ParseAST.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},_ParseAST.prototype.expectCharacter=function(code){this.optionalCharacter(code)||this.error("Missing expected "+String.fromCharCode(code))},_ParseAST.prototype.optionalOperator=function(op){return this.next.isOperator(op)?(this.advance(),!0):!1},_ParseAST.prototype.expectOperator=function(operator){this.optionalOperator(operator)||this.error("Missing expected operator "+operator)},_ParseAST.prototype.expectIdentifierOrKeyword=function(){var n=this.next;return n.isIdentifier()||n.isKeyword()?(this.advance(),n.toString()):(this.error("Unexpected token "+n+", expected identifier or keyword"),"")},_ParseAST.prototype.expectIdentifierOrKeywordOrString=function(){var n=this.next;return n.isIdentifier()||n.isKeyword()||n.isString()?(this.advance(),n.toString()):(this.error("Unexpected token "+n+", expected identifier, keyword, or string"),"")},_ParseAST.prototype.parseChain=function(){for(var exprs=[],start=this.inputIndex;this.index<this.tokens.length;){var expr=this.parsePipe();if(exprs.push(expr),this.optionalCharacter($SEMICOLON))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter($SEMICOLON););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==exprs.length?new EmptyExpr(this.span(start)):1==exprs.length?exprs[0]:new Chain(this.span(start),exprs)},_ParseAST.prototype.parsePipe=function(){var result=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var name=this.expectIdentifierOrKeyword(),args=[];this.optionalCharacter($COLON);)args.push(this.parseExpression());result=new BindingPipe(this.span(result.span.start-this.offset),result,name,args)}while(this.optionalOperator("|"))}return result},_ParseAST.prototype.parseExpression=function(){return this.parseConditional()},_ParseAST.prototype.parseConditional=function(){var start=this.inputIndex,result=this.parseLogicalOr();if(this.optionalOperator("?")){var yes=this.parsePipe(),no=void 0;if(this.optionalCharacter($COLON))no=this.parsePipe();else{var end=this.inputIndex,expression=this.input.substring(start,end);this.error("Conditional expression "+expression+" requires all 3 expressions"),no=new EmptyExpr(this.span(start))}return new Conditional(this.span(start),result,yes,no)}return result},_ParseAST.prototype.parseLogicalOr=function(){for(var result=this.parseLogicalAnd();this.optionalOperator("||");){var right=this.parseLogicalAnd();result=new Binary(this.span(result.span.start),"||",result,right)}return result},_ParseAST.prototype.parseLogicalAnd=function(){for(var result=this.parseEquality();this.optionalOperator("&&");){var right=this.parseEquality();result=new Binary(this.span(result.span.start),"&&",result,right)}return result},_ParseAST.prototype.parseEquality=function(){for(var result=this.parseRelational();this.next.type==exports.TokenType.Operator;){var operator=this.next.strValue;switch(operator){case"==":case"===":case"!=":case"!==":this.advance();var right=this.parseRelational();result=new Binary(this.span(result.span.start),operator,result,right);continue}break}return result},_ParseAST.prototype.parseRelational=function(){for(var result=this.parseAdditive();this.next.type==exports.TokenType.Operator;){var operator=this.next.strValue;switch(operator){case"<":case">":case"<=":case">=":this.advance();var right=this.parseAdditive();result=new Binary(this.span(result.span.start),operator,result,right);continue}break}return result},_ParseAST.prototype.parseAdditive=function(){for(var result=this.parseMultiplicative();this.next.type==exports.TokenType.Operator;){var operator=this.next.strValue;switch(operator){case"+":case"-":this.advance();var right=this.parseMultiplicative();result=new Binary(this.span(result.span.start),operator,result,right);continue}break}return result},_ParseAST.prototype.parseMultiplicative=function(){for(var result=this.parsePrefix();this.next.type==exports.TokenType.Operator;){var operator=this.next.strValue;switch(operator){case"*":case"%":case"/":this.advance();var right=this.parsePrefix();result=new Binary(this.span(result.span.start),operator,result,right);continue}break}return result},_ParseAST.prototype.parsePrefix=function(){if(this.next.type==exports.TokenType.Operator){var start=this.inputIndex,operator=this.next.strValue,result=void 0;switch(operator){case"+":return this.advance(),this.parsePrefix();case"-":return this.advance(),result=this.parsePrefix(),new Binary(this.span(start),operator,new LiteralPrimitive(new ParseSpan(start,start),0),result);case"!":return this.advance(),result=this.parsePrefix(),new PrefixNot(this.span(start),result)}}return this.parseCallChain()},_ParseAST.prototype.parseCallChain=function(){for(var result=this.parsePrimary();;)if(this.optionalCharacter($PERIOD))result=this.parseAccessMemberOrMethodCall(result,!1);else if(this.optionalOperator("?."))result=this.parseAccessMemberOrMethodCall(result,!0);else if(this.optionalCharacter($LBRACKET)){this.rbracketsExpected++;var key=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter($RBRACKET),this.optionalOperator("=")){var value=this.parseConditional();result=new KeyedWrite(this.span(result.span.start),result,key,value)}else result=new KeyedRead(this.span(result.span.start),result,key)}else{if(!this.optionalCharacter($LPAREN))return result;this.rparensExpected++;var args=this.parseCallArguments();this.rparensExpected--,this.expectCharacter($RPAREN),result=new FunctionCall(this.span(result.span.start),result,args)}},_ParseAST.prototype.parsePrimary=function(){var start=this.inputIndex;if(this.optionalCharacter($LPAREN)){this.rparensExpected++;var result=this.parsePipe();return this.rparensExpected--,this.expectCharacter($RPAREN),result}if(this.next.isKeywordNull())return this.advance(),new LiteralPrimitive(this.span(start),null);if(this.next.isKeywordUndefined())return this.advance(),new LiteralPrimitive(this.span(start),void 0);if(this.next.isKeywordTrue())return this.advance(),new LiteralPrimitive(this.span(start),!0);if(this.next.isKeywordFalse())return this.advance(),new LiteralPrimitive(this.span(start),!1);if(this.next.isKeywordThis())return this.advance(),new ImplicitReceiver(this.span(start));if(this.optionalCharacter($LBRACKET)){this.rbracketsExpected++;var elements=this.parseExpressionList($RBRACKET);return this.rbracketsExpected--,this.expectCharacter($RBRACKET),new LiteralArray(this.span(start),elements)}if(this.next.isCharacter($LBRACE))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new ImplicitReceiver(this.span(start)),!1);if(this.next.isNumber()){var value=this.next.toNumber();return this.advance(),new LiteralPrimitive(this.span(start),value)}if(this.next.isString()){var literalValue=this.next.toString();return this.advance(),new LiteralPrimitive(this.span(start),literalValue)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: "+this.input),new EmptyExpr(this.span(start))):(this.error("Unexpected token "+this.next),new EmptyExpr(this.span(start)))},_ParseAST.prototype.parseExpressionList=function(terminator){var result=[];if(!this.next.isCharacter(terminator))do result.push(this.parsePipe());while(this.optionalCharacter($COMMA));return result},_ParseAST.prototype.parseLiteralMap=function(){var keys=[],values=[],start=this.inputIndex;if(this.expectCharacter($LBRACE),!this.optionalCharacter($RBRACE)){this.rbracesExpected++;do{var key=this.expectIdentifierOrKeywordOrString();keys.push(key),this.expectCharacter($COLON),values.push(this.parsePipe())}while(this.optionalCharacter($COMMA));this.rbracesExpected--,this.expectCharacter($RBRACE)}return new LiteralMap(this.span(start),keys,values)},_ParseAST.prototype.parseAccessMemberOrMethodCall=function(receiver,isSafe){void 0===isSafe&&(isSafe=!1);var start=receiver.span.start,id=this.expectIdentifierOrKeyword();if(this.optionalCharacter($LPAREN)){this.rparensExpected++;var args=this.parseCallArguments();this.expectCharacter($RPAREN),this.rparensExpected--;var span=this.span(start);return isSafe?new SafeMethodCall(span,receiver,id,args):new MethodCall(span,receiver,id,args)}if(isSafe)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new EmptyExpr(this.span(start))):new SafePropertyRead(this.span(start),receiver,id);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new EmptyExpr(this.span(start));var value=this.parseConditional();return new PropertyWrite(this.span(start),receiver,id,value)}return new PropertyRead(this.span(start),receiver,id)},_ParseAST.prototype.parseCallArguments=function(){if(this.next.isCharacter($RPAREN))return[];var positionals=[];do positionals.push(this.parsePipe());while(this.optionalCharacter($COMMA));return positionals},_ParseAST.prototype.expectTemplateBindingKey=function(){var result="",operatorFound=!1;do result+=this.expectIdentifierOrKeywordOrString(),operatorFound=this.optionalOperator("-"),operatorFound&&(result+="-");while(operatorFound);return result.toString()},_ParseAST.prototype.parseTemplateBindings=function(){for(var bindings=[],prefix=null,warnings=[];this.index<this.tokens.length;){var keyIsVar=this.peekKeywordLet();keyIsVar&&this.advance();var key=this.expectTemplateBindingKey();keyIsVar||(null==prefix?prefix=key:key=prefix+key[0].toUpperCase()+key.substring(1)),this.optionalCharacter($COLON);var name=null,expression=null;if(keyIsVar)name=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.next!==EOF&&!this.peekKeywordLet()){var start=this.inputIndex,ast=this.parsePipe(),source=this.input.substring(start,this.inputIndex);expression=new ASTWithSource(ast,source,this.location,this.errors)}bindings.push(new TemplateBinding(key,keyIsVar,name,expression)),this.optionalCharacter($SEMICOLON)||this.optionalCharacter($COMMA)}return new TemplateBindingParseResult(bindings,warnings,this.errors)},_ParseAST.prototype.error=function(message,index){void 0===index&&(index=null),this.errors.push(new ParserError(message,this.input,this.locationText(index),this.location)),this.skip()},_ParseAST.prototype.locationText=function(index){return void 0===index&&(index=null),isBlank(index)&&(index=this.index),index<this.tokens.length?"at column "+(this.tokens[index].index+1)+" in":"at the end of the expression"},_ParseAST.prototype.skip=function(){for(var n=this.next;this.index<this.tokens.length&&!n.isCharacter($SEMICOLON)&&(this.rparensExpected<=0||!n.isCharacter($RPAREN))&&(this.rbracesExpected<=0||!n.isCharacter($RBRACE))&&(this.rbracketsExpected<=0||!n.isCharacter($RBRACKET));)this.next.isError()&&this.errors.push(new ParserError(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),n=this.next},_ParseAST}(),SimpleExpressionChecker=function(){function SimpleExpressionChecker(){this.simple=!0}return SimpleExpressionChecker.check=function(ast){var s=new SimpleExpressionChecker;return ast.visit(s),s.simple},SimpleExpressionChecker.prototype.visitImplicitReceiver=function(ast,context){},SimpleExpressionChecker.prototype.visitInterpolation=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitLiteralPrimitive=function(ast,context){},SimpleExpressionChecker.prototype.visitPropertyRead=function(ast,context){},SimpleExpressionChecker.prototype.visitPropertyWrite=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitSafePropertyRead=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitMethodCall=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitSafeMethodCall=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitFunctionCall=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitLiteralArray=function(ast,context){this.visitAll(ast.expressions)},SimpleExpressionChecker.prototype.visitLiteralMap=function(ast,context){this.visitAll(ast.values)},SimpleExpressionChecker.prototype.visitBinary=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitPrefixNot=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitConditional=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitPipe=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitKeyedRead=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitKeyedWrite=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitAll=function(asts){var _this=this;return asts.map(function(node){return node.visit(_this)})},SimpleExpressionChecker.prototype.visitChain=function(ast,context){this.simple=!1},SimpleExpressionChecker.prototype.visitQuote=function(ast,context){this.simple=!1},SimpleExpressionChecker}(),ParseLocation=function(){function ParseLocation(file,offset,line,col){this.file=file,this.offset=offset,this.line=line,this.col=col}return ParseLocation.prototype.toString=function(){return isPresent(this.offset)?this.file.url+"@"+this.line+":"+this.col:this.file.url},ParseLocation}(),ParseSourceFile=function(){function ParseSourceFile(content,url){this.content=content,this.url=url}return ParseSourceFile}(),ParseSourceSpan=function(){function ParseSourceSpan(start,end,details){void 0===details&&(details=null),this.start=start,this.end=end,this.details=details}return ParseSourceSpan.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},ParseSourceSpan}();exports.ParseErrorLevel,function(ParseErrorLevel){ParseErrorLevel[ParseErrorLevel.WARNING=0]="WARNING",ParseErrorLevel[ParseErrorLevel.FATAL=1]="FATAL"}(exports.ParseErrorLevel||(exports.ParseErrorLevel={}));var TokenType$1,ParseError=function(){function ParseError(span,msg,level){void 0===level&&(level=exports.ParseErrorLevel.FATAL),this.span=span,this.msg=msg,this.level=level}return ParseError.prototype.toString=function(){var source=this.span.start.file.content,ctxStart=this.span.start.offset,contextStr="",details="";
if(isPresent(ctxStart)){ctxStart>source.length-1&&(ctxStart=source.length-1);for(var ctxEnd=ctxStart,ctxLen=0,ctxLines=0;100>ctxLen&&ctxStart>0&&(ctxStart--,ctxLen++,"\n"!=source[ctxStart]||3!=++ctxLines););for(ctxLen=0,ctxLines=0;100>ctxLen&&ctxEnd<source.length-1&&(ctxEnd++,ctxLen++,"\n"!=source[ctxEnd]||3!=++ctxLines););var context=source.substring(ctxStart,this.span.start.offset)+"[ERROR ->]"+source.substring(this.span.start.offset,ctxEnd+1);contextStr=' ("'+context+'")'}return this.span.details&&(details=", "+this.span.details),""+this.msg+contextStr+": "+this.span.start+details},ParseError}(),Text=function(){function Text(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}return Text.prototype.visit=function(visitor,context){return visitor.visitText(this,context)},Text}(),Expansion=function(){function Expansion(switchValue,type,cases,sourceSpan,switchValueSourceSpan){this.switchValue=switchValue,this.type=type,this.cases=cases,this.sourceSpan=sourceSpan,this.switchValueSourceSpan=switchValueSourceSpan}return Expansion.prototype.visit=function(visitor,context){return visitor.visitExpansion(this,context)},Expansion}(),ExpansionCase=function(){function ExpansionCase(value,expression,sourceSpan,valueSourceSpan,expSourceSpan){this.value=value,this.expression=expression,this.sourceSpan=sourceSpan,this.valueSourceSpan=valueSourceSpan,this.expSourceSpan=expSourceSpan}return ExpansionCase.prototype.visit=function(visitor,context){return visitor.visitExpansionCase(this,context)},ExpansionCase}(),Attribute$1=function(){function Attribute(name,value,sourceSpan,valueSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan}return Attribute.prototype.visit=function(visitor,context){return visitor.visitAttribute(this,context)},Attribute}(),Element=function(){function Element(name,attrs,children,sourceSpan,startSourceSpan,endSourceSpan){this.name=name,this.attrs=attrs,this.children=children,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan}return Element.prototype.visit=function(visitor,context){return visitor.visitElement(this,context)},Element}(),Comment=function(){function Comment(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}return Comment.prototype.visit=function(visitor,context){return visitor.visitComment(this,context)},Comment}(),__extends$5=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)};!function(TokenType){TokenType[TokenType.TAG_OPEN_START=0]="TAG_OPEN_START",TokenType[TokenType.TAG_OPEN_END=1]="TAG_OPEN_END",TokenType[TokenType.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",TokenType[TokenType.TAG_CLOSE=3]="TAG_CLOSE",TokenType[TokenType.TEXT=4]="TEXT",TokenType[TokenType.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",TokenType[TokenType.RAW_TEXT=6]="RAW_TEXT",TokenType[TokenType.COMMENT_START=7]="COMMENT_START",TokenType[TokenType.COMMENT_END=8]="COMMENT_END",TokenType[TokenType.CDATA_START=9]="CDATA_START",TokenType[TokenType.CDATA_END=10]="CDATA_END",TokenType[TokenType.ATTR_NAME=11]="ATTR_NAME",TokenType[TokenType.ATTR_VALUE=12]="ATTR_VALUE",TokenType[TokenType.DOC_TYPE=13]="DOC_TYPE",TokenType[TokenType.EXPANSION_FORM_START=14]="EXPANSION_FORM_START",TokenType[TokenType.EXPANSION_CASE_VALUE=15]="EXPANSION_CASE_VALUE",TokenType[TokenType.EXPANSION_CASE_EXP_START=16]="EXPANSION_CASE_EXP_START",TokenType[TokenType.EXPANSION_CASE_EXP_END=17]="EXPANSION_CASE_EXP_END",TokenType[TokenType.EXPANSION_FORM_END=18]="EXPANSION_FORM_END",TokenType[TokenType.EOF=19]="EOF"}(TokenType$1||(TokenType$1={}));var _VisitorMode,Token$1=function(){function Token(type,parts,sourceSpan){this.type=type,this.parts=parts,this.sourceSpan=sourceSpan}return Token}(),TokenError=function(_super){function TokenError(errorMsg,tokenType,span){_super.call(this,span,errorMsg),this.tokenType=tokenType}return __extends$5(TokenError,_super),TokenError}(ParseError),TokenizeResult=function(){function TokenizeResult(tokens,errors){this.tokens=tokens,this.errors=errors}return TokenizeResult}(),_CR_OR_CRLF_REGEXP=/\r\n?/g,_ControlFlowError=function(){function _ControlFlowError(error){this.error=error}return _ControlFlowError}(),_Tokenizer=function(){function _Tokenizer(_file,_getTagDefinition,_tokenizeIcu,_interpolationConfig){void 0===_interpolationConfig&&(_interpolationConfig=DEFAULT_INTERPOLATION_CONFIG),this._file=_file,this._getTagDefinition=_getTagDefinition,this._tokenizeIcu=_tokenizeIcu,this._interpolationConfig=_interpolationConfig,this._peek=-1,this._nextPeek=-1,this._index=-1,this._line=0,this._column=-1,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._input=_file.content,this._length=_file.content.length,this._advance()}return _Tokenizer.prototype._processCarriageReturns=function(content){return content.replace(_CR_OR_CRLF_REGEXP,"\n")},_Tokenizer.prototype.tokenize=function(){for(;this._peek!==$EOF;){var start=this._getLocation();try{this._attemptCharCode($LT)?this._attemptCharCode($BANG)?this._attemptCharCode($LBRACKET)?this._consumeCdata(start):this._attemptCharCode($MINUS)?this._consumeComment(start):this._consumeDocType(start):this._attemptCharCode($SLASH)?this._consumeTagClose(start):this._consumeTagOpen(start):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(e){if(!(e instanceof _ControlFlowError))throw e;this.errors.push(e.error)}}return this._beginToken(TokenType$1.EOF),this._endToken([]),new TokenizeResult(mergeTextTokens(this.tokens),this.errors)},_Tokenizer.prototype._tokenizeExpansionForm=function(){if(isExpansionFormStart(this._input,this._index,this._interpolationConfig))return this._consumeExpansionFormStart(),!0;if(isExpansionCaseStart(this._peek)&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._peek===$RBRACE){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1},_Tokenizer.prototype._getLocation=function(){return new ParseLocation(this._file,this._index,this._line,this._column)},_Tokenizer.prototype._getSpan=function(start,end){return void 0===start&&(start=this._getLocation()),void 0===end&&(end=this._getLocation()),new ParseSourceSpan(start,end)},_Tokenizer.prototype._beginToken=function(type,start){void 0===start&&(start=this._getLocation()),this._currentTokenStart=start,this._currentTokenType=type},_Tokenizer.prototype._endToken=function(parts,end){void 0===end&&(end=this._getLocation());var token=new Token$1(this._currentTokenType,parts,new ParseSourceSpan(this._currentTokenStart,end));return this.tokens.push(token),this._currentTokenStart=null,this._currentTokenType=null,token},_Tokenizer.prototype._createError=function(msg,span){this._isInExpansionForm()&&(msg+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');var error=new TokenError(msg,this._currentTokenType,span);return this._currentTokenStart=null,this._currentTokenType=null,new _ControlFlowError(error)},_Tokenizer.prototype._advance=function(){if(this._index>=this._length)throw this._createError(_unexpectedCharacterErrorMsg($EOF),this._getSpan());this._peek===$LF?(this._line++,this._column=0):this._peek!==$LF&&this._peek!==$CR&&this._column++,this._index++,this._peek=this._index>=this._length?$EOF:this._input.charCodeAt(this._index),this._nextPeek=this._index+1>=this._length?$EOF:this._input.charCodeAt(this._index+1)},_Tokenizer.prototype._attemptCharCode=function(charCode){return this._peek===charCode?(this._advance(),!0):!1},_Tokenizer.prototype._attemptCharCodeCaseInsensitive=function(charCode){return compareCharCodeCaseInsensitive(this._peek,charCode)?(this._advance(),!0):!1},_Tokenizer.prototype._requireCharCode=function(charCode){var location=this._getLocation();if(!this._attemptCharCode(charCode))throw this._createError(_unexpectedCharacterErrorMsg(this._peek),this._getSpan(location,location))},_Tokenizer.prototype._attemptStr=function(chars){var len=chars.length;if(this._index+len>this._length)return!1;for(var initialPosition=this._savePosition(),i=0;len>i;i++)if(!this._attemptCharCode(chars.charCodeAt(i)))return this._restorePosition(initialPosition),!1;return!0},_Tokenizer.prototype._attemptStrCaseInsensitive=function(chars){for(var i=0;i<chars.length;i++)if(!this._attemptCharCodeCaseInsensitive(chars.charCodeAt(i)))return!1;return!0},_Tokenizer.prototype._requireStr=function(chars){var location=this._getLocation();if(!this._attemptStr(chars))throw this._createError(_unexpectedCharacterErrorMsg(this._peek),this._getSpan(location))},_Tokenizer.prototype._attemptCharCodeUntilFn=function(predicate){for(;!predicate(this._peek);)this._advance()},_Tokenizer.prototype._requireCharCodeUntilFn=function(predicate,len){var start=this._getLocation();if(this._attemptCharCodeUntilFn(predicate),this._index-start.offset<len)throw this._createError(_unexpectedCharacterErrorMsg(this._peek),this._getSpan(start,start))},_Tokenizer.prototype._attemptUntilChar=function(char){for(;this._peek!==char;)this._advance()},_Tokenizer.prototype._readChar=function(decodeEntities){if(decodeEntities&&this._peek===$AMPERSAND)return this._decodeEntity();var index=this._index;return this._advance(),this._input[index]},_Tokenizer.prototype._decodeEntity=function(){var start=this._getLocation();if(this._advance(),!this._attemptCharCode($HASH)){var startPosition=this._savePosition();if(this._attemptCharCodeUntilFn(isNamedEntityEnd),this._peek!=$SEMICOLON)return this._restorePosition(startPosition),"&";this._advance();var name_1=this._input.substring(start.offset+1,this._index-1),char=NAMED_ENTITIES[name_1];if(!char)throw this._createError(_unknownEntityErrorMsg(name_1),this._getSpan(start));return char}var isHex=this._attemptCharCode($x)||this._attemptCharCode($X),numberStart=this._getLocation().offset;if(this._attemptCharCodeUntilFn(isDigitEntityEnd),this._peek!=$SEMICOLON)throw this._createError(_unexpectedCharacterErrorMsg(this._peek),this._getSpan());this._advance();var strNum=this._input.substring(numberStart,this._index-1);try{var charCode=parseInt(strNum,isHex?16:10);return String.fromCharCode(charCode)}catch(e){var entity=this._input.substring(start.offset+1,this._index-1);throw this._createError(_unknownEntityErrorMsg(entity),this._getSpan(start))}},_Tokenizer.prototype._consumeRawText=function(decodeEntities,firstCharOfEnd,attemptEndRest){var tagCloseStart,textStart=this._getLocation();this._beginToken(decodeEntities?TokenType$1.ESCAPABLE_RAW_TEXT:TokenType$1.RAW_TEXT,textStart);for(var parts=[];;){if(tagCloseStart=this._getLocation(),this._attemptCharCode(firstCharOfEnd)&&attemptEndRest())break;for(this._index>tagCloseStart.offset&&parts.push(this._input.substring(tagCloseStart.offset,this._index));this._peek!==firstCharOfEnd;)parts.push(this._readChar(decodeEntities))}return this._endToken([this._processCarriageReturns(parts.join(""))],tagCloseStart)},_Tokenizer.prototype._consumeComment=function(start){var _this=this;this._beginToken(TokenType$1.COMMENT_START,start),this._requireCharCode($MINUS),this._endToken([]);var textToken=this._consumeRawText(!1,$MINUS,function(){return _this._attemptStr("->")});this._beginToken(TokenType$1.COMMENT_END,textToken.sourceSpan.end),this._endToken([])},_Tokenizer.prototype._consumeCdata=function(start){var _this=this;this._beginToken(TokenType$1.CDATA_START,start),this._requireStr("CDATA["),this._endToken([]);var textToken=this._consumeRawText(!1,$RBRACKET,function(){return _this._attemptStr("]>")});this._beginToken(TokenType$1.CDATA_END,textToken.sourceSpan.end),this._endToken([])},_Tokenizer.prototype._consumeDocType=function(start){this._beginToken(TokenType$1.DOC_TYPE,start),this._attemptUntilChar($GT),this._advance(),this._endToken([this._input.substring(start.offset+2,this._index-1)])},_Tokenizer.prototype._consumePrefixAndName=function(){for(var nameOrPrefixStart=this._index,prefix=null;this._peek!==$COLON&&!isPrefixEnd(this._peek);)this._advance();var nameStart;this._peek===$COLON?(this._advance(),prefix=this._input.substring(nameOrPrefixStart,this._index-1),nameStart=this._index):nameStart=nameOrPrefixStart,this._requireCharCodeUntilFn(isNameEnd,this._index===nameStart?1:0);var name=this._input.substring(nameStart,this._index);return[prefix,name]},_Tokenizer.prototype._consumeTagOpen=function(start){var tagName,lowercaseTagName,savedPos=this._savePosition();try{if(!isAsciiLetter(this._peek))throw this._createError(_unexpectedCharacterErrorMsg(this._peek),this._getSpan());var nameStart=this._index;for(this._consumeTagOpenStart(start),tagName=this._input.substring(nameStart,this._index),lowercaseTagName=tagName.toLowerCase(),this._attemptCharCodeUntilFn(isNotWhitespace);this._peek!==$SLASH&&this._peek!==$GT;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._attemptCharCode($EQ)&&(this._attemptCharCodeUntilFn(isNotWhitespace),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(isNotWhitespace);this._consumeTagOpenEnd()}catch(e){if(e instanceof _ControlFlowError)return this._restorePosition(savedPos),this._beginToken(TokenType$1.TEXT,start),void this._endToken(["<"]);throw e}var contentTokenType=this._getTagDefinition(tagName).contentType;contentTokenType===TagContentType.RAW_TEXT?this._consumeRawTextWithTagClose(lowercaseTagName,!1):contentTokenType===TagContentType.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(lowercaseTagName,!0)},_Tokenizer.prototype._consumeRawTextWithTagClose=function(lowercaseTagName,decodeEntities){var _this=this,textToken=this._consumeRawText(decodeEntities,$LT,function(){return _this._attemptCharCode($SLASH)?(_this._attemptCharCodeUntilFn(isNotWhitespace),_this._attemptStrCaseInsensitive(lowercaseTagName)?(_this._attemptCharCodeUntilFn(isNotWhitespace),_this._attemptCharCode($GT)):!1):!1});this._beginToken(TokenType$1.TAG_CLOSE,textToken.sourceSpan.end),this._endToken([null,lowercaseTagName])},_Tokenizer.prototype._consumeTagOpenStart=function(start){this._beginToken(TokenType$1.TAG_OPEN_START,start);var parts=this._consumePrefixAndName();this._endToken(parts)},_Tokenizer.prototype._consumeAttributeName=function(){this._beginToken(TokenType$1.ATTR_NAME);var prefixAndName=this._consumePrefixAndName();this._endToken(prefixAndName)},_Tokenizer.prototype._consumeAttributeValue=function(){this._beginToken(TokenType$1.ATTR_VALUE);var value;if(this._peek===$SQ||this._peek===$DQ){var quoteChar=this._peek;this._advance();for(var parts=[];this._peek!==quoteChar;)parts.push(this._readChar(!0));value=parts.join(""),this._advance()}else{var valueStart=this._index;this._requireCharCodeUntilFn(isNameEnd,1),value=this._input.substring(valueStart,this._index)}this._endToken([this._processCarriageReturns(value)])},_Tokenizer.prototype._consumeTagOpenEnd=function(){var tokenType=this._attemptCharCode($SLASH)?TokenType$1.TAG_OPEN_END_VOID:TokenType$1.TAG_OPEN_END;this._beginToken(tokenType),this._requireCharCode($GT),this._endToken([])},_Tokenizer.prototype._consumeTagClose=function(start){this._beginToken(TokenType$1.TAG_CLOSE,start),this._attemptCharCodeUntilFn(isNotWhitespace);var prefixAndName=this._consumePrefixAndName();this._attemptCharCodeUntilFn(isNotWhitespace),this._requireCharCode($GT),this._endToken(prefixAndName)},_Tokenizer.prototype._consumeExpansionFormStart=function(){this._beginToken(TokenType$1.EXPANSION_FORM_START,this._getLocation()),this._requireCharCode($LBRACE),this._endToken([]),this._expansionCaseStack.push(TokenType$1.EXPANSION_FORM_START),this._beginToken(TokenType$1.RAW_TEXT,this._getLocation());var condition=this._readUntil($COMMA);this._endToken([condition],this._getLocation()),this._requireCharCode($COMMA),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(TokenType$1.RAW_TEXT,this._getLocation());var type=this._readUntil($COMMA);this._endToken([type],this._getLocation()),this._requireCharCode($COMMA),this._attemptCharCodeUntilFn(isNotWhitespace)},_Tokenizer.prototype._consumeExpansionCaseStart=function(){this._beginToken(TokenType$1.EXPANSION_CASE_VALUE,this._getLocation());var value=this._readUntil($LBRACE).trim();this._endToken([value],this._getLocation()),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(TokenType$1.EXPANSION_CASE_EXP_START,this._getLocation()),this._requireCharCode($LBRACE),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.push(TokenType$1.EXPANSION_CASE_EXP_START)},_Tokenizer.prototype._consumeExpansionCaseEnd=function(){this._beginToken(TokenType$1.EXPANSION_CASE_EXP_END,this._getLocation()),this._requireCharCode($RBRACE),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.pop()},_Tokenizer.prototype._consumeExpansionFormEnd=function(){this._beginToken(TokenType$1.EXPANSION_FORM_END,this._getLocation()),this._requireCharCode($RBRACE),this._endToken([]),this._expansionCaseStack.pop()},_Tokenizer.prototype._consumeText=function(){var start=this._getLocation();this._beginToken(TokenType$1.TEXT,start);var parts=[];do this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(parts.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._attemptStr(this._interpolationConfig.end)&&this._inInterpolation?(parts.push(this._interpolationConfig.end),this._inInterpolation=!1):parts.push(this._readChar(!0));while(!this._isTextEnd());this._endToken([this._processCarriageReturns(parts.join(""))])},_Tokenizer.prototype._isTextEnd=function(){if(this._peek===$LT||this._peek===$EOF)return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(isExpansionFormStart(this._input,this._index,this._interpolationConfig))return!0;if(this._peek===$RBRACE&&this._isInExpansionCase())return!0}return!1},_Tokenizer.prototype._savePosition=function(){return[this._peek,this._index,this._column,this._line,this.tokens.length]},_Tokenizer.prototype._readUntil=function(char){var start=this._index;return this._attemptUntilChar(char),this._input.substring(start,this._index)},_Tokenizer.prototype._restorePosition=function(position){this._peek=position[0],this._index=position[1],this._column=position[2],this._line=position[3];var nbTokens=position[4];nbTokens<this.tokens.length&&(this.tokens=this.tokens.slice(0,nbTokens))},_Tokenizer.prototype._isInExpansionCase=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===TokenType$1.EXPANSION_CASE_EXP_START},_Tokenizer.prototype._isInExpansionForm=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===TokenType$1.EXPANSION_FORM_START},_Tokenizer}(),__extends$4=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},TreeError=function(_super){function TreeError(elementName,span,msg){_super.call(this,span,msg),this.elementName=elementName}return __extends$4(TreeError,_super),TreeError.create=function(elementName,span,msg){return new TreeError(elementName,span,msg)},TreeError}(ParseError),ParseTreeResult=function(){function ParseTreeResult(rootNodes,errors){this.rootNodes=rootNodes,this.errors=errors}return ParseTreeResult}(),Parser$1=function(){function Parser(getTagDefinition){this.getTagDefinition=getTagDefinition}return Parser.prototype.parse=function(source,url,parseExpansionForms,interpolationConfig){void 0===parseExpansionForms&&(parseExpansionForms=!1),void 0===interpolationConfig&&(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG);var tokensAndErrors=tokenize(source,url,this.getTagDefinition,parseExpansionForms,interpolationConfig),treeAndErrors=new _TreeBuilder(tokensAndErrors.tokens,this.getTagDefinition).build();return new ParseTreeResult(treeAndErrors.rootNodes,tokensAndErrors.errors.concat(treeAndErrors.errors))},Parser}(),_TreeBuilder=function(){function _TreeBuilder(tokens,getTagDefinition){this.tokens=tokens,this.getTagDefinition=getTagDefinition,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}return _TreeBuilder.prototype.build=function(){for(;this._peek.type!==TokenType$1.EOF;)this._peek.type===TokenType$1.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===TokenType$1.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===TokenType$1.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===TokenType$1.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===TokenType$1.TEXT||this._peek.type===TokenType$1.RAW_TEXT||this._peek.type===TokenType$1.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===TokenType$1.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new ParseTreeResult(this._rootNodes,this._errors)},_TreeBuilder.prototype._advance=function(){var prev=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],prev},_TreeBuilder.prototype._advanceIf=function(type){return this._peek.type===type?this._advance():null},_TreeBuilder.prototype._consumeCdata=function(startToken){this._consumeText(this._advance()),this._advanceIf(TokenType$1.CDATA_END)},_TreeBuilder.prototype._consumeComment=function(token){var text=this._advanceIf(TokenType$1.RAW_TEXT);this._advanceIf(TokenType$1.COMMENT_END);var value=isPresent(text)?text.parts[0].trim():null;this._addToParent(new Comment(value,token.sourceSpan))},_TreeBuilder.prototype._consumeExpansion=function(token){for(var switchValue=this._advance(),type=this._advance(),cases=[];this._peek.type===TokenType$1.EXPANSION_CASE_VALUE;){var expCase=this._parseExpansionCase();if(!expCase)return;cases.push(expCase)}if(this._peek.type!==TokenType$1.EXPANSION_FORM_END)return void this._errors.push(TreeError.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));var sourceSpan=new ParseSourceSpan(token.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new Expansion(switchValue.parts[0],type.parts[0],cases,sourceSpan,switchValue.sourceSpan)),this._advance()},_TreeBuilder.prototype._parseExpansionCase=function(){var value=this._advance();if(this._peek.type!==TokenType$1.EXPANSION_CASE_EXP_START)return this._errors.push(TreeError.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;var start=this._advance(),exp=this._collectExpansionExpTokens(start);if(!exp)return null;var end=this._advance();exp.push(new Token$1(TokenType$1.EOF,[],end.sourceSpan));var parsedExp=new _TreeBuilder(exp,this.getTagDefinition).build();if(parsedExp.errors.length>0)return this._errors=this._errors.concat(parsedExp.errors),null;var sourceSpan=new ParseSourceSpan(value.sourceSpan.start,end.sourceSpan.end),expSourceSpan=new ParseSourceSpan(start.sourceSpan.start,end.sourceSpan.end);return new ExpansionCase(value.parts[0],parsedExp.rootNodes,sourceSpan,value.sourceSpan,expSourceSpan)},_TreeBuilder.prototype._collectExpansionExpTokens=function(start){for(var exp=[],expansionFormStack=[TokenType$1.EXPANSION_CASE_EXP_START];;){if((this._peek.type===TokenType$1.EXPANSION_FORM_START||this._peek.type===TokenType$1.EXPANSION_CASE_EXP_START)&&expansionFormStack.push(this._peek.type),this._peek.type===TokenType$1.EXPANSION_CASE_EXP_END){if(!lastOnStack(expansionFormStack,TokenType$1.EXPANSION_CASE_EXP_START))return this._errors.push(TreeError.create(null,start.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(expansionFormStack.pop(),0==expansionFormStack.length)return exp}if(this._peek.type===TokenType$1.EXPANSION_FORM_END){if(!lastOnStack(expansionFormStack,TokenType$1.EXPANSION_FORM_START))return this._errors.push(TreeError.create(null,start.sourceSpan,"Invalid ICU message. Missing '}'.")),null;expansionFormStack.pop()}if(this._peek.type===TokenType$1.EOF)return this._errors.push(TreeError.create(null,start.sourceSpan,"Invalid ICU message. Missing '}'.")),null;exp.push(this._advance())}},_TreeBuilder.prototype._consumeText=function(token){var text=token.parts[0];if(text.length>0&&"\n"==text[0]){var parent_1=this._getParentElement();isPresent(parent_1)&&0==parent_1.children.length&&this.getTagDefinition(parent_1.name).ignoreFirstLf&&(text=text.substring(1))}text.length>0&&this._addToParent(new Text(text,token.sourceSpan))},_TreeBuilder.prototype._closeVoidElement=function(){if(this._elementStack.length>0){var el=ListWrapper.last(this._elementStack);this.getTagDefinition(el.name).isVoid&&this._elementStack.pop()}},_TreeBuilder.prototype._consumeStartTag=function(startTagToken){for(var prefix=startTagToken.parts[0],name=startTagToken.parts[1],attrs=[];this._peek.type===TokenType$1.ATTR_NAME;)attrs.push(this._consumeAttr(this._advance()));var fullName=this._getElementFullName(prefix,name,this._getParentElement()),selfClosing=!1;if(this._peek.type===TokenType$1.TAG_OPEN_END_VOID){this._advance(),selfClosing=!0;var tagDef=this.getTagDefinition(fullName);tagDef.canSelfClose||null!==getNsPrefix(fullName)||tagDef.isVoid||this._errors.push(TreeError.create(fullName,startTagToken.sourceSpan,'Only void and foreign elements can be self closed "'+startTagToken.parts[1]+'"'))}else this._peek.type===TokenType$1.TAG_OPEN_END&&(this._advance(),selfClosing=!1);var end=this._peek.sourceSpan.start,span=new ParseSourceSpan(startTagToken.sourceSpan.start,end),el=new Element(fullName,attrs,[],span,span,null);this._pushElement(el),selfClosing&&(this._popElement(fullName),el.endSourceSpan=span)},_TreeBuilder.prototype._pushElement=function(el){if(this._elementStack.length>0){var parentEl=ListWrapper.last(this._elementStack);this.getTagDefinition(parentEl.name).isClosedByChild(el.name)&&this._elementStack.pop()}var tagDef=this.getTagDefinition(el.name),_a=this._getParentElementSkippingContainers(),parent=_a.parent,container=_a.container;if(isPresent(parent)&&tagDef.requireExtraParent(parent.name)){var newParent=new Element(tagDef.parentToAdd,[],[],el.sourceSpan,el.startSourceSpan,el.endSourceSpan);this._insertBeforeContainer(parent,container,newParent)}this._addToParent(el),this._elementStack.push(el)},_TreeBuilder.prototype._consumeEndTag=function(endTagToken){var fullName=this._getElementFullName(endTagToken.parts[0],endTagToken.parts[1],this._getParentElement());this._getParentElement()&&(this._getParentElement().endSourceSpan=endTagToken.sourceSpan),this.getTagDefinition(fullName).isVoid?this._errors.push(TreeError.create(fullName,endTagToken.sourceSpan,'Void elements do not have end tags "'+endTagToken.parts[1]+'"')):this._popElement(fullName)||this._errors.push(TreeError.create(fullName,endTagToken.sourceSpan,'Unexpected closing tag "'+endTagToken.parts[1]+'"'))},_TreeBuilder.prototype._popElement=function(fullName){for(var stackIndex=this._elementStack.length-1;stackIndex>=0;stackIndex--){var el=this._elementStack[stackIndex];if(el.name==fullName)return ListWrapper.splice(this._elementStack,stackIndex,this._elementStack.length-stackIndex),!0;if(!this.getTagDefinition(el.name).closedByParent)return!1}return!1},_TreeBuilder.prototype._consumeAttr=function(attrName){var valueSpan,fullName=mergeNsAndName(attrName.parts[0],attrName.parts[1]),end=attrName.sourceSpan.end,value="";if(this._peek.type===TokenType$1.ATTR_VALUE){var valueToken=this._advance();value=valueToken.parts[0],end=valueToken.sourceSpan.end,valueSpan=valueToken.sourceSpan}return new Attribute$1(fullName,value,new ParseSourceSpan(attrName.sourceSpan.start,end),valueSpan)},_TreeBuilder.prototype._getParentElement=function(){return this._elementStack.length>0?ListWrapper.last(this._elementStack):null},_TreeBuilder.prototype._getParentElementSkippingContainers=function(){for(var container=null,i=this._elementStack.length-1;i>=0;i--){if("ng-container"!==this._elementStack[i].name)return{parent:this._elementStack[i],container:container};container=this._elementStack[i]}return{parent:ListWrapper.last(this._elementStack),container:container}},_TreeBuilder.prototype._addToParent=function(node){var parent=this._getParentElement();isPresent(parent)?parent.children.push(node):this._rootNodes.push(node)},_TreeBuilder.prototype._insertBeforeContainer=function(parent,container,node){if(container){if(parent){var index=parent.children.indexOf(container);parent.children[index]=node}else this._rootNodes.push(node);node.children.push(container),this._elementStack.splice(this._elementStack.indexOf(container),0,node)}else this._addToParent(node),this._elementStack.push(node)},_TreeBuilder.prototype._getElementFullName=function(prefix,localName,parentElement){return isBlank(prefix)&&(prefix=this.getTagDefinition(localName).implicitNamespacePrefix,isBlank(prefix)&&isPresent(parentElement)&&(prefix=getNsPrefix(parentElement.name))),mergeNsAndName(prefix,localName)},_TreeBuilder}(),_SerializerVisitor=function(){function _SerializerVisitor(){}return _SerializerVisitor.prototype.visitText=function(text,context){return text.value},_SerializerVisitor.prototype.visitContainer=function(container,context){var _this=this;return"["+container.children.map(function(child){return child.visit(_this)}).join(", ")+"]"},_SerializerVisitor.prototype.visitIcu=function(icu,context){var _this=this,strCases=Object.keys(icu.cases).map(function(k){return k+" {"+icu.cases[k].visit(_this)+"}"});return"{"+icu.expression+", "+icu.type+", "+strCases.join(", ")+"}"},_SerializerVisitor.prototype.visitTagPlaceholder=function(ph,context){var _this=this;return ph.isVoid?'<ph tag name="'+ph.startName+'"/>':'<ph tag name="'+ph.startName+'">'+ph.children.map(function(child){return child.visit(_this)}).join(", ")+'</ph name="'+ph.closeName+'">'},_SerializerVisitor.prototype.visitPlaceholder=function(ph,context){return'<ph name="'+ph.name+'">'+ph.value+"</ph>"},_SerializerVisitor.prototype.visitIcuPlaceholder=function(ph,context){return'<ph icu name="'+ph.name+'">'+ph.value.visit(this)+"</ph>"},_SerializerVisitor}(),serializerVisitor=new _SerializerVisitor,Message=function(){function Message(nodes,placeholders,placeholderToMsgIds,meaning,description){this.nodes=nodes,this.placeholders=placeholders,this.placeholderToMsgIds=placeholderToMsgIds,this.meaning=meaning,this.description=description}return Message}(),Text$1=function(){function Text(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}return Text.prototype.visit=function(visitor,context){return visitor.visitText(this,context)},Text}(),Container=function(){function Container(children,sourceSpan){this.children=children,this.sourceSpan=sourceSpan}return Container.prototype.visit=function(visitor,context){return visitor.visitContainer(this,context)},Container}(),Icu=function(){function Icu(expression,type,cases,sourceSpan){this.expression=expression,this.type=type,this.cases=cases,this.sourceSpan=sourceSpan}return Icu.prototype.visit=function(visitor,context){return visitor.visitIcu(this,context)},Icu}(),TagPlaceholder=function(){function TagPlaceholder(tag,attrs,startName,closeName,children,isVoid,sourceSpan){this.tag=tag,this.attrs=attrs,this.startName=startName,this.closeName=closeName,this.children=children,this.isVoid=isVoid,this.sourceSpan=sourceSpan}return TagPlaceholder.prototype.visit=function(visitor,context){return visitor.visitTagPlaceholder(this,context)},TagPlaceholder}(),Placeholder=function(){function Placeholder(value,name,sourceSpan){void 0===name&&(name=""),this.value=value,this.name=name,this.sourceSpan=sourceSpan}return Placeholder.prototype.visit=function(visitor,context){return visitor.visitPlaceholder(this,context)},Placeholder}(),IcuPlaceholder=function(){function IcuPlaceholder(value,name,sourceSpan){void 0===name&&(name=""),this.value=value,this.name=name,this.sourceSpan=sourceSpan}return IcuPlaceholder.prototype.visit=function(visitor,context){
return visitor.visitIcuPlaceholder(this,context)},IcuPlaceholder}(),TAG_TO_PLACEHOLDER_NAMES={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},PlaceholderRegistry=function(){function PlaceholderRegistry(){this._placeHolderNameCounts={},this._signatureToName={}}return PlaceholderRegistry.prototype.getStartTagPlaceholderName=function(tag,attrs,isVoid){var signature=this._hashTag(tag,attrs,isVoid);if(this._signatureToName[signature])return this._signatureToName[signature];var upperTag=tag.toUpperCase(),baseName=TAG_TO_PLACEHOLDER_NAMES[upperTag]||"TAG_"+upperTag,name=this._generateUniqueName(isVoid?baseName:"START_"+baseName);return this._signatureToName[signature]=name,name},PlaceholderRegistry.prototype.getCloseTagPlaceholderName=function(tag){var signature=this._hashClosingTag(tag);if(this._signatureToName[signature])return this._signatureToName[signature];var upperTag=tag.toUpperCase(),baseName=TAG_TO_PLACEHOLDER_NAMES[upperTag]||"TAG_"+upperTag,name=this._generateUniqueName("CLOSE_"+baseName);return this._signatureToName[signature]=name,name},PlaceholderRegistry.prototype.getPlaceholderName=function(name,content){var upperName=name.toUpperCase(),signature="PH: "+upperName+"="+content;if(this._signatureToName[signature])return this._signatureToName[signature];var uniqueName=this._generateUniqueName(upperName);return this._signatureToName[signature]=uniqueName,uniqueName},PlaceholderRegistry.prototype._hashTag=function(tag,attrs,isVoid){var start="<"+tag,strAttrs=Object.keys(attrs).sort().map(function(name){return" "+name+"="+attrs[name]}).join(""),end=isVoid?"/>":"></"+tag+">";return start+strAttrs+end},PlaceholderRegistry.prototype._hashClosingTag=function(tag){return this._hashTag("/"+tag,{},!1)},PlaceholderRegistry.prototype._generateUniqueName=function(base){var name=base,next=this._placeHolderNameCounts[name];return next?(name+="_"+next,next++):next=1,this._placeHolderNameCounts[base]=next,name},PlaceholderRegistry}(),_expParser=new Parser(new Lexer),_I18nVisitor=function(){function _I18nVisitor(_expressionParser,_interpolationConfig){this._expressionParser=_expressionParser,this._interpolationConfig=_interpolationConfig}return _I18nVisitor.prototype.toI18nMessage=function(nodes,meaning,description){this._isIcu=1==nodes.length&&nodes[0]instanceof Expansion,this._icuDepth=0,this._placeholderRegistry=new PlaceholderRegistry,this._placeholderToContent={},this._placeholderToIds={};var i18nodes=visitAll(this,nodes,{});return new Message(i18nodes,this._placeholderToContent,this._placeholderToIds,meaning,description)},_I18nVisitor.prototype.visitElement=function(el,context){var children=visitAll(this,el.children),attrs={};el.attrs.forEach(function(attr){attrs[attr.name]=attr.value});var isVoid=getHtmlTagDefinition(el.name).isVoid,startPhName=this._placeholderRegistry.getStartTagPlaceholderName(el.name,attrs,isVoid);this._placeholderToContent[startPhName]=el.sourceSpan.toString();var closePhName="";return isVoid||(closePhName=this._placeholderRegistry.getCloseTagPlaceholderName(el.name),this._placeholderToContent[closePhName]="</"+el.name+">"),new TagPlaceholder(el.name,attrs,startPhName,closePhName,children,isVoid,el.sourceSpan)},_I18nVisitor.prototype.visitAttribute=function(attribute,context){return this._visitTextWithInterpolation(attribute.value,attribute.sourceSpan)},_I18nVisitor.prototype.visitText=function(text,context){return this._visitTextWithInterpolation(text.value,text.sourceSpan)},_I18nVisitor.prototype.visitComment=function(comment,context){return null},_I18nVisitor.prototype.visitExpansion=function(icu,context){var _this=this;this._icuDepth++;var i18nIcuCases={},i18nIcu=new Icu(icu.switchValue,icu.type,i18nIcuCases,icu.sourceSpan);if(icu.cases.forEach(function(caze){i18nIcuCases[caze.value]=new Container(caze.expression.map(function(node){return node.visit(_this,{})}),caze.expSourceSpan)}),this._icuDepth--,this._isIcu||this._icuDepth>0)return i18nIcu;var phName=this._placeholderRegistry.getPlaceholderName("ICU",icu.sourceSpan.toString()),visitor=new _I18nVisitor(this._expressionParser,this._interpolationConfig);return this._placeholderToIds[phName]=digestMessage(visitor.toI18nMessage([icu],"","")),new IcuPlaceholder(i18nIcu,phName,icu.sourceSpan)},_I18nVisitor.prototype.visitExpansionCase=function(icuCase,context){throw new Error("Unreachable code")},_I18nVisitor.prototype._visitTextWithInterpolation=function(text,sourceSpan){var splitInterpolation=this._expressionParser.splitInterpolation(text,sourceSpan.start.toString(),this._interpolationConfig);if(!splitInterpolation)return new Text$1(text,sourceSpan);for(var nodes=[],container=new Container(nodes,sourceSpan),_a=this._interpolationConfig,sDelimiter=_a.start,eDelimiter=_a.end,i=0;i<splitInterpolation.strings.length-1;i++){var expression=splitInterpolation.expressions[i],baseName=_extractPlaceholderName(expression)||"INTERPOLATION",phName=this._placeholderRegistry.getPlaceholderName(baseName,expression);splitInterpolation.strings[i].length&&nodes.push(new Text$1(splitInterpolation.strings[i],sourceSpan)),nodes.push(new Placeholder(expression,phName,sourceSpan)),this._placeholderToContent[phName]=sDelimiter+expression+eDelimiter}var lastStringIdx=splitInterpolation.strings.length-1;return splitInterpolation.strings[lastStringIdx].length&&nodes.push(new Text$1(splitInterpolation.strings[lastStringIdx],sourceSpan)),container},_I18nVisitor}(),_CUSTOM_PH_EXP=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*"([\s\S]*?)"[\s\S]*\)/g,__extends$6=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},I18nError=function(_super){function I18nError(span,msg){_super.call(this,span,msg)}return __extends$6(I18nError,_super),I18nError}(ParseError),_I18N_ATTR="i18n",_I18N_ATTR_PREFIX="i18n-",_I18N_COMMENT_PREFIX_REGEXP=/^i18n:?/,ExtractionResult=function(){function ExtractionResult(messages,errors){this.messages=messages,this.errors=errors}return ExtractionResult}();!function(_VisitorMode){_VisitorMode[_VisitorMode.Extract=0]="Extract",_VisitorMode[_VisitorMode.Merge=1]="Merge"}(_VisitorMode||(_VisitorMode={}));var PreparsedElementType,_Visitor=function(){function _Visitor(_implicitTags,_implicitAttrs){this._implicitTags=_implicitTags,this._implicitAttrs=_implicitAttrs}return _Visitor.prototype.extract=function(nodes,interpolationConfig){var _this=this;return this._init(_VisitorMode.Extract,interpolationConfig),nodes.forEach(function(node){return node.visit(_this,null)}),this._inI18nBlock&&this._reportError(nodes[nodes.length-1],"Unclosed block"),new ExtractionResult(this._messages,this._errors)},_Visitor.prototype.merge=function(nodes,translations,interpolationConfig){this._init(_VisitorMode.Merge,interpolationConfig),this._translations=translations;var wrapper=new Element("wrapper",[],nodes,null,null,null),translatedNode=wrapper.visit(this,null);return this._inI18nBlock&&this._reportError(nodes[nodes.length-1],"Unclosed block"),new ParseTreeResult(translatedNode.children,this._errors)},_Visitor.prototype.visitExpansionCase=function(icuCase,context){var expression=visitAll(this,icuCase.expression,context);return this._mode===_VisitorMode.Merge?new ExpansionCase(icuCase.value,expression,icuCase.sourceSpan,icuCase.valueSourceSpan,icuCase.expSourceSpan):void 0},_Visitor.prototype.visitExpansion=function(icu,context){this._mayBeAddBlockChildren(icu);var wasInIcu=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([icu]),this._inIcu=!0);var cases=visitAll(this,icu.cases,context);return this._mode===_VisitorMode.Merge&&(icu=new Expansion(icu.switchValue,icu.type,cases,icu.sourceSpan,icu.switchValueSourceSpan)),this._inIcu=wasInIcu,icu},_Visitor.prototype.visitComment=function(comment,context){var isOpening=_isOpeningComment(comment);if(isOpening&&this._isInTranslatableSection)return void this._reportError(comment,"Could not start a block inside a translatable section");var isClosing=_isClosingComment(comment);if(isClosing&&!this._inI18nBlock)return void this._reportError(comment,"Trying to close an unopened block");if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(isClosing){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(comment,this._blockChildren),this._inI18nBlock=!1;var message=this._addMessage(this._blockChildren,this._blockMeaningAndDesc),nodes=this._translateMessage(comment,message);return visitAll(this,nodes)}return void this._reportError(comment,"I18N blocks should not cross element boundaries")}}else isOpening&&(this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=comment.value.replace(_I18N_COMMENT_PREFIX_REGEXP,"").trim(),this._openTranslatableSection(comment))},_Visitor.prototype.visitText=function(text,context){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(text),text},_Visitor.prototype.visitElement=function(el,context){var _this=this;this._mayBeAddBlockChildren(el),this._depth++;var childNodes,wasInI18nNode=this._inI18nNode,wasInImplicitNode=this._inImplicitNode,i18nAttr=_getI18nAttr(el),isImplicit=this._implicitTags.some(function(tag){return el.name===tag})&&!this._inIcu&&!this._isInTranslatableSection,isTopLevelImplicit=!wasInImplicitNode&&isImplicit;if(this._inImplicitNode=this._inImplicitNode||isImplicit,this._isInTranslatableSection||this._inIcu)(i18nAttr||isTopLevelImplicit)&&this._reportError(el,"Could not mark an element as translatable inside a translatable section"),this._mode==_VisitorMode.Extract&&visitAll(this,el.children),this._mode==_VisitorMode.Merge&&(childNodes=[],el.children.forEach(function(child){var visited=child.visit(_this,context);visited&&!_this._isInTranslatableSection&&(childNodes=childNodes.concat(visited))}));else{if(i18nAttr){this._inI18nNode=!0;var message=this._addMessage(el.children,i18nAttr.value);childNodes=this._translateMessage(el,message)}else if(isTopLevelImplicit){this._inI18nNode=!0;var message=this._addMessage(el.children);childNodes=this._translateMessage(el,message)}if(this._mode==_VisitorMode.Extract){var isTranslatable=i18nAttr||isTopLevelImplicit;isTranslatable&&this._openTranslatableSection(el),visitAll(this,el.children),isTranslatable&&this._closeTranslatableSection(el,el.children)}this._mode!==_VisitorMode.Merge||i18nAttr||isTopLevelImplicit||(childNodes=[],el.children.forEach(function(child){var visited=child.visit(_this,context);visited&&!_this._isInTranslatableSection&&(childNodes=childNodes.concat(visited))}))}if(this._visitAttributesOf(el),this._depth--,this._inI18nNode=wasInI18nNode,this._inImplicitNode=wasInImplicitNode,this._mode===_VisitorMode.Merge){var translatedAttrs=this._translateAttributes(el);return new Element(el.name,translatedAttrs,childNodes,el.sourceSpan,el.startSourceSpan,el.endSourceSpan)}},_Visitor.prototype.visitAttribute=function(attribute,context){throw new Error("unreachable code")},_Visitor.prototype._init=function(mode,interpolationConfig){this._mode=mode,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=createI18nMessageFactory(interpolationConfig)},_Visitor.prototype._visitAttributesOf=function(el){var _this=this,explicitAttrNameToValue={},implicitAttrNames=this._implicitAttrs[el.name]||[];el.attrs.filter(function(attr){return attr.name.startsWith(_I18N_ATTR_PREFIX)}).forEach(function(attr){return explicitAttrNameToValue[attr.name.slice(_I18N_ATTR_PREFIX.length)]=attr.value}),el.attrs.forEach(function(attr){attr.name in explicitAttrNameToValue?_this._addMessage([attr],explicitAttrNameToValue[attr.name]):implicitAttrNames.some(function(name){return attr.name===name})&&_this._addMessage([attr])})},_Visitor.prototype._addMessage=function(ast,meaningAndDesc){if(!(0==ast.length||1==ast.length&&ast[0]instanceof Attribute$1&&!ast[0].value)){var _a=_splitMeaningAndDesc(meaningAndDesc),meaning=_a[0],description=_a[1],message=this._createI18nMessage(ast,meaning,description);return this._messages.push(message),message}},_Visitor.prototype._translateMessage=function(el,message){if(message&&this._mode===_VisitorMode.Merge){var id=digestMessage(message),nodes=this._translations.get(id);if(nodes)return nodes;this._reportError(el,'Translation unavailable for message id="'+id+'"')}return[]},_Visitor.prototype._translateAttributes=function(el){var _this=this,attributes=el.attrs,i18nAttributeMeanings={};attributes.forEach(function(attr){attr.name.startsWith(_I18N_ATTR_PREFIX)&&(i18nAttributeMeanings[attr.name.slice(_I18N_ATTR_PREFIX.length)]=_splitMeaningAndDesc(attr.value)[0])});var translatedAttributes=[];return attributes.forEach(function(attr){if(attr.name!==_I18N_ATTR&&!attr.name.startsWith(_I18N_ATTR_PREFIX))if(attr.value&&""!=attr.value&&i18nAttributeMeanings.hasOwnProperty(attr.name)){var meaning=i18nAttributeMeanings[attr.name],message=_this._createI18nMessage([attr],meaning,""),id=digestMessage(message),nodes=_this._translations.get(id);if(nodes)if(nodes[0]instanceof Text){var value=nodes[0].value;translatedAttributes.push(new Attribute$1(attr.name,value,attr.sourceSpan))}else _this._reportError(el,'Unexpected translation for attribute "'+attr.name+'" (id="'+id+'")');else _this._reportError(el,'Translation unavailable for attribute "'+attr.name+'" (id="'+id+'")')}else translatedAttributes.push(attr)}),translatedAttributes},_Visitor.prototype._mayBeAddBlockChildren=function(node){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(node)},_Visitor.prototype._openTranslatableSection=function(node){this._isInTranslatableSection?this._reportError(node,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length},Object.defineProperty(_Visitor.prototype,"_isInTranslatableSection",{get:function(){return void 0!==this._msgCountAtSectionStart},enumerable:!0,configurable:!0}),_Visitor.prototype._closeTranslatableSection=function(node,directChildren){if(!this._isInTranslatableSection)return void this._reportError(node,"Unexpected section end");var startIndex=this._msgCountAtSectionStart,significantChildren=directChildren.reduce(function(count,node){return count+(node instanceof Comment?0:1)},0);if(1==significantChildren)for(var i=this._messages.length-1;i>=startIndex;i--){var ast=this._messages[i].nodes;if(!(1==ast.length&&ast[0]instanceof Text$1)){this._messages.splice(i,1);break}}this._msgCountAtSectionStart=void 0},_Visitor.prototype._reportError=function(node,msg){this._errors.push(new I18nError(node.sourceSpan,msg))},_Visitor}(),MessageBundle=function(){function MessageBundle(_htmlParser,_implicitTags,_implicitAttrs){this._htmlParser=_htmlParser,this._implicitTags=_implicitTags,this._implicitAttrs=_implicitAttrs,this._messageMap={}}return MessageBundle.prototype.updateFromTemplate=function(html,url,interpolationConfig){var _this=this,htmlParserResult=this._htmlParser.parse(html,url,!0,interpolationConfig);if(htmlParserResult.errors.length)return htmlParserResult.errors;var i18nParserResult=extractMessages(htmlParserResult.rootNodes,interpolationConfig,this._implicitTags,this._implicitAttrs);return i18nParserResult.errors.length?i18nParserResult.errors:void i18nParserResult.messages.forEach(function(message){_this._messageMap[digestMessage(message)]=message})},MessageBundle.prototype.getMessageMap=function(){return this._messageMap},MessageBundle.prototype.write=function(serializer){return serializer.write(this._messageMap)},MessageBundle}(),XmlTagDefinition=function(){function XmlTagDefinition(){this.closedByParent=!1,this.contentType=TagContentType.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}return XmlTagDefinition.prototype.requireExtraParent=function(currentParent){return!1},XmlTagDefinition.prototype.isClosedByChild=function(name){return!1},XmlTagDefinition}(),_TAG_DEFINITION=new XmlTagDefinition,__extends$7=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},XmlParser=function(_super){function XmlParser(){_super.call(this,getXmlTagDefinition)}return __extends$7(XmlParser,_super),XmlParser.prototype.parse=function(source,url,parseExpansionForms){return void 0===parseExpansionForms&&(parseExpansionForms=!1),_super.prototype.parse.call(this,source,url,parseExpansionForms,null)},XmlParser}(Parser$1),__extends$8=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},_Visitor$1=function(){function _Visitor(){}return _Visitor.prototype.visitTag=function(tag){var _this=this,strAttrs=this._serializeAttributes(tag.attrs);if(0==tag.children.length)return"<"+tag.name+strAttrs+"/>";var strChildren=tag.children.map(function(node){return node.visit(_this)});return"<"+tag.name+strAttrs+">"+strChildren.join("")+"</"+tag.name+">"},_Visitor.prototype.visitText=function(text){return text.value},_Visitor.prototype.visitDeclaration=function(decl){return"<?xml"+this._serializeAttributes(decl.attrs)+" ?>"},_Visitor.prototype._serializeAttributes=function(attrs){var strAttrs=Object.keys(attrs).map(function(name){return name+'="'+attrs[name]+'"'}).join(" ");return strAttrs.length>0?" "+strAttrs:""},_Visitor.prototype.visitDoctype=function(doctype){return"<!DOCTYPE "+doctype.rootTag+" [\n"+doctype.dtd+"\n]>"},_Visitor}(),_visitor=new _Visitor$1,Declaration=function(){function Declaration(unescapedAttrs){var _this=this;this.attrs={},Object.keys(unescapedAttrs).forEach(function(k){_this.attrs[k]=_escapeXml(unescapedAttrs[k])})}return Declaration.prototype.visit=function(visitor){return visitor.visitDeclaration(this)},Declaration}(),Doctype=function(){function Doctype(rootTag,dtd){this.rootTag=rootTag,this.dtd=dtd}return Doctype.prototype.visit=function(visitor){return visitor.visitDoctype(this)},Doctype}(),Tag=function(){function Tag(name,unescapedAttrs,children){var _this=this;void 0===unescapedAttrs&&(unescapedAttrs={}),void 0===children&&(children=[]),this.name=name,this.children=children,this.attrs={},Object.keys(unescapedAttrs).forEach(function(k){_this.attrs[k]=_escapeXml(unescapedAttrs[k])})}return Tag.prototype.visit=function(visitor){return visitor.visitTag(this)},Tag}(),Text$2=function(){function Text(unescapedValue){this.value=_escapeXml(unescapedValue)}return Text.prototype.visit=function(visitor){return visitor.visitText(this)},Text}(),CR=function(_super){function CR(ws){void 0===ws&&(ws=0),_super.call(this,"\n"+new Array(ws+1).join(" "))}return __extends$8(CR,_super),CR}(Text$2),_ESCAPED_CHARS=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]],_VERSION="1.2",_XMLNS="urn:oasis:names:tc:xliff:document:1.2",_SOURCE_LANG="en",_PLACEHOLDER_TAG="x",_SOURCE_TAG="source",_TARGET_TAG="target",_UNIT_TAG="trans-unit",Xliff=function(){function Xliff(_htmlParser,_interpolationConfig){this._htmlParser=_htmlParser,this._interpolationConfig=_interpolationConfig}return Xliff.prototype.write=function(messageMap){var visitor=new _WriteVisitor,transUnits=[];Object.keys(messageMap).forEach(function(id){var message=messageMap[id],transUnit=new Tag(_UNIT_TAG,{id:id,datatype:"html"});transUnit.children.push(new CR(8),new Tag(_SOURCE_TAG,{},visitor.serialize(message.nodes)),new CR(8),new Tag(_TARGET_TAG)),message.description&&transUnit.children.push(new CR(8),new Tag("note",{priority:"1",from:"description"},[new Text$2(message.description)])),message.meaning&&transUnit.children.push(new CR(8),new Tag("note",{priority:"1",from:"meaning"},[new Text$2(message.meaning)])),transUnit.children.push(new CR(6)),transUnits.push(new CR(6),transUnit)});var body=new Tag("body",{},transUnits.concat([new CR(4)])),file=new Tag("file",{"source-language":_SOURCE_LANG,datatype:"plaintext",original:"ng2.template"},[new CR(4),body,new CR(2)]),xliff=new Tag("xliff",{version:_VERSION,xmlns:_XMLNS},[new CR(2),file,new CR]);return serialize([new Declaration({version:"1.0",encoding:"UTF-8"}),new CR,xliff,new CR])},Xliff.prototype.load=function(content,url,messageBundle){var _this=this,result=(new XmlParser).parse(content,url);if(result.errors.length)throw new Error("xtb parse errors:\n"+result.errors.join("\n"));var _a=(new _LoadVisitor).parse(result.rootNodes,messageBundle),messages=_a.messages,errors=_a.errors;if(errors.length)throw new Error("xtb parse errors:\n"+errors.join("\n"));var messageMap={},parseErrors=[];if(Object.keys(messages).forEach(function(id){var res=_this._htmlParser.parse(messages[id],url,!0,_this._interpolationConfig);parseErrors.push.apply(parseErrors,res.errors),messageMap[id]=res.rootNodes}),parseErrors.length)throw new Error("xtb parse errors:\n"+parseErrors.join("\n"));return messageMap},Xliff}(),_WriteVisitor=function(){function _WriteVisitor(){}return _WriteVisitor.prototype.visitText=function(text,context){return[new Text$2(text.value)]},_WriteVisitor.prototype.visitContainer=function(container,context){var _this=this,nodes=[];return container.children.forEach(function(node){return nodes.push.apply(nodes,node.visit(_this))}),nodes},_WriteVisitor.prototype.visitIcu=function(icu,context){if(this._isInIcu)throw new Error("xliff does not support nested ICU messages");this._isInIcu=!0;var nodes=[];return this._isInIcu=!1,nodes},_WriteVisitor.prototype.visitTagPlaceholder=function(ph,context){var ctype=getCtypeForTag(ph.tag),startTagPh=new Tag(_PLACEHOLDER_TAG,{id:ph.startName,ctype:ctype});if(ph.isVoid)return[startTagPh];var closeTagPh=new Tag(_PLACEHOLDER_TAG,{id:ph.closeName,ctype:ctype});return[startTagPh].concat(this.serialize(ph.children),[closeTagPh])},_WriteVisitor.prototype.visitPlaceholder=function(ph,context){return[new Tag(_PLACEHOLDER_TAG,{id:ph.name})]},_WriteVisitor.prototype.visitIcuPlaceholder=function(ph,context){return[new Tag(_PLACEHOLDER_TAG,{id:ph.name})]},_WriteVisitor.prototype.serialize=function(nodes){var _this=this;return this._isInIcu=!1,ListWrapper.flatten(nodes.map(function(node){return node.visit(_this)}))},_WriteVisitor}(),_LoadVisitor=function(){function _LoadVisitor(){}return _LoadVisitor.prototype.parse=function(nodes,messageBundle){var _this=this;this._messageNodes=[],this._translatedMessages={},this._msgId="",this._target=[],this._errors=[],visitAll(this,nodes,null);var messageMap=messageBundle.getMessageMap(),placeholders=extractPlaceholders(messageBundle),placeholderToIds=extractPlaceholderToIds(messageBundle);return this._messageNodes.filter(function(message){return messageMap.hasOwnProperty(message[0])}).sort(function(a,b){return 0==Object.keys(messageMap[a[0]].placeholderToMsgIds).length?-1:0==Object.keys(messageMap[b[0]].placeholderToMsgIds).length?1:0}).forEach(function(message){var id=message[0];_this._placeholders=placeholders[id]||{},_this._placeholderToIds=placeholderToIds[id]||{},_this._translatedMessages[id]=visitAll(_this,message[1]).join("")}),{messages:this._translatedMessages,errors:this._errors}},_LoadVisitor.prototype.visitElement=function(element,context){switch(element.name){case _UNIT_TAG:this._target=null;var msgId=element.attrs.find(function(attr){return"id"===attr.name});msgId?this._msgId=msgId.value:this._addError(element,"<"+_UNIT_TAG+'> misses the "id" attribute'),visitAll(this,element.children,null),null!==this._msgId&&this._messageNodes.push([this._msgId,this._target]);break;case _SOURCE_TAG:break;case _TARGET_TAG:this._target=element.children;break;case _PLACEHOLDER_TAG:var idAttr=element.attrs.find(function(attr){return"id"===attr.name});if(idAttr){var id=idAttr.value;if(this._placeholders.hasOwnProperty(id))return this._placeholders[id];if(this._placeholderToIds.hasOwnProperty(id)&&this._translatedMessages.hasOwnProperty(this._placeholderToIds[id]))return this._translatedMessages[this._placeholderToIds[id]];this._addError(element,'The placeholder "'+id+'" does not exists in the source message')}else this._addError(element,"<"+_PLACEHOLDER_TAG+'> misses the "id" attribute');break;default:visitAll(this,element.children,null)}},_LoadVisitor.prototype.visitAttribute=function(attribute,context){throw new Error("unreachable code")},_LoadVisitor.prototype.visitText=function(text,context){return text.value},_LoadVisitor.prototype.visitComment=function(comment,context){return""},_LoadVisitor.prototype.visitExpansion=function(expansion,context){throw new Error("unreachable code")},_LoadVisitor.prototype.visitExpansionCase=function(expansionCase,context){throw new Error("unreachable code")},_LoadVisitor.prototype._addError=function(node,message){this._errors.push(new I18nError(node.sourceSpan,message))},_LoadVisitor}(),_MESSAGES_TAG="messagebundle",_MESSAGE_TAG="msg",_PLACEHOLDER_TAG$1="ph",_EXEMPLE_TAG="ex",_DOCTYPE='<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>',Xmb=function(){function Xmb(){}return Xmb.prototype.write=function(messageMap){var visitor=new _Visitor$2,rootNode=new Tag(_MESSAGES_TAG);return Object.keys(messageMap).forEach(function(id){var message=messageMap[id],attrs={id:id};message.description&&(attrs.desc=message.description),message.meaning&&(attrs.meaning=message.meaning),rootNode.children.push(new CR(2),new Tag(_MESSAGE_TAG,attrs,visitor.serialize(message.nodes)))}),rootNode.children.push(new CR),serialize([new Declaration({version:"1.0",encoding:"UTF-8"}),new CR,new Doctype(_MESSAGES_TAG,_DOCTYPE),new CR,rootNode,new CR])},Xmb.prototype.load=function(content,url,messageBundle){throw new Error("Unsupported")},Xmb}(),_Visitor$2=function(){function _Visitor(){}return _Visitor.prototype.visitText=function(text,context){return[new Text$2(text.value)]},_Visitor.prototype.visitContainer=function(container,context){var _this=this,nodes=[];return container.children.forEach(function(node){return nodes.push.apply(nodes,node.visit(_this))}),nodes},_Visitor.prototype.visitIcu=function(icu,context){var _this=this,nodes=[new Text$2("{"+icu.expression+", "+icu.type+", ")];return Object.keys(icu.cases).forEach(function(c){nodes.push.apply(nodes,[new Text$2(c+" {")].concat(icu.cases[c].visit(_this),[new Text$2("} ")]))}),nodes.push(new Text$2("}")),nodes},_Visitor.prototype.visitTagPlaceholder=function(ph,context){var startEx=new Tag(_EXEMPLE_TAG,{},[new Text$2("<"+ph.tag+">")]),startTagPh=new Tag(_PLACEHOLDER_TAG$1,{name:ph.startName},[startEx]);if(ph.isVoid)return[startTagPh];var closeEx=new Tag(_EXEMPLE_TAG,{},[new Text$2("</"+ph.tag+">")]),closeTagPh=new Tag(_PLACEHOLDER_TAG$1,{name:ph.closeName},[closeEx]);return[startTagPh].concat(this.serialize(ph.children),[closeTagPh])},_Visitor.prototype.visitPlaceholder=function(ph,context){return[new Tag(_PLACEHOLDER_TAG$1,{name:ph.name})]},_Visitor.prototype.visitIcuPlaceholder=function(ph,context){return[new Tag(_PLACEHOLDER_TAG$1,{name:ph.name})]},_Visitor.prototype.serialize=function(nodes){var _this=this;return ListWrapper.flatten(nodes.map(function(node){return node.visit(_this)}))},_Visitor}(),_TRANSLATIONS_TAG="translationbundle",_TRANSLATION_TAG="translation",_PLACEHOLDER_TAG$2="ph",Xtb=function(){function Xtb(_htmlParser,_interpolationConfig){this._htmlParser=_htmlParser,this._interpolationConfig=_interpolationConfig}return Xtb.prototype.write=function(messageMap){throw new Error("Unsupported")},Xtb.prototype.load=function(content,url,messageBundle){var _this=this,result=(new XmlParser).parse(content,url);if(result.errors.length)throw new Error("xtb parse errors:\n"+result.errors.join("\n"));var _a=(new _Visitor$3).parse(result.rootNodes,messageBundle),messages=_a.messages,errors=_a.errors;if(errors.length)throw new Error("xtb parse errors:\n"+errors.join("\n"));var messageMap={},parseErrors=[];if(Object.keys(messages).forEach(function(id){var res=_this._htmlParser.parse(messages[id],url,!0,_this._interpolationConfig);parseErrors.push.apply(parseErrors,res.errors),messageMap[id]=res.rootNodes}),parseErrors.length)throw new Error("xtb parse errors:\n"+parseErrors.join("\n"));return messageMap},Xtb}(),_Visitor$3=function(){function _Visitor(){}return _Visitor.prototype.parse=function(nodes,messageBundle){var _this=this;this._messageNodes=[],this._translatedMessages={},this._bundleDepth=0,this._translationDepth=0,this._errors=[],visitAll(this,nodes,null);var messageMap=messageBundle.getMessageMap(),placeholders=extractPlaceholders(messageBundle),placeholderToIds=extractPlaceholderToIds(messageBundle);return this._messageNodes.filter(function(message){return messageMap.hasOwnProperty(message[0])}).sort(function(a,b){return 0==Object.keys(messageMap[a[0]].placeholderToMsgIds).length?-1:0==Object.keys(messageMap[b[0]].placeholderToMsgIds).length?1:0}).forEach(function(message){var id=message[0];_this._placeholders=placeholders[id]||{},_this._placeholderToIds=placeholderToIds[id]||{},_this._translatedMessages[id]=visitAll(_this,message[1]).join("")}),{messages:this._translatedMessages,errors:this._errors}},_Visitor.prototype.visitElement=function(element,context){switch(element.name){case _TRANSLATIONS_TAG:this._bundleDepth++,this._bundleDepth>1&&this._addError(element,"<"+_TRANSLATIONS_TAG+"> elements can not be nested"),visitAll(this,element.children,null),this._bundleDepth--;break;case _TRANSLATION_TAG:this._translationDepth++,this._translationDepth>1&&this._addError(element,"<"+_TRANSLATION_TAG+"> elements can not be nested");var idAttr=element.attrs.find(function(attr){return"id"===attr.name});idAttr?this._messageNodes.push([idAttr.value,element.children]):this._addError(element,"<"+_TRANSLATION_TAG+'> misses the "id" attribute'),this._translationDepth--;break;case _PLACEHOLDER_TAG$2:var nameAttr=element.attrs.find(function(attr){return"name"===attr.name});if(nameAttr){var name_1=nameAttr.value;if(this._placeholders.hasOwnProperty(name_1))return this._placeholders[name_1];if(this._placeholderToIds.hasOwnProperty(name_1)&&this._translatedMessages.hasOwnProperty(this._placeholderToIds[name_1]))return this._translatedMessages[this._placeholderToIds[name_1]];this._addError(element,'The placeholder "'+name_1+'" does not exists in the source message')}else this._addError(element,"<"+_PLACEHOLDER_TAG$2+'> misses the "name" attribute');break;default:this._addError(element,"Unexpected tag")}},_Visitor.prototype.visitAttribute=function(attribute,context){throw new Error("unreachable code")},_Visitor.prototype.visitText=function(text,context){return text.value},_Visitor.prototype.visitComment=function(comment,context){return""},_Visitor.prototype.visitExpansion=function(expansion,context){var _this=this;expansion.cases.map(function(c){return c.visit(_this,null)});return"{"+expansion.switchValue+", "+expansion.type+", strCases.join(' ')}"},_Visitor.prototype.visitExpansionCase=function(expansionCase,context){return expansionCase.value+" {"+visitAll(this,expansionCase.expression,null)+"}"},_Visitor.prototype._addError=function(node,message){
this._errors.push(new I18nError(node.sourceSpan,message))},_Visitor}(),TranslationBundle=function(){function TranslationBundle(_messageMap){void 0===_messageMap&&(_messageMap={}),this._messageMap=_messageMap}return TranslationBundle.load=function(content,url,messageBundle,serializer){return new TranslationBundle(serializer.load(content,url,messageBundle))},TranslationBundle.prototype.get=function(id){return this._messageMap[id]},TranslationBundle.prototype.has=function(id){return id in this._messageMap},TranslationBundle}(),I18NHtmlParser=function(){function I18NHtmlParser(_htmlParser,_translations,_translationsFormat){this._htmlParser=_htmlParser,this._translations=_translations,this._translationsFormat=_translationsFormat}return I18NHtmlParser.prototype.parse=function(source,url,parseExpansionForms,interpolationConfig){void 0===parseExpansionForms&&(parseExpansionForms=!1),void 0===interpolationConfig&&(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG);var parseResult=this._htmlParser.parse(source,url,parseExpansionForms,interpolationConfig);if(!this._translations||""===this._translations)return parseResult;var messageBundle=new MessageBundle(this._htmlParser,[],{}),errors=messageBundle.updateFromTemplate(source,url,interpolationConfig);if(errors&&errors.length)return new ParseTreeResult(parseResult.rootNodes,parseResult.errors.concat(errors));var serializer=this._createSerializer(interpolationConfig),translationBundle=TranslationBundle.load(this._translations,url,messageBundle,serializer);return mergeTranslations(parseResult.rootNodes,translationBundle,interpolationConfig,[],{})},I18NHtmlParser.prototype._createSerializer=function(interpolationConfig){var format=(this._translationsFormat||"xlf").toLowerCase();switch(format){case"xmb":return new Xmb;case"xtb":return new Xtb(this._htmlParser,interpolationConfig);case"xliff":case"xlf":default:return new Xliff(this._htmlParser,interpolationConfig)}},I18NHtmlParser}(),isDefaultChangeDetectionStrategy=_angular_core.__core_private__.isDefaultChangeDetectionStrategy,ChangeDetectorStatus=_angular_core.__core_private__.ChangeDetectorStatus,LifecycleHooks=_angular_core.__core_private__.LifecycleHooks,LIFECYCLE_HOOKS_VALUES=_angular_core.__core_private__.LIFECYCLE_HOOKS_VALUES,ReflectorReader=_angular_core.__core_private__.ReflectorReader,AppElement=_angular_core.__core_private__.AppElement,CodegenComponentFactoryResolver=_angular_core.__core_private__.CodegenComponentFactoryResolver,AppView=_angular_core.__core_private__.AppView,DebugAppView=_angular_core.__core_private__.DebugAppView,NgModuleInjector=_angular_core.__core_private__.NgModuleInjector,registerModuleFactory=_angular_core.__core_private__.registerModuleFactory,ViewType=_angular_core.__core_private__.ViewType,view_utils=_angular_core.__core_private__.view_utils,DebugContext=_angular_core.__core_private__.DebugContext,StaticNodeDebugInfo=_angular_core.__core_private__.StaticNodeDebugInfo,devModeEqual=_angular_core.__core_private__.devModeEqual,UNINITIALIZED=_angular_core.__core_private__.UNINITIALIZED,ValueUnwrapper=_angular_core.__core_private__.ValueUnwrapper,TemplateRef_=_angular_core.__core_private__.TemplateRef_,Console=_angular_core.__core_private__.Console,reflector=_angular_core.__core_private__.reflector,Reflector=_angular_core.__core_private__.Reflector,ReflectionCapabilities=_angular_core.__core_private__.ReflectionCapabilities,NoOpAnimationPlayer=_angular_core.__core_private__.NoOpAnimationPlayer,AnimationSequencePlayer=_angular_core.__core_private__.AnimationSequencePlayer,AnimationGroupPlayer=_angular_core.__core_private__.AnimationGroupPlayer,AnimationKeyframe=_angular_core.__core_private__.AnimationKeyframe,AnimationStyles=_angular_core.__core_private__.AnimationStyles,ANY_STATE=_angular_core.__core_private__.ANY_STATE,DEFAULT_STATE=_angular_core.__core_private__.DEFAULT_STATE,EMPTY_ANIMATION_STATE=_angular_core.__core_private__.EMPTY_STATE,FILL_STYLE_FLAG=_angular_core.__core_private__.FILL_STYLE_FLAG,prepareFinalAnimationStyles=_angular_core.__core_private__.prepareFinalAnimationStyles,balanceAnimationKeyframes=_angular_core.__core_private__.balanceAnimationKeyframes,clearStyles=_angular_core.__core_private__.clearStyles,collectAndResolveStyles=_angular_core.__core_private__.collectAndResolveStyles,renderStyles=_angular_core.__core_private__.renderStyles,ComponentStillLoadingError=_angular_core.__core_private__.ComponentStillLoadingError,AnimationTransition=_angular_core.__core_private__.AnimationTransition,APP_VIEW_MODULE_URL=assetUrl("core","linker/view"),VIEW_UTILS_MODULE_URL=assetUrl("core","linker/view_utils"),CD_MODULE_URL=assetUrl("core","change_detection/change_detection"),ANIMATION_STYLE_UTIL_ASSET_URL=assetUrl("core","animation/animation_style_util"),Identifiers=function(){function Identifiers(){}return Identifiers.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleUrl:assetUrl("core","metadata/di"),runtime:_angular_core.ANALYZE_FOR_ENTRY_COMPONENTS},Identifiers.ViewUtils={name:"ViewUtils",moduleUrl:assetUrl("core","linker/view_utils"),runtime:view_utils.ViewUtils},Identifiers.AppView={name:"AppView",moduleUrl:APP_VIEW_MODULE_URL,runtime:AppView},Identifiers.DebugAppView={name:"DebugAppView",moduleUrl:APP_VIEW_MODULE_URL,runtime:DebugAppView},Identifiers.AppElement={name:"AppElement",moduleUrl:assetUrl("core","linker/element"),runtime:AppElement},Identifiers.ElementRef={name:"ElementRef",moduleUrl:assetUrl("core","linker/element_ref"),runtime:_angular_core.ElementRef},Identifiers.ViewContainerRef={name:"ViewContainerRef",moduleUrl:assetUrl("core","linker/view_container_ref"),runtime:_angular_core.ViewContainerRef},Identifiers.ChangeDetectorRef={name:"ChangeDetectorRef",moduleUrl:assetUrl("core","change_detection/change_detector_ref"),runtime:_angular_core.ChangeDetectorRef},Identifiers.RenderComponentType={name:"RenderComponentType",moduleUrl:assetUrl("core","render/api"),runtime:_angular_core.RenderComponentType},Identifiers.QueryList={name:"QueryList",moduleUrl:assetUrl("core","linker/query_list"),runtime:_angular_core.QueryList},Identifiers.TemplateRef={name:"TemplateRef",moduleUrl:assetUrl("core","linker/template_ref"),runtime:_angular_core.TemplateRef},Identifiers.TemplateRef_={name:"TemplateRef_",moduleUrl:assetUrl("core","linker/template_ref"),runtime:TemplateRef_},Identifiers.CodegenComponentFactoryResolver={name:"CodegenComponentFactoryResolver",moduleUrl:assetUrl("core","linker/component_factory_resolver"),runtime:CodegenComponentFactoryResolver},Identifiers.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleUrl:assetUrl("core","linker/component_factory_resolver"),runtime:_angular_core.ComponentFactoryResolver},Identifiers.ComponentFactory={name:"ComponentFactory",runtime:_angular_core.ComponentFactory,moduleUrl:assetUrl("core","linker/component_factory")},Identifiers.NgModuleFactory={name:"NgModuleFactory",runtime:_angular_core.NgModuleFactory,moduleUrl:assetUrl("core","linker/ng_module_factory")},Identifiers.NgModuleInjector={name:"NgModuleInjector",runtime:NgModuleInjector,moduleUrl:assetUrl("core","linker/ng_module_factory")},Identifiers.RegisterModuleFactoryFn={name:"registerModuleFactory",runtime:registerModuleFactory,moduleUrl:assetUrl("core","linker/ng_module_factory_loader")},Identifiers.ValueUnwrapper={name:"ValueUnwrapper",moduleUrl:CD_MODULE_URL,runtime:ValueUnwrapper},Identifiers.Injector={name:"Injector",moduleUrl:assetUrl("core","di/injector"),runtime:_angular_core.Injector},Identifiers.ViewEncapsulation={name:"ViewEncapsulation",moduleUrl:assetUrl("core","metadata/view"),runtime:_angular_core.ViewEncapsulation},Identifiers.ViewType={name:"ViewType",moduleUrl:assetUrl("core","linker/view_type"),runtime:ViewType},Identifiers.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleUrl:CD_MODULE_URL,runtime:_angular_core.ChangeDetectionStrategy},Identifiers.StaticNodeDebugInfo={name:"StaticNodeDebugInfo",moduleUrl:assetUrl("core","linker/debug_context"),runtime:StaticNodeDebugInfo},Identifiers.DebugContext={name:"DebugContext",moduleUrl:assetUrl("core","linker/debug_context"),runtime:DebugContext},Identifiers.Renderer={name:"Renderer",moduleUrl:assetUrl("core","render/api"),runtime:_angular_core.Renderer},Identifiers.SimpleChange={name:"SimpleChange",moduleUrl:CD_MODULE_URL,runtime:_angular_core.SimpleChange},Identifiers.UNINITIALIZED={name:"UNINITIALIZED",moduleUrl:CD_MODULE_URL,runtime:UNINITIALIZED},Identifiers.ChangeDetectorStatus={name:"ChangeDetectorStatus",moduleUrl:CD_MODULE_URL,runtime:ChangeDetectorStatus},Identifiers.checkBinding={name:"checkBinding",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:view_utils.checkBinding},Identifiers.flattenNestedViewRenderNodes={name:"flattenNestedViewRenderNodes",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:view_utils.flattenNestedViewRenderNodes},Identifiers.devModeEqual={name:"devModeEqual",moduleUrl:CD_MODULE_URL,runtime:devModeEqual},Identifiers.interpolate={name:"interpolate",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:view_utils.interpolate},Identifiers.castByValue={name:"castByValue",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:view_utils.castByValue},Identifiers.EMPTY_ARRAY={name:"EMPTY_ARRAY",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:view_utils.EMPTY_ARRAY},Identifiers.EMPTY_MAP={name:"EMPTY_MAP",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:view_utils.EMPTY_MAP},Identifiers.pureProxies=[null,{name:"pureProxy1",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:view_utils.pureProxy1},{name:"pureProxy2",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:view_utils.pureProxy2},{name:"pureProxy3",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:view_utils.pureProxy3},{name:"pureProxy4",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:view_utils.pureProxy4},{name:"pureProxy5",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:view_utils.pureProxy5},{name:"pureProxy6",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:view_utils.pureProxy6},{name:"pureProxy7",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:view_utils.pureProxy7},{name:"pureProxy8",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:view_utils.pureProxy8},{name:"pureProxy9",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:view_utils.pureProxy9},{name:"pureProxy10",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:view_utils.pureProxy10}],Identifiers.SecurityContext={name:"SecurityContext",moduleUrl:assetUrl("core","security"),runtime:_angular_core.SecurityContext},Identifiers.AnimationKeyframe={name:"AnimationKeyframe",moduleUrl:assetUrl("core","animation/animation_keyframe"),runtime:AnimationKeyframe},Identifiers.AnimationStyles={name:"AnimationStyles",moduleUrl:assetUrl("core","animation/animation_styles"),runtime:AnimationStyles},Identifiers.NoOpAnimationPlayer={name:"NoOpAnimationPlayer",moduleUrl:assetUrl("core","animation/animation_player"),runtime:NoOpAnimationPlayer},Identifiers.AnimationGroupPlayer={name:"AnimationGroupPlayer",moduleUrl:assetUrl("core","animation/animation_group_player"),runtime:AnimationGroupPlayer},Identifiers.AnimationSequencePlayer={name:"AnimationSequencePlayer",moduleUrl:assetUrl("core","animation/animation_sequence_player"),runtime:AnimationSequencePlayer},Identifiers.prepareFinalAnimationStyles={name:"prepareFinalAnimationStyles",moduleUrl:ANIMATION_STYLE_UTIL_ASSET_URL,runtime:prepareFinalAnimationStyles},Identifiers.balanceAnimationKeyframes={name:"balanceAnimationKeyframes",moduleUrl:ANIMATION_STYLE_UTIL_ASSET_URL,runtime:balanceAnimationKeyframes},Identifiers.clearStyles={name:"clearStyles",moduleUrl:ANIMATION_STYLE_UTIL_ASSET_URL,runtime:clearStyles},Identifiers.renderStyles={name:"renderStyles",moduleUrl:ANIMATION_STYLE_UTIL_ASSET_URL,runtime:renderStyles},Identifiers.collectAndResolveStyles={name:"collectAndResolveStyles",moduleUrl:ANIMATION_STYLE_UTIL_ASSET_URL,runtime:collectAndResolveStyles},Identifiers.LOCALE_ID={name:"LOCALE_ID",moduleUrl:assetUrl("core","i18n/tokens"),runtime:_angular_core.LOCALE_ID},Identifiers.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleUrl:assetUrl("core","i18n/tokens"),runtime:_angular_core.TRANSLATIONS_FORMAT},Identifiers.setBindingDebugInfo={name:"setBindingDebugInfo",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:view_utils.setBindingDebugInfo},Identifiers.setBindingDebugInfoForChanges={name:"setBindingDebugInfoForChanges",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:view_utils.setBindingDebugInfoForChanges},Identifiers.AnimationTransition={name:"AnimationTransition",moduleUrl:assetUrl("core","animation/animation_transition"),runtime:AnimationTransition},Identifiers}(),__extends$9=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HtmlParser=function(_super){function HtmlParser(){_super.call(this,getHtmlTagDefinition)}return __extends$9(HtmlParser,_super),HtmlParser.prototype.parse=function(source,url,parseExpansionForms,interpolationConfig){return void 0===parseExpansionForms&&(parseExpansionForms=!1),void 0===interpolationConfig&&(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG),_super.prototype.parse.call(this,source,url,parseExpansionForms,interpolationConfig)},HtmlParser.decorators=[{type:_angular_core.Injectable}],HtmlParser.ctorParameters=[],HtmlParser}(Parser$1),__extends$10=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},PLURAL_CASES=["zero","one","two","few","many","other"],ExpansionResult=function(){function ExpansionResult(nodes,expanded,errors){this.nodes=nodes,this.expanded=expanded,this.errors=errors}return ExpansionResult}(),ExpansionError=function(_super){function ExpansionError(span,errorMsg){_super.call(this,span,errorMsg)}return __extends$10(ExpansionError,_super),ExpansionError}(ParseError),_Expander=function(){function _Expander(){this.isExpanded=!1,this.errors=[]}return _Expander.prototype.visitElement=function(element,context){return new Element(element.name,element.attrs,visitAll(this,element.children),element.sourceSpan,element.startSourceSpan,element.endSourceSpan)},_Expander.prototype.visitAttribute=function(attribute,context){return attribute},_Expander.prototype.visitText=function(text,context){return text},_Expander.prototype.visitComment=function(comment,context){return comment},_Expander.prototype.visitExpansion=function(icu,context){return this.isExpanded=!0,"plural"==icu.type?_expandPluralForm(icu,this.errors):_expandDefaultForm(icu,this.errors)},_Expander.prototype.visitExpansionCase=function(icuCase,context){throw new Error("Should not be reached")},_Expander}(),__extends$11=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ProviderError=function(_super){function ProviderError(message,span){_super.call(this,span,message)}return __extends$11(ProviderError,_super),ProviderError}(ParseError),ProviderViewContext=function(){function ProviderViewContext(component,sourceSpan){var _this=this;this.component=component,this.sourceSpan=sourceSpan,this.errors=[],this.viewQueries=_getViewQueries(component),this.viewProviders=new Map,_normalizeProviders(component.viewProviders,sourceSpan,this.errors).forEach(function(provider){isBlank(_this.viewProviders.get(provider.token.reference))&&_this.viewProviders.set(provider.token.reference,!0)})}return ProviderViewContext}(),ProviderElementContext=function(){function ProviderElementContext(viewContext,_parent,_isViewRoot,_directiveAsts,attrs,refs,_sourceSpan){var _this=this;this.viewContext=viewContext,this._parent=_parent,this._isViewRoot=_isViewRoot,this._directiveAsts=_directiveAsts,this._sourceSpan=_sourceSpan,this._transformedProviders=new Map,this._seenProviders=new Map,this._hasViewContainer=!1,this._attrs={},attrs.forEach(function(attrAst){return _this._attrs[attrAst.name]=attrAst.value});var directivesMeta=_directiveAsts.map(function(directiveAst){return directiveAst.directive});this._allProviders=_resolveProvidersFromDirectives(directivesMeta,_sourceSpan,viewContext.errors),this._contentQueries=_getContentQueries(directivesMeta);var queriedTokens=new Map;MapWrapper.values(this._allProviders).forEach(function(provider){_this._addQueryReadsTo(provider.token,queriedTokens)}),refs.forEach(function(refAst){_this._addQueryReadsTo(new CompileTokenMetadata({value:refAst.name}),queriedTokens)}),isPresent(queriedTokens.get(resolveIdentifierToken(Identifiers.ViewContainerRef).reference))&&(this._hasViewContainer=!0),MapWrapper.values(this._allProviders).forEach(function(provider){var eager=provider.eager||isPresent(queriedTokens.get(provider.token.reference));eager&&_this._getOrCreateLocalProvider(provider.providerType,provider.token,!0)})}return ProviderElementContext.prototype.afterElement=function(){var _this=this;MapWrapper.values(this._allProviders).forEach(function(provider){_this._getOrCreateLocalProvider(provider.providerType,provider.token,!1)})},Object.defineProperty(ProviderElementContext.prototype,"transformProviders",{get:function(){return MapWrapper.values(this._transformedProviders)},enumerable:!0,configurable:!0}),Object.defineProperty(ProviderElementContext.prototype,"transformedDirectiveAsts",{get:function(){var sortedProviderTypes=this.transformProviders.map(function(provider){return provider.token.identifier}),sortedDirectives=ListWrapper.clone(this._directiveAsts);return ListWrapper.sort(sortedDirectives,function(dir1,dir2){return sortedProviderTypes.indexOf(dir1.directive.type)-sortedProviderTypes.indexOf(dir2.directive.type)}),sortedDirectives},enumerable:!0,configurable:!0}),Object.defineProperty(ProviderElementContext.prototype,"transformedHasViewContainer",{get:function(){return this._hasViewContainer},enumerable:!0,configurable:!0}),ProviderElementContext.prototype._addQueryReadsTo=function(token,queryReadTokens){this._getQueriesFor(token).forEach(function(query){var queryReadToken=query.read||token;isBlank(queryReadTokens.get(queryReadToken.reference))&&queryReadTokens.set(queryReadToken.reference,!0)})},ProviderElementContext.prototype._getQueriesFor=function(token){for(var queries,result=[],currentEl=this,distance=0;null!==currentEl;)queries=currentEl._contentQueries.get(token.reference),isPresent(queries)&&ListWrapper.addAll(result,queries.filter(function(query){return query.descendants||1>=distance})),currentEl._directiveAsts.length>0&&distance++,currentEl=currentEl._parent;return queries=this.viewContext.viewQueries.get(token.reference),isPresent(queries)&&ListWrapper.addAll(result,queries),result},ProviderElementContext.prototype._getOrCreateLocalProvider=function(requestingProviderType,token,eager){var _this=this,resolvedProvider=this._allProviders.get(token.reference);if(!resolvedProvider||(requestingProviderType===exports.ProviderAstType.Directive||requestingProviderType===exports.ProviderAstType.PublicService)&&resolvedProvider.providerType===exports.ProviderAstType.PrivateService||(requestingProviderType===exports.ProviderAstType.PrivateService||requestingProviderType===exports.ProviderAstType.PublicService)&&resolvedProvider.providerType===exports.ProviderAstType.Builtin)return null;var transformedProviderAst=this._transformedProviders.get(token.reference);if(isPresent(transformedProviderAst))return transformedProviderAst;if(isPresent(this._seenProviders.get(token.reference)))return this.viewContext.errors.push(new ProviderError("Cannot instantiate cyclic dependency! "+token.name,this._sourceSpan)),null;this._seenProviders.set(token.reference,!0);var transformedProviders=resolvedProvider.providers.map(function(provider){var transformedDeps,transformedUseValue=provider.useValue,transformedUseExisting=provider.useExisting;if(isPresent(provider.useExisting)){var existingDiDep=_this._getDependency(resolvedProvider.providerType,new CompileDiDependencyMetadata({token:provider.useExisting}),eager);isPresent(existingDiDep.token)?transformedUseExisting=existingDiDep.token:(transformedUseExisting=null,transformedUseValue=existingDiDep.value)}else if(isPresent(provider.useFactory)){var deps=provider.deps||provider.useFactory.diDeps;transformedDeps=deps.map(function(dep){return _this._getDependency(resolvedProvider.providerType,dep,eager)})}else if(isPresent(provider.useClass)){var deps=provider.deps||provider.useClass.diDeps;transformedDeps=deps.map(function(dep){return _this._getDependency(resolvedProvider.providerType,dep,eager)})}return _transformProvider(provider,{useExisting:transformedUseExisting,useValue:transformedUseValue,deps:transformedDeps})});return transformedProviderAst=_transformProviderAst(resolvedProvider,{eager:eager,providers:transformedProviders}),this._transformedProviders.set(token.reference,transformedProviderAst),transformedProviderAst},ProviderElementContext.prototype._getLocalDependency=function(requestingProviderType,dep,eager){if(void 0===eager&&(eager=null),dep.isAttribute){var attrValue=this._attrs[dep.token.value];return new CompileDiDependencyMetadata({isValue:!0,value:normalizeBlank(attrValue)})}if(isPresent(dep.query)||isPresent(dep.viewQuery))return dep;if(isPresent(dep.token)){if(requestingProviderType===exports.ProviderAstType.Directive||requestingProviderType===exports.ProviderAstType.Component){if(dep.token.reference===resolveIdentifierToken(Identifiers.Renderer).reference||dep.token.reference===resolveIdentifierToken(Identifiers.ElementRef).reference||dep.token.reference===resolveIdentifierToken(Identifiers.ChangeDetectorRef).reference||dep.token.reference===resolveIdentifierToken(Identifiers.TemplateRef).reference)return dep;dep.token.reference===resolveIdentifierToken(Identifiers.ViewContainerRef).reference&&(this._hasViewContainer=!0)}if(dep.token.reference===resolveIdentifierToken(Identifiers.Injector).reference)return dep;if(isPresent(this._getOrCreateLocalProvider(requestingProviderType,dep.token,eager)))return dep}return null},ProviderElementContext.prototype._getDependency=function(requestingProviderType,dep,eager){void 0===eager&&(eager=null);var currElement=this,currEager=eager,result=null;if(dep.isSkipSelf||(result=this._getLocalDependency(requestingProviderType,dep,eager)),dep.isSelf)!result&&dep.isOptional&&(result=new CompileDiDependencyMetadata({isValue:!0,value:null}));else{for(;!result&&isPresent(currElement._parent);){var prevElement=currElement;currElement=currElement._parent,prevElement._isViewRoot&&(currEager=!1),result=currElement._getLocalDependency(exports.ProviderAstType.PublicService,dep,currEager)}result||(result=!dep.isHost||this.viewContext.component.type.isHost||this.viewContext.component.type.reference===dep.token.reference||isPresent(this.viewContext.viewProviders.get(dep.token.reference))?dep:dep.isOptional?result=new CompileDiDependencyMetadata({isValue:!0,value:null}):null)}return result||this.viewContext.errors.push(new ProviderError("No provider for "+dep.token.name,this._sourceSpan)),result},ProviderElementContext}(),NgModuleProviderAnalyzer=function(){function NgModuleProviderAnalyzer(ngModule,extraProviders,sourceSpan){var _this=this;this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map;var ngModuleTypes=ngModule.transitiveModule.modules.map(function(moduleMeta){return moduleMeta.type});ngModuleTypes.forEach(function(ngModuleType){var ngModuleProvider=new CompileProviderMetadata({token:new CompileTokenMetadata({identifier:ngModuleType}),useClass:ngModuleType});_resolveProviders([ngModuleProvider],exports.ProviderAstType.PublicService,!0,sourceSpan,_this._errors,_this._allProviders)}),_resolveProviders(_normalizeProviders(ngModule.transitiveModule.providers.concat(extraProviders),sourceSpan,this._errors),exports.ProviderAstType.PublicService,!1,sourceSpan,this._errors,this._allProviders)}return NgModuleProviderAnalyzer.prototype.parse=function(){var _this=this;if(MapWrapper.values(this._allProviders).forEach(function(provider){_this._getOrCreateLocalProvider(provider.token,provider.eager)}),this._errors.length>0){var errorString=this._errors.join("\n");throw new Error("Provider parse errors:\n"+errorString)}return MapWrapper.values(this._transformedProviders)},NgModuleProviderAnalyzer.prototype._getOrCreateLocalProvider=function(token,eager){var _this=this,resolvedProvider=this._allProviders.get(token.reference);if(!resolvedProvider)return null;var transformedProviderAst=this._transformedProviders.get(token.reference);if(isPresent(transformedProviderAst))return transformedProviderAst;if(isPresent(this._seenProviders.get(token.reference)))return this._errors.push(new ProviderError("Cannot instantiate cyclic dependency! "+token.name,resolvedProvider.sourceSpan)),null;this._seenProviders.set(token.reference,!0);var transformedProviders=resolvedProvider.providers.map(function(provider){var transformedDeps,transformedUseValue=provider.useValue,transformedUseExisting=provider.useExisting;if(isPresent(provider.useExisting)){var existingDiDep=_this._getDependency(new CompileDiDependencyMetadata({token:provider.useExisting}),eager,resolvedProvider.sourceSpan);isPresent(existingDiDep.token)?transformedUseExisting=existingDiDep.token:(transformedUseExisting=null,transformedUseValue=existingDiDep.value)}else if(isPresent(provider.useFactory)){var deps=provider.deps||provider.useFactory.diDeps;transformedDeps=deps.map(function(dep){return _this._getDependency(dep,eager,resolvedProvider.sourceSpan)})}else if(isPresent(provider.useClass)){var deps=provider.deps||provider.useClass.diDeps;transformedDeps=deps.map(function(dep){return _this._getDependency(dep,eager,resolvedProvider.sourceSpan)})}return _transformProvider(provider,{useExisting:transformedUseExisting,useValue:transformedUseValue,deps:transformedDeps})});return transformedProviderAst=_transformProviderAst(resolvedProvider,{eager:eager,providers:transformedProviders}),this._transformedProviders.set(token.reference,transformedProviderAst),transformedProviderAst},NgModuleProviderAnalyzer.prototype._getDependency=function(dep,eager,requestorSourceSpan){void 0===eager&&(eager=null);var foundLocal=!1;!dep.isSkipSelf&&isPresent(dep.token)&&(dep.token.reference===resolveIdentifierToken(Identifiers.Injector).reference||dep.token.reference===resolveIdentifierToken(Identifiers.ComponentFactoryResolver).reference?foundLocal=!0:isPresent(this._getOrCreateLocalProvider(dep.token,eager))&&(foundLocal=!0));var result=dep;return dep.isSelf&&!foundLocal&&(dep.isOptional?result=new CompileDiDependencyMetadata({isValue:!0,value:null}):this._errors.push(new ProviderError("No provider for "+dep.token.name,requestorSourceSpan))),result},NgModuleProviderAnalyzer}(),ElementSchemaRegistry=function(){function ElementSchemaRegistry(){}return ElementSchemaRegistry}(),StyleWithImports=function(){function StyleWithImports(style,styleUrls){this.style=style,this.styleUrls=styleUrls}return StyleWithImports}(),_cssImportRe=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,_urlWithSchemaRe=/^([^:\/?#]+):/,NG_CONTENT_SELECT_ATTR="select",NG_CONTENT_ELEMENT="ng-content",LINK_ELEMENT="link",LINK_STYLE_REL_ATTR="rel",LINK_STYLE_HREF_ATTR="href",LINK_STYLE_REL_VALUE="stylesheet",STYLE_ELEMENT="style",SCRIPT_ELEMENT="script",NG_NON_BINDABLE_ATTR="ngNonBindable",NG_PROJECT_AS="ngProjectAs";!function(PreparsedElementType){PreparsedElementType[PreparsedElementType.NG_CONTENT=0]="NG_CONTENT",PreparsedElementType[PreparsedElementType.STYLE=1]="STYLE",PreparsedElementType[PreparsedElementType.STYLESHEET=2]="STYLESHEET",PreparsedElementType[PreparsedElementType.SCRIPT=3]="SCRIPT",PreparsedElementType[PreparsedElementType.OTHER=4]="OTHER"}(PreparsedElementType||(PreparsedElementType={}));var _Mode,PreparsedElement=function(){function PreparsedElement(type,selectAttr,hrefAttr,nonBindable,projectAs){this.type=type,this.selectAttr=selectAttr,this.hrefAttr=hrefAttr,this.nonBindable=nonBindable,this.projectAs=projectAs}return PreparsedElement}(),__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},BIND_NAME_REGEXP=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,KW_BIND_IDX=1,KW_LET_IDX=2,KW_REF_IDX=3,KW_ON_IDX=4,KW_BINDON_IDX=5,KW_AT_IDX=6,IDENT_KW_IDX=7,IDENT_BANANA_BOX_IDX=8,IDENT_PROPERTY_IDX=9,IDENT_EVENT_IDX=10,ANIMATE_PROP_PREFIX="animate-",TEMPLATE_ELEMENT="template",TEMPLATE_ATTR="template",TEMPLATE_ATTR_PREFIX="*",CLASS_ATTR="class",PROPERTY_PARTS_SEPARATOR=".",ATTRIBUTE_PREFIX="attr",CLASS_PREFIX="class",STYLE_PREFIX="style",TEXT_CSS_SELECTOR=CssSelector.parse("*")[0],TEMPLATE_TRANSFORMS=new _angular_core.OpaqueToken("TemplateTransforms"),TemplateParseError=function(_super){function TemplateParseError(message,span,level){_super.call(this,span,message,level)}return __extends(TemplateParseError,_super),TemplateParseError}(ParseError),TemplateParseResult=function(){function TemplateParseResult(templateAst,errors){this.templateAst=templateAst,this.errors=errors}return TemplateParseResult}(),TemplateParser=function(){function TemplateParser(_exprParser,_schemaRegistry,_htmlParser,_console,transforms){this._exprParser=_exprParser,this._schemaRegistry=_schemaRegistry,this._htmlParser=_htmlParser,this._console=_console,this.transforms=transforms}return TemplateParser.prototype.parse=function(component,template,directives,pipes,schemas,templateUrl){var result=this.tryParse(component,template,directives,pipes,schemas,templateUrl),warnings=result.errors.filter(function(error){return error.level===exports.ParseErrorLevel.WARNING}),errors=result.errors.filter(function(error){return error.level===exports.ParseErrorLevel.FATAL});if(warnings.length>0&&this._console.warn("Template parse warnings:\n"+warnings.join("\n")),errors.length>0){var errorString=errors.join("\n");throw new Error("Template parse errors:\n"+errorString)}return result.templateAst},TemplateParser.prototype.tryParse=function(component,template,directives,pipes,schemas,templateUrl){return this.tryParseHtml(this.expandHtml(this._htmlParser.parse(template,templateUrl,!0,this.getInterpolationConfig(component))),component,template,directives,pipes,schemas,templateUrl)},TemplateParser.prototype.tryParseHtml=function(htmlAstWithErrors,component,template,directives,pipes,schemas,templateUrl){var result,errors=htmlAstWithErrors.errors;if(htmlAstWithErrors.rootNodes.length>0){var uniqDirectives=removeIdentifierDuplicates(directives),uniqPipes=removeIdentifierDuplicates(pipes),providerViewContext=new ProviderViewContext(component,htmlAstWithErrors.rootNodes[0].sourceSpan),parseVisitor=new TemplateParseVisitor(providerViewContext,uniqDirectives,uniqPipes,schemas,this._exprParser,this._schemaRegistry);result=visitAll(parseVisitor,htmlAstWithErrors.rootNodes,EMPTY_ELEMENT_CONTEXT),errors.push.apply(errors,parseVisitor.errors.concat(providerViewContext.errors))}else result=[];return this._assertNoReferenceDuplicationOnTemplate(result,errors),errors.length>0?new TemplateParseResult(result,errors):(isPresent(this.transforms)&&this.transforms.forEach(function(transform){result=templateVisitAll(transform,result)}),new TemplateParseResult(result,errors))},TemplateParser.prototype.expandHtml=function(htmlAstWithErrors,forced){void 0===forced&&(forced=!1);var errors=htmlAstWithErrors.errors;if(0==errors.length||forced){var expandedHtmlAst=expandNodes(htmlAstWithErrors.rootNodes);errors.push.apply(errors,expandedHtmlAst.errors),htmlAstWithErrors=new ParseTreeResult(expandedHtmlAst.nodes,errors)}return htmlAstWithErrors},TemplateParser.prototype.getInterpolationConfig=function(component){return component.template?InterpolationConfig.fromArray(component.template.interpolation):void 0},TemplateParser.prototype._assertNoReferenceDuplicationOnTemplate=function(result,errors){var existingReferences=[];result.filter(function(element){return!!element.references;
}).forEach(function(element){return element.references.forEach(function(reference){var name=reference.name;if(existingReferences.indexOf(name)<0)existingReferences.push(name);else{var error=new TemplateParseError('Reference "#'+name+'" is defined several times',reference.sourceSpan,exports.ParseErrorLevel.FATAL);errors.push(error)}})})},TemplateParser.decorators=[{type:_angular_core.Injectable}],TemplateParser.ctorParameters=[{type:Parser},{type:ElementSchemaRegistry},{type:I18NHtmlParser},{type:Console},{type:Array,decorators:[{type:_angular_core.Optional},{type:_angular_core.Inject,args:[TEMPLATE_TRANSFORMS]}]}],TemplateParser}(),TemplateParseVisitor=function(){function TemplateParseVisitor(providerViewContext,directives,pipes,_schemas,_exprParser,_schemaRegistry){var _this=this;this.providerViewContext=providerViewContext,this._schemas=_schemas,this._exprParser=_exprParser,this._schemaRegistry=_schemaRegistry,this.selectorMatcher=new SelectorMatcher,this.errors=[],this.directivesIndex=new Map,this.ngContentCount=0,this.pipesByName=new Map;var tempMeta=providerViewContext.component.template;tempMeta&&tempMeta.interpolation&&(this._interpolationConfig={start:tempMeta.interpolation[0],end:tempMeta.interpolation[1]}),directives.forEach(function(directive,index){var selector=CssSelector.parse(directive.selector);_this.selectorMatcher.addSelectables(selector,directive),_this.directivesIndex.set(directive,index)}),pipes.forEach(function(pipe){return _this.pipesByName.set(pipe.name,pipe)})}return TemplateParseVisitor.prototype._reportError=function(message,sourceSpan,level){void 0===level&&(level=exports.ParseErrorLevel.FATAL),this.errors.push(new TemplateParseError(message,sourceSpan,level))},TemplateParseVisitor.prototype._reportParserErrors=function(errors,sourceSpan){for(var _i=0,errors_1=errors;_i<errors_1.length;_i++){var error=errors_1[_i];this._reportError(error.message,sourceSpan)}},TemplateParseVisitor.prototype._parseInterpolation=function(value,sourceSpan){var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseInterpolation(value,sourceInfo,this._interpolationConfig);if(ast&&this._reportParserErrors(ast.errors,sourceSpan),this._checkPipes(ast,sourceSpan),isPresent(ast)&&ast.ast.expressions.length>view_utils.MAX_INTERPOLATION_VALUES)throw new Error("Only support at most "+view_utils.MAX_INTERPOLATION_VALUES+" interpolation values!");return ast}catch(e){return this._reportError(""+e,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo)}},TemplateParseVisitor.prototype._parseAction=function(value,sourceSpan){var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseAction(value,sourceInfo,this._interpolationConfig);return ast&&this._reportParserErrors(ast.errors,sourceSpan),!ast||ast.ast instanceof EmptyExpr?(this._reportError("Empty expressions are not allowed",sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo)):(this._checkPipes(ast,sourceSpan),ast)}catch(e){return this._reportError(""+e,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo)}},TemplateParseVisitor.prototype._parseBinding=function(value,sourceSpan){var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseBinding(value,sourceInfo,this._interpolationConfig);return ast&&this._reportParserErrors(ast.errors,sourceSpan),this._checkPipes(ast,sourceSpan),ast}catch(e){return this._reportError(""+e,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo)}},TemplateParseVisitor.prototype._parseTemplateBindings=function(value,sourceSpan){var _this=this,sourceInfo=sourceSpan.start.toString();try{var bindingsResult=this._exprParser.parseTemplateBindings(value,sourceInfo);return this._reportParserErrors(bindingsResult.errors,sourceSpan),bindingsResult.templateBindings.forEach(function(binding){isPresent(binding.expression)&&_this._checkPipes(binding.expression,sourceSpan)}),bindingsResult.warnings.forEach(function(warning){_this._reportError(warning,sourceSpan,exports.ParseErrorLevel.WARNING)}),bindingsResult.templateBindings}catch(e){return this._reportError(""+e,sourceSpan),[]}},TemplateParseVisitor.prototype._checkPipes=function(ast,sourceSpan){var _this=this;if(isPresent(ast)){var collector=new PipeCollector;ast.visit(collector),collector.pipes.forEach(function(pipeName){_this.pipesByName.has(pipeName)||_this._reportError("The pipe '"+pipeName+"' could not be found",sourceSpan)})}},TemplateParseVisitor.prototype.visitExpansion=function(expansion,context){return null},TemplateParseVisitor.prototype.visitExpansionCase=function(expansionCase,context){return null},TemplateParseVisitor.prototype.visitText=function(text,parent){var ngContentIndex=parent.findNgContentIndex(TEXT_CSS_SELECTOR),expr=this._parseInterpolation(text.value,text.sourceSpan);return isPresent(expr)?new BoundTextAst(expr,ngContentIndex,text.sourceSpan):new TextAst(text.value,ngContentIndex,text.sourceSpan)},TemplateParseVisitor.prototype.visitAttribute=function(attribute,context){return new AttrAst(attribute.name,attribute.value,attribute.sourceSpan)},TemplateParseVisitor.prototype.visitComment=function(comment,context){return null},TemplateParseVisitor.prototype.visitElement=function(element,parent){var _this=this,nodeName=element.name,preparsedElement=preparseElement(element);if(preparsedElement.type===PreparsedElementType.SCRIPT||preparsedElement.type===PreparsedElementType.STYLE)return null;if(preparsedElement.type===PreparsedElementType.STYLESHEET&&isStyleUrlResolvable(preparsedElement.hrefAttr))return null;var matchableAttrs=[],elementOrDirectiveProps=[],elementOrDirectiveRefs=[],elementVars=[],animationProps=[],events=[],templateElementOrDirectiveProps=[],templateMatchableAttrs=[],templateElementVars=[],hasInlineTemplates=!1,attrs=[],lcElName=splitNsName(nodeName.toLowerCase())[1],isTemplateElement=lcElName==TEMPLATE_ELEMENT;element.attrs.forEach(function(attr){var hasBinding=_this._parseAttr(isTemplateElement,attr,matchableAttrs,elementOrDirectiveProps,animationProps,events,elementOrDirectiveRefs,elementVars),hasTemplateBinding=_this._parseInlineTemplateBinding(attr,templateMatchableAttrs,templateElementOrDirectiveProps,templateElementVars);hasTemplateBinding&&hasInlineTemplates&&_this._reportError("Can't have multiple template bindings on one element. Use only one attribute named 'template' or prefixed with *",attr.sourceSpan),hasBinding||hasTemplateBinding||(attrs.push(_this.visitAttribute(attr,null)),matchableAttrs.push([attr.name,attr.value])),hasTemplateBinding&&(hasInlineTemplates=!0)});var elementCssSelector=createElementCssSelector(nodeName,matchableAttrs),_a=this._parseDirectives(this.selectorMatcher,elementCssSelector),directiveMetas=_a.directives,matchElement=_a.matchElement,references=[],directiveAsts=this._createDirectiveAsts(isTemplateElement,element.name,directiveMetas,elementOrDirectiveProps,elementOrDirectiveRefs,element.sourceSpan,references),elementProps=this._createElementPropertyAsts(element.name,elementOrDirectiveProps,directiveAsts).concat(animationProps),isViewRoot=parent.isTemplateElement||hasInlineTemplates,providerContext=new ProviderElementContext(this.providerViewContext,parent.providerContext,isViewRoot,directiveAsts,attrs,references,element.sourceSpan),children=visitAll(preparsedElement.nonBindable?NON_BINDABLE_VISITOR:this,element.children,ElementContext.create(isTemplateElement,directiveAsts,isTemplateElement?parent.providerContext:providerContext));providerContext.afterElement();var parsedElement,projectionSelector=isPresent(preparsedElement.projectAs)?CssSelector.parse(preparsedElement.projectAs)[0]:elementCssSelector,ngContentIndex=parent.findNgContentIndex(projectionSelector);if(preparsedElement.type===PreparsedElementType.NG_CONTENT)element.children&&!element.children.every(_isEmptyTextNode)&&this._reportError("<ng-content> element cannot have content.",element.sourceSpan),parsedElement=new NgContentAst(this.ngContentCount++,hasInlineTemplates?null:ngContentIndex,element.sourceSpan);else if(isTemplateElement)this._assertAllEventsPublishedByDirectives(directiveAsts,events),this._assertNoComponentsNorElementBindingsOnTemplate(directiveAsts,elementProps,element.sourceSpan),parsedElement=new EmbeddedTemplateAst(attrs,events,references,elementVars,providerContext.transformedDirectiveAsts,providerContext.transformProviders,providerContext.transformedHasViewContainer,children,hasInlineTemplates?null:ngContentIndex,element.sourceSpan);else{this._assertElementExists(matchElement,element),this._assertOnlyOneComponent(directiveAsts,element.sourceSpan);var ngContentIndex_1=hasInlineTemplates?null:parent.findNgContentIndex(projectionSelector);parsedElement=new ElementAst(nodeName,attrs,elementProps,events,references,providerContext.transformedDirectiveAsts,providerContext.transformProviders,providerContext.transformedHasViewContainer,children,hasInlineTemplates?null:ngContentIndex_1,element.sourceSpan,element.endSourceSpan),this._findComponentDirectives(directiveAsts).forEach(function(componentDirectiveAst){return _this._validateElementAnimationInputOutputs(componentDirectiveAst.hostProperties,componentDirectiveAst.hostEvents,componentDirectiveAst.directive.template)});var componentTemplate=providerContext.viewContext.component.template;this._validateElementAnimationInputOutputs(elementProps,events,componentTemplate)}if(hasInlineTemplates){var templateCssSelector=createElementCssSelector(TEMPLATE_ELEMENT,templateMatchableAttrs),templateDirectiveMetas=this._parseDirectives(this.selectorMatcher,templateCssSelector).directives,templateDirectiveAsts=this._createDirectiveAsts(!0,element.name,templateDirectiveMetas,templateElementOrDirectiveProps,[],element.sourceSpan,[]),templateElementProps=this._createElementPropertyAsts(element.name,templateElementOrDirectiveProps,templateDirectiveAsts);this._assertNoComponentsNorElementBindingsOnTemplate(templateDirectiveAsts,templateElementProps,element.sourceSpan);var templateProviderContext=new ProviderElementContext(this.providerViewContext,parent.providerContext,parent.isTemplateElement,templateDirectiveAsts,[],[],element.sourceSpan);templateProviderContext.afterElement(),parsedElement=new EmbeddedTemplateAst([],[],[],templateElementVars,templateProviderContext.transformedDirectiveAsts,templateProviderContext.transformProviders,templateProviderContext.transformedHasViewContainer,[parsedElement],ngContentIndex,element.sourceSpan)}return parsedElement},TemplateParseVisitor.prototype._validateElementAnimationInputOutputs=function(inputs,outputs,template){var _this=this,triggerLookup=new Set;template.animations.forEach(function(entry){triggerLookup.add(entry.name)});var animationInputs=inputs.filter(function(input){return input.isAnimation});animationInputs.forEach(function(input){var name=input.name;triggerLookup.has(name)||_this._reportError("Couldn't find an animation entry for \""+name+'"',input.sourceSpan)}),outputs.forEach(function(output){if(output.isAnimation){var found=animationInputs.find(function(input){return input.name==output.name});found||_this._reportError("Unable to listen on (@"+output.name+"."+output.phase+") because the animation trigger [@"+output.name+"] isn't being used on the same element",output.sourceSpan)}})},TemplateParseVisitor.prototype._parseInlineTemplateBinding=function(attr,targetMatchableAttrs,targetProps,targetVars){var templateBindingsSource=null;if(this._normalizeAttributeName(attr.name)==TEMPLATE_ATTR)templateBindingsSource=attr.value;else if(attr.name.startsWith(TEMPLATE_ATTR_PREFIX)){var key=attr.name.substring(TEMPLATE_ATTR_PREFIX.length);templateBindingsSource=0==attr.value.length?key:key+" "+attr.value}if(isPresent(templateBindingsSource)){for(var bindings=this._parseTemplateBindings(templateBindingsSource,attr.sourceSpan),i=0;i<bindings.length;i++){var binding=bindings[i];binding.keyIsVar?targetVars.push(new VariableAst(binding.key,binding.name,attr.sourceSpan)):isPresent(binding.expression)?this._parsePropertyAst(binding.key,binding.expression,attr.sourceSpan,targetMatchableAttrs,targetProps):(targetMatchableAttrs.push([binding.key,""]),this._parseLiteralAttr(binding.key,null,attr.sourceSpan,targetProps))}return!0}return!1},TemplateParseVisitor.prototype._parseAttr=function(isTemplateElement,attr,targetMatchableAttrs,targetProps,targetAnimationProps,targetEvents,targetRefs,targetVars){var name=this._normalizeAttributeName(attr.name),value=attr.value,srcSpan=attr.sourceSpan,bindParts=name.match(BIND_NAME_REGEXP),hasBinding=!1;if(null!==bindParts)if(hasBinding=!0,isPresent(bindParts[KW_BIND_IDX]))this._parsePropertyOrAnimation(bindParts[IDENT_KW_IDX],value,srcSpan,targetMatchableAttrs,targetProps,targetAnimationProps);else if(bindParts[KW_LET_IDX])if(isTemplateElement){var identifier=bindParts[IDENT_KW_IDX];this._parseVariable(identifier,value,srcSpan,targetVars)}else this._reportError('"let-" is only supported on template elements.',srcSpan);else if(bindParts[KW_REF_IDX]){var identifier=bindParts[IDENT_KW_IDX];this._parseReference(identifier,value,srcSpan,targetRefs)}else bindParts[KW_ON_IDX]?this._parseEventOrAnimationEvent(bindParts[IDENT_KW_IDX],value,srcSpan,targetMatchableAttrs,targetEvents):bindParts[KW_BINDON_IDX]?(this._parsePropertyOrAnimation(bindParts[IDENT_KW_IDX],value,srcSpan,targetMatchableAttrs,targetProps,targetAnimationProps),this._parseAssignmentEvent(bindParts[IDENT_KW_IDX],value,srcSpan,targetMatchableAttrs,targetEvents)):bindParts[KW_AT_IDX]?(_isAnimationLabel(name)&&isPresent(value)&&value.length>0&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',srcSpan,exports.ParseErrorLevel.FATAL),this._parseAnimation(bindParts[IDENT_KW_IDX],value,srcSpan,targetMatchableAttrs,targetAnimationProps)):bindParts[IDENT_BANANA_BOX_IDX]?(this._parsePropertyOrAnimation(bindParts[IDENT_BANANA_BOX_IDX],value,srcSpan,targetMatchableAttrs,targetProps,targetAnimationProps),this._parseAssignmentEvent(bindParts[IDENT_BANANA_BOX_IDX],value,srcSpan,targetMatchableAttrs,targetEvents)):bindParts[IDENT_PROPERTY_IDX]?this._parsePropertyOrAnimation(bindParts[IDENT_PROPERTY_IDX],value,srcSpan,targetMatchableAttrs,targetProps,targetAnimationProps):bindParts[IDENT_EVENT_IDX]&&this._parseEventOrAnimationEvent(bindParts[IDENT_EVENT_IDX],value,srcSpan,targetMatchableAttrs,targetEvents);else hasBinding=this._parsePropertyInterpolation(name,value,srcSpan,targetMatchableAttrs,targetProps);return hasBinding||this._parseLiteralAttr(name,value,srcSpan,targetProps),hasBinding},TemplateParseVisitor.prototype._normalizeAttributeName=function(attrName){return/^data-/i.test(attrName)?attrName.substring(5):attrName},TemplateParseVisitor.prototype._parseVariable=function(identifier,value,sourceSpan,targetVars){identifier.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',sourceSpan),targetVars.push(new VariableAst(identifier,value,sourceSpan))},TemplateParseVisitor.prototype._parseReference=function(identifier,value,sourceSpan,targetRefs){identifier.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',sourceSpan),targetRefs.push(new ElementOrDirectiveRef(identifier,value,sourceSpan))},TemplateParseVisitor.prototype._parsePropertyOrAnimation=function(name,expression,sourceSpan,targetMatchableAttrs,targetProps,targetAnimationProps){var animatePropLength=ANIMATE_PROP_PREFIX.length,isAnimationProp=_isAnimationLabel(name),animationPrefixLength=1;name.substring(0,animatePropLength)==ANIMATE_PROP_PREFIX&&(isAnimationProp=!0,animationPrefixLength=animatePropLength),isAnimationProp?this._parseAnimation(name.substr(animationPrefixLength),expression,sourceSpan,targetMatchableAttrs,targetAnimationProps):this._parsePropertyAst(name,this._parseBinding(expression,sourceSpan),sourceSpan,targetMatchableAttrs,targetProps)},TemplateParseVisitor.prototype._parseAnimation=function(name,expression,sourceSpan,targetMatchableAttrs,targetAnimationProps){isPresent(expression)&&0!=expression.length||(expression="null");var ast=this._parseBinding(expression,sourceSpan);targetMatchableAttrs.push([name,ast.source]),targetAnimationProps.push(new BoundElementPropertyAst(name,exports.PropertyBindingType.Animation,_angular_core.SecurityContext.NONE,ast,null,sourceSpan))},TemplateParseVisitor.prototype._parsePropertyInterpolation=function(name,value,sourceSpan,targetMatchableAttrs,targetProps){var expr=this._parseInterpolation(value,sourceSpan);return isPresent(expr)?(this._parsePropertyAst(name,expr,sourceSpan,targetMatchableAttrs,targetProps),!0):!1},TemplateParseVisitor.prototype._parsePropertyAst=function(name,ast,sourceSpan,targetMatchableAttrs,targetProps){targetMatchableAttrs.push([name,ast.source]),targetProps.push(new BoundElementOrDirectiveProperty(name,ast,!1,sourceSpan))},TemplateParseVisitor.prototype._parseAssignmentEvent=function(name,expression,sourceSpan,targetMatchableAttrs,targetEvents){this._parseEventOrAnimationEvent(name+"Change",expression+"=$event",sourceSpan,targetMatchableAttrs,targetEvents)},TemplateParseVisitor.prototype._parseEventOrAnimationEvent=function(name,expression,sourceSpan,targetMatchableAttrs,targetEvents){_isAnimationLabel(name)?(name=name.substr(1),this._parseAnimationEvent(name,expression,sourceSpan,targetEvents)):this._parseEvent(name,expression,sourceSpan,targetMatchableAttrs,targetEvents)},TemplateParseVisitor.prototype._parseAnimationEvent=function(name,expression,sourceSpan,targetEvents){var matches=splitAtPeriod(name,[name,""]),eventName=matches[0],phase=matches[1].toLowerCase();if(phase)switch(phase){case"start":case"done":var ast=this._parseAction(expression,sourceSpan);targetEvents.push(new BoundEventAst(eventName,null,phase,ast,sourceSpan));break;default:this._reportError('The provided animation output phase value "'+phase+'" for "@'+eventName+'" is not supported (use start or done)',sourceSpan)}else this._reportError("The animation trigger output event (@"+eventName+") is missing its phase value name (start or done are currently supported)",sourceSpan)},TemplateParseVisitor.prototype._parseEvent=function(name,expression,sourceSpan,targetMatchableAttrs,targetEvents){var _a=splitAtColon(name,[null,name]),target=_a[0],eventName=_a[1],ast=this._parseAction(expression,sourceSpan);targetMatchableAttrs.push([name,ast.source]),targetEvents.push(new BoundEventAst(eventName,target,null,ast,sourceSpan))},TemplateParseVisitor.prototype._parseLiteralAttr=function(name,value,sourceSpan,targetProps){targetProps.push(new BoundElementOrDirectiveProperty(name,this._exprParser.wrapLiteralPrimitive(value,""),!0,sourceSpan))},TemplateParseVisitor.prototype._parseDirectives=function(selectorMatcher,elementCssSelector){var _this=this,directives=new Array(this.directivesIndex.size),matchElement=!1;return selectorMatcher.match(elementCssSelector,function(selector,directive){directives[_this.directivesIndex.get(directive)]=directive,matchElement=matchElement||selector.hasElementSelector()}),{directives:directives.filter(function(dir){return!!dir}),matchElement:matchElement}},TemplateParseVisitor.prototype._createDirectiveAsts=function(isTemplateElement,elementName,directives,props,elementOrDirectiveRefs,elementSourceSpan,targetReferences){var _this=this,matchedReferences=new Set,component=null,directiveAsts=directives.map(function(directive){var sourceSpan=new ParseSourceSpan(elementSourceSpan.start,elementSourceSpan.end,"Directive "+directive.type.name);directive.isComponent&&(component=directive);var hostProperties=[],hostEvents=[],directiveProperties=[];return _this._createDirectiveHostPropertyAsts(elementName,directive.hostProperties,sourceSpan,hostProperties),_this._createDirectiveHostEventAsts(directive.hostListeners,sourceSpan,hostEvents),_this._createDirectivePropertyAsts(directive.inputs,props,directiveProperties),elementOrDirectiveRefs.forEach(function(elOrDirRef){(0===elOrDirRef.value.length&&directive.isComponent||directive.exportAs==elOrDirRef.value)&&(targetReferences.push(new ReferenceAst(elOrDirRef.name,identifierToken(directive.type),elOrDirRef.sourceSpan)),matchedReferences.add(elOrDirRef.name))}),new DirectiveAst(directive,directiveProperties,hostProperties,hostEvents,sourceSpan)});return elementOrDirectiveRefs.forEach(function(elOrDirRef){if(elOrDirRef.value.length>0)matchedReferences.has(elOrDirRef.name)||_this._reportError('There is no directive with "exportAs" set to "'+elOrDirRef.value+'"',elOrDirRef.sourceSpan);else if(!component){var refToken=null;isTemplateElement&&(refToken=resolveIdentifierToken(Identifiers.TemplateRef)),targetReferences.push(new ReferenceAst(elOrDirRef.name,refToken,elOrDirRef.sourceSpan))}}),directiveAsts},TemplateParseVisitor.prototype._createDirectiveHostPropertyAsts=function(elementName,hostProps,sourceSpan,targetPropertyAsts){var _this=this;hostProps&&Object.keys(hostProps).forEach(function(propName){var expression=hostProps[propName];if("string"==typeof expression){var exprAst=_this._parseBinding(expression,sourceSpan);targetPropertyAsts.push(_this._createElementPropertyAst(elementName,propName,exprAst,sourceSpan))}else _this._reportError('Value of the host property binding "'+propName+'" needs to be a string representing an expression but got "'+expression+'" ('+typeof expression+")",sourceSpan)})},TemplateParseVisitor.prototype._createDirectiveHostEventAsts=function(hostListeners,sourceSpan,targetEventAsts){var _this=this;hostListeners&&Object.keys(hostListeners).forEach(function(propName){var expression=hostListeners[propName];"string"==typeof expression?_this._parseEventOrAnimationEvent(propName,expression,sourceSpan,[],targetEventAsts):_this._reportError('Value of the host listener "'+propName+'" needs to be a string representing an expression but got "'+expression+'" ('+typeof expression+")",sourceSpan)})},TemplateParseVisitor.prototype._createDirectivePropertyAsts=function(directiveProperties,boundProps,targetBoundDirectiveProps){if(directiveProperties){var boundPropsByName_1=new Map;boundProps.forEach(function(boundProp){var prevValue=boundPropsByName_1.get(boundProp.name);(!prevValue||prevValue.isLiteral)&&boundPropsByName_1.set(boundProp.name,boundProp)}),Object.keys(directiveProperties).forEach(function(dirProp){var elProp=directiveProperties[dirProp],boundProp=boundPropsByName_1.get(elProp);boundProp&&targetBoundDirectiveProps.push(new BoundDirectivePropertyAst(dirProp,boundProp.name,boundProp.expression,boundProp.sourceSpan))})}},TemplateParseVisitor.prototype._createElementPropertyAsts=function(elementName,props,directives){var _this=this,boundElementProps=[],boundDirectivePropsIndex=new Map;return directives.forEach(function(directive){directive.inputs.forEach(function(prop){boundDirectivePropsIndex.set(prop.templateName,prop)})}),props.forEach(function(prop){prop.isLiteral||boundDirectivePropsIndex.get(prop.name)||boundElementProps.push(_this._createElementPropertyAst(elementName,prop.name,prop.expression,prop.sourceSpan))}),boundElementProps},TemplateParseVisitor.prototype._createElementPropertyAst=function(elementName,name,ast,sourceSpan){var bindingType,boundPropertyName,securityContext,unit=null,parts=name.split(PROPERTY_PARTS_SEPARATOR);if(1===parts.length){var partValue=parts[0];if(_isAnimationLabel(partValue))boundPropertyName=partValue.substr(1),bindingType=exports.PropertyBindingType.Animation,securityContext=_angular_core.SecurityContext.NONE;else if(boundPropertyName=this._schemaRegistry.getMappedPropName(partValue),securityContext=this._schemaRegistry.securityContext(elementName,boundPropertyName),bindingType=exports.PropertyBindingType.Property,this._validatePropertyOrAttributeName(boundPropertyName,sourceSpan,!1),!this._schemaRegistry.hasProperty(elementName,boundPropertyName,this._schemas)){var errorMsg="Can't bind to '"+boundPropertyName+"' since it isn't a known property of '"+elementName+"'.";elementName.indexOf("-")>-1&&(errorMsg+="\n1. If '"+elementName+"' is an Angular component and it has '"+boundPropertyName+"' input, then verify that it is part of this module."+("\n2. If '"+elementName+"' is a Web Component then add \"CUSTOM_ELEMENTS_SCHEMA\" to the '@NgModule.schemas' of this component to suppress this message.\n")),this._reportError(errorMsg,sourceSpan)}}else if(parts[0]==ATTRIBUTE_PREFIX){boundPropertyName=parts[1],this._validatePropertyOrAttributeName(boundPropertyName,sourceSpan,!0);var mapPropName=this._schemaRegistry.getMappedPropName(boundPropertyName);securityContext=this._schemaRegistry.securityContext(elementName,mapPropName);var nsSeparatorIdx=boundPropertyName.indexOf(":");if(nsSeparatorIdx>-1){var ns=boundPropertyName.substring(0,nsSeparatorIdx),name_1=boundPropertyName.substring(nsSeparatorIdx+1);boundPropertyName=mergeNsAndName(ns,name_1)}bindingType=exports.PropertyBindingType.Attribute}else parts[0]==CLASS_PREFIX?(boundPropertyName=parts[1],bindingType=exports.PropertyBindingType.Class,securityContext=_angular_core.SecurityContext.NONE):parts[0]==STYLE_PREFIX?(unit=parts.length>2?parts[2]:null,boundPropertyName=parts[1],bindingType=exports.PropertyBindingType.Style,securityContext=_angular_core.SecurityContext.STYLE):(this._reportError("Invalid property name '"+name+"'",sourceSpan),bindingType=null,securityContext=null);return new BoundElementPropertyAst(boundPropertyName,bindingType,securityContext,ast,unit,sourceSpan)},TemplateParseVisitor.prototype._validatePropertyOrAttributeName=function(propName,sourceSpan,isAttr){var report=isAttr?this._schemaRegistry.validateAttribute(propName):this._schemaRegistry.validateProperty(propName);report.error&&this._reportError(report.msg,sourceSpan,exports.ParseErrorLevel.FATAL)},TemplateParseVisitor.prototype._findComponentDirectives=function(directives){return directives.filter(function(directive){return directive.directive.isComponent})},TemplateParseVisitor.prototype._findComponentDirectiveNames=function(directives){return this._findComponentDirectives(directives).map(function(directive){return directive.directive.type.name})},TemplateParseVisitor.prototype._assertOnlyOneComponent=function(directives,sourceSpan){var componentTypeNames=this._findComponentDirectiveNames(directives);componentTypeNames.length>1&&this._reportError("More than one component: "+componentTypeNames.join(","),sourceSpan)},TemplateParseVisitor.prototype._assertElementExists=function(matchElement,element){var elName=element.name.replace(/^:xhtml:/,"");if(!matchElement&&!this._schemaRegistry.hasElement(elName,this._schemas)){var errorMsg="'"+elName+"' is not a known element:\n"+("1. If '"+elName+"' is an Angular component, then verify that it is part of this module.\n")+("2. If '"+elName+"' is a Web Component then add \"CUSTOM_ELEMENTS_SCHEMA\" to the '@NgModule.schemas' of this component to suppress this message.");this._reportError(errorMsg,element.sourceSpan)}},TemplateParseVisitor.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(directives,elementProps,sourceSpan){var _this=this,componentTypeNames=this._findComponentDirectiveNames(directives);componentTypeNames.length>0&&this._reportError("Components on an embedded template: "+componentTypeNames.join(","),sourceSpan),elementProps.forEach(function(prop){_this._reportError("Property binding "+prop.name+' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "directives" section.',sourceSpan)})},TemplateParseVisitor.prototype._assertAllEventsPublishedByDirectives=function(directives,events){var _this=this,allDirectiveEvents=new Set;directives.forEach(function(directive){Object.keys(directive.directive.outputs).forEach(function(k){var eventName=directive.directive.outputs[k];allDirectiveEvents.add(eventName)})}),events.forEach(function(event){(isPresent(event.target)||!allDirectiveEvents.has(event.name))&&_this._reportError("Event binding "+event.fullName+' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "directives" section.',event.sourceSpan)})},TemplateParseVisitor}(),NonBindableVisitor=function(){function NonBindableVisitor(){}return NonBindableVisitor.prototype.visitElement=function(ast,parent){var preparsedElement=preparseElement(ast);if(preparsedElement.type===PreparsedElementType.SCRIPT||preparsedElement.type===PreparsedElementType.STYLE||preparsedElement.type===PreparsedElementType.STYLESHEET)return null;var attrNameAndValues=ast.attrs.map(function(attrAst){return[attrAst.name,attrAst.value]}),selector=createElementCssSelector(ast.name,attrNameAndValues),ngContentIndex=parent.findNgContentIndex(selector),children=visitAll(this,ast.children,EMPTY_ELEMENT_CONTEXT);return new ElementAst(ast.name,visitAll(this,ast.attrs),[],[],[],[],[],!1,children,ngContentIndex,ast.sourceSpan,ast.endSourceSpan)},NonBindableVisitor.prototype.visitComment=function(comment,context){return null},NonBindableVisitor.prototype.visitAttribute=function(attribute,context){return new AttrAst(attribute.name,attribute.value,attribute.sourceSpan)},NonBindableVisitor.prototype.visitText=function(text,parent){var ngContentIndex=parent.findNgContentIndex(TEXT_CSS_SELECTOR);return new TextAst(text.value,ngContentIndex,text.sourceSpan)},NonBindableVisitor.prototype.visitExpansion=function(expansion,context){return expansion},NonBindableVisitor.prototype.visitExpansionCase=function(expansionCase,context){return expansionCase},NonBindableVisitor}(),BoundElementOrDirectiveProperty=function(){function BoundElementOrDirectiveProperty(name,expression,isLiteral,sourceSpan){this.name=name,this.expression=expression,this.isLiteral=isLiteral,this.sourceSpan=sourceSpan}return BoundElementOrDirectiveProperty}(),ElementOrDirectiveRef=function(){function ElementOrDirectiveRef(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}return ElementOrDirectiveRef}(),ElementContext=function(){function ElementContext(isTemplateElement,_ngContentIndexMatcher,_wildcardNgContentIndex,providerContext){this.isTemplateElement=isTemplateElement,this._ngContentIndexMatcher=_ngContentIndexMatcher,this._wildcardNgContentIndex=_wildcardNgContentIndex,this.providerContext=providerContext}return ElementContext.create=function(isTemplateElement,directives,providerContext){var matcher=new SelectorMatcher,wildcardNgContentIndex=null,component=directives.find(function(directive){return directive.directive.isComponent});if(component)for(var ngContentSelectors=component.directive.template.ngContentSelectors,i=0;i<ngContentSelectors.length;i++){var selector=ngContentSelectors[i];"*"===selector?wildcardNgContentIndex=i:matcher.addSelectables(CssSelector.parse(ngContentSelectors[i]),i)}return new ElementContext(isTemplateElement,matcher,wildcardNgContentIndex,providerContext)},ElementContext.prototype.findNgContentIndex=function(selector){var ngContentIndices=[];return this._ngContentIndexMatcher.match(selector,function(selector,ngContentIndex){ngContentIndices.push(ngContentIndex)}),ngContentIndices.sort(),isPresent(this._wildcardNgContentIndex)&&ngContentIndices.push(this._wildcardNgContentIndex),ngContentIndices.length>0?ngContentIndices[0]:null},ElementContext}(),EMPTY_ELEMENT_CONTEXT=new ElementContext(!0,new SelectorMatcher,null,null),NON_BINDABLE_VISITOR=new NonBindableVisitor,PipeCollector=function(_super){function PipeCollector(){_super.apply(this,arguments),this.pipes=new Set}return __extends(PipeCollector,_super),PipeCollector.prototype.visitPipe=function(ast,context){return this.pipes.add(ast.name),ast.exp.visit(this),this.visitAll(ast.args,context),null},PipeCollector}(RecursiveAstVisitor),CompilerConfig=function(){function CompilerConfig(_a){var _b=void 0===_a?{}:_a,_c=_b.renderTypes,renderTypes=void 0===_c?new DefaultRenderTypes:_c,_d=_b.defaultEncapsulation,defaultEncapsulation=void 0===_d?_angular_core.ViewEncapsulation.Emulated:_d,genDebugInfo=_b.genDebugInfo,logBindingUpdate=_b.logBindingUpdate,_e=_b.useJit,useJit=void 0===_e?!0:_e;
this.renderTypes=renderTypes,this.defaultEncapsulation=defaultEncapsulation,this._genDebugInfo=genDebugInfo,this._logBindingUpdate=logBindingUpdate,this.useJit=useJit}return Object.defineProperty(CompilerConfig.prototype,"genDebugInfo",{get:function(){return void 0===this._genDebugInfo?_angular_core.isDevMode():this._genDebugInfo},enumerable:!0,configurable:!0}),Object.defineProperty(CompilerConfig.prototype,"logBindingUpdate",{get:function(){return void 0===this._logBindingUpdate?_angular_core.isDevMode():this._logBindingUpdate},enumerable:!0,configurable:!0}),CompilerConfig}(),RenderTypes=function(){function RenderTypes(){}return Object.defineProperty(RenderTypes.prototype,"renderer",{get:function(){return unimplemented$1()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderText",{get:function(){return unimplemented$1()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderElement",{get:function(){return unimplemented$1()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderComment",{get:function(){return unimplemented$1()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderNode",{get:function(){return unimplemented$1()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderEvent",{get:function(){return unimplemented$1()},enumerable:!0,configurable:!0}),RenderTypes}(),DefaultRenderTypes=function(){function DefaultRenderTypes(){this.renderText=null,this.renderElement=null,this.renderComment=null,this.renderNode=null,this.renderEvent=null}return Object.defineProperty(DefaultRenderTypes.prototype,"renderer",{get:function(){return resolveIdentifier(Identifiers.Renderer)},enumerable:!0,configurable:!0}),DefaultRenderTypes}(),__extends$12=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AnimationAst=function(){function AnimationAst(){this.startTime=0,this.playTime=0}return AnimationAst}(),AnimationStateAst=function(_super){function AnimationStateAst(){_super.apply(this,arguments)}return __extends$12(AnimationStateAst,_super),AnimationStateAst}(AnimationAst),AnimationEntryAst=function(_super){function AnimationEntryAst(name,stateDeclarations,stateTransitions){_super.call(this),this.name=name,this.stateDeclarations=stateDeclarations,this.stateTransitions=stateTransitions}return __extends$12(AnimationEntryAst,_super),AnimationEntryAst.prototype.visit=function(visitor,context){return visitor.visitAnimationEntry(this,context)},AnimationEntryAst}(AnimationAst),AnimationStateDeclarationAst=function(_super){function AnimationStateDeclarationAst(stateName,styles){_super.call(this),this.stateName=stateName,this.styles=styles}return __extends$12(AnimationStateDeclarationAst,_super),AnimationStateDeclarationAst.prototype.visit=function(visitor,context){return visitor.visitAnimationStateDeclaration(this,context)},AnimationStateDeclarationAst}(AnimationStateAst),AnimationStateTransitionExpression=function(){function AnimationStateTransitionExpression(fromState,toState){this.fromState=fromState,this.toState=toState}return AnimationStateTransitionExpression}(),AnimationStateTransitionAst=function(_super){function AnimationStateTransitionAst(stateChanges,animation){_super.call(this),this.stateChanges=stateChanges,this.animation=animation}return __extends$12(AnimationStateTransitionAst,_super),AnimationStateTransitionAst.prototype.visit=function(visitor,context){return visitor.visitAnimationStateTransition(this,context)},AnimationStateTransitionAst}(AnimationStateAst),AnimationStepAst=function(_super){function AnimationStepAst(startingStyles,keyframes,duration,delay,easing){_super.call(this),this.startingStyles=startingStyles,this.keyframes=keyframes,this.duration=duration,this.delay=delay,this.easing=easing}return __extends$12(AnimationStepAst,_super),AnimationStepAst.prototype.visit=function(visitor,context){return visitor.visitAnimationStep(this,context)},AnimationStepAst}(AnimationAst),AnimationStylesAst=function(_super){function AnimationStylesAst(styles){_super.call(this),this.styles=styles}return __extends$12(AnimationStylesAst,_super),AnimationStylesAst.prototype.visit=function(visitor,context){return visitor.visitAnimationStyles(this,context)},AnimationStylesAst}(AnimationAst),AnimationKeyframeAst=function(_super){function AnimationKeyframeAst(offset,styles){_super.call(this),this.offset=offset,this.styles=styles}return __extends$12(AnimationKeyframeAst,_super),AnimationKeyframeAst.prototype.visit=function(visitor,context){return visitor.visitAnimationKeyframe(this,context)},AnimationKeyframeAst}(AnimationAst),AnimationWithStepsAst=function(_super){function AnimationWithStepsAst(steps){_super.call(this),this.steps=steps}return __extends$12(AnimationWithStepsAst,_super),AnimationWithStepsAst}(AnimationAst),AnimationGroupAst=function(_super){function AnimationGroupAst(steps){_super.call(this,steps)}return __extends$12(AnimationGroupAst,_super),AnimationGroupAst.prototype.visit=function(visitor,context){return visitor.visitAnimationGroup(this,context)},AnimationGroupAst}(AnimationWithStepsAst),AnimationSequenceAst=function(_super){function AnimationSequenceAst(steps){_super.call(this,steps)}return __extends$12(AnimationSequenceAst,_super),AnimationSequenceAst.prototype.visit=function(visitor,context){return visitor.visitAnimationSequence(this,context)},AnimationSequenceAst}(AnimationWithStepsAst),AnimationEntryCompileResult=function(){function AnimationEntryCompileResult(name,statements,fnExp){this.name=name,this.statements=statements,this.fnExp=fnExp}return AnimationEntryCompileResult}(),AnimationCompiler=function(){function AnimationCompiler(){}return AnimationCompiler.prototype.compile=function(factoryNamePrefix,parsedAnimations){return parsedAnimations.map(function(entry){var factoryName=factoryNamePrefix+"_"+entry.name,visitor=new _AnimationBuilder(entry.name,factoryName);return visitor.build(entry)})},AnimationCompiler}(),_ANIMATION_FACTORY_ELEMENT_VAR=variable("element"),_ANIMATION_DEFAULT_STATE_VAR=variable("defaultStateStyles"),_ANIMATION_FACTORY_VIEW_VAR=variable("view"),_ANIMATION_FACTORY_VIEW_CONTEXT=_ANIMATION_FACTORY_VIEW_VAR.prop("animationContext"),_ANIMATION_FACTORY_RENDERER_VAR=_ANIMATION_FACTORY_VIEW_VAR.prop("renderer"),_ANIMATION_CURRENT_STATE_VAR=variable("currentState"),_ANIMATION_NEXT_STATE_VAR=variable("nextState"),_ANIMATION_PLAYER_VAR=variable("player"),_ANIMATION_TIME_VAR=variable("totalTime"),_ANIMATION_START_STATE_STYLES_VAR=variable("startStateStyles"),_ANIMATION_END_STATE_STYLES_VAR=variable("endStateStyles"),_ANIMATION_COLLECTED_STYLES=variable("collectedStyles"),EMPTY_MAP=literalMap([]),_AnimationBuilder=function(){function _AnimationBuilder(animationName,factoryName){this.animationName=animationName,this._fnVarName=factoryName+"_factory",this._statesMapVarName=factoryName+"_states",this._statesMapVar=variable(this._statesMapVarName)}return _AnimationBuilder.prototype.visitAnimationStyles=function(ast,context){var stylesArr=[];return context.isExpectingFirstStyleStep&&(stylesArr.push(_ANIMATION_START_STATE_STYLES_VAR),context.isExpectingFirstStyleStep=!1),ast.styles.forEach(function(entry){var entries=Object.keys(entry).map(function(key){return[key,literal(entry[key])]});stylesArr.push(literalMap(entries))}),importExpr(resolveIdentifier(Identifiers.AnimationStyles)).instantiate([importExpr(resolveIdentifier(Identifiers.collectAndResolveStyles)).callFn([_ANIMATION_COLLECTED_STYLES,literalArr(stylesArr)])])},_AnimationBuilder.prototype.visitAnimationKeyframe=function(ast,context){return importExpr(resolveIdentifier(Identifiers.AnimationKeyframe)).instantiate([literal(ast.offset),ast.styles.visit(this,context)])},_AnimationBuilder.prototype.visitAnimationStep=function(ast,context){var _this=this;if(context.endStateAnimateStep===ast)return this._visitEndStateAnimation(ast,context);var startingStylesExpr=ast.startingStyles.visit(this,context),keyframeExpressions=ast.keyframes.map(function(keyframeEntry){return keyframeEntry.visit(_this,context)});return this._callAnimateMethod(ast,startingStylesExpr,literalArr(keyframeExpressions),context)},_AnimationBuilder.prototype._visitEndStateAnimation=function(ast,context){var _this=this,startingStylesExpr=ast.startingStyles.visit(this,context),keyframeExpressions=ast.keyframes.map(function(keyframe){return keyframe.visit(_this,context)}),keyframesExpr=importExpr(resolveIdentifier(Identifiers.balanceAnimationKeyframes)).callFn([_ANIMATION_COLLECTED_STYLES,_ANIMATION_END_STATE_STYLES_VAR,literalArr(keyframeExpressions)]);return this._callAnimateMethod(ast,startingStylesExpr,keyframesExpr,context)},_AnimationBuilder.prototype._callAnimateMethod=function(ast,startingStylesExpr,keyframesExpr,context){return context.totalTransitionTime+=ast.duration+ast.delay,_ANIMATION_FACTORY_RENDERER_VAR.callMethod("animate",[_ANIMATION_FACTORY_ELEMENT_VAR,startingStylesExpr,keyframesExpr,literal(ast.duration),literal(ast.delay),literal(ast.easing)])},_AnimationBuilder.prototype.visitAnimationSequence=function(ast,context){var _this=this,playerExprs=ast.steps.map(function(step){return step.visit(_this,context)});return importExpr(resolveIdentifier(Identifiers.AnimationSequencePlayer)).instantiate([literalArr(playerExprs)])},_AnimationBuilder.prototype.visitAnimationGroup=function(ast,context){var _this=this,playerExprs=ast.steps.map(function(step){return step.visit(_this,context)});return importExpr(resolveIdentifier(Identifiers.AnimationGroupPlayer)).instantiate([literalArr(playerExprs)])},_AnimationBuilder.prototype.visitAnimationStateDeclaration=function(ast,context){var flatStyles={};_getStylesArray(ast).forEach(function(entry){Object.keys(entry).forEach(function(key){flatStyles[key]=entry[key]})}),context.stateMap.registerState(ast.stateName,flatStyles)},_AnimationBuilder.prototype.visitAnimationStateTransition=function(ast,context){var steps=ast.animation.steps,lastStep=steps[steps.length-1];_isEndStateAnimateStep(lastStep)&&(context.endStateAnimateStep=lastStep),context.totalTransitionTime=0,context.isExpectingFirstStyleStep=!0;var stateChangePreconditions=[];ast.stateChanges.forEach(function(stateChange){stateChangePreconditions.push(_compareToAnimationStateExpr(_ANIMATION_CURRENT_STATE_VAR,stateChange.fromState).and(_compareToAnimationStateExpr(_ANIMATION_NEXT_STATE_VAR,stateChange.toState))),stateChange.fromState!=ANY_STATE&&context.stateMap.registerState(stateChange.fromState),stateChange.toState!=ANY_STATE&&context.stateMap.registerState(stateChange.toState)});var animationPlayerExpr=ast.animation.visit(this,context),reducedStateChangesPrecondition=stateChangePreconditions.reduce(function(a,b){return a.or(b)}),precondition=_ANIMATION_PLAYER_VAR.equals(NULL_EXPR).and(reducedStateChangesPrecondition),animationStmt=_ANIMATION_PLAYER_VAR.set(animationPlayerExpr).toStmt(),totalTimeStmt=_ANIMATION_TIME_VAR.set(literal(context.totalTransitionTime)).toStmt();return new IfStmt(precondition,[animationStmt,totalTimeStmt])},_AnimationBuilder.prototype.visitAnimationEntry=function(ast,context){var _this=this;ast.stateDeclarations.forEach(function(def){return def.visit(_this,context)}),context.stateMap.registerState(DEFAULT_STATE,{});var statements=[];statements.push(_ANIMATION_FACTORY_VIEW_CONTEXT.callMethod("cancelActiveAnimation",[_ANIMATION_FACTORY_ELEMENT_VAR,literal(this.animationName),_ANIMATION_NEXT_STATE_VAR.equals(literal(EMPTY_ANIMATION_STATE))]).toStmt()),statements.push(_ANIMATION_COLLECTED_STYLES.set(EMPTY_MAP).toDeclStmt()),statements.push(_ANIMATION_PLAYER_VAR.set(NULL_EXPR).toDeclStmt()),statements.push(_ANIMATION_TIME_VAR.set(literal(0)).toDeclStmt()),statements.push(_ANIMATION_DEFAULT_STATE_VAR.set(this._statesMapVar.key(literal(DEFAULT_STATE))).toDeclStmt()),statements.push(_ANIMATION_START_STATE_STYLES_VAR.set(this._statesMapVar.key(_ANIMATION_CURRENT_STATE_VAR)).toDeclStmt()),statements.push(new IfStmt(_ANIMATION_START_STATE_STYLES_VAR.equals(NULL_EXPR),[_ANIMATION_START_STATE_STYLES_VAR.set(_ANIMATION_DEFAULT_STATE_VAR).toStmt()])),statements.push(_ANIMATION_END_STATE_STYLES_VAR.set(this._statesMapVar.key(_ANIMATION_NEXT_STATE_VAR)).toDeclStmt()),statements.push(new IfStmt(_ANIMATION_END_STATE_STYLES_VAR.equals(NULL_EXPR),[_ANIMATION_END_STATE_STYLES_VAR.set(_ANIMATION_DEFAULT_STATE_VAR).toStmt()]));var RENDER_STYLES_FN=importExpr(resolveIdentifier(Identifiers.renderStyles));return statements.push(RENDER_STYLES_FN.callFn([_ANIMATION_FACTORY_ELEMENT_VAR,_ANIMATION_FACTORY_RENDERER_VAR,importExpr(resolveIdentifier(Identifiers.clearStyles)).callFn([_ANIMATION_START_STATE_STYLES_VAR])]).toStmt()),ast.stateTransitions.forEach(function(transAst){return statements.push(transAst.visit(_this,context))}),statements.push(new IfStmt(_ANIMATION_PLAYER_VAR.equals(NULL_EXPR),[_ANIMATION_PLAYER_VAR.set(importExpr(resolveIdentifier(Identifiers.NoOpAnimationPlayer)).instantiate([])).toStmt()])),statements.push(_ANIMATION_PLAYER_VAR.callMethod("onDone",[fn([],[RENDER_STYLES_FN.callFn([_ANIMATION_FACTORY_ELEMENT_VAR,_ANIMATION_FACTORY_RENDERER_VAR,importExpr(resolveIdentifier(Identifiers.prepareFinalAnimationStyles)).callFn([_ANIMATION_START_STATE_STYLES_VAR,_ANIMATION_END_STATE_STYLES_VAR])]).toStmt()])]).toStmt()),statements.push(_ANIMATION_FACTORY_VIEW_CONTEXT.callMethod("queueAnimation",[_ANIMATION_FACTORY_ELEMENT_VAR,literal(this.animationName),_ANIMATION_PLAYER_VAR]).toStmt()),statements.push(new ReturnStatement(importExpr(resolveIdentifier(Identifiers.AnimationTransition)).instantiate([_ANIMATION_PLAYER_VAR,_ANIMATION_CURRENT_STATE_VAR,_ANIMATION_NEXT_STATE_VAR,_ANIMATION_TIME_VAR]))),fn([new FnParam(_ANIMATION_FACTORY_VIEW_VAR.name,importType(resolveIdentifier(Identifiers.AppView),[DYNAMIC_TYPE])),new FnParam(_ANIMATION_FACTORY_ELEMENT_VAR.name,DYNAMIC_TYPE),new FnParam(_ANIMATION_CURRENT_STATE_VAR.name,DYNAMIC_TYPE),new FnParam(_ANIMATION_NEXT_STATE_VAR.name,DYNAMIC_TYPE)],statements,importType(resolveIdentifier(Identifiers.AnimationTransition)))},_AnimationBuilder.prototype.build=function(ast){var context=new _AnimationBuilderContext,fnStatement=ast.visit(this,context).toDeclStmt(this._fnVarName),fnVariable=variable(this._fnVarName),lookupMap=[];Object.keys(context.stateMap.states).forEach(function(stateName){var value=context.stateMap.states[stateName],variableValue=EMPTY_MAP;if(isPresent(value)){var styleMap_1=[];Object.keys(value).forEach(function(key){styleMap_1.push([key,literal(value[key])])}),variableValue=literalMap(styleMap_1)}lookupMap.push([stateName,variableValue])});var compiledStatesMapStmt=this._statesMapVar.set(literalMap(lookupMap)).toDeclStmt(),statements=[compiledStatesMapStmt,fnStatement];return new AnimationEntryCompileResult(this.animationName,statements,fnVariable)},_AnimationBuilder}(),_AnimationBuilderContext=function(){function _AnimationBuilderContext(){this.stateMap=new _AnimationBuilderStateMap,this.endStateAnimateStep=null,this.isExpectingFirstStyleStep=!1,this.totalTransitionTime=0}return _AnimationBuilderContext}(),_AnimationBuilderStateMap=function(){function _AnimationBuilderStateMap(){this._states={}}return Object.defineProperty(_AnimationBuilderStateMap.prototype,"states",{get:function(){return this._states},enumerable:!0,configurable:!0}),_AnimationBuilderStateMap.prototype.registerState=function(name,value){void 0===value&&(value=null);var existingEntry=this._states[name];existingEntry||(this._states[name]=value)},_AnimationBuilderStateMap}(),StylesCollectionEntry=function(){function StylesCollectionEntry(time,value){this.time=time,this.value=value}return StylesCollectionEntry.prototype.matches=function(time,value){return time==this.time&&value==this.value},StylesCollectionEntry}(),StylesCollection=function(){function StylesCollection(){this.styles={}}return StylesCollection.prototype.insertAtTime=function(property,time,value){var tuple=new StylesCollectionEntry(time,value),entries=this.styles[property];isPresent(entries)||(entries=this.styles[property]=[]);for(var insertionIndex=0,i=entries.length-1;i>=0;i--)if(entries[i].time<=time){insertionIndex=i+1;break}ListWrapper.insert(entries,insertionIndex,tuple)},StylesCollection.prototype.getByIndex=function(property,index){var items=this.styles[property];return isPresent(items)?index>=items.length?null:items[index]:null},StylesCollection.prototype.indexOfAtOrBeforeTime=function(property,time){var entries=this.styles[property];if(isPresent(entries))for(var i=entries.length-1;i>=0;i--)if(entries[i].time<=time)return i;return null},StylesCollection}(),__extends$13=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},_INITIAL_KEYFRAME=0,_TERMINAL_KEYFRAME=1,_ONE_SECOND=1e3,AnimationParseError=function(_super){function AnimationParseError(message){_super.call(this,null,message)}return __extends$13(AnimationParseError,_super),AnimationParseError.prototype.toString=function(){return""+this.msg},AnimationParseError}(ParseError),AnimationEntryParseResult=function(){function AnimationEntryParseResult(ast,errors){this.ast=ast,this.errors=errors}return AnimationEntryParseResult}(),AnimationParser=function(){function AnimationParser(){}return AnimationParser.prototype.parseComponent=function(component){var _this=this,errors=[],componentName=component.type.name,animationTriggerNames=new Set,asts=component.template.animations.map(function(entry){var result=_this.parseEntry(entry),ast=result.ast,triggerName=ast.name;if(animationTriggerNames.has(triggerName)?result.errors.push(new AnimationParseError('The animation trigger "'+triggerName+'" has already been registered for the '+componentName+" component")):animationTriggerNames.add(triggerName),result.errors.length>0){var errorMessage_1='- Unable to parse the animation sequence for "'+triggerName+'" on the '+componentName+" component due to the following errors:";result.errors.forEach(function(error){errorMessage_1+="\n-- "+error.msg}),errors.push(errorMessage_1)}return ast});if(errors.length>0){var errorString=errors.join("\n");throw new Error("Animation parse errors:\n"+errorString)}return asts},AnimationParser.prototype.parseEntry=function(entry){var errors=[],stateStyles={},transitions=[],stateDeclarationAsts=[];entry.definitions.forEach(function(def){def instanceof CompileAnimationStateDeclarationMetadata?_parseAnimationDeclarationStates(def,errors).forEach(function(ast){stateDeclarationAsts.push(ast),stateStyles[ast.stateName]=ast.styles}):transitions.push(def)});var stateTransitionAsts=transitions.map(function(transDef){return _parseAnimationStateTransition(transDef,stateStyles,errors)}),ast=new AnimationEntryAst(entry.name,stateDeclarationAsts,stateTransitionAsts);return new AnimationEntryParseResult(ast,errors)},AnimationParser}(),_AnimationTimings=function(){function _AnimationTimings(duration,delay,easing){this.duration=duration,this.delay=delay,this.easing=easing}return _AnimationTimings}(),DirectiveWrapperCompileResult=function(){function DirectiveWrapperCompileResult(statements,dirWrapperClassVar){this.statements=statements,this.dirWrapperClassVar=dirWrapperClassVar}return DirectiveWrapperCompileResult}(),CONTEXT_FIELD_NAME="context",CHANGES_FIELD_NAME="changes",CHANGED_FIELD_NAME="changed",CURR_VALUE_VAR=variable("currValue"),THROW_ON_CHANGE_VAR=variable("throwOnChange"),FORCE_UPDATE_VAR=variable("forceUpdate"),VIEW_VAR=variable("view"),RENDER_EL_VAR=variable("el"),RESET_CHANGES_STMT=THIS_EXPR.prop(CHANGES_FIELD_NAME).set(literalMap([])).toStmt(),DirectiveWrapperCompiler=function(){function DirectiveWrapperCompiler(compilerConfig){this.compilerConfig=compilerConfig}return DirectiveWrapperCompiler.dirWrapperClassName=function(id){return"Wrapper_"+id.name},DirectiveWrapperCompiler.prototype.compile=function(dirMeta){for(var dirDepParamNames=[],i=0;i<dirMeta.type.diDeps.length;i++)dirDepParamNames.push("p"+i);var dirLifecycleHooks=dirMeta.type.lifecycleHooks,lifecycleHooks={genChanges:-1!==dirLifecycleHooks.indexOf(LifecycleHooks.OnChanges)||this.compilerConfig.logBindingUpdate,ngOnChanges:-1!==dirLifecycleHooks.indexOf(LifecycleHooks.OnChanges),ngOnInit:-1!==dirLifecycleHooks.indexOf(LifecycleHooks.OnInit),ngDoCheck:-1!==dirLifecycleHooks.indexOf(LifecycleHooks.DoCheck)},fields=[new ClassField(CONTEXT_FIELD_NAME,importType(dirMeta.type)),new ClassField(CHANGED_FIELD_NAME,BOOL_TYPE)],ctorStmts=[THIS_EXPR.prop(CHANGED_FIELD_NAME).set(literal(!1)).toStmt()];lifecycleHooks.genChanges&&(fields.push(new ClassField(CHANGES_FIELD_NAME,new MapType(DYNAMIC_TYPE))),ctorStmts.push(RESET_CHANGES_STMT));var methods=[];Object.keys(dirMeta.inputs).forEach(function(inputFieldName,idx){var fieldName="_"+inputFieldName;fields.push(new ClassField(fieldName,null,[StmtModifier.Private])),ctorStmts.push(THIS_EXPR.prop(fieldName).set(importExpr(resolveIdentifier(Identifiers.UNINITIALIZED))).toStmt()),methods.push(checkInputMethod(inputFieldName,THIS_EXPR.prop(fieldName),lifecycleHooks))}),methods.push(detectChangesInternalMethod(lifecycleHooks,this.compilerConfig.genDebugInfo)),ctorStmts.push(THIS_EXPR.prop(CONTEXT_FIELD_NAME).set(importExpr(dirMeta.type).instantiate(dirDepParamNames.map(function(paramName){return variable(paramName)}))).toStmt());var ctor=new ClassMethod(null,dirDepParamNames.map(function(paramName){return new FnParam(paramName,DYNAMIC_TYPE)}),ctorStmts),wrapperClassName=DirectiveWrapperCompiler.dirWrapperClassName(dirMeta.type),classStmt=new ClassStmt(wrapperClassName,null,fields,[],ctor,methods);return new DirectiveWrapperCompileResult([classStmt],wrapperClassName)},DirectiveWrapperCompiler.decorators=[{type:_angular_core.Injectable}],DirectiveWrapperCompiler.ctorParameters=[{type:CompilerConfig}],DirectiveWrapperCompiler}(),_ValueOutputAstTransformer=function(){function _ValueOutputAstTransformer(){}return _ValueOutputAstTransformer.prototype.visitArray=function(arr,type){var _this=this;return literalArr(arr.map(function(value){return visitValue(value,_this,null)}),type)},_ValueOutputAstTransformer.prototype.visitStringMap=function(map,type){var _this=this,entries=[];return Object.keys(map).forEach(function(key){entries.push([key,visitValue(map[key],_this,null)])}),literalMap(entries,type)},_ValueOutputAstTransformer.prototype.visitPrimitive=function(value,type){return literal(value,type)},_ValueOutputAstTransformer.prototype.visitOther=function(value,type){if(value instanceof CompileIdentifierMetadata)return importExpr(value);if(value instanceof Expression)return value;throw new Error("Illegal state: Don't now how to compile value "+value)},_ValueOutputAstTransformer}(),_DebugState=function(){function _DebugState(nodeIndex,sourceAst){this.nodeIndex=nodeIndex,this.sourceAst=sourceAst}return _DebugState}(),NULL_DEBUG_STATE=new _DebugState(null,null),CompileMethod=function(){function CompileMethod(_view){this._view=_view,this._newState=NULL_DEBUG_STATE,this._currState=NULL_DEBUG_STATE,this._bodyStatements=[],this._debugEnabled=this._view.genConfig.genDebugInfo}return CompileMethod.prototype._updateDebugContextIfNeeded=function(){if(this._newState.nodeIndex!==this._currState.nodeIndex||this._newState.sourceAst!==this._currState.sourceAst){var expr=this._updateDebugContext(this._newState);isPresent(expr)&&this._bodyStatements.push(expr.toStmt())}},CompileMethod.prototype._updateDebugContext=function(newState){if(this._currState=this._newState=newState,this._debugEnabled){var sourceLocation=isPresent(newState.sourceAst)?newState.sourceAst.sourceSpan.start:null;return THIS_EXPR.callMethod("debug",[literal(newState.nodeIndex),isPresent(sourceLocation)?literal(sourceLocation.line):NULL_EXPR,isPresent(sourceLocation)?literal(sourceLocation.col):NULL_EXPR])}return null},CompileMethod.prototype.resetDebugInfoExpr=function(nodeIndex,templateAst){var res=this._updateDebugContext(new _DebugState(nodeIndex,templateAst));return res||NULL_EXPR},CompileMethod.prototype.resetDebugInfo=function(nodeIndex,templateAst){this._newState=new _DebugState(nodeIndex,templateAst)},CompileMethod.prototype.addStmt=function(stmt){this._updateDebugContextIfNeeded(),this._bodyStatements.push(stmt)},CompileMethod.prototype.addStmts=function(stmts){this._updateDebugContextIfNeeded(),ListWrapper.addAll(this._bodyStatements,stmts)},CompileMethod.prototype.finish=function(){return this._bodyStatements},CompileMethod.prototype.isEmpty=function(){return 0===this._bodyStatements.length},CompileMethod}(),__extends$15=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},_ReplaceViewTransformer=function(_super){function _ReplaceViewTransformer(_viewExpr,_view){_super.call(this),this._viewExpr=_viewExpr,this._view=_view}return __extends$15(_ReplaceViewTransformer,_super),_ReplaceViewTransformer.prototype._isThis=function(expr){return expr instanceof ReadVarExpr&&expr.builtin===BuiltinVar.This},_ReplaceViewTransformer.prototype.visitReadVarExpr=function(ast,context){return this._isThis(ast)?this._viewExpr:ast},_ReplaceViewTransformer.prototype.visitReadPropExpr=function(ast,context){return this._isThis(ast.receiver)&&(this._view.fields.some(function(field){return field.name==ast.name})||this._view.getters.some(function(field){return field.name==ast.name}))?this._viewExpr.cast(this._view.classType).prop(ast.name):_super.prototype.visitReadPropExpr.call(this,ast,context)},_ReplaceViewTransformer}(ExpressionTransformer),ViewQueryValues=function(){function ViewQueryValues(view,values){this.view=view,this.values=values}return ViewQueryValues}(),CompileQuery=function(){function CompileQuery(meta,queryList,ownerDirectiveExpression,view){this.meta=meta,this.queryList=queryList,this.ownerDirectiveExpression=ownerDirectiveExpression,this.view=view,this._values=new ViewQueryValues(view,[])}return CompileQuery.prototype.addValue=function(value,view){for(var currentView=view,elPath=[];isPresent(currentView)&&currentView!==this.view;){var parentEl=currentView.declarationElement;elPath.unshift(parentEl),currentView=parentEl.view}var queryListForDirtyExpr=getPropertyInView(this.queryList,view,this.view),viewValues=this._values;elPath.forEach(function(el){var last=viewValues.values.length>0?viewValues.values[viewValues.values.length-1]:null;if(last instanceof ViewQueryValues&&last.view===el.embeddedView)viewValues=last;else{var newViewValues=new ViewQueryValues(el.embeddedView,[]);viewValues.values.push(newViewValues),viewValues=newViewValues}}),viewValues.values.push(value),elPath.length>0&&view.dirtyParentQueriesMethod.addStmt(queryListForDirtyExpr.callMethod("setDirty",[]).toStmt())},CompileQuery.prototype._isStatic=function(){return!this._values.values.some(function(value){return value instanceof ViewQueryValues})},CompileQuery.prototype.afterChildren=function(targetStaticMethod,targetDynamicMethod){var values=createQueryValues(this._values),updateStmts=[this.queryList.callMethod("reset",[literalArr(values)]).toStmt()];if(isPresent(this.ownerDirectiveExpression)){var valueExpr=this.meta.first?this.queryList.prop("first"):this.queryList;updateStmts.push(this.ownerDirectiveExpression.prop(this.meta.propertyName).set(valueExpr).toStmt())}this.meta.first||updateStmts.push(this.queryList.callMethod("notifyOnChanges",[]).toStmt()),this.meta.first&&this._isStatic()?targetStaticMethod.addStmts(updateStmts):targetDynamicMethod.addStmt(new IfStmt(this.queryList.prop("dirty"),updateStmts))},CompileQuery}(),ViewTypeEnum=function(){function ViewTypeEnum(){}return ViewTypeEnum.fromValue=function(value){var viewType=resolveIdentifier(Identifiers.ViewType);switch(value){case ViewType.HOST:return _enumExpression(viewType,"HOST");case ViewType.COMPONENT:return _enumExpression(viewType,"COMPONENT");case ViewType.EMBEDDED:return _enumExpression(viewType,"EMBEDDED");default:throw Error("Inavlid ViewType value: "+value)}},ViewTypeEnum}(),ViewEncapsulationEnum=function(){function ViewEncapsulationEnum(){}return ViewEncapsulationEnum.fromValue=function(value){var viewEncapsulation=resolveIdentifier(Identifiers.ViewEncapsulation);switch(value){case _angular_core.ViewEncapsulation.Emulated:return _enumExpression(viewEncapsulation,"Emulated");case _angular_core.ViewEncapsulation.Native:return _enumExpression(viewEncapsulation,"Native");case _angular_core.ViewEncapsulation.None:return _enumExpression(viewEncapsulation,"None");default:throw Error("Inavlid ViewEncapsulation value: "+value)}},ViewEncapsulationEnum}(),ChangeDetectorStatusEnum=function(){function ChangeDetectorStatusEnum(){}return ChangeDetectorStatusEnum.fromValue=function(value){var changeDetectorStatus=resolveIdentifier(Identifiers.ChangeDetectorStatus);switch(value){case ChangeDetectorStatus.CheckOnce:return _enumExpression(changeDetectorStatus,"CheckOnce");case ChangeDetectorStatus.Checked:return _enumExpression(changeDetectorStatus,"Checked");case ChangeDetectorStatus.CheckAlways:return _enumExpression(changeDetectorStatus,"CheckAlways");case ChangeDetectorStatus.Detached:return _enumExpression(changeDetectorStatus,"Detached");case ChangeDetectorStatus.Errored:return _enumExpression(changeDetectorStatus,"Errored");case ChangeDetectorStatus.Destroyed:return _enumExpression(changeDetectorStatus,"Destroyed");default:throw Error("Inavlid ChangeDetectorStatus value: "+value)}},ChangeDetectorStatusEnum}(),ViewConstructorVars=function(){function ViewConstructorVars(){}return ViewConstructorVars.viewUtils=variable("viewUtils"),ViewConstructorVars.parentInjector=variable("parentInjector"),ViewConstructorVars.declarationEl=variable("declarationEl"),ViewConstructorVars}(),ViewProperties=function(){function ViewProperties(){}return ViewProperties.renderer=THIS_EXPR.prop("renderer"),ViewProperties.projectableNodes=THIS_EXPR.prop("projectableNodes"),ViewProperties.viewUtils=THIS_EXPR.prop("viewUtils"),ViewProperties}(),EventHandlerVars=function(){function EventHandlerVars(){}return EventHandlerVars.event=variable("$event"),EventHandlerVars}(),InjectMethodVars=function(){function InjectMethodVars(){}return InjectMethodVars.token=variable("token"),InjectMethodVars.requestNodeIndex=variable("requestNodeIndex"),InjectMethodVars.notFoundResult=variable("notFoundResult"),InjectMethodVars}(),DetectChangesVars=function(){function DetectChangesVars(){}return DetectChangesVars.throwOnChange=variable("throwOnChange"),DetectChangesVars.changes=variable("changes"),DetectChangesVars.changed=variable("changed"),DetectChangesVars.valUnwrapper=variable("valUnwrapper"),DetectChangesVars}(),ViewFactoryDependency=function(){function ViewFactoryDependency(comp,placeholder){this.comp=comp,this.placeholder=placeholder}return ViewFactoryDependency}(),ComponentFactoryDependency=function(){function ComponentFactoryDependency(comp,placeholder){this.comp=comp,this.placeholder=placeholder}return ComponentFactoryDependency}(),DirectiveWrapperDependency=function(){function DirectiveWrapperDependency(dir,placeholder){this.dir=dir,this.placeholder=placeholder}return DirectiveWrapperDependency}(),__extends$14=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},CompileNode=function(){function CompileNode(parent,view,nodeIndex,renderNode,sourceAst){this.parent=parent,this.view=view,this.nodeIndex=nodeIndex,this.renderNode=renderNode,this.sourceAst=sourceAst}return CompileNode.prototype.isNull=function(){return!this.renderNode},CompileNode.prototype.isRootElement=function(){return this.view!=this.parent.view},CompileNode}(),CompileElement=function(_super){function CompileElement(parent,view,nodeIndex,renderNode,sourceAst,component,_directives,_resolvedProvidersArray,hasViewContainer,hasEmbeddedView,references,_targetDependencies){
var _this=this;_super.call(this,parent,view,nodeIndex,renderNode,sourceAst),this.component=component,this._directives=_directives,this._resolvedProvidersArray=_resolvedProvidersArray,this.hasViewContainer=hasViewContainer,this.hasEmbeddedView=hasEmbeddedView,this._targetDependencies=_targetDependencies,this._compViewExpr=null,this.instances=new Map,this.directiveWrapperInstance=new Map,this._queryCount=0,this._queries=new Map,this._componentConstructorViewQueryLists=[],this.contentNodesByNgContentIndex=null,this.referenceTokens={},references.forEach(function(ref){return _this.referenceTokens[ref.name]=ref.value}),this.elementRef=importExpr(resolveIdentifier(Identifiers.ElementRef)).instantiate([this.renderNode]),this.instances.set(resolveIdentifierToken(Identifiers.ElementRef).reference,this.elementRef),this.injector=THIS_EXPR.callMethod("injector",[literal(this.nodeIndex)]),this.instances.set(resolveIdentifierToken(Identifiers.Injector).reference,this.injector),this.instances.set(resolveIdentifierToken(Identifiers.Renderer).reference,THIS_EXPR.prop("renderer")),(this.hasViewContainer||this.hasEmbeddedView||isPresent(this.component))&&this._createAppElement(),this.component&&this._createComponentFactoryResolver()}return __extends$14(CompileElement,_super),CompileElement.createNull=function(){return new CompileElement(null,null,null,null,null,null,[],[],!1,!1,[],[])},CompileElement.prototype._createAppElement=function(){var fieldName="_appEl_"+this.nodeIndex,parentNodeIndex=this.isRootElement()?null:this.parent.nodeIndex;this.view.fields.push(new ClassField(fieldName,importType(resolveIdentifier(Identifiers.AppElement)),[StmtModifier.Private]));var statement=THIS_EXPR.prop(fieldName).set(importExpr(resolveIdentifier(Identifiers.AppElement)).instantiate([literal(this.nodeIndex),literal(parentNodeIndex),THIS_EXPR,this.renderNode])).toStmt();this.view.createMethod.addStmt(statement),this.appElement=THIS_EXPR.prop(fieldName),this.instances.set(resolveIdentifierToken(Identifiers.AppElement).reference,this.appElement)},CompileElement.prototype._createComponentFactoryResolver=function(){var _this=this,entryComponents=this.component.entryComponents.map(function(entryComponent){var id=new CompileIdentifierMetadata({name:entryComponent.name});return _this._targetDependencies.push(new ComponentFactoryDependency(entryComponent,id)),id});if(entryComponents&&0!==entryComponents.length){var createComponentFactoryResolverExpr=importExpr(resolveIdentifier(Identifiers.CodegenComponentFactoryResolver)).instantiate([literalArr(entryComponents.map(function(entryComponent){return importExpr(entryComponent)})),injectFromViewParentInjector(resolveIdentifierToken(Identifiers.ComponentFactoryResolver),!1)]),provider=new CompileProviderMetadata({token:resolveIdentifierToken(Identifiers.ComponentFactoryResolver),useValue:createComponentFactoryResolverExpr});this._resolvedProvidersArray.unshift(new ProviderAst(provider.token,!1,!0,[provider],exports.ProviderAstType.PrivateService,[],this.sourceAst.sourceSpan))}},CompileElement.prototype.setComponentView=function(compViewExpr){this._compViewExpr=compViewExpr,this.contentNodesByNgContentIndex=new Array(this.component.template.ngContentSelectors.length);for(var i=0;i<this.contentNodesByNgContentIndex.length;i++)this.contentNodesByNgContentIndex[i]=[]},CompileElement.prototype.setEmbeddedView=function(embeddedView){if(this.embeddedView=embeddedView,isPresent(embeddedView)){var createTemplateRefExpr=importExpr(resolveIdentifier(Identifiers.TemplateRef_)).instantiate([this.appElement,this.embeddedView.viewFactory]),provider=new CompileProviderMetadata({token:resolveIdentifierToken(Identifiers.TemplateRef),useValue:createTemplateRefExpr});this._resolvedProvidersArray.unshift(new ProviderAst(provider.token,!1,!0,[provider],exports.ProviderAstType.Builtin,[],this.sourceAst.sourceSpan))}},CompileElement.prototype.beforeChildren=function(){var _this=this;this.hasViewContainer&&this.instances.set(resolveIdentifierToken(Identifiers.ViewContainerRef).reference,this.appElement.prop("vcRef")),this._resolvedProviders=new Map,this._resolvedProvidersArray.forEach(function(provider){return _this._resolvedProviders.set(provider.token.reference,provider)}),MapWrapper.values(this._resolvedProviders).forEach(function(resolvedProvider){var isDirectiveWrapper=resolvedProvider.providerType===exports.ProviderAstType.Component||resolvedProvider.providerType===exports.ProviderAstType.Directive,providerValueExpressions=resolvedProvider.providers.map(function(provider){if(isPresent(provider.useExisting))return _this._getDependency(resolvedProvider.providerType,new CompileDiDependencyMetadata({token:provider.useExisting}));if(isPresent(provider.useFactory)){var deps=provider.deps||provider.useFactory.diDeps,depsExpr=deps.map(function(dep){return _this._getDependency(resolvedProvider.providerType,dep)});return importExpr(provider.useFactory).callFn(depsExpr)}if(isPresent(provider.useClass)){var deps=provider.deps||provider.useClass.diDeps,depsExpr=deps.map(function(dep){return _this._getDependency(resolvedProvider.providerType,dep)});if(isDirectiveWrapper){var directiveWrapperIdentifier=new CompileIdentifierMetadata({name:DirectiveWrapperCompiler.dirWrapperClassName(provider.useClass)});return _this._targetDependencies.push(new DirectiveWrapperDependency(provider.useClass,directiveWrapperIdentifier)),importExpr(directiveWrapperIdentifier).instantiate(depsExpr,importType(directiveWrapperIdentifier))}return importExpr(provider.useClass).instantiate(depsExpr,importType(provider.useClass))}return convertValueToOutputAst(provider.useValue)}),propName="_"+resolvedProvider.token.name+"_"+_this.nodeIndex+"_"+_this.instances.size,instance=createProviderProperty(propName,resolvedProvider,providerValueExpressions,resolvedProvider.multiProvider,resolvedProvider.eager,_this);isDirectiveWrapper?(_this.directiveWrapperInstance.set(resolvedProvider.token.reference,instance),_this.instances.set(resolvedProvider.token.reference,instance.prop("context"))):_this.instances.set(resolvedProvider.token.reference,instance)});for(var i=0;i<this._directives.length;i++){var directive=this._directives[i],directiveInstance=this.instances.get(identifierToken(directive.type).reference);directive.queries.forEach(function(queryMeta){_this._addQuery(queryMeta,directiveInstance)})}var queriesWithReads=[];if(MapWrapper.values(this._resolvedProviders).forEach(function(resolvedProvider){var queriesForProvider=_this._getQueriesFor(resolvedProvider.token);ListWrapper.addAll(queriesWithReads,queriesForProvider.map(function(query){return new _QueryWithRead(query,resolvedProvider.token)}))}),Object.keys(this.referenceTokens).forEach(function(varName){var varValue,token=_this.referenceTokens[varName];varValue=isPresent(token)?_this.instances.get(token.reference):_this.renderNode,_this.view.locals.set(varName,varValue);var varToken=new CompileTokenMetadata({value:varName});ListWrapper.addAll(queriesWithReads,_this._getQueriesFor(varToken).map(function(query){return new _QueryWithRead(query,varToken)}))}),queriesWithReads.forEach(function(queryWithRead){var value;if(isPresent(queryWithRead.read.identifier))value=_this.instances.get(queryWithRead.read.reference);else{var token=_this.referenceTokens[queryWithRead.read.value];value=isPresent(token)?_this.instances.get(token.reference):_this.elementRef}isPresent(value)&&queryWithRead.query.addValue(value,_this.view)}),isPresent(this.component)){var componentConstructorViewQueryList=isPresent(this.component)?literalArr(this._componentConstructorViewQueryLists):NULL_EXPR,compExpr=isPresent(this.getComponent())?this.getComponent():NULL_EXPR;this.view.createMethod.addStmt(this.appElement.callMethod("initComponent",[compExpr,componentConstructorViewQueryList,this._compViewExpr]).toStmt())}},CompileElement.prototype.afterChildren=function(childNodeCount){var _this=this;MapWrapper.values(this._resolvedProviders).forEach(function(resolvedProvider){var providerExpr=_this.instances.get(resolvedProvider.token.reference),providerChildNodeCount=resolvedProvider.providerType===exports.ProviderAstType.PrivateService?0:childNodeCount;_this.view.injectorGetMethod.addStmt(createInjectInternalCondition(_this.nodeIndex,providerChildNodeCount,resolvedProvider,providerExpr))}),MapWrapper.values(this._queries).forEach(function(queries){return queries.forEach(function(query){return query.afterChildren(_this.view.createMethod,_this.view.updateContentQueriesMethod)})})},CompileElement.prototype.addContentNode=function(ngContentIndex,nodeExpr){this.contentNodesByNgContentIndex[ngContentIndex].push(nodeExpr)},CompileElement.prototype.getComponent=function(){return isPresent(this.component)?this.instances.get(identifierToken(this.component.type).reference):null},CompileElement.prototype.getProviderTokens=function(){return MapWrapper.values(this._resolvedProviders).map(function(resolvedProvider){return createDiTokenExpression(resolvedProvider.token)})},CompileElement.prototype._getQueriesFor=function(token){for(var queries,result=[],currentEl=this,distance=0;!currentEl.isNull();)queries=currentEl._queries.get(token.reference),isPresent(queries)&&ListWrapper.addAll(result,queries.filter(function(query){return query.meta.descendants||1>=distance})),currentEl._directives.length>0&&distance++,currentEl=currentEl.parent;return queries=this.view.componentView.viewQueries.get(token.reference),isPresent(queries)&&ListWrapper.addAll(result,queries),result},CompileElement.prototype._addQuery=function(queryMeta,directiveInstance){var propName="_query_"+queryMeta.selectors[0].name+"_"+this.nodeIndex+"_"+this._queryCount++,queryList=createQueryList(queryMeta,directiveInstance,propName,this.view),query=new CompileQuery(queryMeta,queryList,directiveInstance,this.view);return addQueryToTokenMap(this._queries,query),query},CompileElement.prototype._getLocalDependency=function(requestingProviderType,dep){var result=null;if(!result&&isPresent(dep.query)&&(result=this._addQuery(dep.query,null).queryList),!result&&isPresent(dep.viewQuery)&&(result=createQueryList(dep.viewQuery,null,"_viewQuery_"+dep.viewQuery.selectors[0].name+"_"+this.nodeIndex+"_"+this._componentConstructorViewQueryLists.length,this.view),this._componentConstructorViewQueryLists.push(result)),isPresent(dep.token)){if(!result&&dep.token.reference===resolveIdentifierToken(Identifiers.ChangeDetectorRef).reference)return requestingProviderType===exports.ProviderAstType.Component?this._compViewExpr.prop("ref"):getPropertyInView(THIS_EXPR.prop("ref"),this.view,this.view.componentView);if(!result){var resolvedProvider=this._resolvedProviders.get(dep.token.reference);if(resolvedProvider&&(requestingProviderType===exports.ProviderAstType.Directive||requestingProviderType===exports.ProviderAstType.PublicService)&&resolvedProvider.providerType===exports.ProviderAstType.PrivateService)return null;result=this.instances.get(dep.token.reference)}}return result},CompileElement.prototype._getDependency=function(requestingProviderType,dep){var currElement=this,result=null;for(dep.isValue&&(result=literal(dep.value)),result||dep.isSkipSelf||(result=this._getLocalDependency(requestingProviderType,dep));!result&&!currElement.parent.isNull();)currElement=currElement.parent,result=currElement._getLocalDependency(exports.ProviderAstType.PublicService,new CompileDiDependencyMetadata({token:dep.token}));return result||(result=injectFromViewParentInjector(dep.token,dep.isOptional)),result||(result=NULL_EXPR),getPropertyInView(result,this.view,currElement.view)},CompileElement}(CompileNode),_QueryWithRead=function(){function _QueryWithRead(query,match){this.query=query,this.read=query.meta.read||match}return _QueryWithRead}(),CompilePipe=function(){function CompilePipe(view,meta){var _this=this;this.view=view,this.meta=meta,this._purePipeProxyCount=0,this.instance=THIS_EXPR.prop("_pipe_"+meta.name+"_"+view.pipeCount++);var deps=this.meta.type.diDeps.map(function(diDep){return diDep.token.reference===resolveIdentifierToken(Identifiers.ChangeDetectorRef).reference?getPropertyInView(THIS_EXPR.prop("ref"),_this.view,_this.view.componentView):injectFromViewParentInjector(diDep.token,!1)});this.view.fields.push(new ClassField(this.instance.name,importType(this.meta.type))),this.view.createMethod.resetDebugInfo(null,null),this.view.createMethod.addStmt(THIS_EXPR.prop(this.instance.name).set(importExpr(this.meta.type).instantiate(deps)).toStmt())}return CompilePipe.call=function(view,name,args){var pipe,compView=view.componentView,meta=_findPipeMeta(compView,name);return meta.pure?(pipe=compView.purePipes.get(name),pipe||(pipe=new CompilePipe(compView,meta),compView.purePipes.set(name,pipe),compView.pipes.push(pipe))):(pipe=new CompilePipe(view,meta),view.pipes.push(pipe)),pipe._call(view,args)},Object.defineProperty(CompilePipe.prototype,"pure",{get:function(){return this.meta.pure},enumerable:!0,configurable:!0}),CompilePipe.prototype._call=function(callingView,args){if(this.meta.pure){var purePipeProxyInstance=THIS_EXPR.prop(this.instance.name+"_"+this._purePipeProxyCount++),pipeInstanceSeenFromPureProxy=getPropertyInView(this.instance,callingView,this.view);return createPureProxy(pipeInstanceSeenFromPureProxy.prop("transform").callMethod(BuiltinMethod.Bind,[pipeInstanceSeenFromPureProxy]),args.length,purePipeProxyInstance,callingView),importExpr(resolveIdentifier(Identifiers.castByValue)).callFn([purePipeProxyInstance,pipeInstanceSeenFromPureProxy.prop("transform")]).callFn(args)}return getPropertyInView(this.instance,callingView,this.view).callMethod("transform",args)},CompilePipe}(),CompileView=function(){function CompileView(component,genConfig,pipeMetas,styles,animations,viewIndex,declarationElement,templateVariableBindings){var _this=this;this.component=component,this.genConfig=genConfig,this.pipeMetas=pipeMetas,this.styles=styles,this.animations=animations,this.viewIndex=viewIndex,this.declarationElement=declarationElement,this.templateVariableBindings=templateVariableBindings,this.nodes=[],this.rootNodesOrAppElements=[],this.bindings=[],this.classStatements=[],this.eventHandlerMethods=[],this.fields=[],this.getters=[],this.disposables=[],this.subscriptions=[],this.purePipes=new Map,this.pipes=[],this.locals=new Map,this.literalArrayCount=0,this.literalMapCount=0,this.pipeCount=0,this.createMethod=new CompileMethod(this),this.animationBindingsMethod=new CompileMethod(this),this.injectorGetMethod=new CompileMethod(this),this.updateContentQueriesMethod=new CompileMethod(this),this.dirtyParentQueriesMethod=new CompileMethod(this),this.updateViewQueriesMethod=new CompileMethod(this),this.detectChangesInInputsMethod=new CompileMethod(this),this.detectChangesRenderPropertiesMethod=new CompileMethod(this),this.afterContentLifecycleCallbacksMethod=new CompileMethod(this),this.afterViewLifecycleCallbacksMethod=new CompileMethod(this),this.destroyMethod=new CompileMethod(this),this.detachMethod=new CompileMethod(this),this.viewType=getViewType(component,viewIndex),this.className="_View_"+component.type.name+viewIndex,this.classType=importType(new CompileIdentifierMetadata({name:this.className})),this.viewFactory=variable(getViewFactoryName(component,viewIndex)),this.viewType===ViewType.COMPONENT||this.viewType===ViewType.HOST?this.componentView=this:this.componentView=this.declarationElement.view.componentView,this.componentContext=getPropertyInView(THIS_EXPR.prop("context"),this,this.componentView);var viewQueries=new Map;if(this.viewType===ViewType.COMPONENT){var directiveInstance=THIS_EXPR.prop("context");ListWrapper.forEachWithIndex(this.component.viewQueries,function(queryMeta,queryIndex){var propName="_viewQuery_"+queryMeta.selectors[0].name+"_"+queryIndex,queryList=createQueryList(queryMeta,directiveInstance,propName,_this),query=new CompileQuery(queryMeta,queryList,directiveInstance,_this);addQueryToTokenMap(viewQueries,query)});var constructorViewQueryCount=0;this.component.type.diDeps.forEach(function(dep){if(isPresent(dep.viewQuery)){var queryList=THIS_EXPR.prop("declarationAppElement").prop("componentConstructorViewQueries").key(literal(constructorViewQueryCount++)),query=new CompileQuery(dep.viewQuery,queryList,null,_this);addQueryToTokenMap(viewQueries,query)}})}this.viewQueries=viewQueries,templateVariableBindings.forEach(function(entry){_this.locals.set(entry[1],THIS_EXPR.prop("context").prop(entry[0]))}),this.declarationElement.isNull()||this.declarationElement.setEmbeddedView(this)}return CompileView.prototype.callPipe=function(name,input,args){return CompilePipe.call(this,name,[input].concat(args))},CompileView.prototype.getLocal=function(name){if(name==EventHandlerVars.event.name)return EventHandlerVars.event;for(var currView=this,result=currView.locals.get(name);!result&&isPresent(currView.declarationElement.view);)currView=currView.declarationElement.view,result=currView.locals.get(name);return isPresent(result)?getPropertyInView(result,this,currView):null},CompileView.prototype.createLiteralArray=function(values){if(0===values.length)return importExpr(resolveIdentifier(Identifiers.EMPTY_ARRAY));for(var proxyExpr=THIS_EXPR.prop("_arr_"+this.literalArrayCount++),proxyParams=[],proxyReturnEntries=[],i=0;i<values.length;i++){var paramName="p"+i;proxyParams.push(new FnParam(paramName)),proxyReturnEntries.push(variable(paramName))}return createPureProxy(fn(proxyParams,[new ReturnStatement(literalArr(proxyReturnEntries))],new ArrayType(DYNAMIC_TYPE)),values.length,proxyExpr,this),proxyExpr.callFn(values)},CompileView.prototype.createLiteralMap=function(entries){if(0===entries.length)return importExpr(resolveIdentifier(Identifiers.EMPTY_MAP));for(var proxyExpr=THIS_EXPR.prop("_map_"+this.literalMapCount++),proxyParams=[],proxyReturnEntries=[],values=[],i=0;i<entries.length;i++){var paramName="p"+i;proxyParams.push(new FnParam(paramName)),proxyReturnEntries.push([entries[i][0],variable(paramName)]),values.push(entries[i][1])}return createPureProxy(fn(proxyParams,[new ReturnStatement(literalMap(proxyReturnEntries))],new MapType(DYNAMIC_TYPE)),entries.length,proxyExpr,this),proxyExpr.callFn(values)},CompileView.prototype.afterNodes=function(){var _this=this;MapWrapper.values(this.viewQueries).forEach(function(queries){return queries.forEach(function(query){return query.afterChildren(_this.createMethod,_this.updateViewQueriesMethod)})})},CompileView}(),CompileBinding=function(){function CompileBinding(node,sourceAst){this.node=node,this.sourceAst=sourceAst}return CompileBinding}(),ExpressionWithWrappedValueInfo=function(){function ExpressionWithWrappedValueInfo(expression,needsValueUnwrapper,temporaryCount){this.expression=expression,this.needsValueUnwrapper=needsValueUnwrapper,this.temporaryCount=temporaryCount}return ExpressionWithWrappedValueInfo}();!function(_Mode){_Mode[_Mode.Statement=0]="Statement",_Mode[_Mode.Expression=1]="Expression"}(_Mode||(_Mode={}));var _ComponentIndex,_AstToIrVisitor=function(){function _AstToIrVisitor(_nameResolver,_implicitReceiver,_valueUnwrapper,bindingIndex){this._nameResolver=_nameResolver,this._implicitReceiver=_implicitReceiver,this._valueUnwrapper=_valueUnwrapper,this.bindingIndex=bindingIndex,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.needsValueUnwrapper=!1,this.temporaryCount=0}return _AstToIrVisitor.prototype.visitBinary=function(ast,mode){var op;switch(ast.operation){case"+":op=BinaryOperator.Plus;break;case"-":op=BinaryOperator.Minus;break;case"*":op=BinaryOperator.Multiply;break;case"/":op=BinaryOperator.Divide;break;case"%":op=BinaryOperator.Modulo;break;case"&&":op=BinaryOperator.And;break;case"||":op=BinaryOperator.Or;break;case"==":op=BinaryOperator.Equals;break;case"!=":op=BinaryOperator.NotEquals;break;case"===":op=BinaryOperator.Identical;break;case"!==":op=BinaryOperator.NotIdentical;break;case"<":op=BinaryOperator.Lower;break;case">":op=BinaryOperator.Bigger;break;case"<=":op=BinaryOperator.LowerEquals;break;case">=":op=BinaryOperator.BiggerEquals;break;default:throw new Error("Unsupported operation "+ast.operation)}return convertToStatementIfNeeded(mode,new BinaryOperatorExpr(op,this.visit(ast.left,_Mode.Expression),this.visit(ast.right,_Mode.Expression)))},_AstToIrVisitor.prototype.visitChain=function(ast,mode){return ensureStatementMode(mode,ast),this.visitAll(ast.expressions,mode)},_AstToIrVisitor.prototype.visitConditional=function(ast,mode){var value=this.visit(ast.condition,_Mode.Expression);return convertToStatementIfNeeded(mode,value.conditional(this.visit(ast.trueExp,_Mode.Expression),this.visit(ast.falseExp,_Mode.Expression)))},_AstToIrVisitor.prototype.visitPipe=function(ast,mode){var input=this.visit(ast.exp,_Mode.Expression),args=this.visitAll(ast.args,_Mode.Expression),value=this._nameResolver.callPipe(ast.name,input,args);return this.needsValueUnwrapper=!0,convertToStatementIfNeeded(mode,this._valueUnwrapper.callMethod("unwrap",[value]))},_AstToIrVisitor.prototype.visitFunctionCall=function(ast,mode){return convertToStatementIfNeeded(mode,this.visit(ast.target,_Mode.Expression).callFn(this.visitAll(ast.args,_Mode.Expression)))},_AstToIrVisitor.prototype.visitImplicitReceiver=function(ast,mode){return ensureExpressionMode(mode,ast),this._implicitReceiver},_AstToIrVisitor.prototype.visitInterpolation=function(ast,mode){ensureExpressionMode(mode,ast);for(var args=[literal(ast.expressions.length)],i=0;i<ast.strings.length-1;i++)args.push(literal(ast.strings[i])),args.push(this.visit(ast.expressions[i],_Mode.Expression));return args.push(literal(ast.strings[ast.strings.length-1])),importExpr(resolveIdentifier(Identifiers.interpolate)).callFn(args)},_AstToIrVisitor.prototype.visitKeyedRead=function(ast,mode){return convertToStatementIfNeeded(mode,this.visit(ast.obj,_Mode.Expression).key(this.visit(ast.key,_Mode.Expression)))},_AstToIrVisitor.prototype.visitKeyedWrite=function(ast,mode){var obj=this.visit(ast.obj,_Mode.Expression),key=this.visit(ast.key,_Mode.Expression),value=this.visit(ast.value,_Mode.Expression);return convertToStatementIfNeeded(mode,obj.key(key).set(value))},_AstToIrVisitor.prototype.visitLiteralArray=function(ast,mode){return convertToStatementIfNeeded(mode,this._nameResolver.createLiteralArray(this.visitAll(ast.expressions,mode)))},_AstToIrVisitor.prototype.visitLiteralMap=function(ast,mode){for(var parts=[],i=0;i<ast.keys.length;i++)parts.push([ast.keys[i],this.visit(ast.values[i],_Mode.Expression)]);return convertToStatementIfNeeded(mode,this._nameResolver.createLiteralMap(parts))},_AstToIrVisitor.prototype.visitLiteralPrimitive=function(ast,mode){return convertToStatementIfNeeded(mode,literal(ast.value))},_AstToIrVisitor.prototype.visitMethodCall=function(ast,mode){var leftMostSafe=this.leftMostSafeNode(ast);if(leftMostSafe)return this.convertSafeAccess(ast,leftMostSafe,mode);var args=this.visitAll(ast.args,_Mode.Expression),result=null,receiver=this.visit(ast.receiver,_Mode.Expression);if(receiver===this._implicitReceiver){var varExpr=this._nameResolver.getLocal(ast.name);isPresent(varExpr)&&(result=varExpr.callFn(args))}return isBlank(result)&&(result=receiver.callMethod(ast.name,args)),convertToStatementIfNeeded(mode,result)},_AstToIrVisitor.prototype.visitPrefixNot=function(ast,mode){return convertToStatementIfNeeded(mode,not(this.visit(ast.expression,_Mode.Expression)))},_AstToIrVisitor.prototype.visitPropertyRead=function(ast,mode){var leftMostSafe=this.leftMostSafeNode(ast);if(leftMostSafe)return this.convertSafeAccess(ast,leftMostSafe,mode);var result=null,receiver=this.visit(ast.receiver,_Mode.Expression);return receiver===this._implicitReceiver&&(result=this._nameResolver.getLocal(ast.name)),isBlank(result)&&(result=receiver.prop(ast.name)),convertToStatementIfNeeded(mode,result)},_AstToIrVisitor.prototype.visitPropertyWrite=function(ast,mode){var receiver=this.visit(ast.receiver,_Mode.Expression);if(receiver===this._implicitReceiver){var varExpr=this._nameResolver.getLocal(ast.name);if(isPresent(varExpr))throw new Error("Cannot assign to a reference or variable!")}return convertToStatementIfNeeded(mode,receiver.prop(ast.name).set(this.visit(ast.value,_Mode.Expression)))},_AstToIrVisitor.prototype.visitSafePropertyRead=function(ast,mode){return this.convertSafeAccess(ast,this.leftMostSafeNode(ast),mode)},_AstToIrVisitor.prototype.visitSafeMethodCall=function(ast,mode){return this.convertSafeAccess(ast,this.leftMostSafeNode(ast),mode)},_AstToIrVisitor.prototype.visitAll=function(asts,mode){var _this=this;return asts.map(function(ast){return _this.visit(ast,mode)})},_AstToIrVisitor.prototype.visitQuote=function(ast,mode){throw new Error("Quotes are not supported for evaluation!")},_AstToIrVisitor.prototype.visit=function(ast,mode){var result=this._resultMap.get(ast);return result?result:(this._nodeMap.get(ast)||ast).visit(this,mode)},_AstToIrVisitor.prototype.convertSafeAccess=function(ast,leftMostSafe,mode){var temporary,guardedExpression=this.visit(leftMostSafe.receiver,_Mode.Expression);this.needsTemporary(leftMostSafe.receiver)&&(temporary=this.allocateTemporary(),guardedExpression=temporary.set(guardedExpression),this._resultMap.set(leftMostSafe.receiver,temporary));var condition=guardedExpression.isBlank();leftMostSafe instanceof SafeMethodCall?this._nodeMap.set(leftMostSafe,new MethodCall(leftMostSafe.span,leftMostSafe.receiver,leftMostSafe.name,leftMostSafe.args)):this._nodeMap.set(leftMostSafe,new PropertyRead(leftMostSafe.span,leftMostSafe.receiver,leftMostSafe.name));var access=this.visit(ast,_Mode.Expression);return this._nodeMap.delete(leftMostSafe),temporary&&this.releaseTemporary(temporary),convertToStatementIfNeeded(mode,condition.conditional(literal(null),access))},_AstToIrVisitor.prototype.leftMostSafeNode=function(ast){var _this=this,visit=function(visitor,ast){return(_this._nodeMap.get(ast)||ast).visit(visitor)};return ast.visit({visitBinary:function(ast){return null},visitChain:function(ast){return null},visitConditional:function(ast){return null},visitFunctionCall:function(ast){return null},visitImplicitReceiver:function(ast){return null},visitInterpolation:function(ast){return null},visitKeyedRead:function(ast){return visit(this,ast.obj)},visitKeyedWrite:function(ast){return null},visitLiteralArray:function(ast){return null},visitLiteralMap:function(ast){return null},visitLiteralPrimitive:function(ast){return null},visitMethodCall:function(ast){return visit(this,ast.receiver)},visitPipe:function(ast){return null},visitPrefixNot:function(ast){return null},visitPropertyRead:function(ast){return visit(this,ast.receiver)},visitPropertyWrite:function(ast){return null},visitQuote:function(ast){return null},visitSafeMethodCall:function(ast){return visit(this,ast.receiver)||ast},visitSafePropertyRead:function(ast){return visit(this,ast.receiver)||ast}})},_AstToIrVisitor.prototype.needsTemporary=function(ast){var _this=this,visit=function(visitor,ast){return ast&&(_this._nodeMap.get(ast)||ast).visit(visitor)},visitSome=function(visitor,ast){return ast.some(function(ast){return visit(visitor,ast)})};return ast.visit({visitBinary:function(ast){return visit(this,ast.left)||visit(this,ast.right)},visitChain:function(ast){return!1},visitConditional:function(ast){return visit(this,ast.condition)||visit(this,ast.trueExp)||visit(this,ast.falseExp)},visitFunctionCall:function(ast){return!0},visitImplicitReceiver:function(ast){return!1},visitInterpolation:function(ast){return visitSome(this,ast.expressions)},visitKeyedRead:function(ast){return!1},visitKeyedWrite:function(ast){return!1},visitLiteralArray:function(ast){return!0},visitLiteralMap:function(ast){return!0},visitLiteralPrimitive:function(ast){return!1},visitMethodCall:function(ast){return!0},visitPipe:function(ast){return!0},visitPrefixNot:function(ast){return visit(this,ast.expression)},visitPropertyRead:function(ast){return!1},visitPropertyWrite:function(ast){return!1},visitQuote:function(ast){return!1},visitSafeMethodCall:function(ast){return!0},visitSafePropertyRead:function(ast){return!1}})},_AstToIrVisitor.prototype.allocateTemporary=function(){var tempNumber=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new ReadVarExpr(temporaryName(this.bindingIndex,tempNumber))},_AstToIrVisitor.prototype.releaseTemporary=function(temporary){if(this._currentTemporary--,temporary.name!=temporaryName(this.bindingIndex,this._currentTemporary))throw new Error("Temporary "+temporary.name+" released out of order")},_AstToIrVisitor}(),CompileEventListener=function(){function CompileEventListener(compileElement,eventTarget,eventName,eventPhase,listenerIndex){this.compileElement=compileElement,this.eventTarget=eventTarget,this.eventName=eventName,this.eventPhase=eventPhase,this._hasComponentHostListener=!1,this._actionResultExprs=[],this._method=new CompileMethod(compileElement.view),this._methodName="_handle_"+sanitizeEventName(eventName)+"_"+compileElement.nodeIndex+"_"+listenerIndex,this._eventParam=new FnParam(EventHandlerVars.event.name,importType(this.compileElement.view.genConfig.renderTypes.renderEvent))}return CompileEventListener.getOrCreate=function(compileElement,eventTarget,eventName,eventPhase,targetEventListeners){var listener=targetEventListeners.find(function(listener){return listener.eventTarget==eventTarget&&listener.eventName==eventName&&listener.eventPhase==eventPhase});return listener||(listener=new CompileEventListener(compileElement,eventTarget,eventName,eventPhase,targetEventListeners.length),targetEventListeners.push(listener)),listener},Object.defineProperty(CompileEventListener.prototype,"methodName",{get:function(){return this._methodName},enumerable:!0,configurable:!0}),Object.defineProperty(CompileEventListener.prototype,"isAnimation",{get:function(){return!!this.eventPhase},enumerable:!0,configurable:!0}),CompileEventListener.prototype.addAction=function(hostEvent,directive,directiveInstance){isPresent(directive)&&directive.isComponent&&(this._hasComponentHostListener=!0),this._method.resetDebugInfo(this.compileElement.nodeIndex,hostEvent);var context=directiveInstance||this.compileElement.view.componentContext,actionStmts=convertCdStatementToIr(this.compileElement.view,context,hostEvent.handler,this.compileElement.nodeIndex),lastIndex=actionStmts.length-1;if(lastIndex>=0){var lastStatement=actionStmts[lastIndex],returnExpr=convertStmtIntoExpression(lastStatement),preventDefaultVar=variable("pd_"+this._actionResultExprs.length);this._actionResultExprs.push(preventDefaultVar),isPresent(returnExpr)&&(actionStmts[lastIndex]=preventDefaultVar.set(returnExpr.cast(DYNAMIC_TYPE).notIdentical(literal(!1))).toDeclStmt(null,[StmtModifier.Final]))}this._method.addStmts(actionStmts)},CompileEventListener.prototype.finishMethod=function(){var markPathToRootStart=this._hasComponentHostListener?this.compileElement.appElement.prop("componentView"):THIS_EXPR,resultExpr=literal(!0);this._actionResultExprs.forEach(function(expr){resultExpr=resultExpr.and(expr)});var stmts=[markPathToRootStart.callMethod("markPathToRootAsCheckOnce",[]).toStmt()].concat(this._method.finish()).concat([new ReturnStatement(resultExpr)]);this.compileElement.view.eventHandlerMethods.push(new ClassMethod(this._methodName,[this._eventParam],stmts,BOOL_TYPE,[StmtModifier.Private]))},CompileEventListener.prototype.listenToRenderer=function(){var listenExpr,eventListener=THIS_EXPR.callMethod("eventHandler",[THIS_EXPR.prop(this._methodName).callMethod(BuiltinMethod.Bind,[THIS_EXPR])]);listenExpr=isPresent(this.eventTarget)?ViewProperties.renderer.callMethod("listenGlobal",[literal(this.eventTarget),literal(this.eventName),eventListener]):ViewProperties.renderer.callMethod("listen",[this.compileElement.renderNode,literal(this.eventName),eventListener]);var disposable=variable("disposable_"+this.compileElement.view.disposables.length);this.compileElement.view.disposables.push(disposable),this.compileElement.view.createMethod.addStmt(disposable.set(listenExpr).toDeclStmt(FUNCTION_TYPE,[StmtModifier.Private]));
},CompileEventListener.prototype.listenToAnimation=function(animationTransitionVar){var callbackMethod="start"==this.eventPhase?"onStart":"onDone";return animationTransitionVar.callMethod(callbackMethod,[THIS_EXPR.prop(this.methodName).callMethod(BuiltinMethod.Bind,[THIS_EXPR])]).toStmt()},CompileEventListener.prototype.listenToDirective=function(directiveInstance,observablePropName){var subscription=variable("subscription_"+this.compileElement.view.subscriptions.length);this.compileElement.view.subscriptions.push(subscription);var eventListener=THIS_EXPR.callMethod("eventHandler",[THIS_EXPR.prop(this._methodName).callMethod(BuiltinMethod.Bind,[THIS_EXPR])]);this.compileElement.view.createMethod.addStmt(subscription.set(directiveInstance.prop(observablePropName).callMethod(BuiltinMethod.SubscribeObservable,[eventListener])).toDeclStmt(null,[StmtModifier.Final]))},CompileEventListener}(),STATE_IS_NEVER_CHECKED=THIS_EXPR.prop("numberOfChecks").identical(new LiteralExpr(0)),EvalResult=(not(DetectChangesVars.throwOnChange),function(){function EvalResult(forceUpdate){this.forceUpdate=forceUpdate}return EvalResult}()),ViewBinderVisitor=function(){function ViewBinderVisitor(view){this.view=view,this._nodeIndex=0}return ViewBinderVisitor.prototype.visitBoundText=function(ast,parent){var node=this.view.nodes[this._nodeIndex++];return bindRenderText(ast,node,this.view),null},ViewBinderVisitor.prototype.visitText=function(ast,parent){return this._nodeIndex++,null},ViewBinderVisitor.prototype.visitNgContent=function(ast,parent){return null},ViewBinderVisitor.prototype.visitElement=function(ast,parent){var compileElement=this.view.nodes[this._nodeIndex++],eventListeners=[];return collectEventListeners(ast.outputs,ast.directives,compileElement).forEach(function(entry){eventListeners.push(entry)}),bindRenderInputs(ast.inputs,compileElement,eventListeners),bindRenderOutputs(eventListeners),ast.directives.forEach(function(directiveAst){var directiveInstance=compileElement.instances.get(directiveAst.directive.type.reference),directiveWrapperInstance=compileElement.directiveWrapperInstance.get(directiveAst.directive.type.reference);bindDirectiveInputs(directiveAst,directiveWrapperInstance,compileElement),bindDirectiveHostProps(directiveAst,directiveInstance,compileElement,eventListeners),bindDirectiveOutputs(directiveAst,directiveInstance,eventListeners)}),templateVisitAll(this,ast.children,compileElement),ast.directives.forEach(function(directiveAst){var directiveInstance=compileElement.instances.get(directiveAst.directive.type.reference);bindDirectiveAfterContentLifecycleCallbacks(directiveAst.directive,directiveInstance,compileElement),bindDirectiveAfterViewLifecycleCallbacks(directiveAst.directive,directiveInstance,compileElement)}),ast.providers.forEach(function(providerAst){var providerInstance=compileElement.instances.get(providerAst.token.reference);bindInjectableDestroyLifecycleCallbacks(providerAst,providerInstance,compileElement)}),null},ViewBinderVisitor.prototype.visitEmbeddedTemplate=function(ast,parent){var compileElement=this.view.nodes[this._nodeIndex++],eventListeners=collectEventListeners(ast.outputs,ast.directives,compileElement);return ast.directives.forEach(function(directiveAst){var directiveInstance=compileElement.instances.get(directiveAst.directive.type.reference),directiveWrapperInstance=compileElement.directiveWrapperInstance.get(directiveAst.directive.type.reference);bindDirectiveInputs(directiveAst,directiveWrapperInstance,compileElement),bindDirectiveOutputs(directiveAst,directiveInstance,eventListeners),bindDirectiveAfterContentLifecycleCallbacks(directiveAst.directive,directiveInstance,compileElement),bindDirectiveAfterViewLifecycleCallbacks(directiveAst.directive,directiveInstance,compileElement)}),ast.providers.forEach(function(providerAst){var providerInstance=compileElement.instances.get(providerAst.token.reference);bindInjectableDestroyLifecycleCallbacks(providerAst,providerInstance,compileElement)}),bindView(compileElement.embeddedView,ast.children),null},ViewBinderVisitor.prototype.visitAttr=function(ast,ctx){return null},ViewBinderVisitor.prototype.visitDirective=function(ast,ctx){return null},ViewBinderVisitor.prototype.visitEvent=function(ast,eventTargetAndNames){return null},ViewBinderVisitor.prototype.visitReference=function(ast,ctx){return null},ViewBinderVisitor.prototype.visitVariable=function(ast,ctx){return null},ViewBinderVisitor.prototype.visitDirectiveProperty=function(ast,context){return null},ViewBinderVisitor.prototype.visitElementProperty=function(ast,context){return null},ViewBinderVisitor}(),IMPLICIT_TEMPLATE_VAR="$implicit",CLASS_ATTR$1="class",STYLE_ATTR="style",NG_CONTAINER_TAG="ng-container",parentRenderNodeVar=variable("parentRenderNode"),rootSelectorVar=variable("rootSelector"),ViewBuilderVisitor=function(){function ViewBuilderVisitor(view,targetDependencies){this.view=view,this.targetDependencies=targetDependencies,this.nestedViewCount=0}return ViewBuilderVisitor.prototype._isRootNode=function(parent){return parent.view!==this.view},ViewBuilderVisitor.prototype._addRootNodeAndProject=function(node){var projectedNode=_getOuterContainerOrSelf(node),parent=projectedNode.parent,ngContentIndex=projectedNode.sourceAst.ngContentIndex,vcAppEl=node instanceof CompileElement&&node.hasViewContainer?node.appElement:null;this._isRootNode(parent)?this.view.viewType!==ViewType.COMPONENT&&this.view.rootNodesOrAppElements.push(vcAppEl||node.renderNode):isPresent(parent.component)&&isPresent(ngContentIndex)&&parent.addContentNode(ngContentIndex,vcAppEl||node.renderNode)},ViewBuilderVisitor.prototype._getParentRenderNode=function(parent){return parent=_getOuterContainerParentOrSelf(parent),this._isRootNode(parent)?this.view.viewType===ViewType.COMPONENT?parentRenderNodeVar:NULL_EXPR:isPresent(parent.component)&&parent.component.template.encapsulation!==_angular_core.ViewEncapsulation.Native?NULL_EXPR:parent.renderNode},ViewBuilderVisitor.prototype.visitBoundText=function(ast,parent){return this._visitText(ast,"",parent)},ViewBuilderVisitor.prototype.visitText=function(ast,parent){return this._visitText(ast,ast.value,parent)},ViewBuilderVisitor.prototype._visitText=function(ast,value,parent){var fieldName="_text_"+this.view.nodes.length;this.view.fields.push(new ClassField(fieldName,importType(this.view.genConfig.renderTypes.renderText)));var renderNode=THIS_EXPR.prop(fieldName),compileNode=new CompileNode(parent,this.view,this.view.nodes.length,renderNode,ast),createRenderNode=THIS_EXPR.prop(fieldName).set(ViewProperties.renderer.callMethod("createText",[this._getParentRenderNode(parent),literal(value),this.view.createMethod.resetDebugInfoExpr(this.view.nodes.length,ast)])).toStmt();return this.view.nodes.push(compileNode),this.view.createMethod.addStmt(createRenderNode),this._addRootNodeAndProject(compileNode),renderNode},ViewBuilderVisitor.prototype.visitNgContent=function(ast,parent){this.view.createMethod.resetDebugInfo(null,ast);var parentRenderNode=this._getParentRenderNode(parent),nodesExpression=ViewProperties.projectableNodes.key(literal(ast.index),new ArrayType(importType(this.view.genConfig.renderTypes.renderNode)));return parentRenderNode!==NULL_EXPR?this.view.createMethod.addStmt(ViewProperties.renderer.callMethod("projectNodes",[parentRenderNode,importExpr(resolveIdentifier(Identifiers.flattenNestedViewRenderNodes)).callFn([nodesExpression])]).toStmt()):this._isRootNode(parent)?this.view.viewType!==ViewType.COMPONENT&&this.view.rootNodesOrAppElements.push(nodesExpression):isPresent(parent.component)&&isPresent(ast.ngContentIndex)&&parent.addContentNode(ast.ngContentIndex,nodesExpression),null},ViewBuilderVisitor.prototype.visitElement=function(ast,parent){var createRenderNodeExpr,nodeIndex=this.view.nodes.length,debugContextExpr=this.view.createMethod.resetDebugInfoExpr(nodeIndex,ast);createRenderNodeExpr=0===nodeIndex&&this.view.viewType===ViewType.HOST?THIS_EXPR.callMethod("selectOrCreateHostElement",[literal(ast.name),rootSelectorVar,debugContextExpr]):ast.name===NG_CONTAINER_TAG?ViewProperties.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(parent),debugContextExpr]):ViewProperties.renderer.callMethod("createElement",[this._getParentRenderNode(parent),literal(ast.name),debugContextExpr]);var fieldName="_el_"+nodeIndex;this.view.fields.push(new ClassField(fieldName,importType(this.view.genConfig.renderTypes.renderElement))),this.view.createMethod.addStmt(THIS_EXPR.prop(fieldName).set(createRenderNodeExpr).toStmt());for(var renderNode=THIS_EXPR.prop(fieldName),directives=ast.directives.map(function(directiveAst){return directiveAst.directive}),component=directives.find(function(directive){return directive.isComponent}),htmlAttrs=_readHtmlAttrs(ast.attrs),attrNameAndValues=_mergeHtmlAndDirectiveAttrs(htmlAttrs,directives),i=0;i<attrNameAndValues.length;i++){var attrName=attrNameAndValues[i][0];if(ast.name!==NG_CONTAINER_TAG){var attrValue=attrNameAndValues[i][1];this.view.createMethod.addStmt(ViewProperties.renderer.callMethod("setElementAttribute",[renderNode,literal(attrName),literal(attrValue)]).toStmt())}}var compileElement=new CompileElement(parent,this.view,nodeIndex,renderNode,ast,component,directives,ast.providers,ast.hasViewContainer,!1,ast.references,this.targetDependencies);this.view.nodes.push(compileElement);var compViewExpr=null;if(isPresent(component)){var nestedComponentIdentifier=new CompileIdentifierMetadata({name:getViewFactoryName(component,0)});this.targetDependencies.push(new ViewFactoryDependency(component.type,nestedComponentIdentifier)),compViewExpr=variable("compView_"+nodeIndex),compileElement.setComponentView(compViewExpr),this.view.createMethod.addStmt(compViewExpr.set(importExpr(nestedComponentIdentifier).callFn([ViewProperties.viewUtils,compileElement.injector,compileElement.appElement])).toDeclStmt())}if(compileElement.beforeChildren(),this._addRootNodeAndProject(compileElement),templateVisitAll(this,ast.children,compileElement),compileElement.afterChildren(this.view.nodes.length-nodeIndex-1),isPresent(compViewExpr)){var codeGenContentNodes;codeGenContentNodes=this.view.component.type.isHost?ViewProperties.projectableNodes:literalArr(compileElement.contentNodesByNgContentIndex.map(function(nodes){return createFlatArray(nodes)})),this.view.createMethod.addStmt(compViewExpr.callMethod("create",[compileElement.getComponent(),codeGenContentNodes,NULL_EXPR]).toStmt())}return null},ViewBuilderVisitor.prototype.visitEmbeddedTemplate=function(ast,parent){var nodeIndex=this.view.nodes.length,fieldName="_anchor_"+nodeIndex;this.view.fields.push(new ClassField(fieldName,importType(this.view.genConfig.renderTypes.renderComment))),this.view.createMethod.addStmt(THIS_EXPR.prop(fieldName).set(ViewProperties.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(parent),this.view.createMethod.resetDebugInfoExpr(nodeIndex,ast)])).toStmt());var renderNode=THIS_EXPR.prop(fieldName),templateVariableBindings=ast.variables.map(function(varAst){return[varAst.value.length>0?varAst.value:IMPLICIT_TEMPLATE_VAR,varAst.name]}),directives=ast.directives.map(function(directiveAst){return directiveAst.directive}),compileElement=new CompileElement(parent,this.view,nodeIndex,renderNode,ast,null,directives,ast.providers,ast.hasViewContainer,!0,ast.references,this.targetDependencies);this.view.nodes.push(compileElement),this.nestedViewCount++;var embeddedView=new CompileView(this.view.component,this.view.genConfig,this.view.pipeMetas,NULL_EXPR,this.view.animations,this.view.viewIndex+this.nestedViewCount,compileElement,templateVariableBindings);return this.nestedViewCount+=buildView(embeddedView,ast.children,this.targetDependencies),compileElement.beforeChildren(),this._addRootNodeAndProject(compileElement),compileElement.afterChildren(0),null},ViewBuilderVisitor.prototype.visitAttr=function(ast,ctx){return null},ViewBuilderVisitor.prototype.visitDirective=function(ast,ctx){return null},ViewBuilderVisitor.prototype.visitEvent=function(ast,eventTargetAndNames){return null},ViewBuilderVisitor.prototype.visitReference=function(ast,ctx){return null},ViewBuilderVisitor.prototype.visitVariable=function(ast,ctx){return null},ViewBuilderVisitor.prototype.visitDirectiveProperty=function(ast,context){return null},ViewBuilderVisitor.prototype.visitElementProperty=function(ast,context){return null},ViewBuilderVisitor}(),ViewCompileResult=function(){function ViewCompileResult(statements,viewFactoryVar,dependencies){this.statements=statements,this.viewFactoryVar=viewFactoryVar,this.dependencies=dependencies}return ViewCompileResult}(),ViewCompiler=function(){function ViewCompiler(_genConfig){this._genConfig=_genConfig}return ViewCompiler.prototype.compileComponent=function(component,template,styles,pipes,compiledAnimations){var dependencies=[],view=new CompileView(component,this._genConfig,pipes,styles,compiledAnimations,0,CompileElement.createNull(),[]),statements=[];return buildView(view,template,dependencies),bindView(view,template),finishView(view,statements),new ViewCompileResult(statements,view.viewFactory.name,dependencies)},ViewCompiler.decorators=[{type:_angular_core.Injectable}],ViewCompiler.ctorParameters=[{type:CompilerConfig}],ViewCompiler}(),SourceModule=function(){function SourceModule(moduleUrl,source){this.moduleUrl=moduleUrl,this.source=source}return SourceModule}(),NgModulesSummary=function(){function NgModulesSummary(ngModuleByDirective,ngModules){this.ngModuleByDirective=ngModuleByDirective,this.ngModules=ngModules}return NgModulesSummary}(),OfflineCompiler=function(){function OfflineCompiler(_metadataResolver,_directiveNormalizer,_templateParser,_styleCompiler,_viewCompiler,_dirWrapperCompiler,_ngModuleCompiler,_outputEmitter,_localeId,_translationFormat){this._metadataResolver=_metadataResolver,this._directiveNormalizer=_directiveNormalizer,this._templateParser=_templateParser,this._styleCompiler=_styleCompiler,this._viewCompiler=_viewCompiler,this._dirWrapperCompiler=_dirWrapperCompiler,this._ngModuleCompiler=_ngModuleCompiler,this._outputEmitter=_outputEmitter,this._localeId=_localeId,this._translationFormat=_translationFormat,this._animationParser=new AnimationParser,this._animationCompiler=new AnimationCompiler}return OfflineCompiler.prototype.analyzeModules=function(ngModules){return analyzeModules(ngModules,this._metadataResolver)},OfflineCompiler.prototype.clearCache=function(){this._directiveNormalizer.clearCache(),this._metadataResolver.clearCache()},OfflineCompiler.prototype.compile=function(moduleUrl,ngModulesSummary,directives,ngModules){var _this=this,fileSuffix=_splitTypescriptSuffix(moduleUrl)[1],statements=[],exportedVars=[],outputSourceModules=[];return exportedVars.push.apply(exportedVars,ngModules.map(function(ngModuleType){return _this._compileModule(ngModuleType,statements)})),exportedVars.push.apply(exportedVars,directives.map(function(directiveType){return _this._compileDirectiveWrapper(directiveType,statements)})),Promise.all(directives.map(function(dirType){var compMeta=_this._metadataResolver.getDirectiveMetadata(dirType);if(!compMeta.isComponent)return Promise.resolve(null);var ngModule=ngModulesSummary.ngModuleByDirective.get(dirType);if(!ngModule)throw new Error("Cannot determine the module for component "+compMeta.type.name+"!");return Promise.all([compMeta].concat(ngModule.transitiveModule.directives).map(function(dirMeta){return _this._directiveNormalizer.normalizeDirective(dirMeta).asyncResult})).then(function(normalizedCompWithDirectives){var compMeta=normalizedCompWithDirectives[0],dirMetas=normalizedCompWithDirectives.slice(1);_assertComponent(compMeta);var stylesCompileResults=_this._styleCompiler.compileComponent(compMeta);stylesCompileResults.externalStylesheets.forEach(function(compiledStyleSheet){outputSourceModules.push(_this._codgenStyles(compiledStyleSheet,fileSuffix))}),exportedVars.push(_this._compileComponentFactory(compMeta,fileSuffix,statements),_this._compileComponent(compMeta,dirMetas,ngModule.transitiveModule.pipes,ngModule.schemas,stylesCompileResults.componentStylesheet,fileSuffix,statements))})})).then(function(){return statements.length>0&&outputSourceModules.unshift(_this._codegenSourceModule(_ngfactoryModuleUrl(moduleUrl),statements,exportedVars)),outputSourceModules})},OfflineCompiler.prototype._compileModule=function(ngModuleType,targetStatements){var ngModule=this._metadataResolver.getNgModuleMetadata(ngModuleType),providers=[];this._localeId&&providers.push(new CompileProviderMetadata({token:resolveIdentifierToken(Identifiers.LOCALE_ID),useValue:this._localeId})),this._translationFormat&&providers.push(new CompileProviderMetadata({token:resolveIdentifierToken(Identifiers.TRANSLATIONS_FORMAT),useValue:this._translationFormat}));var appCompileResult=this._ngModuleCompiler.compile(ngModule,providers);return appCompileResult.dependencies.forEach(function(dep){dep.placeholder.name=_componentFactoryName(dep.comp),dep.placeholder.moduleUrl=_ngfactoryModuleUrl(dep.comp.moduleUrl)}),targetStatements.push.apply(targetStatements,appCompileResult.statements),appCompileResult.ngModuleFactoryVar},OfflineCompiler.prototype._compileDirectiveWrapper=function(directiveType,targetStatements){var dirMeta=this._metadataResolver.getDirectiveMetadata(directiveType),dirCompileResult=this._dirWrapperCompiler.compile(dirMeta);return targetStatements.push.apply(targetStatements,dirCompileResult.statements),dirCompileResult.dirWrapperClassVar},OfflineCompiler.prototype._compileComponentFactory=function(compMeta,fileSuffix,targetStatements){var hostMeta=createHostComponentMeta(compMeta),hostViewFactoryVar=this._compileComponent(hostMeta,[compMeta],[],[],null,fileSuffix,targetStatements),compFactoryVar=_componentFactoryName(compMeta.type);return targetStatements.push(variable(compFactoryVar).set(importExpr(resolveIdentifier(Identifiers.ComponentFactory),[importType(compMeta.type)]).instantiate([literal(compMeta.selector),variable(hostViewFactoryVar),importExpr(compMeta.type)],importType(resolveIdentifier(Identifiers.ComponentFactory),[importType(compMeta.type)],[TypeModifier.Const]))).toDeclStmt(null,[StmtModifier.Final])),compFactoryVar},OfflineCompiler.prototype._compileComponent=function(compMeta,directives,pipes,schemas,componentStyles,fileSuffix,targetStatements){var parsedAnimations=this._animationParser.parseComponent(compMeta),parsedTemplate=this._templateParser.parse(compMeta,compMeta.template.template,directives,pipes,schemas,compMeta.type.name),stylesExpr=componentStyles?variable(componentStyles.stylesVar):literalArr([]),compiledAnimations=this._animationCompiler.compile(compMeta.type.name,parsedAnimations),viewResult=this._viewCompiler.compileComponent(compMeta,parsedTemplate,stylesExpr,pipes,compiledAnimations);return componentStyles&&targetStatements.push.apply(targetStatements,_resolveStyleStatements(componentStyles,fileSuffix)),compiledAnimations.forEach(function(entry){entry.statements.forEach(function(statement){targetStatements.push(statement)})}),targetStatements.push.apply(targetStatements,_resolveViewStatements(viewResult)),viewResult.viewFactoryVar},OfflineCompiler.prototype._codgenStyles=function(stylesCompileResult,fileSuffix){return _resolveStyleStatements(stylesCompileResult,fileSuffix),this._codegenSourceModule(_stylesModuleUrl(stylesCompileResult.meta.moduleUrl,stylesCompileResult.isShimmed,fileSuffix),stylesCompileResult.statements,[stylesCompileResult.stylesVar])},OfflineCompiler.prototype._codegenSourceModule=function(moduleUrl,statements,exportedVars){return new SourceModule(moduleUrl,this._outputEmitter.emitStatements(moduleUrl,statements,exportedVars))},OfflineCompiler}(),ResourceLoader=function(){function ResourceLoader(){}return ResourceLoader.prototype.get=function(url){return null},ResourceLoader}(),_ASSET_SCHEME="asset:",DEFAULT_PACKAGE_URL_PROVIDER={provide:_angular_core.PACKAGE_ROOT_URL,useValue:"/"},UrlResolver=function(){function UrlResolver(_packagePrefix){void 0===_packagePrefix&&(_packagePrefix=null),this._packagePrefix=_packagePrefix}return UrlResolver.prototype.resolve=function(baseUrl,url){var resolvedUrl=url;isPresent(baseUrl)&&baseUrl.length>0&&(resolvedUrl=_resolveUrl(baseUrl,resolvedUrl));var resolvedParts=_split(resolvedUrl),prefix=this._packagePrefix;if(isPresent(prefix)&&isPresent(resolvedParts)&&"package"==resolvedParts[_ComponentIndex.Scheme]){var path=resolvedParts[_ComponentIndex.Path];if(this._packagePrefix!==_ASSET_SCHEME)return prefix=prefix.replace(/\/+$/,""),path=path.replace(/^\/+/,""),prefix+"/"+path;var pathSegements=path.split(/\//);resolvedUrl="asset:"+pathSegements[0]+"/lib/"+pathSegements.slice(1).join("/")}return resolvedUrl},UrlResolver.decorators=[{type:_angular_core.Injectable}],UrlResolver.ctorParameters=[{type:void 0,decorators:[{type:_angular_core.Inject,args:[_angular_core.PACKAGE_ROOT_URL]}]}],UrlResolver}(),_splitRe=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");!function(_ComponentIndex){_ComponentIndex[_ComponentIndex.Scheme=1]="Scheme",_ComponentIndex[_ComponentIndex.UserInfo=2]="UserInfo",_ComponentIndex[_ComponentIndex.Domain=3]="Domain",_ComponentIndex[_ComponentIndex.Port=4]="Port",_ComponentIndex[_ComponentIndex.Path=5]="Path",_ComponentIndex[_ComponentIndex.QueryData=6]="QueryData",_ComponentIndex[_ComponentIndex.Fragment=7]="Fragment"}(_ComponentIndex||(_ComponentIndex={}));var DirectiveNormalizer=function(){function DirectiveNormalizer(_resourceLoader,_urlResolver,_htmlParser,_config){this._resourceLoader=_resourceLoader,this._urlResolver=_urlResolver,this._htmlParser=_htmlParser,this._config=_config,this._resourceLoaderCache=new Map}return DirectiveNormalizer.prototype.clearCache=function(){this._resourceLoaderCache.clear()},DirectiveNormalizer.prototype.clearCacheFor=function(normalizedDirective){var _this=this;normalizedDirective.isComponent&&(this._resourceLoaderCache.delete(normalizedDirective.template.templateUrl),normalizedDirective.template.externalStylesheets.forEach(function(stylesheet){_this._resourceLoaderCache.delete(stylesheet.moduleUrl)}))},DirectiveNormalizer.prototype._fetch=function(url){var result=this._resourceLoaderCache.get(url);return result||(result=this._resourceLoader.get(url),this._resourceLoaderCache.set(url,result)),result},DirectiveNormalizer.prototype.normalizeDirective=function(directive){var _this=this;if(!directive.isComponent)return new SyncAsyncResult(directive,Promise.resolve(directive));var normalizedTemplateAsync,normalizedTemplateSync=null;if(isPresent(directive.template.template))normalizedTemplateSync=this.normalizeTemplateSync(directive.type,directive.template),normalizedTemplateAsync=Promise.resolve(normalizedTemplateSync);else{if(!directive.template.templateUrl)throw new Error("No template specified for component "+directive.type.name);normalizedTemplateAsync=this.normalizeTemplateAsync(directive.type,directive.template)}if(normalizedTemplateSync&&0===normalizedTemplateSync.styleUrls.length){var normalizedDirective=_cloneDirectiveWithTemplate(directive,normalizedTemplateSync);return new SyncAsyncResult(normalizedDirective,Promise.resolve(normalizedDirective))}return new SyncAsyncResult(null,normalizedTemplateAsync.then(function(normalizedTemplate){return _this.normalizeExternalStylesheets(normalizedTemplate)}).then(function(normalizedTemplate){return _cloneDirectiveWithTemplate(directive,normalizedTemplate)}))},DirectiveNormalizer.prototype.normalizeTemplateSync=function(directiveType,template){return this.normalizeLoadedTemplate(directiveType,template,template.template,directiveType.moduleUrl)},DirectiveNormalizer.prototype.normalizeTemplateAsync=function(directiveType,template){var _this=this,templateUrl=this._urlResolver.resolve(directiveType.moduleUrl,template.templateUrl);return this._fetch(templateUrl).then(function(value){return _this.normalizeLoadedTemplate(directiveType,template,value,templateUrl)})},DirectiveNormalizer.prototype.normalizeLoadedTemplate=function(directiveType,templateMeta,template,templateAbsUrl){var interpolationConfig=InterpolationConfig.fromArray(templateMeta.interpolation),rootNodesAndErrors=this._htmlParser.parse(template,directiveType.name,!1,interpolationConfig);if(rootNodesAndErrors.errors.length>0){var errorString=rootNodesAndErrors.errors.join("\n");throw new Error("Template parse errors:\n"+errorString)}var templateMetadataStyles=this.normalizeStylesheet(new CompileStylesheetMetadata({styles:templateMeta.styles,styleUrls:templateMeta.styleUrls,moduleUrl:directiveType.moduleUrl})),visitor=new TemplatePreparseVisitor;visitAll(visitor,rootNodesAndErrors.rootNodes);var templateStyles=this.normalizeStylesheet(new CompileStylesheetMetadata({styles:visitor.styles,styleUrls:visitor.styleUrls,moduleUrl:templateAbsUrl})),encapsulation=templateMeta.encapsulation;isBlank(encapsulation)&&(encapsulation=this._config.defaultEncapsulation);var styles=templateMetadataStyles.styles.concat(templateStyles.styles),styleUrls=templateMetadataStyles.styleUrls.concat(templateStyles.styleUrls);return encapsulation===_angular_core.ViewEncapsulation.Emulated&&0===styles.length&&0===styleUrls.length&&(encapsulation=_angular_core.ViewEncapsulation.None),new CompileTemplateMetadata({encapsulation:encapsulation,template:template,templateUrl:templateAbsUrl,styles:styles,styleUrls:styleUrls,externalStylesheets:templateMeta.externalStylesheets,ngContentSelectors:visitor.ngContentSelectors,animations:templateMeta.animations,interpolation:templateMeta.interpolation})},DirectiveNormalizer.prototype.normalizeExternalStylesheets=function(templateMeta){return this._loadMissingExternalStylesheets(templateMeta.styleUrls).then(function(externalStylesheets){return new CompileTemplateMetadata({encapsulation:templateMeta.encapsulation,template:templateMeta.template,templateUrl:templateMeta.templateUrl,styles:templateMeta.styles,styleUrls:templateMeta.styleUrls,externalStylesheets:externalStylesheets,ngContentSelectors:templateMeta.ngContentSelectors,animations:templateMeta.animations,interpolation:templateMeta.interpolation})})},DirectiveNormalizer.prototype._loadMissingExternalStylesheets=function(styleUrls,loadedStylesheets){var _this=this;return void 0===loadedStylesheets&&(loadedStylesheets=new Map),Promise.all(styleUrls.filter(function(styleUrl){return!loadedStylesheets.has(styleUrl)}).map(function(styleUrl){return _this._fetch(styleUrl).then(function(loadedStyle){var stylesheet=_this.normalizeStylesheet(new CompileStylesheetMetadata({styles:[loadedStyle],moduleUrl:styleUrl}));return loadedStylesheets.set(styleUrl,stylesheet),_this._loadMissingExternalStylesheets(stylesheet.styleUrls,loadedStylesheets)})})).then(function(_){return MapWrapper.values(loadedStylesheets)})},DirectiveNormalizer.prototype.normalizeStylesheet=function(stylesheet){var _this=this,allStyleUrls=stylesheet.styleUrls.filter(isStyleUrlResolvable).map(function(url){return _this._urlResolver.resolve(stylesheet.moduleUrl,url)}),allStyles=stylesheet.styles.map(function(style){var styleWithImports=extractStyleUrls(_this._urlResolver,stylesheet.moduleUrl,style);return allStyleUrls.push.apply(allStyleUrls,styleWithImports.styleUrls),styleWithImports.style});return new CompileStylesheetMetadata({styles:allStyles,styleUrls:allStyleUrls,moduleUrl:stylesheet.moduleUrl})},DirectiveNormalizer.decorators=[{type:_angular_core.Injectable}],DirectiveNormalizer.ctorParameters=[{type:ResourceLoader},{type:UrlResolver},{type:HtmlParser},{type:CompilerConfig}],DirectiveNormalizer}(),TemplatePreparseVisitor=function(){function TemplatePreparseVisitor(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return TemplatePreparseVisitor.prototype.visitElement=function(ast,context){var preparsedElement=preparseElement(ast);switch(preparsedElement.type){case PreparsedElementType.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(preparsedElement.selectAttr);break;case PreparsedElementType.STYLE:var textContent="";ast.children.forEach(function(child){child instanceof Text&&(textContent+=child.value)}),this.styles.push(textContent);break;case PreparsedElementType.STYLESHEET:this.styleUrls.push(preparsedElement.hrefAttr)}return preparsedElement.nonBindable&&this.ngNonBindableStackCount++,visitAll(this,ast.children),preparsedElement.nonBindable&&this.ngNonBindableStackCount--,null},TemplatePreparseVisitor.prototype.visitComment=function(ast,context){return null},TemplatePreparseVisitor.prototype.visitAttribute=function(ast,context){return null},TemplatePreparseVisitor.prototype.visitText=function(ast,context){return null},TemplatePreparseVisitor.prototype.visitExpansion=function(ast,context){return null},TemplatePreparseVisitor.prototype.visitExpansionCase=function(ast,context){return null},TemplatePreparseVisitor}(),DirectiveResolver=function(){function DirectiveResolver(_reflector){void 0===_reflector&&(_reflector=reflector),this._reflector=_reflector}return DirectiveResolver.prototype.resolve=function(type,throwIfNotFound){void 0===throwIfNotFound&&(throwIfNotFound=!0);var typeMetadata=this._reflector.annotations(_angular_core.resolveForwardRef(type));if(typeMetadata){var metadata=typeMetadata.find(isDirectiveMetadata);if(metadata){var propertyMetadata=this._reflector.propMetadata(type);return this._mergeWithPropertyMetadata(metadata,propertyMetadata,type)}}if(throwIfNotFound)throw new Error("No Directive annotation found on "+stringify(type));return null},DirectiveResolver.prototype._mergeWithPropertyMetadata=function(dm,propertyMetadata,directiveType){var inputs=[],outputs=[],host={},queries={};return Object.keys(propertyMetadata).forEach(function(propName){propertyMetadata[propName].forEach(function(a){if(a instanceof _angular_core.Input)a.bindingPropertyName?inputs.push(propName+": "+a.bindingPropertyName):inputs.push(propName);else if(a instanceof _angular_core.Output){var output=a;output.bindingPropertyName?outputs.push(propName+": "+output.bindingPropertyName):outputs.push(propName)}else if(a instanceof _angular_core.HostBinding){var hostBinding=a;if(hostBinding.hostPropertyName){var startWith=hostBinding.hostPropertyName[0];if("("===startWith)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===startWith)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");host["["+hostBinding.hostPropertyName+"]"]=propName}else host["["+propName+"]"]=propName}else if(a instanceof _angular_core.HostListener){var hostListener=a,args=hostListener.args||[];host["("+hostListener.eventName+")"]=propName+"("+args.join(",")+")"}else a instanceof _angular_core.Query&&(queries[propName]=a)})}),this._merge(dm,inputs,outputs,host,queries,directiveType)},DirectiveResolver.prototype._extractPublicName=function(def){return splitAtColon(def,[null,def])[1].trim()},DirectiveResolver.prototype._merge=function(directive,inputs,outputs,host,queries,directiveType){var _this=this,mergedInputs=inputs;if(directive.inputs){var inputNames_1=directive.inputs.map(function(def){return _this._extractPublicName(def)});inputs.forEach(function(inputDef){var publicName=_this._extractPublicName(inputDef);if(inputNames_1.indexOf(publicName)>-1)throw new Error("Input '"+publicName+"' defined multiple times in '"+stringify(directiveType)+"'")}),mergedInputs.unshift.apply(mergedInputs,directive.inputs)}var mergedOutputs=outputs;if(directive.outputs){var outputNames_1=directive.outputs.map(function(def){return _this._extractPublicName(def)});outputs.forEach(function(outputDef){var publicName=_this._extractPublicName(outputDef);if(outputNames_1.indexOf(publicName)>-1)throw new Error("Output event '"+publicName+"' defined multiple times in '"+stringify(directiveType)+"'")}),mergedOutputs.unshift.apply(mergedOutputs,directive.outputs)}var mergedHost=directive.host?StringMapWrapper.merge(directive.host,host):host,mergedQueries=directive.queries?StringMapWrapper.merge(directive.queries,queries):queries;
return directive instanceof _angular_core.Component?new _angular_core.Component({selector:directive.selector,inputs:mergedInputs,outputs:mergedOutputs,host:mergedHost,exportAs:directive.exportAs,moduleId:directive.moduleId,queries:mergedQueries,changeDetection:directive.changeDetection,providers:directive.providers,viewProviders:directive.viewProviders,entryComponents:directive.entryComponents,template:directive.template,templateUrl:directive.templateUrl,styles:directive.styles,styleUrls:directive.styleUrls,encapsulation:directive.encapsulation,animations:directive.animations,interpolation:directive.interpolation}):new _angular_core.Directive({selector:directive.selector,inputs:mergedInputs,outputs:mergedOutputs,host:mergedHost,exportAs:directive.exportAs,queries:mergedQueries,providers:directive.providers})},DirectiveResolver.decorators=[{type:_angular_core.Injectable}],DirectiveResolver.ctorParameters=[{type:ReflectorReader}],DirectiveResolver}(),NgModuleResolver=function(){function NgModuleResolver(_reflector){void 0===_reflector&&(_reflector=reflector),this._reflector=_reflector}return NgModuleResolver.prototype.resolve=function(type,throwIfNotFound){void 0===throwIfNotFound&&(throwIfNotFound=!0);var ngModuleMeta=this._reflector.annotations(type).find(_isNgModuleMetadata);if(isPresent(ngModuleMeta))return ngModuleMeta;if(throwIfNotFound)throw new Error("No NgModule metadata found for '"+stringify(type)+"'.");return null},NgModuleResolver.decorators=[{type:_angular_core.Injectable}],NgModuleResolver.ctorParameters=[{type:ReflectorReader}],NgModuleResolver}(),PipeResolver=function(){function PipeResolver(_reflector){void 0===_reflector&&(_reflector=reflector),this._reflector=_reflector}return PipeResolver.prototype.resolve=function(type,throwIfNotFound){void 0===throwIfNotFound&&(throwIfNotFound=!0);var metas=this._reflector.annotations(_angular_core.resolveForwardRef(type));if(isPresent(metas)){var annotation=metas.find(_isPipeMetadata);if(isPresent(annotation))return annotation}if(throwIfNotFound)throw new Error("No Pipe decorator found on "+stringify(type));return null},PipeResolver.decorators=[{type:_angular_core.Injectable}],PipeResolver.ctorParameters=[{type:ReflectorReader}],PipeResolver}(),__extends$16=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},CompileMetadataResolver=function(){function CompileMetadataResolver(_ngModuleResolver,_directiveResolver,_pipeResolver,_schemaRegistry,_reflector){void 0===_reflector&&(_reflector=reflector),this._ngModuleResolver=_ngModuleResolver,this._directiveResolver=_directiveResolver,this._pipeResolver=_pipeResolver,this._schemaRegistry=_schemaRegistry,this._reflector=_reflector,this._directiveCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._anonymousTypes=new Map,this._anonymousTypeIndex=0}return CompileMetadataResolver.prototype.sanitizeTokenName=function(token){var identifier=stringify(token);if(identifier.indexOf("(")>=0){var found=this._anonymousTypes.get(token);found||(this._anonymousTypes.set(token,this._anonymousTypeIndex++),found=this._anonymousTypes.get(token)),identifier="anonymous_token_"+found+"_"}return sanitizeIdentifier(identifier)},CompileMetadataResolver.prototype.clearCacheFor=function(type){this._directiveCache.delete(type),this._pipeCache.delete(type),this._ngModuleOfTypes.delete(type),this._ngModuleCache.clear()},CompileMetadataResolver.prototype.clearCache=function(){this._directiveCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear()},CompileMetadataResolver.prototype.getAnimationEntryMetadata=function(entry){var _this=this,defs=entry.definitions.map(function(def){return _this.getAnimationStateMetadata(def)});return new CompileAnimationEntryMetadata(entry.name,defs)},CompileMetadataResolver.prototype.getAnimationStateMetadata=function(value){if(value instanceof _angular_core.AnimationStateDeclarationMetadata){var styles=this.getAnimationStyleMetadata(value.styles);return new CompileAnimationStateDeclarationMetadata(value.stateNameExpr,styles)}return value instanceof _angular_core.AnimationStateTransitionMetadata?new CompileAnimationStateTransitionMetadata(value.stateChangeExpr,this.getAnimationMetadata(value.steps)):null},CompileMetadataResolver.prototype.getAnimationStyleMetadata=function(value){return new CompileAnimationStyleMetadata(value.offset,value.styles)},CompileMetadataResolver.prototype.getAnimationMetadata=function(value){var _this=this;if(value instanceof _angular_core.AnimationStyleMetadata)return this.getAnimationStyleMetadata(value);if(value instanceof _angular_core.AnimationKeyframesSequenceMetadata)return new CompileAnimationKeyframesSequenceMetadata(value.steps.map(function(entry){return _this.getAnimationStyleMetadata(entry)}));if(value instanceof _angular_core.AnimationAnimateMetadata){var animateData=this.getAnimationMetadata(value.styles);return new CompileAnimationAnimateMetadata(value.timings,animateData)}if(value instanceof _angular_core.AnimationWithStepsMetadata){var steps=value.steps.map(function(step){return _this.getAnimationMetadata(step)});return value instanceof _angular_core.AnimationGroupMetadata?new CompileAnimationGroupMetadata(steps):new CompileAnimationSequenceMetadata(steps)}return null},CompileMetadataResolver.prototype.getDirectiveMetadata=function(directiveType,throwIfNotFound){var _this=this;void 0===throwIfNotFound&&(throwIfNotFound=!0),directiveType=_angular_core.resolveForwardRef(directiveType);var meta=this._directiveCache.get(directiveType);if(!meta){var dirMeta=this._directiveResolver.resolve(directiveType,throwIfNotFound);if(!dirMeta)return null;var templateMeta=null,changeDetectionStrategy=null,viewProviders=[],moduleUrl=staticTypeModuleUrl(directiveType),entryComponentMetadata=[],selector=dirMeta.selector;if(dirMeta instanceof _angular_core.Component){assertArrayOfStrings("styles",dirMeta.styles),assertArrayOfStrings("styleUrls",dirMeta.styleUrls),assertInterpolationSymbols("interpolation",dirMeta.interpolation);var animations=dirMeta.animations?dirMeta.animations.map(function(e){return _this.getAnimationEntryMetadata(e)}):null;templateMeta=new CompileTemplateMetadata({encapsulation:dirMeta.encapsulation,template:dirMeta.template,templateUrl:dirMeta.templateUrl,styles:dirMeta.styles,styleUrls:dirMeta.styleUrls,animations:animations,interpolation:dirMeta.interpolation}),changeDetectionStrategy=dirMeta.changeDetection,dirMeta.viewProviders&&(viewProviders=this.getProvidersMetadata(dirMeta.viewProviders,entryComponentMetadata,'viewProviders for "'+stringify(directiveType)+'"')),moduleUrl=componentModuleUrl(this._reflector,directiveType,dirMeta),dirMeta.entryComponents&&(entryComponentMetadata=flattenArray(dirMeta.entryComponents).map(function(type){return _this.getTypeMetadata(type,staticTypeModuleUrl(type))}).concat(entryComponentMetadata)),selector||(selector=this._schemaRegistry.getDefaultComponentElementName())}else if(!selector)throw new Error("Directive "+stringify(directiveType)+" has no selector, please add it!");var providers=[];isPresent(dirMeta.providers)&&(providers=this.getProvidersMetadata(dirMeta.providers,entryComponentMetadata,'providers for "'+stringify(directiveType)+'"'));var queries=[],viewQueries=[];isPresent(dirMeta.queries)&&(queries=this.getQueriesMetadata(dirMeta.queries,!1,directiveType),viewQueries=this.getQueriesMetadata(dirMeta.queries,!0,directiveType)),meta=CompileDirectiveMetadata.create({selector:selector,exportAs:dirMeta.exportAs,isComponent:!!templateMeta,type:this.getTypeMetadata(directiveType,moduleUrl),template:templateMeta,changeDetection:changeDetectionStrategy,inputs:dirMeta.inputs,outputs:dirMeta.outputs,host:dirMeta.host,providers:providers,viewProviders:viewProviders,queries:queries,viewQueries:viewQueries,entryComponents:entryComponentMetadata}),this._directiveCache.set(directiveType,meta)}return meta},CompileMetadataResolver.prototype.getNgModuleMetadata=function(moduleType,throwIfNotFound){var _this=this;void 0===throwIfNotFound&&(throwIfNotFound=!0),moduleType=_angular_core.resolveForwardRef(moduleType);var compileMeta=this._ngModuleCache.get(moduleType);if(!compileMeta){var meta=this._ngModuleResolver.resolve(moduleType,throwIfNotFound);if(!meta)return null;var declaredDirectives_1=[],exportedDirectives_1=[],declaredPipes_1=[],exportedPipes_1=[],importedModules_1=[],exportedModules_1=[],providers_1=[],entryComponents_1=[],bootstrapComponents=[],schemas=[];meta.imports&&flattenArray(meta.imports).forEach(function(importedType){var importedModuleType;if(isValidType(importedType))importedModuleType=importedType;else if(importedType&&importedType.ngModule){var moduleWithProviders=importedType;importedModuleType=moduleWithProviders.ngModule,moduleWithProviders.providers&&providers_1.push.apply(providers_1,_this.getProvidersMetadata(moduleWithProviders.providers,entryComponents_1,"provider for the NgModule '"+stringify(importedModuleType)+"'"))}if(!importedModuleType)throw new Error("Unexpected value '"+stringify(importedType)+"' imported by the module '"+stringify(moduleType)+"'");var importedMeta=_this.getNgModuleMetadata(importedModuleType,!1);if(null===importedMeta)throw new Error("Unexpected "+_this._getTypeDescriptor(importedType)+" '"+stringify(importedType)+"' imported by the module '"+stringify(moduleType)+"'");importedModules_1.push(importedMeta)}),meta.exports&&flattenArray(meta.exports).forEach(function(exportedType){if(!isValidType(exportedType))throw new Error("Unexpected value '"+stringify(exportedType)+"' exported by the module '"+stringify(moduleType)+"'");var exportedDirMeta,exportedPipeMeta,exportedModuleMeta;if(exportedDirMeta=_this.getDirectiveMetadata(exportedType,!1))exportedDirectives_1.push(exportedDirMeta);else if(exportedPipeMeta=_this.getPipeMetadata(exportedType,!1))exportedPipes_1.push(exportedPipeMeta);else{if(!(exportedModuleMeta=_this.getNgModuleMetadata(exportedType,!1)))throw new Error("Unexpected "+_this._getTypeDescriptor(exportedType)+" '"+stringify(exportedType)+"' exported by the module '"+stringify(moduleType)+"'");exportedModules_1.push(exportedModuleMeta)}});var transitiveModule_1=this._getTransitiveNgModuleMetadata(importedModules_1,exportedModules_1);if(meta.declarations&&flattenArray(meta.declarations).forEach(function(declaredType){if(!isValidType(declaredType))throw new Error("Unexpected value '"+stringify(declaredType)+"' declared by the module '"+stringify(moduleType)+"'");var declaredDirMeta,declaredPipeMeta;if(declaredDirMeta=_this.getDirectiveMetadata(declaredType,!1))_this._addDirectiveToModule(declaredDirMeta,moduleType,transitiveModule_1,declaredDirectives_1,!0);else{if(!(declaredPipeMeta=_this.getPipeMetadata(declaredType,!1)))throw new Error("Unexpected "+_this._getTypeDescriptor(declaredType)+" '"+stringify(declaredType)+"' declared by the module '"+stringify(moduleType)+"'");_this._addPipeToModule(declaredPipeMeta,moduleType,transitiveModule_1,declaredPipes_1,!0)}}),meta.providers&&providers_1.push.apply(providers_1,this.getProvidersMetadata(meta.providers,entryComponents_1,"provider for the NgModule '"+stringify(moduleType)+"'")),meta.entryComponents&&entryComponents_1.push.apply(entryComponents_1,flattenArray(meta.entryComponents).map(function(type){return _this.getTypeMetadata(type,staticTypeModuleUrl(type))})),meta.bootstrap){var typeMetadata=flattenArray(meta.bootstrap).map(function(type){if(!isValidType(type))throw new Error("Unexpected value '"+stringify(type)+"' used in the bootstrap property of module '"+stringify(moduleType)+"'");return _this.getTypeMetadata(type,staticTypeModuleUrl(type))});bootstrapComponents.push.apply(bootstrapComponents,typeMetadata)}entryComponents_1.push.apply(entryComponents_1,bootstrapComponents),meta.schemas&&schemas.push.apply(schemas,flattenArray(meta.schemas)),(_a=transitiveModule_1.entryComponents).push.apply(_a,entryComponents_1),(_b=transitiveModule_1.providers).push.apply(_b,providers_1),compileMeta=new CompileNgModuleMetadata({type:this.getTypeMetadata(moduleType,staticTypeModuleUrl(moduleType)),providers:providers_1,entryComponents:entryComponents_1,bootstrapComponents:bootstrapComponents,schemas:schemas,declaredDirectives:declaredDirectives_1,exportedDirectives:exportedDirectives_1,declaredPipes:declaredPipes_1,exportedPipes:exportedPipes_1,importedModules:importedModules_1,exportedModules:exportedModules_1,transitiveModule:transitiveModule_1,id:meta.id}),transitiveModule_1.modules.push(compileMeta),this._verifyModule(compileMeta),this._ngModuleCache.set(moduleType,compileMeta)}return compileMeta;var _a,_b},CompileMetadataResolver.prototype._verifyModule=function(moduleMeta){moduleMeta.exportedDirectives.forEach(function(dirMeta){if(!moduleMeta.transitiveModule.directivesSet.has(dirMeta.type.reference))throw new Error("Can't export directive "+stringify(dirMeta.type.reference)+" from "+stringify(moduleMeta.type.reference)+" as it was neither declared nor imported!")}),moduleMeta.exportedPipes.forEach(function(pipeMeta){if(!moduleMeta.transitiveModule.pipesSet.has(pipeMeta.type.reference))throw new Error("Can't export pipe "+stringify(pipeMeta.type.reference)+" from "+stringify(moduleMeta.type.reference)+" as it was neither declared nor imported!")})},CompileMetadataResolver.prototype._getTypeDescriptor=function(type){return null!==this._directiveResolver.resolve(type,!1)?"directive":null!==this._pipeResolver.resolve(type,!1)?"pipe":null!==this._ngModuleResolver.resolve(type,!1)?"module":type.provide?"provider":"value"},CompileMetadataResolver.prototype._addTypeToModule=function(type,moduleType){var oldModule=this._ngModuleOfTypes.get(type);if(oldModule&&oldModule!==moduleType)throw new Error("Type "+stringify(type)+" is part of the declarations of 2 modules: "+stringify(oldModule)+" and "+stringify(moduleType)+"! "+("Please consider moving "+stringify(type)+" to a higher module that imports "+stringify(oldModule)+" and "+stringify(moduleType)+". ")+("You can also create a new NgModule that exports and includes "+stringify(type)+" then import that NgModule in "+stringify(oldModule)+" and "+stringify(moduleType)+"."));this._ngModuleOfTypes.set(type,moduleType)},CompileMetadataResolver.prototype._getTransitiveNgModuleMetadata=function(importedModules,exportedModules){var transitiveModules=getTransitiveModules(importedModules.concat(exportedModules),!0),providers=flattenArray(transitiveModules.map(function(ngModule){return ngModule.providers})),entryComponents=flattenArray(transitiveModules.map(function(ngModule){return ngModule.entryComponents})),transitiveExportedModules=getTransitiveModules(importedModules,!1),directives=flattenArray(transitiveExportedModules.map(function(ngModule){return ngModule.exportedDirectives})),pipes=flattenArray(transitiveExportedModules.map(function(ngModule){return ngModule.exportedPipes}));return new TransitiveCompileNgModuleMetadata(transitiveModules,providers,entryComponents,directives,pipes)},CompileMetadataResolver.prototype._addDirectiveToModule=function(dirMeta,moduleType,transitiveModule,declaredDirectives,force){return void 0===force&&(force=!1),force||!transitiveModule.directivesSet.has(dirMeta.type.reference)?(transitiveModule.directivesSet.add(dirMeta.type.reference),transitiveModule.directives.push(dirMeta),declaredDirectives.push(dirMeta),this._addTypeToModule(dirMeta.type.reference,moduleType),!0):!1},CompileMetadataResolver.prototype._addPipeToModule=function(pipeMeta,moduleType,transitiveModule,declaredPipes,force){return void 0===force&&(force=!1),force||!transitiveModule.pipesSet.has(pipeMeta.type.reference)?(transitiveModule.pipesSet.add(pipeMeta.type.reference),transitiveModule.pipes.push(pipeMeta),declaredPipes.push(pipeMeta),this._addTypeToModule(pipeMeta.type.reference,moduleType),!0):!1},CompileMetadataResolver.prototype.getTypeMetadata=function(type,moduleUrl,dependencies){return void 0===dependencies&&(dependencies=null),type=_angular_core.resolveForwardRef(type),new CompileTypeMetadata({name:this.sanitizeTokenName(type),moduleUrl:moduleUrl,reference:type,diDeps:this.getDependenciesMetadata(type,dependencies),lifecycleHooks:LIFECYCLE_HOOKS_VALUES.filter(function(hook){return hasLifecycleHook(hook,type)})})},CompileMetadataResolver.prototype.getFactoryMetadata=function(factory,moduleUrl,dependencies){return void 0===dependencies&&(dependencies=null),factory=_angular_core.resolveForwardRef(factory),new CompileFactoryMetadata({name:this.sanitizeTokenName(factory),moduleUrl:moduleUrl,reference:factory,diDeps:this.getDependenciesMetadata(factory,dependencies)})},CompileMetadataResolver.prototype.getPipeMetadata=function(pipeType,throwIfNotFound){void 0===throwIfNotFound&&(throwIfNotFound=!0),pipeType=_angular_core.resolveForwardRef(pipeType);var meta=this._pipeCache.get(pipeType);if(!meta){var pipeMeta=this._pipeResolver.resolve(pipeType,throwIfNotFound);if(!pipeMeta)return null;meta=new CompilePipeMetadata({type:this.getTypeMetadata(pipeType,staticTypeModuleUrl(pipeType)),name:pipeMeta.name,pure:pipeMeta.pure}),this._pipeCache.set(pipeType,meta)}return meta},CompileMetadataResolver.prototype.getDependenciesMetadata=function(typeOrFunc,dependencies){var _this=this,hasUnknownDeps=!1,params=dependencies||this._reflector.parameters(typeOrFunc)||[],dependenciesMetadata=params.map(function(param){var isAttribute=!1,isHost=!1,isSelf=!1,isSkipSelf=!1,isOptional=!1,query=null,viewQuery=null,token=null;return Array.isArray(param)?param.forEach(function(paramEntry){paramEntry instanceof _angular_core.Host?isHost=!0:paramEntry instanceof _angular_core.Self?isSelf=!0:paramEntry instanceof _angular_core.SkipSelf?isSkipSelf=!0:paramEntry instanceof _angular_core.Optional?isOptional=!0:paramEntry instanceof _angular_core.Attribute?(isAttribute=!0,token=paramEntry.attributeName):paramEntry instanceof _angular_core.Query?paramEntry.isViewQuery?viewQuery=paramEntry:query=paramEntry:paramEntry instanceof _angular_core.Inject?token=paramEntry.token:isValidType(paramEntry)&&isBlank(token)&&(token=paramEntry)}):token=param,isBlank(token)?(hasUnknownDeps=!0,null):new CompileDiDependencyMetadata({isAttribute:isAttribute,isHost:isHost,isSelf:isSelf,isSkipSelf:isSkipSelf,isOptional:isOptional,query:query?_this.getQueryMetadata(query,null,typeOrFunc):null,viewQuery:viewQuery?_this.getQueryMetadata(viewQuery,null,typeOrFunc):null,token:_this.getTokenMetadata(token)})});if(hasUnknownDeps){var depsTokens=dependenciesMetadata.map(function(dep){return dep?stringify(dep.token):"?"}).join(", ");throw new Error("Can't resolve all parameters for "+stringify(typeOrFunc)+": ("+depsTokens+").")}return dependenciesMetadata},CompileMetadataResolver.prototype.getTokenMetadata=function(token){token=_angular_core.resolveForwardRef(token);var compileToken;return compileToken=new CompileTokenMetadata("string"==typeof token?{value:token}:{identifier:new CompileIdentifierMetadata({reference:token,name:this.sanitizeTokenName(token),moduleUrl:staticTypeModuleUrl(token)})})},CompileMetadataResolver.prototype.getProvidersMetadata=function(providers,targetEntryComponents,debugInfo){var _this=this,compileProviders=[];return providers.forEach(function(provider,providerIdx){provider=_angular_core.resolveForwardRef(provider),provider&&"object"==typeof provider&&provider.hasOwnProperty("provide")&&(provider=new ProviderMeta(provider.provide,provider));var compileProvider;if(Array.isArray(provider))compileProvider=_this.getProvidersMetadata(provider,targetEntryComponents,debugInfo);else if(provider instanceof ProviderMeta){var tokenMeta=_this.getTokenMetadata(provider.token);tokenMeta.reference===resolveIdentifierToken(Identifiers.ANALYZE_FOR_ENTRY_COMPONENTS).reference?targetEntryComponents.push.apply(targetEntryComponents,_this._getEntryComponentsFromProvider(provider)):compileProvider=_this.getProviderMetadata(provider)}else{if(!isValidType(provider)){var providersInfo=providers.reduce(function(soFar,seenProvider,seenProviderIdx){return providerIdx>seenProviderIdx?soFar.push(""+stringify(seenProvider)):seenProviderIdx==providerIdx?soFar.push("?"+stringify(seenProvider)+"?"):seenProviderIdx==providerIdx+1&&soFar.push("..."),soFar},[]).join(", ");throw new Error("Invalid "+(debugInfo?debugInfo:"provider")+" - only instances of Provider and Type are allowed, got: ["+providersInfo+"]")}compileProvider=_this.getTypeMetadata(provider,staticTypeModuleUrl(provider))}compileProvider&&compileProviders.push(compileProvider)}),compileProviders},CompileMetadataResolver.prototype._getEntryComponentsFromProvider=function(provider){var _this=this,components=[],collectedIdentifiers=[];if(provider.useFactory||provider.useExisting||provider.useClass)throw new Error("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!");if(!provider.multi)throw new Error("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!");return convertToCompileValue(provider.useValue,collectedIdentifiers),collectedIdentifiers.forEach(function(identifier){var dirMeta=_this.getDirectiveMetadata(identifier.reference,!1);dirMeta&&components.push(dirMeta.type)}),components},CompileMetadataResolver.prototype.getProviderMetadata=function(provider){var compileDeps,compileTypeMetadata=null,compileFactoryMetadata=null;return provider.useClass?(compileTypeMetadata=this.getTypeMetadata(provider.useClass,staticTypeModuleUrl(provider.useClass),provider.dependencies),compileDeps=compileTypeMetadata.diDeps):provider.useFactory&&(compileFactoryMetadata=this.getFactoryMetadata(provider.useFactory,staticTypeModuleUrl(provider.useFactory),provider.dependencies),compileDeps=compileFactoryMetadata.diDeps),new CompileProviderMetadata({token:this.getTokenMetadata(provider.token),useClass:compileTypeMetadata,useValue:convertToCompileValue(provider.useValue,[]),useFactory:compileFactoryMetadata,useExisting:provider.useExisting?this.getTokenMetadata(provider.useExisting):null,deps:compileDeps,multi:provider.multi})},CompileMetadataResolver.prototype.getQueriesMetadata=function(queries,isViewQuery,directiveType){var _this=this,res=[];return Object.keys(queries).forEach(function(propertyName){var query=queries[propertyName];query.isViewQuery===isViewQuery&&res.push(_this.getQueryMetadata(query,propertyName,directiveType))}),res},CompileMetadataResolver.prototype._queryVarBindings=function(selector){return selector.split(/\s*,\s*/)},CompileMetadataResolver.prototype.getQueryMetadata=function(q,propertyName,typeOrFunc){var selectors,_this=this;if("string"==typeof q.selector)selectors=this._queryVarBindings(q.selector).map(function(varName){return _this.getTokenMetadata(varName)});else{if(!q.selector)throw new Error("Can't construct a query for the property \""+propertyName+'" of "'+stringify(typeOrFunc)+"\" since the query selector wasn't defined.");selectors=[this.getTokenMetadata(q.selector)]}return new CompileQueryMetadata({selectors:selectors,first:q.first,descendants:q.descendants,propertyName:propertyName,read:q.read?this.getTokenMetadata(q.read):null})},CompileMetadataResolver.decorators=[{type:_angular_core.Injectable}],CompileMetadataResolver.ctorParameters=[{type:NgModuleResolver},{type:DirectiveResolver},{type:PipeResolver},{type:ElementSchemaRegistry},{type:ReflectorReader}],CompileMetadataResolver}(),_CompileValueConverter=function(_super){function _CompileValueConverter(){_super.apply(this,arguments)}return __extends$16(_CompileValueConverter,_super),_CompileValueConverter.prototype.visitOther=function(value,targetIdentifiers){var identifier;return identifier=new CompileIdentifierMetadata(isStaticSymbol(value)?{name:value.name,moduleUrl:value.filePath,reference:value}:{reference:value}),targetIdentifiers.push(identifier),identifier},_CompileValueConverter}(ValueTransformer),ComponentFactoryDependency$1=function(){function ComponentFactoryDependency(comp,placeholder){this.comp=comp,this.placeholder=placeholder}return ComponentFactoryDependency}(),NgModuleCompileResult=function(){function NgModuleCompileResult(statements,ngModuleFactoryVar,dependencies){this.statements=statements,this.ngModuleFactoryVar=ngModuleFactoryVar,this.dependencies=dependencies}return NgModuleCompileResult}(),NgModuleCompiler=function(){function NgModuleCompiler(){}return NgModuleCompiler.prototype.compile=function(ngModuleMeta,extraProviders){var sourceFileName=isPresent(ngModuleMeta.type.moduleUrl)?"in NgModule "+ngModuleMeta.type.name+" in "+ngModuleMeta.type.moduleUrl:"in NgModule "+ngModuleMeta.type.name,sourceFile=new ParseSourceFile("",sourceFileName),sourceSpan=new ParseSourceSpan(new ParseLocation(sourceFile,null,null,null),new ParseLocation(sourceFile,null,null,null)),deps=[],bootstrapComponentFactories=[],entryComponentFactories=ngModuleMeta.transitiveModule.entryComponents.map(function(entryComponent){var id=new CompileIdentifierMetadata({name:entryComponent.name});return ngModuleMeta.bootstrapComponents.indexOf(entryComponent)>-1&&bootstrapComponentFactories.push(id),deps.push(new ComponentFactoryDependency$1(entryComponent,id)),id}),builder=new _InjectorBuilder(ngModuleMeta,entryComponentFactories,bootstrapComponentFactories,sourceSpan),providerParser=new NgModuleProviderAnalyzer(ngModuleMeta,extraProviders,sourceSpan);providerParser.parse().forEach(function(provider){return builder.addProvider(provider)});var injectorClass=builder.build(),ngModuleFactoryVar=ngModuleMeta.type.name+"NgFactory",ngModuleFactoryStmt=variable(ngModuleFactoryVar).set(importExpr(resolveIdentifier(Identifiers.NgModuleFactory)).instantiate([variable(injectorClass.name),importExpr(ngModuleMeta.type)],importType(resolveIdentifier(Identifiers.NgModuleFactory),[importType(ngModuleMeta.type)],[TypeModifier.Const]))).toDeclStmt(null,[StmtModifier.Final]),stmts=[injectorClass,ngModuleFactoryStmt];if(ngModuleMeta.id){var registerFactoryStmt=importExpr(resolveIdentifier(Identifiers.RegisterModuleFactoryFn)).callFn([literal(ngModuleMeta.id),variable(ngModuleFactoryVar)]).toStmt();stmts.push(registerFactoryStmt)}return new NgModuleCompileResult(stmts,ngModuleFactoryVar,deps)},NgModuleCompiler.decorators=[{type:_angular_core.Injectable}],NgModuleCompiler.ctorParameters=[],NgModuleCompiler}(),_InjectorBuilder=function(){function _InjectorBuilder(_ngModuleMeta,_entryComponentFactories,_bootstrapComponentFactories,_sourceSpan){this._ngModuleMeta=_ngModuleMeta,this._entryComponentFactories=_entryComponentFactories,this._bootstrapComponentFactories=_bootstrapComponentFactories,this._sourceSpan=_sourceSpan,this._tokens=[],this._instances=new Map,this._fields=[],this._createStmts=[],this._destroyStmts=[],this._getters=[]}return _InjectorBuilder.prototype.addProvider=function(resolvedProvider){var _this=this,providerValueExpressions=resolvedProvider.providers.map(function(provider){return _this._getProviderValue(provider)}),propName="_"+resolvedProvider.token.name+"_"+this._instances.size,instance=this._createProviderProperty(propName,resolvedProvider,providerValueExpressions,resolvedProvider.multiProvider,resolvedProvider.eager);-1!==resolvedProvider.lifecycleHooks.indexOf(LifecycleHooks.OnDestroy)&&this._destroyStmts.push(instance.callMethod("ngOnDestroy",[]).toStmt()),this._tokens.push(resolvedProvider.token),this._instances.set(resolvedProvider.token.reference,instance)},_InjectorBuilder.prototype.build=function(){var _this=this,getMethodStmts=this._tokens.map(function(token){var providerExpr=_this._instances.get(token.reference);return new IfStmt(InjectMethodVars$1.token.identical(createDiTokenExpression(token)),[new ReturnStatement(providerExpr)])}),methods=[new ClassMethod("createInternal",[],this._createStmts.concat(new ReturnStatement(this._instances.get(this._ngModuleMeta.type.reference))),importType(this._ngModuleMeta.type)),new ClassMethod("getInternal",[new FnParam(InjectMethodVars$1.token.name,DYNAMIC_TYPE),new FnParam(InjectMethodVars$1.notFoundResult.name,DYNAMIC_TYPE)],getMethodStmts.concat([new ReturnStatement(InjectMethodVars$1.notFoundResult)]),DYNAMIC_TYPE),new ClassMethod("destroyInternal",[],this._destroyStmts)],ctor=new ClassMethod(null,[new FnParam(InjectorProps.parent.name,importType(resolveIdentifier(Identifiers.Injector)))],[SUPER_EXPR.callFn([variable(InjectorProps.parent.name),literalArr(this._entryComponentFactories.map(function(componentFactory){return importExpr(componentFactory)})),literalArr(this._bootstrapComponentFactories.map(function(componentFactory){return importExpr(componentFactory)}))]).toStmt()]),injClassName=this._ngModuleMeta.type.name+"Injector";return new ClassStmt(injClassName,importExpr(resolveIdentifier(Identifiers.NgModuleInjector),[importType(this._ngModuleMeta.type)]),this._fields,this._getters,ctor,methods)},_InjectorBuilder.prototype._getProviderValue=function(provider){var result,_this=this;if(isPresent(provider.useExisting))result=this._getDependency(new CompileDiDependencyMetadata({token:provider.useExisting}));else if(isPresent(provider.useFactory)){var deps=provider.deps||provider.useFactory.diDeps,depsExpr=deps.map(function(dep){return _this._getDependency(dep)});result=importExpr(provider.useFactory).callFn(depsExpr)}else if(isPresent(provider.useClass)){var deps=provider.deps||provider.useClass.diDeps,depsExpr=deps.map(function(dep){return _this._getDependency(dep)});result=importExpr(provider.useClass).instantiate(depsExpr,importType(provider.useClass))}else result=convertValueToOutputAst(provider.useValue);return result},_InjectorBuilder.prototype._createProviderProperty=function(propName,provider,providerValueExpressions,isMulti,isEager){var resolvedProviderValueExpr,type;if(isMulti?(resolvedProviderValueExpr=literalArr(providerValueExpressions),type=new ArrayType(DYNAMIC_TYPE)):(resolvedProviderValueExpr=providerValueExpressions[0],type=providerValueExpressions[0].type),type||(type=DYNAMIC_TYPE),isEager)this._fields.push(new ClassField(propName,type)),this._createStmts.push(THIS_EXPR.prop(propName).set(resolvedProviderValueExpr).toStmt());else{var internalField="_"+propName;this._fields.push(new ClassField(internalField,type));var getterStmts=[new IfStmt(THIS_EXPR.prop(internalField).isBlank(),[THIS_EXPR.prop(internalField).set(resolvedProviderValueExpr).toStmt()]),new ReturnStatement(THIS_EXPR.prop(internalField))];this._getters.push(new ClassGetter(propName,getterStmts,type))}return THIS_EXPR.prop(propName)},_InjectorBuilder.prototype._getDependency=function(dep){var result=null;if(dep.isValue&&(result=literal(dep.value)),dep.isSkipSelf||(!dep.token||dep.token.reference!==resolveIdentifierToken(Identifiers.Injector).reference&&dep.token.reference!==resolveIdentifierToken(Identifiers.ComponentFactoryResolver).reference||(result=THIS_EXPR),result||(result=this._instances.get(dep.token.reference))),!result){var args=[createDiTokenExpression(dep.token)];dep.isOptional&&args.push(NULL_EXPR),result=InjectorProps.parent.callMethod("get",args)}return result},_InjectorBuilder}(),InjectorProps=function(){function InjectorProps(){}return InjectorProps.parent=THIS_EXPR.prop("parent"),InjectorProps}(),InjectMethodVars$1=function(){function InjectMethodVars(){}return InjectMethodVars.token=variable("token"),InjectMethodVars.notFoundResult=variable("notFoundResult"),InjectMethodVars}(),_SINGLE_QUOTE_ESCAPE_STRING_RE=/'|\\|\n|\r|\$/g,_LEGAL_IDENTIFIER_RE=/^[$A-Z_][0-9A-Z_$]*$/i,CATCH_ERROR_VAR$2=variable("error"),CATCH_STACK_VAR$2=variable("stack"),_EmittedLine=function(){function _EmittedLine(indent){this.indent=indent,this.parts=[]}return _EmittedLine}(),EmitterVisitorContext=function(){function EmitterVisitorContext(_exportedVars,_indent){this._exportedVars=_exportedVars,this._indent=_indent,this._classes=[],this._lines=[new _EmittedLine(_indent)]}return EmitterVisitorContext.createRoot=function(exportedVars){return new EmitterVisitorContext(exportedVars,0)},Object.defineProperty(EmitterVisitorContext.prototype,"_currentLine",{
get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),EmitterVisitorContext.prototype.isExportedVar=function(varName){return-1!==this._exportedVars.indexOf(varName)},EmitterVisitorContext.prototype.println=function(lastPart){void 0===lastPart&&(lastPart=""),this.print(lastPart,!0)},EmitterVisitorContext.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},EmitterVisitorContext.prototype.print=function(part,newLine){void 0===newLine&&(newLine=!1),part.length>0&&this._currentLine.parts.push(part),newLine&&this._lines.push(new _EmittedLine(this._indent))},EmitterVisitorContext.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},EmitterVisitorContext.prototype.incIndent=function(){this._indent++,this._currentLine.indent=this._indent},EmitterVisitorContext.prototype.decIndent=function(){this._indent--,this._currentLine.indent=this._indent},EmitterVisitorContext.prototype.pushClass=function(clazz){this._classes.push(clazz)},EmitterVisitorContext.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(EmitterVisitorContext.prototype,"currentClass",{get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),EmitterVisitorContext.prototype.toSource=function(){var lines=this._lines;return 0===lines[lines.length-1].parts.length&&(lines=lines.slice(0,lines.length-1)),lines.map(function(line){return line.parts.length>0?_createIndent(line.indent)+line.parts.join(""):""}).join("\n")},EmitterVisitorContext}(),AbstractEmitterVisitor=function(){function AbstractEmitterVisitor(_escapeDollarInStrings){this._escapeDollarInStrings=_escapeDollarInStrings}return AbstractEmitterVisitor.prototype.visitExpressionStmt=function(stmt,ctx){return stmt.expr.visitExpression(this,ctx),ctx.println(";"),null},AbstractEmitterVisitor.prototype.visitReturnStmt=function(stmt,ctx){return ctx.print("return "),stmt.value.visitExpression(this,ctx),ctx.println(";"),null},AbstractEmitterVisitor.prototype.visitIfStmt=function(stmt,ctx){ctx.print("if ("),stmt.condition.visitExpression(this,ctx),ctx.print(") {");var hasElseCase=isPresent(stmt.falseCase)&&stmt.falseCase.length>0;return stmt.trueCase.length<=1&&!hasElseCase?(ctx.print(" "),this.visitAllStatements(stmt.trueCase,ctx),ctx.removeEmptyLastLine(),ctx.print(" ")):(ctx.println(),ctx.incIndent(),this.visitAllStatements(stmt.trueCase,ctx),ctx.decIndent(),hasElseCase&&(ctx.println("} else {"),ctx.incIndent(),this.visitAllStatements(stmt.falseCase,ctx),ctx.decIndent())),ctx.println("}"),null},AbstractEmitterVisitor.prototype.visitThrowStmt=function(stmt,ctx){return ctx.print("throw "),stmt.error.visitExpression(this,ctx),ctx.println(";"),null},AbstractEmitterVisitor.prototype.visitCommentStmt=function(stmt,ctx){var lines=stmt.comment.split("\n");return lines.forEach(function(line){ctx.println("// "+line)}),null},AbstractEmitterVisitor.prototype.visitWriteVarExpr=function(expr,ctx){var lineWasEmpty=ctx.lineIsEmpty();return lineWasEmpty||ctx.print("("),ctx.print(expr.name+" = "),expr.value.visitExpression(this,ctx),lineWasEmpty||ctx.print(")"),null},AbstractEmitterVisitor.prototype.visitWriteKeyExpr=function(expr,ctx){var lineWasEmpty=ctx.lineIsEmpty();return lineWasEmpty||ctx.print("("),expr.receiver.visitExpression(this,ctx),ctx.print("["),expr.index.visitExpression(this,ctx),ctx.print("] = "),expr.value.visitExpression(this,ctx),lineWasEmpty||ctx.print(")"),null},AbstractEmitterVisitor.prototype.visitWritePropExpr=function(expr,ctx){var lineWasEmpty=ctx.lineIsEmpty();return lineWasEmpty||ctx.print("("),expr.receiver.visitExpression(this,ctx),ctx.print("."+expr.name+" = "),expr.value.visitExpression(this,ctx),lineWasEmpty||ctx.print(")"),null},AbstractEmitterVisitor.prototype.visitInvokeMethodExpr=function(expr,ctx){expr.receiver.visitExpression(this,ctx);var name=expr.name;return isPresent(expr.builtin)&&(name=this.getBuiltinMethodName(expr.builtin),isBlank(name))?null:(ctx.print("."+name+"("),this.visitAllExpressions(expr.args,ctx,","),ctx.print(")"),null)},AbstractEmitterVisitor.prototype.visitInvokeFunctionExpr=function(expr,ctx){return expr.fn.visitExpression(this,ctx),ctx.print("("),this.visitAllExpressions(expr.args,ctx,","),ctx.print(")"),null},AbstractEmitterVisitor.prototype.visitReadVarExpr=function(ast,ctx){var varName=ast.name;if(isPresent(ast.builtin))switch(ast.builtin){case BuiltinVar.Super:varName="super";break;case BuiltinVar.This:varName="this";break;case BuiltinVar.CatchError:varName=CATCH_ERROR_VAR$2.name;break;case BuiltinVar.CatchStack:varName=CATCH_STACK_VAR$2.name;break;default:throw new Error("Unknown builtin variable "+ast.builtin)}return ctx.print(varName),null},AbstractEmitterVisitor.prototype.visitInstantiateExpr=function(ast,ctx){return ctx.print("new "),ast.classExpr.visitExpression(this,ctx),ctx.print("("),this.visitAllExpressions(ast.args,ctx,","),ctx.print(")"),null},AbstractEmitterVisitor.prototype.visitLiteralExpr=function(ast,ctx,absentValue){void 0===absentValue&&(absentValue="null");var value=ast.value;return"string"==typeof value?ctx.print(escapeIdentifier(value,this._escapeDollarInStrings)):isBlank(value)?ctx.print(absentValue):ctx.print(""+value),null},AbstractEmitterVisitor.prototype.visitConditionalExpr=function(ast,ctx){return ctx.print("("),ast.condition.visitExpression(this,ctx),ctx.print("? "),ast.trueCase.visitExpression(this,ctx),ctx.print(": "),ast.falseCase.visitExpression(this,ctx),ctx.print(")"),null},AbstractEmitterVisitor.prototype.visitNotExpr=function(ast,ctx){return ctx.print("!"),ast.condition.visitExpression(this,ctx),null},AbstractEmitterVisitor.prototype.visitBinaryOperatorExpr=function(ast,ctx){var opStr;switch(ast.operator){case BinaryOperator.Equals:opStr="==";break;case BinaryOperator.Identical:opStr="===";break;case BinaryOperator.NotEquals:opStr="!=";break;case BinaryOperator.NotIdentical:opStr="!==";break;case BinaryOperator.And:opStr="&&";break;case BinaryOperator.Or:opStr="||";break;case BinaryOperator.Plus:opStr="+";break;case BinaryOperator.Minus:opStr="-";break;case BinaryOperator.Divide:opStr="/";break;case BinaryOperator.Multiply:opStr="*";break;case BinaryOperator.Modulo:opStr="%";break;case BinaryOperator.Lower:opStr="<";break;case BinaryOperator.LowerEquals:opStr="<=";break;case BinaryOperator.Bigger:opStr=">";break;case BinaryOperator.BiggerEquals:opStr=">=";break;default:throw new Error("Unknown operator "+ast.operator)}return ctx.print("("),ast.lhs.visitExpression(this,ctx),ctx.print(" "+opStr+" "),ast.rhs.visitExpression(this,ctx),ctx.print(")"),null},AbstractEmitterVisitor.prototype.visitReadPropExpr=function(ast,ctx){return ast.receiver.visitExpression(this,ctx),ctx.print("."),ctx.print(ast.name),null},AbstractEmitterVisitor.prototype.visitReadKeyExpr=function(ast,ctx){return ast.receiver.visitExpression(this,ctx),ctx.print("["),ast.index.visitExpression(this,ctx),ctx.print("]"),null},AbstractEmitterVisitor.prototype.visitLiteralArrayExpr=function(ast,ctx){var useNewLine=ast.entries.length>1;return ctx.print("[",useNewLine),ctx.incIndent(),this.visitAllExpressions(ast.entries,ctx,",",useNewLine),ctx.decIndent(),ctx.print("]",useNewLine),null},AbstractEmitterVisitor.prototype.visitLiteralMapExpr=function(ast,ctx){var _this=this,useNewLine=ast.entries.length>1;return ctx.print("{",useNewLine),ctx.incIndent(),this.visitAllObjects(function(entry){ctx.print(escapeIdentifier(entry[0],_this._escapeDollarInStrings,!1)+": "),entry[1].visitExpression(_this,ctx)},ast.entries,ctx,",",useNewLine),ctx.decIndent(),ctx.print("}",useNewLine),null},AbstractEmitterVisitor.prototype.visitAllExpressions=function(expressions,ctx,separator,newLine){var _this=this;void 0===newLine&&(newLine=!1),this.visitAllObjects(function(expr){return expr.visitExpression(_this,ctx)},expressions,ctx,separator,newLine)},AbstractEmitterVisitor.prototype.visitAllObjects=function(handler,expressions,ctx,separator,newLine){void 0===newLine&&(newLine=!1);for(var i=0;i<expressions.length;i++)i>0&&ctx.print(separator,newLine),handler(expressions[i]);newLine&&ctx.println()},AbstractEmitterVisitor.prototype.visitAllStatements=function(statements,ctx){var _this=this;statements.forEach(function(stmt){return stmt.visitStatement(_this,ctx)})},AbstractEmitterVisitor}(),__extends$17=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},_debugModuleUrl="asset://debug/lib",TypeScriptEmitter=function(){function TypeScriptEmitter(_importGenerator){this._importGenerator=_importGenerator}return TypeScriptEmitter.prototype.emitStatements=function(moduleUrl,stmts,exportedVars){var _this=this,converter=new _TsEmitterVisitor(moduleUrl),ctx=EmitterVisitorContext.createRoot(exportedVars);converter.visitAllStatements(stmts,ctx);var srcParts=[];return converter.importsWithPrefixes.forEach(function(prefix,importedModuleUrl){srcParts.push("imp"+("ort * as "+prefix+" from '"+_this._importGenerator.getImportPath(moduleUrl,importedModuleUrl)+"';"))}),srcParts.push(ctx.toSource()),srcParts.join("\n")},TypeScriptEmitter}(),_TsEmitterVisitor=function(_super){function _TsEmitterVisitor(_moduleUrl){_super.call(this,!1),this._moduleUrl=_moduleUrl,this.importsWithPrefixes=new Map}return __extends$17(_TsEmitterVisitor,_super),_TsEmitterVisitor.prototype.visitType=function(t,ctx,defaultType){void 0===defaultType&&(defaultType="any"),isPresent(t)?t.visitType(this,ctx):ctx.print(defaultType)},_TsEmitterVisitor.prototype.visitLiteralExpr=function(ast,ctx){_super.prototype.visitLiteralExpr.call(this,ast,ctx,"(null as any)")},_TsEmitterVisitor.prototype.visitLiteralArrayExpr=function(ast,ctx){0===ast.entries.length&&ctx.print("(");var result=_super.prototype.visitLiteralArrayExpr.call(this,ast,ctx);return 0===ast.entries.length&&ctx.print(" as any[])"),result},_TsEmitterVisitor.prototype.visitExternalExpr=function(ast,ctx){return this._visitIdentifier(ast.value,ast.typeParams,ctx),null},_TsEmitterVisitor.prototype.visitDeclareVarStmt=function(stmt,ctx){return ctx.isExportedVar(stmt.name)&&ctx.print("export "),stmt.hasModifier(StmtModifier.Final)?ctx.print("const"):ctx.print("var"),ctx.print(" "+stmt.name+":"),this.visitType(stmt.type,ctx),ctx.print(" = "),stmt.value.visitExpression(this,ctx),ctx.println(";"),null},_TsEmitterVisitor.prototype.visitCastExpr=function(ast,ctx){return ctx.print("(<"),ast.type.visitType(this,ctx),ctx.print(">"),ast.value.visitExpression(this,ctx),ctx.print(")"),null},_TsEmitterVisitor.prototype.visitDeclareClassStmt=function(stmt,ctx){var _this=this;return ctx.pushClass(stmt),ctx.isExportedVar(stmt.name)&&ctx.print("export "),ctx.print("class "+stmt.name),isPresent(stmt.parent)&&(ctx.print(" extends "),stmt.parent.visitExpression(this,ctx)),ctx.println(" {"),ctx.incIndent(),stmt.fields.forEach(function(field){return _this._visitClassField(field,ctx)}),isPresent(stmt.constructorMethod)&&this._visitClassConstructor(stmt,ctx),stmt.getters.forEach(function(getter){return _this._visitClassGetter(getter,ctx)}),stmt.methods.forEach(function(method){return _this._visitClassMethod(method,ctx)}),ctx.decIndent(),ctx.println("}"),ctx.popClass(),null},_TsEmitterVisitor.prototype._visitClassField=function(field,ctx){field.hasModifier(StmtModifier.Private)&&ctx.print("/*private*/ "),ctx.print(field.name),ctx.print(":"),this.visitType(field.type,ctx),ctx.println(";")},_TsEmitterVisitor.prototype._visitClassGetter=function(getter,ctx){getter.hasModifier(StmtModifier.Private)&&ctx.print("private "),ctx.print("get "+getter.name+"()"),ctx.print(":"),this.visitType(getter.type,ctx),ctx.println(" {"),ctx.incIndent(),this.visitAllStatements(getter.body,ctx),ctx.decIndent(),ctx.println("}")},_TsEmitterVisitor.prototype._visitClassConstructor=function(stmt,ctx){ctx.print("constructor("),this._visitParams(stmt.constructorMethod.params,ctx),ctx.println(") {"),ctx.incIndent(),this.visitAllStatements(stmt.constructorMethod.body,ctx),ctx.decIndent(),ctx.println("}")},_TsEmitterVisitor.prototype._visitClassMethod=function(method,ctx){method.hasModifier(StmtModifier.Private)&&ctx.print("private "),ctx.print(method.name+"("),this._visitParams(method.params,ctx),ctx.print("):"),this.visitType(method.type,ctx,"void"),ctx.println(" {"),ctx.incIndent(),this.visitAllStatements(method.body,ctx),ctx.decIndent(),ctx.println("}")},_TsEmitterVisitor.prototype.visitFunctionExpr=function(ast,ctx){return ctx.print("("),this._visitParams(ast.params,ctx),ctx.print("):"),this.visitType(ast.type,ctx,"void"),ctx.println(" => {"),ctx.incIndent(),this.visitAllStatements(ast.statements,ctx),ctx.decIndent(),ctx.print("}"),null},_TsEmitterVisitor.prototype.visitDeclareFunctionStmt=function(stmt,ctx){return ctx.isExportedVar(stmt.name)&&ctx.print("export "),ctx.print("function "+stmt.name+"("),this._visitParams(stmt.params,ctx),ctx.print("):"),this.visitType(stmt.type,ctx,"void"),ctx.println(" {"),ctx.incIndent(),this.visitAllStatements(stmt.statements,ctx),ctx.decIndent(),ctx.println("}"),null},_TsEmitterVisitor.prototype.visitTryCatchStmt=function(stmt,ctx){ctx.println("try {"),ctx.incIndent(),this.visitAllStatements(stmt.bodyStmts,ctx),ctx.decIndent(),ctx.println("} catch ("+CATCH_ERROR_VAR$2.name+") {"),ctx.incIndent();var catchStmts=[CATCH_STACK_VAR$2.set(CATCH_ERROR_VAR$2.prop("stack")).toDeclStmt(null,[StmtModifier.Final])].concat(stmt.catchStmts);return this.visitAllStatements(catchStmts,ctx),ctx.decIndent(),ctx.println("}"),null},_TsEmitterVisitor.prototype.visitBuiltintType=function(type,ctx){var typeStr;switch(type.name){case BuiltinTypeName.Bool:typeStr="boolean";break;case BuiltinTypeName.Dynamic:typeStr="any";break;case BuiltinTypeName.Function:typeStr="Function";break;case BuiltinTypeName.Number:typeStr="number";break;case BuiltinTypeName.Int:typeStr="number";break;case BuiltinTypeName.String:typeStr="string";break;default:throw new Error("Unsupported builtin type "+type.name)}return ctx.print(typeStr),null},_TsEmitterVisitor.prototype.visitExternalType=function(ast,ctx){return this._visitIdentifier(ast.value,ast.typeParams,ctx),null},_TsEmitterVisitor.prototype.visitArrayType=function(type,ctx){return this.visitType(type.of,ctx),ctx.print("[]"),null},_TsEmitterVisitor.prototype.visitMapType=function(type,ctx){return ctx.print("{[key: string]:"),this.visitType(type.valueType,ctx),ctx.print("}"),null},_TsEmitterVisitor.prototype.getBuiltinMethodName=function(method){var name;switch(method){case BuiltinMethod.ConcatArray:name="concat";break;case BuiltinMethod.SubscribeObservable:name="subscribe";break;case BuiltinMethod.Bind:name="bind";break;default:throw new Error("Unknown builtin method: "+method)}return name},_TsEmitterVisitor.prototype._visitParams=function(params,ctx){var _this=this;this.visitAllObjects(function(param){ctx.print(param.name),ctx.print(":"),_this.visitType(param.type,ctx)},params,ctx,",")},_TsEmitterVisitor.prototype._visitIdentifier=function(value,typeParams,ctx){var _this=this;if(isBlank(value.name))throw new Error("Internal error: unknown identifier "+value);if(isPresent(value.moduleUrl)&&value.moduleUrl!=this._moduleUrl){var prefix=this.importsWithPrefixes.get(value.moduleUrl);isBlank(prefix)&&(prefix="import"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(value.moduleUrl,prefix)),ctx.print(prefix+".")}value.reference&&value.reference.members?(ctx.print(value.reference.name),ctx.print("."),ctx.print(value.reference.members.join("."))):ctx.print(value.name),isPresent(typeParams)&&typeParams.length>0&&(ctx.print("<"),this.visitAllObjects(function(type){return type.visitType(_this,ctx)},typeParams,ctx,","),ctx.print(">"))},_TsEmitterVisitor}(AbstractEmitterVisitor),_ExecutionContext=function(){function _ExecutionContext(parent,instance,className,vars){this.parent=parent,this.instance=instance,this.className=className,this.vars=vars}return _ExecutionContext.prototype.createChildWihtLocalVars=function(){return new _ExecutionContext(this,this.instance,this.className,new Map)},_ExecutionContext}(),ReturnValue=function(){function ReturnValue(value){this.value=value}return ReturnValue}(),StatementInterpreter=function(){function StatementInterpreter(){}return StatementInterpreter.prototype.debugAst=function(ast){return debugOutputAstAsTypeScript(ast)},StatementInterpreter.prototype.visitDeclareVarStmt=function(stmt,ctx){return ctx.vars.set(stmt.name,stmt.value.visitExpression(this,ctx)),null},StatementInterpreter.prototype.visitWriteVarExpr=function(expr,ctx){for(var value=expr.value.visitExpression(this,ctx),currCtx=ctx;null!=currCtx;){if(currCtx.vars.has(expr.name))return currCtx.vars.set(expr.name,value),value;currCtx=currCtx.parent}throw new Error("Not declared variable "+expr.name)},StatementInterpreter.prototype.visitReadVarExpr=function(ast,ctx){var varName=ast.name;if(isPresent(ast.builtin))switch(ast.builtin){case BuiltinVar.Super:return ctx.instance.__proto__;case BuiltinVar.This:return ctx.instance;case BuiltinVar.CatchError:varName=CATCH_ERROR_VAR$1;break;case BuiltinVar.CatchStack:varName=CATCH_STACK_VAR$1;break;default:throw new Error("Unknown builtin variable "+ast.builtin)}for(var currCtx=ctx;null!=currCtx;){if(currCtx.vars.has(varName))return currCtx.vars.get(varName);currCtx=currCtx.parent}throw new Error("Not declared variable "+varName)},StatementInterpreter.prototype.visitWriteKeyExpr=function(expr,ctx){var receiver=expr.receiver.visitExpression(this,ctx),index=expr.index.visitExpression(this,ctx),value=expr.value.visitExpression(this,ctx);return receiver[index]=value,value},StatementInterpreter.prototype.visitWritePropExpr=function(expr,ctx){var receiver=expr.receiver.visitExpression(this,ctx),value=expr.value.visitExpression(this,ctx);return receiver[expr.name]=value,value},StatementInterpreter.prototype.visitInvokeMethodExpr=function(expr,ctx){var result,receiver=expr.receiver.visitExpression(this,ctx),args=this.visitAllExpressions(expr.args,ctx);if(isPresent(expr.builtin))switch(expr.builtin){case BuiltinMethod.ConcatArray:result=ListWrapper.concat(receiver,args[0]);break;case BuiltinMethod.SubscribeObservable:result=receiver.subscribe({next:args[0]});break;case BuiltinMethod.Bind:result=receiver.bind(args[0]);break;default:throw new Error("Unknown builtin method "+expr.builtin)}else result=receiver[expr.name].apply(receiver,args);return result},StatementInterpreter.prototype.visitInvokeFunctionExpr=function(stmt,ctx){var args=this.visitAllExpressions(stmt.args,ctx),fnExpr=stmt.fn;if(fnExpr instanceof ReadVarExpr&&fnExpr.builtin===BuiltinVar.Super)return ctx.instance.constructor.prototype.constructor.apply(ctx.instance,args),null;var fn=stmt.fn.visitExpression(this,ctx);return fn.apply(null,args)},StatementInterpreter.prototype.visitReturnStmt=function(stmt,ctx){return new ReturnValue(stmt.value.visitExpression(this,ctx))},StatementInterpreter.prototype.visitDeclareClassStmt=function(stmt,ctx){var clazz=createDynamicClass(stmt,ctx,this);return ctx.vars.set(stmt.name,clazz),null},StatementInterpreter.prototype.visitExpressionStmt=function(stmt,ctx){return stmt.expr.visitExpression(this,ctx)},StatementInterpreter.prototype.visitIfStmt=function(stmt,ctx){var condition=stmt.condition.visitExpression(this,ctx);return condition?this.visitAllStatements(stmt.trueCase,ctx):isPresent(stmt.falseCase)?this.visitAllStatements(stmt.falseCase,ctx):null},StatementInterpreter.prototype.visitTryCatchStmt=function(stmt,ctx){try{return this.visitAllStatements(stmt.bodyStmts,ctx)}catch(e){var childCtx=ctx.createChildWihtLocalVars();return childCtx.vars.set(CATCH_ERROR_VAR$1,e),childCtx.vars.set(CATCH_STACK_VAR$1,e.stack),this.visitAllStatements(stmt.catchStmts,childCtx)}},StatementInterpreter.prototype.visitThrowStmt=function(stmt,ctx){throw stmt.error.visitExpression(this,ctx)},StatementInterpreter.prototype.visitCommentStmt=function(stmt,context){return null},StatementInterpreter.prototype.visitInstantiateExpr=function(ast,ctx){var args=this.visitAllExpressions(ast.args,ctx),clazz=ast.classExpr.visitExpression(this,ctx);return new(clazz.bind.apply(clazz,[void 0].concat(args)))},StatementInterpreter.prototype.visitLiteralExpr=function(ast,ctx){return ast.value},StatementInterpreter.prototype.visitExternalExpr=function(ast,ctx){return ast.value.reference},StatementInterpreter.prototype.visitConditionalExpr=function(ast,ctx){return ast.condition.visitExpression(this,ctx)?ast.trueCase.visitExpression(this,ctx):isPresent(ast.falseCase)?ast.falseCase.visitExpression(this,ctx):null},StatementInterpreter.prototype.visitNotExpr=function(ast,ctx){return!ast.condition.visitExpression(this,ctx)},StatementInterpreter.prototype.visitCastExpr=function(ast,ctx){return ast.value.visitExpression(this,ctx)},StatementInterpreter.prototype.visitFunctionExpr=function(ast,ctx){var paramNames=ast.params.map(function(param){return param.name});return _declareFn(paramNames,ast.statements,ctx,this)},StatementInterpreter.prototype.visitDeclareFunctionStmt=function(stmt,ctx){var paramNames=stmt.params.map(function(param){return param.name});return ctx.vars.set(stmt.name,_declareFn(paramNames,stmt.statements,ctx,this)),null},StatementInterpreter.prototype.visitBinaryOperatorExpr=function(ast,ctx){var _this=this,lhs=function(){return ast.lhs.visitExpression(_this,ctx)},rhs=function(){return ast.rhs.visitExpression(_this,ctx)};switch(ast.operator){case BinaryOperator.Equals:return lhs()==rhs();case BinaryOperator.Identical:return lhs()===rhs();case BinaryOperator.NotEquals:return lhs()!=rhs();case BinaryOperator.NotIdentical:return lhs()!==rhs();case BinaryOperator.And:return lhs()&&rhs();case BinaryOperator.Or:return lhs()||rhs();case BinaryOperator.Plus:return lhs()+rhs();case BinaryOperator.Minus:return lhs()-rhs();case BinaryOperator.Divide:return lhs()/rhs();case BinaryOperator.Multiply:return lhs()*rhs();case BinaryOperator.Modulo:return lhs()%rhs();case BinaryOperator.Lower:return lhs()<rhs();case BinaryOperator.LowerEquals:return lhs()<=rhs();case BinaryOperator.Bigger:return lhs()>rhs();case BinaryOperator.BiggerEquals:return lhs()>=rhs();default:throw new Error("Unknown operator "+ast.operator)}},StatementInterpreter.prototype.visitReadPropExpr=function(ast,ctx){var result,receiver=ast.receiver.visitExpression(this,ctx);return result=receiver[ast.name]},StatementInterpreter.prototype.visitReadKeyExpr=function(ast,ctx){var receiver=ast.receiver.visitExpression(this,ctx),prop=ast.index.visitExpression(this,ctx);return receiver[prop]},StatementInterpreter.prototype.visitLiteralArrayExpr=function(ast,ctx){return this.visitAllExpressions(ast.entries,ctx)},StatementInterpreter.prototype.visitLiteralMapExpr=function(ast,ctx){var _this=this,result={};return ast.entries.forEach(function(entry){return result[entry[0]]=entry[1].visitExpression(_this,ctx)}),result},StatementInterpreter.prototype.visitAllExpressions=function(expressions,ctx){var _this=this;return expressions.map(function(expr){return expr.visitExpression(_this,ctx)})},StatementInterpreter.prototype.visitAllStatements=function(statements,ctx){for(var i=0;i<statements.length;i++){var stmt=statements[i],val=stmt.visitStatement(this,ctx);if(val instanceof ReturnValue)return val}return null},StatementInterpreter}(),CATCH_ERROR_VAR$1="error",CATCH_STACK_VAR$1="stack",__extends$19=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AbstractJsEmitterVisitor=function(_super){function AbstractJsEmitterVisitor(){_super.call(this,!1)}return __extends$19(AbstractJsEmitterVisitor,_super),AbstractJsEmitterVisitor.prototype.visitDeclareClassStmt=function(stmt,ctx){var _this=this;return ctx.pushClass(stmt),this._visitClassConstructor(stmt,ctx),isPresent(stmt.parent)&&(ctx.print(stmt.name+".prototype = Object.create("),stmt.parent.visitExpression(this,ctx),ctx.println(".prototype);")),stmt.getters.forEach(function(getter){return _this._visitClassGetter(stmt,getter,ctx)}),stmt.methods.forEach(function(method){return _this._visitClassMethod(stmt,method,ctx)}),ctx.popClass(),null},AbstractJsEmitterVisitor.prototype._visitClassConstructor=function(stmt,ctx){ctx.print("function "+stmt.name+"("),isPresent(stmt.constructorMethod)&&this._visitParams(stmt.constructorMethod.params,ctx),ctx.println(") {"),ctx.incIndent(),isPresent(stmt.constructorMethod)&&stmt.constructorMethod.body.length>0&&(ctx.println("var self = this;"),this.visitAllStatements(stmt.constructorMethod.body,ctx)),ctx.decIndent(),ctx.println("}")},AbstractJsEmitterVisitor.prototype._visitClassGetter=function(stmt,getter,ctx){ctx.println("Object.defineProperty("+stmt.name+".prototype, '"+getter.name+"', { get: function() {"),ctx.incIndent(),getter.body.length>0&&(ctx.println("var self = this;"),this.visitAllStatements(getter.body,ctx)),ctx.decIndent(),ctx.println("}});")},AbstractJsEmitterVisitor.prototype._visitClassMethod=function(stmt,method,ctx){ctx.print(stmt.name+".prototype."+method.name+" = function("),this._visitParams(method.params,ctx),ctx.println(") {"),ctx.incIndent(),method.body.length>0&&(ctx.println("var self = this;"),this.visitAllStatements(method.body,ctx)),ctx.decIndent(),ctx.println("};")},AbstractJsEmitterVisitor.prototype.visitReadVarExpr=function(ast,ctx){if(ast.builtin===BuiltinVar.This)ctx.print("self");else{if(ast.builtin===BuiltinVar.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");_super.prototype.visitReadVarExpr.call(this,ast,ctx)}return null},AbstractJsEmitterVisitor.prototype.visitDeclareVarStmt=function(stmt,ctx){return ctx.print("var "+stmt.name+" = "),stmt.value.visitExpression(this,ctx),ctx.println(";"),null},AbstractJsEmitterVisitor.prototype.visitCastExpr=function(ast,ctx){return ast.value.visitExpression(this,ctx),null},AbstractJsEmitterVisitor.prototype.visitInvokeFunctionExpr=function(expr,ctx){var fnExpr=expr.fn;return fnExpr instanceof ReadVarExpr&&fnExpr.builtin===BuiltinVar.Super?(ctx.currentClass.parent.visitExpression(this,ctx),ctx.print(".call(this"),expr.args.length>0&&(ctx.print(", "),this.visitAllExpressions(expr.args,ctx,",")),ctx.print(")")):_super.prototype.visitInvokeFunctionExpr.call(this,expr,ctx),null},AbstractJsEmitterVisitor.prototype.visitFunctionExpr=function(ast,ctx){return ctx.print("function("),this._visitParams(ast.params,ctx),ctx.println(") {"),ctx.incIndent(),this.visitAllStatements(ast.statements,ctx),ctx.decIndent(),ctx.print("}"),null},AbstractJsEmitterVisitor.prototype.visitDeclareFunctionStmt=function(stmt,ctx){return ctx.print("function "+stmt.name+"("),this._visitParams(stmt.params,ctx),ctx.println(") {"),ctx.incIndent(),this.visitAllStatements(stmt.statements,ctx),ctx.decIndent(),ctx.println("}"),null},AbstractJsEmitterVisitor.prototype.visitTryCatchStmt=function(stmt,ctx){ctx.println("try {"),ctx.incIndent(),this.visitAllStatements(stmt.bodyStmts,ctx),ctx.decIndent(),ctx.println("} catch ("+CATCH_ERROR_VAR$2.name+") {"),ctx.incIndent();var catchStmts=[CATCH_STACK_VAR$2.set(CATCH_ERROR_VAR$2.prop("stack")).toDeclStmt(null,[StmtModifier.Final])].concat(stmt.catchStmts);return this.visitAllStatements(catchStmts,ctx),ctx.decIndent(),ctx.println("}"),null},AbstractJsEmitterVisitor.prototype._visitParams=function(params,ctx){this.visitAllObjects(function(param){return ctx.print(param.name)},params,ctx,",")},AbstractJsEmitterVisitor.prototype.getBuiltinMethodName=function(method){var name;switch(method){case BuiltinMethod.ConcatArray:name="concat";break;case BuiltinMethod.SubscribeObservable:name="subscribe";break;case BuiltinMethod.Bind:name="bind";break;default:throw new Error("Unknown builtin method: "+method)}return name},AbstractJsEmitterVisitor}(AbstractEmitterVisitor),__extends$18=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},JitEmitterVisitor=function(_super){function JitEmitterVisitor(){_super.apply(this,arguments),this._evalArgNames=[],this._evalArgValues=[]}return __extends$18(JitEmitterVisitor,_super),JitEmitterVisitor.prototype.getArgs=function(){for(var result={},i=0;i<this._evalArgNames.length;i++)result[this._evalArgNames[i]]=this._evalArgValues[i];return result},JitEmitterVisitor.prototype.visitExternalExpr=function(ast,ctx){var value=ast.value.reference,id=this._evalArgValues.indexOf(value);if(-1===id){id=this._evalArgValues.length,this._evalArgValues.push(value);var name=isPresent(ast.value.name)?sanitizeIdentifier(ast.value.name):"val";this._evalArgNames.push(sanitizeIdentifier("jit_"+name+id))}return ctx.print(this._evalArgNames[id]),null},JitEmitterVisitor}(AbstractJsEmitterVisitor),ShadowCss=function(){function ShadowCss(){this.strictStyling=!0}return ShadowCss.prototype.shimCssText=function(cssText,selector,hostSelector){void 0===hostSelector&&(hostSelector="");var sourceMappingUrl=extractSourceMappingUrl(cssText);return cssText=stripComments(cssText),cssText=this._insertDirectives(cssText),this._scopeCssText(cssText,selector,hostSelector)+sourceMappingUrl},ShadowCss.prototype._insertDirectives=function(cssText){return cssText=this._insertPolyfillDirectivesInCssText(cssText),this._insertPolyfillRulesInCssText(cssText)},ShadowCss.prototype._insertPolyfillDirectivesInCssText=function(cssText){return cssText.replace(_cssContentNextSelectorRe,function(){for(var m=[],_i=0;_i<arguments.length;_i++)m[_i-0]=arguments[_i];return m[2]+"{"})},ShadowCss.prototype._insertPolyfillRulesInCssText=function(cssText){return cssText.replace(_cssContentRuleRe,function(){for(var m=[],_i=0;_i<arguments.length;_i++)m[_i-0]=arguments[_i];var rule=m[0].replace(m[1],"").replace(m[2],"");return m[4]+rule})},ShadowCss.prototype._scopeCssText=function(cssText,scopeSelector,hostSelector){var unscopedRules=this._extractUnscopedRulesFromCssText(cssText);return cssText=this._insertPolyfillHostInCssText(cssText),cssText=this._convertColonHost(cssText),cssText=this._convertColonHostContext(cssText),cssText=this._convertShadowDOMSelectors(cssText),scopeSelector&&(cssText=this._scopeSelectors(cssText,scopeSelector,hostSelector)),cssText=cssText+"\n"+unscopedRules,cssText.trim()},ShadowCss.prototype._extractUnscopedRulesFromCssText=function(cssText){var m,r="";for(_cssContentUnscopedRuleRe.lastIndex=0;null!==(m=_cssContentUnscopedRuleRe.exec(cssText));){var rule=m[0].replace(m[2],"").replace(m[1],m[4]);r+=rule+"\n\n"}return r},ShadowCss.prototype._convertColonHost=function(cssText){return this._convertColonRule(cssText,_cssColonHostRe,this._colonHostPartReplacer)},ShadowCss.prototype._convertColonHostContext=function(cssText){return this._convertColonRule(cssText,_cssColonHostContextRe,this._colonHostContextPartReplacer)},ShadowCss.prototype._convertColonRule=function(cssText,regExp,partReplacer){return cssText.replace(regExp,function(){for(var m=[],_i=0;_i<arguments.length;_i++)m[_i-0]=arguments[_i];if(m[2]){for(var parts=m[2].split(","),r=[],i=0;i<parts.length;i++){var p=parts[i].trim();if(!p)break;r.push(partReplacer(_polyfillHostNoCombinator,p,m[3]))}return r.join(",")}return _polyfillHostNoCombinator+m[3]})},ShadowCss.prototype._colonHostContextPartReplacer=function(host,part,suffix){return part.indexOf(_polyfillHost)>-1?this._colonHostPartReplacer(host,part,suffix):host+part+suffix+", "+part+" "+host+suffix},ShadowCss.prototype._colonHostPartReplacer=function(host,part,suffix){return host+part.replace(_polyfillHost,"")+suffix},ShadowCss.prototype._convertShadowDOMSelectors=function(cssText){return _shadowDOMSelectorsRe.reduce(function(result,pattern){return result.replace(pattern," ")},cssText)},ShadowCss.prototype._scopeSelectors=function(cssText,scopeSelector,hostSelector){var _this=this;return processRules(cssText,function(rule){var selector=rule.selector,content=rule.content;return"@"!=rule.selector[0]?selector=_this._scopeSelector(rule.selector,scopeSelector,hostSelector,_this.strictStyling):(rule.selector.startsWith("@media")||rule.selector.startsWith("@supports")||rule.selector.startsWith("@page")||rule.selector.startsWith("@document"))&&(content=_this._scopeSelectors(rule.content,scopeSelector,hostSelector)),
new CssRule(selector,content)})},ShadowCss.prototype._scopeSelector=function(selector,scopeSelector,hostSelector,strict){var _this=this;return selector.split(",").map(function(part){return part.trim().split(_shadowDeepSelectors)}).map(function(deepParts){var shallowPart=deepParts[0],otherParts=deepParts.slice(1),applyScope=function(shallowPart){return _this._selectorNeedsScoping(shallowPart,scopeSelector)?strict?_this._applyStrictSelectorScope(shallowPart,scopeSelector,hostSelector):_this._applySelectorScope(shallowPart,scopeSelector,hostSelector):shallowPart};return[applyScope(shallowPart)].concat(otherParts).join(" ")}).join(", ")},ShadowCss.prototype._selectorNeedsScoping=function(selector,scopeSelector){var re=this._makeScopeMatcher(scopeSelector);return!re.test(selector)},ShadowCss.prototype._makeScopeMatcher=function(scopeSelector){var lre=/\[/g,rre=/\]/g;return scopeSelector=scopeSelector.replace(lre,"\\[").replace(rre,"\\]"),new RegExp("^("+scopeSelector+")"+_selectorReSuffix,"m")},ShadowCss.prototype._applySelectorScope=function(selector,scopeSelector,hostSelector){return this._applySimpleSelectorScope(selector,scopeSelector,hostSelector)},ShadowCss.prototype._applySimpleSelectorScope=function(selector,scopeSelector,hostSelector){if(_polyfillHostRe.lastIndex=0,_polyfillHostRe.test(selector)){var replaceBy_1=this.strictStyling?"["+hostSelector+"]":scopeSelector;return selector.replace(_polyfillHostNoCombinatorRe,function(hnc,selector){return":"===selector[0]?replaceBy_1+selector:selector+replaceBy_1}).replace(_polyfillHostRe,replaceBy_1+" ")}return scopeSelector+" "+selector},ShadowCss.prototype._applyStrictSelectorScope=function(selector,scopeSelector,hostSelector){var _this=this,isRe=/\[is=([^\]]*)\]/g;scopeSelector=scopeSelector.replace(isRe,function(_){for(var parts=[],_i=1;_i<arguments.length;_i++)parts[_i-1]=arguments[_i];return parts[0]});var attrName="["+scopeSelector+"]",_scopeSelectorPart=function(p){var scopedP=p.trim();if(!scopedP)return"";if(p.indexOf(_polyfillHostNoCombinator)>-1)scopedP=_this._applySimpleSelectorScope(p,scopeSelector,hostSelector);else{var t=p.replace(_polyfillHostRe,"");if(t.length>0){var matches=t.match(/([^:]*)(:*)(.*)/);null!==matches&&(scopedP=matches[1]+attrName+matches[2]+matches[3])}}return scopedP},attrSelectorIndex=0,attrSelectors=[];selector=selector.replace(/\[[^\]]*\]/g,function(attrSelector){var replaceBy="__attr_sel_"+attrSelectorIndex+"__";return attrSelectors.push(attrSelector),attrSelectorIndex++,replaceBy});for(var res,scopedSelector="",startIndex=0,sep=/( |>|\+|~(?!=))\s*/g,scopeAfter=selector.indexOf(_polyfillHostNoCombinator);null!==(res=sep.exec(selector));){var separator=res[1],part=selector.slice(startIndex,res.index).trim(),scopedPart=startIndex>=scopeAfter?_scopeSelectorPart(part):part;scopedSelector+=scopedPart+" "+separator+" ",startIndex=sep.lastIndex}return scopedSelector+=_scopeSelectorPart(selector.substring(startIndex)),scopedSelector.replace(/__attr_sel_(\d+)__/g,function(ph,index){return attrSelectors[+index]})},ShadowCss.prototype._insertPolyfillHostInCssText=function(selector){return selector.replace(_colonHostContextRe,_polyfillHostContext).replace(_colonHostRe,_polyfillHost)},ShadowCss}(),_cssContentNextSelectorRe=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,_cssContentRuleRe=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,_cssContentUnscopedRuleRe=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,_polyfillHost="-shadowcsshost",_polyfillHostContext="-shadowcsscontext",_parenSuffix=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",_cssColonHostRe=new RegExp("("+_polyfillHost+_parenSuffix,"gim"),_cssColonHostContextRe=new RegExp("("+_polyfillHostContext+_parenSuffix,"gim"),_polyfillHostNoCombinator=_polyfillHost+"-no-combinator",_polyfillHostNoCombinatorRe=/-shadowcsshost-no-combinator([^\s]*)/,_shadowDOMSelectorsRe=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],_shadowDeepSelectors=/(?:>>>)|(?:\/deep\/)/g,_selectorReSuffix="([>\\s~+[.,{:][\\s\\S]*)?$",_polyfillHostRe=/-shadowcsshost/gim,_colonHostRe=/:host/gim,_colonHostContextRe=/:host-context/gim,_commentRe=/\/\*\s*[\s\S]*?\*\//g,_sourceMappingUrlRe=/\/\*\s*#\s*sourceMappingURL=[\s\S]+?\*\//,_ruleRe=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,_curlyRe=/([{}])/g,OPEN_CURLY="{",CLOSE_CURLY="}",BLOCK_PLACEHOLDER="%BLOCK%",CssRule=function(){function CssRule(selector,content){this.selector=selector,this.content=content}return CssRule}(),StringWithEscapedBlocks=function(){function StringWithEscapedBlocks(escapedString,blocks){this.escapedString=escapedString,this.blocks=blocks}return StringWithEscapedBlocks}(),COMPONENT_VARIABLE="%COMP%",HOST_ATTR="_nghost-"+COMPONENT_VARIABLE,CONTENT_ATTR="_ngcontent-"+COMPONENT_VARIABLE,StylesCompileDependency=function(){function StylesCompileDependency(moduleUrl,isShimmed,valuePlaceholder){this.moduleUrl=moduleUrl,this.isShimmed=isShimmed,this.valuePlaceholder=valuePlaceholder}return StylesCompileDependency}(),StylesCompileResult=function(){function StylesCompileResult(componentStylesheet,externalStylesheets){this.componentStylesheet=componentStylesheet,this.externalStylesheets=externalStylesheets}return StylesCompileResult}(),CompiledStylesheet=function(){function CompiledStylesheet(statements,stylesVar,dependencies,isShimmed,meta){this.statements=statements,this.stylesVar=stylesVar,this.dependencies=dependencies,this.isShimmed=isShimmed,this.meta=meta}return CompiledStylesheet}(),StyleCompiler=function(){function StyleCompiler(_urlResolver){this._urlResolver=_urlResolver,this._shadowCss=new ShadowCss}return StyleCompiler.prototype.compileComponent=function(comp){var _this=this,externalStylesheets=[],componentStylesheet=this._compileStyles(comp,new CompileStylesheetMetadata({styles:comp.template.styles,styleUrls:comp.template.styleUrls,moduleUrl:comp.type.moduleUrl}),!0);return comp.template.externalStylesheets.forEach(function(stylesheetMeta){var compiledStylesheet=_this._compileStyles(comp,stylesheetMeta,!1);externalStylesheets.push(compiledStylesheet)}),new StylesCompileResult(componentStylesheet,externalStylesheets)},StyleCompiler.prototype._compileStyles=function(comp,stylesheet,isComponentStylesheet){for(var _this=this,shim=comp.template.encapsulation===_angular_core.ViewEncapsulation.Emulated,styleExpressions=stylesheet.styles.map(function(plainStyle){return literal(_this._shimIfNeeded(plainStyle,shim))}),dependencies=[],i=0;i<stylesheet.styleUrls.length;i++){var identifier=new CompileIdentifierMetadata({name:getStylesVarName(null)});dependencies.push(new StylesCompileDependency(stylesheet.styleUrls[i],shim,identifier)),styleExpressions.push(new ExternalExpr(identifier))}var stylesVar=getStylesVarName(isComponentStylesheet?comp:null),stmt=variable(stylesVar).set(literalArr(styleExpressions,new ArrayType(DYNAMIC_TYPE,[TypeModifier.Const]))).toDeclStmt(null,[StmtModifier.Final]);return new CompiledStylesheet([stmt],stylesVar,dependencies,shim,stylesheet)},StyleCompiler.prototype._shimIfNeeded=function(style,shim){return shim?this._shadowCss.shimCssText(style,CONTENT_ATTR,HOST_ATTR):style},StyleCompiler.decorators=[{type:_angular_core.Injectable}],StyleCompiler.ctorParameters=[{type:UrlResolver}],StyleCompiler}(),RuntimeCompiler=function(){function RuntimeCompiler(_injector,_metadataResolver,_templateNormalizer,_templateParser,_styleCompiler,_viewCompiler,_ngModuleCompiler,_directiveWrapperCompiler,_compilerConfig){this._injector=_injector,this._metadataResolver=_metadataResolver,this._templateNormalizer=_templateNormalizer,this._templateParser=_templateParser,this._styleCompiler=_styleCompiler,this._viewCompiler=_viewCompiler,this._ngModuleCompiler=_ngModuleCompiler,this._directiveWrapperCompiler=_directiveWrapperCompiler,this._compilerConfig=_compilerConfig,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._animationParser=new AnimationParser,this._animationCompiler=new AnimationCompiler}return Object.defineProperty(RuntimeCompiler.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),RuntimeCompiler.prototype.compileModuleSync=function(moduleType){return this._compileModuleAndComponents(moduleType,!0).syncResult},RuntimeCompiler.prototype.compileModuleAsync=function(moduleType){return this._compileModuleAndComponents(moduleType,!1).asyncResult},RuntimeCompiler.prototype.compileModuleAndAllComponentsSync=function(moduleType){return this._compileModuleAndAllComponents(moduleType,!0).syncResult},RuntimeCompiler.prototype.compileModuleAndAllComponentsAsync=function(moduleType){return this._compileModuleAndAllComponents(moduleType,!1).asyncResult},RuntimeCompiler.prototype._compileModuleAndComponents=function(moduleType,isSync){var componentPromise=this._compileComponents(moduleType,isSync),ngModuleFactory=this._compileModule(moduleType);return new SyncAsyncResult(ngModuleFactory,componentPromise.then(function(){return ngModuleFactory}))},RuntimeCompiler.prototype._compileModuleAndAllComponents=function(moduleType,isSync){var _this=this,componentPromise=this._compileComponents(moduleType,isSync),ngModuleFactory=this._compileModule(moduleType),moduleMeta=this._metadataResolver.getNgModuleMetadata(moduleType),componentFactories=[],templates=new Set;moduleMeta.transitiveModule.modules.forEach(function(localModuleMeta){localModuleMeta.declaredDirectives.forEach(function(dirMeta){if(dirMeta.isComponent){var template=_this._createCompiledHostTemplate(dirMeta.type.reference,localModuleMeta);templates.add(template),componentFactories.push(template.proxyComponentFactory)}})});var syncResult=new _angular_core.ModuleWithComponentFactories(ngModuleFactory,componentFactories),compile=function(){return templates.forEach(function(template){_this._compileTemplate(template)}),syncResult},asyncResult=isSync?Promise.resolve(compile()):componentPromise.then(compile);return new SyncAsyncResult(syncResult,asyncResult)},RuntimeCompiler.prototype._compileModule=function(moduleType){var _this=this,ngModuleFactory=this._compiledNgModuleCache.get(moduleType);if(!ngModuleFactory){var moduleMeta_1=this._metadataResolver.getNgModuleMetadata(moduleType),extraProviders=[this._metadataResolver.getProviderMetadata(new ProviderMeta(_angular_core.Compiler,{useFactory:function(){return new ModuleBoundCompiler(_this,moduleMeta_1.type.reference)}}))],compileResult=this._ngModuleCompiler.compile(moduleMeta_1,extraProviders);compileResult.dependencies.forEach(function(dep){dep.placeholder.reference=_this._assertComponentKnown(dep.comp.reference,!0).proxyComponentFactory,dep.placeholder.name="compFactory_"+dep.comp.name}),ngModuleFactory=this._compilerConfig.useJit?jitStatements("/"+moduleMeta_1.type.name+"/module.ngfactory.js",compileResult.statements,compileResult.ngModuleFactoryVar):interpretStatements(compileResult.statements,compileResult.ngModuleFactoryVar),this._compiledNgModuleCache.set(moduleMeta_1.type.reference,ngModuleFactory)}return ngModuleFactory},RuntimeCompiler.prototype._compileComponents=function(mainModule,isSync){var _this=this,templates=new Set,loadingPromises=[],ngModule=this._metadataResolver.getNgModuleMetadata(mainModule),moduleByDirective=new Map;ngModule.transitiveModule.modules.forEach(function(localModuleMeta){localModuleMeta.declaredDirectives.forEach(function(dirMeta){moduleByDirective.set(dirMeta.type.reference,localModuleMeta),_this._compileDirectiveWrapper(dirMeta,localModuleMeta),dirMeta.isComponent&&templates.add(_this._createCompiledTemplate(dirMeta,localModuleMeta))})}),ngModule.transitiveModule.modules.forEach(function(localModuleMeta){localModuleMeta.declaredDirectives.forEach(function(dirMeta){dirMeta.isComponent&&dirMeta.entryComponents.forEach(function(entryComponentType){var moduleMeta=moduleByDirective.get(entryComponentType.reference);templates.add(_this._createCompiledHostTemplate(entryComponentType.reference,moduleMeta))})}),localModuleMeta.entryComponents.forEach(function(entryComponentType){var moduleMeta=moduleByDirective.get(entryComponentType.reference);templates.add(_this._createCompiledHostTemplate(entryComponentType.reference,moduleMeta))})}),templates.forEach(function(template){if(template.loading){if(isSync)throw new ComponentStillLoadingError(template.compType.reference);loadingPromises.push(template.loading)}});var compile=function(){templates.forEach(function(template){_this._compileTemplate(template)})};return isSync?(compile(),Promise.resolve(null)):Promise.all(loadingPromises).then(compile)},RuntimeCompiler.prototype.clearCacheFor=function(type){this._compiledNgModuleCache.delete(type),this._metadataResolver.clearCacheFor(type),this._compiledHostTemplateCache.delete(type);var compiledTemplate=this._compiledTemplateCache.get(type);compiledTemplate&&(this._templateNormalizer.clearCacheFor(compiledTemplate.normalizedCompMeta),this._compiledTemplateCache.delete(type))},RuntimeCompiler.prototype.clearCache=function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._templateNormalizer.clearCache(),this._compiledNgModuleCache.clear()},RuntimeCompiler.prototype._createCompiledHostTemplate=function(compType,ngModule){if(!ngModule)throw new Error("Component "+stringify(compType)+" is not part of any NgModule or the module has not been imported into your module.");var compiledTemplate=this._compiledHostTemplateCache.get(compType);if(!compiledTemplate){var compMeta=this._metadataResolver.getDirectiveMetadata(compType);assertComponent(compMeta);var hostMeta=createHostComponentMeta(compMeta);compiledTemplate=new CompiledTemplate(!0,compMeta.selector,compMeta.type,ngModule,[compMeta],this._templateNormalizer.normalizeDirective(hostMeta)),this._compiledHostTemplateCache.set(compType,compiledTemplate)}return compiledTemplate},RuntimeCompiler.prototype._createCompiledTemplate=function(compMeta,ngModule){var compiledTemplate=this._compiledTemplateCache.get(compMeta.type.reference);return compiledTemplate||(assertComponent(compMeta),compiledTemplate=new CompiledTemplate(!1,compMeta.selector,compMeta.type,ngModule,ngModule.transitiveModule.directives,this._templateNormalizer.normalizeDirective(compMeta)),this._compiledTemplateCache.set(compMeta.type.reference,compiledTemplate)),compiledTemplate},RuntimeCompiler.prototype._assertComponentKnown=function(compType,isHost){var compiledTemplate=isHost?this._compiledHostTemplateCache.get(compType):this._compiledTemplateCache.get(compType);if(!compiledTemplate)throw new Error("Illegal state: Compiled view for component "+stringify(compType)+" does not exist!");return compiledTemplate},RuntimeCompiler.prototype._assertComponentLoaded=function(compType,isHost){var compiledTemplate=this._assertComponentKnown(compType,isHost);if(compiledTemplate.loading)throw new Error("Illegal state: CompiledTemplate for "+stringify(compType)+" (isHost: "+isHost+") is still loading!");return compiledTemplate},RuntimeCompiler.prototype._assertDirectiveWrapper=function(dirType){var dirWrapper=this._compiledDirectiveWrapperCache.get(dirType);if(!dirWrapper)throw new Error("Illegal state: Directive wrapper for "+stringify(dirType)+" has not been compiled!");return dirWrapper},RuntimeCompiler.prototype._compileDirectiveWrapper=function(dirMeta,moduleMeta){var directiveWrapperClass,compileResult=this._directiveWrapperCompiler.compile(dirMeta),statements=compileResult.statements;directiveWrapperClass=this._compilerConfig.useJit?jitStatements("/"+moduleMeta.type.name+"/"+dirMeta.type.name+"/wrapper.ngfactory.js",statements,compileResult.dirWrapperClassVar):interpretStatements(statements,compileResult.dirWrapperClassVar),this._compiledDirectiveWrapperCache.set(dirMeta.type.reference,directiveWrapperClass)},RuntimeCompiler.prototype._compileTemplate=function(template){var _this=this;if(!template.isCompiled){var compMeta=template.normalizedCompMeta,externalStylesheetsByModuleUrl=new Map,stylesCompileResult=this._styleCompiler.compileComponent(compMeta);stylesCompileResult.externalStylesheets.forEach(function(r){externalStylesheetsByModuleUrl.set(r.meta.moduleUrl,r)}),this._resolveStylesCompileResult(stylesCompileResult.componentStylesheet,externalStylesheetsByModuleUrl);var viewCompMetas=template.viewComponentTypes.map(function(compType){return _this._assertComponentLoaded(compType,!1).normalizedCompMeta}),parsedAnimations=this._animationParser.parseComponent(compMeta),parsedTemplate=this._templateParser.parse(compMeta,compMeta.template.template,template.viewDirectives.concat(viewCompMetas),template.viewPipes,template.schemas,compMeta.type.name),compiledAnimations=this._animationCompiler.compile(compMeta.type.name,parsedAnimations),compileResult=this._viewCompiler.compileComponent(compMeta,parsedTemplate,variable(stylesCompileResult.componentStylesheet.stylesVar),template.viewPipes,compiledAnimations);compileResult.dependencies.forEach(function(dep){var depTemplate;if(dep instanceof ViewFactoryDependency){var vfd=dep;depTemplate=_this._assertComponentLoaded(vfd.comp.reference,!1),vfd.placeholder.reference=depTemplate.proxyViewFactory,vfd.placeholder.name="viewFactory_"+vfd.comp.name}else if(dep instanceof ComponentFactoryDependency){var cfd=dep;depTemplate=_this._assertComponentLoaded(cfd.comp.reference,!0),cfd.placeholder.reference=depTemplate.proxyComponentFactory,cfd.placeholder.name="compFactory_"+cfd.comp.name}else if(dep instanceof DirectiveWrapperDependency){var dwd=dep;dwd.placeholder.reference=_this._assertDirectiveWrapper(dwd.dir.reference)}});var statements=stylesCompileResult.componentStylesheet.statements.concat(compileResult.statements);compiledAnimations.forEach(function(entry){entry.statements.forEach(function(statement){statements.push(statement)})});var factory;factory=this._compilerConfig.useJit?jitStatements("/"+template.ngModule.type.name+"/"+template.compType.name+"/"+(template.isHost?"host":"component")+".ngfactory.js",statements,compileResult.viewFactoryVar):interpretStatements(statements,compileResult.viewFactoryVar),template.compiled(factory)}},RuntimeCompiler.prototype._resolveStylesCompileResult=function(result,externalStylesheetsByModuleUrl){var _this=this;result.dependencies.forEach(function(dep,i){var nestedCompileResult=externalStylesheetsByModuleUrl.get(dep.moduleUrl),nestedStylesArr=_this._resolveAndEvalStylesCompileResult(nestedCompileResult,externalStylesheetsByModuleUrl);dep.valuePlaceholder.reference=nestedStylesArr,dep.valuePlaceholder.name="importedStyles"+i})},RuntimeCompiler.prototype._resolveAndEvalStylesCompileResult=function(result,externalStylesheetsByModuleUrl){return this._resolveStylesCompileResult(result,externalStylesheetsByModuleUrl),this._compilerConfig.useJit?jitStatements("/"+result.meta.moduleUrl+".css.js",result.statements,result.stylesVar):interpretStatements(result.statements,result.stylesVar)},RuntimeCompiler.decorators=[{type:_angular_core.Injectable}],RuntimeCompiler.ctorParameters=[{type:_angular_core.Injector},{type:CompileMetadataResolver},{type:DirectiveNormalizer},{type:TemplateParser},{type:StyleCompiler},{type:ViewCompiler},{type:NgModuleCompiler},{type:DirectiveWrapperCompiler},{type:CompilerConfig}],RuntimeCompiler}(),CompiledTemplate=function(){function CompiledTemplate(isHost,selector,compType,ngModule,viewDirectiveAndComponents,_normalizeResult){var _this=this;this.isHost=isHost,this.compType=compType,this.ngModule=ngModule,this._viewFactory=null,this.loading=null,this._normalizedCompMeta=null,this.isCompiled=!1,this.isCompiledWithDeps=!1,this.viewComponentTypes=[],this.viewDirectives=[],this.viewPipes=ngModule.transitiveModule.pipes,this.schemas=ngModule.schemas,viewDirectiveAndComponents.forEach(function(dirMeta){dirMeta.isComponent?_this.viewComponentTypes.push(dirMeta.type.reference):_this.viewDirectives.push(dirMeta)}),this.proxyViewFactory=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];if(!_this._viewFactory)throw new Error("Illegal state: CompiledTemplate for "+stringify(_this.compType)+" is not compiled yet!");return _this._viewFactory.apply(null,args)},this.proxyComponentFactory=isHost?new _angular_core.ComponentFactory(selector,this.proxyViewFactory,compType.reference):null,_normalizeResult.syncResult?this._normalizedCompMeta=_normalizeResult.syncResult:this.loading=_normalizeResult.asyncResult.then(function(normalizedCompMeta){_this._normalizedCompMeta=normalizedCompMeta,_this.loading=null})}return Object.defineProperty(CompiledTemplate.prototype,"normalizedCompMeta",{get:function(){if(this.loading)throw new Error("Template is still loading for "+this.compType.name+"!");return this._normalizedCompMeta},enumerable:!0,configurable:!0}),CompiledTemplate.prototype.compiled=function(viewFactory){this._viewFactory=viewFactory,this.isCompiled=!0},CompiledTemplate.prototype.depsCompiled=function(){this.isCompiledWithDeps=!0},CompiledTemplate}(),ModuleBoundCompiler=function(){function ModuleBoundCompiler(_delegate,_ngModule){this._delegate=_delegate,this._ngModule=_ngModule}return Object.defineProperty(ModuleBoundCompiler.prototype,"_injector",{get:function(){return this._delegate.injector},enumerable:!0,configurable:!0}),ModuleBoundCompiler.prototype.compileModuleSync=function(moduleType){return this._delegate.compileModuleSync(moduleType)},ModuleBoundCompiler.prototype.compileModuleAsync=function(moduleType){return this._delegate.compileModuleAsync(moduleType)},ModuleBoundCompiler.prototype.compileModuleAndAllComponentsSync=function(moduleType){return this._delegate.compileModuleAndAllComponentsSync(moduleType)},ModuleBoundCompiler.prototype.compileModuleAndAllComponentsAsync=function(moduleType){return this._delegate.compileModuleAndAllComponentsAsync(moduleType)},ModuleBoundCompiler.prototype.clearCache=function(){this._delegate.clearCache()},ModuleBoundCompiler.prototype.clearCacheFor=function(type){this._delegate.clearCacheFor(type)},ModuleBoundCompiler}(),SECURITY_SCHEMA={};registerContext(_angular_core.SecurityContext.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),registerContext(_angular_core.SecurityContext.STYLE,["*|style"]),registerContext(_angular_core.SecurityContext.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),registerContext(_angular_core.SecurityContext.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"]);var __extends$20=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},BOOLEAN="boolean",NUMBER="number",STRING="string",OBJECT="object",SCHEMA=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","keygen^[HTMLElement]|!autofocus,challenge,!disabled,keytype,name","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:cursor^:svg:|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime"],_ATTR_TO_PROP={
class:"className",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},DomElementSchemaRegistry=function(_super){function DomElementSchemaRegistry(){var _this=this;_super.call(this),this._schema={},SCHEMA.forEach(function(encodedType){var type={},_a=encodedType.split("|"),strType=_a[0],strProperties=_a[1],properties=strProperties.split(","),_b=strType.split("^"),typeNames=_b[0],superName=_b[1];typeNames.split(",").forEach(function(tag){return _this._schema[tag.toLowerCase()]=type});var superType=superName&&_this._schema[superName.toLowerCase()];superType&&Object.keys(superType).forEach(function(prop){type[prop]=superType[prop]}),properties.forEach(function(property){if(property.length>0)switch(property[0]){case"*":break;case"!":type[property.substring(1)]=BOOLEAN;break;case"#":type[property.substring(1)]=NUMBER;break;case"%":type[property.substring(1)]=OBJECT;break;default:type[property]=STRING}})})}return __extends$20(DomElementSchemaRegistry,_super),DomElementSchemaRegistry.prototype.hasProperty=function(tagName,propName,schemaMetas){if(schemaMetas.some(function(schema){return schema.name===_angular_core.NO_ERRORS_SCHEMA.name}))return!0;if(tagName.indexOf("-")>-1){if("ng-container"===tagName||"ng-content"===tagName)return!1;if(schemaMetas.some(function(schema){return schema.name===_angular_core.CUSTOM_ELEMENTS_SCHEMA.name}))return!0}var elementProperties=this._schema[tagName.toLowerCase()]||this._schema.unknown;return!!elementProperties[propName]},DomElementSchemaRegistry.prototype.hasElement=function(tagName,schemaMetas){if(schemaMetas.some(function(schema){return schema.name===_angular_core.NO_ERRORS_SCHEMA.name}))return!0;if(tagName.indexOf("-")>-1){if("ng-container"===tagName||"ng-content"===tagName)return!0;if(schemaMetas.some(function(schema){return schema.name===_angular_core.CUSTOM_ELEMENTS_SCHEMA.name}))return!0}return!!this._schema[tagName.toLowerCase()]},DomElementSchemaRegistry.prototype.securityContext=function(tagName,propName){tagName=tagName.toLowerCase(),propName=propName.toLowerCase();var ctx=SECURITY_SCHEMA[tagName+"|"+propName];return ctx?ctx:(ctx=SECURITY_SCHEMA["*|"+propName],ctx?ctx:_angular_core.SecurityContext.NONE)},DomElementSchemaRegistry.prototype.getMappedPropName=function(propName){return _ATTR_TO_PROP[propName]||propName},DomElementSchemaRegistry.prototype.getDefaultComponentElementName=function(){return"ng-component"},DomElementSchemaRegistry.prototype.validateProperty=function(name){if(name.toLowerCase().startsWith("on")){var msg="Binding to event property '"+name+"' is disallowed for security reasons, "+("please use ("+name.slice(2)+")=...")+("\nIf '"+name+"' is a directive input, make sure the directive is imported by the")+" current module.";return{error:!0,msg:msg}}return{error:!1}},DomElementSchemaRegistry.prototype.validateAttribute=function(name){if(name.toLowerCase().startsWith("on")){var msg="Binding to event attribute '"+name+"' is disallowed for security reasons, "+("please use ("+name.slice(2)+")=...");return{error:!0,msg:msg}}return{error:!1}},DomElementSchemaRegistry.decorators=[{type:_angular_core.Injectable}],DomElementSchemaRegistry.ctorParameters=[],DomElementSchemaRegistry}(ElementSchemaRegistry),_NO_RESOURCE_LOADER={get:function(url){throw new Error("No ResourceLoader implementation has been provided. Can't read the url \""+url+'"')}},COMPILER_PROVIDERS=[{provide:Reflector,useValue:reflector},{provide:ReflectorReader,useExisting:Reflector},{provide:ResourceLoader,useValue:_NO_RESOURCE_LOADER},Console,Lexer,Parser,HtmlParser,{provide:I18NHtmlParser,useFactory:function(parser,translations,format){return new I18NHtmlParser(parser,translations,format)},deps:[HtmlParser,[new _angular_core.Optional,new _angular_core.Inject(_angular_core.TRANSLATIONS)],[new _angular_core.Optional,new _angular_core.Inject(_angular_core.TRANSLATIONS_FORMAT)]]},TemplateParser,DirectiveNormalizer,CompileMetadataResolver,DEFAULT_PACKAGE_URL_PROVIDER,StyleCompiler,ViewCompiler,NgModuleCompiler,DirectiveWrapperCompiler,{provide:CompilerConfig,useValue:new CompilerConfig},RuntimeCompiler,{provide:_angular_core.Compiler,useExisting:RuntimeCompiler},DomElementSchemaRegistry,{provide:ElementSchemaRegistry,useExisting:DomElementSchemaRegistry},UrlResolver,DirectiveResolver,PipeResolver,NgModuleResolver],RuntimeCompilerFactory=function(){function RuntimeCompilerFactory(defaultOptions){this._defaultOptions=[{useDebug:_angular_core.isDevMode(),useJit:!0,defaultEncapsulation:_angular_core.ViewEncapsulation.Emulated}].concat(defaultOptions)}return RuntimeCompilerFactory.prototype.createCompiler=function(options){void 0===options&&(options=[]);var mergedOptions=_mergeOptions(this._defaultOptions.concat(options)),injector=_angular_core.ReflectiveInjector.resolveAndCreate([COMPILER_PROVIDERS,{provide:CompilerConfig,useFactory:function(){return new CompilerConfig({genDebugInfo:mergedOptions.useDebug,useJit:mergedOptions.useJit,defaultEncapsulation:mergedOptions.defaultEncapsulation,logBindingUpdate:mergedOptions.useDebug})},deps:[]},mergedOptions.providers]);return injector.get(_angular_core.Compiler)},RuntimeCompilerFactory.decorators=[{type:_angular_core.Injectable}],RuntimeCompilerFactory.ctorParameters=[{type:Array,decorators:[{type:_angular_core.Inject,args:[_angular_core.COMPILER_OPTIONS]}]}],RuntimeCompilerFactory}(),platformCoreDynamic=_angular_core.createPlatformFactory(_angular_core.platformCore,"coreDynamic",[{provide:_angular_core.COMPILER_OPTIONS,useValue:{},multi:!0},{provide:_angular_core.CompilerFactory,useClass:RuntimeCompilerFactory},{provide:_angular_core.PLATFORM_INITIALIZER,useValue:_initReflector,multi:!0}]),_ASSET_URL_RE=/asset:([^\/]+)\/([^\/]+)\/(.+)/,ImportGenerator=function(){function ImportGenerator(){}return ImportGenerator.parseAssetUrl=function(url){return AssetUrl.parse(url)},ImportGenerator}(),AssetUrl=function(){function AssetUrl(packageName,firstLevelDir,modulePath){this.packageName=packageName,this.firstLevelDir=firstLevelDir,this.modulePath=modulePath}return AssetUrl.parse=function(url,allowNonMatching){void 0===allowNonMatching&&(allowNonMatching=!0);var match=url.match(_ASSET_URL_RE);if(null!==match)return new AssetUrl(match[1],match[2],match[3]);if(allowNonMatching)return null;throw new Error("Url "+url+" is not a valid asset: url")},AssetUrl}();exports.TEMPLATE_TRANSFORMS=TEMPLATE_TRANSFORMS,exports.CompilerConfig=CompilerConfig,exports.RenderTypes=RenderTypes,exports.RuntimeCompiler=RuntimeCompiler,exports.DirectiveResolver=DirectiveResolver,exports.PipeResolver=PipeResolver,exports.NgModuleResolver=NgModuleResolver,exports.DEFAULT_INTERPOLATION_CONFIG=DEFAULT_INTERPOLATION_CONFIG,exports.InterpolationConfig=InterpolationConfig,exports.ElementSchemaRegistry=ElementSchemaRegistry,exports.NgModuleCompiler=NgModuleCompiler,exports.DirectiveWrapperCompiler=DirectiveWrapperCompiler,exports.ViewCompiler=ViewCompiler,exports.TextAst=TextAst,exports.BoundTextAst=BoundTextAst,exports.AttrAst=AttrAst,exports.BoundElementPropertyAst=BoundElementPropertyAst,exports.BoundEventAst=BoundEventAst,exports.ReferenceAst=ReferenceAst,exports.VariableAst=VariableAst,exports.ElementAst=ElementAst,exports.EmbeddedTemplateAst=EmbeddedTemplateAst,exports.BoundDirectivePropertyAst=BoundDirectivePropertyAst,exports.DirectiveAst=DirectiveAst,exports.ProviderAst=ProviderAst,exports.NgContentAst=NgContentAst,exports.templateVisitAll=templateVisitAll,exports.CompileMetadataWithIdentifier=CompileMetadataWithIdentifier,exports.CompileAnimationEntryMetadata=CompileAnimationEntryMetadata,exports.CompileAnimationStateMetadata=CompileAnimationStateMetadata,exports.CompileAnimationStateDeclarationMetadata=CompileAnimationStateDeclarationMetadata,exports.CompileAnimationStateTransitionMetadata=CompileAnimationStateTransitionMetadata,exports.CompileAnimationMetadata=CompileAnimationMetadata,exports.CompileAnimationKeyframesSequenceMetadata=CompileAnimationKeyframesSequenceMetadata,exports.CompileAnimationStyleMetadata=CompileAnimationStyleMetadata,exports.CompileAnimationAnimateMetadata=CompileAnimationAnimateMetadata,exports.CompileAnimationWithStepsMetadata=CompileAnimationWithStepsMetadata,exports.CompileAnimationSequenceMetadata=CompileAnimationSequenceMetadata,exports.CompileAnimationGroupMetadata=CompileAnimationGroupMetadata,exports.CompileIdentifierMetadata=CompileIdentifierMetadata,exports.CompileDiDependencyMetadata=CompileDiDependencyMetadata,exports.CompileProviderMetadata=CompileProviderMetadata,exports.CompileFactoryMetadata=CompileFactoryMetadata,exports.CompileTokenMetadata=CompileTokenMetadata,exports.CompileTypeMetadata=CompileTypeMetadata,exports.CompileQueryMetadata=CompileQueryMetadata,exports.CompileStylesheetMetadata=CompileStylesheetMetadata,exports.CompileTemplateMetadata=CompileTemplateMetadata,exports.CompileDirectiveMetadata=CompileDirectiveMetadata,exports.createHostComponentMeta=createHostComponentMeta,exports.CompilePipeMetadata=CompilePipeMetadata,exports.CompileNgModuleMetadata=CompileNgModuleMetadata,exports.TransitiveCompileNgModuleMetadata=TransitiveCompileNgModuleMetadata,exports.removeIdentifierDuplicates=removeIdentifierDuplicates,exports.isStaticSymbol=isStaticSymbol,exports.ProviderMeta=ProviderMeta,exports.SourceModule=SourceModule,exports.NgModulesSummary=NgModulesSummary,exports.analyzeModules=analyzeModules,exports.OfflineCompiler=OfflineCompiler,exports.createUrlResolverWithoutPackagePrefix=createUrlResolverWithoutPackagePrefix,exports.createOfflineCompileUrlResolver=createOfflineCompileUrlResolver,exports.DEFAULT_PACKAGE_URL_PROVIDER=DEFAULT_PACKAGE_URL_PROVIDER,exports.UrlResolver=UrlResolver,exports.getUrlScheme=getUrlScheme,exports.ResourceLoader=ResourceLoader,exports.COMPILER_PROVIDERS=COMPILER_PROVIDERS,exports.RuntimeCompilerFactory=RuntimeCompilerFactory,exports.platformCoreDynamic=platformCoreDynamic,exports.I18NHtmlParser=I18NHtmlParser,exports.MessageBundle=MessageBundle,exports.Xliff=Xliff,exports.Xmb=Xmb,exports.Xtb=Xtb,exports.DirectiveNormalizer=DirectiveNormalizer,exports.Lexer=Lexer,exports.Token=Token,exports.EOF=EOF,exports.isIdentifier=isIdentifier,exports.isQuote=isQuote,exports.SplitInterpolation=SplitInterpolation,exports.TemplateBindingParseResult=TemplateBindingParseResult,exports.Parser=Parser,exports._ParseAST=_ParseAST,exports.CompileMetadataResolver=CompileMetadataResolver,exports.HtmlParser=HtmlParser,exports.ParseTreeResult=ParseTreeResult,exports.TreeError=TreeError,exports.ImportGenerator=ImportGenerator,exports.AssetUrl=AssetUrl,exports.debugOutputAstAsTypeScript=debugOutputAstAsTypeScript,exports.TypeScriptEmitter=TypeScriptEmitter,exports.ParseLocation=ParseLocation,exports.ParseSourceFile=ParseSourceFile,exports.ParseSourceSpan=ParseSourceSpan,exports.ParseError=ParseError,exports.DomElementSchemaRegistry=DomElementSchemaRegistry,exports.CssSelector=CssSelector,exports.SelectorMatcher=SelectorMatcher,exports.SelectorListContext=SelectorListContext,exports.SelectorContext=SelectorContext,exports.StylesCompileDependency=StylesCompileDependency,exports.StylesCompileResult=StylesCompileResult,exports.CompiledStylesheet=CompiledStylesheet,exports.StyleCompiler=StyleCompiler,exports.TemplateParseError=TemplateParseError,exports.TemplateParseResult=TemplateParseResult,exports.TemplateParser=TemplateParser,exports.splitClasses=splitClasses,exports.PipeCollector=PipeCollector})},{"@angular/core":4}],4:[function(require,module,exports){(function(global){!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports,require("rxjs/Subject"),require("rxjs/Observable")):"function"==typeof define&&define.amd?define(["exports","rxjs/Subject","rxjs/Observable"],factory):factory((global.ng=global.ng||{},global.ng.core=global.ng.core||{}),global.Rx,global.Rx)}(this,function(exports,rxjs_Subject,rxjs_Observable){"use strict";function scheduleMicroTask(fn){Zone.current.scheduleMicroTask("scheduleMicrotask",fn)}function getTypeNameForDebugging(type){return type.name||typeof type}function isPresent(obj){return void 0!==obj&&null!==obj}function isBlank(obj){return void 0===obj||null===obj}function stringify(token){if("string"==typeof token)return token;if(void 0===token||null===token)return""+token;if(token.overriddenName)return token.overriddenName;if(token.name)return token.name;var res=token.toString(),newLineIndex=res.indexOf("\n");return-1===newLineIndex?res:res.substring(0,newLineIndex)}function looseIdentical(a,b){return a===b||"number"==typeof a&&"number"==typeof b&&isNaN(a)&&isNaN(b)}function isJsObject(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function print(obj){console.log(obj)}function warn(obj){console.warn(obj)}function getSymbolIterator(){if(isBlank(_symbolIterator))if(isPresent(globalScope.Symbol)&&isPresent(Symbol.iterator))_symbolIterator=Symbol.iterator;else for(var keys=Object.getOwnPropertyNames(Map.prototype),i=0;i<keys.length;++i){var key=keys[i];"entries"!==key&&"size"!==key&&Map.prototype[key]===Map.prototype.entries&&(_symbolIterator=key)}return _symbolIterator}function isPrimitive(obj){return!isJsObject(obj)}function extractAnnotation(annotation){return"function"==typeof annotation&&annotation.hasOwnProperty("annotation")&&(annotation=annotation.annotation),annotation}function applyParams(fnOrArray,key){if(fnOrArray===Object||fnOrArray===String||fnOrArray===Function||fnOrArray===Number||fnOrArray===Array)throw new Error("Can not use native "+stringify(fnOrArray)+" as constructor");if("function"==typeof fnOrArray)return fnOrArray;if(Array.isArray(fnOrArray)){var annotations=fnOrArray,annoLength=annotations.length-1,fn=fnOrArray[annoLength];if("function"!=typeof fn)throw new Error("Last position of Class method array must be Function in key "+key+" was '"+stringify(fn)+"'");if(annoLength!=fn.length)throw new Error("Number of annotations ("+annoLength+") does not match number of arguments ("+fn.length+") in the function: "+stringify(fn));for(var paramsAnnotations=[],i=0,ii=annotations.length-1;ii>i;i++){var paramAnnotations=[];paramsAnnotations.push(paramAnnotations);var annotation=annotations[i];if(Array.isArray(annotation))for(var j=0;j<annotation.length;j++)paramAnnotations.push(extractAnnotation(annotation[j]));else"function"==typeof annotation?paramAnnotations.push(extractAnnotation(annotation)):paramAnnotations.push(annotation)}return Reflect.defineMetadata("parameters",paramsAnnotations,fn),fn}throw new Error("Only Function or Array is supported in Class definition for key '"+key+"' is '"+stringify(fnOrArray)+"'")}function Class(clsDef){var constructor=applyParams(clsDef.hasOwnProperty("constructor")?clsDef.constructor:void 0,"constructor"),proto=constructor.prototype;if(clsDef.hasOwnProperty("extends")){if("function"!=typeof clsDef.extends)throw new Error("Class definition 'extends' property must be a constructor function was: "+stringify(clsDef.extends));constructor.prototype=proto=Object.create(clsDef.extends.prototype)}for(var key in clsDef)"extends"!==key&&"prototype"!==key&&clsDef.hasOwnProperty(key)&&(proto[key]=applyParams(clsDef[key],key));this&&this.annotations instanceof Array&&Reflect.defineMetadata("annotations",this.annotations,constructor);var constructorName=constructor.name;return constructorName&&"constructor"!==constructorName||(constructor.overriddenName="class"+_nextClassId++),constructor}function makeDecorator(name,props,parentClass,chainFn){function DecoratorFactory(objOrType){if(!Reflect||!Reflect.getMetadata)throw"reflect-metadata shim is required when using class decorators";if(this instanceof DecoratorFactory)return metaCtor.call(this,objOrType),this;var annotationInstance=new DecoratorFactory(objOrType),chainAnnotation="function"==typeof this&&Array.isArray(this.annotations)?this.annotations:[];chainAnnotation.push(annotationInstance);var TypeDecorator=function(cls){var annotations=Reflect.getOwnMetadata("annotations",cls)||[];return annotations.push(annotationInstance),Reflect.defineMetadata("annotations",annotations,cls),cls};return TypeDecorator.annotations=chainAnnotation,TypeDecorator.Class=Class,chainFn&&chainFn(TypeDecorator),TypeDecorator}void 0===chainFn&&(chainFn=null);var metaCtor=makeMetadataCtor([props]);return parentClass&&(DecoratorFactory.prototype=Object.create(parentClass.prototype)),DecoratorFactory.prototype.toString=function(){return"@"+name},DecoratorFactory.annotationCls=DecoratorFactory,DecoratorFactory}function makeMetadataCtor(props){return function(){for(var _this=this,args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];props.forEach(function(prop,i){var argVal=args[i];if(Array.isArray(prop))_this[prop[0]]=void 0===argVal?prop[1]:argVal;else for(var propName in prop)_this[propName]=argVal&&argVal.hasOwnProperty(propName)?argVal[propName]:prop[propName]})}}function makeParamDecorator(name,props,parentClass){function ParamDecoratorFactory(){function ParamDecorator(cls,unusedKey,index){for(var parameters=Reflect.getMetadata("parameters",cls)||[];parameters.length<=index;)parameters.push(null);return parameters[index]=parameters[index]||[],parameters[index].push(annotationInstance),Reflect.defineMetadata("parameters",parameters,cls),cls}for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];if(this instanceof ParamDecoratorFactory)return metaCtor.apply(this,args),this;var annotationInstance=new((_a=ParamDecoratorFactory).bind.apply(_a,[void 0].concat(args)));return ParamDecorator.annotation=annotationInstance,ParamDecorator;var _a}var metaCtor=makeMetadataCtor(props);return parentClass&&(ParamDecoratorFactory.prototype=Object.create(parentClass.prototype)),ParamDecoratorFactory.prototype.toString=function(){return"@"+name},ParamDecoratorFactory.annotationCls=ParamDecoratorFactory,ParamDecoratorFactory}function makePropDecorator(name,props,parentClass){function PropDecoratorFactory(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];if(this instanceof PropDecoratorFactory)return metaCtor.apply(this,args),this;var decoratorInstance=new((_a=PropDecoratorFactory).bind.apply(_a,[void 0].concat(args)));return function(target,name){var meta=Reflect.getOwnMetadata("propMetadata",target.constructor)||{};meta[name]=meta.hasOwnProperty(name)&&meta[name]||[],meta[name].unshift(decoratorInstance),Reflect.defineMetadata("propMetadata",meta,target.constructor)};var _a}var metaCtor=makeMetadataCtor(props);return parentClass&&(PropDecoratorFactory.prototype=Object.create(parentClass.prototype)),PropDecoratorFactory.prototype.toString=function(){return"@"+name},PropDecoratorFactory.annotationCls=PropDecoratorFactory,PropDecoratorFactory}function isDefaultChangeDetectionStrategy(changeDetectionStrategy){return isBlank(changeDetectionStrategy)||changeDetectionStrategy===exports.ChangeDetectionStrategy.Default}function forwardRef(forwardRefFn){return forwardRefFn.__forward_ref__=forwardRef,forwardRefFn.toString=function(){return stringify(this())},forwardRefFn}function resolveForwardRef(type){return"function"==typeof type&&type.hasOwnProperty("__forward_ref__")&&type.__forward_ref__===forwardRef?type():type}function unimplemented(){throw new Error("unimplemented")}function _flattenArray(source,target){if(isPresent(source))for(var i=0;i<source.length;i++){var item=source[i];Array.isArray(item)?_flattenArray(item,target):target.push(item)}return target}function isListLikeIterable(obj){return isJsObject(obj)?Array.isArray(obj)||!(obj instanceof Map)&&getSymbolIterator()in obj:!1}function areIterablesEqual(a,b,comparator){for(var iterator1=a[getSymbolIterator()](),iterator2=b[getSymbolIterator()]();;){var item1=iterator1.next(),item2=iterator2.next();if(item1.done&&item2.done)return!0;if(item1.done||item2.done)return!1;if(!comparator(item1.value,item2.value))return!1}}function iterateListLike(obj,fn){if(Array.isArray(obj))for(var i=0;i<obj.length;i++)fn(obj[i]);else for(var iterator=obj[getSymbolIterator()](),item=void 0;!(item=iterator.next()).done;)fn(item.value)}function findFirstClosedCycle(keys){for(var res=[],i=0;i<keys.length;++i){if(ListWrapper.contains(res,keys[i]))return res.push(keys[i]),res;res.push(keys[i])}return res}function constructResolvingPath(keys){if(keys.length>1){var reversed=findFirstClosedCycle(ListWrapper.reversed(keys)),tokenStrs=reversed.map(function(k){return stringify(k.token)});return" ("+tokenStrs.join(" -> ")+")"}return""}function convertTsickleDecoratorIntoMetadata(decoratorInvocations){return decoratorInvocations?decoratorInvocations.map(function(decoratorInvocation){var decoratorType=decoratorInvocation.type,annotationCls=decoratorType.annotationCls,annotationArgs=decoratorInvocation.args?decoratorInvocation.args:[];return new(annotationCls.bind.apply(annotationCls,[void 0].concat(annotationArgs)))}):[]}function resolveReflectiveFactory(provider){var factoryFn,resolvedDeps;if(isPresent(provider.useClass)){var useClass=resolveForwardRef(provider.useClass);factoryFn=reflector.factory(useClass),resolvedDeps=_dependenciesFor(useClass)}else isPresent(provider.useExisting)?(factoryFn=function(aliasInstance){return aliasInstance},resolvedDeps=[ReflectiveDependency.fromKey(ReflectiveKey.get(provider.useExisting))]):isPresent(provider.useFactory)?(factoryFn=provider.useFactory,resolvedDeps=constructDependencies(provider.useFactory,provider.deps)):(factoryFn=function(){return provider.useValue},resolvedDeps=_EMPTY_LIST);return new ResolvedReflectiveFactory(factoryFn,resolvedDeps)}function resolveReflectiveProvider(provider){return new ResolvedReflectiveProvider_(ReflectiveKey.get(provider.provide),[resolveReflectiveFactory(provider)],provider.multi)}function resolveReflectiveProviders(providers){var normalized=_normalizeProviders(providers,[]),resolved=normalized.map(resolveReflectiveProvider);return MapWrapper.values(mergeResolvedReflectiveProviders(resolved,new Map))}function mergeResolvedReflectiveProviders(providers,normalizedProvidersMap){for(var i=0;i<providers.length;i++){var provider=providers[i],existing=normalizedProvidersMap.get(provider.key.id);if(isPresent(existing)){if(provider.multiProvider!==existing.multiProvider)throw new MixingMultiProvidersWithRegularProvidersError(existing,provider);if(provider.multiProvider)for(var j=0;j<provider.resolvedFactories.length;j++)existing.resolvedFactories.push(provider.resolvedFactories[j]);else normalizedProvidersMap.set(provider.key.id,provider)}else{var resolvedProvider;resolvedProvider=provider.multiProvider?new ResolvedReflectiveProvider_(provider.key,ListWrapper.clone(provider.resolvedFactories),provider.multiProvider):provider,normalizedProvidersMap.set(provider.key.id,resolvedProvider)}}return normalizedProvidersMap}function _normalizeProviders(providers,res){return providers.forEach(function(b){if(b instanceof Type)res.push({provide:b,useClass:b});else if(b&&"object"==typeof b&&void 0!==b.provide)res.push(b);else{if(!(b instanceof Array))throw new InvalidProviderError(b);_normalizeProviders(b,res)}}),res}function constructDependencies(typeOrFunc,dependencies){if(dependencies){var params=dependencies.map(function(t){return[t]});return dependencies.map(function(t){return _extractToken(typeOrFunc,t,params)})}return _dependenciesFor(typeOrFunc)}function _dependenciesFor(typeOrFunc){var params=reflector.parameters(typeOrFunc);if(!params)return[];if(params.some(isBlank))throw new NoAnnotationError(typeOrFunc,params);return params.map(function(p){return _extractToken(typeOrFunc,p,params)})}function _extractToken(typeOrFunc,metadata,params){var depProps=[],token=null,optional=!1;if(!Array.isArray(metadata))return metadata instanceof Inject?_createDependency(metadata.token,optional,null,null,depProps):_createDependency(metadata,optional,null,null,depProps);for(var lowerBoundVisibility=null,upperBoundVisibility=null,i=0;i<metadata.length;++i){var paramMetadata=metadata[i];paramMetadata instanceof Type?token=paramMetadata:paramMetadata instanceof Inject?token=paramMetadata.token:paramMetadata instanceof Optional?optional=!0:paramMetadata instanceof Self?upperBoundVisibility=paramMetadata:paramMetadata instanceof Host?upperBoundVisibility=paramMetadata:paramMetadata instanceof SkipSelf&&(lowerBoundVisibility=paramMetadata)}if(token=resolveForwardRef(token),isPresent(token))return _createDependency(token,optional,lowerBoundVisibility,upperBoundVisibility,depProps);throw new NoAnnotationError(typeOrFunc,params)}function _createDependency(token,optional,lowerBoundVisibility,upperBoundVisibility,depProps){return new ReflectiveDependency(ReflectiveKey.get(token),optional,lowerBoundVisibility,upperBoundVisibility,depProps)}function _mapProviders(injector,fn){for(var res=new Array(injector._proto.numberOfProviders),i=0;i<injector._proto.numberOfProviders;++i)res[i]=fn(injector._proto.getProviderAtIndex(i));return res}function isPromise(obj){return!!obj&&"function"==typeof obj.then}function _appIdRandomProviderFactory(){return""+_randomChar()+_randomChar()+_randomChar()}function _randomChar(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function _throwError(){throw new Error("Runtime compiler is not loaded")}function getPreviousIndex(item,addRemoveOffset,moveOffsets){var previousIndex=item.previousIndex;if(null===previousIndex)return previousIndex;var moveOffset=0;return moveOffsets&&previousIndex<moveOffsets.length&&(moveOffset=moveOffsets[previousIndex]),previousIndex+addRemoveOffset+moveOffset}function devModeEqual(a,b){return isListLikeIterable(a)&&isListLikeIterable(b)?areIterablesEqual(a,b,devModeEqual):isListLikeIterable(a)||isPrimitive(a)||isListLikeIterable(b)||isPrimitive(b)?looseIdentical(a,b):!0}function detectWTF(){var wtf=global$1.wtf;return wtf&&(trace=wtf.trace)?(events=trace.events,!0):!1}function createScope(signature,flags){return void 0===flags&&(flags=null),events.createScope(signature,flags)}function leave(scope,returnValue){return trace.leaveScope(scope,returnValue),returnValue}function startTimeRange(rangeType,action){return trace.beginTimeRange(rangeType,action)}function endTimeRange(range){trace.endTimeRange(range)}function noopScope(arg0,arg1){return null}function flattenNestedViewRenderNodes(nodes){return _flattenNestedViewRenderNodes(nodes,[])}function _flattenNestedViewRenderNodes(nodes,renderNodes){for(var i=0;i<nodes.length;i++){var node=nodes[i];if(node instanceof AppElement){var appEl=node;if(renderNodes.push(appEl.nativeElement),isPresent(appEl.nestedViews))for(var k=0;k<appEl.nestedViews.length;k++)_flattenNestedViewRenderNodes(appEl.nestedViews[k].rootNodesOrAppElements,renderNodes)}else renderNodes.push(node)}return renderNodes}function ensureSlotCount(projectableNodes,expectedSlotCount){var res;if(projectableNodes)if(projectableNodes.length<expectedSlotCount){var givenSlotCount=projectableNodes.length;res=new Array(expectedSlotCount);for(var i=0;expectedSlotCount>i;i++)res[i]=givenSlotCount>i?projectableNodes[i]:EMPTY_ARR}else res=projectableNodes;else res=EMPTY_ARR;return res}function interpolate(valueCount,c0,a1,c1,a2,c2,a3,c3,a4,c4,a5,c5,a6,c6,a7,c7,a8,c8,a9,c9){switch(valueCount){case 1:return c0+_toStringWithNull(a1)+c1;case 2:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2;case 3:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3;case 4:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4;case 5:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5;case 6:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6;case 7:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7;case 8:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7+_toStringWithNull(a8)+c8;case 9:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7+_toStringWithNull(a8)+c8+_toStringWithNull(a9)+c9;default:throw new Error("Does not support more than 9 expressions")}}function _toStringWithNull(v){return null!=v?v.toString():""}function checkBinding(throwOnChange,oldValue,newValue){if(throwOnChange){if(!devModeEqual(oldValue,newValue))throw new ExpressionChangedAfterItHasBeenCheckedError(oldValue,newValue);return!1}return!looseIdentical(oldValue,newValue)}function castByValue(input,value){return input}function pureProxy1(fn){var result,v0=UNINITIALIZED;return function(p0){return looseIdentical(v0,p0)||(v0=p0,result=fn(p0)),result}}function pureProxy2(fn){var result,v0=UNINITIALIZED,v1=UNINITIALIZED;return function(p0,p1){return looseIdentical(v0,p0)&&looseIdentical(v1,p1)||(v0=p0,v1=p1,result=fn(p0,p1)),result}}function pureProxy3(fn){var result,v0=UNINITIALIZED,v1=UNINITIALIZED,v2=UNINITIALIZED;return function(p0,p1,p2){return looseIdentical(v0,p0)&&looseIdentical(v1,p1)&&looseIdentical(v2,p2)||(v0=p0,v1=p1,v2=p2,result=fn(p0,p1,p2)),result}}function pureProxy4(fn){var result,v0,v1,v2,v3;return v0=v1=v2=v3=UNINITIALIZED,function(p0,p1,p2,p3){return looseIdentical(v0,p0)&&looseIdentical(v1,p1)&&looseIdentical(v2,p2)&&looseIdentical(v3,p3)||(v0=p0,v1=p1,v2=p2,v3=p3,result=fn(p0,p1,p2,p3)),result}}function pureProxy5(fn){var result,v0,v1,v2,v3,v4;return v0=v1=v2=v3=v4=UNINITIALIZED,function(p0,p1,p2,p3,p4){return looseIdentical(v0,p0)&&looseIdentical(v1,p1)&&looseIdentical(v2,p2)&&looseIdentical(v3,p3)&&looseIdentical(v4,p4)||(v0=p0,v1=p1,v2=p2,v3=p3,v4=p4,result=fn(p0,p1,p2,p3,p4)),result}}function pureProxy6(fn){var result,v0,v1,v2,v3,v4,v5;return v0=v1=v2=v3=v4=v5=UNINITIALIZED,function(p0,p1,p2,p3,p4,p5){return looseIdentical(v0,p0)&&looseIdentical(v1,p1)&&looseIdentical(v2,p2)&&looseIdentical(v3,p3)&&looseIdentical(v4,p4)&&looseIdentical(v5,p5)||(v0=p0,v1=p1,v2=p2,v3=p3,v4=p4,v5=p5,result=fn(p0,p1,p2,p3,p4,p5)),result}}function pureProxy7(fn){var result,v0,v1,v2,v3,v4,v5,v6;return v0=v1=v2=v3=v4=v5=v6=UNINITIALIZED,function(p0,p1,p2,p3,p4,p5,p6){return looseIdentical(v0,p0)&&looseIdentical(v1,p1)&&looseIdentical(v2,p2)&&looseIdentical(v3,p3)&&looseIdentical(v4,p4)&&looseIdentical(v5,p5)&&looseIdentical(v6,p6)||(v0=p0,v1=p1,v2=p2,v3=p3,v4=p4,v5=p5,v6=p6,result=fn(p0,p1,p2,p3,p4,p5,p6)),result}}function pureProxy8(fn){var result,v0,v1,v2,v3,v4,v5,v6,v7;return v0=v1=v2=v3=v4=v5=v6=v7=UNINITIALIZED,function(p0,p1,p2,p3,p4,p5,p6,p7){return looseIdentical(v0,p0)&&looseIdentical(v1,p1)&&looseIdentical(v2,p2)&&looseIdentical(v3,p3)&&looseIdentical(v4,p4)&&looseIdentical(v5,p5)&&looseIdentical(v6,p6)&&looseIdentical(v7,p7)||(v0=p0,v1=p1,v2=p2,v3=p3,v4=p4,v5=p5,v6=p6,v7=p7,result=fn(p0,p1,p2,p3,p4,p5,p6,p7)),result}}function pureProxy9(fn){var result,v0,v1,v2,v3,v4,v5,v6,v7,v8;return v0=v1=v2=v3=v4=v5=v6=v7=v8=UNINITIALIZED,function(p0,p1,p2,p3,p4,p5,p6,p7,p8){return looseIdentical(v0,p0)&&looseIdentical(v1,p1)&&looseIdentical(v2,p2)&&looseIdentical(v3,p3)&&looseIdentical(v4,p4)&&looseIdentical(v5,p5)&&looseIdentical(v6,p6)&&looseIdentical(v7,p7)&&looseIdentical(v8,p8)||(v0=p0,v1=p1,v2=p2,v3=p3,v4=p4,v5=p5,v6=p6,v7=p7,v8=p8,result=fn(p0,p1,p2,p3,p4,p5,p6,p7,p8)),result}}function pureProxy10(fn){var result,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9;return v0=v1=v2=v3=v4=v5=v6=v7=v8=v9=UNINITIALIZED,function(p0,p1,p2,p3,p4,p5,p6,p7,p8,p9){return looseIdentical(v0,p0)&&looseIdentical(v1,p1)&&looseIdentical(v2,p2)&&looseIdentical(v3,p3)&&looseIdentical(v4,p4)&&looseIdentical(v5,p5)&&looseIdentical(v6,p6)&&looseIdentical(v7,p7)&&looseIdentical(v8,p8)&&looseIdentical(v9,p9)||(v0=p0,v1=p1,v2=p2,v3=p3,v4=p4,v5=p5,v6=p6,v7=p7,v8=p8,v9=p9,result=fn(p0,p1,p2,p3,p4,p5,p6,p7,p8,p9)),result}}function setBindingDebugInfoForChanges(renderer,el,changes){
Object.keys(changes).forEach(function(propName){setBindingDebugInfo(renderer,el,propName,changes[propName].currentValue)})}function setBindingDebugInfo(renderer,el,propName,value){try{renderer.setBindingDebugInfo(el,"ng-reflect-"+camelCaseToDashCase(propName),value?value.toString():null)}catch(e){renderer.setBindingDebugInfo(el,"ng-reflect-"+camelCaseToDashCase(propName),"[ERROR] Exception while trying to serialize the value")}}function camelCaseToDashCase(input){return input.replace(CAMEL_CASE_REGEXP,function(){for(var m=[],_i=0;_i<arguments.length;_i++)m[_i-0]=arguments[_i];return"-"+m[1].toLowerCase()})}function setTestabilityGetter(getter){_testabilityGetter=getter}function enableProdMode(){if(_runModeLocked)throw new Error("Cannot enable prod mode after platform setup.");_devMode=!1}function isDevMode(){return _runModeLocked=!0,_devMode}function createPlatform(injector){if(_platform&&!_platform.destroyed)throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_platform=injector.get(PlatformRef);var inits=injector.get(PLATFORM_INITIALIZER,null);return inits&&inits.forEach(function(init){return init()}),_platform}function createPlatformFactory(parentPlaformFactory,name,providers){void 0===providers&&(providers=[]);var marker=new OpaqueToken("Platform: "+name);return function(extraProviders){return void 0===extraProviders&&(extraProviders=[]),getPlatform()||(parentPlaformFactory?parentPlaformFactory(providers.concat(extraProviders).concat({provide:marker,useValue:!0})):createPlatform(ReflectiveInjector.resolveAndCreate(providers.concat(extraProviders).concat({provide:marker,useValue:!0})))),assertPlatform(marker)}}function assertPlatform(requiredToken){var platform=getPlatform();if(!platform)throw new Error("No platform exists!");if(!platform.injector.get(requiredToken,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return platform}function destroyPlatform(){_platform&&!_platform.destroyed&&_platform.destroy()}function getPlatform(){return _platform&&!_platform.destroyed?_platform:null}function _callAndReportToErrorHandler(errorHandler,callback){try{var result=callback();return isPromise(result)?result.catch(function(e){throw errorHandler.handleError(e),e}):result}catch(e){throw errorHandler.handleError(e),e}}function registerModuleFactory(id,factory){var existing=moduleFactories.get(id);if(existing)throw new Error("Duplicate module registered for "+id+" - "+existing.moduleType.name+" vs "+factory.moduleType.name);moduleFactories.set(id,factory)}function getModuleFactory(id){var factory=moduleFactories.get(id);if(!factory)throw new Error("No module with ID "+id+" loaded");return factory}function checkNotEmpty(value,modulePath,exportName){if(!value)throw new Error("Cannot find '"+exportName+"' in '"+modulePath+"'");return value}function queueAnimationGlobally(player){_queuedAnimations.push(player)}function triggerQueuedAnimations(){for(var i=0;i<_queuedAnimations.length;i++){var player=_queuedAnimations[i];player.play()}_queuedAnimations=[]}function asNativeElements(debugEls){return debugEls.map(function(el){return el.nativeElement})}function _queryElementChildren(element,predicate,matches){element.childNodes.forEach(function(node){node instanceof DebugElement&&(predicate(node)&&matches.push(node),_queryElementChildren(node,predicate,matches))})}function _queryNodeChildren(parentNode,predicate,matches){parentNode instanceof DebugElement&&parentNode.childNodes.forEach(function(node){predicate(node)&&matches.push(node),node instanceof DebugElement&&_queryNodeChildren(node,predicate,matches)})}function getDebugNode(nativeNode){return _nativeNodeToDebugNode.get(nativeNode)}function indexDebugNode(node){_nativeNodeToDebugNode.set(node.nativeNode,node)}function removeDebugNodeFromIndex(node){_nativeNodeToDebugNode.delete(node.nativeNode)}function _reflector(){return reflector}function _iterableDiffersFactory(){return defaultIterableDiffers}function _keyValueDiffersFactory(){return defaultKeyValueDiffers}function animate(timing,styles){void 0===styles&&(styles=null);var stylesEntry=styles;if(!isPresent(stylesEntry)){var EMPTY_STYLE={};stylesEntry=new AnimationStyleMetadata([EMPTY_STYLE],1)}return new AnimationAnimateMetadata(timing,stylesEntry)}function group(steps){return new AnimationGroupMetadata(steps)}function sequence(steps){return new AnimationSequenceMetadata(steps)}function style(tokens){var input,offset=null;return"string"==typeof tokens?input=[tokens]:(input=Array.isArray(tokens)?tokens:[tokens],input.forEach(function(entry){var entryOffset=entry.offset;isPresent(entryOffset)&&(offset=null==offset?parseFloat(entryOffset):offset)})),new AnimationStyleMetadata(input,offset)}function state(stateNameExpr,styles){return new AnimationStateDeclarationMetadata(stateNameExpr,styles)}function keyframes(steps){return new AnimationKeyframesSequenceMetadata(steps)}function transition(stateChangeExpr,steps){var animationData=Array.isArray(steps)?new AnimationSequenceMetadata(steps):steps;return new AnimationStateTransitionMetadata(stateChangeExpr,animationData)}function trigger(name,animation){return new AnimationEntryMetadata(name,animation)}function prepareFinalAnimationStyles(previousStyles,newStyles,nullValue){void 0===nullValue&&(nullValue=null);var finalStyles={};return Object.keys(newStyles).forEach(function(prop){var value=newStyles[prop];finalStyles[prop]=value==AUTO_STYLE?nullValue:value.toString()}),Object.keys(previousStyles).forEach(function(prop){isPresent(finalStyles[prop])||(finalStyles[prop]=nullValue)}),finalStyles}function balanceAnimationKeyframes(collectedStyles,finalStateStyles,keyframes){var limit=keyframes.length-1,firstKeyframe=keyframes[0],flatenedFirstKeyframeStyles=flattenStyles(firstKeyframe.styles.styles),extraFirstKeyframeStyles={},hasExtraFirstStyles=!1;Object.keys(collectedStyles).forEach(function(prop){var value=collectedStyles[prop];flatenedFirstKeyframeStyles[prop]||(flatenedFirstKeyframeStyles[prop]=value,extraFirstKeyframeStyles[prop]=value,hasExtraFirstStyles=!0)});var keyframeCollectedStyles=StringMapWrapper.merge({},flatenedFirstKeyframeStyles),finalKeyframe=keyframes[limit];ListWrapper.insert(finalKeyframe.styles.styles,0,finalStateStyles);var flatenedFinalKeyframeStyles=flattenStyles(finalKeyframe.styles.styles),extraFinalKeyframeStyles={},hasExtraFinalStyles=!1;return Object.keys(keyframeCollectedStyles).forEach(function(prop){isPresent(flatenedFinalKeyframeStyles[prop])||(extraFinalKeyframeStyles[prop]=AUTO_STYLE,hasExtraFinalStyles=!0)}),hasExtraFinalStyles&&finalKeyframe.styles.styles.push(extraFinalKeyframeStyles),Object.keys(flatenedFinalKeyframeStyles).forEach(function(prop){isPresent(flatenedFirstKeyframeStyles[prop])||(extraFirstKeyframeStyles[prop]=AUTO_STYLE,hasExtraFirstStyles=!0)}),hasExtraFirstStyles&&firstKeyframe.styles.styles.push(extraFirstKeyframeStyles),keyframes}function clearStyles(styles){var finalStyles={};return Object.keys(styles).forEach(function(key){finalStyles[key]=null}),finalStyles}function collectAndResolveStyles(collection,styles){return styles.map(function(entry){var stylesObj={};return Object.keys(entry).forEach(function(prop){var value=entry[prop];value==FILL_STYLE_FLAG&&(value=collection[prop],isPresent(value)||(value=AUTO_STYLE)),collection[prop]=value,stylesObj[prop]=value}),stylesObj})}function renderStyles(element,renderer,styles){Object.keys(styles).forEach(function(prop){renderer.setElementStyle(element,prop,styles[prop])})}function flattenStyles(styles){var finalStyles={};return styles.forEach(function(entry){Object.keys(entry).forEach(function(prop){finalStyles[prop]=entry[prop]})}),finalStyles}function _findLastRenderNode(node){var lastNode;if(node instanceof AppElement){var appEl=node;if(lastNode=appEl.nativeElement,isPresent(appEl.nestedViews))for(var i=appEl.nestedViews.length-1;i>=0;i--){var nestedView=appEl.nestedViews[i];nestedView.rootNodesOrAppElements.length>0&&(lastNode=_findLastRenderNode(nestedView.rootNodesOrAppElements[nestedView.rootNodesOrAppElements.length-1]))}}else lastNode=node;return lastNode}var globalScope;globalScope="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var global$1=globalScope;global$1.assert=function(condition){};var _symbolIterator=null,_nextClassId=0,Reflect=global$1.Reflect,Inject=makeParamDecorator("Inject",[["token",void 0]]),Optional=makeParamDecorator("Optional",[]),Injectable=makeParamDecorator("Injectable",[]),Self=makeParamDecorator("Self",[]),SkipSelf=makeParamDecorator("SkipSelf",[]),Host=makeParamDecorator("Host",[]),OpaqueToken=function(){function OpaqueToken(_desc){this._desc=_desc}return OpaqueToken.prototype.toString=function(){return"Token "+this._desc},OpaqueToken.decorators=[{type:Injectable}],OpaqueToken.ctorParameters=[null],OpaqueToken}(),ANALYZE_FOR_ENTRY_COMPONENTS=new OpaqueToken("AnalyzeForEntryComponents"),Attribute=makeParamDecorator("Attribute",[["attributeName",void 0]]),Query=function(){function Query(){}return Query}(),ContentChildren=makePropDecorator("ContentChildren",[["selector",void 0],{first:!1,isViewQuery:!1,descendants:!1,read:void 0}],Query),ContentChild=makePropDecorator("ContentChild",[["selector",void 0],{first:!0,isViewQuery:!1,descendants:!0,read:void 0}],Query),ViewChildren=makePropDecorator("ViewChildren",[["selector",void 0],{first:!1,isViewQuery:!0,descendants:!0,read:void 0}],Query),ViewChild=makePropDecorator("ViewChild",[["selector",void 0],{first:!0,isViewQuery:!0,descendants:!0,read:void 0}],Query);exports.ChangeDetectionStrategy,function(ChangeDetectionStrategy){ChangeDetectionStrategy[ChangeDetectionStrategy.OnPush=0]="OnPush",ChangeDetectionStrategy[ChangeDetectionStrategy.Default=1]="Default"}(exports.ChangeDetectionStrategy||(exports.ChangeDetectionStrategy={}));var ChangeDetectorStatus;!function(ChangeDetectorStatus){ChangeDetectorStatus[ChangeDetectorStatus.CheckOnce=0]="CheckOnce",ChangeDetectorStatus[ChangeDetectorStatus.Checked=1]="Checked",ChangeDetectorStatus[ChangeDetectorStatus.CheckAlways=2]="CheckAlways",ChangeDetectorStatus[ChangeDetectorStatus.Detached=3]="Detached",ChangeDetectorStatus[ChangeDetectorStatus.Errored=4]="Errored",ChangeDetectorStatus[ChangeDetectorStatus.Destroyed=5]="Destroyed"}(ChangeDetectorStatus||(ChangeDetectorStatus={}));var LifecycleHooks,Directive=makeDecorator("Directive",{selector:void 0,inputs:void 0,outputs:void 0,host:void 0,providers:void 0,exportAs:void 0,queries:void 0}),Component=makeDecorator("Component",{selector:void 0,inputs:void 0,outputs:void 0,host:void 0,exportAs:void 0,moduleId:void 0,providers:void 0,viewProviders:void 0,changeDetection:exports.ChangeDetectionStrategy.Default,queries:void 0,templateUrl:void 0,template:void 0,styleUrls:void 0,styles:void 0,animations:void 0,encapsulation:void 0,interpolation:void 0,entryComponents:void 0},Directive),Pipe=makeDecorator("Pipe",{name:void 0,pure:!0}),Input=makePropDecorator("Input",[["bindingPropertyName",void 0]]),Output=makePropDecorator("Output",[["bindingPropertyName",void 0]]),HostBinding=makePropDecorator("HostBinding",[["hostPropertyName",void 0]]),HostListener=makePropDecorator("HostListener",[["eventName",void 0],["args",[]]]);!function(LifecycleHooks){LifecycleHooks[LifecycleHooks.OnInit=0]="OnInit",LifecycleHooks[LifecycleHooks.OnDestroy=1]="OnDestroy",LifecycleHooks[LifecycleHooks.DoCheck=2]="DoCheck",LifecycleHooks[LifecycleHooks.OnChanges=3]="OnChanges",LifecycleHooks[LifecycleHooks.AfterContentInit=4]="AfterContentInit",LifecycleHooks[LifecycleHooks.AfterContentChecked=5]="AfterContentChecked",LifecycleHooks[LifecycleHooks.AfterViewInit=6]="AfterViewInit",LifecycleHooks[LifecycleHooks.AfterViewChecked=7]="AfterViewChecked"}(LifecycleHooks||(LifecycleHooks={}));var LIFECYCLE_HOOKS_VALUES=[LifecycleHooks.OnInit,LifecycleHooks.OnDestroy,LifecycleHooks.DoCheck,LifecycleHooks.OnChanges,LifecycleHooks.AfterContentInit,LifecycleHooks.AfterContentChecked,LifecycleHooks.AfterViewInit,LifecycleHooks.AfterViewChecked],OnChanges=function(){function OnChanges(){}return OnChanges}(),OnInit=function(){function OnInit(){}return OnInit}(),DoCheck=function(){function DoCheck(){}return DoCheck}(),OnDestroy=function(){function OnDestroy(){}return OnDestroy}(),AfterContentInit=function(){function AfterContentInit(){}return AfterContentInit}(),AfterContentChecked=function(){function AfterContentChecked(){}return AfterContentChecked}(),AfterViewInit=function(){function AfterViewInit(){}return AfterViewInit}(),AfterViewChecked=function(){function AfterViewChecked(){}return AfterViewChecked}(),CUSTOM_ELEMENTS_SCHEMA={name:"custom-elements"},NO_ERRORS_SCHEMA={name:"no-errors-schema"},NgModule=makeDecorator("NgModule",{providers:void 0,declarations:void 0,imports:void 0,exports:void 0,entryComponents:void 0,bootstrap:void 0,schemas:void 0,id:void 0});exports.ViewEncapsulation,function(ViewEncapsulation){ViewEncapsulation[ViewEncapsulation.Emulated=0]="Emulated",ViewEncapsulation[ViewEncapsulation.Native=1]="Native",ViewEncapsulation[ViewEncapsulation.None=2]="None"}(exports.ViewEncapsulation||(exports.ViewEncapsulation={}));var ViewMetadata=function(){function ViewMetadata(_a){var _b=void 0===_a?{}:_a,templateUrl=_b.templateUrl,template=_b.template,encapsulation=_b.encapsulation,styles=_b.styles,styleUrls=_b.styleUrls,animations=_b.animations,interpolation=_b.interpolation;this.templateUrl=templateUrl,this.template=template,this.styleUrls=styleUrls,this.styles=styles,this.encapsulation=encapsulation,this.animations=animations,this.interpolation=interpolation}return ViewMetadata}(),__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},BaseError=function(_super){function BaseError(message){var nativeError=_super.call(this,message);this._nativeError=nativeError}return __extends(BaseError,_super),Object.defineProperty(BaseError.prototype,"message",{get:function(){return this._nativeError.message},set:function(message){this._nativeError.message=message},enumerable:!0,configurable:!0}),Object.defineProperty(BaseError.prototype,"name",{get:function(){return this._nativeError.name},enumerable:!0,configurable:!0}),Object.defineProperty(BaseError.prototype,"stack",{get:function(){return this._nativeError.stack},set:function(value){this._nativeError.stack=value},enumerable:!0,configurable:!0}),BaseError.prototype.toString=function(){return this._nativeError.toString()},BaseError}(Error),WrappedError=function(_super){function WrappedError(message,error){_super.call(this,message+" caused by: "+(error instanceof Error?error.message:error)),this.originalError=error}return __extends(WrappedError,_super),Object.defineProperty(WrappedError.prototype,"stack",{get:function(){return(this.originalError instanceof Error?this.originalError:this._nativeError).stack},enumerable:!0,configurable:!0}),WrappedError}(BaseError),_THROW_IF_NOT_FOUND=new Object,THROW_IF_NOT_FOUND=_THROW_IF_NOT_FOUND,_NullInjector=function(){function _NullInjector(){}return _NullInjector.prototype.get=function(token,notFoundValue){if(void 0===notFoundValue&&(notFoundValue=_THROW_IF_NOT_FOUND),notFoundValue===_THROW_IF_NOT_FOUND)throw new Error("No provider for "+stringify(token)+"!");return notFoundValue},_NullInjector}(),Injector=function(){function Injector(){}return Injector.prototype.get=function(token,notFoundValue){return unimplemented()},Injector.THROW_IF_NOT_FOUND=_THROW_IF_NOT_FOUND,Injector.NULL=new _NullInjector,Injector}(),_arrayFromMap=function(){try{if((new Map).values().next)return function(m,getValues){return getValues?Array.from(m.values()):Array.from(m.keys())}}catch(e){}return function(m,getValues){var res=new Array(m.size),i=0;return m.forEach(function(v,k){res[i]=getValues?v:k,i++}),res}}(),MapWrapper=function(){function MapWrapper(){}return MapWrapper.createFromStringMap=function(stringMap){var result=new Map;for(var prop in stringMap)result.set(prop,stringMap[prop]);return result},MapWrapper.keys=function(m){return _arrayFromMap(m,!1)},MapWrapper.values=function(m){return _arrayFromMap(m,!0)},MapWrapper}(),StringMapWrapper=function(){function StringMapWrapper(){}return StringMapWrapper.merge=function(m1,m2){for(var m={},_i=0,_a=Object.keys(m1);_i<_a.length;_i++){var k=_a[_i];m[k]=m1[k]}for(var _b=0,_c=Object.keys(m2);_b<_c.length;_b++){var k=_c[_b];m[k]=m2[k]}return m},StringMapWrapper.equals=function(m1,m2){var k1=Object.keys(m1),k2=Object.keys(m2);if(k1.length!=k2.length)return!1;for(var i=0;i<k1.length;i++){var key=k1[i];if(m1[key]!==m2[key])return!1}return!0},StringMapWrapper}(),ListWrapper=function(){function ListWrapper(){}return ListWrapper.createFixedSize=function(size){return new Array(size)},ListWrapper.createGrowableSize=function(size){return new Array(size)},ListWrapper.clone=function(array){return array.slice(0)},ListWrapper.forEachWithIndex=function(array,fn){for(var i=0;i<array.length;i++)fn(array[i],i)},ListWrapper.first=function(array){return array?array[0]:null},ListWrapper.last=function(array){return array&&0!=array.length?array[array.length-1]:null},ListWrapper.indexOf=function(array,value,startIndex){return void 0===startIndex&&(startIndex=0),array.indexOf(value,startIndex)},ListWrapper.contains=function(list,el){return-1!==list.indexOf(el)},ListWrapper.reversed=function(array){var a=ListWrapper.clone(array);return a.reverse()},ListWrapper.concat=function(a,b){return a.concat(b)},ListWrapper.insert=function(list,index,value){list.splice(index,0,value)},ListWrapper.removeAt=function(list,index){var res=list[index];return list.splice(index,1),res},ListWrapper.removeAll=function(list,items){for(var i=0;i<items.length;++i){var index=list.indexOf(items[i]);list.splice(index,1)}},ListWrapper.remove=function(list,el){var index=list.indexOf(el);return index>-1?(list.splice(index,1),!0):!1},ListWrapper.clear=function(list){list.length=0},ListWrapper.isEmpty=function(list){return 0==list.length},ListWrapper.fill=function(list,value,start,end){void 0===start&&(start=0),void 0===end&&(end=null),list.fill(value,start,null===end?list.length:end)},ListWrapper.equals=function(a,b){if(a.length!=b.length)return!1;for(var i=0;i<a.length;++i)if(a[i]!==b[i])return!1;return!0},ListWrapper.slice=function(l,from,to){return void 0===from&&(from=0),void 0===to&&(to=null),l.slice(from,null===to?void 0:to)},ListWrapper.splice=function(l,from,length){return l.splice(from,length)},ListWrapper.sort=function(l,compareFn){isPresent(compareFn)?l.sort(compareFn):l.sort()},ListWrapper.toString=function(l){return l.toString()},ListWrapper.toJSON=function(l){return JSON.stringify(l)},ListWrapper.maximum=function(list,predicate){if(0==list.length)return null;for(var solution=null,maxValue=-(1/0),index=0;index<list.length;index++){var candidate=list[index];if(!isBlank(candidate)){var candidateValue=predicate(candidate);candidateValue>maxValue&&(solution=candidate,maxValue=candidateValue)}}return solution},ListWrapper.flatten=function(list){var target=[];return _flattenArray(list,target),target},ListWrapper.addAll=function(list,source){for(var i=0;i<source.length;i++)list.push(source[i])},ListWrapper}(),__extends$1=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AbstractProviderError=function(_super){function AbstractProviderError(injector,key,constructResolvingMessage){_super.call(this,"DI Error"),this.keys=[key],this.injectors=[injector],this.constructResolvingMessage=constructResolvingMessage,this.message=this.constructResolvingMessage(this.keys)}return __extends$1(AbstractProviderError,_super),AbstractProviderError.prototype.addKey=function(injector,key){this.injectors.push(injector),this.keys.push(key),this.message=this.constructResolvingMessage(this.keys)},AbstractProviderError}(BaseError),NoProviderError=function(_super){function NoProviderError(injector,key){_super.call(this,injector,key,function(keys){var first=stringify(ListWrapper.first(keys).token);return"No provider for "+first+"!"+constructResolvingPath(keys)})}return __extends$1(NoProviderError,_super),NoProviderError}(AbstractProviderError),CyclicDependencyError=function(_super){function CyclicDependencyError(injector,key){_super.call(this,injector,key,function(keys){return"Cannot instantiate cyclic dependency!"+constructResolvingPath(keys)})}return __extends$1(CyclicDependencyError,_super),CyclicDependencyError}(AbstractProviderError),InstantiationError=function(_super){function InstantiationError(injector,originalException,originalStack,key){_super.call(this,"DI Error",originalException),this.keys=[key],this.injectors=[injector]}return __extends$1(InstantiationError,_super),InstantiationError.prototype.addKey=function(injector,key){this.injectors.push(injector),this.keys.push(key)},Object.defineProperty(InstantiationError.prototype,"message",{get:function(){var first=stringify(ListWrapper.first(this.keys).token);return this.originalError.message+": Error during instantiation of "+first+"!"+constructResolvingPath(this.keys)+"."},enumerable:!0,configurable:!0}),Object.defineProperty(InstantiationError.prototype,"causeKey",{get:function(){return this.keys[0]},enumerable:!0,configurable:!0}),InstantiationError}(WrappedError),InvalidProviderError=function(_super){function InvalidProviderError(provider){_super.call(this,"Invalid provider - only instances of Provider and Type are allowed, got: "+provider)}return __extends$1(InvalidProviderError,_super),InvalidProviderError}(BaseError),NoAnnotationError=function(_super){function NoAnnotationError(typeOrFunc,params){_super.call(this,NoAnnotationError._genMessage(typeOrFunc,params))}return __extends$1(NoAnnotationError,_super),NoAnnotationError._genMessage=function(typeOrFunc,params){for(var signature=[],i=0,ii=params.length;ii>i;i++){var parameter=params[i];parameter&&0!=parameter.length?signature.push(parameter.map(stringify).join(" ")):signature.push("?")}return"Cannot resolve all parameters for '"+stringify(typeOrFunc)+"'("+signature.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+stringify(typeOrFunc)+"' is decorated with Injectable."},NoAnnotationError}(BaseError),OutOfBoundsError=function(_super){function OutOfBoundsError(index){_super.call(this,"Index "+index+" is out-of-bounds.")}return __extends$1(OutOfBoundsError,_super),OutOfBoundsError}(BaseError),MixingMultiProvidersWithRegularProvidersError=function(_super){function MixingMultiProvidersWithRegularProvidersError(provider1,provider2){_super.call(this,"Cannot mix multi providers and regular providers, got: "+provider1.toString()+" "+provider2.toString())}return __extends$1(MixingMultiProvidersWithRegularProvidersError,_super),MixingMultiProvidersWithRegularProvidersError}(BaseError),ReflectiveKey=function(){function ReflectiveKey(token,id){if(this.token=token,this.id=id,!token)throw new Error("Token must be defined!")}return Object.defineProperty(ReflectiveKey.prototype,"displayName",{get:function(){return stringify(this.token)},enumerable:!0,configurable:!0}),ReflectiveKey.get=function(token){return _globalKeyRegistry.get(resolveForwardRef(token))},Object.defineProperty(ReflectiveKey,"numberOfKeys",{get:function(){return _globalKeyRegistry.numberOfKeys},enumerable:!0,configurable:!0}),ReflectiveKey}(),KeyRegistry=function(){function KeyRegistry(){this._allKeys=new Map}return KeyRegistry.prototype.get=function(token){if(token instanceof ReflectiveKey)return token;if(this._allKeys.has(token))return this._allKeys.get(token);var newKey=new ReflectiveKey(token,ReflectiveKey.numberOfKeys);return this._allKeys.set(token,newKey),newKey},Object.defineProperty(KeyRegistry.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),KeyRegistry}(),_globalKeyRegistry=new KeyRegistry,Type=Function,ReflectionCapabilities=function(){function ReflectionCapabilities(reflect){this._reflect=reflect||global$1.Reflect}return ReflectionCapabilities.prototype.isReflectionEnabled=function(){return!0},ReflectionCapabilities.prototype.factory=function(t){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return new(t.bind.apply(t,[void 0].concat(args)))}},ReflectionCapabilities.prototype._zipTypesAndAnnotations=function(paramTypes,paramAnnotations){var result;result="undefined"==typeof paramTypes?new Array(paramAnnotations.length):new Array(paramTypes.length);for(var i=0;i<result.length;i++)"undefined"==typeof paramTypes?result[i]=[]:paramTypes[i]!=Object?result[i]=[paramTypes[i]]:result[i]=[],paramAnnotations&&isPresent(paramAnnotations[i])&&(result[i]=result[i].concat(paramAnnotations[i]));return result},ReflectionCapabilities.prototype.parameters=function(type){if(type.parameters)return type.parameters;if(type.ctorParameters){var ctorParameters=type.ctorParameters,paramTypes=ctorParameters.map(function(ctorParam){return ctorParam&&ctorParam.type}),paramAnnotations=ctorParameters.map(function(ctorParam){return ctorParam&&convertTsickleDecoratorIntoMetadata(ctorParam.decorators)});return this._zipTypesAndAnnotations(paramTypes,paramAnnotations)}if(isPresent(this._reflect)&&isPresent(this._reflect.getMetadata)){var paramAnnotations=this._reflect.getMetadata("parameters",type),paramTypes=this._reflect.getMetadata("design:paramtypes",type);if(paramTypes||paramAnnotations)return this._zipTypesAndAnnotations(paramTypes,paramAnnotations)}return new Array(type.length).fill(void 0)},ReflectionCapabilities.prototype.annotations=function(typeOrFunc){if(typeOrFunc.annotations){var annotations=typeOrFunc.annotations;return"function"==typeof annotations&&annotations.annotations&&(annotations=annotations.annotations),annotations}if(typeOrFunc.decorators)return convertTsickleDecoratorIntoMetadata(typeOrFunc.decorators);if(this._reflect&&this._reflect.getMetadata){var annotations=this._reflect.getMetadata("annotations",typeOrFunc);if(annotations)return annotations}return[]},ReflectionCapabilities.prototype.propMetadata=function(typeOrFunc){if(typeOrFunc.propMetadata){var propMetadata=typeOrFunc.propMetadata;return"function"==typeof propMetadata&&propMetadata.propMetadata&&(propMetadata=propMetadata.propMetadata),propMetadata}if(typeOrFunc.propDecorators){var propDecorators_1=typeOrFunc.propDecorators,propMetadata_1={};return Object.keys(propDecorators_1).forEach(function(prop){propMetadata_1[prop]=convertTsickleDecoratorIntoMetadata(propDecorators_1[prop])}),propMetadata_1}if(this._reflect&&this._reflect.getMetadata){var propMetadata=this._reflect.getMetadata("propMetadata",typeOrFunc);if(propMetadata)return propMetadata}return{}},ReflectionCapabilities.prototype.hasLifecycleHook=function(type,lcProperty){return type instanceof Type&&lcProperty in type.prototype},ReflectionCapabilities.prototype.getter=function(name){return new Function("o","return o."+name+";")},ReflectionCapabilities.prototype.setter=function(name){return new Function("o","v","return o."+name+" = v;")},ReflectionCapabilities.prototype.method=function(name){var functionBody="if (!o."+name+") throw new Error('\""+name+"\" is undefined');\n        return o."+name+".apply(o, args);";return new Function("o","args",functionBody)},ReflectionCapabilities.prototype.importUri=function(type){return"object"==typeof type&&type.filePath?type.filePath:"./"+stringify(type)},ReflectionCapabilities.prototype.resolveIdentifier=function(name,moduleUrl,runtime){return runtime},ReflectionCapabilities.prototype.resolveEnum=function(enumIdentifier,name){return enumIdentifier[name]},ReflectionCapabilities}(),ReflectorReader=function(){function ReflectorReader(){}return ReflectorReader}(),__extends$2=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Reflector=function(_super){function Reflector(reflectionCapabilities){_super.call(this),this.reflectionCapabilities=reflectionCapabilities}return __extends$2(Reflector,_super),Reflector.prototype.updateCapabilities=function(caps){this.reflectionCapabilities=caps},Reflector.prototype.factory=function(type){return this.reflectionCapabilities.factory(type)},Reflector.prototype.parameters=function(typeOrFunc){return this.reflectionCapabilities.parameters(typeOrFunc)},Reflector.prototype.annotations=function(typeOrFunc){return this.reflectionCapabilities.annotations(typeOrFunc)},Reflector.prototype.propMetadata=function(typeOrFunc){return this.reflectionCapabilities.propMetadata(typeOrFunc)},Reflector.prototype.hasLifecycleHook=function(type,lcProperty){return this.reflectionCapabilities.hasLifecycleHook(type,lcProperty)},Reflector.prototype.getter=function(name){return this.reflectionCapabilities.getter(name)},Reflector.prototype.setter=function(name){return this.reflectionCapabilities.setter(name)},Reflector.prototype.method=function(name){return this.reflectionCapabilities.method(name)},Reflector.prototype.importUri=function(type){return this.reflectionCapabilities.importUri(type)},Reflector.prototype.resolveIdentifier=function(name,moduleUrl,runtime){return this.reflectionCapabilities.resolveIdentifier(name,moduleUrl,runtime)},Reflector.prototype.resolveEnum=function(identifier,name){return this.reflectionCapabilities.resolveEnum(identifier,name)},Reflector}(ReflectorReader),reflector=new Reflector(new ReflectionCapabilities),ReflectiveDependency=function(){function ReflectiveDependency(key,optional,lowerBoundVisibility,upperBoundVisibility,properties){this.key=key,this.optional=optional,this.lowerBoundVisibility=lowerBoundVisibility,this.upperBoundVisibility=upperBoundVisibility,this.properties=properties}return ReflectiveDependency.fromKey=function(key){return new ReflectiveDependency(key,!1,null,null,[])},ReflectiveDependency}(),_EMPTY_LIST=[],ResolvedReflectiveProvider_=function(){function ResolvedReflectiveProvider_(key,resolvedFactories,multiProvider){this.key=key,this.resolvedFactories=resolvedFactories,this.multiProvider=multiProvider}return Object.defineProperty(ResolvedReflectiveProvider_.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),ResolvedReflectiveProvider_}(),ResolvedReflectiveFactory=function(){function ResolvedReflectiveFactory(factory,dependencies){this.factory=factory,this.dependencies=dependencies}return ResolvedReflectiveFactory}(),_MAX_CONSTRUCTION_COUNTER=10,UNDEFINED=new Object,ReflectiveProtoInjectorInlineStrategy=function(){function ReflectiveProtoInjectorInlineStrategy(protoEI,providers){this.provider0=null,this.provider1=null,this.provider2=null,this.provider3=null,this.provider4=null,this.provider5=null,this.provider6=null,this.provider7=null,this.provider8=null,this.provider9=null,this.keyId0=null,this.keyId1=null,this.keyId2=null,this.keyId3=null,this.keyId4=null,this.keyId5=null,this.keyId6=null,this.keyId7=null,this.keyId8=null,this.keyId9=null;var length=providers.length;length>0&&(this.provider0=providers[0],this.keyId0=providers[0].key.id),length>1&&(this.provider1=providers[1],this.keyId1=providers[1].key.id),length>2&&(this.provider2=providers[2],this.keyId2=providers[2].key.id),length>3&&(this.provider3=providers[3],this.keyId3=providers[3].key.id),length>4&&(this.provider4=providers[4],this.keyId4=providers[4].key.id),length>5&&(this.provider5=providers[5],this.keyId5=providers[5].key.id),length>6&&(this.provider6=providers[6],this.keyId6=providers[6].key.id),length>7&&(this.provider7=providers[7],this.keyId7=providers[7].key.id),length>8&&(this.provider8=providers[8],this.keyId8=providers[8].key.id),length>9&&(this.provider9=providers[9],this.keyId9=providers[9].key.id)}return ReflectiveProtoInjectorInlineStrategy.prototype.getProviderAtIndex=function(index){
if(0==index)return this.provider0;if(1==index)return this.provider1;if(2==index)return this.provider2;if(3==index)return this.provider3;if(4==index)return this.provider4;if(5==index)return this.provider5;if(6==index)return this.provider6;if(7==index)return this.provider7;if(8==index)return this.provider8;if(9==index)return this.provider9;throw new OutOfBoundsError(index)},ReflectiveProtoInjectorInlineStrategy.prototype.createInjectorStrategy=function(injector){return new ReflectiveInjectorInlineStrategy(injector,this)},ReflectiveProtoInjectorInlineStrategy}(),ReflectiveProtoInjectorDynamicStrategy=function(){function ReflectiveProtoInjectorDynamicStrategy(protoInj,providers){this.providers=providers;var len=providers.length;this.keyIds=new Array(len);for(var i=0;len>i;i++)this.keyIds[i]=providers[i].key.id}return ReflectiveProtoInjectorDynamicStrategy.prototype.getProviderAtIndex=function(index){if(0>index||index>=this.providers.length)throw new OutOfBoundsError(index);return this.providers[index]},ReflectiveProtoInjectorDynamicStrategy.prototype.createInjectorStrategy=function(ei){return new ReflectiveInjectorDynamicStrategy(this,ei)},ReflectiveProtoInjectorDynamicStrategy}(),ReflectiveProtoInjector=function(){function ReflectiveProtoInjector(providers){this.numberOfProviders=providers.length,this._strategy=providers.length>_MAX_CONSTRUCTION_COUNTER?new ReflectiveProtoInjectorDynamicStrategy(this,providers):new ReflectiveProtoInjectorInlineStrategy(this,providers)}return ReflectiveProtoInjector.fromResolvedProviders=function(providers){return new ReflectiveProtoInjector(providers)},ReflectiveProtoInjector.prototype.getProviderAtIndex=function(index){return this._strategy.getProviderAtIndex(index)},ReflectiveProtoInjector}(),ReflectiveInjectorInlineStrategy=function(){function ReflectiveInjectorInlineStrategy(injector,protoStrategy){this.injector=injector,this.protoStrategy=protoStrategy,this.obj0=UNDEFINED,this.obj1=UNDEFINED,this.obj2=UNDEFINED,this.obj3=UNDEFINED,this.obj4=UNDEFINED,this.obj5=UNDEFINED,this.obj6=UNDEFINED,this.obj7=UNDEFINED,this.obj8=UNDEFINED,this.obj9=UNDEFINED}return ReflectiveInjectorInlineStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},ReflectiveInjectorInlineStrategy.prototype.instantiateProvider=function(provider){return this.injector._new(provider)},ReflectiveInjectorInlineStrategy.prototype.getObjByKeyId=function(keyId){var p=this.protoStrategy,inj=this.injector;return p.keyId0===keyId?(this.obj0===UNDEFINED&&(this.obj0=inj._new(p.provider0)),this.obj0):p.keyId1===keyId?(this.obj1===UNDEFINED&&(this.obj1=inj._new(p.provider1)),this.obj1):p.keyId2===keyId?(this.obj2===UNDEFINED&&(this.obj2=inj._new(p.provider2)),this.obj2):p.keyId3===keyId?(this.obj3===UNDEFINED&&(this.obj3=inj._new(p.provider3)),this.obj3):p.keyId4===keyId?(this.obj4===UNDEFINED&&(this.obj4=inj._new(p.provider4)),this.obj4):p.keyId5===keyId?(this.obj5===UNDEFINED&&(this.obj5=inj._new(p.provider5)),this.obj5):p.keyId6===keyId?(this.obj6===UNDEFINED&&(this.obj6=inj._new(p.provider6)),this.obj6):p.keyId7===keyId?(this.obj7===UNDEFINED&&(this.obj7=inj._new(p.provider7)),this.obj7):p.keyId8===keyId?(this.obj8===UNDEFINED&&(this.obj8=inj._new(p.provider8)),this.obj8):p.keyId9===keyId?(this.obj9===UNDEFINED&&(this.obj9=inj._new(p.provider9)),this.obj9):UNDEFINED},ReflectiveInjectorInlineStrategy.prototype.getObjAtIndex=function(index){if(0==index)return this.obj0;if(1==index)return this.obj1;if(2==index)return this.obj2;if(3==index)return this.obj3;if(4==index)return this.obj4;if(5==index)return this.obj5;if(6==index)return this.obj6;if(7==index)return this.obj7;if(8==index)return this.obj8;if(9==index)return this.obj9;throw new OutOfBoundsError(index)},ReflectiveInjectorInlineStrategy.prototype.getMaxNumberOfObjects=function(){return _MAX_CONSTRUCTION_COUNTER},ReflectiveInjectorInlineStrategy}(),ReflectiveInjectorDynamicStrategy=function(){function ReflectiveInjectorDynamicStrategy(protoStrategy,injector){this.protoStrategy=protoStrategy,this.injector=injector,this.objs=new Array(protoStrategy.providers.length),ListWrapper.fill(this.objs,UNDEFINED)}return ReflectiveInjectorDynamicStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},ReflectiveInjectorDynamicStrategy.prototype.instantiateProvider=function(provider){return this.injector._new(provider)},ReflectiveInjectorDynamicStrategy.prototype.getObjByKeyId=function(keyId){for(var p=this.protoStrategy,i=0;i<p.keyIds.length;i++)if(p.keyIds[i]===keyId)return this.objs[i]===UNDEFINED&&(this.objs[i]=this.injector._new(p.providers[i])),this.objs[i];return UNDEFINED},ReflectiveInjectorDynamicStrategy.prototype.getObjAtIndex=function(index){if(0>index||index>=this.objs.length)throw new OutOfBoundsError(index);return this.objs[index]},ReflectiveInjectorDynamicStrategy.prototype.getMaxNumberOfObjects=function(){return this.objs.length},ReflectiveInjectorDynamicStrategy}(),ReflectiveInjector=function(){function ReflectiveInjector(){}return ReflectiveInjector.resolve=function(providers){return resolveReflectiveProviders(providers)},ReflectiveInjector.resolveAndCreate=function(providers,parent){void 0===parent&&(parent=null);var ResolvedReflectiveProviders=ReflectiveInjector.resolve(providers);return ReflectiveInjector.fromResolvedProviders(ResolvedReflectiveProviders,parent)},ReflectiveInjector.fromResolvedProviders=function(providers,parent){return void 0===parent&&(parent=null),new ReflectiveInjector_(ReflectiveProtoInjector.fromResolvedProviders(providers),parent)},Object.defineProperty(ReflectiveInjector.prototype,"parent",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),ReflectiveInjector.prototype.resolveAndCreateChild=function(providers){return unimplemented()},ReflectiveInjector.prototype.createChildFromResolved=function(providers){return unimplemented()},ReflectiveInjector.prototype.resolveAndInstantiate=function(provider){return unimplemented()},ReflectiveInjector.prototype.instantiateResolved=function(provider){return unimplemented()},ReflectiveInjector}(),ReflectiveInjector_=function(){function ReflectiveInjector_(_proto,_parent){void 0===_parent&&(_parent=null),this._constructionCounter=0,this._proto=_proto,this._parent=_parent,this._strategy=_proto._strategy.createInjectorStrategy(this)}return ReflectiveInjector_.prototype.get=function(token,notFoundValue){return void 0===notFoundValue&&(notFoundValue=THROW_IF_NOT_FOUND),this._getByKey(ReflectiveKey.get(token),null,null,notFoundValue)},ReflectiveInjector_.prototype.getAt=function(index){return this._strategy.getObjAtIndex(index)},Object.defineProperty(ReflectiveInjector_.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(ReflectiveInjector_.prototype,"internalStrategy",{get:function(){return this._strategy},enumerable:!0,configurable:!0}),ReflectiveInjector_.prototype.resolveAndCreateChild=function(providers){var ResolvedReflectiveProviders=ReflectiveInjector.resolve(providers);return this.createChildFromResolved(ResolvedReflectiveProviders)},ReflectiveInjector_.prototype.createChildFromResolved=function(providers){var proto=new ReflectiveProtoInjector(providers),inj=new ReflectiveInjector_(proto);return inj._parent=this,inj},ReflectiveInjector_.prototype.resolveAndInstantiate=function(provider){return this.instantiateResolved(ReflectiveInjector.resolve([provider])[0])},ReflectiveInjector_.prototype.instantiateResolved=function(provider){return this._instantiateProvider(provider)},ReflectiveInjector_.prototype._new=function(provider){if(this._constructionCounter++>this._strategy.getMaxNumberOfObjects())throw new CyclicDependencyError(this,provider.key);return this._instantiateProvider(provider)},ReflectiveInjector_.prototype._instantiateProvider=function(provider){if(provider.multiProvider){for(var res=new Array(provider.resolvedFactories.length),i=0;i<provider.resolvedFactories.length;++i)res[i]=this._instantiate(provider,provider.resolvedFactories[i]);return res}return this._instantiate(provider,provider.resolvedFactories[0])},ReflectiveInjector_.prototype._instantiate=function(provider,ResolvedReflectiveFactory){var d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18,d19,factory=ResolvedReflectiveFactory.factory,deps=ResolvedReflectiveFactory.dependencies,length=deps.length;try{d0=length>0?this._getByReflectiveDependency(provider,deps[0]):null,d1=length>1?this._getByReflectiveDependency(provider,deps[1]):null,d2=length>2?this._getByReflectiveDependency(provider,deps[2]):null,d3=length>3?this._getByReflectiveDependency(provider,deps[3]):null,d4=length>4?this._getByReflectiveDependency(provider,deps[4]):null,d5=length>5?this._getByReflectiveDependency(provider,deps[5]):null,d6=length>6?this._getByReflectiveDependency(provider,deps[6]):null,d7=length>7?this._getByReflectiveDependency(provider,deps[7]):null,d8=length>8?this._getByReflectiveDependency(provider,deps[8]):null,d9=length>9?this._getByReflectiveDependency(provider,deps[9]):null,d10=length>10?this._getByReflectiveDependency(provider,deps[10]):null,d11=length>11?this._getByReflectiveDependency(provider,deps[11]):null,d12=length>12?this._getByReflectiveDependency(provider,deps[12]):null,d13=length>13?this._getByReflectiveDependency(provider,deps[13]):null,d14=length>14?this._getByReflectiveDependency(provider,deps[14]):null,d15=length>15?this._getByReflectiveDependency(provider,deps[15]):null,d16=length>16?this._getByReflectiveDependency(provider,deps[16]):null,d17=length>17?this._getByReflectiveDependency(provider,deps[17]):null,d18=length>18?this._getByReflectiveDependency(provider,deps[18]):null,d19=length>19?this._getByReflectiveDependency(provider,deps[19]):null}catch(e){throw(e instanceof AbstractProviderError||e instanceof InstantiationError)&&e.addKey(this,provider.key),e}var obj;try{switch(length){case 0:obj=factory();break;case 1:obj=factory(d0);break;case 2:obj=factory(d0,d1);break;case 3:obj=factory(d0,d1,d2);break;case 4:obj=factory(d0,d1,d2,d3);break;case 5:obj=factory(d0,d1,d2,d3,d4);break;case 6:obj=factory(d0,d1,d2,d3,d4,d5);break;case 7:obj=factory(d0,d1,d2,d3,d4,d5,d6);break;case 8:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7);break;case 9:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8);break;case 10:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9);break;case 11:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10);break;case 12:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11);break;case 13:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12);break;case 14:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13);break;case 15:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14);break;case 16:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15);break;case 17:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16);break;case 18:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17);break;case 19:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18);break;case 20:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18,d19);break;default:throw new Error("Cannot instantiate '"+provider.key.displayName+"' because it has more than 20 dependencies")}}catch(e){throw new InstantiationError(this,e,e.stack,provider.key)}return obj},ReflectiveInjector_.prototype._getByReflectiveDependency=function(provider,dep){return this._getByKey(dep.key,dep.lowerBoundVisibility,dep.upperBoundVisibility,dep.optional?null:THROW_IF_NOT_FOUND)},ReflectiveInjector_.prototype._getByKey=function(key,lowerBoundVisibility,upperBoundVisibility,notFoundValue){return key===INJECTOR_KEY?this:upperBoundVisibility instanceof Self?this._getByKeySelf(key,notFoundValue):this._getByKeyDefault(key,notFoundValue,lowerBoundVisibility)},ReflectiveInjector_.prototype._throwOrNull=function(key,notFoundValue){if(notFoundValue!==THROW_IF_NOT_FOUND)return notFoundValue;throw new NoProviderError(this,key)},ReflectiveInjector_.prototype._getByKeySelf=function(key,notFoundValue){var obj=this._strategy.getObjByKeyId(key.id);return obj!==UNDEFINED?obj:this._throwOrNull(key,notFoundValue)},ReflectiveInjector_.prototype._getByKeyDefault=function(key,notFoundValue,lowerBoundVisibility){var inj;for(inj=lowerBoundVisibility instanceof SkipSelf?this._parent:this;inj instanceof ReflectiveInjector_;){var inj_=inj,obj=inj_._strategy.getObjByKeyId(key.id);if(obj!==UNDEFINED)return obj;inj=inj_._parent}return null!==inj?inj.get(key.token,notFoundValue):this._throwOrNull(key,notFoundValue)},Object.defineProperty(ReflectiveInjector_.prototype,"displayName",{get:function(){var providers=_mapProviders(this,function(b){return' "'+b.key.displayName+'" '}).join(", ");return"ReflectiveInjector(providers: ["+providers+"])"},enumerable:!0,configurable:!0}),ReflectiveInjector_.prototype.toString=function(){return this.displayName},ReflectiveInjector_}(),INJECTOR_KEY=ReflectiveKey.get(Injector),ErrorHandler=function(){function ErrorHandler(rethrowError){void 0===rethrowError&&(rethrowError=!0),this._console=console,this.rethrowError=rethrowError}return ErrorHandler.prototype.handleError=function(error){var originalError=this._findOriginalError(error),originalStack=this._findOriginalStack(error),context=this._findContext(error);if(this._console.error("EXCEPTION: "+this._extractMessage(error)),originalError&&this._console.error("ORIGINAL EXCEPTION: "+this._extractMessage(originalError)),originalStack&&(this._console.error("ORIGINAL STACKTRACE:"),this._console.error(originalStack)),context&&(this._console.error("ERROR CONTEXT:"),this._console.error(context)),this.rethrowError)throw error},ErrorHandler.prototype._extractMessage=function(error){return error instanceof Error?error.message:error.toString()},ErrorHandler.prototype._findContext=function(error){return error?error.context?error.context:this._findContext(error.originalError):null},ErrorHandler.prototype._findOriginalError=function(error){for(var e=error.originalError;e&&e.originalError;)e=e.originalError;return e},ErrorHandler.prototype._findOriginalStack=function(error){if(!(error instanceof Error))return null;for(var e=error,stack=e.stack;e instanceof Error&&e.originalError;)e=e.originalError,e instanceof Error&&e.stack&&(stack=e.stack);return stack},ErrorHandler}(),APP_INITIALIZER=new OpaqueToken("Application Initializer"),ApplicationInitStatus=function(){function ApplicationInitStatus(appInits){var _this=this;this._done=!1;var asyncInitPromises=[];if(appInits)for(var i=0;i<appInits.length;i++){var initResult=appInits[i]();isPromise(initResult)&&asyncInitPromises.push(initResult)}this._donePromise=Promise.all(asyncInitPromises).then(function(){_this._done=!0}),0===asyncInitPromises.length&&(this._done=!0)}return Object.defineProperty(ApplicationInitStatus.prototype,"done",{get:function(){return this._done},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationInitStatus.prototype,"donePromise",{get:function(){return this._donePromise},enumerable:!0,configurable:!0}),ApplicationInitStatus.decorators=[{type:Injectable}],ApplicationInitStatus.ctorParameters=[{type:Array,decorators:[{type:Inject,args:[APP_INITIALIZER]},{type:Optional}]}],ApplicationInitStatus}(),APP_ID=new OpaqueToken("AppId"),APP_ID_RANDOM_PROVIDER={provide:APP_ID,useFactory:_appIdRandomProviderFactory,deps:[]},PLATFORM_INITIALIZER=new OpaqueToken("Platform Initializer"),APP_BOOTSTRAP_LISTENER=new OpaqueToken("appBootstrapListener"),PACKAGE_ROOT_URL=new OpaqueToken("Application Packages Root URL"),Console=function(){function Console(){}return Console.prototype.log=function(message){print(message)},Console.prototype.warn=function(message){warn(message)},Console.decorators=[{type:Injectable}],Console.ctorParameters=[],Console}(),__extends$4=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ComponentStillLoadingError=function(_super){function ComponentStillLoadingError(compType){_super.call(this,"Can't compile synchronously as "+stringify(compType)+" is still being loaded!"),this.compType=compType}return __extends$4(ComponentStillLoadingError,_super),ComponentStillLoadingError}(BaseError),ModuleWithComponentFactories=function(){function ModuleWithComponentFactories(ngModuleFactory,componentFactories){this.ngModuleFactory=ngModuleFactory,this.componentFactories=componentFactories}return ModuleWithComponentFactories}(),Compiler=function(){function Compiler(){}return Compiler.prototype.compileModuleSync=function(moduleType){throw _throwError()},Compiler.prototype.compileModuleAsync=function(moduleType){throw _throwError()},Compiler.prototype.compileModuleAndAllComponentsSync=function(moduleType){throw _throwError()},Compiler.prototype.compileModuleAndAllComponentsAsync=function(moduleType){throw _throwError()},Compiler.prototype.clearCache=function(){},Compiler.prototype.clearCacheFor=function(type){},Compiler}(),COMPILER_OPTIONS=new OpaqueToken("compilerOptions"),CompilerFactory=function(){function CompilerFactory(){}return CompilerFactory}(),DefaultIterableDifferFactory=function(){function DefaultIterableDifferFactory(){}return DefaultIterableDifferFactory.prototype.supports=function(obj){return isListLikeIterable(obj)},DefaultIterableDifferFactory.prototype.create=function(cdRef,trackByFn){return new DefaultIterableDiffer(trackByFn)},DefaultIterableDifferFactory}(),trackByIdentity=function(index,item){return item},DefaultIterableDiffer=function(){function DefaultIterableDiffer(_trackByFn){this._trackByFn=_trackByFn,this._length=null,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=this._trackByFn||trackByIdentity}return Object.defineProperty(DefaultIterableDiffer.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(DefaultIterableDiffer.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),DefaultIterableDiffer.prototype.forEachItem=function(fn){var record;for(record=this._itHead;null!==record;record=record._next)fn(record)},DefaultIterableDiffer.prototype.forEachOperation=function(fn){for(var nextIt=this._itHead,nextRemove=this._removalsHead,addRemoveOffset=0,moveOffsets=null;nextIt||nextRemove;){var record=!nextRemove||nextIt&&nextIt.currentIndex<getPreviousIndex(nextRemove,addRemoveOffset,moveOffsets)?nextIt:nextRemove,adjPreviousIndex=getPreviousIndex(record,addRemoveOffset,moveOffsets),currentIndex=record.currentIndex;if(record===nextRemove)addRemoveOffset--,nextRemove=nextRemove._nextRemoved;else if(nextIt=nextIt._next,null==record.previousIndex)addRemoveOffset++;else{moveOffsets||(moveOffsets=[]);var localMovePreviousIndex=adjPreviousIndex-addRemoveOffset,localCurrentIndex=currentIndex-addRemoveOffset;if(localMovePreviousIndex!=localCurrentIndex){for(var i=0;localMovePreviousIndex>i;i++){var offset=i<moveOffsets.length?moveOffsets[i]:moveOffsets[i]=0,index=offset+i;index>=localCurrentIndex&&localMovePreviousIndex>index&&(moveOffsets[i]=offset+1)}var previousIndex=record.previousIndex;moveOffsets[previousIndex]=localCurrentIndex-localMovePreviousIndex}}adjPreviousIndex!==currentIndex&&fn(record,adjPreviousIndex,currentIndex)}},DefaultIterableDiffer.prototype.forEachPreviousItem=function(fn){var record;for(record=this._previousItHead;null!==record;record=record._nextPrevious)fn(record)},DefaultIterableDiffer.prototype.forEachAddedItem=function(fn){var record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)},DefaultIterableDiffer.prototype.forEachMovedItem=function(fn){var record;for(record=this._movesHead;null!==record;record=record._nextMoved)fn(record)},DefaultIterableDiffer.prototype.forEachRemovedItem=function(fn){var record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)},DefaultIterableDiffer.prototype.forEachIdentityChange=function(fn){var record;for(record=this._identityChangesHead;null!==record;record=record._nextIdentityChange)fn(record)},DefaultIterableDiffer.prototype.diff=function(collection){if(isBlank(collection)&&(collection=[]),!isListLikeIterable(collection))throw new Error("Error trying to diff '"+collection+"'");return this.check(collection)?this:null},DefaultIterableDiffer.prototype.onDestroy=function(){},DefaultIterableDiffer.prototype.check=function(collection){var _this=this;this._reset();var index,item,itemTrackBy,record=this._itHead,mayBeDirty=!1;if(Array.isArray(collection)){var list=collection;this._length=collection.length;for(var index_1=0;index_1<this._length;index_1++)item=list[index_1],itemTrackBy=this._trackByFn(index_1,item),null!==record&&looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index_1)),looseIdentical(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index_1),mayBeDirty=!0),record=record._next}else index=0,iterateListLike(collection,function(item){itemTrackBy=_this._trackByFn(index,item),null!==record&&looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=_this._verifyReinsertion(record,item,itemTrackBy,index)),looseIdentical(record.item,item)||_this._addIdentityChange(record,item)):(record=_this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next,index++}),this._length=index;return this._truncate(record),this._collection=collection,this.isDirty},Object.defineProperty(DefaultIterableDiffer.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),DefaultIterableDiffer.prototype._reset=function(){if(this.isDirty){var record,nextRecord;for(record=this._previousItHead=this._itHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._additionsHead;null!==record;record=record._nextAdded)record.previousIndex=record.currentIndex;for(this._additionsHead=this._additionsTail=null,record=this._movesHead;null!==record;record=nextRecord)record.previousIndex=record.currentIndex,nextRecord=record._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},DefaultIterableDiffer.prototype._mismatch=function(record,item,itemTrackBy,index){var previousRecord;return null===record?previousRecord=this._itTail:(previousRecord=record._prev,this._remove(record)),record=null===this._linkedRecords?null:this._linkedRecords.get(itemTrackBy,index),null!==record?(looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._moveAfter(record,previousRecord,index)):(record=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy),null!==record?(looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._reinsertAfter(record,previousRecord,index)):record=this._addAfter(new CollectionChangeRecord(item,itemTrackBy),previousRecord,index)),record},DefaultIterableDiffer.prototype._verifyReinsertion=function(record,item,itemTrackBy,index){var reinsertRecord=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy);return null!==reinsertRecord?record=this._reinsertAfter(reinsertRecord,record._prev,index):record.currentIndex!=index&&(record.currentIndex=index,this._addToMoves(record,index)),record},DefaultIterableDiffer.prototype._truncate=function(record){for(;null!==record;){var nextRecord=record._next;this._addToRemovals(this._unlink(record)),record=nextRecord}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},DefaultIterableDiffer.prototype._reinsertAfter=function(record,prevRecord,index){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(record);var prev=record._prevRemoved,next=record._nextRemoved;return null===prev?this._removalsHead=next:prev._nextRemoved=next,null===next?this._removalsTail=prev:next._prevRemoved=prev,this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record},DefaultIterableDiffer.prototype._moveAfter=function(record,prevRecord,index){return this._unlink(record),this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record},DefaultIterableDiffer.prototype._addAfter=function(record,prevRecord,index){return this._insertAfter(record,prevRecord,index),null===this._additionsTail?this._additionsTail=this._additionsHead=record:this._additionsTail=this._additionsTail._nextAdded=record,record},DefaultIterableDiffer.prototype._insertAfter=function(record,prevRecord,index){var next=null===prevRecord?this._itHead:prevRecord._next;return record._next=next,record._prev=prevRecord,null===next?this._itTail=record:next._prev=record,null===prevRecord?this._itHead=record:prevRecord._next=record,null===this._linkedRecords&&(this._linkedRecords=new _DuplicateMap),this._linkedRecords.put(record),record.currentIndex=index,record},DefaultIterableDiffer.prototype._remove=function(record){return this._addToRemovals(this._unlink(record))},DefaultIterableDiffer.prototype._unlink=function(record){null!==this._linkedRecords&&this._linkedRecords.remove(record);var prev=record._prev,next=record._next;return null===prev?this._itHead=next:prev._next=next,null===next?this._itTail=prev:next._prev=prev,record},DefaultIterableDiffer.prototype._addToMoves=function(record,toIndex){return record.previousIndex===toIndex?record:(null===this._movesTail?this._movesTail=this._movesHead=record:this._movesTail=this._movesTail._nextMoved=record,record)},DefaultIterableDiffer.prototype._addToRemovals=function(record){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _DuplicateMap),this._unlinkedRecords.put(record),record.currentIndex=null,record._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=record,record._prevRemoved=null):(record._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=record),record},DefaultIterableDiffer.prototype._addIdentityChange=function(record,item){return record.item=item,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=record:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=record,record},DefaultIterableDiffer.prototype.toString=function(){var list=[];this.forEachItem(function(record){return list.push(record)});var previous=[];this.forEachPreviousItem(function(record){return previous.push(record)});var additions=[];this.forEachAddedItem(function(record){return additions.push(record)});var moves=[];this.forEachMovedItem(function(record){return moves.push(record)});var removals=[];this.forEachRemovedItem(function(record){return removals.push(record)});var identityChanges=[];return this.forEachIdentityChange(function(record){return identityChanges.push(record)}),"collection: "+list.join(", ")+"\nprevious: "+previous.join(", ")+"\nadditions: "+additions.join(", ")+"\nmoves: "+moves.join(", ")+"\nremovals: "+removals.join(", ")+"\nidentityChanges: "+identityChanges.join(", ")+"\n"},DefaultIterableDiffer}(),CollectionChangeRecord=function(){function CollectionChangeRecord(item,trackById){this.item=item,this.trackById=trackById,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return CollectionChangeRecord.prototype.toString=function(){return this.previousIndex===this.currentIndex?stringify(this.item):stringify(this.item)+"["+stringify(this.previousIndex)+"->"+stringify(this.currentIndex)+"]"},CollectionChangeRecord}(),_DuplicateItemRecordList=function(){function _DuplicateItemRecordList(){this._head=null,this._tail=null}return _DuplicateItemRecordList.prototype.add=function(record){null===this._head?(this._head=this._tail=record,record._nextDup=null,record._prevDup=null):(this._tail._nextDup=record,record._prevDup=this._tail,record._nextDup=null,this._tail=record)},_DuplicateItemRecordList.prototype.get=function(trackById,afterIndex){var record;for(record=this._head;null!==record;record=record._nextDup)if((null===afterIndex||afterIndex<record.currentIndex)&&looseIdentical(record.trackById,trackById))return record;return null},_DuplicateItemRecordList.prototype.remove=function(record){var prev=record._prevDup,next=record._nextDup;return null===prev?this._head=next:prev._nextDup=next,null===next?this._tail=prev:next._prevDup=prev,null===this._head},_DuplicateItemRecordList}(),_DuplicateMap=function(){function _DuplicateMap(){this.map=new Map}return _DuplicateMap.prototype.put=function(record){var key=record.trackById,duplicates=this.map.get(key);duplicates||(duplicates=new _DuplicateItemRecordList,this.map.set(key,duplicates)),duplicates.add(record)},_DuplicateMap.prototype.get=function(trackById,afterIndex){void 0===afterIndex&&(afterIndex=null);var key=trackById,recordList=this.map.get(key);return recordList?recordList.get(trackById,afterIndex):null},_DuplicateMap.prototype.remove=function(record){var key=record.trackById,recordList=this.map.get(key);return recordList.remove(record)&&this.map.delete(key),record},Object.defineProperty(_DuplicateMap.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),_DuplicateMap.prototype.clear=function(){this.map.clear()},_DuplicateMap.prototype.toString=function(){return"_DuplicateMap("+stringify(this.map)+")"},_DuplicateMap}(),DefaultKeyValueDifferFactory=function(){function DefaultKeyValueDifferFactory(){}return DefaultKeyValueDifferFactory.prototype.supports=function(obj){return obj instanceof Map||isJsObject(obj)},DefaultKeyValueDifferFactory.prototype.create=function(cdRef){return new DefaultKeyValueDiffer},DefaultKeyValueDifferFactory}(),DefaultKeyValueDiffer=function(){function DefaultKeyValueDiffer(){this._records=new Map,this._mapHead=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(DefaultKeyValueDiffer.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),DefaultKeyValueDiffer.prototype.forEachItem=function(fn){var record;for(record=this._mapHead;null!==record;record=record._next)fn(record)},DefaultKeyValueDiffer.prototype.forEachPreviousItem=function(fn){var record;for(record=this._previousMapHead;null!==record;record=record._nextPrevious)fn(record)},DefaultKeyValueDiffer.prototype.forEachChangedItem=function(fn){var record;for(record=this._changesHead;null!==record;record=record._nextChanged)fn(record)},DefaultKeyValueDiffer.prototype.forEachAddedItem=function(fn){var record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)},DefaultKeyValueDiffer.prototype.forEachRemovedItem=function(fn){var record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)},DefaultKeyValueDiffer.prototype.diff=function(map){if(map){if(!(map instanceof Map||isJsObject(map)))throw new Error("Error trying to diff '"+map+"'")}else map=new Map;return this.check(map)?this:null;
},DefaultKeyValueDiffer.prototype.onDestroy=function(){},DefaultKeyValueDiffer.prototype.check=function(map){var _this=this;this._reset();var records=this._records,oldSeqRecord=this._mapHead,lastOldSeqRecord=null,lastNewSeqRecord=null,seqChanged=!1;return this._forEach(map,function(value,key){var newSeqRecord;oldSeqRecord&&key===oldSeqRecord.key?(newSeqRecord=oldSeqRecord,_this._maybeAddToChanges(newSeqRecord,value)):(seqChanged=!0,null!==oldSeqRecord&&(_this._removeFromSeq(lastOldSeqRecord,oldSeqRecord),_this._addToRemovals(oldSeqRecord)),records.has(key)?(newSeqRecord=records.get(key),_this._maybeAddToChanges(newSeqRecord,value)):(newSeqRecord=new KeyValueChangeRecord(key),records.set(key,newSeqRecord),newSeqRecord.currentValue=value,_this._addToAdditions(newSeqRecord))),seqChanged&&(_this._isInRemovals(newSeqRecord)&&_this._removeFromRemovals(newSeqRecord),null==lastNewSeqRecord?_this._mapHead=newSeqRecord:lastNewSeqRecord._next=newSeqRecord),lastOldSeqRecord=oldSeqRecord,lastNewSeqRecord=newSeqRecord,oldSeqRecord=oldSeqRecord&&oldSeqRecord._next}),this._truncate(lastOldSeqRecord,oldSeqRecord),this.isDirty},DefaultKeyValueDiffer.prototype._reset=function(){if(this.isDirty){var record=void 0;for(record=this._previousMapHead=this._mapHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._changesHead;null!==record;record=record._nextChanged)record.previousValue=record.currentValue;for(record=this._additionsHead;null!=record;record=record._nextAdded)record.previousValue=record.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=this._removalsTail=null}},DefaultKeyValueDiffer.prototype._truncate=function(lastRecord,record){for(;null!==record;){null===lastRecord?this._mapHead=null:lastRecord._next=null;var nextRecord=record._next;this._addToRemovals(record),lastRecord=record,record=nextRecord}for(var rec=this._removalsHead;null!==rec;rec=rec._nextRemoved)rec.previousValue=rec.currentValue,rec.currentValue=null,this._records.delete(rec.key)},DefaultKeyValueDiffer.prototype._maybeAddToChanges=function(record,newValue){looseIdentical(newValue,record.currentValue)||(record.previousValue=record.currentValue,record.currentValue=newValue,this._addToChanges(record))},DefaultKeyValueDiffer.prototype._isInRemovals=function(record){return record===this._removalsHead||null!==record._nextRemoved||null!==record._prevRemoved},DefaultKeyValueDiffer.prototype._addToRemovals=function(record){null===this._removalsHead?this._removalsHead=this._removalsTail=record:(this._removalsTail._nextRemoved=record,record._prevRemoved=this._removalsTail,this._removalsTail=record)},DefaultKeyValueDiffer.prototype._removeFromSeq=function(prev,record){var next=record._next;null===prev?this._mapHead=next:prev._next=next,record._next=null},DefaultKeyValueDiffer.prototype._removeFromRemovals=function(record){var prev=record._prevRemoved,next=record._nextRemoved;null===prev?this._removalsHead=next:prev._nextRemoved=next,null===next?this._removalsTail=prev:next._prevRemoved=prev,record._prevRemoved=record._nextRemoved=null},DefaultKeyValueDiffer.prototype._addToAdditions=function(record){null===this._additionsHead?this._additionsHead=this._additionsTail=record:(this._additionsTail._nextAdded=record,this._additionsTail=record)},DefaultKeyValueDiffer.prototype._addToChanges=function(record){null===this._changesHead?this._changesHead=this._changesTail=record:(this._changesTail._nextChanged=record,this._changesTail=record)},DefaultKeyValueDiffer.prototype.toString=function(){var record,items=[],previous=[],changes=[],additions=[],removals=[];for(record=this._mapHead;null!==record;record=record._next)items.push(stringify(record));for(record=this._previousMapHead;null!==record;record=record._nextPrevious)previous.push(stringify(record));for(record=this._changesHead;null!==record;record=record._nextChanged)changes.push(stringify(record));for(record=this._additionsHead;null!==record;record=record._nextAdded)additions.push(stringify(record));for(record=this._removalsHead;null!==record;record=record._nextRemoved)removals.push(stringify(record));return"map: "+items.join(", ")+"\nprevious: "+previous.join(", ")+"\nadditions: "+additions.join(", ")+"\nchanges: "+changes.join(", ")+"\nremovals: "+removals.join(", ")+"\n"},DefaultKeyValueDiffer.prototype._forEach=function(obj,fn){obj instanceof Map?obj.forEach(fn):Object.keys(obj).forEach(function(k){return fn(obj[k],k)})},DefaultKeyValueDiffer}(),KeyValueChangeRecord=function(){function KeyValueChangeRecord(key){this.key=key,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._nextAdded=null,this._nextRemoved=null,this._prevRemoved=null,this._nextChanged=null}return KeyValueChangeRecord.prototype.toString=function(){return looseIdentical(this.previousValue,this.currentValue)?stringify(this.key):stringify(this.key)+"["+stringify(this.previousValue)+"->"+stringify(this.currentValue)+"]"},KeyValueChangeRecord}(),IterableDiffers=function(){function IterableDiffers(factories){this.factories=factories}return IterableDiffers.create=function(factories,parent){if(isPresent(parent)){var copied=ListWrapper.clone(parent.factories);return factories=factories.concat(copied),new IterableDiffers(factories)}return new IterableDiffers(factories)},IterableDiffers.extend=function(factories){return{provide:IterableDiffers,useFactory:function(parent){if(!parent)throw new Error("Cannot extend IterableDiffers without a parent injector");return IterableDiffers.create(factories,parent)},deps:[[IterableDiffers,new SkipSelf,new Optional]]}},IterableDiffers.prototype.find=function(iterable){var factory=this.factories.find(function(f){return f.supports(iterable)});if(isPresent(factory))return factory;throw new Error("Cannot find a differ supporting object '"+iterable+"' of type '"+getTypeNameForDebugging(iterable)+"'")},IterableDiffers}(),KeyValueDiffers=function(){function KeyValueDiffers(factories){this.factories=factories}return KeyValueDiffers.create=function(factories,parent){if(isPresent(parent)){var copied=ListWrapper.clone(parent.factories);return factories=factories.concat(copied),new KeyValueDiffers(factories)}return new KeyValueDiffers(factories)},KeyValueDiffers.extend=function(factories){return{provide:KeyValueDiffers,useFactory:function(parent){if(!parent)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return KeyValueDiffers.create(factories,parent)},deps:[[KeyValueDiffers,new SkipSelf,new Optional]]}},KeyValueDiffers.prototype.find=function(kv){var factory=this.factories.find(function(f){return f.supports(kv)});if(isPresent(factory))return factory;throw new Error("Cannot find a differ supporting object '"+kv+"'")},KeyValueDiffers}(),UNINITIALIZED={toString:function(){return"CD_INIT_VALUE"}},WrappedValue=function(){function WrappedValue(wrapped){this.wrapped=wrapped}return WrappedValue.wrap=function(value){return new WrappedValue(value)},WrappedValue}(),ValueUnwrapper=function(){function ValueUnwrapper(){this.hasWrappedValue=!1}return ValueUnwrapper.prototype.unwrap=function(value){return value instanceof WrappedValue?(this.hasWrappedValue=!0,value.wrapped):value},ValueUnwrapper.prototype.reset=function(){this.hasWrappedValue=!1},ValueUnwrapper}(),SimpleChange=function(){function SimpleChange(previousValue,currentValue){this.previousValue=previousValue,this.currentValue=currentValue}return SimpleChange.prototype.isFirstChange=function(){return this.previousValue===UNINITIALIZED},SimpleChange}(),ChangeDetectorRef=function(){function ChangeDetectorRef(){}return ChangeDetectorRef}(),keyValDiff=[new DefaultKeyValueDifferFactory],iterableDiff=[new DefaultIterableDifferFactory],defaultIterableDiffers=new IterableDiffers(iterableDiff),defaultKeyValueDiffers=new KeyValueDiffers(keyValDiff),RenderComponentType=function(){function RenderComponentType(id,templateUrl,slotCount,encapsulation,styles,animations){this.id=id,this.templateUrl=templateUrl,this.slotCount=slotCount,this.encapsulation=encapsulation,this.styles=styles,this.animations=animations}return RenderComponentType}(),RenderDebugInfo=function(){function RenderDebugInfo(){}return Object.defineProperty(RenderDebugInfo.prototype,"injector",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderDebugInfo.prototype,"component",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderDebugInfo.prototype,"providerTokens",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderDebugInfo.prototype,"references",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderDebugInfo.prototype,"context",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderDebugInfo.prototype,"source",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),RenderDebugInfo}(),Renderer=function(){function Renderer(){}return Renderer}(),RootRenderer=function(){function RootRenderer(){}return RootRenderer}();exports.SecurityContext,function(SecurityContext){SecurityContext[SecurityContext.NONE=0]="NONE",SecurityContext[SecurityContext.HTML=1]="HTML",SecurityContext[SecurityContext.STYLE=2]="STYLE",SecurityContext[SecurityContext.SCRIPT=3]="SCRIPT",SecurityContext[SecurityContext.URL=4]="URL",SecurityContext[SecurityContext.RESOURCE_URL=5]="RESOURCE_URL"}(exports.SecurityContext||(exports.SecurityContext={}));var trace,events,ViewType,Sanitizer=function(){function Sanitizer(){}return Sanitizer}(),ElementRef=function(){function ElementRef(nativeElement){this.nativeElement=nativeElement}return ElementRef}(),wtfEnabled=detectWTF(),wtfCreateScope=wtfEnabled?createScope:function(signature,flags){return noopScope},wtfLeave=wtfEnabled?leave:function(s,r){return r},wtfStartTimeRange=wtfEnabled?startTimeRange:function(rangeType,action){return null},wtfEndTimeRange=wtfEnabled?endTimeRange:function(r){return null},ViewContainerRef=function(){function ViewContainerRef(){}return Object.defineProperty(ViewContainerRef.prototype,"element",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef.prototype,"injector",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef.prototype,"parentInjector",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef.prototype,"length",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),ViewContainerRef}(),ViewContainerRef_=function(){function ViewContainerRef_(_element){this._element=_element,this._createComponentInContainerScope=wtfCreateScope("ViewContainerRef#createComponent()"),this._insertScope=wtfCreateScope("ViewContainerRef#insert()"),this._removeScope=wtfCreateScope("ViewContainerRef#remove()"),this._detachScope=wtfCreateScope("ViewContainerRef#detach()")}return ViewContainerRef_.prototype.get=function(index){return this._element.nestedViews[index].ref},Object.defineProperty(ViewContainerRef_.prototype,"length",{get:function(){var views=this._element.nestedViews;return isPresent(views)?views.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef_.prototype,"element",{get:function(){return this._element.elementRef},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef_.prototype,"injector",{get:function(){return this._element.injector},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef_.prototype,"parentInjector",{get:function(){return this._element.parentInjector},enumerable:!0,configurable:!0}),ViewContainerRef_.prototype.createEmbeddedView=function(templateRef,context,index){void 0===context&&(context=null),void 0===index&&(index=-1);var viewRef=templateRef.createEmbeddedView(context);return this.insert(viewRef,index),viewRef},ViewContainerRef_.prototype.createComponent=function(componentFactory,index,injector,projectableNodes){void 0===index&&(index=-1),void 0===injector&&(injector=null),void 0===projectableNodes&&(projectableNodes=null);var s=this._createComponentInContainerScope(),contextInjector=injector||this._element.parentInjector,componentRef=componentFactory.create(contextInjector,projectableNodes);return this.insert(componentRef.hostView,index),wtfLeave(s,componentRef)},ViewContainerRef_.prototype.insert=function(viewRef,index){void 0===index&&(index=-1);var s=this._insertScope();-1==index&&(index=this.length);var viewRef_=viewRef;return this._element.attachView(viewRef_.internalView,index),wtfLeave(s,viewRef_)},ViewContainerRef_.prototype.move=function(viewRef,currentIndex){var s=this._insertScope();if(-1!=currentIndex){var viewRef_=viewRef;return this._element.moveView(viewRef_.internalView,currentIndex),wtfLeave(s,viewRef_)}},ViewContainerRef_.prototype.indexOf=function(viewRef){return ListWrapper.indexOf(this._element.nestedViews,viewRef.internalView)},ViewContainerRef_.prototype.remove=function(index){void 0===index&&(index=-1);var s=this._removeScope();-1==index&&(index=this.length-1);var view=this._element.detachView(index);view.destroy(),wtfLeave(s)},ViewContainerRef_.prototype.detach=function(index){void 0===index&&(index=-1);var s=this._detachScope();-1==index&&(index=this.length-1);var view=this._element.detachView(index);return wtfLeave(s,view.ref)},ViewContainerRef_.prototype.clear=function(){for(var i=this.length-1;i>=0;i--)this.remove(i)},ViewContainerRef_}();!function(ViewType){ViewType[ViewType.HOST=0]="HOST",ViewType[ViewType.COMPONENT=1]="COMPONENT",ViewType[ViewType.EMBEDDED=2]="EMBEDDED"}(ViewType||(ViewType={}));var _platform,AppElement=function(){function AppElement(index,parentIndex,parentView,nativeElement){this.index=index,this.parentIndex=parentIndex,this.parentView=parentView,this.nativeElement=nativeElement,this.nestedViews=null,this.componentView=null}return Object.defineProperty(AppElement.prototype,"elementRef",{get:function(){return new ElementRef(this.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(AppElement.prototype,"vcRef",{get:function(){return new ViewContainerRef_(this)},enumerable:!0,configurable:!0}),AppElement.prototype.initComponent=function(component,componentConstructorViewQueries,view){this.component=component,this.componentConstructorViewQueries=componentConstructorViewQueries,this.componentView=view},Object.defineProperty(AppElement.prototype,"parentInjector",{get:function(){return this.parentView.injector(this.parentIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(AppElement.prototype,"injector",{get:function(){return this.parentView.injector(this.index)},enumerable:!0,configurable:!0}),AppElement.prototype.mapNestedViews=function(nestedViewClass,callback){var result=[];return isPresent(this.nestedViews)&&this.nestedViews.forEach(function(nestedView){nestedView.clazz===nestedViewClass&&result.push(callback(nestedView))}),result},AppElement.prototype.moveView=function(view,currentIndex){var previousIndex=this.nestedViews.indexOf(view);if(view.type===ViewType.COMPONENT)throw new Error("Component views can't be moved!");var nestedViews=this.nestedViews;null==nestedViews&&(nestedViews=[],this.nestedViews=nestedViews),ListWrapper.removeAt(nestedViews,previousIndex),ListWrapper.insert(nestedViews,currentIndex,view);var refRenderNode;if(currentIndex>0){var prevView=nestedViews[currentIndex-1];refRenderNode=prevView.lastRootNode}else refRenderNode=this.nativeElement;isPresent(refRenderNode)&&view.renderer.attachViewAfter(refRenderNode,view.flatRootNodes),view.markContentChildAsMoved(this)},AppElement.prototype.attachView=function(view,viewIndex){if(view.type===ViewType.COMPONENT)throw new Error("Component views can't be moved!");var nestedViews=this.nestedViews;null==nestedViews&&(nestedViews=[],this.nestedViews=nestedViews),ListWrapper.insert(nestedViews,viewIndex,view);var refRenderNode;if(viewIndex>0){var prevView=nestedViews[viewIndex-1];refRenderNode=prevView.lastRootNode}else refRenderNode=this.nativeElement;isPresent(refRenderNode)&&view.renderer.attachViewAfter(refRenderNode,view.flatRootNodes),view.addToContentChildren(this)},AppElement.prototype.detachView=function(viewIndex){var view=ListWrapper.removeAt(this.nestedViews,viewIndex);if(view.type===ViewType.COMPONENT)throw new Error("Component views can't be moved!");return view.detach(),view.removeFromContentChildren(this),view},AppElement}(),__extends$6=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ExpressionChangedAfterItHasBeenCheckedError=function(_super){function ExpressionChangedAfterItHasBeenCheckedError(oldValue,currValue){var msg="Expression has changed after it was checked. Previous value: '"+oldValue+"'. Current value: '"+currValue+"'.";oldValue===UNINITIALIZED&&(msg+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),_super.call(this,msg)}return __extends$6(ExpressionChangedAfterItHasBeenCheckedError,_super),ExpressionChangedAfterItHasBeenCheckedError}(BaseError),ViewWrappedError=function(_super){function ViewWrappedError(originalError,context){_super.call(this,"Error in "+context.source,originalError),this.context=context}return __extends$6(ViewWrappedError,_super),ViewWrappedError}(WrappedError),ViewDestroyedError=function(_super){function ViewDestroyedError(details){_super.call(this,"Attempt to use a destroyed view: "+details)}return __extends$6(ViewDestroyedError,_super),ViewDestroyedError}(BaseError),ViewUtils=function(){function ViewUtils(_renderer,_appId,sanitizer){this._renderer=_renderer,this._appId=_appId,this._nextCompTypeId=0,this.sanitizer=sanitizer}return ViewUtils.prototype.createRenderComponentType=function(templateUrl,slotCount,encapsulation,styles,animations){return new RenderComponentType(this._appId+"-"+this._nextCompTypeId++,templateUrl,slotCount,encapsulation,styles,animations)},ViewUtils.prototype.renderComponent=function(renderComponentType){return this._renderer.renderComponent(renderComponentType)},ViewUtils.decorators=[{type:Injectable}],ViewUtils.ctorParameters=[{type:RootRenderer},{type:void 0,decorators:[{type:Inject,args:[APP_ID]}]},{type:Sanitizer}],ViewUtils}(),EMPTY_ARR=[],MAX_INTERPOLATION_VALUES=9,EMPTY_ARRAY=[],EMPTY_MAP={},CAMEL_CASE_REGEXP=/([A-Z])/g,view_utils=Object.freeze({ViewUtils:ViewUtils,flattenNestedViewRenderNodes:flattenNestedViewRenderNodes,ensureSlotCount:ensureSlotCount,MAX_INTERPOLATION_VALUES:MAX_INTERPOLATION_VALUES,interpolate:interpolate,checkBinding:checkBinding,castByValue:castByValue,EMPTY_ARRAY:EMPTY_ARRAY,EMPTY_MAP:EMPTY_MAP,pureProxy1:pureProxy1,pureProxy2:pureProxy2,pureProxy3:pureProxy3,pureProxy4:pureProxy4,pureProxy5:pureProxy5,pureProxy6:pureProxy6,pureProxy7:pureProxy7,pureProxy8:pureProxy8,pureProxy9:pureProxy9,pureProxy10:pureProxy10,setBindingDebugInfoForChanges:setBindingDebugInfoForChanges,setBindingDebugInfo:setBindingDebugInfo}),__extends$5=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ComponentRef=function(){function ComponentRef(){}return Object.defineProperty(ComponentRef.prototype,"location",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"injector",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"instance",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"hostView",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"changeDetectorRef",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"componentType",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),ComponentRef}(),ComponentRef_=function(_super){function ComponentRef_(_hostElement,_componentType){_super.call(this),this._hostElement=_hostElement,this._componentType=_componentType}return __extends$5(ComponentRef_,_super),Object.defineProperty(ComponentRef_.prototype,"location",{get:function(){return this._hostElement.elementRef},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef_.prototype,"injector",{get:function(){return this._hostElement.injector},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef_.prototype,"instance",{get:function(){return this._hostElement.component},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef_.prototype,"hostView",{get:function(){return this._hostElement.parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef_.prototype,"changeDetectorRef",{get:function(){return this._hostElement.parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef_.prototype,"componentType",{get:function(){return this._componentType},enumerable:!0,configurable:!0}),ComponentRef_.prototype.destroy=function(){this._hostElement.parentView.destroy()},ComponentRef_.prototype.onDestroy=function(callback){this.hostView.onDestroy(callback)},ComponentRef_}(ComponentRef),EMPTY_CONTEXT=new Object,ComponentFactory=function(){function ComponentFactory(selector,_viewFactory,_componentType){this.selector=selector,this._viewFactory=_viewFactory,this._componentType=_componentType}return Object.defineProperty(ComponentFactory.prototype,"componentType",{get:function(){return this._componentType},enumerable:!0,configurable:!0}),ComponentFactory.prototype.create=function(injector,projectableNodes,rootSelectorOrNode){void 0===projectableNodes&&(projectableNodes=null),void 0===rootSelectorOrNode&&(rootSelectorOrNode=null);var vu=injector.get(ViewUtils);projectableNodes||(projectableNodes=[]);var hostView=this._viewFactory(vu,injector,null),hostElement=hostView.create(EMPTY_CONTEXT,projectableNodes,rootSelectorOrNode);return new ComponentRef_(hostElement,this._componentType)},ComponentFactory}(),__extends$7=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},NoComponentFactoryError=function(_super){function NoComponentFactoryError(component){_super.call(this,"No component factory found for "+stringify(component)),this.component=component}return __extends$7(NoComponentFactoryError,_super),NoComponentFactoryError}(BaseError),_NullComponentFactoryResolver=function(){function _NullComponentFactoryResolver(){}return _NullComponentFactoryResolver.prototype.resolveComponentFactory=function(component){throw new NoComponentFactoryError(component)},_NullComponentFactoryResolver}(),ComponentFactoryResolver=function(){function ComponentFactoryResolver(){}return ComponentFactoryResolver.NULL=new _NullComponentFactoryResolver,ComponentFactoryResolver}(),CodegenComponentFactoryResolver=function(){function CodegenComponentFactoryResolver(factories,_parent){this._parent=_parent,this._factories=new Map;for(var i=0;i<factories.length;i++){var factory=factories[i];this._factories.set(factory.componentType,factory)}}return CodegenComponentFactoryResolver.prototype.resolveComponentFactory=function(component){var result=this._factories.get(component);return result||(result=this._parent.resolveComponentFactory(component)),result},CodegenComponentFactoryResolver}(),__extends$8=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},EventEmitter=function(_super){function EventEmitter(isAsync){void 0===isAsync&&(isAsync=!1),_super.call(this),this.__isAsync=isAsync}return __extends$8(EventEmitter,_super),EventEmitter.prototype.emit=function(value){_super.prototype.next.call(this,value)},EventEmitter.prototype.subscribe=function(generatorOrNext,error,complete){var schedulerFn,errorFn=function(err){return null},completeFn=function(){return null};return generatorOrNext&&"object"==typeof generatorOrNext?(schedulerFn=this.__isAsync?function(value){setTimeout(function(){return generatorOrNext.next(value)})}:function(value){generatorOrNext.next(value)},generatorOrNext.error&&(errorFn=this.__isAsync?function(err){setTimeout(function(){return generatorOrNext.error(err)})}:function(err){generatorOrNext.error(err)}),generatorOrNext.complete&&(completeFn=this.__isAsync?function(){setTimeout(function(){return generatorOrNext.complete()})}:function(){generatorOrNext.complete()})):(schedulerFn=this.__isAsync?function(value){setTimeout(function(){return generatorOrNext(value)})}:function(value){generatorOrNext(value)},error&&(errorFn=this.__isAsync?function(err){setTimeout(function(){return error(err)})}:function(err){error(err)}),complete&&(completeFn=this.__isAsync?function(){setTimeout(function(){return complete()})}:function(){complete()})),_super.prototype.subscribe.call(this,schedulerFn,errorFn,completeFn)},EventEmitter}(rxjs_Subject.Subject),NgZone=function(){function NgZone(_a){var _b=_a.enableLongStackTrace,enableLongStackTrace=void 0===_b?!1:_b;if(this._hasPendingMicrotasks=!1,this._hasPendingMacrotasks=!1,this._isStable=!0,this._nesting=0,this._onUnstable=new EventEmitter(!1),this._onMicrotaskEmpty=new EventEmitter(!1),this._onStable=new EventEmitter(!1),this._onErrorEvents=new EventEmitter(!1),"undefined"==typeof Zone)throw new Error("Angular requires Zone.js prolyfill.");Zone.assertZonePatched(),this.outer=this.inner=Zone.current,Zone.wtfZoneSpec&&(this.inner=this.inner.fork(Zone.wtfZoneSpec)),enableLongStackTrace&&Zone.longStackTraceZoneSpec&&(this.inner=this.inner.fork(Zone.longStackTraceZoneSpec)),this.forkInnerZoneWithAngularBehavior()}return NgZone.isInAngularZone=function(){return Zone.current.get("isAngularZone")===!0},NgZone.assertInAngularZone=function(){if(!NgZone.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},NgZone.assertNotInAngularZone=function(){if(NgZone.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},NgZone.prototype.run=function(fn){return this.inner.run(fn)},NgZone.prototype.runGuarded=function(fn){return this.inner.runGuarded(fn)},NgZone.prototype.runOutsideAngular=function(fn){return this.outer.run(fn)},Object.defineProperty(NgZone.prototype,"onUnstable",{get:function(){return this._onUnstable},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"onMicrotaskEmpty",{get:function(){return this._onMicrotaskEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"onStable",{get:function(){return this._onStable},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"onError",{get:function(){return this._onErrorEvents},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"isStable",{get:function(){return this._isStable},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"hasPendingMicrotasks",{get:function(){return this._hasPendingMicrotasks},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"hasPendingMacrotasks",{get:function(){return this._hasPendingMacrotasks},enumerable:!0,configurable:!0}),NgZone.prototype.checkStable=function(){var _this=this;if(0==this._nesting&&!this._hasPendingMicrotasks&&!this._isStable)try{this._nesting++,this._onMicrotaskEmpty.emit(null)}finally{if(this._nesting--,!this._hasPendingMicrotasks)try{this.runOutsideAngular(function(){return _this._onStable.emit(null)})}finally{this._isStable=!0}}},NgZone.prototype.forkInnerZoneWithAngularBehavior=function(){var _this=this;this.inner=this.inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(delegate,current,target,task,applyThis,applyArgs){try{return _this.onEnter(),delegate.invokeTask(target,task,applyThis,applyArgs)}finally{_this.onLeave()}},onInvoke:function(delegate,current,target,callback,applyThis,applyArgs,source){try{return _this.onEnter(),delegate.invoke(target,callback,applyThis,applyArgs,source)}finally{_this.onLeave()}},onHasTask:function(delegate,current,target,hasTaskState){delegate.hasTask(target,hasTaskState),current===target&&("microTask"==hasTaskState.change?_this.setHasMicrotask(hasTaskState.microTask):"macroTask"==hasTaskState.change&&_this.setHasMacrotask(hasTaskState.macroTask))},onHandleError:function(delegate,current,target,error){return delegate.handleError(target,error),_this.triggerError(error),!1}})},NgZone.prototype.onEnter=function(){this._nesting++,this._isStable&&(this._isStable=!1,this._onUnstable.emit(null))},NgZone.prototype.onLeave=function(){this._nesting--,this.checkStable()},NgZone.prototype.setHasMicrotask=function(hasMicrotasks){this._hasPendingMicrotasks=hasMicrotasks,this.checkStable()},NgZone.prototype.setHasMacrotask=function(hasMacrotasks){this._hasPendingMacrotasks=hasMacrotasks},NgZone.prototype.triggerError=function(error){this._onErrorEvents.emit(error)},NgZone}(),Testability=function(){function Testability(_ngZone){this._ngZone=_ngZone,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return Testability.prototype._watchAngularEvents=function(){var _this=this;this._ngZone.onUnstable.subscribe({next:function(){_this._didWork=!0,_this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){_this._ngZone.onStable.subscribe({next:function(){NgZone.assertNotInAngularZone(),scheduleMicroTask(function(){_this._isZoneStable=!0,_this._runCallbacksIfReady()})}})})},Testability.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},Testability.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},Testability.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},Testability.prototype._runCallbacksIfReady=function(){var _this=this;this.isStable()?scheduleMicroTask(function(){for(;0!==_this._callbacks.length;)_this._callbacks.pop()(_this._didWork);_this._didWork=!1}):this._didWork=!0},Testability.prototype.whenStable=function(callback){this._callbacks.push(callback),this._runCallbacksIfReady()},Testability.prototype.getPendingRequestCount=function(){return this._pendingCount},Testability.prototype.findBindings=function(using,provider,exactMatch){return[]},Testability.prototype.findProviders=function(using,provider,exactMatch){return[]},Testability.decorators=[{type:Injectable}],Testability.ctorParameters=[{type:NgZone}],Testability}(),TestabilityRegistry=function(){function TestabilityRegistry(){this._applications=new Map,_testabilityGetter.addToWindow(this)}return TestabilityRegistry.prototype.registerApplication=function(token,testability){this._applications.set(token,testability)},TestabilityRegistry.prototype.getTestability=function(elem){return this._applications.get(elem)},TestabilityRegistry.prototype.getAllTestabilities=function(){return MapWrapper.values(this._applications)},TestabilityRegistry.prototype.getAllRootElements=function(){return MapWrapper.keys(this._applications)},TestabilityRegistry.prototype.findTestabilityInTree=function(elem,findInAncestors){return void 0===findInAncestors&&(findInAncestors=!0),_testabilityGetter.findTestabilityInTree(this,elem,findInAncestors)},TestabilityRegistry.decorators=[{type:Injectable}],TestabilityRegistry.ctorParameters=[],TestabilityRegistry}(),_NoopGetTestability=function(){
function _NoopGetTestability(){}return _NoopGetTestability.prototype.addToWindow=function(registry){},_NoopGetTestability.prototype.findTestabilityInTree=function(registry,elem,findInAncestors){return null},_NoopGetTestability}(),_testabilityGetter=new _NoopGetTestability,__extends$3=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},_devMode=!0,_runModeLocked=!1,PlatformRef=function(){function PlatformRef(){}return PlatformRef.prototype.bootstrapModuleFactory=function(moduleFactory){throw unimplemented()},PlatformRef.prototype.bootstrapModule=function(moduleType,compilerOptions){throw void 0===compilerOptions&&(compilerOptions=[]),unimplemented()},Object.defineProperty(PlatformRef.prototype,"injector",{get:function(){throw unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformRef.prototype,"destroyed",{get:function(){throw unimplemented()},enumerable:!0,configurable:!0}),PlatformRef}(),PlatformRef_=function(_super){function PlatformRef_(_injector){_super.call(this),this._injector=_injector,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return __extends$3(PlatformRef_,_super),PlatformRef_.prototype.onDestroy=function(callback){this._destroyListeners.push(callback)},Object.defineProperty(PlatformRef_.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformRef_.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),PlatformRef_.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(module){return module.destroy()}),this._destroyListeners.forEach(function(listener){return listener()}),this._destroyed=!0},PlatformRef_.prototype.bootstrapModuleFactory=function(moduleFactory){return this._bootstrapModuleFactoryWithZone(moduleFactory,null)},PlatformRef_.prototype._bootstrapModuleFactoryWithZone=function(moduleFactory,ngZone){var _this=this;return ngZone||(ngZone=new NgZone({enableLongStackTrace:isDevMode()})),ngZone.run(function(){var ngZoneInjector=ReflectiveInjector.resolveAndCreate([{provide:NgZone,useValue:ngZone}],_this.injector),moduleRef=moduleFactory.create(ngZoneInjector),exceptionHandler=moduleRef.injector.get(ErrorHandler,null);if(!exceptionHandler)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return moduleRef.onDestroy(function(){return ListWrapper.remove(_this._modules,moduleRef)}),ngZone.onError.subscribe({next:function(error){exceptionHandler.handleError(error)}}),_callAndReportToErrorHandler(exceptionHandler,function(){var initStatus=moduleRef.injector.get(ApplicationInitStatus);return initStatus.donePromise.then(function(){return _this._moduleDoBootstrap(moduleRef),moduleRef})})})},PlatformRef_.prototype.bootstrapModule=function(moduleType,compilerOptions){return void 0===compilerOptions&&(compilerOptions=[]),this._bootstrapModuleWithZone(moduleType,compilerOptions,null)},PlatformRef_.prototype._bootstrapModuleWithZone=function(moduleType,compilerOptions,ngZone,componentFactoryCallback){var _this=this;void 0===compilerOptions&&(compilerOptions=[]);var compilerFactory=this.injector.get(CompilerFactory),compiler=compilerFactory.createCompiler(Array.isArray(compilerOptions)?compilerOptions:[compilerOptions]);return componentFactoryCallback?compiler.compileModuleAndAllComponentsAsync(moduleType).then(function(_a){var ngModuleFactory=_a.ngModuleFactory,componentFactories=_a.componentFactories;return componentFactoryCallback(componentFactories),_this._bootstrapModuleFactoryWithZone(ngModuleFactory,ngZone)}):compiler.compileModuleAsync(moduleType).then(function(moduleFactory){return _this._bootstrapModuleFactoryWithZone(moduleFactory,ngZone)})},PlatformRef_.prototype._moduleDoBootstrap=function(moduleRef){var appRef=moduleRef.injector.get(ApplicationRef);if(moduleRef.bootstrapFactories.length>0)moduleRef.bootstrapFactories.forEach(function(compFactory){return appRef.bootstrap(compFactory)});else{if(!moduleRef.instance.ngDoBootstrap)throw new Error("The module "+stringify(moduleRef.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');moduleRef.instance.ngDoBootstrap(appRef)}},PlatformRef_.decorators=[{type:Injectable}],PlatformRef_.ctorParameters=[{type:Injector}],PlatformRef_}(PlatformRef),ApplicationRef=function(){function ApplicationRef(){}return Object.defineProperty(ApplicationRef.prototype,"componentTypes",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef.prototype,"components",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),ApplicationRef}(),ApplicationRef_=function(_super){function ApplicationRef_(_zone,_console,_injector,_exceptionHandler,_componentFactoryResolver,_initStatus,_testabilityRegistry,_testability){var _this=this;_super.call(this),this._zone=_zone,this._console=_console,this._injector=_injector,this._exceptionHandler=_exceptionHandler,this._componentFactoryResolver=_componentFactoryResolver,this._initStatus=_initStatus,this._testabilityRegistry=_testabilityRegistry,this._testability=_testability,this._bootstrapListeners=[],this._rootComponents=[],this._rootComponentTypes=[],this._changeDetectorRefs=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._enforceNoNewChanges=isDevMode(),this._zone.onMicrotaskEmpty.subscribe({next:function(){_this._zone.run(function(){_this.tick()})}})}return __extends$3(ApplicationRef_,_super),ApplicationRef_.prototype.registerChangeDetector=function(changeDetector){this._changeDetectorRefs.push(changeDetector)},ApplicationRef_.prototype.unregisterChangeDetector=function(changeDetector){ListWrapper.remove(this._changeDetectorRefs,changeDetector)},ApplicationRef_.prototype.bootstrap=function(componentOrFactory){var _this=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var componentFactory;componentFactory=componentOrFactory instanceof ComponentFactory?componentOrFactory:this._componentFactoryResolver.resolveComponentFactory(componentOrFactory),this._rootComponentTypes.push(componentFactory.componentType);var compRef=componentFactory.create(this._injector,[],componentFactory.selector);compRef.onDestroy(function(){_this._unloadComponent(compRef)});var testability=compRef.injector.get(Testability,null);return testability&&compRef.injector.get(TestabilityRegistry).registerApplication(compRef.location.nativeElement,testability),this._loadComponent(compRef),isDevMode()&&this._console.log("Angular 2 is running in the development mode. Call enableProdMode() to enable the production mode."),compRef},ApplicationRef_.prototype._loadComponent=function(componentRef){this._changeDetectorRefs.push(componentRef.changeDetectorRef),this.tick(),this._rootComponents.push(componentRef);var listeners=this._injector.get(APP_BOOTSTRAP_LISTENER,[]).concat(this._bootstrapListeners);listeners.forEach(function(listener){return listener(componentRef)})},ApplicationRef_.prototype._unloadComponent=function(componentRef){-1!=this._rootComponents.indexOf(componentRef)&&(this.unregisterChangeDetector(componentRef.changeDetectorRef),ListWrapper.remove(this._rootComponents,componentRef))},ApplicationRef_.prototype.tick=function(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var scope=ApplicationRef_._tickScope();try{this._runningTick=!0,this._changeDetectorRefs.forEach(function(detector){return detector.detectChanges()}),this._enforceNoNewChanges&&this._changeDetectorRefs.forEach(function(detector){return detector.checkNoChanges()})}finally{this._runningTick=!1,wtfLeave(scope)}},ApplicationRef_.prototype.ngOnDestroy=function(){this._rootComponents.slice().forEach(function(component){return component.destroy()})},Object.defineProperty(ApplicationRef_.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef_.prototype,"components",{get:function(){return this._rootComponents},enumerable:!0,configurable:!0}),ApplicationRef_._tickScope=wtfCreateScope("ApplicationRef#tick()"),ApplicationRef_.decorators=[{type:Injectable}],ApplicationRef_.ctorParameters=[{type:NgZone},{type:Console},{type:Injector},{type:ErrorHandler},{type:ComponentFactoryResolver},{type:ApplicationInitStatus},{type:TestabilityRegistry,decorators:[{type:Optional}]},{type:Testability,decorators:[{type:Optional}]}],ApplicationRef_}(ApplicationRef),__extends$9=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},NgModuleRef=function(){function NgModuleRef(){}return Object.defineProperty(NgModuleRef.prototype,"injector",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(NgModuleRef.prototype,"componentFactoryResolver",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(NgModuleRef.prototype,"instance",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),NgModuleRef}(),NgModuleFactory=function(){function NgModuleFactory(_injectorClass,_moduleType){this._injectorClass=_injectorClass,this._moduleType=_moduleType}return Object.defineProperty(NgModuleFactory.prototype,"moduleType",{get:function(){return this._moduleType},enumerable:!0,configurable:!0}),NgModuleFactory.prototype.create=function(parentInjector){parentInjector||(parentInjector=Injector.NULL);var instance=new this._injectorClass(parentInjector);return instance.create(),instance},NgModuleFactory}(),_UNDEFINED=new Object,NgModuleInjector=function(_super){function NgModuleInjector(parent,factories,bootstrapFactories){_super.call(this,factories,parent.get(ComponentFactoryResolver,ComponentFactoryResolver.NULL)),this.parent=parent,this.bootstrapFactories=bootstrapFactories,this._destroyListeners=[],this._destroyed=!1}return __extends$9(NgModuleInjector,_super),NgModuleInjector.prototype.create=function(){this.instance=this.createInternal()},NgModuleInjector.prototype.get=function(token,notFoundValue){if(void 0===notFoundValue&&(notFoundValue=THROW_IF_NOT_FOUND),token===Injector||token===ComponentFactoryResolver)return this;var result=this.getInternal(token,_UNDEFINED);return result===_UNDEFINED?this.parent.get(token,notFoundValue):result},Object.defineProperty(NgModuleInjector.prototype,"injector",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(NgModuleInjector.prototype,"componentFactoryResolver",{get:function(){return this},enumerable:!0,configurable:!0}),NgModuleInjector.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+stringify(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,this.destroyInternal(),this._destroyListeners.forEach(function(listener){return listener()})},NgModuleInjector.prototype.onDestroy=function(callback){this._destroyListeners.push(callback)},NgModuleInjector}(CodegenComponentFactoryResolver),NgModuleFactoryLoader=function(){function NgModuleFactoryLoader(){}return NgModuleFactoryLoader}(),moduleFactories=new Map,QueryList=function(){function QueryList(){this._dirty=!0,this._results=[],this._emitter=new EventEmitter}return Object.defineProperty(QueryList.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),QueryList.prototype.map=function(fn){return this._results.map(fn)},QueryList.prototype.filter=function(fn){return this._results.filter(fn)},QueryList.prototype.reduce=function(fn,init){return this._results.reduce(fn,init)},QueryList.prototype.forEach=function(fn){this._results.forEach(fn)},QueryList.prototype.some=function(fn){return this._results.some(fn)},QueryList.prototype.toArray=function(){return this._results.slice()},QueryList.prototype[getSymbolIterator()]=function(){return this._results[getSymbolIterator()]()},QueryList.prototype.toString=function(){return this._results.toString()},QueryList.prototype.reset=function(res){this._results=ListWrapper.flatten(res),this._dirty=!1},QueryList.prototype.notifyOnChanges=function(){this._emitter.emit(this)},QueryList.prototype.setDirty=function(){this._dirty=!0},Object.defineProperty(QueryList.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),QueryList}(),_SEPARATOR="#",FACTORY_CLASS_SUFFIX="NgFactory",SystemJsNgModuleLoaderConfig=function(){function SystemJsNgModuleLoaderConfig(){}return SystemJsNgModuleLoaderConfig}(),DEFAULT_CONFIG={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},SystemJsNgModuleLoader=function(){function SystemJsNgModuleLoader(_compiler,config){this._compiler=_compiler,this._config=config||DEFAULT_CONFIG}return SystemJsNgModuleLoader.prototype.load=function(path){var offlineMode=this._compiler instanceof Compiler;return offlineMode?this.loadFactory(path):this.loadAndCompile(path)},SystemJsNgModuleLoader.prototype.loadAndCompile=function(path){var _this=this,_a=path.split(_SEPARATOR),module=_a[0],exportName=_a[1];return void 0===exportName&&(exportName="default"),System.import(module).then(function(module){return module[exportName]}).then(function(type){return checkNotEmpty(type,module,exportName)}).then(function(type){return _this._compiler.compileModuleAsync(type)})},SystemJsNgModuleLoader.prototype.loadFactory=function(path){var _a=path.split(_SEPARATOR),module=_a[0],exportName=_a[1],factoryClassSuffix=FACTORY_CLASS_SUFFIX;return void 0===exportName&&(exportName="default",factoryClassSuffix=""),System.import(this._config.factoryPathPrefix+module+this._config.factoryPathSuffix).then(function(module){return module[exportName+factoryClassSuffix]}).then(function(factory){return checkNotEmpty(factory,module,exportName)})},SystemJsNgModuleLoader.decorators=[{type:Injectable}],SystemJsNgModuleLoader.ctorParameters=[{type:Compiler},{type:SystemJsNgModuleLoaderConfig,decorators:[{type:Optional}]}],SystemJsNgModuleLoader}(),__extends$10=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},TemplateRef=function(){function TemplateRef(){}return Object.defineProperty(TemplateRef.prototype,"elementRef",{get:function(){return null},enumerable:!0,configurable:!0}),TemplateRef}(),TemplateRef_=function(_super){function TemplateRef_(_appElement,_viewFactory){_super.call(this),this._appElement=_appElement,this._viewFactory=_viewFactory}return __extends$10(TemplateRef_,_super),TemplateRef_.prototype.createEmbeddedView=function(context){var view=this._viewFactory(this._appElement.parentView.viewUtils,this._appElement.parentInjector,this._appElement);return view.create(context||{},null,null),view.ref},Object.defineProperty(TemplateRef_.prototype,"elementRef",{get:function(){return this._appElement.elementRef},enumerable:!0,configurable:!0}),TemplateRef_}(TemplateRef),_queuedAnimations=[],__extends$11=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ViewRef=function(){function ViewRef(){}return Object.defineProperty(ViewRef.prototype,"destroyed",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),ViewRef}(),EmbeddedViewRef=function(_super){function EmbeddedViewRef(){_super.apply(this,arguments)}return __extends$11(EmbeddedViewRef,_super),Object.defineProperty(EmbeddedViewRef.prototype,"context",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(EmbeddedViewRef.prototype,"rootNodes",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),EmbeddedViewRef}(ViewRef),ViewRef_=function(){function ViewRef_(_view){this._view=_view,this._view=_view,this._originalMode=this._view.cdMode}return Object.defineProperty(ViewRef_.prototype,"internalView",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"rootNodes",{get:function(){return this._view.flatRootNodes},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"destroyed",{get:function(){return this._view.destroyed},enumerable:!0,configurable:!0}),ViewRef_.prototype.markForCheck=function(){this._view.markPathToRootAsCheckOnce()},ViewRef_.prototype.detach=function(){this._view.cdMode=ChangeDetectorStatus.Detached},ViewRef_.prototype.detectChanges=function(){this._view.detectChanges(!1),triggerQueuedAnimations()},ViewRef_.prototype.checkNoChanges=function(){this._view.detectChanges(!0)},ViewRef_.prototype.reattach=function(){this._view.cdMode=this._originalMode,this.markForCheck()},ViewRef_.prototype.onDestroy=function(callback){this._view.disposables.push(callback)},ViewRef_.prototype.destroy=function(){this._view.destroy()},ViewRef_}(),__extends$12=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},EventListener=function(){function EventListener(name,callback){this.name=name,this.callback=callback}return EventListener}(),DebugNode=function(){function DebugNode(nativeNode,parent,_debugInfo){this._debugInfo=_debugInfo,this.nativeNode=nativeNode,isPresent(parent)&&parent instanceof DebugElement?parent.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(DebugNode.prototype,"injector",{get:function(){return isPresent(this._debugInfo)?this._debugInfo.injector:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode.prototype,"componentInstance",{get:function(){return isPresent(this._debugInfo)?this._debugInfo.component:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode.prototype,"context",{get:function(){return isPresent(this._debugInfo)?this._debugInfo.context:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode.prototype,"references",{get:function(){return isPresent(this._debugInfo)?this._debugInfo.references:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode.prototype,"providerTokens",{get:function(){return isPresent(this._debugInfo)?this._debugInfo.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugNode.prototype,"source",{get:function(){return isPresent(this._debugInfo)?this._debugInfo.source:null},enumerable:!0,configurable:!0}),DebugNode}(),DebugElement=function(_super){function DebugElement(nativeNode,parent,_debugInfo){_super.call(this,nativeNode,parent,_debugInfo),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=nativeNode}return __extends$12(DebugElement,_super),DebugElement.prototype.addChild=function(child){isPresent(child)&&(this.childNodes.push(child),child.parent=this)},DebugElement.prototype.removeChild=function(child){var childIndex=this.childNodes.indexOf(child);-1!==childIndex&&(child.parent=null,this.childNodes.splice(childIndex,1))},DebugElement.prototype.insertChildrenAfter=function(child,newChildren){var siblingIndex=this.childNodes.indexOf(child);if(-1!==siblingIndex){var previousChildren=this.childNodes.slice(0,siblingIndex+1),nextChildren=this.childNodes.slice(siblingIndex+1);this.childNodes=ListWrapper.concat(ListWrapper.concat(previousChildren,newChildren),nextChildren);for(var i=0;i<newChildren.length;++i){var newChild=newChildren[i];isPresent(newChild.parent)&&newChild.parent.removeChild(newChild),newChild.parent=this}}},DebugElement.prototype.query=function(predicate){var results=this.queryAll(predicate);return results.length>0?results[0]:null},DebugElement.prototype.queryAll=function(predicate){var matches=[];return _queryElementChildren(this,predicate,matches),matches},DebugElement.prototype.queryAllNodes=function(predicate){var matches=[];return _queryNodeChildren(this,predicate,matches),matches},Object.defineProperty(DebugElement.prototype,"children",{get:function(){var children=[];return this.childNodes.forEach(function(node){node instanceof DebugElement&&children.push(node)}),children},enumerable:!0,configurable:!0}),DebugElement.prototype.triggerEventHandler=function(eventName,eventObj){this.listeners.forEach(function(listener){listener.name==eventName&&listener.callback(eventObj)})},DebugElement}(DebugNode),_nativeNodeToDebugNode=new Map,_CORE_PLATFORM_PROVIDERS=[PlatformRef_,{provide:PlatformRef,useExisting:PlatformRef_},{provide:Reflector,useFactory:_reflector,deps:[]},{provide:ReflectorReader,useExisting:Reflector},TestabilityRegistry,Console],platformCore=createPlatformFactory(null,"core",_CORE_PLATFORM_PROVIDERS),LOCALE_ID=new OpaqueToken("LocaleId"),TRANSLATIONS=new OpaqueToken("Translations"),TRANSLATIONS_FORMAT=new OpaqueToken("TranslationsFormat"),ApplicationModule=function(){function ApplicationModule(){}return ApplicationModule.decorators=[{type:NgModule,args:[{providers:[ApplicationRef_,{provide:ApplicationRef,useExisting:ApplicationRef_},ApplicationInitStatus,Compiler,APP_ID_RANDOM_PROVIDER,ViewUtils,{provide:IterableDiffers,useFactory:_iterableDiffersFactory},{provide:KeyValueDiffers,useFactory:_keyValueDiffersFactory},{provide:LOCALE_ID,useValue:"en-US"}]}]}],ApplicationModule.ctorParameters=[],ApplicationModule}(),FILL_STYLE_FLAG="true",ANY_STATE="*",DEFAULT_STATE="*",EMPTY_STATE="void",AnimationGroupPlayer=function(){function AnimationGroupPlayer(_players){var _this=this;this._players=_players,this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this.parentPlayer=null;var count=0,total=this._players.length;0==total?scheduleMicroTask(function(){return _this._onFinish()}):this._players.forEach(function(player){player.parentPlayer=_this,player.onDone(function(){++count>=total&&_this._onFinish()})})}return AnimationGroupPlayer.prototype._onFinish=function(){this._finished||(this._finished=!0,isPresent(this.parentPlayer)||this.destroy(),this._onDoneFns.forEach(function(fn){return fn()}),this._onDoneFns=[])},AnimationGroupPlayer.prototype.init=function(){this._players.forEach(function(player){return player.init()})},AnimationGroupPlayer.prototype.onStart=function(fn){this._onStartFns.push(fn)},AnimationGroupPlayer.prototype.onDone=function(fn){this._onDoneFns.push(fn)},AnimationGroupPlayer.prototype.hasStarted=function(){return this._started},AnimationGroupPlayer.prototype.play=function(){isPresent(this.parentPlayer)||this.init(),this.hasStarted()||(this._onStartFns.forEach(function(fn){return fn()}),this._onStartFns=[],this._started=!0),this._players.forEach(function(player){return player.play()})},AnimationGroupPlayer.prototype.pause=function(){this._players.forEach(function(player){return player.pause()})},AnimationGroupPlayer.prototype.restart=function(){this._players.forEach(function(player){return player.restart()})},AnimationGroupPlayer.prototype.finish=function(){this._onFinish(),this._players.forEach(function(player){return player.finish()})},AnimationGroupPlayer.prototype.destroy=function(){this._onFinish(),this._players.forEach(function(player){return player.destroy()})},AnimationGroupPlayer.prototype.reset=function(){this._players.forEach(function(player){return player.reset()})},AnimationGroupPlayer.prototype.setPosition=function(p){this._players.forEach(function(player){player.setPosition(p)})},AnimationGroupPlayer.prototype.getPosition=function(){var min=0;return this._players.forEach(function(player){var p=player.getPosition();min=Math.min(p,min)}),min},AnimationGroupPlayer}(),AnimationKeyframe=function(){function AnimationKeyframe(offset,styles){this.offset=offset,this.styles=styles}return AnimationKeyframe}(),AnimationPlayer=function(){function AnimationPlayer(){}return Object.defineProperty(AnimationPlayer.prototype,"parentPlayer",{get:function(){throw new Error("NOT IMPLEMENTED: Base Class")},set:function(player){throw new Error("NOT IMPLEMENTED: Base Class")},enumerable:!0,configurable:!0}),AnimationPlayer}(),NoOpAnimationPlayer=function(){function NoOpAnimationPlayer(){var _this=this;this._onDoneFns=[],this._onStartFns=[],this._started=!1,this.parentPlayer=null,scheduleMicroTask(function(){return _this._onFinish()})}return NoOpAnimationPlayer.prototype._onFinish=function(){this._onDoneFns.forEach(function(fn){return fn()}),this._onDoneFns=[]},NoOpAnimationPlayer.prototype.onStart=function(fn){this._onStartFns.push(fn)},NoOpAnimationPlayer.prototype.onDone=function(fn){this._onDoneFns.push(fn)},NoOpAnimationPlayer.prototype.hasStarted=function(){return this._started},NoOpAnimationPlayer.prototype.init=function(){},NoOpAnimationPlayer.prototype.play=function(){this.hasStarted()||(this._onStartFns.forEach(function(fn){return fn()}),this._onStartFns=[]),this._started=!0},NoOpAnimationPlayer.prototype.pause=function(){},NoOpAnimationPlayer.prototype.restart=function(){},NoOpAnimationPlayer.prototype.finish=function(){this._onFinish()},NoOpAnimationPlayer.prototype.destroy=function(){},NoOpAnimationPlayer.prototype.reset=function(){},NoOpAnimationPlayer.prototype.setPosition=function(p){},NoOpAnimationPlayer.prototype.getPosition=function(){return 0},NoOpAnimationPlayer}(),AnimationSequencePlayer=function(){function AnimationSequencePlayer(_players){var _this=this;this._players=_players,this._currentIndex=0,this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this.parentPlayer=null,this._players.forEach(function(player){player.parentPlayer=_this}),this._onNext(!1)}return AnimationSequencePlayer.prototype._onNext=function(start){var _this=this;if(!this._finished)if(0==this._players.length)this._activePlayer=new NoOpAnimationPlayer,scheduleMicroTask(function(){return _this._onFinish()});else if(this._currentIndex>=this._players.length)this._activePlayer=new NoOpAnimationPlayer,this._onFinish();else{var player=this._players[this._currentIndex++];player.onDone(function(){return _this._onNext(!0)}),this._activePlayer=player,start&&player.play()}},AnimationSequencePlayer.prototype._onFinish=function(){this._finished||(this._finished=!0,isPresent(this.parentPlayer)||this.destroy(),this._onDoneFns.forEach(function(fn){return fn()}),this._onDoneFns=[])},AnimationSequencePlayer.prototype.init=function(){this._players.forEach(function(player){return player.init()})},AnimationSequencePlayer.prototype.onStart=function(fn){this._onStartFns.push(fn)},AnimationSequencePlayer.prototype.onDone=function(fn){this._onDoneFns.push(fn)},AnimationSequencePlayer.prototype.hasStarted=function(){return this._started},AnimationSequencePlayer.prototype.play=function(){isPresent(this.parentPlayer)||this.init(),this.hasStarted()||(this._onStartFns.forEach(function(fn){return fn()}),this._onStartFns=[],this._started=!0),this._activePlayer.play()},AnimationSequencePlayer.prototype.pause=function(){this._activePlayer.pause()},AnimationSequencePlayer.prototype.restart=function(){this._players.length>0&&(this.reset(),this._players[0].restart())},AnimationSequencePlayer.prototype.reset=function(){this._players.forEach(function(player){return player.reset()})},AnimationSequencePlayer.prototype.finish=function(){this._onFinish(),this._players.forEach(function(player){return player.finish()})},AnimationSequencePlayer.prototype.destroy=function(){this._onFinish(),this._players.forEach(function(player){return player.destroy()})},AnimationSequencePlayer.prototype.setPosition=function(p){this._players[0].setPosition(p)},AnimationSequencePlayer.prototype.getPosition=function(){return this._players[0].getPosition()},AnimationSequencePlayer}(),__extends$13=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AUTO_STYLE="*",AnimationEntryMetadata=function(){function AnimationEntryMetadata(name,definitions){this.name=name,this.definitions=definitions}return AnimationEntryMetadata}(),AnimationStateMetadata=function(){function AnimationStateMetadata(){}return AnimationStateMetadata}(),AnimationStateDeclarationMetadata=function(_super){function AnimationStateDeclarationMetadata(stateNameExpr,styles){_super.call(this),this.stateNameExpr=stateNameExpr,this.styles=styles}return __extends$13(AnimationStateDeclarationMetadata,_super),AnimationStateDeclarationMetadata}(AnimationStateMetadata),AnimationStateTransitionMetadata=function(_super){function AnimationStateTransitionMetadata(stateChangeExpr,steps){_super.call(this),this.stateChangeExpr=stateChangeExpr,this.steps=steps}return __extends$13(AnimationStateTransitionMetadata,_super),AnimationStateTransitionMetadata}(AnimationStateMetadata),AnimationMetadata=function(){function AnimationMetadata(){}return AnimationMetadata}(),AnimationKeyframesSequenceMetadata=function(_super){function AnimationKeyframesSequenceMetadata(steps){_super.call(this),this.steps=steps}return __extends$13(AnimationKeyframesSequenceMetadata,_super),AnimationKeyframesSequenceMetadata}(AnimationMetadata),AnimationStyleMetadata=function(_super){function AnimationStyleMetadata(styles,offset){void 0===offset&&(offset=null),_super.call(this),this.styles=styles,this.offset=offset}return __extends$13(AnimationStyleMetadata,_super),AnimationStyleMetadata}(AnimationMetadata),AnimationAnimateMetadata=function(_super){function AnimationAnimateMetadata(timings,styles){_super.call(this),this.timings=timings,this.styles=styles}return __extends$13(AnimationAnimateMetadata,_super),AnimationAnimateMetadata}(AnimationMetadata),AnimationWithStepsMetadata=function(_super){function AnimationWithStepsMetadata(){_super.call(this)}return __extends$13(AnimationWithStepsMetadata,_super),Object.defineProperty(AnimationWithStepsMetadata.prototype,"steps",{get:function(){throw new Error("NOT IMPLEMENTED: Base Class")},enumerable:!0,configurable:!0}),AnimationWithStepsMetadata}(AnimationMetadata),AnimationSequenceMetadata=function(_super){function AnimationSequenceMetadata(_steps){_super.call(this),this._steps=_steps}return __extends$13(AnimationSequenceMetadata,_super),Object.defineProperty(AnimationSequenceMetadata.prototype,"steps",{get:function(){return this._steps},enumerable:!0,configurable:!0}),AnimationSequenceMetadata}(AnimationWithStepsMetadata),AnimationGroupMetadata=function(_super){function AnimationGroupMetadata(_steps){_super.call(this),this._steps=_steps}return __extends$13(AnimationGroupMetadata,_super),Object.defineProperty(AnimationGroupMetadata.prototype,"steps",{get:function(){return this._steps},enumerable:!0,configurable:!0}),AnimationGroupMetadata}(AnimationWithStepsMetadata),AnimationStyles=function(){function AnimationStyles(styles){this.styles=styles}return AnimationStyles}(),AnimationTransitionEvent=function(){function AnimationTransitionEvent(_a){var fromState=_a.fromState,toState=_a.toState,totalTime=_a.totalTime,phaseName=_a.phaseName;this.fromState=fromState,this.toState=toState,this.totalTime=totalTime,this.phaseName=phaseName}return AnimationTransitionEvent}(),AnimationTransition=function(){function AnimationTransition(_player,_fromState,_toState,_totalTime){
this._player=_player,this._fromState=_fromState,this._toState=_toState,this._totalTime=_totalTime}return AnimationTransition.prototype._createEvent=function(phaseName){return new AnimationTransitionEvent({fromState:this._fromState,toState:this._toState,totalTime:this._totalTime,phaseName:phaseName})},AnimationTransition.prototype.onStart=function(callback){var event=this._createEvent("start");this._player.onStart(function(){return callback(event)})},AnimationTransition.prototype.onDone=function(callback){var event=this._createEvent("done");this._player.onDone(function(){return callback(event)})},AnimationTransition}(),DebugDomRootRenderer=function(){function DebugDomRootRenderer(_delegate){this._delegate=_delegate}return DebugDomRootRenderer.prototype.renderComponent=function(componentProto){return new DebugDomRenderer(this._delegate.renderComponent(componentProto))},DebugDomRootRenderer}(),DebugDomRenderer=function(){function DebugDomRenderer(_delegate){this._delegate=_delegate}return DebugDomRenderer.prototype.selectRootElement=function(selectorOrNode,debugInfo){var nativeEl=this._delegate.selectRootElement(selectorOrNode,debugInfo),debugEl=new DebugElement(nativeEl,null,debugInfo);return indexDebugNode(debugEl),nativeEl},DebugDomRenderer.prototype.createElement=function(parentElement,name,debugInfo){var nativeEl=this._delegate.createElement(parentElement,name,debugInfo),debugEl=new DebugElement(nativeEl,getDebugNode(parentElement),debugInfo);return debugEl.name=name,indexDebugNode(debugEl),nativeEl},DebugDomRenderer.prototype.createViewRoot=function(hostElement){return this._delegate.createViewRoot(hostElement)},DebugDomRenderer.prototype.createTemplateAnchor=function(parentElement,debugInfo){var comment=this._delegate.createTemplateAnchor(parentElement,debugInfo),debugEl=new DebugNode(comment,getDebugNode(parentElement),debugInfo);return indexDebugNode(debugEl),comment},DebugDomRenderer.prototype.createText=function(parentElement,value,debugInfo){var text=this._delegate.createText(parentElement,value,debugInfo),debugEl=new DebugNode(text,getDebugNode(parentElement),debugInfo);return indexDebugNode(debugEl),text},DebugDomRenderer.prototype.projectNodes=function(parentElement,nodes){var debugParent=getDebugNode(parentElement);if(isPresent(debugParent)&&debugParent instanceof DebugElement){var debugElement_1=debugParent;nodes.forEach(function(node){debugElement_1.addChild(getDebugNode(node))})}this._delegate.projectNodes(parentElement,nodes)},DebugDomRenderer.prototype.attachViewAfter=function(node,viewRootNodes){var debugNode=getDebugNode(node);if(isPresent(debugNode)){var debugParent=debugNode.parent;if(viewRootNodes.length>0&&isPresent(debugParent)){var debugViewRootNodes=[];viewRootNodes.forEach(function(rootNode){return debugViewRootNodes.push(getDebugNode(rootNode))}),debugParent.insertChildrenAfter(debugNode,debugViewRootNodes)}}this._delegate.attachViewAfter(node,viewRootNodes)},DebugDomRenderer.prototype.detachView=function(viewRootNodes){viewRootNodes.forEach(function(node){var debugNode=getDebugNode(node);isPresent(debugNode)&&isPresent(debugNode.parent)&&debugNode.parent.removeChild(debugNode)}),this._delegate.detachView(viewRootNodes)},DebugDomRenderer.prototype.destroyView=function(hostElement,viewAllNodes){viewAllNodes.forEach(function(node){removeDebugNodeFromIndex(getDebugNode(node))}),this._delegate.destroyView(hostElement,viewAllNodes)},DebugDomRenderer.prototype.listen=function(renderElement,name,callback){var debugEl=getDebugNode(renderElement);return isPresent(debugEl)&&debugEl.listeners.push(new EventListener(name,callback)),this._delegate.listen(renderElement,name,callback)},DebugDomRenderer.prototype.listenGlobal=function(target,name,callback){return this._delegate.listenGlobal(target,name,callback)},DebugDomRenderer.prototype.setElementProperty=function(renderElement,propertyName,propertyValue){var debugEl=getDebugNode(renderElement);isPresent(debugEl)&&debugEl instanceof DebugElement&&(debugEl.properties[propertyName]=propertyValue),this._delegate.setElementProperty(renderElement,propertyName,propertyValue)},DebugDomRenderer.prototype.setElementAttribute=function(renderElement,attributeName,attributeValue){var debugEl=getDebugNode(renderElement);isPresent(debugEl)&&debugEl instanceof DebugElement&&(debugEl.attributes[attributeName]=attributeValue),this._delegate.setElementAttribute(renderElement,attributeName,attributeValue)},DebugDomRenderer.prototype.setBindingDebugInfo=function(renderElement,propertyName,propertyValue){this._delegate.setBindingDebugInfo(renderElement,propertyName,propertyValue)},DebugDomRenderer.prototype.setElementClass=function(renderElement,className,isAdd){var debugEl=getDebugNode(renderElement);isPresent(debugEl)&&debugEl instanceof DebugElement&&(debugEl.classes[className]=isAdd),this._delegate.setElementClass(renderElement,className,isAdd)},DebugDomRenderer.prototype.setElementStyle=function(renderElement,styleName,styleValue){var debugEl=getDebugNode(renderElement);isPresent(debugEl)&&debugEl instanceof DebugElement&&(debugEl.styles[styleName]=styleValue),this._delegate.setElementStyle(renderElement,styleName,styleValue)},DebugDomRenderer.prototype.invokeElementMethod=function(renderElement,methodName,args){this._delegate.invokeElementMethod(renderElement,methodName,args)},DebugDomRenderer.prototype.setText=function(renderNode,text){this._delegate.setText(renderNode,text)},DebugDomRenderer.prototype.animate=function(element,startingStyles,keyframes,duration,delay,easing){return this._delegate.animate(element,startingStyles,keyframes,duration,delay,easing)},DebugDomRenderer}(),StaticNodeDebugInfo=function(){function StaticNodeDebugInfo(providerTokens,componentToken,refTokens){this.providerTokens=providerTokens,this.componentToken=componentToken,this.refTokens=refTokens}return StaticNodeDebugInfo}(),DebugContext=function(){function DebugContext(_view,_nodeIndex,_tplRow,_tplCol){this._view=_view,this._nodeIndex=_nodeIndex,this._tplRow=_tplRow,this._tplCol=_tplCol}return Object.defineProperty(DebugContext.prototype,"_staticNodeInfo",{get:function(){return isPresent(this._nodeIndex)?this._view.staticNodeDebugInfos[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"component",{get:function(){var staticNodeInfo=this._staticNodeInfo;return isPresent(staticNodeInfo)&&isPresent(staticNodeInfo.componentToken)?this.injector.get(staticNodeInfo.componentToken):null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"componentRenderElement",{get:function(){for(var componentView=this._view;isPresent(componentView.declarationAppElement)&&componentView.type!==ViewType.COMPONENT;)componentView=componentView.declarationAppElement.parentView;return isPresent(componentView.declarationAppElement)?componentView.declarationAppElement.nativeElement:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"injector",{get:function(){return this._view.injector(this._nodeIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"renderNode",{get:function(){return isPresent(this._nodeIndex)&&this._view.allNodes?this._view.allNodes[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"providerTokens",{get:function(){var staticNodeInfo=this._staticNodeInfo;return isPresent(staticNodeInfo)?staticNodeInfo.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"source",{get:function(){return this._view.componentType.templateUrl+":"+this._tplRow+":"+this._tplCol},enumerable:!0,configurable:!0}),Object.defineProperty(DebugContext.prototype,"references",{get:function(){var _this=this,varValues={},staticNodeInfo=this._staticNodeInfo;if(isPresent(staticNodeInfo)){var refs=staticNodeInfo.refTokens;Object.keys(refs).forEach(function(refName){var varValue,refToken=refs[refName];varValue=isBlank(refToken)?_this._view.allNodes?_this._view.allNodes[_this._nodeIndex]:null:_this._view.injectorGet(refToken,_this._nodeIndex,null),varValues[refName]=varValue})}return varValues},enumerable:!0,configurable:!0}),DebugContext}(),ViewAnimationMap=function(){function ViewAnimationMap(){this._map=new Map,this._allPlayers=[]}return ViewAnimationMap.prototype.find=function(element,animationName){var playersByAnimation=this._map.get(element);return isPresent(playersByAnimation)?playersByAnimation[animationName]:void 0},ViewAnimationMap.prototype.findAllPlayersByElement=function(element){var el=this._map.get(element);return el?Object.keys(el).map(function(k){return el[k]}):[]},ViewAnimationMap.prototype.set=function(element,animationName,player){var playersByAnimation=this._map.get(element);isPresent(playersByAnimation)||(playersByAnimation={});var existingEntry=playersByAnimation[animationName];isPresent(existingEntry)&&this.remove(element,animationName),playersByAnimation[animationName]=player,this._allPlayers.push(player),this._map.set(element,playersByAnimation)},ViewAnimationMap.prototype.getAllPlayers=function(){return this._allPlayers},ViewAnimationMap.prototype.remove=function(element,animationName){var playersByAnimation=this._map.get(element);if(playersByAnimation){var player=playersByAnimation[animationName];delete playersByAnimation[animationName];var index=this._allPlayers.indexOf(player);this._allPlayers.splice(index,1),0===Object.keys(playersByAnimation).length&&this._map.delete(element)}},ViewAnimationMap}(),AnimationViewContext=function(){function AnimationViewContext(){this._players=new ViewAnimationMap}return AnimationViewContext.prototype.onAllActiveAnimationsDone=function(callback){var activeAnimationPlayers=this._players.getAllPlayers();activeAnimationPlayers.length?new AnimationGroupPlayer(activeAnimationPlayers).onDone(function(){return callback()}):callback()},AnimationViewContext.prototype.queueAnimation=function(element,animationName,player){queueAnimationGlobally(player),this._players.set(element,animationName,player)},AnimationViewContext.prototype.cancelActiveAnimation=function(element,animationName,removeAllAnimations){if(void 0===removeAllAnimations&&(removeAllAnimations=!1),removeAllAnimations)this._players.findAllPlayersByElement(element).forEach(function(player){return player.destroy()});else{var player=this._players.find(element,animationName);player&&player.destroy()}},AnimationViewContext}(),__extends$15=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},_UNDEFINED$1=new Object,ElementInjector=function(_super){function ElementInjector(_view,_nodeIndex){_super.call(this),this._view=_view,this._nodeIndex=_nodeIndex}return __extends$15(ElementInjector,_super),ElementInjector.prototype.get=function(token,notFoundValue){void 0===notFoundValue&&(notFoundValue=THROW_IF_NOT_FOUND);var result=_UNDEFINED$1;return result===_UNDEFINED$1&&(result=this._view.injectorGet(token,this._nodeIndex,_UNDEFINED$1)),result===_UNDEFINED$1&&(result=this._view.parentInjector.get(token,notFoundValue)),result},ElementInjector}(Injector),__extends$14=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},_scope_check=wtfCreateScope("AppView#check(ascii id)"),AppView=function(){function AppView(clazz,componentType,type,viewUtils,parentInjector,declarationAppElement,cdMode){this.clazz=clazz,this.componentType=componentType,this.type=type,this.viewUtils=viewUtils,this.parentInjector=parentInjector,this.declarationAppElement=declarationAppElement,this.cdMode=cdMode,this.contentChildren=[],this.viewChildren=[],this.viewContainerElement=null,this.numberOfChecks=0,this.ref=new ViewRef_(this),type===ViewType.COMPONENT||type===ViewType.HOST?this.renderer=viewUtils.renderComponent(componentType):this.renderer=declarationAppElement.parentView.renderer}return Object.defineProperty(AppView.prototype,"animationContext",{get:function(){return this._animationContext||(this._animationContext=new AnimationViewContext),this._animationContext},enumerable:!0,configurable:!0}),Object.defineProperty(AppView.prototype,"destroyed",{get:function(){return this.cdMode===ChangeDetectorStatus.Destroyed},enumerable:!0,configurable:!0}),AppView.prototype.create=function(context,givenProjectableNodes,rootSelectorOrNode){this.context=context;var projectableNodes;switch(this.type){case ViewType.COMPONENT:projectableNodes=ensureSlotCount(givenProjectableNodes,this.componentType.slotCount);break;case ViewType.EMBEDDED:projectableNodes=this.declarationAppElement.parentView.projectableNodes;break;case ViewType.HOST:projectableNodes=givenProjectableNodes}return this._hasExternalHostElement=isPresent(rootSelectorOrNode),this.projectableNodes=projectableNodes,this.createInternal(rootSelectorOrNode)},AppView.prototype.createInternal=function(rootSelectorOrNode){return null},AppView.prototype.init=function(rootNodesOrAppElements,allNodes,disposables,subscriptions){this.rootNodesOrAppElements=rootNodesOrAppElements,this.allNodes=allNodes,this.disposables=disposables,this.subscriptions=subscriptions,this.type===ViewType.COMPONENT&&(this.declarationAppElement.parentView.viewChildren.push(this),this.dirtyParentQueriesInternal())},AppView.prototype.selectOrCreateHostElement=function(elementName,rootSelectorOrNode,debugInfo){var hostElement;return hostElement=isPresent(rootSelectorOrNode)?this.renderer.selectRootElement(rootSelectorOrNode,debugInfo):this.renderer.createElement(null,elementName,debugInfo)},AppView.prototype.injectorGet=function(token,nodeIndex,notFoundResult){return this.injectorGetInternal(token,nodeIndex,notFoundResult)},AppView.prototype.injectorGetInternal=function(token,nodeIndex,notFoundResult){return notFoundResult},AppView.prototype.injector=function(nodeIndex){return isPresent(nodeIndex)?new ElementInjector(this,nodeIndex):this.parentInjector},AppView.prototype.destroy=function(){this._hasExternalHostElement?this.renderer.detachView(this.flatRootNodes):isPresent(this.viewContainerElement)&&this.viewContainerElement.detachView(this.viewContainerElement.nestedViews.indexOf(this)),this._destroyRecurse()},AppView.prototype._destroyRecurse=function(){if(this.cdMode!==ChangeDetectorStatus.Destroyed){for(var children=this.contentChildren,i=0;i<children.length;i++)children[i]._destroyRecurse();children=this.viewChildren;for(var i=0;i<children.length;i++)children[i]._destroyRecurse();this.destroyLocal(),this.cdMode=ChangeDetectorStatus.Destroyed}},AppView.prototype.destroyLocal=function(){for(var _this=this,hostElement=this.type===ViewType.COMPONENT?this.declarationAppElement.nativeElement:null,i=0;i<this.disposables.length;i++)this.disposables[i]();for(var i=0;i<this.subscriptions.length;i++)this.subscriptions[i].unsubscribe();this.destroyInternal(),this.dirtyParentQueriesInternal(),this._animationContext?this._animationContext.onAllActiveAnimationsDone(function(){return _this.renderer.destroyView(hostElement,_this.allNodes)}):this.renderer.destroyView(hostElement,this.allNodes)},AppView.prototype.destroyInternal=function(){},AppView.prototype.detachInternal=function(){},AppView.prototype.detach=function(){var _this=this;this.detachInternal(),this._animationContext?this._animationContext.onAllActiveAnimationsDone(function(){return _this.renderer.detachView(_this.flatRootNodes)}):this.renderer.detachView(this.flatRootNodes)},Object.defineProperty(AppView.prototype,"changeDetectorRef",{get:function(){return this.ref},enumerable:!0,configurable:!0}),Object.defineProperty(AppView.prototype,"parent",{get:function(){return isPresent(this.declarationAppElement)?this.declarationAppElement.parentView:null},enumerable:!0,configurable:!0}),Object.defineProperty(AppView.prototype,"flatRootNodes",{get:function(){return flattenNestedViewRenderNodes(this.rootNodesOrAppElements)},enumerable:!0,configurable:!0}),Object.defineProperty(AppView.prototype,"lastRootNode",{get:function(){var lastNode=this.rootNodesOrAppElements.length>0?this.rootNodesOrAppElements[this.rootNodesOrAppElements.length-1]:null;return _findLastRenderNode(lastNode)},enumerable:!0,configurable:!0}),AppView.prototype.dirtyParentQueriesInternal=function(){},AppView.prototype.detectChanges=function(throwOnChange){var s=_scope_check(this.clazz);this.cdMode!==ChangeDetectorStatus.Checked&&this.cdMode!==ChangeDetectorStatus.Errored&&(this.cdMode===ChangeDetectorStatus.Destroyed&&this.throwDestroyedError("detectChanges"),this.detectChangesInternal(throwOnChange),this.cdMode===ChangeDetectorStatus.CheckOnce&&(this.cdMode=ChangeDetectorStatus.Checked),this.numberOfChecks++,wtfLeave(s))},AppView.prototype.detectChangesInternal=function(throwOnChange){this.detectContentChildrenChanges(throwOnChange),this.detectViewChildrenChanges(throwOnChange)},AppView.prototype.detectContentChildrenChanges=function(throwOnChange){for(var i=0;i<this.contentChildren.length;++i){var child=this.contentChildren[i];child.cdMode!==ChangeDetectorStatus.Detached&&child.detectChanges(throwOnChange)}},AppView.prototype.detectViewChildrenChanges=function(throwOnChange){for(var i=0;i<this.viewChildren.length;++i){var child=this.viewChildren[i];child.cdMode!==ChangeDetectorStatus.Detached&&child.detectChanges(throwOnChange)}},AppView.prototype.markContentChildAsMoved=function(renderAppElement){this.dirtyParentQueriesInternal()},AppView.prototype.addToContentChildren=function(renderAppElement){renderAppElement.parentView.contentChildren.push(this),this.viewContainerElement=renderAppElement,this.dirtyParentQueriesInternal()},AppView.prototype.removeFromContentChildren=function(renderAppElement){ListWrapper.remove(renderAppElement.parentView.contentChildren,this),this.dirtyParentQueriesInternal(),this.viewContainerElement=null},AppView.prototype.markAsCheckOnce=function(){this.cdMode=ChangeDetectorStatus.CheckOnce},AppView.prototype.markPathToRootAsCheckOnce=function(){for(var c=this;isPresent(c)&&c.cdMode!==ChangeDetectorStatus.Detached;){c.cdMode===ChangeDetectorStatus.Checked&&(c.cdMode=ChangeDetectorStatus.CheckOnce);var parentEl=c.type===ViewType.COMPONENT?c.declarationAppElement:c.viewContainerElement;c=isPresent(parentEl)?parentEl.parentView:null}},AppView.prototype.eventHandler=function(cb){return cb},AppView.prototype.throwDestroyedError=function(details){throw new ViewDestroyedError(details)},AppView}(),DebugAppView=function(_super){function DebugAppView(clazz,componentType,type,viewUtils,parentInjector,declarationAppElement,cdMode,staticNodeDebugInfos){_super.call(this,clazz,componentType,type,viewUtils,parentInjector,declarationAppElement,cdMode),this.staticNodeDebugInfos=staticNodeDebugInfos,this._currentDebugContext=null}return __extends$14(DebugAppView,_super),DebugAppView.prototype.create=function(context,givenProjectableNodes,rootSelectorOrNode){this._resetDebug();try{return _super.prototype.create.call(this,context,givenProjectableNodes,rootSelectorOrNode)}catch(e){throw this._rethrowWithContext(e),e}},DebugAppView.prototype.injectorGet=function(token,nodeIndex,notFoundResult){this._resetDebug();try{return _super.prototype.injectorGet.call(this,token,nodeIndex,notFoundResult)}catch(e){throw this._rethrowWithContext(e),e}},DebugAppView.prototype.detach=function(){this._resetDebug();try{_super.prototype.detach.call(this)}catch(e){throw this._rethrowWithContext(e),e}},DebugAppView.prototype.destroyLocal=function(){this._resetDebug();try{_super.prototype.destroyLocal.call(this)}catch(e){throw this._rethrowWithContext(e),e}},DebugAppView.prototype.detectChanges=function(throwOnChange){this._resetDebug();try{_super.prototype.detectChanges.call(this,throwOnChange)}catch(e){throw this._rethrowWithContext(e),e}},DebugAppView.prototype._resetDebug=function(){this._currentDebugContext=null},DebugAppView.prototype.debug=function(nodeIndex,rowNum,colNum){return this._currentDebugContext=new DebugContext(this,nodeIndex,rowNum,colNum)},DebugAppView.prototype._rethrowWithContext=function(e){if(!(e instanceof ViewWrappedError)&&(e instanceof ExpressionChangedAfterItHasBeenCheckedError||(this.cdMode=ChangeDetectorStatus.Errored),isPresent(this._currentDebugContext)))throw new ViewWrappedError(e,this._currentDebugContext)},DebugAppView.prototype.eventHandler=function(cb){var _this=this,superHandler=_super.prototype.eventHandler.call(this,cb);return function(event){_this._resetDebug();try{return superHandler(event)}catch(e){throw _this._rethrowWithContext(e),e}}},DebugAppView}(AppView),__core_private__={isDefaultChangeDetectionStrategy:isDefaultChangeDetectionStrategy,ChangeDetectorStatus:ChangeDetectorStatus,constructDependencies:constructDependencies,LifecycleHooks:LifecycleHooks,LIFECYCLE_HOOKS_VALUES:LIFECYCLE_HOOKS_VALUES,ReflectorReader:ReflectorReader,CodegenComponentFactoryResolver:CodegenComponentFactoryResolver,AppElement:AppElement,AppView:AppView,DebugAppView:DebugAppView,NgModuleInjector:NgModuleInjector,registerModuleFactory:registerModuleFactory,ViewType:ViewType,view_utils:view_utils,ViewMetadata:ViewMetadata,DebugContext:DebugContext,StaticNodeDebugInfo:StaticNodeDebugInfo,devModeEqual:devModeEqual,UNINITIALIZED:UNINITIALIZED,ValueUnwrapper:ValueUnwrapper,RenderDebugInfo:RenderDebugInfo,TemplateRef_:TemplateRef_,ReflectionCapabilities:ReflectionCapabilities,makeDecorator:makeDecorator,DebugDomRootRenderer:DebugDomRootRenderer,Console:Console,reflector:reflector,Reflector:Reflector,NoOpAnimationPlayer:NoOpAnimationPlayer,AnimationPlayer:AnimationPlayer,AnimationSequencePlayer:AnimationSequencePlayer,AnimationGroupPlayer:AnimationGroupPlayer,AnimationKeyframe:AnimationKeyframe,prepareFinalAnimationStyles:prepareFinalAnimationStyles,balanceAnimationKeyframes:balanceAnimationKeyframes,flattenStyles:flattenStyles,clearStyles:clearStyles,renderStyles:renderStyles,collectAndResolveStyles:collectAndResolveStyles,AnimationStyles:AnimationStyles,ANY_STATE:ANY_STATE,DEFAULT_STATE:DEFAULT_STATE,EMPTY_STATE:EMPTY_STATE,FILL_STYLE_FLAG:FILL_STYLE_FLAG,ComponentStillLoadingError:ComponentStillLoadingError,isPromise:isPromise,AnimationTransition:AnimationTransition};exports.createPlatform=createPlatform,exports.assertPlatform=assertPlatform,exports.destroyPlatform=destroyPlatform,exports.getPlatform=getPlatform,exports.PlatformRef=PlatformRef,exports.ApplicationRef=ApplicationRef,exports.enableProdMode=enableProdMode,exports.isDevMode=isDevMode,exports.createPlatformFactory=createPlatformFactory,exports.APP_ID=APP_ID,exports.PACKAGE_ROOT_URL=PACKAGE_ROOT_URL,exports.PLATFORM_INITIALIZER=PLATFORM_INITIALIZER,exports.APP_BOOTSTRAP_LISTENER=APP_BOOTSTRAP_LISTENER,exports.APP_INITIALIZER=APP_INITIALIZER,exports.ApplicationInitStatus=ApplicationInitStatus,exports.DebugElement=DebugElement,exports.DebugNode=DebugNode,exports.asNativeElements=asNativeElements,exports.getDebugNode=getDebugNode,exports.Testability=Testability,exports.TestabilityRegistry=TestabilityRegistry,exports.setTestabilityGetter=setTestabilityGetter,exports.TRANSLATIONS=TRANSLATIONS,exports.TRANSLATIONS_FORMAT=TRANSLATIONS_FORMAT,exports.LOCALE_ID=LOCALE_ID,exports.ApplicationModule=ApplicationModule,exports.wtfCreateScope=wtfCreateScope,exports.wtfLeave=wtfLeave,exports.wtfStartTimeRange=wtfStartTimeRange,exports.wtfEndTimeRange=wtfEndTimeRange,exports.Type=Type,exports.EventEmitter=EventEmitter,exports.ErrorHandler=ErrorHandler,exports.AnimationTransitionEvent=AnimationTransitionEvent,exports.AnimationPlayer=AnimationPlayer,exports.Sanitizer=Sanitizer,exports.ANALYZE_FOR_ENTRY_COMPONENTS=ANALYZE_FOR_ENTRY_COMPONENTS,exports.Attribute=Attribute,exports.ContentChild=ContentChild,exports.ContentChildren=ContentChildren,exports.Query=Query,exports.ViewChild=ViewChild,exports.ViewChildren=ViewChildren,exports.Component=Component,exports.Directive=Directive,exports.HostBinding=HostBinding,exports.HostListener=HostListener,exports.Input=Input,exports.Output=Output,exports.Pipe=Pipe,exports.AfterContentChecked=AfterContentChecked,exports.AfterContentInit=AfterContentInit,exports.AfterViewChecked=AfterViewChecked,exports.AfterViewInit=AfterViewInit,exports.DoCheck=DoCheck,exports.OnChanges=OnChanges,exports.OnDestroy=OnDestroy,exports.OnInit=OnInit,exports.CUSTOM_ELEMENTS_SCHEMA=CUSTOM_ELEMENTS_SCHEMA,exports.NO_ERRORS_SCHEMA=NO_ERRORS_SCHEMA,exports.NgModule=NgModule,exports.Class=Class,exports.forwardRef=forwardRef,exports.resolveForwardRef=resolveForwardRef,exports.Injector=Injector,exports.ReflectiveInjector=ReflectiveInjector,exports.ResolvedReflectiveFactory=ResolvedReflectiveFactory,exports.ReflectiveKey=ReflectiveKey,exports.OpaqueToken=OpaqueToken,exports.Inject=Inject,exports.Optional=Optional,exports.Injectable=Injectable,exports.Self=Self,exports.SkipSelf=SkipSelf,exports.Host=Host,exports.NgZone=NgZone,exports.RenderComponentType=RenderComponentType,exports.Renderer=Renderer,exports.RootRenderer=RootRenderer,exports.COMPILER_OPTIONS=COMPILER_OPTIONS,exports.Compiler=Compiler,exports.CompilerFactory=CompilerFactory,exports.ModuleWithComponentFactories=ModuleWithComponentFactories,exports.ComponentFactory=ComponentFactory,exports.ComponentRef=ComponentRef,exports.ComponentFactoryResolver=ComponentFactoryResolver,exports.ElementRef=ElementRef,exports.NgModuleFactory=NgModuleFactory,exports.NgModuleRef=NgModuleRef,exports.NgModuleFactoryLoader=NgModuleFactoryLoader,exports.getModuleFactory=getModuleFactory,exports.QueryList=QueryList,exports.SystemJsNgModuleLoader=SystemJsNgModuleLoader,exports.SystemJsNgModuleLoaderConfig=SystemJsNgModuleLoaderConfig,exports.TemplateRef=TemplateRef,exports.ViewContainerRef=ViewContainerRef,exports.EmbeddedViewRef=EmbeddedViewRef,exports.ViewRef=ViewRef,exports.ChangeDetectorRef=ChangeDetectorRef,exports.CollectionChangeRecord=CollectionChangeRecord,exports.DefaultIterableDiffer=DefaultIterableDiffer,exports.IterableDiffers=IterableDiffers,exports.KeyValueChangeRecord=KeyValueChangeRecord,exports.KeyValueDiffers=KeyValueDiffers,exports.SimpleChange=SimpleChange,exports.WrappedValue=WrappedValue,exports.platformCore=platformCore,exports.__core_private__=__core_private__,exports.AUTO_STYLE=AUTO_STYLE,exports.AnimationEntryMetadata=AnimationEntryMetadata,exports.AnimationStateMetadata=AnimationStateMetadata,exports.AnimationStateDeclarationMetadata=AnimationStateDeclarationMetadata,exports.AnimationStateTransitionMetadata=AnimationStateTransitionMetadata,exports.AnimationMetadata=AnimationMetadata,exports.AnimationKeyframesSequenceMetadata=AnimationKeyframesSequenceMetadata,exports.AnimationStyleMetadata=AnimationStyleMetadata,exports.AnimationAnimateMetadata=AnimationAnimateMetadata,exports.AnimationWithStepsMetadata=AnimationWithStepsMetadata,exports.AnimationSequenceMetadata=AnimationSequenceMetadata,exports.AnimationGroupMetadata=AnimationGroupMetadata,exports.animate=animate,exports.group=group,exports.sequence=sequence,exports.style=style,exports.state=state,exports.keyframes=keyframes,exports.transition=transition,exports.trigger=trigger})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"rxjs/Observable":234,"rxjs/Subject":236}],5:[function(require,module,exports){var asn1=exports;asn1.bignum=require("bn.js"),asn1.define=require("./asn1/api").define,asn1.base=require("./asn1/base"),asn1.constants=require("./asn1/constants"),asn1.decoders=require("./asn1/decoders"),asn1.encoders=require("./asn1/encoders")},{"./asn1/api":6,"./asn1/base":8,"./asn1/constants":12,"./asn1/decoders":14,"./asn1/encoders":17,"bn.js":22}],6:[function(require,module,exports){function Entity(name,body){this.name=name,this.body=body,this.decoders={},this.encoders={}}var asn1=require("../asn1"),inherits=require("inherits"),api=exports;api.define=function(name,body){return new Entity(name,body)},Entity.prototype._createNamed=function(base){var named;try{named=require("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){named=function(entity){this._initNamed(entity)}}return inherits(named,base),named.prototype._initNamed=function(entity){base.call(this,entity)},new named(this)},Entity.prototype._getDecoder=function(enc){return enc=enc||"der",this.decoders.hasOwnProperty(enc)||(this.decoders[enc]=this._createNamed(asn1.decoders[enc])),this.decoders[enc]},Entity.prototype.decode=function(data,enc,options){return this._getDecoder(enc).decode(data,options)},Entity.prototype._getEncoder=function(enc){return enc=enc||"der",this.encoders.hasOwnProperty(enc)||(this.encoders[enc]=this._createNamed(asn1.encoders[enc])),this.encoders[enc]},Entity.prototype.encode=function(data,enc,reporter){return this._getEncoder(enc).encode(data,reporter)}},{"../asn1":5,inherits:185,vm:371}],7:[function(require,module,exports){function DecoderBuffer(base,options){return Reporter.call(this,options),Buffer.isBuffer(base)?(this.base=base,this.offset=0,void(this.length=base.length)):void this.error("Input not Buffer")}function EncoderBuffer(value,reporter){if(Array.isArray(value))this.length=0,this.value=value.map(function(item){return item instanceof EncoderBuffer||(item=new EncoderBuffer(item,reporter)),this.length+=item.length,item},this);else if("number"==typeof value){if(!(value>=0&&255>=value))return reporter.error("non-byte EncoderBuffer value");this.value=value,this.length=1}else if("string"==typeof value)this.value=value,this.length=Buffer.byteLength(value);else{if(!Buffer.isBuffer(value))return reporter.error("Unsupported type: "+typeof value);this.value=value,this.length=value.length}}var inherits=require("inherits"),Reporter=require("../base").Reporter,Buffer=require("buffer").Buffer;inherits(DecoderBuffer,Reporter),exports.DecoderBuffer=DecoderBuffer,DecoderBuffer.prototype.save=function(){return{offset:this.offset,reporter:Reporter.prototype.save.call(this)}},DecoderBuffer.prototype.restore=function(save){var res=new DecoderBuffer(this.base);return res.offset=save.offset,res.length=this.offset,this.offset=save.offset,Reporter.prototype.restore.call(this,save.reporter),res},DecoderBuffer.prototype.isEmpty=function(){return this.offset===this.length},DecoderBuffer.prototype.readUInt8=function(fail){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(fail||"DecoderBuffer overrun")},DecoderBuffer.prototype.skip=function(bytes,fail){if(!(this.offset+bytes<=this.length))return this.error(fail||"DecoderBuffer overrun");var res=new DecoderBuffer(this.base);return res._reporterState=this._reporterState,res.offset=this.offset,res.length=this.offset+bytes,this.offset+=bytes,res},DecoderBuffer.prototype.raw=function(save){return this.base.slice(save?save.offset:this.offset,this.length)},exports.EncoderBuffer=EncoderBuffer,EncoderBuffer.prototype.join=function(out,offset){return out||(out=new Buffer(this.length)),offset||(offset=0),0===this.length?out:(Array.isArray(this.value)?this.value.forEach(function(item){item.join(out,offset),offset+=item.length}):("number"==typeof this.value?out[offset]=this.value:"string"==typeof this.value?out.write(this.value,offset):Buffer.isBuffer(this.value)&&this.value.copy(out,offset),offset+=this.length),out)}},{"../base":8,buffer:53,inherits:185}],8:[function(require,module,exports){var base=exports;base.Reporter=require("./reporter").Reporter,base.DecoderBuffer=require("./buffer").DecoderBuffer,base.EncoderBuffer=require("./buffer").EncoderBuffer,base.Node=require("./node")},{"./buffer":7,"./node":9,"./reporter":10}],9:[function(require,module,exports){function Node(enc,parent){var state={};this._baseState=state,state.enc=enc,state.parent=parent||null,state.children=null,state.tag=null,state.args=null,state.reverseArgs=null,state.choice=null,state.optional=!1,state.any=!1,
state.obj=!1,state.use=null,state.useDecoder=null,state.key=null,state.default=null,state.explicit=null,state.implicit=null,state.contains=null,state.parent||(state.children=[],this._wrap())}var Reporter=require("../base").Reporter,EncoderBuffer=require("../base").EncoderBuffer,DecoderBuffer=require("../base").DecoderBuffer,assert=require("minimalistic-assert"),tags=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],methods=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(tags),overrided=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];module.exports=Node;var stateProps=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Node.prototype.clone=function(){var state=this._baseState,cstate={};stateProps.forEach(function(prop){cstate[prop]=state[prop]});var res=new this.constructor(cstate.parent);return res._baseState=cstate,res},Node.prototype._wrap=function(){var state=this._baseState;methods.forEach(function(method){this[method]=function(){var clone=new this.constructor(this);return state.children.push(clone),clone[method].apply(clone,arguments)}},this)},Node.prototype._init=function(body){var state=this._baseState;assert(null===state.parent),body.call(this),state.children=state.children.filter(function(child){return child._baseState.parent===this},this),assert.equal(state.children.length,1,"Root node can have only one child")},Node.prototype._useArgs=function(args){var state=this._baseState,children=args.filter(function(arg){return arg instanceof this.constructor},this);args=args.filter(function(arg){return!(arg instanceof this.constructor)},this),0!==children.length&&(assert(null===state.children),state.children=children,children.forEach(function(child){child._baseState.parent=this},this)),0!==args.length&&(assert(null===state.args),state.args=args,state.reverseArgs=args.map(function(arg){if("object"!=typeof arg||arg.constructor!==Object)return arg;var res={};return Object.keys(arg).forEach(function(key){key==(0|key)&&(key|=0);var value=arg[key];res[value]=key}),res}))},overrided.forEach(function(method){Node.prototype[method]=function(){var state=this._baseState;throw new Error(method+" not implemented for encoding: "+state.enc)}}),tags.forEach(function(tag){Node.prototype[tag]=function(){var state=this._baseState,args=Array.prototype.slice.call(arguments);return assert(null===state.tag),state.tag=tag,this._useArgs(args),this}}),Node.prototype.use=function(item){var state=this._baseState;return assert(null===state.use),state.use=item,this},Node.prototype.optional=function(){var state=this._baseState;return state.optional=!0,this},Node.prototype.def=function(val){var state=this._baseState;return assert(null===state.default),state.default=val,state.optional=!0,this},Node.prototype.explicit=function(num){var state=this._baseState;return assert(null===state.explicit&&null===state.implicit),state.explicit=num,this},Node.prototype.implicit=function(num){var state=this._baseState;return assert(null===state.explicit&&null===state.implicit),state.implicit=num,this},Node.prototype.obj=function(){var state=this._baseState,args=Array.prototype.slice.call(arguments);return state.obj=!0,0!==args.length&&this._useArgs(args),this},Node.prototype.key=function(newKey){var state=this._baseState;return assert(null===state.key),state.key=newKey,this},Node.prototype.any=function(){var state=this._baseState;return state.any=!0,this},Node.prototype.choice=function(obj){var state=this._baseState;return assert(null===state.choice),state.choice=obj,this._useArgs(Object.keys(obj).map(function(key){return obj[key]})),this},Node.prototype.contains=function(item){var state=this._baseState;return assert(null===state.use),state.contains=item,this},Node.prototype._decode=function(input,options){var state=this._baseState;if(null===state.parent)return input.wrapResult(state.children[0]._decode(input,options));var result=state.default,present=!0,prevKey=null;if(null!==state.key&&(prevKey=input.enterKey(state.key)),state.optional){var tag=null;if(null!==state.explicit?tag=state.explicit:null!==state.implicit?tag=state.implicit:null!==state.tag&&(tag=state.tag),null!==tag||state.any){if(present=this._peekTag(input,tag,state.any),input.isError(present))return present}else{var save=input.save();try{null===state.choice?this._decodeGeneric(state.tag,input,options):this._decodeChoice(input,options),present=!0}catch(e){present=!1}input.restore(save)}}var prevObj;if(state.obj&&present&&(prevObj=input.enterObject()),present){if(null!==state.explicit){var explicit=this._decodeTag(input,state.explicit);if(input.isError(explicit))return explicit;input=explicit}var start=input.offset;if(null===state.use&&null===state.choice){if(state.any)var save=input.save();var body=this._decodeTag(input,null!==state.implicit?state.implicit:state.tag,state.any);if(input.isError(body))return body;state.any?result=input.raw(save):input=body}if(options&&options.track&&null!==state.tag&&options.track(input.path(),start,input.length,"tagged"),options&&options.track&&null!==state.tag&&options.track(input.path(),input.offset,input.length,"content"),result=state.any?result:null===state.choice?this._decodeGeneric(state.tag,input,options):this._decodeChoice(input,options),input.isError(result))return result;if(state.any||null!==state.choice||null===state.children||state.children.forEach(function(child){child._decode(input,options)}),state.contains&&("octstr"===state.tag||"bitstr"===state.tag)){var data=new DecoderBuffer(result);result=this._getUse(state.contains,input._reporterState.obj)._decode(data,options)}}return state.obj&&present&&(result=input.leaveObject(prevObj)),null===state.key||null===result&&present!==!0?null!==prevKey&&input.exitKey(prevKey):input.leaveKey(prevKey,state.key,result),result},Node.prototype._decodeGeneric=function(tag,input,options){var state=this._baseState;return"seq"===tag||"set"===tag?null:"seqof"===tag||"setof"===tag?this._decodeList(input,tag,state.args[0],options):/str$/.test(tag)?this._decodeStr(input,tag,options):"objid"===tag&&state.args?this._decodeObjid(input,state.args[0],state.args[1],options):"objid"===tag?this._decodeObjid(input,null,null,options):"gentime"===tag||"utctime"===tag?this._decodeTime(input,tag,options):"null_"===tag?this._decodeNull(input,options):"bool"===tag?this._decodeBool(input,options):"int"===tag||"enum"===tag?this._decodeInt(input,state.args&&state.args[0],options):null!==state.use?this._getUse(state.use,input._reporterState.obj)._decode(input,options):input.error("unknown tag: "+tag)},Node.prototype._getUse=function(entity,obj){var state=this._baseState;return state.useDecoder=this._use(entity,obj),assert(null===state.useDecoder._baseState.parent),state.useDecoder=state.useDecoder._baseState.children[0],state.implicit!==state.useDecoder._baseState.implicit&&(state.useDecoder=state.useDecoder.clone(),state.useDecoder._baseState.implicit=state.implicit),state.useDecoder},Node.prototype._decodeChoice=function(input,options){var state=this._baseState,result=null,match=!1;return Object.keys(state.choice).some(function(key){var save=input.save(),node=state.choice[key];try{var value=node._decode(input,options);if(input.isError(value))return!1;result={type:key,value:value},match=!0}catch(e){return input.restore(save),!1}return!0},this),match?result:input.error("Choice not matched")},Node.prototype._createEncoderBuffer=function(data){return new EncoderBuffer(data,this.reporter)},Node.prototype._encode=function(data,reporter,parent){var state=this._baseState;if(null===state.default||state.default!==data){var result=this._encodeValue(data,reporter,parent);if(void 0!==result&&!this._skipDefault(result,reporter,parent))return result}},Node.prototype._encodeValue=function(data,reporter,parent){var state=this._baseState;if(null===state.parent)return state.children[0]._encode(data,reporter||new Reporter);var result=null;if(this.reporter=reporter,state.optional&&void 0===data){if(null===state.default)return;data=state.default}var content=null,primitive=!1;if(state.any)result=this._createEncoderBuffer(data);else if(state.choice)result=this._encodeChoice(data,reporter);else if(state.contains)content=this._getUse(state.contains,parent)._encode(data,reporter),primitive=!0;else if(state.children)content=state.children.map(function(child){if("null_"===child._baseState.tag)return child._encode(null,reporter,data);if(null===child._baseState.key)return reporter.error("Child should have a key");var prevKey=reporter.enterKey(child._baseState.key);if("object"!=typeof data)return reporter.error("Child expected, but input is not object");var res=child._encode(data[child._baseState.key],reporter,data);return reporter.leaveKey(prevKey),res},this).filter(function(child){return child}),content=this._createEncoderBuffer(content);else if("seqof"===state.tag||"setof"===state.tag){if(!state.args||1!==state.args.length)return reporter.error("Too many args for : "+state.tag);if(!Array.isArray(data))return reporter.error("seqof/setof, but data is not Array");var child=this.clone();child._baseState.implicit=null,content=this._createEncoderBuffer(data.map(function(item){var state=this._baseState;return this._getUse(state.args[0],data)._encode(item,reporter)},child))}else null!==state.use?result=this._getUse(state.use,parent)._encode(data,reporter):(content=this._encodePrimitive(state.tag,data),primitive=!0);var result;if(!state.any&&null===state.choice){var tag=null!==state.implicit?state.implicit:state.tag,cls=null===state.implicit?"universal":"context";null===tag?null===state.use&&reporter.error("Tag could be ommited only for .use()"):null===state.use&&(result=this._encodeComposite(tag,primitive,cls,content))}return null!==state.explicit&&(result=this._encodeComposite(state.explicit,!1,"context",result)),result},Node.prototype._encodeChoice=function(data,reporter){var state=this._baseState,node=state.choice[data.type];return node||assert(!1,data.type+" not found in "+JSON.stringify(Object.keys(state.choice))),node._encode(data.value,reporter)},Node.prototype._encodePrimitive=function(tag,data){var state=this._baseState;if(/str$/.test(tag))return this._encodeStr(data,tag);if("objid"===tag&&state.args)return this._encodeObjid(data,state.reverseArgs[0],state.args[1]);if("objid"===tag)return this._encodeObjid(data,null,null);if("gentime"===tag||"utctime"===tag)return this._encodeTime(data,tag);if("null_"===tag)return this._encodeNull();if("int"===tag||"enum"===tag)return this._encodeInt(data,state.args&&state.reverseArgs[0]);if("bool"===tag)return this._encodeBool(data);throw new Error("Unsupported tag: "+tag)},Node.prototype._isNumstr=function(str){return/^[0-9 ]*$/.test(str)},Node.prototype._isPrintstr=function(str){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(str)}},{"../base":8,"minimalistic-assert":189}],10:[function(require,module,exports){function Reporter(options){this._reporterState={obj:null,path:[],options:options||{},errors:[]}}function ReporterError(path,msg){this.path=path,this.rethrow(msg)}var inherits=require("inherits");exports.Reporter=Reporter,Reporter.prototype.isError=function(obj){return obj instanceof ReporterError},Reporter.prototype.save=function(){var state=this._reporterState;return{obj:state.obj,pathLen:state.path.length}},Reporter.prototype.restore=function(data){var state=this._reporterState;state.obj=data.obj,state.path=state.path.slice(0,data.pathLen)},Reporter.prototype.enterKey=function(key){return this._reporterState.path.push(key)},Reporter.prototype.exitKey=function(index){var state=this._reporterState;state.path=state.path.slice(0,index-1)},Reporter.prototype.leaveKey=function(index,key,value){var state=this._reporterState;this.exitKey(index),null!==state.obj&&(state.obj[key]=value)},Reporter.prototype.path=function(){return this._reporterState.path.join("/")},Reporter.prototype.enterObject=function(){var state=this._reporterState,prev=state.obj;return state.obj={},prev},Reporter.prototype.leaveObject=function(prev){var state=this._reporterState,now=state.obj;return state.obj=prev,now},Reporter.prototype.error=function(msg){var err,state=this._reporterState,inherited=msg instanceof ReporterError;if(err=inherited?msg:new ReporterError(state.path.map(function(elem){return"["+JSON.stringify(elem)+"]"}).join(""),msg.message||msg,msg.stack),!state.options.partial)throw err;return inherited||state.errors.push(err),err},Reporter.prototype.wrapResult=function(result){var state=this._reporterState;return state.options.partial?{result:this.isError(result)?null:result,errors:state.errors}:result},inherits(ReporterError,Error),ReporterError.prototype.rethrow=function(msg){if(this.message=msg+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},{inherits:185}],11:[function(require,module,exports){var constants=require("../constants");exports.tagClass={0:"universal",1:"application",2:"context",3:"private"},exports.tagClassByName=constants._reverse(exports.tagClass),exports.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},exports.tagByName=constants._reverse(exports.tag)},{"../constants":12}],12:[function(require,module,exports){var constants=exports;constants._reverse=function(map){var res={};return Object.keys(map).forEach(function(key){(0|key)==key&&(key=0|key);var value=map[key];res[value]=key}),res},constants.der=require("./der")},{"./der":11}],13:[function(require,module,exports){function DERDecoder(entity){this.enc="der",this.name=entity.name,this.entity=entity,this.tree=new DERNode,this.tree._init(entity.body)}function DERNode(parent){base.Node.call(this,"der",parent)}function derDecodeTag(buf,fail){var tag=buf.readUInt8(fail);if(buf.isError(tag))return tag;var cls=der.tagClass[tag>>6],primitive=0===(32&tag);if(31===(31&tag)){var oct=tag;for(tag=0;128===(128&oct);){if(oct=buf.readUInt8(fail),buf.isError(oct))return oct;tag<<=7,tag|=127&oct}}else tag&=31;var tagStr=der.tag[tag];return{cls:cls,primitive:primitive,tag:tag,tagStr:tagStr}}function derDecodeLen(buf,primitive,fail){var len=buf.readUInt8(fail);if(buf.isError(len))return len;if(!primitive&&128===len)return null;if(0===(128&len))return len;var num=127&len;if(num>=4)return buf.error("length octect is too long");len=0;for(var i=0;num>i;i++){len<<=8;var j=buf.readUInt8(fail);if(buf.isError(j))return j;len|=j}return len}var inherits=require("inherits"),asn1=require("../../asn1"),base=asn1.base,bignum=asn1.bignum,der=asn1.constants.der;module.exports=DERDecoder,DERDecoder.prototype.decode=function(data,options){return data instanceof base.DecoderBuffer||(data=new base.DecoderBuffer(data,options)),this.tree._decode(data,options)},inherits(DERNode,base.Node),DERNode.prototype._peekTag=function(buffer,tag,any){if(buffer.isEmpty())return!1;var state=buffer.save(),decodedTag=derDecodeTag(buffer,'Failed to peek tag: "'+tag+'"');return buffer.isError(decodedTag)?decodedTag:(buffer.restore(state),decodedTag.tag===tag||decodedTag.tagStr===tag||decodedTag.tagStr+"of"===tag||any)},DERNode.prototype._decodeTag=function(buffer,tag,any){var decodedTag=derDecodeTag(buffer,'Failed to decode tag of "'+tag+'"');if(buffer.isError(decodedTag))return decodedTag;var len=derDecodeLen(buffer,decodedTag.primitive,'Failed to get length of "'+tag+'"');if(buffer.isError(len))return len;if(!any&&decodedTag.tag!==tag&&decodedTag.tagStr!==tag&&decodedTag.tagStr+"of"!==tag)return buffer.error('Failed to match tag: "'+tag+'"');if(decodedTag.primitive||null!==len)return buffer.skip(len,'Failed to match body of: "'+tag+'"');var state=buffer.save(),res=this._skipUntilEnd(buffer,'Failed to skip indefinite length body: "'+this.tag+'"');return buffer.isError(res)?res:(len=buffer.offset-state.offset,buffer.restore(state),buffer.skip(len,'Failed to match body of: "'+tag+'"'))},DERNode.prototype._skipUntilEnd=function(buffer,fail){for(;;){var tag=derDecodeTag(buffer,fail);if(buffer.isError(tag))return tag;var len=derDecodeLen(buffer,tag.primitive,fail);if(buffer.isError(len))return len;var res;if(res=tag.primitive||null!==len?buffer.skip(len):this._skipUntilEnd(buffer,fail),buffer.isError(res))return res;if("end"===tag.tagStr)break}},DERNode.prototype._decodeList=function(buffer,tag,decoder,options){for(var result=[];!buffer.isEmpty();){var possibleEnd=this._peekTag(buffer,"end");if(buffer.isError(possibleEnd))return possibleEnd;var res=decoder.decode(buffer,"der",options);if(buffer.isError(res)&&possibleEnd)break;result.push(res)}return result},DERNode.prototype._decodeStr=function(buffer,tag){if("bitstr"===tag){var unused=buffer.readUInt8();return buffer.isError(unused)?unused:{unused:unused,data:buffer.raw()}}if("bmpstr"===tag){var raw=buffer.raw();if(raw.length%2===1)return buffer.error("Decoding of string type: bmpstr length mismatch");for(var str="",i=0;i<raw.length/2;i++)str+=String.fromCharCode(raw.readUInt16BE(2*i));return str}if("numstr"===tag){var numstr=buffer.raw().toString("ascii");return this._isNumstr(numstr)?numstr:buffer.error("Decoding of string type: numstr unsupported characters")}if("octstr"===tag)return buffer.raw();if("printstr"===tag){var printstr=buffer.raw().toString("ascii");return this._isPrintstr(printstr)?printstr:buffer.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(tag)?buffer.raw().toString():buffer.error("Decoding of string type: "+tag+" unsupported")},DERNode.prototype._decodeObjid=function(buffer,values,relative){for(var result,identifiers=[],ident=0;!buffer.isEmpty();){var subident=buffer.readUInt8();ident<<=7,ident|=127&subident,0===(128&subident)&&(identifiers.push(ident),ident=0)}128&subident&&identifiers.push(ident);var first=identifiers[0]/40|0,second=identifiers[0]%40;if(result=relative?identifiers:[first,second].concat(identifiers.slice(1)),values){var tmp=values[result.join(" ")];void 0===tmp&&(tmp=values[result.join(".")]),void 0!==tmp&&(result=tmp)}return result},DERNode.prototype._decodeTime=function(buffer,tag){var str=buffer.raw().toString();if("gentime"===tag)var year=0|str.slice(0,4),mon=0|str.slice(4,6),day=0|str.slice(6,8),hour=0|str.slice(8,10),min=0|str.slice(10,12),sec=0|str.slice(12,14);else{if("utctime"!==tag)return buffer.error("Decoding "+tag+" time is not supported yet");var year=0|str.slice(0,2),mon=0|str.slice(2,4),day=0|str.slice(4,6),hour=0|str.slice(6,8),min=0|str.slice(8,10),sec=0|str.slice(10,12);year=70>year?2e3+year:1900+year}return Date.UTC(year,mon-1,day,hour,min,sec,0)},DERNode.prototype._decodeNull=function(buffer){return null},DERNode.prototype._decodeBool=function(buffer){var res=buffer.readUInt8();return buffer.isError(res)?res:0!==res},DERNode.prototype._decodeInt=function(buffer,values){var raw=buffer.raw(),res=new bignum(raw);return values&&(res=values[res.toString(10)]||res),res},DERNode.prototype._use=function(entity,obj){return"function"==typeof entity&&(entity=entity(obj)),entity._getDecoder("der").tree}},{"../../asn1":5,inherits:185}],14:[function(require,module,exports){var decoders=exports;decoders.der=require("./der"),decoders.pem=require("./pem")},{"./der":13,"./pem":15}],15:[function(require,module,exports){function PEMDecoder(entity){DERDecoder.call(this,entity),this.enc="pem"}var inherits=require("inherits"),Buffer=require("buffer").Buffer,DERDecoder=require("./der");inherits(PEMDecoder,DERDecoder),module.exports=PEMDecoder,PEMDecoder.prototype.decode=function(data,options){for(var lines=data.toString().split(/[\r\n]+/g),label=options.label.toUpperCase(),re=/^-----(BEGIN|END) ([^-]+)-----$/,start=-1,end=-1,i=0;i<lines.length;i++){var match=lines[i].match(re);if(null!==match&&match[2]===label){if(-1!==start){if("END"!==match[1])break;end=i;break}if("BEGIN"!==match[1])break;start=i}}if(-1===start||-1===end)throw new Error("PEM section not found for: "+label);var base64=lines.slice(start+1,end).join("");base64.replace(/[^a-z0-9\+\/=]+/gi,"");var input=new Buffer(base64,"base64");return DERDecoder.prototype.decode.call(this,input,options)}},{"./der":13,buffer:53,inherits:185}],16:[function(require,module,exports){function DEREncoder(entity){this.enc="der",this.name=entity.name,this.entity=entity,this.tree=new DERNode,this.tree._init(entity.body)}function DERNode(parent){base.Node.call(this,"der",parent)}function two(num){return 10>num?"0"+num:num}function encodeTag(tag,primitive,cls,reporter){var res;if("seqof"===tag?tag="seq":"setof"===tag&&(tag="set"),der.tagByName.hasOwnProperty(tag))res=der.tagByName[tag];else{if("number"!=typeof tag||(0|tag)!==tag)return reporter.error("Unknown tag: "+tag);res=tag}return res>=31?reporter.error("Multi-octet tag encoding unsupported"):(primitive||(res|=32),res|=der.tagClassByName[cls||"universal"]<<6)}var inherits=require("inherits"),Buffer=require("buffer").Buffer,asn1=require("../../asn1"),base=asn1.base,der=asn1.constants.der;module.exports=DEREncoder,DEREncoder.prototype.encode=function(data,reporter){return this.tree._encode(data,reporter).join()},inherits(DERNode,base.Node),DERNode.prototype._encodeComposite=function(tag,primitive,cls,content){var encodedTag=encodeTag(tag,primitive,cls,this.reporter);if(content.length<128){var header=new Buffer(2);return header[0]=encodedTag,header[1]=content.length,this._createEncoderBuffer([header,content])}for(var lenOctets=1,i=content.length;i>=256;i>>=8)lenOctets++;var header=new Buffer(2+lenOctets);header[0]=encodedTag,header[1]=128|lenOctets;for(var i=1+lenOctets,j=content.length;j>0;i--,j>>=8)header[i]=255&j;return this._createEncoderBuffer([header,content])},DERNode.prototype._encodeStr=function(str,tag){if("bitstr"===tag)return this._createEncoderBuffer([0|str.unused,str.data]);if("bmpstr"===tag){for(var buf=new Buffer(2*str.length),i=0;i<str.length;i++)buf.writeUInt16BE(str.charCodeAt(i),2*i);return this._createEncoderBuffer(buf)}return"numstr"===tag?this._isNumstr(str)?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===tag?this._isPrintstr(str)?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(tag)?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: "+tag+" unsupported")},DERNode.prototype._encodeObjid=function(id,values,relative){if("string"==typeof id){if(!values)return this.reporter.error("string objid given, but no values map found");if(!values.hasOwnProperty(id))return this.reporter.error("objid not found in values map");id=values[id].split(/[\s\.]+/g);for(var i=0;i<id.length;i++)id[i]|=0}else if(Array.isArray(id)){id=id.slice();for(var i=0;i<id.length;i++)id[i]|=0}if(!Array.isArray(id))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(id));if(!relative){if(id[1]>=40)return this.reporter.error("Second objid identifier OOB");id.splice(0,2,40*id[0]+id[1])}for(var size=0,i=0;i<id.length;i++){var ident=id[i];for(size++;ident>=128;ident>>=7)size++}for(var objid=new Buffer(size),offset=objid.length-1,i=id.length-1;i>=0;i--){var ident=id[i];for(objid[offset--]=127&ident;(ident>>=7)>0;)objid[offset--]=128|127&ident}return this._createEncoderBuffer(objid)},DERNode.prototype._encodeTime=function(time,tag){var str,date=new Date(time);return"gentime"===tag?str=[two(date.getFullYear()),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join(""):"utctime"===tag?str=[two(date.getFullYear()%100),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+tag+" time is not supported yet"),this._encodeStr(str,"octstr")},DERNode.prototype._encodeNull=function(){return this._createEncoderBuffer("")},DERNode.prototype._encodeInt=function(num,values){if("string"==typeof num){if(!values)return this.reporter.error("String int or enum given, but no values map");if(!values.hasOwnProperty(num))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(num));num=values[num]}if("number"!=typeof num&&!Buffer.isBuffer(num)){var numArray=num.toArray();!num.sign&&128&numArray[0]&&numArray.unshift(0),num=new Buffer(numArray)}if(Buffer.isBuffer(num)){var size=num.length;0===num.length&&size++;var out=new Buffer(size);return num.copy(out),0===num.length&&(out[0]=0),this._createEncoderBuffer(out)}if(128>num)return this._createEncoderBuffer(num);if(256>num)return this._createEncoderBuffer([0,num]);for(var size=1,i=num;i>=256;i>>=8)size++;for(var out=new Array(size),i=out.length-1;i>=0;i--)out[i]=255&num,num>>=8;return 128&out[0]&&out.unshift(0),this._createEncoderBuffer(new Buffer(out))},DERNode.prototype._encodeBool=function(value){return this._createEncoderBuffer(value?255:0)},DERNode.prototype._use=function(entity,obj){return"function"==typeof entity&&(entity=entity(obj)),entity._getEncoder("der").tree},DERNode.prototype._skipDefault=function(dataBuffer,reporter,parent){var i,state=this._baseState;if(null===state.default)return!1;var data=dataBuffer.join();if(void 0===state.defaultBuffer&&(state.defaultBuffer=this._encodeValue(state.default,reporter,parent).join()),data.length!==state.defaultBuffer.length)return!1;for(i=0;i<data.length;i++)if(data[i]!==state.defaultBuffer[i])return!1;return!0}},{"../../asn1":5,buffer:53,inherits:185}],17:[function(require,module,exports){var encoders=exports;encoders.der=require("./der"),encoders.pem=require("./pem")},{"./der":16,"./pem":18}],18:[function(require,module,exports){function PEMEncoder(entity){DEREncoder.call(this,entity),this.enc="pem"}var inherits=require("inherits"),DEREncoder=require("./der");inherits(PEMEncoder,DEREncoder),module.exports=PEMEncoder,PEMEncoder.prototype.encode=function(data,options){for(var buf=DEREncoder.prototype.encode.call(this,data),p=buf.toString("base64"),out=["-----BEGIN "+options.label+"-----"],i=0;i<p.length;i+=64)out.push(p.slice(i,i+64));return out.push("-----END "+options.label+"-----"),out.join("\n")}},{"./der":16,inherits:185}],19:[function(require,module,exports){function replacer(key,value){return util.isUndefined(value)?""+value:util.isNumber(value)&&!isFinite(value)?value.toString():util.isFunction(value)||util.isRegExp(value)?value.toString():value}function truncate(s,n){return util.isString(s)?s.length<n?s:s.slice(0,n):s}function getMessage(self){return truncate(JSON.stringify(self.actual,replacer),128)+" "+self.operator+" "+truncate(JSON.stringify(self.expected,replacer),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}function ok(value,message){value||fail(value,!0,message,"==",assert.ok)}function _deepEqual(actual,expected){if(actual===expected)return!0;if(util.isBuffer(actual)&&util.isBuffer(expected)){if(actual.length!=expected.length)return!1;for(var i=0;i<actual.length;i++)if(actual[i]!==expected[i])return!1;return!0}return util.isDate(actual)&&util.isDate(expected)?actual.getTime()===expected.getTime():util.isRegExp(actual)&&util.isRegExp(expected)?actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase:util.isObject(actual)||util.isObject(expected)?objEquiv(actual,expected):actual==expected}function isArguments(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function objEquiv(a,b){if(util.isNullOrUndefined(a)||util.isNullOrUndefined(b))return!1;if(a.prototype!==b.prototype)return!1;if(util.isPrimitive(a)||util.isPrimitive(b))return a===b;var aIsArgs=isArguments(a),bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return!1;if(aIsArgs)return a=pSlice.call(a),b=pSlice.call(b),_deepEqual(a,b);var key,i,ka=objectKeys(a),kb=objectKeys(b);if(ka.length!=kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!=kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!_deepEqual(a[key],b[key]))return!1;return!0}function expectedException(actual,expected){return actual&&expected?"[object RegExp]"==Object.prototype.toString.call(expected)?expected.test(actual):actual instanceof expected?!0:expected.call({},actual)===!0?!0:!1:!1}function _throws(shouldThrow,block,expected,message){var actual;util.isString(expected)&&(message=expected,expected=null);try{block()}catch(e){actual=e}if(message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:"."),shouldThrow&&!actual&&fail(actual,expected,"Missing expected exception"+message),!shouldThrow&&expectedException(actual,expected)&&fail(actual,expected,"Got unwanted exception"+message),shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual)throw actual}var util=require("util/"),pSlice=Array.prototype.slice,hasOwn=Object.prototype.hasOwnProperty,assert=module.exports=ok;assert.AssertionError=function(options){this.name="AssertionError",this.actual=options.actual,this.expected=options.expected,this.operator=options.operator,options.message?(this.message=options.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,stackStartFunction);else{var err=new Error;if(err.stack){var out=err.stack,fn_name=stackStartFunction.name,idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function(actual,expected,message){actual!=expected&&fail(actual,expected,message,"==",assert.equal)},assert.notEqual=function(actual,expected,message){actual==expected&&fail(actual,expected,message,"!=",assert.notEqual)},assert.deepEqual=function(actual,expected,message){_deepEqual(actual,expected)||fail(actual,expected,message,"deepEqual",assert.deepEqual)},assert.notDeepEqual=function(actual,expected,message){_deepEqual(actual,expected)&&fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)},assert.strictEqual=function(actual,expected,message){actual!==expected&&fail(actual,expected,message,"===",assert.strictEqual)},assert.notStrictEqual=function(actual,expected,message){actual===expected&&fail(actual,expected,message,"!==",assert.notStrictEqual)},assert.throws=function(block,error,message){_throws.apply(this,[!0].concat(pSlice.call(arguments)))},assert.doesNotThrow=function(block,message){_throws.apply(this,[!1].concat(pSlice.call(arguments)))},assert.ifError=function(err){if(err)throw err};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)hasOwn.call(obj,key)&&keys.push(key);return keys}},{"util/":370}],20:[function(require,module,exports){function balanced(a,b,str){a instanceof RegExp&&(a=maybeMatch(a,str)),b instanceof RegExp&&(b=maybeMatch(b,str));var r=range(a,b,str);return r&&{start:r[0],end:r[1],
pre:str.slice(0,r[0]),body:str.slice(r[0]+a.length,r[1]),post:str.slice(r[1]+b.length)}}function maybeMatch(reg,str){var m=str.match(reg);return m?m[0]:null}function range(a,b,str){var begs,beg,left,right,result,ai=str.indexOf(a),bi=str.indexOf(b,ai+1),i=ai;if(ai>=0&&bi>0){for(begs=[],left=str.length;i>=0&&!result;)i==ai?(begs.push(i),ai=str.indexOf(a,i+1)):1==begs.length?result=[begs.pop(),bi]:(beg=begs.pop(),left>beg&&(left=beg,right=bi),bi=str.indexOf(b,i+1)),i=bi>ai&&ai>=0?ai:bi;begs.length&&(result=[left,right])}return result}module.exports=balanced,balanced.range=range},{}],21:[function(require,module,exports){"use strict";function placeHoldersCount(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===b64[len-2]?2:"="===b64[len-1]?1:0}function byteLength(b64){return 3*b64.length/4-placeHoldersCount(b64)}function toByteArray(b64){var i,j,l,tmp,placeHolders,arr,len=b64.length;placeHolders=placeHoldersCount(b64),arr=new Arr(3*len/4-placeHolders),l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;l>i;i+=4,j+=3)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[L++]=tmp>>16&255,arr[L++]=tmp>>8&255,arr[L++]=255&tmp;return 2===placeHolders?(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[L++]=255&tmp):1===placeHolders&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[L++]=tmp>>8&255,arr[L++]=255&tmp),arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;end>i;i+=3)tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output.push(tripletToBase64(tmp));return output.join("")}function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,output="",parts=[],maxChunkLength=16383,i=0,len2=len-extraBytes;len2>i;i+=maxChunkLength)parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength));return 1===extraBytes?(tmp=uint8[len-1],output+=lookup[tmp>>2],output+=lookup[tmp<<4&63],output+="=="):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],output+=lookup[tmp>>10],output+=lookup[tmp>>4&63],output+=lookup[tmp<<2&63],output+="="),parts.push(output),parts.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;len>i;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},{}],22:[function(require,module,exports){!function(module,exports){"use strict";function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}function BN(number,base,endian){return BN.isBN(number)?number:(this.negative=0,this.words=null,this.length=0,this.red=null,void(null!==number&&(("le"===base||"be"===base)&&(endian=base,base=10),this._init(number||0,base||10,endian||"be"))))}function parseHex(str,start,end){for(var r=0,len=Math.min(str.length,end),i=start;len>i;i++){var c=str.charCodeAt(i)-48;r<<=4,r|=c>=49&&54>=c?c-49+10:c>=17&&22>=c?c-17+10:15&c}return r}function parseBase(str,start,end,mul){for(var r=0,len=Math.min(str.length,end),i=start;len>i;i++){var c=str.charCodeAt(i)-48;r*=mul,r+=c>=49?c-49+10:c>=17?c-17+10:c}return r}function toBitArray(num){for(var w=new Array(num.bitLength()),bit=0;bit<w.length;bit++){var off=bit/26|0,wbit=bit%26;w[bit]=(num.words[off]&1<<wbit)>>>wbit}return w}function smallMulTo(self,num,out){out.negative=num.negative^self.negative;var len=self.length+num.length|0;out.length=len,len=len-1|0;var a=0|self.words[0],b=0|num.words[0],r=a*b,lo=67108863&r,carry=r/67108864|0;out.words[0]=lo;for(var k=1;len>k;k++){for(var ncarry=carry>>>26,rword=67108863&carry,maxJ=Math.min(k,num.length-1),j=Math.max(0,k-self.length+1);maxJ>=j;j++){var i=k-j|0;a=0|self.words[i],b=0|num.words[j],r=a*b+rword,ncarry+=r/67108864|0,rword=67108863&r}out.words[k]=0|rword,carry=0|ncarry}return 0!==carry?out.words[k]=0|carry:out.length--,out.strip()}function bigMulTo(self,num,out){out.negative=num.negative^self.negative,out.length=self.length+num.length;for(var carry=0,hncarry=0,k=0;k<out.length-1;k++){var ncarry=hncarry;hncarry=0;for(var rword=67108863&carry,maxJ=Math.min(k,num.length-1),j=Math.max(0,k-self.length+1);maxJ>=j;j++){var i=k-j,a=0|self.words[i],b=0|num.words[j],r=a*b,lo=67108863&r;ncarry=ncarry+(r/67108864|0)|0,lo=lo+rword|0,rword=67108863&lo,ncarry=ncarry+(lo>>>26)|0,hncarry+=ncarry>>>26,ncarry&=67108863}out.words[k]=rword,carry=ncarry,ncarry=hncarry}return 0!==carry?out.words[k]=carry:out.length--,out.strip()}function jumboMulTo(self,num,out){var fftm=new FFTM;return fftm.mulp(self,num,out)}function FFTM(x,y){this.x=x,this.y=y}function MPrime(name,p){this.name=name,this.p=new BN(p,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(m){if("string"==typeof m){var prime=BN._prime(m);this.m=prime.p,this.prime=prime}else assert(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}function Mont(m){Red.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof module?module.exports=BN:exports.BN=BN,BN.BN=BN,BN.wordSize=26;var Buffer;try{Buffer=require("buffer").Buffer}catch(e){}BN.isBN=function(num){return num instanceof BN?!0:null!==num&&"object"==typeof num&&num.constructor.wordSize===BN.wordSize&&Array.isArray(num.words)},BN.max=function(left,right){return left.cmp(right)>0?left:right},BN.min=function(left,right){return left.cmp(right)<0?left:right},BN.prototype._init=function(number,base,endian){if("number"==typeof number)return this._initNumber(number,base,endian);if("object"==typeof number)return this._initArray(number,base,endian);"hex"===base&&(base=16),assert(base===(0|base)&&base>=2&&36>=base),number=number.toString().replace(/\s+/g,"");var start=0;"-"===number[0]&&start++,16===base?this._parseHex(number,start):this._parseBase(number,base,start),"-"===number[0]&&(this.negative=1),this.strip(),"le"===endian&&this._initArray(this.toArray(),base,endian)},BN.prototype._initNumber=function(number,base,endian){0>number&&(this.negative=1,number=-number),67108864>number?(this.words=[67108863&number],this.length=1):4503599627370496>number?(this.words=[67108863&number,number/67108864&67108863],this.length=2):(assert(9007199254740992>number),this.words=[67108863&number,number/67108864&67108863,1],this.length=3),"le"===endian&&this._initArray(this.toArray(),base,endian)},BN.prototype._initArray=function(number,base,endian){if(assert("number"==typeof number.length),number.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(number.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var j,w,off=0;if("be"===endian)for(i=number.length-1,j=0;i>=0;i-=3)w=number[i]|number[i-1]<<8|number[i-2]<<16,this.words[j]|=w<<off&67108863,this.words[j+1]=w>>>26-off&67108863,off+=24,off>=26&&(off-=26,j++);else if("le"===endian)for(i=0,j=0;i<number.length;i+=3)w=number[i]|number[i+1]<<8|number[i+2]<<16,this.words[j]|=w<<off&67108863,this.words[j+1]=w>>>26-off&67108863,off+=24,off>=26&&(off-=26,j++);return this.strip()},BN.prototype._parseHex=function(number,start){this.length=Math.ceil((number.length-start)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var j,w,off=0;for(i=number.length-6,j=0;i>=start;i-=6)w=parseHex(number,i,i+6),this.words[j]|=w<<off&67108863,this.words[j+1]|=w>>>26-off&4194303,off+=24,off>=26&&(off-=26,j++);i+6!==start&&(w=parseHex(number,start,i+6),this.words[j]|=w<<off&67108863,this.words[j+1]|=w>>>26-off&4194303),this.strip()},BN.prototype._parseBase=function(number,base,start){this.words=[0],this.length=1;for(var limbLen=0,limbPow=1;67108863>=limbPow;limbPow*=base)limbLen++;limbLen--,limbPow=limbPow/base|0;for(var total=number.length-start,mod=total%limbLen,end=Math.min(total,total-mod)+start,word=0,i=start;end>i;i+=limbLen)word=parseBase(number,i,i+limbLen,base),this.imuln(limbPow),this.words[0]+word<67108864?this.words[0]+=word:this._iaddn(word);if(0!==mod){var pow=1;for(word=parseBase(number,i,number.length,base),i=0;mod>i;i++)pow*=base;this.imuln(pow),this.words[0]+word<67108864?this.words[0]+=word:this._iaddn(word)}},BN.prototype.copy=function(dest){dest.words=new Array(this.length);for(var i=0;i<this.length;i++)dest.words[i]=this.words[i];dest.length=this.length,dest.negative=this.negative,dest.red=this.red},BN.prototype.clone=function(){var r=new BN(null);return this.copy(r),r},BN.prototype._expand=function(size){for(;this.length<size;)this.words[this.length++]=0;return this},BN.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var zeros=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],groupBases=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function(base,padding){base=base||10,padding=0|padding||1;var out;if(16===base||"hex"===base){out="";for(var off=0,carry=0,i=0;i<this.length;i++){var w=this.words[i],word=(16777215&(w<<off|carry)).toString(16);carry=w>>>24-off&16777215,out=0!==carry||i!==this.length-1?zeros[6-word.length]+word+out:word+out,off+=2,off>=26&&(off-=26,i--)}for(0!==carry&&(out=carry.toString(16)+out);out.length%padding!==0;)out="0"+out;return 0!==this.negative&&(out="-"+out),out}if(base===(0|base)&&base>=2&&36>=base){var groupSize=groupSizes[base],groupBase=groupBases[base];out="";var c=this.clone();for(c.negative=0;!c.isZero();){var r=c.modn(groupBase).toString(base);c=c.idivn(groupBase),out=c.isZero()?r+out:zeros[groupSize-r.length]+r+out}for(this.isZero()&&(out="0"+out);out.length%padding!==0;)out="0"+out;return 0!==this.negative&&(out="-"+out),out}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function(){var ret=this.words[0];return 2===this.length?ret+=67108864*this.words[1]:3===this.length&&1===this.words[2]?ret+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-ret:ret},BN.prototype.toJSON=function(){return this.toString(16)},BN.prototype.toBuffer=function(endian,length){return assert("undefined"!=typeof Buffer),this.toArrayLike(Buffer,endian,length)},BN.prototype.toArray=function(endian,length){return this.toArrayLike(Array,endian,length)},BN.prototype.toArrayLike=function(ArrayType,endian,length){var byteLength=this.byteLength(),reqLength=length||Math.max(1,byteLength);assert(reqLength>=byteLength,"byte array longer than desired length"),assert(reqLength>0,"Requested array length <= 0"),this.strip();var b,i,littleEndian="le"===endian,res=new ArrayType(reqLength),q=this.clone();if(littleEndian){for(i=0;!q.isZero();i++)b=q.andln(255),q.iushrn(8),res[i]=b;for(;reqLength>i;i++)res[i]=0}else{for(i=0;reqLength-byteLength>i;i++)res[i]=0;for(i=0;!q.isZero();i++)b=q.andln(255),q.iushrn(8),res[reqLength-i-1]=b}return res},Math.clz32?BN.prototype._countBits=function(w){return 32-Math.clz32(w)}:BN.prototype._countBits=function(w){var t=w,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},BN.prototype._zeroBits=function(w){if(0===w)return 26;var t=w,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},BN.prototype.bitLength=function(){var w=this.words[this.length-1],hi=this._countBits(w);return 26*(this.length-1)+hi},BN.prototype.zeroBits=function(){if(this.isZero())return 0;for(var r=0,i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);if(r+=b,26!==b)break}return r},BN.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function(width){return 0!==this.negative?this.abs().inotn(width).iaddn(1):this.clone()},BN.prototype.fromTwos=function(width){return this.testn(width-1)?this.notn(width).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function(){return 0!==this.negative},BN.prototype.neg=function(){return this.clone().ineg()},BN.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function(num){for(;this.length<num.length;)this.words[this.length++]=0;for(var i=0;i<num.length;i++)this.words[i]=this.words[i]|num.words[i];return this.strip()},BN.prototype.ior=function(num){return assert(0===(this.negative|num.negative)),this.iuor(num)},BN.prototype.or=function(num){return this.length>num.length?this.clone().ior(num):num.clone().ior(this)},BN.prototype.uor=function(num){return this.length>num.length?this.clone().iuor(num):num.clone().iuor(this)},BN.prototype.iuand=function(num){var b;b=this.length>num.length?num:this;for(var i=0;i<b.length;i++)this.words[i]=this.words[i]&num.words[i];return this.length=b.length,this.strip()},BN.prototype.iand=function(num){return assert(0===(this.negative|num.negative)),this.iuand(num)},BN.prototype.and=function(num){return this.length>num.length?this.clone().iand(num):num.clone().iand(this)},BN.prototype.uand=function(num){return this.length>num.length?this.clone().iuand(num):num.clone().iuand(this)},BN.prototype.iuxor=function(num){var a,b;this.length>num.length?(a=this,b=num):(a=num,b=this);for(var i=0;i<b.length;i++)this.words[i]=a.words[i]^b.words[i];if(this!==a)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=a.length,this.strip()},BN.prototype.ixor=function(num){return assert(0===(this.negative|num.negative)),this.iuxor(num)},BN.prototype.xor=function(num){return this.length>num.length?this.clone().ixor(num):num.clone().ixor(this)},BN.prototype.uxor=function(num){return this.length>num.length?this.clone().iuxor(num):num.clone().iuxor(this)},BN.prototype.inotn=function(width){assert("number"==typeof width&&width>=0);var bytesNeeded=0|Math.ceil(width/26),bitsLeft=width%26;this._expand(bytesNeeded),bitsLeft>0&&bytesNeeded--;for(var i=0;bytesNeeded>i;i++)this.words[i]=67108863&~this.words[i];return bitsLeft>0&&(this.words[i]=~this.words[i]&67108863>>26-bitsLeft),this.strip()},BN.prototype.notn=function(width){return this.clone().inotn(width)},BN.prototype.setn=function(bit,val){assert("number"==typeof bit&&bit>=0);var off=bit/26|0,wbit=bit%26;return this._expand(off+1),val?this.words[off]=this.words[off]|1<<wbit:this.words[off]=this.words[off]&~(1<<wbit),this.strip()},BN.prototype.iadd=function(num){var r;if(0!==this.negative&&0===num.negative)return this.negative=0,r=this.isub(num),this.negative^=1,this._normSign();if(0===this.negative&&0!==num.negative)return num.negative=0,r=this.isub(num),num.negative=1,r._normSign();var a,b;this.length>num.length?(a=this,b=num):(a=num,b=this);for(var carry=0,i=0;i<b.length;i++)r=(0|a.words[i])+(0|b.words[i])+carry,this.words[i]=67108863&r,carry=r>>>26;for(;0!==carry&&i<a.length;i++)r=(0|a.words[i])+carry,this.words[i]=67108863&r,carry=r>>>26;if(this.length=a.length,0!==carry)this.words[this.length]=carry,this.length++;else if(a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this},BN.prototype.add=function(num){var res;return 0!==num.negative&&0===this.negative?(num.negative=0,res=this.sub(num),num.negative^=1,res):0===num.negative&&0!==this.negative?(this.negative=0,res=num.sub(this),this.negative=1,res):this.length>num.length?this.clone().iadd(num):num.clone().iadd(this)},BN.prototype.isub=function(num){if(0!==num.negative){num.negative=0;var r=this.iadd(num);return num.negative=1,r._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(num),this.negative=1,this._normSign();var cmp=this.cmp(num);if(0===cmp)return this.negative=0,this.length=1,this.words[0]=0,this;var a,b;cmp>0?(a=this,b=num):(a=num,b=this);for(var carry=0,i=0;i<b.length;i++)r=(0|a.words[i])-(0|b.words[i])+carry,carry=r>>26,this.words[i]=67108863&r;for(;0!==carry&&i<a.length;i++)r=(0|a.words[i])+carry,carry=r>>26,this.words[i]=67108863&r;if(0===carry&&i<a.length&&a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=Math.max(this.length,i),a!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function(num){return this.clone().isub(num)};var comb10MulTo=function(self,num,out){var lo,mid,hi,a=self.words,b=num.words,o=out.words,c=0,a0=0|a[0],al0=8191&a0,ah0=a0>>>13,a1=0|a[1],al1=8191&a1,ah1=a1>>>13,a2=0|a[2],al2=8191&a2,ah2=a2>>>13,a3=0|a[3],al3=8191&a3,ah3=a3>>>13,a4=0|a[4],al4=8191&a4,ah4=a4>>>13,a5=0|a[5],al5=8191&a5,ah5=a5>>>13,a6=0|a[6],al6=8191&a6,ah6=a6>>>13,a7=0|a[7],al7=8191&a7,ah7=a7>>>13,a8=0|a[8],al8=8191&a8,ah8=a8>>>13,a9=0|a[9],al9=8191&a9,ah9=a9>>>13,b0=0|b[0],bl0=8191&b0,bh0=b0>>>13,b1=0|b[1],bl1=8191&b1,bh1=b1>>>13,b2=0|b[2],bl2=8191&b2,bh2=b2>>>13,b3=0|b[3],bl3=8191&b3,bh3=b3>>>13,b4=0|b[4],bl4=8191&b4,bh4=b4>>>13,b5=0|b[5],bl5=8191&b5,bh5=b5>>>13,b6=0|b[6],bl6=8191&b6,bh6=b6>>>13,b7=0|b[7],bl7=8191&b7,bh7=b7>>>13,b8=0|b[8],bl8=8191&b8,bh8=b8>>>13,b9=0|b[9],bl9=8191&b9,bh9=b9>>>13;out.negative=self.negative^num.negative,out.length=19,lo=Math.imul(al0,bl0),mid=Math.imul(al0,bh0),mid=mid+Math.imul(ah0,bl0)|0,hi=Math.imul(ah0,bh0);var w0=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w0>>>26)|0,w0&=67108863,lo=Math.imul(al1,bl0),mid=Math.imul(al1,bh0),mid=mid+Math.imul(ah1,bl0)|0,hi=Math.imul(ah1,bh0),lo=lo+Math.imul(al0,bl1)|0,mid=mid+Math.imul(al0,bh1)|0,mid=mid+Math.imul(ah0,bl1)|0,hi=hi+Math.imul(ah0,bh1)|0;var w1=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w1>>>26)|0,w1&=67108863,lo=Math.imul(al2,bl0),mid=Math.imul(al2,bh0),mid=mid+Math.imul(ah2,bl0)|0,hi=Math.imul(ah2,bh0),lo=lo+Math.imul(al1,bl1)|0,mid=mid+Math.imul(al1,bh1)|0,mid=mid+Math.imul(ah1,bl1)|0,hi=hi+Math.imul(ah1,bh1)|0,lo=lo+Math.imul(al0,bl2)|0,mid=mid+Math.imul(al0,bh2)|0,mid=mid+Math.imul(ah0,bl2)|0,hi=hi+Math.imul(ah0,bh2)|0;var w2=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w2>>>26)|0,w2&=67108863,lo=Math.imul(al3,bl0),mid=Math.imul(al3,bh0),mid=mid+Math.imul(ah3,bl0)|0,hi=Math.imul(ah3,bh0),lo=lo+Math.imul(al2,bl1)|0,mid=mid+Math.imul(al2,bh1)|0,mid=mid+Math.imul(ah2,bl1)|0,hi=hi+Math.imul(ah2,bh1)|0,lo=lo+Math.imul(al1,bl2)|0,mid=mid+Math.imul(al1,bh2)|0,mid=mid+Math.imul(ah1,bl2)|0,hi=hi+Math.imul(ah1,bh2)|0,lo=lo+Math.imul(al0,bl3)|0,mid=mid+Math.imul(al0,bh3)|0,mid=mid+Math.imul(ah0,bl3)|0,hi=hi+Math.imul(ah0,bh3)|0;var w3=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w3>>>26)|0,w3&=67108863,lo=Math.imul(al4,bl0),mid=Math.imul(al4,bh0),mid=mid+Math.imul(ah4,bl0)|0,hi=Math.imul(ah4,bh0),lo=lo+Math.imul(al3,bl1)|0,mid=mid+Math.imul(al3,bh1)|0,mid=mid+Math.imul(ah3,bl1)|0,hi=hi+Math.imul(ah3,bh1)|0,lo=lo+Math.imul(al2,bl2)|0,mid=mid+Math.imul(al2,bh2)|0,mid=mid+Math.imul(ah2,bl2)|0,hi=hi+Math.imul(ah2,bh2)|0,lo=lo+Math.imul(al1,bl3)|0,mid=mid+Math.imul(al1,bh3)|0,mid=mid+Math.imul(ah1,bl3)|0,hi=hi+Math.imul(ah1,bh3)|0,lo=lo+Math.imul(al0,bl4)|0,mid=mid+Math.imul(al0,bh4)|0,mid=mid+Math.imul(ah0,bl4)|0,hi=hi+Math.imul(ah0,bh4)|0;var w4=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w4>>>26)|0,w4&=67108863,lo=Math.imul(al5,bl0),mid=Math.imul(al5,bh0),mid=mid+Math.imul(ah5,bl0)|0,hi=Math.imul(ah5,bh0),lo=lo+Math.imul(al4,bl1)|0,mid=mid+Math.imul(al4,bh1)|0,mid=mid+Math.imul(ah4,bl1)|0,hi=hi+Math.imul(ah4,bh1)|0,lo=lo+Math.imul(al3,bl2)|0,mid=mid+Math.imul(al3,bh2)|0,mid=mid+Math.imul(ah3,bl2)|0,hi=hi+Math.imul(ah3,bh2)|0,lo=lo+Math.imul(al2,bl3)|0,mid=mid+Math.imul(al2,bh3)|0,mid=mid+Math.imul(ah2,bl3)|0,hi=hi+Math.imul(ah2,bh3)|0,lo=lo+Math.imul(al1,bl4)|0,mid=mid+Math.imul(al1,bh4)|0,mid=mid+Math.imul(ah1,bl4)|0,hi=hi+Math.imul(ah1,bh4)|0,lo=lo+Math.imul(al0,bl5)|0,mid=mid+Math.imul(al0,bh5)|0,mid=mid+Math.imul(ah0,bl5)|0,hi=hi+Math.imul(ah0,bh5)|0;var w5=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w5>>>26)|0,w5&=67108863,lo=Math.imul(al6,bl0),mid=Math.imul(al6,bh0),mid=mid+Math.imul(ah6,bl0)|0,hi=Math.imul(ah6,bh0),lo=lo+Math.imul(al5,bl1)|0,mid=mid+Math.imul(al5,bh1)|0,mid=mid+Math.imul(ah5,bl1)|0,hi=hi+Math.imul(ah5,bh1)|0,lo=lo+Math.imul(al4,bl2)|0,mid=mid+Math.imul(al4,bh2)|0,mid=mid+Math.imul(ah4,bl2)|0,hi=hi+Math.imul(ah4,bh2)|0,lo=lo+Math.imul(al3,bl3)|0,mid=mid+Math.imul(al3,bh3)|0,mid=mid+Math.imul(ah3,bl3)|0,hi=hi+Math.imul(ah3,bh3)|0,lo=lo+Math.imul(al2,bl4)|0,mid=mid+Math.imul(al2,bh4)|0,mid=mid+Math.imul(ah2,bl4)|0,hi=hi+Math.imul(ah2,bh4)|0,lo=lo+Math.imul(al1,bl5)|0,mid=mid+Math.imul(al1,bh5)|0,mid=mid+Math.imul(ah1,bl5)|0,hi=hi+Math.imul(ah1,bh5)|0,lo=lo+Math.imul(al0,bl6)|0,mid=mid+Math.imul(al0,bh6)|0,mid=mid+Math.imul(ah0,bl6)|0,hi=hi+Math.imul(ah0,bh6)|0;var w6=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w6>>>26)|0,w6&=67108863,lo=Math.imul(al7,bl0),mid=Math.imul(al7,bh0),mid=mid+Math.imul(ah7,bl0)|0,hi=Math.imul(ah7,bh0),lo=lo+Math.imul(al6,bl1)|0,mid=mid+Math.imul(al6,bh1)|0,mid=mid+Math.imul(ah6,bl1)|0,hi=hi+Math.imul(ah6,bh1)|0,lo=lo+Math.imul(al5,bl2)|0,mid=mid+Math.imul(al5,bh2)|0,mid=mid+Math.imul(ah5,bl2)|0,hi=hi+Math.imul(ah5,bh2)|0,lo=lo+Math.imul(al4,bl3)|0,mid=mid+Math.imul(al4,bh3)|0,mid=mid+Math.imul(ah4,bl3)|0,hi=hi+Math.imul(ah4,bh3)|0,lo=lo+Math.imul(al3,bl4)|0,mid=mid+Math.imul(al3,bh4)|0,mid=mid+Math.imul(ah3,bl4)|0,hi=hi+Math.imul(ah3,bh4)|0,lo=lo+Math.imul(al2,bl5)|0,mid=mid+Math.imul(al2,bh5)|0,mid=mid+Math.imul(ah2,bl5)|0,hi=hi+Math.imul(ah2,bh5)|0,lo=lo+Math.imul(al1,bl6)|0,mid=mid+Math.imul(al1,bh6)|0,mid=mid+Math.imul(ah1,bl6)|0,hi=hi+Math.imul(ah1,bh6)|0,lo=lo+Math.imul(al0,bl7)|0,mid=mid+Math.imul(al0,bh7)|0,mid=mid+Math.imul(ah0,bl7)|0,hi=hi+Math.imul(ah0,bh7)|0;var w7=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w7>>>26)|0,w7&=67108863,lo=Math.imul(al8,bl0),mid=Math.imul(al8,bh0),mid=mid+Math.imul(ah8,bl0)|0,hi=Math.imul(ah8,bh0),lo=lo+Math.imul(al7,bl1)|0,mid=mid+Math.imul(al7,bh1)|0,mid=mid+Math.imul(ah7,bl1)|0,hi=hi+Math.imul(ah7,bh1)|0,lo=lo+Math.imul(al6,bl2)|0,mid=mid+Math.imul(al6,bh2)|0,mid=mid+Math.imul(ah6,bl2)|0,hi=hi+Math.imul(ah6,bh2)|0,lo=lo+Math.imul(al5,bl3)|0,mid=mid+Math.imul(al5,bh3)|0,mid=mid+Math.imul(ah5,bl3)|0,hi=hi+Math.imul(ah5,bh3)|0,lo=lo+Math.imul(al4,bl4)|0,mid=mid+Math.imul(al4,bh4)|0,mid=mid+Math.imul(ah4,bl4)|0,hi=hi+Math.imul(ah4,bh4)|0,lo=lo+Math.imul(al3,bl5)|0,mid=mid+Math.imul(al3,bh5)|0,mid=mid+Math.imul(ah3,bl5)|0,hi=hi+Math.imul(ah3,bh5)|0,lo=lo+Math.imul(al2,bl6)|0,mid=mid+Math.imul(al2,bh6)|0,mid=mid+Math.imul(ah2,bl6)|0,hi=hi+Math.imul(ah2,bh6)|0,lo=lo+Math.imul(al1,bl7)|0,mid=mid+Math.imul(al1,bh7)|0,mid=mid+Math.imul(ah1,bl7)|0,hi=hi+Math.imul(ah1,bh7)|0,lo=lo+Math.imul(al0,bl8)|0,mid=mid+Math.imul(al0,bh8)|0,mid=mid+Math.imul(ah0,bl8)|0,hi=hi+Math.imul(ah0,bh8)|0;var w8=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w8>>>26)|0,w8&=67108863,lo=Math.imul(al9,bl0),mid=Math.imul(al9,bh0),mid=mid+Math.imul(ah9,bl0)|0,hi=Math.imul(ah9,bh0),lo=lo+Math.imul(al8,bl1)|0,mid=mid+Math.imul(al8,bh1)|0,mid=mid+Math.imul(ah8,bl1)|0,hi=hi+Math.imul(ah8,bh1)|0,lo=lo+Math.imul(al7,bl2)|0,mid=mid+Math.imul(al7,bh2)|0,mid=mid+Math.imul(ah7,bl2)|0,hi=hi+Math.imul(ah7,bh2)|0,lo=lo+Math.imul(al6,bl3)|0,mid=mid+Math.imul(al6,bh3)|0,mid=mid+Math.imul(ah6,bl3)|0,hi=hi+Math.imul(ah6,bh3)|0,lo=lo+Math.imul(al5,bl4)|0,mid=mid+Math.imul(al5,bh4)|0,mid=mid+Math.imul(ah5,bl4)|0,hi=hi+Math.imul(ah5,bh4)|0,lo=lo+Math.imul(al4,bl5)|0,mid=mid+Math.imul(al4,bh5)|0,mid=mid+Math.imul(ah4,bl5)|0,hi=hi+Math.imul(ah4,bh5)|0,lo=lo+Math.imul(al3,bl6)|0,mid=mid+Math.imul(al3,bh6)|0,mid=mid+Math.imul(ah3,bl6)|0,hi=hi+Math.imul(ah3,bh6)|0,lo=lo+Math.imul(al2,bl7)|0,mid=mid+Math.imul(al2,bh7)|0,mid=mid+Math.imul(ah2,bl7)|0,hi=hi+Math.imul(ah2,bh7)|0,lo=lo+Math.imul(al1,bl8)|0,mid=mid+Math.imul(al1,bh8)|0,mid=mid+Math.imul(ah1,bl8)|0,hi=hi+Math.imul(ah1,bh8)|0,lo=lo+Math.imul(al0,bl9)|0,mid=mid+Math.imul(al0,bh9)|0,mid=mid+Math.imul(ah0,bl9)|0,hi=hi+Math.imul(ah0,bh9)|0;var w9=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w9>>>26)|0,w9&=67108863,lo=Math.imul(al9,bl1),mid=Math.imul(al9,bh1),mid=mid+Math.imul(ah9,bl1)|0,hi=Math.imul(ah9,bh1),lo=lo+Math.imul(al8,bl2)|0,mid=mid+Math.imul(al8,bh2)|0,mid=mid+Math.imul(ah8,bl2)|0,hi=hi+Math.imul(ah8,bh2)|0,lo=lo+Math.imul(al7,bl3)|0,mid=mid+Math.imul(al7,bh3)|0,mid=mid+Math.imul(ah7,bl3)|0,hi=hi+Math.imul(ah7,bh3)|0,lo=lo+Math.imul(al6,bl4)|0,mid=mid+Math.imul(al6,bh4)|0,mid=mid+Math.imul(ah6,bl4)|0,hi=hi+Math.imul(ah6,bh4)|0,lo=lo+Math.imul(al5,bl5)|0,mid=mid+Math.imul(al5,bh5)|0,mid=mid+Math.imul(ah5,bl5)|0,hi=hi+Math.imul(ah5,bh5)|0,lo=lo+Math.imul(al4,bl6)|0,mid=mid+Math.imul(al4,bh6)|0,mid=mid+Math.imul(ah4,bl6)|0,hi=hi+Math.imul(ah4,bh6)|0,lo=lo+Math.imul(al3,bl7)|0,mid=mid+Math.imul(al3,bh7)|0,mid=mid+Math.imul(ah3,bl7)|0,hi=hi+Math.imul(ah3,bh7)|0,lo=lo+Math.imul(al2,bl8)|0,mid=mid+Math.imul(al2,bh8)|0,mid=mid+Math.imul(ah2,bl8)|0,hi=hi+Math.imul(ah2,bh8)|0,lo=lo+Math.imul(al1,bl9)|0,mid=mid+Math.imul(al1,bh9)|0,mid=mid+Math.imul(ah1,bl9)|0,hi=hi+Math.imul(ah1,bh9)|0;var w10=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w10>>>26)|0,w10&=67108863,lo=Math.imul(al9,bl2),mid=Math.imul(al9,bh2),mid=mid+Math.imul(ah9,bl2)|0,hi=Math.imul(ah9,bh2),lo=lo+Math.imul(al8,bl3)|0,mid=mid+Math.imul(al8,bh3)|0,mid=mid+Math.imul(ah8,bl3)|0,hi=hi+Math.imul(ah8,bh3)|0,lo=lo+Math.imul(al7,bl4)|0,mid=mid+Math.imul(al7,bh4)|0,mid=mid+Math.imul(ah7,bl4)|0,hi=hi+Math.imul(ah7,bh4)|0,lo=lo+Math.imul(al6,bl5)|0,mid=mid+Math.imul(al6,bh5)|0,mid=mid+Math.imul(ah6,bl5)|0,hi=hi+Math.imul(ah6,bh5)|0,lo=lo+Math.imul(al5,bl6)|0,mid=mid+Math.imul(al5,bh6)|0,mid=mid+Math.imul(ah5,bl6)|0,hi=hi+Math.imul(ah5,bh6)|0,lo=lo+Math.imul(al4,bl7)|0,mid=mid+Math.imul(al4,bh7)|0,mid=mid+Math.imul(ah4,bl7)|0,hi=hi+Math.imul(ah4,bh7)|0,lo=lo+Math.imul(al3,bl8)|0,mid=mid+Math.imul(al3,bh8)|0,mid=mid+Math.imul(ah3,bl8)|0,hi=hi+Math.imul(ah3,bh8)|0,lo=lo+Math.imul(al2,bl9)|0,mid=mid+Math.imul(al2,bh9)|0,mid=mid+Math.imul(ah2,bl9)|0,hi=hi+Math.imul(ah2,bh9)|0;var w11=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w11>>>26)|0,w11&=67108863,lo=Math.imul(al9,bl3),mid=Math.imul(al9,bh3),mid=mid+Math.imul(ah9,bl3)|0,hi=Math.imul(ah9,bh3),lo=lo+Math.imul(al8,bl4)|0,mid=mid+Math.imul(al8,bh4)|0,mid=mid+Math.imul(ah8,bl4)|0,hi=hi+Math.imul(ah8,bh4)|0,lo=lo+Math.imul(al7,bl5)|0,mid=mid+Math.imul(al7,bh5)|0,mid=mid+Math.imul(ah7,bl5)|0,hi=hi+Math.imul(ah7,bh5)|0,lo=lo+Math.imul(al6,bl6)|0,mid=mid+Math.imul(al6,bh6)|0,mid=mid+Math.imul(ah6,bl6)|0,hi=hi+Math.imul(ah6,bh6)|0,lo=lo+Math.imul(al5,bl7)|0,mid=mid+Math.imul(al5,bh7)|0,mid=mid+Math.imul(ah5,bl7)|0,hi=hi+Math.imul(ah5,bh7)|0,lo=lo+Math.imul(al4,bl8)|0,mid=mid+Math.imul(al4,bh8)|0,mid=mid+Math.imul(ah4,bl8)|0,hi=hi+Math.imul(ah4,bh8)|0,lo=lo+Math.imul(al3,bl9)|0,mid=mid+Math.imul(al3,bh9)|0,mid=mid+Math.imul(ah3,bl9)|0,hi=hi+Math.imul(ah3,bh9)|0;var w12=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w12>>>26)|0,w12&=67108863,lo=Math.imul(al9,bl4),mid=Math.imul(al9,bh4),mid=mid+Math.imul(ah9,bl4)|0,hi=Math.imul(ah9,bh4),lo=lo+Math.imul(al8,bl5)|0,mid=mid+Math.imul(al8,bh5)|0,mid=mid+Math.imul(ah8,bl5)|0,hi=hi+Math.imul(ah8,bh5)|0,lo=lo+Math.imul(al7,bl6)|0,mid=mid+Math.imul(al7,bh6)|0,mid=mid+Math.imul(ah7,bl6)|0,hi=hi+Math.imul(ah7,bh6)|0,lo=lo+Math.imul(al6,bl7)|0,mid=mid+Math.imul(al6,bh7)|0,mid=mid+Math.imul(ah6,bl7)|0,hi=hi+Math.imul(ah6,bh7)|0,lo=lo+Math.imul(al5,bl8)|0,mid=mid+Math.imul(al5,bh8)|0,mid=mid+Math.imul(ah5,bl8)|0,hi=hi+Math.imul(ah5,bh8)|0,lo=lo+Math.imul(al4,bl9)|0,mid=mid+Math.imul(al4,bh9)|0,mid=mid+Math.imul(ah4,bl9)|0,hi=hi+Math.imul(ah4,bh9)|0;var w13=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w13>>>26)|0,w13&=67108863,lo=Math.imul(al9,bl5),mid=Math.imul(al9,bh5),mid=mid+Math.imul(ah9,bl5)|0,hi=Math.imul(ah9,bh5),lo=lo+Math.imul(al8,bl6)|0,mid=mid+Math.imul(al8,bh6)|0,mid=mid+Math.imul(ah8,bl6)|0,hi=hi+Math.imul(ah8,bh6)|0,lo=lo+Math.imul(al7,bl7)|0,mid=mid+Math.imul(al7,bh7)|0,mid=mid+Math.imul(ah7,bl7)|0,hi=hi+Math.imul(ah7,bh7)|0,lo=lo+Math.imul(al6,bl8)|0,mid=mid+Math.imul(al6,bh8)|0,mid=mid+Math.imul(ah6,bl8)|0,hi=hi+Math.imul(ah6,bh8)|0,lo=lo+Math.imul(al5,bl9)|0,mid=mid+Math.imul(al5,bh9)|0,mid=mid+Math.imul(ah5,bl9)|0,hi=hi+Math.imul(ah5,bh9)|0;var w14=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w14>>>26)|0,w14&=67108863,lo=Math.imul(al9,bl6),mid=Math.imul(al9,bh6),mid=mid+Math.imul(ah9,bl6)|0,hi=Math.imul(ah9,bh6),lo=lo+Math.imul(al8,bl7)|0,mid=mid+Math.imul(al8,bh7)|0,mid=mid+Math.imul(ah8,bl7)|0,hi=hi+Math.imul(ah8,bh7)|0,lo=lo+Math.imul(al7,bl8)|0,mid=mid+Math.imul(al7,bh8)|0,mid=mid+Math.imul(ah7,bl8)|0,hi=hi+Math.imul(ah7,bh8)|0,lo=lo+Math.imul(al6,bl9)|0,mid=mid+Math.imul(al6,bh9)|0,mid=mid+Math.imul(ah6,bl9)|0,hi=hi+Math.imul(ah6,bh9)|0;var w15=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w15>>>26)|0,w15&=67108863,lo=Math.imul(al9,bl7),mid=Math.imul(al9,bh7),mid=mid+Math.imul(ah9,bl7)|0,hi=Math.imul(ah9,bh7),lo=lo+Math.imul(al8,bl8)|0,mid=mid+Math.imul(al8,bh8)|0,mid=mid+Math.imul(ah8,bl8)|0,hi=hi+Math.imul(ah8,bh8)|0,lo=lo+Math.imul(al7,bl9)|0,mid=mid+Math.imul(al7,bh9)|0,mid=mid+Math.imul(ah7,bl9)|0,hi=hi+Math.imul(ah7,bh9)|0;var w16=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w16>>>26)|0,w16&=67108863,lo=Math.imul(al9,bl8),mid=Math.imul(al9,bh8),mid=mid+Math.imul(ah9,bl8)|0,hi=Math.imul(ah9,bh8),lo=lo+Math.imul(al8,bl9)|0,mid=mid+Math.imul(al8,bh9)|0,mid=mid+Math.imul(ah8,bl9)|0,hi=hi+Math.imul(ah8,bh9)|0;var w17=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w17>>>26)|0,w17&=67108863,lo=Math.imul(al9,bl9),mid=Math.imul(al9,bh9),mid=mid+Math.imul(ah9,bl9)|0,hi=Math.imul(ah9,bh9);var w18=(c+lo|0)+((8191&mid)<<13)|0;return c=(hi+(mid>>>13)|0)+(w18>>>26)|0,w18&=67108863,o[0]=w0,o[1]=w1,o[2]=w2,o[3]=w3,o[4]=w4,o[5]=w5,o[6]=w6,o[7]=w7,o[8]=w8,o[9]=w9,o[10]=w10,o[11]=w11,o[12]=w12,o[13]=w13,o[14]=w14,o[15]=w15,o[16]=w16,o[17]=w17,o[18]=w18,0!==c&&(o[19]=c,out.length++),out};Math.imul||(comb10MulTo=smallMulTo),BN.prototype.mulTo=function(num,out){var res,len=this.length+num.length;return res=10===this.length&&10===num.length?comb10MulTo(this,num,out):63>len?smallMulTo(this,num,out):1024>len?bigMulTo(this,num,out):jumboMulTo(this,num,out)},FFTM.prototype.makeRBT=function(N){for(var t=new Array(N),l=BN.prototype._countBits(N)-1,i=0;N>i;i++)t[i]=this.revBin(i,l,N);return t},FFTM.prototype.revBin=function(x,l,N){if(0===x||x===N-1)return x;for(var rb=0,i=0;l>i;i++)rb|=(1&x)<<l-i-1,
x>>=1;return rb},FFTM.prototype.permute=function(rbt,rws,iws,rtws,itws,N){for(var i=0;N>i;i++)rtws[i]=rws[rbt[i]],itws[i]=iws[rbt[i]]},FFTM.prototype.transform=function(rws,iws,rtws,itws,N,rbt){this.permute(rbt,rws,iws,rtws,itws,N);for(var s=1;N>s;s<<=1)for(var l=s<<1,rtwdf=Math.cos(2*Math.PI/l),itwdf=Math.sin(2*Math.PI/l),p=0;N>p;p+=l)for(var rtwdf_=rtwdf,itwdf_=itwdf,j=0;s>j;j++){var re=rtws[p+j],ie=itws[p+j],ro=rtws[p+j+s],io=itws[p+j+s],rx=rtwdf_*ro-itwdf_*io;io=rtwdf_*io+itwdf_*ro,ro=rx,rtws[p+j]=re+ro,itws[p+j]=ie+io,rtws[p+j+s]=re-ro,itws[p+j+s]=ie-io,j!==l&&(rx=rtwdf*rtwdf_-itwdf*itwdf_,itwdf_=rtwdf*itwdf_+itwdf*rtwdf_,rtwdf_=rx)}},FFTM.prototype.guessLen13b=function(n,m){var N=1|Math.max(m,n),odd=1&N,i=0;for(N=N/2|0;N;N>>>=1)i++;return 1<<i+1+odd},FFTM.prototype.conjugate=function(rws,iws,N){if(!(1>=N))for(var i=0;N/2>i;i++){var t=rws[i];rws[i]=rws[N-i-1],rws[N-i-1]=t,t=iws[i],iws[i]=-iws[N-i-1],iws[N-i-1]=-t}},FFTM.prototype.normalize13b=function(ws,N){for(var carry=0,i=0;N/2>i;i++){var w=8192*Math.round(ws[2*i+1]/N)+Math.round(ws[2*i]/N)+carry;ws[i]=67108863&w,carry=67108864>w?0:w/67108864|0}return ws},FFTM.prototype.convert13b=function(ws,len,rws,N){for(var carry=0,i=0;len>i;i++)carry+=0|ws[i],rws[2*i]=8191&carry,carry>>>=13,rws[2*i+1]=8191&carry,carry>>>=13;for(i=2*len;N>i;++i)rws[i]=0;assert(0===carry),assert(0===(-8192&carry))},FFTM.prototype.stub=function(N){for(var ph=new Array(N),i=0;N>i;i++)ph[i]=0;return ph},FFTM.prototype.mulp=function(x,y,out){var N=2*this.guessLen13b(x.length,y.length),rbt=this.makeRBT(N),_=this.stub(N),rws=new Array(N),rwst=new Array(N),iwst=new Array(N),nrws=new Array(N),nrwst=new Array(N),niwst=new Array(N),rmws=out.words;rmws.length=N,this.convert13b(x.words,x.length,rws,N),this.convert13b(y.words,y.length,nrws,N),this.transform(rws,_,rwst,iwst,N,rbt),this.transform(nrws,_,nrwst,niwst,N,rbt);for(var i=0;N>i;i++){var rx=rwst[i]*nrwst[i]-iwst[i]*niwst[i];iwst[i]=rwst[i]*niwst[i]+iwst[i]*nrwst[i],rwst[i]=rx}return this.conjugate(rwst,iwst,N),this.transform(rwst,iwst,rmws,_,N,rbt),this.conjugate(rmws,_,N),this.normalize13b(rmws,N),out.negative=x.negative^y.negative,out.length=x.length+y.length,out.strip()},BN.prototype.mul=function(num){var out=new BN(null);return out.words=new Array(this.length+num.length),this.mulTo(num,out)},BN.prototype.mulf=function(num){var out=new BN(null);return out.words=new Array(this.length+num.length),jumboMulTo(this,num,out)},BN.prototype.imul=function(num){return this.clone().mulTo(num,this)},BN.prototype.imuln=function(num){assert("number"==typeof num),assert(67108864>num);for(var carry=0,i=0;i<this.length;i++){var w=(0|this.words[i])*num,lo=(67108863&w)+(67108863&carry);carry>>=26,carry+=w/67108864|0,carry+=lo>>>26,this.words[i]=67108863&lo}return 0!==carry&&(this.words[i]=carry,this.length++),this},BN.prototype.muln=function(num){return this.clone().imuln(num)},BN.prototype.sqr=function(){return this.mul(this)},BN.prototype.isqr=function(){return this.imul(this.clone())},BN.prototype.pow=function(num){var w=toBitArray(num);if(0===w.length)return new BN(1);for(var res=this,i=0;i<w.length&&0===w[i];i++,res=res.sqr());if(++i<w.length)for(var q=res.sqr();i<w.length;i++,q=q.sqr())0!==w[i]&&(res=res.mul(q));return res},BN.prototype.iushln=function(bits){assert("number"==typeof bits&&bits>=0);var i,r=bits%26,s=(bits-r)/26,carryMask=67108863>>>26-r<<26-r;if(0!==r){var carry=0;for(i=0;i<this.length;i++){var newCarry=this.words[i]&carryMask,c=(0|this.words[i])-newCarry<<r;this.words[i]=c|carry,carry=newCarry>>>26-r}carry&&(this.words[i]=carry,this.length++)}if(0!==s){for(i=this.length-1;i>=0;i--)this.words[i+s]=this.words[i];for(i=0;s>i;i++)this.words[i]=0;this.length+=s}return this.strip()},BN.prototype.ishln=function(bits){return assert(0===this.negative),this.iushln(bits)},BN.prototype.iushrn=function(bits,hint,extended){assert("number"==typeof bits&&bits>=0);var h;h=hint?(hint-hint%26)/26:0;var r=bits%26,s=Math.min((bits-r)/26,this.length),mask=67108863^67108863>>>r<<r,maskedWords=extended;if(h-=s,h=Math.max(0,h),maskedWords){for(var i=0;s>i;i++)maskedWords.words[i]=this.words[i];maskedWords.length=s}if(0===s);else if(this.length>s)for(this.length-=s,i=0;i<this.length;i++)this.words[i]=this.words[i+s];else this.words[0]=0,this.length=1;var carry=0;for(i=this.length-1;i>=0&&(0!==carry||i>=h);i--){var word=0|this.words[i];this.words[i]=carry<<26-r|word>>>r,carry=word&mask}return maskedWords&&0!==carry&&(maskedWords.words[maskedWords.length++]=carry),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function(bits,hint,extended){return assert(0===this.negative),this.iushrn(bits,hint,extended)},BN.prototype.shln=function(bits){return this.clone().ishln(bits)},BN.prototype.ushln=function(bits){return this.clone().iushln(bits)},BN.prototype.shrn=function(bits){return this.clone().ishrn(bits)},BN.prototype.ushrn=function(bits){return this.clone().iushrn(bits)},BN.prototype.testn=function(bit){assert("number"==typeof bit&&bit>=0);var r=bit%26,s=(bit-r)/26,q=1<<r;if(this.length<=s)return!1;var w=this.words[s];return!!(w&q)},BN.prototype.imaskn=function(bits){assert("number"==typeof bits&&bits>=0);var r=bits%26,s=(bits-r)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=s)return this;if(0!==r&&s++,this.length=Math.min(s,this.length),0!==r){var mask=67108863^67108863>>>r<<r;this.words[this.length-1]&=mask}return this.strip()},BN.prototype.maskn=function(bits){return this.clone().imaskn(bits)},BN.prototype.iaddn=function(num){return assert("number"==typeof num),assert(67108864>num),0>num?this.isubn(-num):0!==this.negative?1===this.length&&(0|this.words[0])<num?(this.words[0]=num-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(num),this.negative=1,this):this._iaddn(num)},BN.prototype._iaddn=function(num){this.words[0]+=num;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},BN.prototype.isubn=function(num){if(assert("number"==typeof num),assert(67108864>num),0>num)return this.iaddn(-num);if(0!==this.negative)return this.negative=0,this.iaddn(num),this.negative=1,this;if(this.words[0]-=num,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},BN.prototype.addn=function(num){return this.clone().iaddn(num)},BN.prototype.subn=function(num){return this.clone().isubn(num)},BN.prototype.iabs=function(){return this.negative=0,this},BN.prototype.abs=function(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function(num,mul,shift){var i,len=num.length+shift;this._expand(len);var w,carry=0;for(i=0;i<num.length;i++){w=(0|this.words[i+shift])+carry;var right=(0|num.words[i])*mul;w-=67108863&right,carry=(w>>26)-(right/67108864|0),this.words[i+shift]=67108863&w}for(;i<this.length-shift;i++)w=(0|this.words[i+shift])+carry,carry=w>>26,this.words[i+shift]=67108863&w;if(0===carry)return this.strip();for(assert(-1===carry),carry=0,i=0;i<this.length;i++)w=-(0|this.words[i])+carry,carry=w>>26,this.words[i]=67108863&w;return this.negative=1,this.strip()},BN.prototype._wordDiv=function(num,mode){var shift=this.length-num.length,a=this.clone(),b=num,bhi=0|b.words[b.length-1],bhiBits=this._countBits(bhi);shift=26-bhiBits,0!==shift&&(b=b.ushln(shift),a.iushln(shift),bhi=0|b.words[b.length-1]);var q,m=a.length-b.length;if("mod"!==mode){q=new BN(null),q.length=m+1,q.words=new Array(q.length);for(var i=0;i<q.length;i++)q.words[i]=0}var diff=a.clone()._ishlnsubmul(b,1,m);0===diff.negative&&(a=diff,q&&(q.words[m]=1));for(var j=m-1;j>=0;j--){var qj=67108864*(0|a.words[b.length+j])+(0|a.words[b.length+j-1]);for(qj=Math.min(qj/bhi|0,67108863),a._ishlnsubmul(b,qj,j);0!==a.negative;)qj--,a.negative=0,a._ishlnsubmul(b,1,j),a.isZero()||(a.negative^=1);q&&(q.words[j]=qj)}return q&&q.strip(),a.strip(),"div"!==mode&&0!==shift&&a.iushrn(shift),{div:q||null,mod:a}},BN.prototype.divmod=function(num,mode,positive){if(assert(!num.isZero()),this.isZero())return{div:new BN(0),mod:new BN(0)};var div,mod,res;return 0!==this.negative&&0===num.negative?(res=this.neg().divmod(num,mode),"mod"!==mode&&(div=res.div.neg()),"div"!==mode&&(mod=res.mod.neg(),positive&&0!==mod.negative&&mod.iadd(num)),{div:div,mod:mod}):0===this.negative&&0!==num.negative?(res=this.divmod(num.neg(),mode),"mod"!==mode&&(div=res.div.neg()),{div:div,mod:res.mod}):0!==(this.negative&num.negative)?(res=this.neg().divmod(num.neg(),mode),"div"!==mode&&(mod=res.mod.neg(),positive&&0!==mod.negative&&mod.isub(num)),{div:res.div,mod:mod}):num.length>this.length||this.cmp(num)<0?{div:new BN(0),mod:this}:1===num.length?"div"===mode?{div:this.divn(num.words[0]),mod:null}:"mod"===mode?{div:null,mod:new BN(this.modn(num.words[0]))}:{div:this.divn(num.words[0]),mod:new BN(this.modn(num.words[0]))}:this._wordDiv(num,mode)},BN.prototype.div=function(num){return this.divmod(num,"div",!1).div},BN.prototype.mod=function(num){return this.divmod(num,"mod",!1).mod},BN.prototype.umod=function(num){return this.divmod(num,"mod",!0).mod},BN.prototype.divRound=function(num){var dm=this.divmod(num);if(dm.mod.isZero())return dm.div;var mod=0!==dm.div.negative?dm.mod.isub(num):dm.mod,half=num.ushrn(1),r2=num.andln(1),cmp=mod.cmp(half);return 0>cmp||1===r2&&0===cmp?dm.div:0!==dm.div.negative?dm.div.isubn(1):dm.div.iaddn(1)},BN.prototype.modn=function(num){assert(67108863>=num);for(var p=(1<<26)%num,acc=0,i=this.length-1;i>=0;i--)acc=(p*acc+(0|this.words[i]))%num;return acc},BN.prototype.idivn=function(num){assert(67108863>=num);for(var carry=0,i=this.length-1;i>=0;i--){var w=(0|this.words[i])+67108864*carry;this.words[i]=w/num|0,carry=w%num}return this.strip()},BN.prototype.divn=function(num){return this.clone().idivn(num)},BN.prototype.egcd=function(p){assert(0===p.negative),assert(!p.isZero());var x=this,y=p.clone();x=0!==x.negative?x.umod(p):x.clone();for(var A=new BN(1),B=new BN(0),C=new BN(0),D=new BN(1),g=0;x.isEven()&&y.isEven();)x.iushrn(1),y.iushrn(1),++g;for(var yp=y.clone(),xp=x.clone();!x.isZero();){for(var i=0,im=1;0===(x.words[0]&im)&&26>i;++i,im<<=1);if(i>0)for(x.iushrn(i);i-->0;)(A.isOdd()||B.isOdd())&&(A.iadd(yp),B.isub(xp)),A.iushrn(1),B.iushrn(1);for(var j=0,jm=1;0===(y.words[0]&jm)&&26>j;++j,jm<<=1);if(j>0)for(y.iushrn(j);j-->0;)(C.isOdd()||D.isOdd())&&(C.iadd(yp),D.isub(xp)),C.iushrn(1),D.iushrn(1);x.cmp(y)>=0?(x.isub(y),A.isub(C),B.isub(D)):(y.isub(x),C.isub(A),D.isub(B))}return{a:C,b:D,gcd:y.iushln(g)}},BN.prototype._invmp=function(p){assert(0===p.negative),assert(!p.isZero());var a=this,b=p.clone();a=0!==a.negative?a.umod(p):a.clone();for(var x1=new BN(1),x2=new BN(0),delta=b.clone();a.cmpn(1)>0&&b.cmpn(1)>0;){for(var i=0,im=1;0===(a.words[0]&im)&&26>i;++i,im<<=1);if(i>0)for(a.iushrn(i);i-->0;)x1.isOdd()&&x1.iadd(delta),x1.iushrn(1);for(var j=0,jm=1;0===(b.words[0]&jm)&&26>j;++j,jm<<=1);if(j>0)for(b.iushrn(j);j-->0;)x2.isOdd()&&x2.iadd(delta),x2.iushrn(1);a.cmp(b)>=0?(a.isub(b),x1.isub(x2)):(b.isub(a),x2.isub(x1))}var res;return res=0===a.cmpn(1)?x1:x2,res.cmpn(0)<0&&res.iadd(p),res},BN.prototype.gcd=function(num){if(this.isZero())return num.abs();if(num.isZero())return this.abs();var a=this.clone(),b=num.clone();a.negative=0,b.negative=0;for(var shift=0;a.isEven()&&b.isEven();shift++)a.iushrn(1),b.iushrn(1);for(;;){for(;a.isEven();)a.iushrn(1);for(;b.isEven();)b.iushrn(1);var r=a.cmp(b);if(0>r){var t=a;a=b,b=t}else if(0===r||0===b.cmpn(1))break;a.isub(b)}return b.iushln(shift)},BN.prototype.invm=function(num){return this.egcd(num).a.umod(num)},BN.prototype.isEven=function(){return 0===(1&this.words[0])},BN.prototype.isOdd=function(){return 1===(1&this.words[0])},BN.prototype.andln=function(num){return this.words[0]&num},BN.prototype.bincn=function(bit){assert("number"==typeof bit);var r=bit%26,s=(bit-r)/26,q=1<<r;if(this.length<=s)return this._expand(s+1),this.words[s]|=q,this;for(var carry=q,i=s;0!==carry&&i<this.length;i++){var w=0|this.words[i];w+=carry,carry=w>>>26,w&=67108863,this.words[i]=w}return 0!==carry&&(this.words[i]=carry,this.length++),this},BN.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function(num){var negative=0>num;if(0!==this.negative&&!negative)return-1;if(0===this.negative&&negative)return 1;this.strip();var res;if(this.length>1)res=1;else{negative&&(num=-num),assert(67108863>=num,"Number is too big");var w=0|this.words[0];res=w===num?0:num>w?-1:1}return 0!==this.negative?0|-res:res},BN.prototype.cmp=function(num){if(0!==this.negative&&0===num.negative)return-1;if(0===this.negative&&0!==num.negative)return 1;var res=this.ucmp(num);return 0!==this.negative?0|-res:res},BN.prototype.ucmp=function(num){if(this.length>num.length)return 1;if(this.length<num.length)return-1;for(var res=0,i=this.length-1;i>=0;i--){var a=0|this.words[i],b=0|num.words[i];if(a!==b){b>a?res=-1:a>b&&(res=1);break}}return res},BN.prototype.gtn=function(num){return 1===this.cmpn(num)},BN.prototype.gt=function(num){return 1===this.cmp(num)},BN.prototype.gten=function(num){return this.cmpn(num)>=0},BN.prototype.gte=function(num){return this.cmp(num)>=0},BN.prototype.ltn=function(num){return-1===this.cmpn(num)},BN.prototype.lt=function(num){return-1===this.cmp(num)},BN.prototype.lten=function(num){return this.cmpn(num)<=0},BN.prototype.lte=function(num){return this.cmp(num)<=0},BN.prototype.eqn=function(num){return 0===this.cmpn(num)},BN.prototype.eq=function(num){return 0===this.cmp(num)},BN.red=function(num){return new Red(num)},BN.prototype.toRed=function(ctx){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),ctx.convertTo(this)._forceRed(ctx)},BN.prototype.fromRed=function(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function(ctx){return this.red=ctx,this},BN.prototype.forceRed=function(ctx){return assert(!this.red,"Already a number in reduction context"),this._forceRed(ctx)},BN.prototype.redAdd=function(num){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,num)},BN.prototype.redIAdd=function(num){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,num)},BN.prototype.redSub=function(num){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,num)},BN.prototype.redISub=function(num){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,num)},BN.prototype.redShl=function(num){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,num)},BN.prototype.redMul=function(num){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,num),this.red.mul(this,num)},BN.prototype.redIMul=function(num){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,num),this.red.imul(this,num)},BN.prototype.redSqr=function(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function(num){return assert(this.red&&!num.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,num)};var primes={k256:null,p224:null,p192:null,p25519:null};MPrime.prototype._tmp=function(){var tmp=new BN(null);return tmp.words=new Array(Math.ceil(this.n/13)),tmp},MPrime.prototype.ireduce=function(num){var rlen,r=num;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),rlen=r.bitLength();while(rlen>this.n);var cmp=rlen<this.n?-1:r.ucmp(this.p);return 0===cmp?(r.words[0]=0,r.length=1):cmp>0?r.isub(this.p):r.strip(),r},MPrime.prototype.split=function(input,out){input.iushrn(this.n,0,out)},MPrime.prototype.imulK=function(num){return num.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function(input,output){for(var mask=4194303,outLen=Math.min(input.length,9),i=0;outLen>i;i++)output.words[i]=input.words[i];if(output.length=outLen,input.length<=9)return input.words[0]=0,void(input.length=1);var prev=input.words[9];for(output.words[output.length++]=prev&mask,i=10;i<input.length;i++){var next=0|input.words[i];input.words[i-10]=(next&mask)<<4|prev>>>22,prev=next}prev>>>=22,input.words[i-10]=prev,0===prev&&input.length>10?input.length-=10:input.length-=9},K256.prototype.imulK=function(num){num.words[num.length]=0,num.words[num.length+1]=0,num.length+=2;for(var lo=0,i=0;i<num.length;i++){var w=0|num.words[i];lo+=977*w,num.words[i]=67108863&lo,lo=64*w+(lo/67108864|0)}return 0===num.words[num.length-1]&&(num.length--,0===num.words[num.length-1]&&num.length--),num},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function(num){for(var carry=0,i=0;i<num.length;i++){var hi=19*(0|num.words[i])+carry,lo=67108863&hi;hi>>>=26,num.words[i]=lo,carry=hi}return 0!==carry&&(num.words[num.length++]=carry),num},BN._prime=function prime(name){if(primes[name])return primes[name];var prime;if("k256"===name)prime=new K256;else if("p224"===name)prime=new P224;else if("p192"===name)prime=new P192;else{if("p25519"!==name)throw new Error("Unknown prime "+name);prime=new P25519}return primes[name]=prime,prime},Red.prototype._verify1=function(a){assert(0===a.negative,"red works only with positives"),assert(a.red,"red works only with red numbers")},Red.prototype._verify2=function(a,b){assert(0===(a.negative|b.negative),"red works only with positives"),assert(a.red&&a.red===b.red,"red works only with red numbers")},Red.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Red.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Red.prototype.add=function(a,b){this._verify2(a,b);var res=a.add(b);return res.cmp(this.m)>=0&&res.isub(this.m),res._forceRed(this)},Red.prototype.iadd=function(a,b){this._verify2(a,b);var res=a.iadd(b);return res.cmp(this.m)>=0&&res.isub(this.m),res},Red.prototype.sub=function(a,b){this._verify2(a,b);var res=a.sub(b);return res.cmpn(0)<0&&res.iadd(this.m),res._forceRed(this)},Red.prototype.isub=function(a,b){this._verify2(a,b);var res=a.isub(b);return res.cmpn(0)<0&&res.iadd(this.m),res},Red.prototype.shl=function(a,num){return this._verify1(a),this.imod(a.ushln(num))},Red.prototype.imul=function(a,b){return this._verify2(a,b),this.imod(a.imul(b))},Red.prototype.mul=function(a,b){return this._verify2(a,b),this.imod(a.mul(b))},Red.prototype.isqr=function(a){return this.imul(a,a.clone())},Red.prototype.sqr=function(a){return this.mul(a,a)},Red.prototype.sqrt=function(a){if(a.isZero())return a.clone();var mod3=this.m.andln(3);if(assert(mod3%2===1),3===mod3){var pow=this.m.add(new BN(1)).iushrn(2);return this.pow(a,pow)}for(var q=this.m.subn(1),s=0;!q.isZero()&&0===q.andln(1);)s++,q.iushrn(1);assert(!q.isZero());var one=new BN(1).toRed(this),nOne=one.redNeg(),lpow=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=new BN(2*z*z).toRed(this);0!==this.pow(z,lpow).cmp(nOne);)z.redIAdd(nOne);for(var c=this.pow(z,q),r=this.pow(a,q.addn(1).iushrn(1)),t=this.pow(a,q),m=s;0!==t.cmp(one);){for(var tmp=t,i=0;0!==tmp.cmp(one);i++)tmp=tmp.redSqr();assert(m>i);var b=this.pow(c,new BN(1).iushln(m-i-1));r=r.redMul(b),c=b.redSqr(),t=t.redMul(c),m=i}return r},Red.prototype.invm=function(a){var inv=a._invmp(this.m);return 0!==inv.negative?(inv.negative=0,this.imod(inv).redNeg()):this.imod(inv)},Red.prototype.pow=function(a,num){if(num.isZero())return new BN(1);if(0===num.cmpn(1))return a.clone();var windowSize=4,wnd=new Array(1<<windowSize);wnd[0]=new BN(1).toRed(this),wnd[1]=a;for(var i=2;i<wnd.length;i++)wnd[i]=this.mul(wnd[i-1],a);var res=wnd[0],current=0,currentLen=0,start=num.bitLength()%26;for(0===start&&(start=26),i=num.length-1;i>=0;i--){for(var word=num.words[i],j=start-1;j>=0;j--){var bit=word>>j&1;res!==wnd[0]&&(res=this.sqr(res)),0!==bit||0!==current?(current<<=1,current|=bit,currentLen++,(currentLen===windowSize||0===i&&0===j)&&(res=this.mul(res,wnd[current]),currentLen=0,current=0)):currentLen=0}start=26}return res},Red.prototype.convertTo=function(num){var r=num.umod(this.m);return r===num?r.clone():r},Red.prototype.convertFrom=function(num){var res=num.clone();return res.red=null,res},BN.mont=function(num){return new Mont(num)},inherits(Mont,Red),Mont.prototype.convertTo=function(num){return this.imod(num.ushln(this.shift))},Mont.prototype.convertFrom=function(num){var r=this.imod(num.mul(this.rinv));return r.red=null,r},Mont.prototype.imul=function(a,b){if(a.isZero()||b.isZero())return a.words[0]=0,a.length=1,a;var t=a.imul(b),c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(c).iushrn(this.shift),res=u;return u.cmp(this.m)>=0?res=u.isub(this.m):u.cmpn(0)<0&&(res=u.iadd(this.m)),res._forceRed(this)},Mont.prototype.mul=function(a,b){if(a.isZero()||b.isZero())return new BN(0)._forceRed(this);var t=a.mul(b),c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(c).iushrn(this.shift),res=u;return u.cmp(this.m)>=0?res=u.isub(this.m):u.cmpn(0)<0&&(res=u.iadd(this.m)),res._forceRed(this)},Mont.prototype.invm=function(a){var res=this.imod(a._invmp(this.m).mul(this.r2));return res._forceRed(this)}}("undefined"==typeof module||module,this)},{}],23:[function(require,module,exports){function numeric(str){return parseInt(str,10)==str?parseInt(str,10):str.charCodeAt(0)}function escapeBraces(str){return str.split("\\\\").join(escSlash).split("\\{").join(escOpen).split("\\}").join(escClose).split("\\,").join(escComma).split("\\.").join(escPeriod)}function unescapeBraces(str){return str.split(escSlash).join("\\").split(escOpen).join("{").split(escClose).join("}").split(escComma).join(",").split(escPeriod).join(".")}function parseCommaParts(str){if(!str)return[""];var parts=[],m=balanced("{","}",str);if(!m)return str.split(",");var pre=m.pre,body=m.body,post=m.post,p=pre.split(",");p[p.length-1]+="{"+body+"}";var postParts=parseCommaParts(post);return post.length&&(p[p.length-1]+=postParts.shift(),p.push.apply(p,postParts)),parts.push.apply(parts,p),parts}function expandTop(str){return str?("{}"===str.substr(0,2)&&(str="\\{\\}"+str.substr(2)),expand(escapeBraces(str),!0).map(unescapeBraces)):[]}function embrace(str){return"{"+str+"}"}function isPadded(el){return/^-?0\d/.test(el)}function lte(i,y){return y>=i}function gte(i,y){return i>=y}function expand(str,isTop){var expansions=[],m=balanced("{","}",str);if(!m||/\$$/.test(m.pre))return[str];var isNumericSequence=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(m.body),isAlphaSequence=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(m.body),isSequence=isNumericSequence||isAlphaSequence,isOptions=/^(.*,)+(.+)?$/.test(m.body);if(!isSequence&&!isOptions)return m.post.match(/,.*\}/)?(str=m.pre+"{"+m.body+escClose+m.post,expand(str)):[str];var n;if(isSequence)n=m.body.split(/\.\./);else if(n=parseCommaParts(m.body),1===n.length&&(n=expand(n[0],!1).map(embrace),1===n.length)){var post=m.post.length?expand(m.post,!1):[""];return post.map(function(p){return m.pre+n[0]+p})}var N,pre=m.pre,post=m.post.length?expand(m.post,!1):[""];if(isSequence){var x=numeric(n[0]),y=numeric(n[1]),width=Math.max(n[0].length,n[1].length),incr=3==n.length?Math.abs(numeric(n[2])):1,test=lte,reverse=x>y;reverse&&(incr*=-1,test=gte);var pad=n.some(isPadded);N=[];for(var i=x;test(i,y);i+=incr){var c;if(isAlphaSequence)c=String.fromCharCode(i),"\\"===c&&(c="");else if(c=String(i),pad){var need=width-c.length;if(need>0){var z=new Array(need+1).join("0");c=0>i?"-"+z+c.slice(1):z+c}}N.push(c)}}else N=concatMap(n,function(el){return expand(el,!1)});for(var j=0;j<N.length;j++)for(var k=0;k<post.length;k++){var expansion=pre+N[j]+post[k];(!isTop||isSequence||expansion)&&expansions.push(expansion)}return expansions}var concatMap=require("concat-map"),balanced=require("balanced-match");module.exports=expandTop;var escSlash="\x00SLASH"+Math.random()+"\x00",escOpen="\x00OPEN"+Math.random()+"\x00",escClose="\x00CLOSE"+Math.random()+"\x00",escComma="\x00COMMA"+Math.random()+"\x00",escPeriod="\x00PERIOD"+Math.random()+"\x00"},{"balanced-match":20,"concat-map":106}],24:[function(require,module,exports){function Rand(rand){this.rand=rand}var r;if(module.exports=function(len){return r||(r=new Rand(null)),r.generate(len)},module.exports.Rand=Rand,Rand.prototype.generate=function(len){return this._rand(len)},"object"==typeof window)window.crypto&&window.crypto.getRandomValues?Rand.prototype._rand=function(n){var arr=new Uint8Array(n);return window.crypto.getRandomValues(arr),arr}:window.msCrypto&&window.msCrypto.getRandomValues?Rand.prototype._rand=function(n){var arr=new Uint8Array(n);return window.msCrypto.getRandomValues(arr),arr}:Rand.prototype._rand=function(){throw new Error("Not implemented yet")};else try{var crypto=require("crypto");Rand.prototype._rand=function(n){return crypto.randomBytes(n)}}catch(e){Rand.prototype._rand=function(n){for(var res=new Uint8Array(n),i=0;i<res.length;i++)res[i]=this.rand.getByte();return res}}},{crypto:25}],25:[function(require,module,exports){},{}],26:[function(require,module,exports){(function(Buffer){function fixup_uint32(x){var ret,x_pos;return ret=x>uint_max||0>x?(x_pos=Math.abs(x)%uint_max,0>x?uint_max-x_pos:x_pos):x}function scrub_vec(v){for(var i=0;i<v.length;v++)v[i]=0;return!1}function Global(){this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=[[],[],[],[]],this.INV_SUB_MIX=[[],[],[],[]],this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function bufferToArray(buf){for(var len=buf.length/4,out=new Array(len),i=-1;++i<len;)out[i]=buf.readUInt32BE(4*i);return out}function AES(key){this._key=bufferToArray(key),this._doReset()}var uint_max=Math.pow(2,32);Global.prototype.init=function(){var d,i,sx,t,x,x2,x4,x8,xi,_i;for(d=function(){var _i,_results;for(_results=[],i=_i=0;256>_i;i=++_i)128>i?_results.push(i<<1):_results.push(i<<1^283);return _results}(),x=0,xi=0,i=_i=0;256>_i;i=++_i)sx=xi^xi<<1^xi<<2^xi<<3^xi<<4,sx=sx>>>8^255&sx^99,this.SBOX[x]=sx,this.INV_SBOX[sx]=x,x2=d[x],x4=d[x2],x8=d[x4],t=257*d[sx]^16843008*sx,this.SUB_MIX[0][x]=t<<24|t>>>8,this.SUB_MIX[1][x]=t<<16|t>>>16,this.SUB_MIX[2][x]=t<<8|t>>>24,this.SUB_MIX[3][x]=t,t=16843009*x8^65537*x4^257*x2^16843008*x,this.INV_SUB_MIX[0][sx]=t<<24|t>>>8,this.INV_SUB_MIX[1][sx]=t<<16|t>>>16,this.INV_SUB_MIX[2][sx]=t<<8|t>>>24,this.INV_SUB_MIX[3][sx]=t,0===x?x=xi=1:(x=x2^d[d[d[x8^x2]]],xi^=d[d[xi]]);return!0};var G=new Global;AES.blockSize=16,AES.prototype.blockSize=AES.blockSize,AES.keySize=32,AES.prototype.keySize=AES.keySize,AES.prototype._doReset=function(){var invKsRow,keySize,keyWords,ksRow,ksRows,t;for(keyWords=this._key,keySize=keyWords.length,this._nRounds=keySize+6,ksRows=4*(this._nRounds+1),this._keySchedule=[],ksRow=0;ksRows>ksRow;ksRow++)this._keySchedule[ksRow]=keySize>ksRow?keyWords[ksRow]:(t=this._keySchedule[ksRow-1],ksRow%keySize===0?(t=t<<8|t>>>24,t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[255&t],t^=G.RCON[ksRow/keySize|0]<<24):keySize>6&&ksRow%keySize===4?t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[255&t]:void 0,this._keySchedule[ksRow-keySize]^t);for(this._invKeySchedule=[],invKsRow=0;ksRows>invKsRow;invKsRow++)ksRow=ksRows-invKsRow,t=this._keySchedule[ksRow-(invKsRow%4?0:4)],this._invKeySchedule[invKsRow]=4>invKsRow||4>=ksRow?t:G.INV_SUB_MIX[0][G.SBOX[t>>>24]]^G.INV_SUB_MIX[1][G.SBOX[t>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[t>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[255&t]];return!0},AES.prototype.encryptBlock=function(M){M=bufferToArray(new Buffer(M));var out=this._doCryptBlock(M,this._keySchedule,G.SUB_MIX,G.SBOX),buf=new Buffer(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[1],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[3],12),buf},AES.prototype.decryptBlock=function(M){M=bufferToArray(new Buffer(M));var temp=[M[3],M[1]];M[1]=temp[0],M[3]=temp[1];var out=this._doCryptBlock(M,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX),buf=new Buffer(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[3],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[1],12),buf},AES.prototype.scrub=function(){scrub_vec(this._keySchedule),scrub_vec(this._invKeySchedule),scrub_vec(this._key)},AES.prototype._doCryptBlock=function(M,keySchedule,SUB_MIX,SBOX){var ksRow,s0,s1,s2,s3,t0,t1,t2,t3;s0=M[0]^keySchedule[0],s1=M[1]^keySchedule[1],s2=M[2]^keySchedule[2],s3=M[3]^keySchedule[3],ksRow=4;for(var round=1;round<this._nRounds;round++)t0=SUB_MIX[0][s0>>>24]^SUB_MIX[1][s1>>>16&255]^SUB_MIX[2][s2>>>8&255]^SUB_MIX[3][255&s3]^keySchedule[ksRow++],t1=SUB_MIX[0][s1>>>24]^SUB_MIX[1][s2>>>16&255]^SUB_MIX[2][s3>>>8&255]^SUB_MIX[3][255&s0]^keySchedule[ksRow++],t2=SUB_MIX[0][s2>>>24]^SUB_MIX[1][s3>>>16&255]^SUB_MIX[2][s0>>>8&255]^SUB_MIX[3][255&s1]^keySchedule[ksRow++],t3=SUB_MIX[0][s3>>>24]^SUB_MIX[1][s0>>>16&255]^SUB_MIX[2][s1>>>8&255]^SUB_MIX[3][255&s2]^keySchedule[ksRow++],s0=t0,s1=t1,s2=t2,s3=t3;return t0=(SBOX[s0>>>24]<<24|SBOX[s1>>>16&255]<<16|SBOX[s2>>>8&255]<<8|SBOX[255&s3])^keySchedule[ksRow++],t1=(SBOX[s1>>>24]<<24|SBOX[s2>>>16&255]<<16|SBOX[s3>>>8&255]<<8|SBOX[255&s0])^keySchedule[ksRow++],t2=(SBOX[s2>>>24]<<24|SBOX[s3>>>16&255]<<16|SBOX[s0>>>8&255]<<8|SBOX[255&s1])^keySchedule[ksRow++],t3=(SBOX[s3>>>24]<<24|SBOX[s0>>>16&255]<<16|SBOX[s1>>>8&255]<<8|SBOX[255&s2])^keySchedule[ksRow++],[fixup_uint32(t0),fixup_uint32(t1),fixup_uint32(t2),fixup_uint32(t3)]},exports.AES=AES}).call(this,require("buffer").Buffer)},{buffer:53}],27:[function(require,module,exports){(function(Buffer){function StreamCipher(mode,key,iv,decrypt){if(!(this instanceof StreamCipher))return new StreamCipher(mode,key,iv);Transform.call(this),this._finID=Buffer.concat([iv,new Buffer([0,0,0,1])]),iv=Buffer.concat([iv,new Buffer([0,0,0,2])]),this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),this._cache=new Buffer(""),this._secCache=new Buffer(""),this._decrypt=decrypt,this._alen=0,this._len=0,iv.copy(this._prev),this._mode=mode;var h=new Buffer(4);h.fill(0),this._ghash=new GHASH(this._cipher.encryptBlock(h)),this._authTag=null,this._called=!1}function xorTest(a,b){var out=0;a.length!==b.length&&out++;for(var len=Math.min(a.length,b.length),i=-1;++i<len;)out+=a[i]^b[i];return out}var aes=require("./aes"),Transform=require("cipher-base"),inherits=require("inherits"),GHASH=require("./ghash"),xor=require("buffer-xor");inherits(StreamCipher,Transform),module.exports=StreamCipher,StreamCipher.prototype._update=function(chunk){if(!this._called&&this._alen){var rump=16-this._alen%16;16>rump&&(rump=new Buffer(rump),rump.fill(0),this._ghash.update(rump))}this._called=!0;var out=this._mode.encrypt(this,chunk);return this._decrypt?this._ghash.update(chunk):this._ghash.update(out),this._len+=chunk.length,out},StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var tag=xor(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(xorTest(tag,this._authTag))throw new Error("Unsupported state or unable to authenticate data")}else this._authTag=tag;this._cipher.scrub()},StreamCipher.prototype.getAuthTag=function(){if(!this._decrypt&&Buffer.isBuffer(this._authTag))return this._authTag;throw new Error("Attempting to get auth tag in unsupported state")},StreamCipher.prototype.setAuthTag=function(tag){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");
this._authTag=tag},StreamCipher.prototype.setAAD=function(buf){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(buf),this._alen+=buf.length}}).call(this,require("buffer").Buffer)},{"./aes":26,"./ghash":31,buffer:53,"buffer-xor":52,"cipher-base":54,inherits:185}],28:[function(require,module,exports){function getCiphers(){return Object.keys(modes)}var ciphers=require("./encrypter");exports.createCipher=exports.Cipher=ciphers.createCipher,exports.createCipheriv=exports.Cipheriv=ciphers.createCipheriv;var deciphers=require("./decrypter");exports.createDecipher=exports.Decipher=deciphers.createDecipher,exports.createDecipheriv=exports.Decipheriv=deciphers.createDecipheriv;var modes=require("./modes");exports.listCiphers=exports.getCiphers=getCiphers},{"./decrypter":29,"./encrypter":30,"./modes":32}],29:[function(require,module,exports){(function(Buffer){function Decipher(mode,key,iv){return this instanceof Decipher?(Transform.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),iv.copy(this._prev),this._mode=mode,void(this._autopadding=!0)):new Decipher(mode,key,iv)}function Splitter(){return this instanceof Splitter?void(this.cache=new Buffer("")):new Splitter}function unpad(last){for(var padded=last[15],i=-1;++i<padded;)if(last[i+(16-padded)]!==padded)throw new Error("unable to decrypt data");return 16!==padded?last.slice(0,16-padded):void 0}function createDecipheriv(suite,password,iv){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");if("string"==typeof iv&&(iv=new Buffer(iv)),"string"==typeof password&&(password=new Buffer(password)),password.length!==config.key/8)throw new TypeError("invalid key length "+password.length);if(iv.length!==config.iv)throw new TypeError("invalid iv length "+iv.length);return"stream"===config.type?new StreamCipher(modelist[config.mode],password,iv,!0):"auth"===config.type?new AuthCipher(modelist[config.mode],password,iv,!0):new Decipher(modelist[config.mode],password,iv)}function createDecipher(suite,password){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");var keys=ebtk(password,!1,config.key,config.iv);return createDecipheriv(suite,keys.key,keys.iv)}var aes=require("./aes"),Transform=require("cipher-base"),inherits=require("inherits"),modes=require("./modes"),StreamCipher=require("./streamCipher"),AuthCipher=require("./authCipher"),ebtk=require("evp_bytestokey");inherits(Decipher,Transform),Decipher.prototype._update=function(data){this._cache.add(data);for(var chunk,thing,out=[];chunk=this._cache.get(this._autopadding);)thing=this._mode.decrypt(this,chunk),out.push(thing);return Buffer.concat(out)},Decipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding)return unpad(this._mode.decrypt(this,chunk));if(chunk)throw new Error("data not multiple of block length")},Decipher.prototype.setAutoPadding=function(setTo){return this._autopadding=!!setTo,this},Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])},Splitter.prototype.get=function(autoPadding){var out;if(autoPadding){if(this.cache.length>16)return out=this.cache.slice(0,16),this.cache=this.cache.slice(16),out}else if(this.cache.length>=16)return out=this.cache.slice(0,16),this.cache=this.cache.slice(16),out;return null},Splitter.prototype.flush=function(){return this.cache.length?this.cache:void 0};var modelist={ECB:require("./modes/ecb"),CBC:require("./modes/cbc"),CFB:require("./modes/cfb"),CFB8:require("./modes/cfb8"),CFB1:require("./modes/cfb1"),OFB:require("./modes/ofb"),CTR:require("./modes/ctr"),GCM:require("./modes/ctr")};exports.createDecipher=createDecipher,exports.createDecipheriv=createDecipheriv}).call(this,require("buffer").Buffer)},{"./aes":26,"./authCipher":27,"./modes":32,"./modes/cbc":33,"./modes/cfb":34,"./modes/cfb1":35,"./modes/cfb8":36,"./modes/ctr":37,"./modes/ecb":38,"./modes/ofb":39,"./streamCipher":40,buffer:53,"cipher-base":54,evp_bytestokey:165,inherits:185}],30:[function(require,module,exports){(function(Buffer){function Cipher(mode,key,iv){return this instanceof Cipher?(Transform.call(this),this._cache=new Splitter,this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),iv.copy(this._prev),this._mode=mode,void(this._autopadding=!0)):new Cipher(mode,key,iv)}function Splitter(){return this instanceof Splitter?void(this.cache=new Buffer("")):new Splitter}function createCipheriv(suite,password,iv){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");if("string"==typeof iv&&(iv=new Buffer(iv)),"string"==typeof password&&(password=new Buffer(password)),password.length!==config.key/8)throw new TypeError("invalid key length "+password.length);if(iv.length!==config.iv)throw new TypeError("invalid iv length "+iv.length);return"stream"===config.type?new StreamCipher(modelist[config.mode],password,iv):"auth"===config.type?new AuthCipher(modelist[config.mode],password,iv):new Cipher(modelist[config.mode],password,iv)}function createCipher(suite,password){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");var keys=ebtk(password,!1,config.key,config.iv);return createCipheriv(suite,keys.key,keys.iv)}var aes=require("./aes"),Transform=require("cipher-base"),inherits=require("inherits"),modes=require("./modes"),ebtk=require("evp_bytestokey"),StreamCipher=require("./streamCipher"),AuthCipher=require("./authCipher");inherits(Cipher,Transform),Cipher.prototype._update=function(data){this._cache.add(data);for(var chunk,thing,out=[];chunk=this._cache.get();)thing=this._mode.encrypt(this,chunk),out.push(thing);return Buffer.concat(out)},Cipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding)return chunk=this._mode.encrypt(this,chunk),this._cipher.scrub(),chunk;if("10101010101010101010101010101010"!==chunk.toString("hex"))throw this._cipher.scrub(),new Error("data not multiple of block length")},Cipher.prototype.setAutoPadding=function(setTo){return this._autopadding=!!setTo,this},Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])},Splitter.prototype.get=function(){if(this.cache.length>15){var out=this.cache.slice(0,16);return this.cache=this.cache.slice(16),out}return null},Splitter.prototype.flush=function(){for(var len=16-this.cache.length,padBuff=new Buffer(len),i=-1;++i<len;)padBuff.writeUInt8(len,i);var out=Buffer.concat([this.cache,padBuff]);return out};var modelist={ECB:require("./modes/ecb"),CBC:require("./modes/cbc"),CFB:require("./modes/cfb"),CFB8:require("./modes/cfb8"),CFB1:require("./modes/cfb1"),OFB:require("./modes/ofb"),CTR:require("./modes/ctr"),GCM:require("./modes/ctr")};exports.createCipheriv=createCipheriv,exports.createCipher=createCipher}).call(this,require("buffer").Buffer)},{"./aes":26,"./authCipher":27,"./modes":32,"./modes/cbc":33,"./modes/cfb":34,"./modes/cfb1":35,"./modes/cfb8":36,"./modes/ctr":37,"./modes/ecb":38,"./modes/ofb":39,"./streamCipher":40,buffer:53,"cipher-base":54,evp_bytestokey:165,inherits:185}],31:[function(require,module,exports){(function(Buffer){function GHASH(key){this.h=key,this.state=new Buffer(16),this.state.fill(0),this.cache=new Buffer("")}function toArray(buf){return[buf.readUInt32BE(0),buf.readUInt32BE(4),buf.readUInt32BE(8),buf.readUInt32BE(12)]}function fromArray(out){out=out.map(fixup_uint32);var buf=new Buffer(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[1],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[3],12),buf}function fixup_uint32(x){var ret,x_pos;return ret=x>uint_max||0>x?(x_pos=Math.abs(x)%uint_max,0>x?uint_max-x_pos:x_pos):x}function xor(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}var zeros=new Buffer(16);zeros.fill(0),module.exports=GHASH,GHASH.prototype.ghash=function(block){for(var i=-1;++i<block.length;)this.state[i]^=block[i];this._multiply()},GHASH.prototype._multiply=function(){for(var j,xi,lsb_Vi,Vi=toArray(this.h),Zi=[0,0,0,0],i=-1;++i<128;){for(xi=0!==(this.state[~~(i/8)]&1<<7-i%8),xi&&(Zi=xor(Zi,Vi)),lsb_Vi=0!==(1&Vi[3]),j=3;j>0;j--)Vi[j]=Vi[j]>>>1|(1&Vi[j-1])<<31;Vi[0]=Vi[0]>>>1,lsb_Vi&&(Vi[0]=Vi[0]^225<<24)}this.state=fromArray(Zi)},GHASH.prototype.update=function(buf){this.cache=Buffer.concat([this.cache,buf]);for(var chunk;this.cache.length>=16;)chunk=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(chunk)},GHASH.prototype.final=function(abl,bl){return this.cache.length&&this.ghash(Buffer.concat([this.cache,zeros],16)),this.ghash(fromArray([0,abl,0,bl])),this.state};var uint_max=Math.pow(2,32)}).call(this,require("buffer").Buffer)},{buffer:53}],32:[function(require,module,exports){exports["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},exports["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},exports["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},exports["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},exports["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},exports["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},exports.aes128=exports["aes-128-cbc"],exports.aes192=exports["aes-192-cbc"],exports.aes256=exports["aes-256-cbc"],exports["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},exports["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},exports["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},exports["aes-128-cfb8"]={cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},exports["aes-192-cfb8"]={cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},exports["aes-256-cfb8"]={cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},exports["aes-128-cfb1"]={cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},exports["aes-192-cfb1"]={cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},exports["aes-256-cfb1"]={cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},exports["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},exports["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},exports["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},exports["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},exports["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},exports["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},exports["aes-128-gcm"]={cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},exports["aes-192-gcm"]={cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},exports["aes-256-gcm"]={cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}},{}],33:[function(require,module,exports){var xor=require("buffer-xor");exports.encrypt=function(self,block){var data=xor(block,self._prev);return self._prev=self._cipher.encryptBlock(data),self._prev},exports.decrypt=function(self,block){var pad=self._prev;self._prev=block;var out=self._cipher.decryptBlock(block);return xor(out,pad)}},{"buffer-xor":52}],34:[function(require,module,exports){(function(Buffer){function encryptStart(self,data,decrypt){var len=data.length,out=xor(data,self._cache);return self._cache=self._cache.slice(len),self._prev=Buffer.concat([self._prev,decrypt?data:out]),out}var xor=require("buffer-xor");exports.encrypt=function(self,data,decrypt){for(var len,out=new Buffer("");data.length;){if(0===self._cache.length&&(self._cache=self._cipher.encryptBlock(self._prev),self._prev=new Buffer("")),!(self._cache.length<=data.length)){out=Buffer.concat([out,encryptStart(self,data,decrypt)]);break}len=self._cache.length,out=Buffer.concat([out,encryptStart(self,data.slice(0,len),decrypt)]),data=data.slice(len)}return out}}).call(this,require("buffer").Buffer)},{buffer:53,"buffer-xor":52}],35:[function(require,module,exports){(function(Buffer){function encryptByte(self,byteParam,decrypt){for(var pad,bit,value,i=-1,len=8,out=0;++i<len;)pad=self._cipher.encryptBlock(self._prev),bit=byteParam&1<<7-i?128:0,value=pad[0]^bit,out+=(128&value)>>i%8,self._prev=shiftIn(self._prev,decrypt?bit:value);return out}function shiftIn(buffer,value){var len=buffer.length,i=-1,out=new Buffer(buffer.length);for(buffer=Buffer.concat([buffer,new Buffer([value])]);++i<len;)out[i]=buffer[i]<<1|buffer[i+1]>>7;return out}exports.encrypt=function(self,chunk,decrypt){for(var len=chunk.length,out=new Buffer(len),i=-1;++i<len;)out[i]=encryptByte(self,chunk[i],decrypt);return out}}).call(this,require("buffer").Buffer)},{buffer:53}],36:[function(require,module,exports){(function(Buffer){function encryptByte(self,byteParam,decrypt){var pad=self._cipher.encryptBlock(self._prev),out=pad[0]^byteParam;return self._prev=Buffer.concat([self._prev.slice(1),new Buffer([decrypt?byteParam:out])]),out}exports.encrypt=function(self,chunk,decrypt){for(var len=chunk.length,out=new Buffer(len),i=-1;++i<len;)out[i]=encryptByte(self,chunk[i],decrypt);return out}}).call(this,require("buffer").Buffer)},{buffer:53}],37:[function(require,module,exports){(function(Buffer){function incr32(iv){for(var item,len=iv.length;len--;){if(item=iv.readUInt8(len),255!==item){item++,iv.writeUInt8(item,len);break}iv.writeUInt8(0,len)}}function getBlock(self){var out=self._cipher.encryptBlock(self._prev);return incr32(self._prev),out}var xor=require("buffer-xor");exports.encrypt=function(self,chunk){for(;self._cache.length<chunk.length;)self._cache=Buffer.concat([self._cache,getBlock(self)]);var pad=self._cache.slice(0,chunk.length);return self._cache=self._cache.slice(chunk.length),xor(chunk,pad)}}).call(this,require("buffer").Buffer)},{buffer:53,"buffer-xor":52}],38:[function(require,module,exports){exports.encrypt=function(self,block){return self._cipher.encryptBlock(block)},exports.decrypt=function(self,block){return self._cipher.decryptBlock(block)}},{}],39:[function(require,module,exports){(function(Buffer){function getBlock(self){return self._prev=self._cipher.encryptBlock(self._prev),self._prev}var xor=require("buffer-xor");exports.encrypt=function(self,chunk){for(;self._cache.length<chunk.length;)self._cache=Buffer.concat([self._cache,getBlock(self)]);var pad=self._cache.slice(0,chunk.length);return self._cache=self._cache.slice(chunk.length),xor(chunk,pad)}}).call(this,require("buffer").Buffer)},{buffer:53,"buffer-xor":52}],40:[function(require,module,exports){(function(Buffer){function StreamCipher(mode,key,iv,decrypt){return this instanceof StreamCipher?(Transform.call(this),this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),this._cache=new Buffer(""),this._secCache=new Buffer(""),this._decrypt=decrypt,iv.copy(this._prev),void(this._mode=mode)):new StreamCipher(mode,key,iv)}var aes=require("./aes"),Transform=require("cipher-base"),inherits=require("inherits");inherits(StreamCipher,Transform),module.exports=StreamCipher,StreamCipher.prototype._update=function(chunk){return this._mode.encrypt(this,chunk,this._decrypt)},StreamCipher.prototype._final=function(){this._cipher.scrub()}}).call(this,require("buffer").Buffer)},{"./aes":26,buffer:53,"cipher-base":54,inherits:185}],41:[function(require,module,exports){function createCipher(suite,password){var keyLen,ivLen;if(suite=suite.toLowerCase(),aesModes[suite])keyLen=aesModes[suite].key,ivLen=aesModes[suite].iv;else{if(!desModes[suite])throw new TypeError("invalid suite type");keyLen=8*desModes[suite].key,ivLen=desModes[suite].iv}var keys=ebtk(password,!1,keyLen,ivLen);return createCipheriv(suite,keys.key,keys.iv)}function createDecipher(suite,password){var keyLen,ivLen;if(suite=suite.toLowerCase(),aesModes[suite])keyLen=aesModes[suite].key,ivLen=aesModes[suite].iv;else{if(!desModes[suite])throw new TypeError("invalid suite type");keyLen=8*desModes[suite].key,ivLen=desModes[suite].iv}var keys=ebtk(password,!1,keyLen,ivLen);return createDecipheriv(suite,keys.key,keys.iv)}function createCipheriv(suite,key,iv){if(suite=suite.toLowerCase(),aesModes[suite])return aes.createCipheriv(suite,key,iv);if(desModes[suite])return new DES({key:key,iv:iv,mode:suite});throw new TypeError("invalid suite type")}function createDecipheriv(suite,key,iv){if(suite=suite.toLowerCase(),aesModes[suite])return aes.createDecipheriv(suite,key,iv);if(desModes[suite])return new DES({key:key,iv:iv,mode:suite,decrypt:!0});throw new TypeError("invalid suite type")}function getCiphers(){return Object.keys(desModes).concat(aes.getCiphers())}var ebtk=require("evp_bytestokey"),aes=require("browserify-aes/browser"),DES=require("browserify-des"),desModes=require("browserify-des/modes"),aesModes=require("browserify-aes/modes");exports.createCipher=exports.Cipher=createCipher,exports.createCipheriv=exports.Cipheriv=createCipheriv,exports.createDecipher=exports.Decipher=createDecipher,exports.createDecipheriv=exports.Decipheriv=createDecipheriv,exports.listCiphers=exports.getCiphers=getCiphers},{"browserify-aes/browser":28,"browserify-aes/modes":32,"browserify-des":42,"browserify-des/modes":43,evp_bytestokey:165}],42:[function(require,module,exports){(function(Buffer){function DES(opts){CipherBase.call(this);var type,modeName=opts.mode.toLowerCase(),mode=modes[modeName];type=opts.decrypt?"decrypt":"encrypt";var key=opts.key;("des-ede"===modeName||"des-ede-cbc"===modeName)&&(key=Buffer.concat([key,key.slice(0,8)]));var iv=opts.iv;this._des=mode.create({key:key,iv:iv,type:type})}var CipherBase=require("cipher-base"),des=require("des.js"),inherits=require("inherits"),modes={"des-ede3-cbc":des.CBC.instantiate(des.EDE),"des-ede3":des.EDE,"des-ede-cbc":des.CBC.instantiate(des.EDE),"des-ede":des.EDE,"des-cbc":des.CBC.instantiate(des.DES),"des-ecb":des.DES};modes.des=modes["des-cbc"],modes.des3=modes["des-ede3-cbc"],module.exports=DES,inherits(DES,CipherBase),DES.prototype._update=function(data){return new Buffer(this._des.update(data))},DES.prototype._final=function(){return new Buffer(this._des.final())}}).call(this,require("buffer").Buffer)},{buffer:53,"cipher-base":54,"des.js":122,inherits:185}],43:[function(require,module,exports){exports["des-ecb"]={key:8,iv:0},exports["des-cbc"]=exports.des={key:8,iv:8},exports["des-ede3-cbc"]=exports.des3={key:24,iv:8},exports["des-ede3"]={key:24,iv:0},exports["des-ede-cbc"]={key:16,iv:8},exports["des-ede"]={key:16,iv:0}},{}],44:[function(require,module,exports){(function(Buffer){function blind(priv){var r=getr(priv),blinder=r.toRed(bn.mont(priv.modulus)).redPow(new bn(priv.publicExponent)).fromRed();return{blinder:blinder,unblinder:r.invm(priv.modulus)}}function crt(msg,priv){var blinds=blind(priv),len=priv.modulus.byteLength(),blinded=(bn.mont(priv.modulus),new bn(msg).mul(blinds.blinder).umod(priv.modulus)),c1=blinded.toRed(bn.mont(priv.prime1)),c2=blinded.toRed(bn.mont(priv.prime2)),qinv=priv.coefficient,p=priv.prime1,q=priv.prime2,m1=c1.redPow(priv.exponent1),m2=c2.redPow(priv.exponent2);m1=m1.fromRed(),m2=m2.fromRed();var h=m1.isub(m2).imul(qinv).umod(p);return h.imul(q),m2.iadd(h),new Buffer(m2.imul(blinds.unblinder).umod(priv.modulus).toArray(!1,len))}function getr(priv){for(var len=priv.modulus.byteLength(),r=new bn(randomBytes(len));r.cmp(priv.modulus)>=0||!r.umod(priv.prime1)||!r.umod(priv.prime2);)r=new bn(randomBytes(len));return r}var bn=require("bn.js"),randomBytes=require("randombytes");module.exports=crt,crt.getr=getr}).call(this,require("buffer").Buffer)},{"bn.js":22,buffer:53,randombytes:208}],45:[function(require,module,exports){(function(Buffer){"use strict";exports["RSA-SHA224"]=exports.sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:new Buffer("302d300d06096086480165030402040500041c","hex")},exports["RSA-SHA256"]=exports.sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:new Buffer("3031300d060960864801650304020105000420","hex")},exports["RSA-SHA384"]=exports.sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:new Buffer("3041300d060960864801650304020205000430","hex")},exports["RSA-SHA512"]=exports.sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:new Buffer("3051300d060960864801650304020305000440","hex")},exports["RSA-SHA1"]={sign:"rsa",hash:"sha1",id:new Buffer("3021300906052b0e03021a05000414","hex")},exports["ecdsa-with-SHA1"]={sign:"ecdsa",hash:"sha1",id:new Buffer("","hex")},exports.DSA=exports["DSA-SHA1"]=exports["DSA-SHA"]={sign:"dsa",hash:"sha1",id:new Buffer("","hex")},exports["DSA-SHA224"]=exports["DSA-WITH-SHA224"]={sign:"dsa",hash:"sha224",id:new Buffer("","hex")},exports["DSA-SHA256"]=exports["DSA-WITH-SHA256"]={sign:"dsa",hash:"sha256",id:new Buffer("","hex")},exports["DSA-SHA384"]=exports["DSA-WITH-SHA384"]={sign:"dsa",hash:"sha384",id:new Buffer("","hex")},exports["DSA-SHA512"]=exports["DSA-WITH-SHA512"]={sign:"dsa",hash:"sha512",id:new Buffer("","hex")},exports["DSA-RIPEMD160"]={sign:"dsa",hash:"rmd160",id:new Buffer("","hex")},exports["RSA-RIPEMD160"]=exports.ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:new Buffer("3021300906052b2403020105000414","hex")},exports["RSA-MD5"]=exports.md5WithRSAEncryption={sign:"rsa",hash:"md5",id:new Buffer("3020300c06082a864886f70d020505000410","hex")}}).call(this,require("buffer").Buffer)},{buffer:53}],46:[function(require,module,exports){(function(Buffer){function Sign(algorithm){stream.Writable.call(this);var data=algos[algorithm];if(!data)throw new Error("Unknown message digest");this._hashType=data.hash,this._hash=createHash(data.hash),this._tag=data.id,this._signType=data.sign}function Verify(algorithm){stream.Writable.call(this);var data=algos[algorithm];if(!data)throw new Error("Unknown message digest");this._hash=createHash(data.hash),this._tag=data.id,this._signType=data.sign}function createSign(algorithm){return new Sign(algorithm)}function createVerify(algorithm){return new Verify(algorithm)}var _algos=require("./algos"),createHash=require("create-hash"),inherits=require("inherits"),sign=require("./sign"),stream=require("stream"),verify=require("./verify"),algos={};Object.keys(_algos).forEach(function(key){algos[key]=algos[key.toLowerCase()]=_algos[key]}),inherits(Sign,stream.Writable),Sign.prototype._write=function(data,_,done){this._hash.update(data),done()},Sign.prototype.update=function(data,enc){return"string"==typeof data&&(data=new Buffer(data,enc)),this._hash.update(data),this},Sign.prototype.sign=function(key,enc){this.end();var hash=this._hash.digest(),sig=sign(Buffer.concat([this._tag,hash]),key,this._hashType,this._signType);return enc?sig.toString(enc):sig},inherits(Verify,stream.Writable),Verify.prototype._write=function(data,_,done){this._hash.update(data),done()},Verify.prototype.update=function(data,enc){return"string"==typeof data&&(data=new Buffer(data,enc)),this._hash.update(data),this},Verify.prototype.verify=function(key,sig,enc){"string"==typeof sig&&(sig=new Buffer(sig,enc)),this.end();var hash=this._hash.digest();return verify(sig,Buffer.concat([this._tag,hash]),key,this._signType)},module.exports={Sign:createSign,Verify:createVerify,createSign:createSign,createVerify:createVerify}}).call(this,require("buffer").Buffer)},{"./algos":45,"./sign":48,"./verify":49,buffer:53,"create-hash":109,inherits:185,stream:260}],47:[function(require,module,exports){"use strict";exports["1.3.132.0.10"]="secp256k1",exports["1.3.132.0.33"]="p224",exports["1.2.840.10045.3.1.1"]="p192",exports["1.2.840.10045.3.1.7"]="p256",exports["1.3.132.0.34"]="p384",exports["1.3.132.0.35"]="p521"},{}],48:[function(require,module,exports){(function(Buffer){function sign(hash,key,hashType,signType){var priv=parseKeys(key);if(priv.curve){if("ecdsa"!==signType)throw new Error("wrong private key type");return ecSign(hash,priv)}if("dsa"===priv.type){if("dsa"!==signType)throw new Error("wrong private key type");return dsaSign(hash,priv,hashType)}if("rsa"!==signType)throw new Error("wrong private key type");for(var len=priv.modulus.byteLength(),pad=[0,1];hash.length+pad.length+1<len;)pad.push(255);pad.push(0);for(var i=-1;++i<hash.length;)pad.push(hash[i]);var out=crt(pad,priv);return out}function ecSign(hash,priv){var curveId=curves[priv.curve.join(".")];if(!curveId)throw new Error("unknown curve "+priv.curve.join("."));var curve=new EC(curveId),key=curve.genKeyPair();key._importPrivate(priv.privateKey);var out=key.sign(hash);return new Buffer(out.toDER())}function dsaSign(hash,priv,algo){for(var k,x=priv.params.priv_key,p=priv.params.p,q=priv.params.q,g=priv.params.g,r=new BN(0),H=bits2int(hash,q).mod(q),s=!1,kv=getKey(x,q,hash,algo);s===!1;)k=makeKey(q,kv,algo),r=makeR(g,k,p,q),s=k.invm(q).imul(H.add(x.mul(r))).mod(q),s.cmpn(0)||(s=!1,r=new BN(0));return toDER(r,s)}function toDER(r,s){r=r.toArray(),s=s.toArray(),128&r[0]&&(r=[0].concat(r)),128&s[0]&&(s=[0].concat(s));var total=r.length+s.length+4,res=[48,total,2,r.length];return res=res.concat(r,[2,s.length],s),new Buffer(res)}function getKey(x,q,hash,algo){if(x=new Buffer(x.toArray()),x.length<q.byteLength()){var zeros=new Buffer(q.byteLength()-x.length);zeros.fill(0),x=Buffer.concat([zeros,x])}var hlen=hash.length,hbits=bits2octets(hash,q),v=new Buffer(hlen);v.fill(1);var k=new Buffer(hlen);return k.fill(0),k=createHmac(algo,k).update(v).update(new Buffer([0])).update(x).update(hbits).digest(),v=createHmac(algo,k).update(v).digest(),k=createHmac(algo,k).update(v).update(new Buffer([1])).update(x).update(hbits).digest(),v=createHmac(algo,k).update(v).digest(),{k:k,v:v}}function bits2int(obits,q){var bits=new BN(obits),shift=(obits.length<<3)-q.bitLength();return shift>0&&bits.ishrn(shift),bits}function bits2octets(bits,q){bits=bits2int(bits,q),bits=bits.mod(q);var out=new Buffer(bits.toArray());if(out.length<q.byteLength()){var zeros=new Buffer(q.byteLength()-out.length);zeros.fill(0),out=Buffer.concat([zeros,out])}return out}function makeKey(q,kv,algo){var t,k;do{for(t=new Buffer("");8*t.length<q.bitLength();)kv.v=createHmac(algo,kv.k).update(kv.v).digest(),t=Buffer.concat([t,kv.v]);k=bits2int(t,q),kv.k=createHmac(algo,kv.k).update(kv.v).update(new Buffer([0])).digest(),kv.v=createHmac(algo,kv.k).update(kv.v).digest()}while(-1!==k.cmp(q));return k}function makeR(g,k,p,q){return g.toRed(BN.mont(p)).redPow(k).fromRed().mod(q)}var createHmac=require("create-hmac"),crt=require("browserify-rsa"),curves=require("./curves"),elliptic=require("elliptic"),parseKeys=require("parse-asn1"),BN=require("bn.js"),EC=elliptic.ec;module.exports=sign,module.exports.getKey=getKey,module.exports.makeKey=makeKey}).call(this,require("buffer").Buffer)},{"./curves":47,"bn.js":22,"browserify-rsa":44,buffer:53,"create-hmac":112,elliptic:147,"parse-asn1":195}],49:[function(require,module,exports){(function(Buffer){function verify(sig,hash,key,signType){var pub=parseKeys(key);if("ec"===pub.type){if("ecdsa"!==signType)throw new Error("wrong public key type");return ecVerify(sig,hash,pub)}if("dsa"===pub.type){if("dsa"!==signType)throw new Error("wrong public key type");return dsaVerify(sig,hash,pub)}if("rsa"!==signType)throw new Error("wrong public key type");for(var len=pub.modulus.byteLength(),pad=[1],padNum=0;hash.length+pad.length+2<len;)pad.push(255),padNum++;pad.push(0);for(var i=-1;++i<hash.length;)pad.push(hash[i]);pad=new Buffer(pad);var red=BN.mont(pub.modulus);sig=new BN(sig).toRed(red),sig=sig.redPow(new BN(pub.publicExponent)),sig=new Buffer(sig.fromRed().toArray());var out=0;for(8>padNum&&(out=1),len=Math.min(sig.length,pad.length),sig.length!==pad.length&&(out=1),i=-1;++i<len;)out|=sig[i]^pad[i];return 0===out}function ecVerify(sig,hash,pub){var curveId=curves[pub.data.algorithm.curve.join(".")];if(!curveId)throw new Error("unknown curve "+pub.data.algorithm.curve.join("."));var curve=new EC(curveId),pubkey=pub.data.subjectPrivateKey.data;return curve.verify(hash,sig,pubkey)}function dsaVerify(sig,hash,pub){var p=pub.data.p,q=pub.data.q,g=pub.data.g,y=pub.data.pub_key,unpacked=parseKeys.signature.decode(sig,"der"),s=unpacked.s,r=unpacked.r;checkValue(s,q),checkValue(r,q);var montp=BN.mont(p),w=s.invm(q),v=g.toRed(montp).redPow(new BN(hash).mul(w).mod(q)).fromRed().mul(y.toRed(montp).redPow(r.mul(w).mod(q)).fromRed()).mod(p).mod(q);return!v.cmp(r)}function checkValue(b,q){if(b.cmpn(0)<=0)throw new Error("invalid sig");if(b.cmp(q)>=q)throw new Error("invalid sig")}var curves=require("./curves"),elliptic=require("elliptic"),parseKeys=require("parse-asn1"),BN=require("bn.js"),EC=elliptic.ec;module.exports=verify}).call(this,require("buffer").Buffer)},{"./curves":47,"bn.js":22,buffer:53,elliptic:147,"parse-asn1":195}],50:[function(require,module,exports){arguments[4][25][0].apply(exports,arguments)},{dup:25}],51:[function(require,module,exports){(function(global){"use strict";var buffer=require("buffer"),Buffer=buffer.Buffer,SlowBuffer=buffer.SlowBuffer,MAX_LEN=buffer.kMaxLength||2147483647;exports.alloc=function(size,fill,encoding){if("function"==typeof Buffer.alloc)return Buffer.alloc(size,fill,encoding);if("number"==typeof encoding)throw new TypeError("encoding must not be number");if("number"!=typeof size)throw new TypeError("size must be a number");if(size>MAX_LEN)throw new RangeError("size is too large");var enc=encoding,_fill=fill;void 0===_fill&&(enc=void 0,_fill=0);var buf=new Buffer(size);if("string"==typeof _fill)for(var fillBuf=new Buffer(_fill,enc),flen=fillBuf.length,i=-1;++i<size;)buf[i]=fillBuf[i%flen];else buf.fill(_fill);return buf},exports.allocUnsafe=function(size){if("function"==typeof Buffer.allocUnsafe)return Buffer.allocUnsafe(size);if("number"!=typeof size)throw new TypeError("size must be a number");if(size>MAX_LEN)throw new RangeError("size is too large");return new Buffer(size)},exports.from=function(value,encodingOrOffset,length){if("function"==typeof Buffer.from&&(!global.Uint8Array||Uint8Array.from!==Buffer.from))return Buffer.from(value,encodingOrOffset,length);if("number"==typeof value)throw new TypeError('"value" argument must not be a number');if("string"==typeof value)return new Buffer(value,encodingOrOffset);if("undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer){var offset=encodingOrOffset;if(1===arguments.length)return new Buffer(value);"undefined"==typeof offset&&(offset=0);var len=length;if("undefined"==typeof len&&(len=value.byteLength-offset),offset>=value.byteLength)throw new RangeError("'offset' is out of bounds");if(len>value.byteLength-offset)throw new RangeError("'length' is out of bounds");return new Buffer(value.slice(offset,offset+len))}if(Buffer.isBuffer(value)){var out=new Buffer(value.length);return value.copy(out,0,0,value.length),out}if(value){if(Array.isArray(value)||"undefined"!=typeof ArrayBuffer&&value.buffer instanceof ArrayBuffer||"length"in value)return new Buffer(value);if("Buffer"===value.type&&Array.isArray(value.data))return new Buffer(value.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},exports.allocUnsafeSlow=function(size){if("function"==typeof Buffer.allocUnsafeSlow)return Buffer.allocUnsafeSlow(size);if("number"!=typeof size)throw new TypeError("size must be a number");if(size>=MAX_LEN)throw new RangeError("size is too large");return new SlowBuffer(size)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:53}],52:[function(require,module,exports){(function(Buffer){module.exports=function(a,b){for(var length=Math.min(a.length,b.length),buffer=new Buffer(length),i=0;length>i;++i)buffer[i]=a[i]^b[i];return buffer}}).call(this,require("buffer").Buffer)},{buffer:53}],53:[function(require,module,exports){(function(global){"use strict";function typedArraySupport(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length),that.__proto__=Buffer.prototype):(null===that&&(that=new Buffer(length)),
that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?fromArrayBuffer(that,value,encodingOrOffset,length):"string"==typeof value?fromString(that,value,encodingOrOffset):fromObject(that,value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number');if(0>size)throw new RangeError('"size" argument must not be negative')}function alloc(that,size,fill,encoding){return assertSize(size),0>=size?createBuffer(that,size):void 0!==fill?"string"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,0>size?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;size>i;++i)that[i]=0;return that}function fromString(that,string,encoding){if(("string"!=typeof encoding||""===encoding)&&(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding);that=createBuffer(that,length);var actual=that.write(string,encoding);return actual!==length&&(that=that.slice(0,actual)),that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;length>i;i+=1)that[i]=255&array[i];return that}function fromArrayBuffer(that,array,byteOffset,length){if(array.byteLength,0>byteOffset||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");return array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),Buffer.TYPED_ARRAY_SUPPORT?(that=array,that.__proto__=Buffer.prototype):that=fromArrayLike(that,array),that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return that=createBuffer(that,len),0===that.length?that:(obj.copy(that,0,0,len),that)}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||isnan(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function SlowBuffer(length){return+length!=length&&(length=0),Buffer.alloc(+length)}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||0>start)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),0>=end)return"";if(end>>>=0,start>>>=0,start>=end)return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:-2147483648>byteOffset&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),0>byteOffset&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(0>byteOffset){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val=255&val,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}var indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&(encoding=String(encoding).toLowerCase(),"ucs2"===encoding||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}var i;if(dir){var foundIndex=-1;for(i=byteOffset;arrLength>i;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;valLength>j;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;if(strLen%2!==0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;length>i;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;end>i;){var firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(end>=i+bytesPerSequence){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:128>firstByte&&(codePoint=firstByte);break;case 2:secondByte=buf[i+1],128===(192&secondByte)&&(tempCodePoint=(31&firstByte)<<6|63&secondByte,tempCodePoint>127&&(codePoint=tempCodePoint));break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128===(192&secondByte)&&128===(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte,tempCodePoint>2047&&(55296>tempCodePoint||tempCodePoint>57343)&&(codePoint=tempCodePoint));break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128===(192&secondByte)&&128===(192&thirdByte)&&128===(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte,tempCodePoint>65535&&1114112>tempCodePoint&&(codePoint=tempCodePoint))}}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return decodeCodePointsArray(res)}function decodeCodePointsArray(codePoints){var len=codePoints.length;if(MAX_ARGUMENTS_LENGTH>=len)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;len>i;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;end>i;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;end>i;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||0>start)&&(start=0),(!end||0>end||end>len)&&(end=len);for(var out="",i=start;end>i;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!==0||0>offset)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||min>value)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){0>value&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);j>i;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){0>value&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);j>i;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(0>offset)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if(str=stringtrim(str).replace(INVALID_BASE64_RE,""),str.length<2)return"";for(;str.length%4!==0;)str+="=";return str}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function toHex(n){return 16>n?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||1/0;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;length>i;++i){if(codePoint=string.charCodeAt(i),codePoint>55295&&57344>codePoint){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(56320>codePoint){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,128>codePoint){if((units-=1)<0)break;bytes.push(codePoint)}else if(2048>codePoint){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(65536>codePoint){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(1114112>codePoint))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;length>i&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isnan(val){return val!==val}var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("isarray");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);len>i;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return y>x?-1:x>y?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;len>i;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;len>i;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;len>i;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),0>start||end>target.length||0>thisStart||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;len>i;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return y>x?-1:x>y?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset=0|offset,isFinite(length)?(length=0|length,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(0>length||0>offset)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=void 0===end?len:~~end,0>start?(start+=len,0>start&&(start=0)):start>len&&(start=len),0>end?(end+=len,0>end&&(end=0)):end>len&&(end=len),start>end&&(end=start);var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT)newBuf=this.subarray(start,end),newBuf.__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;sliceLen>i;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,byteLength=0|byteLength,!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,byteLength=0|byteLength,!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)0>value&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)0>value&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),0>value&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),0>value&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&start>end&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(0>targetStart)throw new RangeError("targetStart out of bounds");if(0>start||start>=this.length)throw new RangeError("sourceStart out of bounds");if(0>end)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&targetStart>start&&end>targetStart)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(1e3>len||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;len>i;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);256>code&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val=255&val);if(0>start||this.length<start||this.length<end)throw new RangeError("Out of range index");if(start>=end)return this;start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0);var i;if("number"==typeof val)for(i=start;end>i;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;end-start>i;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":21,ieee754:182,isarray:187}],54:[function(require,module,exports){(function(Buffer){function CipherBase(hashMode){Transform.call(this),this.hashMode="string"==typeof hashMode,this.hashMode?this[hashMode]=this._finalOrDigest:this.final=this._finalOrDigest,this._decoder=null,this._encoding=null}var Transform=require("stream").Transform,inherits=require("inherits"),StringDecoder=require("string_decoder").StringDecoder;module.exports=CipherBase,inherits(CipherBase,Transform),CipherBase.prototype.update=function(data,inputEnc,outputEnc){"string"==typeof data&&(data=new Buffer(data,inputEnc));var outData=this._update(data);return this.hashMode?this:(outputEnc&&(outData=this._toString(outData,outputEnc)),outData)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(data,_,next){var err;try{this.hashMode?this._update(data):this.push(this._update(data))}catch(e){err=e}finally{next(err)}},CipherBase.prototype._flush=function(done){var err;try{this.push(this._final())}catch(e){err=e}finally{done(err)}},CipherBase.prototype._finalOrDigest=function(outputEnc){var outData=this._final()||new Buffer("");return outputEnc&&(outData=this._toString(outData,outputEnc,!0)),outData},CipherBase.prototype._toString=function(value,enc,fin){if(this._decoder||(this._decoder=new StringDecoder(enc),this._encoding=enc),this._encoding!==enc)throw new Error("can't switch encodings");var out=this._decoder.write(value);return fin&&(out+=this._decoder.end()),out}}).call(this,require("buffer").Buffer)},{buffer:53,inherits:185,stream:260,string_decoder:261}],55:[function(require,module,exports){"use strict";exports.INTERPOLATION=["{{","}}"]},{}],56:[function(require,module,exports){
"use strict";exports.ExpTypes={Binary:function(ast){return"Binary"===ast.constructor.name},Quote:function(ast){return"Quote"===ast.constructor.name},EmptyExpr:function(ast){return"EmptyExpr"===ast.constructor.name},ImplicitReceiver:function(ast){return"ImplicitReceiver"===ast.constructor.name},Chain:function(ast){return"Chain"===ast.constructor.name},Conditional:function(ast){return"Conditional"===ast.constructor.name},PropertyRead:function(ast){return"PropertyRead"===ast.constructor.name},PropertyWrite:function(ast){return"PropertyWrite"===ast.constructor.name},SafePropertyRead:function(ast){return"SafePropertyRead"===ast.constructor.name},KeyedRead:function(ast){return"KeyedRead"===ast.constructor.name},KeyedWrite:function(ast){return"KeyedWrite"===ast.constructor.name},BindingPipe:function(ast){return"BindingPipe"===ast.constructor.name},LiteralPrimitive:function(ast){return"LiteralPrimitive"===ast.constructor.name},LiteralArray:function(ast){return"LiteralArray"===ast.constructor.name},LiteralMap:function(ast){return"LiteralMap"===ast.constructor.name},Interpolation:function(ast){return"Interpolation"===ast.constructor.name},PrefixNot:function(ast){return"PrefixNot"===ast.constructor.name},MethodCall:function(ast){return"MethodCall"===ast.constructor.name},SafeMethodCall:function(ast){return"SafeMethodCall"===ast.constructor.name},FunctionCall:function(ast){return"FunctionCall"===ast.constructor.name},ASTWithSource:function(ast){return"ASTWithSource"===ast.constructor.name}}},{}],57:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),ts=require("typescript"),compiler=require("@angular/compiler"),templateParser_1=require("./templates/templateParser"),parseCss_1=require("./styles/parseCss"),basicCssAstVisitor_1=require("./styles/basicCssAstVisitor"),basicTemplateAstVisitor_1=require("./templates/basicTemplateAstVisitor"),recursiveAngularExpressionVisitor_1=require("./templates/recursiveAngularExpressionVisitor"),utils_1=require("../util/utils"),SyntaxKind=require("../util/syntaxKind"),getDecoratorStringArgs=function(decorator){var baseExpr=decorator.expression||{},args=baseExpr.arguments||[];return args.map(function(a){return a.kind===ts.SyntaxKind.StringLiteral?a.text:null})},Ng2Walker=function(_super){function Ng2Walker(sourceFile,_originalOptions,_config){var _this=_super.call(this,sourceFile,_originalOptions)||this;return _this._originalOptions=_originalOptions,_this._config=_config,_this._normalizeConfig(_config),_this}return __extends(Ng2Walker,_super),Ng2Walker.prototype.visitClassDeclaration=function(declaration){(declaration.decorators||[]).forEach(this.visitClassDecorator.bind(this)),_super.prototype.visitClassDeclaration.call(this,declaration)},Ng2Walker.prototype.visitMethodDeclaration=function(method){(method.decorators||[]).forEach(this.visitMethodDecorator.bind(this)),_super.prototype.visitMethodDeclaration.call(this,method)},Ng2Walker.prototype.visitPropertyDeclaration=function(prop){(prop.decorators||[]).forEach(this.visitPropertyDecorator.bind(this)),_super.prototype.visitPropertyDeclaration.call(this,prop)},Ng2Walker.prototype.visitMethodDecorator=function(decorator){var name=utils_1.getDecoratorName(decorator);"HostListener"===name&&this.visitNg2HostListener(decorator.parent,decorator,getDecoratorStringArgs(decorator))},Ng2Walker.prototype.visitPropertyDecorator=function(decorator){var name=utils_1.getDecoratorName(decorator);switch(name){case"Input":this.visitNg2Input(decorator.parent,decorator,getDecoratorStringArgs(decorator));break;case"Output":this.visitNg2Output(decorator.parent,decorator,getDecoratorStringArgs(decorator));break;case"HostBinding":this.visitNg2HostBinding(decorator.parent,decorator,getDecoratorStringArgs(decorator))}},Ng2Walker.prototype.visitClassDecorator=function(decorator){var _this=this,name=utils_1.getDecoratorName(decorator);if(decorator.expression.arguments&&decorator.expression.arguments.length&&decorator.expression.arguments[0].properties)if("Component"===name){this.visitNg2Component(decorator.parent,decorator);var inlineTemplate=utils_1.getDecoratorPropertyInitializer(decorator,"template");if(inlineTemplate)try{if(utils_1.isSimpleTemplateString(inlineTemplate)){var templateAst=templateParser_1.parseTemplate(inlineTemplate.text);this.visitNg2TemplateHelper(templateAst,decorator.parent,inlineTemplate.pos+2)}}catch(e){}var inlineStyles=utils_1.getDecoratorPropertyInitializer(decorator,"styles");inlineStyles&&inlineStyles.kind===SyntaxKind.current().ArrayLiteralExpression&&inlineStyles.elements.forEach(function(inlineStyle){try{utils_1.isSimpleTemplateString(inlineStyle)&&_this.visitNg2StyleHelper(parseCss_1.parseCss(inlineStyle.text),decorator.parent,inlineStyle.pos+2)}catch(e){}})}else"Directive"===name?this.visitNg2Directive(decorator.parent,decorator):"Pipe"===name&&this.visitNg2Pipe(decorator.parent,decorator)},Ng2Walker.prototype.visitNg2Component=function(controller,decorator){},Ng2Walker.prototype.visitNg2Directive=function(controller,decorator){},Ng2Walker.prototype.visitNg2Pipe=function(controller,decorator){},Ng2Walker.prototype.visitNg2Input=function(property,input,args){},Ng2Walker.prototype.visitNg2Output=function(property,output,args){},Ng2Walker.prototype.visitNg2HostBinding=function(property,decorator,args){},Ng2Walker.prototype.visitNg2HostListener=function(method,decorator,args){},Ng2Walker.prototype.visitNg2TemplateHelper=function(roots,context,baseStart){var _this=this;if(roots&&roots.length){var visitor=new this._config.templateVisitorCtrl(this.getSourceFile(),this._originalOptions,context,baseStart,this._config.expressionVisitorCtrl);compiler.templateVisitAll(visitor,roots,context),visitor.getFailures().forEach(function(f){return _this.addFailure(f)})}},Ng2Walker.prototype.visitNg2StyleHelper=function(style,context,baseStart){var _this=this;if(style){var visitor=new this._config.cssVisitorCtrl(this.getSourceFile(),this._originalOptions,context,baseStart);style.visit(visitor),visitor.getFailures().forEach(function(f){return _this.addFailure(f)})}},Ng2Walker.prototype._normalizeConfig=function(config){this._config=Object.assign({templateVisitorCtrl:basicTemplateAstVisitor_1.BasicTemplateAstVisitor,expressionVisitorCtrl:recursiveAngularExpressionVisitor_1.RecursiveAngularExpressionVisitor,cssVisitorCtrl:basicCssAstVisitor_1.BasicCssAstVisitor},this._config||{})},Ng2Walker}(Lint.RuleWalker);exports.Ng2Walker=Ng2Walker},{"../util/syntaxKind":93,"../util/utils":94,"./styles/basicCssAstVisitor":58,"./styles/parseCss":63,"./templates/basicTemplateAstVisitor":65,"./templates/recursiveAngularExpressionVisitor":66,"./templates/templateParser":67,"@angular/compiler":3,"tslint/lib/lint":286,typescript:296}],58:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),BasicCssAstVisitor=function(_super){function BasicCssAstVisitor(sourceFile,_originalOptions,context,templateStart){var _this=_super.call(this,sourceFile,_originalOptions)||this;return _this._originalOptions=_originalOptions,_this.context=context,_this.templateStart=templateStart,_this}return __extends(BasicCssAstVisitor,_super),BasicCssAstVisitor.prototype.visitCssValue=function(ast,context){},BasicCssAstVisitor.prototype.visitCssInlineRule=function(ast,context){},BasicCssAstVisitor.prototype.visitCssAtRulePredicate=function(ast,context){},BasicCssAstVisitor.prototype.visitCssKeyframeRule=function(ast,context){ast.block.visit(this,context)},BasicCssAstVisitor.prototype.visitCssKeyframeDefinition=function(ast,context){ast.block.visit(this,context)},BasicCssAstVisitor.prototype.visitCssMediaQueryRule=function(ast,context){ast.query.visit(this,context),ast.block.visit(this,context)},BasicCssAstVisitor.prototype.visitCssSelectorRule=function(ast,context){var _this=this;ast.selectors.forEach(function(selAst){selAst.visit(_this,context)}),ast.block.visit(this,context)},BasicCssAstVisitor.prototype.visitCssSelector=function(ast,context){var _this=this;ast.selectorParts.forEach(function(simpleAst){simpleAst.visit(_this,context)})},BasicCssAstVisitor.prototype.visitCssSimpleSelector=function(ast,context){var _this=this;ast.pseudoSelectors.forEach(function(pseudoAst){pseudoAst.visit(_this,context)})},BasicCssAstVisitor.prototype.visitCssPseudoSelector=function(ast,context){},BasicCssAstVisitor.prototype.visitCssDefinition=function(ast,context){ast.value.visit(this,context)},BasicCssAstVisitor.prototype.visitCssBlock=function(ast,context){var _this=this;ast.entries.forEach(function(entryAst){entryAst.visit(_this,context)})},BasicCssAstVisitor.prototype.visitCssStylesBlock=function(ast,context){var _this=this;ast.definitions.forEach(function(definitionAst){definitionAst.visit(_this,context)})},BasicCssAstVisitor.prototype.visitCssStyleSheet=function(ast,context){var _this=this;ast.rules.forEach(function(ruleAst){ruleAst.visit(_this,context)})},BasicCssAstVisitor.prototype.visitCssUnknownRule=function(ast,context){},BasicCssAstVisitor.prototype.visitCssUnknownTokenList=function(ast,context){},BasicCssAstVisitor}(Lint.RuleWalker);exports.BasicCssAstVisitor=BasicCssAstVisitor},{"tslint/lib/lint":286}],59:[function(require,module,exports){"use strict";function isWhitespace(code){return code>=exports.$TAB&&code<=exports.$SPACE||code==exports.$NBSP}function isDigit(code){return exports.$0<=code&&code<=exports.$9}function isAsciiLetter(code){return code>=exports.$a&&code<=exports.$z||code>=exports.$A&&code<=exports.$Z}function isAsciiHexDigit(code){return code>=exports.$a&&code<=exports.$f||code>=exports.$A&&code<=exports.$F||isDigit(code)}exports.$EOF=0,exports.$TAB=9,exports.$LF=10,exports.$VTAB=11,exports.$FF=12,exports.$CR=13,exports.$SPACE=32,exports.$BANG=33,exports.$DQ=34,exports.$HASH=35,exports.$$=36,exports.$PERCENT=37,exports.$AMPERSAND=38,exports.$SQ=39,exports.$LPAREN=40,exports.$RPAREN=41,exports.$STAR=42,exports.$PLUS=43,exports.$COMMA=44,exports.$MINUS=45,exports.$PERIOD=46,exports.$SLASH=47,exports.$COLON=58,exports.$SEMICOLON=59,exports.$LT=60,exports.$EQ=61,exports.$GT=62,exports.$QUESTION=63,exports.$0=48,exports.$9=57,exports.$A=65,exports.$E=69,exports.$F=70,exports.$X=88,exports.$Z=90,exports.$LBRACKET=91,exports.$BACKSLASH=92,exports.$RBRACKET=93,exports.$CARET=94,exports.$_=95,exports.$a=97,exports.$e=101,exports.$f=102,exports.$n=110,exports.$r=114,exports.$t=116,exports.$u=117,exports.$v=118,exports.$x=120,exports.$z=122,exports.$LBRACE=123,exports.$BAR=124,exports.$RBRACE=125,exports.$NBSP=160,exports.$PIPE=124,exports.$TILDA=126,exports.$AT=64,exports.$BT=96,exports.isWhitespace=isWhitespace,exports.isDigit=isDigit,exports.isAsciiLetter=isAsciiLetter,exports.isAsciiHexDigit=isAsciiHexDigit},{}],60:[function(require,module,exports){"use strict";function mergeTokens(tokens,separator){void 0===separator&&(separator="");for(var mainToken=tokens[0],str=mainToken.strValue,i=1;i<tokens.length;i++)str+=separator+tokens[i].strValue;return new cssLexer_1.CssToken(mainToken.index,mainToken.column,mainToken.line,mainToken.type,str)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},cssLexer_1=require("./cssLexer");!function(BlockType){BlockType[BlockType.Import=0]="Import",BlockType[BlockType.Charset=1]="Charset",BlockType[BlockType.Namespace=2]="Namespace",BlockType[BlockType.Supports=3]="Supports",BlockType[BlockType.Keyframes=4]="Keyframes",BlockType[BlockType.MediaQuery=5]="MediaQuery",BlockType[BlockType.Selector=6]="Selector",BlockType[BlockType.FontFace=7]="FontFace",BlockType[BlockType.Page=8]="Page",BlockType[BlockType.Document=9]="Document",BlockType[BlockType.Viewport=10]="Viewport",BlockType[BlockType.Unsupported=11]="Unsupported"}(exports.BlockType||(exports.BlockType={}));var BlockType=exports.BlockType,CssAst=function(){function CssAst(location){this.location=location}return Object.defineProperty(CssAst.prototype,"start",{get:function(){return this.location.start},enumerable:!0,configurable:!0}),Object.defineProperty(CssAst.prototype,"end",{get:function(){return this.location.end},enumerable:!0,configurable:!0}),CssAst}();exports.CssAst=CssAst;var CssStyleValueAst=function(_super){function CssStyleValueAst(location,tokens,strValue){var _this=_super.call(this,location)||this;return _this.tokens=tokens,_this.strValue=strValue,_this}return __extends(CssStyleValueAst,_super),CssStyleValueAst.prototype.visit=function(visitor,context){return visitor.visitCssValue(this)},CssStyleValueAst}(CssAst);exports.CssStyleValueAst=CssStyleValueAst;var CssRuleAst=function(_super){function CssRuleAst(location){return _super.call(this,location)||this}return __extends(CssRuleAst,_super),CssRuleAst}(CssAst);exports.CssRuleAst=CssRuleAst;var CssBlockRuleAst=function(_super){function CssBlockRuleAst(location,type,block,name){void 0===name&&(name=null);var _this=_super.call(this,location)||this;return _this.location=location,_this.type=type,_this.block=block,_this.name=name,_this}return __extends(CssBlockRuleAst,_super),CssBlockRuleAst.prototype.visit=function(visitor,context){return visitor.visitCssBlock(this.block,context)},CssBlockRuleAst}(CssRuleAst);exports.CssBlockRuleAst=CssBlockRuleAst;var CssKeyframeRuleAst=function(_super){function CssKeyframeRuleAst(location,name,block){return _super.call(this,location,BlockType.Keyframes,block,name)||this}return __extends(CssKeyframeRuleAst,_super),CssKeyframeRuleAst.prototype.visit=function(visitor,context){return visitor.visitCssKeyframeRule(this,context)},CssKeyframeRuleAst}(CssBlockRuleAst);exports.CssKeyframeRuleAst=CssKeyframeRuleAst;var CssKeyframeDefinitionAst=function(_super){function CssKeyframeDefinitionAst(location,steps,block){var _this=_super.call(this,location,BlockType.Keyframes,block,mergeTokens(steps,","))||this;return _this.steps=steps,_this}return __extends(CssKeyframeDefinitionAst,_super),CssKeyframeDefinitionAst.prototype.visit=function(visitor,context){return visitor.visitCssKeyframeDefinition(this,context)},CssKeyframeDefinitionAst}(CssBlockRuleAst);exports.CssKeyframeDefinitionAst=CssKeyframeDefinitionAst;var CssBlockDefinitionRuleAst=function(_super){function CssBlockDefinitionRuleAst(location,strValue,type,query,block){var _this=_super.call(this,location,type,block)||this;_this.strValue=strValue,_this.query=query;var firstCssToken=query.tokens[0];return _this.name=new cssLexer_1.CssToken(firstCssToken.index,firstCssToken.column,firstCssToken.line,cssLexer_1.CssTokenType.Identifier,_this.strValue),_this}return __extends(CssBlockDefinitionRuleAst,_super),CssBlockDefinitionRuleAst.prototype.visit=function(visitor,context){return visitor.visitCssBlock(this.block,context)},CssBlockDefinitionRuleAst}(CssBlockRuleAst);exports.CssBlockDefinitionRuleAst=CssBlockDefinitionRuleAst;var CssMediaQueryRuleAst=function(_super){function CssMediaQueryRuleAst(location,strValue,query,block){return _super.call(this,location,strValue,BlockType.MediaQuery,query,block)||this}return __extends(CssMediaQueryRuleAst,_super),CssMediaQueryRuleAst.prototype.visit=function(visitor,context){return visitor.visitCssMediaQueryRule(this,context)},CssMediaQueryRuleAst}(CssBlockDefinitionRuleAst);exports.CssMediaQueryRuleAst=CssMediaQueryRuleAst;var CssAtRulePredicateAst=function(_super){function CssAtRulePredicateAst(location,strValue,tokens){var _this=_super.call(this,location)||this;return _this.strValue=strValue,_this.tokens=tokens,_this}return __extends(CssAtRulePredicateAst,_super),CssAtRulePredicateAst.prototype.visit=function(visitor,context){return visitor.visitCssAtRulePredicate(this,context)},CssAtRulePredicateAst}(CssAst);exports.CssAtRulePredicateAst=CssAtRulePredicateAst;var CssInlineRuleAst=function(_super){function CssInlineRuleAst(location,type,value){var _this=_super.call(this,location)||this;return _this.type=type,_this.value=value,_this}return __extends(CssInlineRuleAst,_super),CssInlineRuleAst.prototype.visit=function(visitor,context){return visitor.visitCssInlineRule(this,context)},CssInlineRuleAst}(CssRuleAst);exports.CssInlineRuleAst=CssInlineRuleAst;var CssSelectorRuleAst=function(_super){function CssSelectorRuleAst(location,selectors,block){var _this=_super.call(this,location,BlockType.Selector,block)||this;return _this.selectors=selectors,_this.strValue=selectors.map(function(selector){return selector.strValue}).join(","),_this}return __extends(CssSelectorRuleAst,_super),CssSelectorRuleAst.prototype.visit=function(visitor,context){return visitor.visitCssSelectorRule(this,context)},CssSelectorRuleAst}(CssBlockRuleAst);exports.CssSelectorRuleAst=CssSelectorRuleAst;var CssDefinitionAst=function(_super){function CssDefinitionAst(location,property,value){var _this=_super.call(this,location)||this;return _this.property=property,_this.value=value,_this}return __extends(CssDefinitionAst,_super),CssDefinitionAst.prototype.visit=function(visitor,context){return visitor.visitCssDefinition(this,context)},CssDefinitionAst}(CssAst);exports.CssDefinitionAst=CssDefinitionAst;var CssSelectorPartAst=function(_super){function CssSelectorPartAst(location){return _super.call(this,location)||this}return __extends(CssSelectorPartAst,_super),CssSelectorPartAst}(CssAst);exports.CssSelectorPartAst=CssSelectorPartAst;var CssSelectorAst=function(_super){function CssSelectorAst(location,selectorParts){var _this=_super.call(this,location)||this;return _this.selectorParts=selectorParts,_this.strValue=selectorParts.map(function(part){return part.strValue}).join(""),_this}return __extends(CssSelectorAst,_super),CssSelectorAst.prototype.visit=function(visitor,context){return visitor.visitCssSelector(this,context)},CssSelectorAst}(CssSelectorPartAst);exports.CssSelectorAst=CssSelectorAst;var CssSimpleSelectorAst=function(_super){function CssSimpleSelectorAst(location,tokens,strValue,pseudoSelectors,operator){var _this=_super.call(this,location)||this;return _this.tokens=tokens,_this.strValue=strValue,_this.pseudoSelectors=pseudoSelectors,_this.operator=operator,_this}return __extends(CssSimpleSelectorAst,_super),CssSimpleSelectorAst.prototype.visit=function(visitor,context){return visitor.visitCssSimpleSelector(this,context)},CssSimpleSelectorAst}(CssSelectorPartAst);exports.CssSimpleSelectorAst=CssSimpleSelectorAst;var CssPseudoSelectorAst=function(_super){function CssPseudoSelectorAst(location,strValue,name,tokens,innerSelectors){var _this=_super.call(this,location)||this;return _this.strValue=strValue,_this.name=name,_this.tokens=tokens,_this.innerSelectors=innerSelectors,_this}return __extends(CssPseudoSelectorAst,_super),CssPseudoSelectorAst.prototype.visit=function(visitor,context){return visitor.visitCssPseudoSelector(this,context)},CssPseudoSelectorAst}(CssSelectorPartAst);exports.CssPseudoSelectorAst=CssPseudoSelectorAst;var CssBlockAst=function(_super){function CssBlockAst(location,entries){var _this=_super.call(this,location)||this;return _this.entries=entries,_this}return __extends(CssBlockAst,_super),CssBlockAst.prototype.visit=function(visitor,context){return visitor.visitCssBlock(this,context)},CssBlockAst}(CssAst);exports.CssBlockAst=CssBlockAst;var CssStylesBlockAst=function(_super){function CssStylesBlockAst(location,definitions){var _this=_super.call(this,location,definitions)||this;return _this.definitions=definitions,_this}return __extends(CssStylesBlockAst,_super),CssStylesBlockAst.prototype.visit=function(visitor,context){return visitor.visitCssStylesBlock(this,context)},CssStylesBlockAst}(CssBlockAst);exports.CssStylesBlockAst=CssStylesBlockAst;var CssStyleSheetAst=function(_super){function CssStyleSheetAst(location,rules){var _this=_super.call(this,location)||this;return _this.rules=rules,_this}return __extends(CssStyleSheetAst,_super),CssStyleSheetAst.prototype.visit=function(visitor,context){return visitor.visitCssStyleSheet(this,context)},CssStyleSheetAst}(CssAst);exports.CssStyleSheetAst=CssStyleSheetAst;var CssUnknownRuleAst=function(_super){function CssUnknownRuleAst(location,ruleName,tokens){var _this=_super.call(this,location)||this;return _this.ruleName=ruleName,_this.tokens=tokens,_this}return __extends(CssUnknownRuleAst,_super),CssUnknownRuleAst.prototype.visit=function(visitor,context){return visitor.visitCssUnknownRule(this,context)},CssUnknownRuleAst}(CssRuleAst);exports.CssUnknownRuleAst=CssUnknownRuleAst;var CssUnknownTokenListAst=function(_super){function CssUnknownTokenListAst(location,name,tokens){var _this=_super.call(this,location)||this;return _this.name=name,_this.tokens=tokens,_this}return __extends(CssUnknownTokenListAst,_super),CssUnknownTokenListAst.prototype.visit=function(visitor,context){return visitor.visitCssUnknownTokenList(this,context)},CssUnknownTokenListAst}(CssRuleAst);exports.CssUnknownTokenListAst=CssUnknownTokenListAst,exports.mergeTokens=mergeTokens},{"./cssLexer":61}],61:[function(require,module,exports){"use strict";function generateErrorMessage(input,message,errorValue,index,row,column){return message+" at column "+row+":"+column+" in expression ["+findProblemCode(input,errorValue,index,column)+"]"}function findProblemCode(input,errorValue,index,column){for(var endOfProblemLine=index,current=charCode(input,index);current>0&&!isNewline(current);)current=charCode(input,++endOfProblemLine);for(var choppedString=input.substring(0,endOfProblemLine),pointerPadding="",i=0;column>i;i++)pointerPadding+=" ";for(var pointerString="",i=0;i<errorValue.length;i++)pointerString+="^";return choppedString+"\n"+pointerPadding+pointerString+"\n"}function _trackWhitespace(mode){switch(mode){case CssLexerMode.SELECTOR:case CssLexerMode.PSEUDO_SELECTOR:case CssLexerMode.ALL_TRACK_WS:case CssLexerMode.STYLE_VALUE:return!0;default:return!1}}function isCharMatch(target,previous,code){return code==target&&previous!=chars.$BACKSLASH}function isCommentStart(code,next){return code==chars.$SLASH&&next==chars.$STAR}function isCommentEnd(code,next){return code==chars.$STAR&&next==chars.$SLASH}function isStringStart(code,next){var target=code;return target==chars.$BACKSLASH&&(target=next),target==chars.$DQ||target==chars.$SQ}function isIdentifierStart(code,next){var target=code;return target==chars.$MINUS&&(target=next),chars.isAsciiLetter(target)||target==chars.$BACKSLASH||target==chars.$MINUS||target==chars.$_}function isIdentifierPart(target){return chars.isAsciiLetter(target)||target==chars.$BACKSLASH||target==chars.$MINUS||target==chars.$_||chars.isDigit(target)}function isValidPseudoSelectorCharacter(code){switch(code){case chars.$LPAREN:case chars.$RPAREN:return!0;default:return!1}}function isValidKeyframeBlockCharacter(code){return code==chars.$PERCENT}function isValidAttributeSelectorCharacter(code){switch(code){case chars.$$:case chars.$PIPE:case chars.$CARET:case chars.$TILDA:case chars.$STAR:case chars.$EQ:return!0;default:return!1}}function isValidSelectorCharacter(code){switch(code){case chars.$HASH:case chars.$PERIOD:case chars.$TILDA:case chars.$STAR:case chars.$PLUS:case chars.$GT:case chars.$COLON:case chars.$PIPE:case chars.$COMMA:case chars.$LBRACKET:case chars.$RBRACKET:return!0;default:return!1}}function isValidStyleBlockCharacter(code){switch(code){case chars.$HASH:case chars.$SEMICOLON:case chars.$COLON:case chars.$PERCENT:case chars.$SLASH:case chars.$BACKSLASH:case chars.$BANG:case chars.$PERIOD:case chars.$LPAREN:case chars.$RPAREN:return!0;default:return!1}}function isValidMediaQueryRuleCharacter(code){switch(code){case chars.$LPAREN:case chars.$RPAREN:case chars.$COLON:case chars.$PERCENT:case chars.$PERIOD:return!0;default:return!1}}function isValidAtRuleCharacter(code){switch(code){case chars.$LPAREN:case chars.$RPAREN:case chars.$COLON:case chars.$PERCENT:case chars.$PERIOD:case chars.$SLASH:case chars.$BACKSLASH:case chars.$HASH:case chars.$EQ:case chars.$QUESTION:case chars.$AMPERSAND:case chars.$STAR:case chars.$COMMA:case chars.$MINUS:case chars.$PLUS:return!0;default:return!1}}function isValidStyleFunctionCharacter(code){switch(code){case chars.$PERIOD:case chars.$MINUS:case chars.$PLUS:case chars.$STAR:case chars.$SLASH:case chars.$LPAREN:case chars.$RPAREN:case chars.$COMMA:return!0;default:return!1}}function isValidBlockCharacter(code){return code==chars.$AT}function isValidCssCharacter(code,mode){switch(mode){case CssLexerMode.ALL:case CssLexerMode.ALL_TRACK_WS:return!0;case CssLexerMode.SELECTOR:return isValidSelectorCharacter(code);case CssLexerMode.PSEUDO_SELECTOR_WITH_ARGUMENTS:return isValidPseudoSelectorCharacter(code);case CssLexerMode.ATTRIBUTE_SELECTOR:return isValidAttributeSelectorCharacter(code);case CssLexerMode.MEDIA_QUERY:return isValidMediaQueryRuleCharacter(code);case CssLexerMode.AT_RULE_QUERY:return isValidAtRuleCharacter(code);case CssLexerMode.KEYFRAME_BLOCK:return isValidKeyframeBlockCharacter(code);case CssLexerMode.STYLE_BLOCK:case CssLexerMode.STYLE_VALUE:return isValidStyleBlockCharacter(code);case CssLexerMode.STYLE_CALC_FUNCTION:return isValidStyleFunctionCharacter(code);case CssLexerMode.BLOCK:return isValidBlockCharacter(code);default:return!1}}function charCode(input,index){return index>=input.length?chars.$EOF:input.charCodeAt(index)}function charStr(code){return String.fromCharCode(code)}function isNewline(code){switch(code){case chars.$FF:case chars.$CR:case chars.$LF:case chars.$VTAB:return!0;default:return!1}}var chars=require("./chars");!function(CssTokenType){CssTokenType[CssTokenType.EOF=0]="EOF",CssTokenType[CssTokenType.String=1]="String",CssTokenType[CssTokenType.Comment=2]="Comment",CssTokenType[CssTokenType.Identifier=3]="Identifier",CssTokenType[CssTokenType.Number=4]="Number",CssTokenType[CssTokenType.IdentifierOrNumber=5]="IdentifierOrNumber",CssTokenType[CssTokenType.AtKeyword=6]="AtKeyword",CssTokenType[CssTokenType.Character=7]="Character",CssTokenType[CssTokenType.Whitespace=8]="Whitespace",CssTokenType[CssTokenType.Invalid=9]="Invalid"}(exports.CssTokenType||(exports.CssTokenType={}));var CssTokenType=exports.CssTokenType;!function(CssLexerMode){CssLexerMode[CssLexerMode.ALL=0]="ALL",CssLexerMode[CssLexerMode.ALL_TRACK_WS=1]="ALL_TRACK_WS",CssLexerMode[CssLexerMode.SELECTOR=2]="SELECTOR",CssLexerMode[CssLexerMode.PSEUDO_SELECTOR=3]="PSEUDO_SELECTOR",CssLexerMode[CssLexerMode.PSEUDO_SELECTOR_WITH_ARGUMENTS=4]="PSEUDO_SELECTOR_WITH_ARGUMENTS",CssLexerMode[CssLexerMode.ATTRIBUTE_SELECTOR=5]="ATTRIBUTE_SELECTOR",CssLexerMode[CssLexerMode.AT_RULE_QUERY=6]="AT_RULE_QUERY",CssLexerMode[CssLexerMode.MEDIA_QUERY=7]="MEDIA_QUERY",CssLexerMode[CssLexerMode.BLOCK=8]="BLOCK",CssLexerMode[CssLexerMode.KEYFRAME_BLOCK=9]="KEYFRAME_BLOCK",CssLexerMode[CssLexerMode.STYLE_BLOCK=10]="STYLE_BLOCK",CssLexerMode[CssLexerMode.STYLE_VALUE=11]="STYLE_VALUE",CssLexerMode[CssLexerMode.STYLE_VALUE_FUNCTION=12]="STYLE_VALUE_FUNCTION",CssLexerMode[CssLexerMode.STYLE_CALC_FUNCTION=13]="STYLE_CALC_FUNCTION"}(exports.CssLexerMode||(exports.CssLexerMode={}));var CssLexerMode=exports.CssLexerMode,LexedCssResult=function(){function LexedCssResult(error,token){this.error=error,this.token=token}return LexedCssResult}();exports.LexedCssResult=LexedCssResult,exports.generateErrorMessage=generateErrorMessage,exports.findProblemCode=findProblemCode;var CssToken=function(){function CssToken(index,column,line,type,strValue){this.index=index,this.column=column,this.line=line,this.type=type,this.strValue=strValue,this.numValue=charCode(strValue,0)}return CssToken}();exports.CssToken=CssToken;var CssLexer=function(){function CssLexer(){}return CssLexer.prototype.scan=function(text,trackComments){return void 0===trackComments&&(trackComments=!1),new CssScanner(text,trackComments)},CssLexer}();exports.CssLexer=CssLexer;var CssScannerError=function(){function CssScannerError(token,message){this.token=token,this.rawMessage=message}return CssScannerError.prototype.toString=function(){return this.message},CssScannerError}();exports.CssScannerError=CssScannerError;var CssScanner=function(){function CssScanner(input,_trackComments){void 0===_trackComments&&(_trackComments=!1),this.input=input,this._trackComments=_trackComments,this.length=0,this.index=-1,this.column=-1,this.line=0,this._currentMode=CssLexerMode.BLOCK,this._currentError=null,this.length=this.input.length,this.peekPeek=this.peekAt(0),this.advance()}return CssScanner.prototype.getMode=function(){return this._currentMode},CssScanner.prototype.setMode=function(mode){this._currentMode!=mode&&(_trackWhitespace(this._currentMode)&&!_trackWhitespace(mode)&&this.consumeWhitespace(),this._currentMode=mode)},CssScanner.prototype.advance=function(){isNewline(this.peek)?(this.column=0,this.line++):this.column++,this.index++,this.peek=this.peekPeek,this.peekPeek=this.peekAt(this.index+1)},CssScanner.prototype.peekAt=function(index){return index>=this.length?chars.$EOF:this.input.charCodeAt(index)},CssScanner.prototype.consumeEmptyStatements=function(){for(this.consumeWhitespace();this.peek==chars.$SEMICOLON;)this.advance(),this.consumeWhitespace()},CssScanner.prototype.consumeWhitespace=function(){for(;chars.isWhitespace(this.peek)||isNewline(this.peek);)if(this.advance(),!this._trackComments&&isCommentStart(this.peek,this.peekPeek)){for(this.advance(),this.advance();!isCommentEnd(this.peek,this.peekPeek);)this.peek==chars.$EOF&&this.error("Unterminated comment"),this.advance();this.advance(),this.advance()}},CssScanner.prototype.consume=function(type,value){void 0===value&&(value=null);var mode=this._currentMode;this.setMode(_trackWhitespace(mode)?CssLexerMode.ALL_TRACK_WS:CssLexerMode.ALL);var next,previousIndex=this.index,previousLine=this.line,previousColumn=this.column,output=this.scan();if(output){if(output.error)return this.setMode(mode),output;next=output.token}next||(next=new CssToken(this.index,this.column,this.line,CssTokenType.EOF,"end of file"));var isMatchingType=!1;isMatchingType=type==CssTokenType.IdentifierOrNumber?next.type==CssTokenType.Number||next.type==CssTokenType.Identifier:next.type==type,this.setMode(mode);var error=null;if(!isMatchingType||value&&value!=next.strValue){var errorMessage=CssTokenType[next.type]+" does not match expected "+CssTokenType[type]+" value";value&&(errorMessage+=' ("'+next.strValue+'" should match "'+value+'")'),error=new CssScannerError(next,generateErrorMessage(this.input,errorMessage,next.strValue,previousIndex,previousLine,previousColumn))}return new LexedCssResult(error,next)},CssScanner.prototype.scan=function(){var trackWS=_trackWhitespace(this._currentMode);0!=this.index||trackWS||this.consumeWhitespace();var token=this._scan();if(null==token)return null;var error=this._currentError;return this._currentError=null,trackWS||this.consumeWhitespace(),new LexedCssResult(error,token)},CssScanner.prototype._scan=function(){var peek=this.peek,peekPeek=this.peekPeek;if(peek==chars.$EOF)return null;if(isCommentStart(peek,peekPeek)){var commentToken=this.scanComment();if(this._trackComments)return commentToken}if(_trackWhitespace(this._currentMode)&&(chars.isWhitespace(peek)||isNewline(peek)))return this.scanWhitespace();if(peek=this.peek,peekPeek=this.peekPeek,peek==chars.$EOF)return null;if(isStringStart(peek,peekPeek))return this.scanString();if(this._currentMode==CssLexerMode.STYLE_VALUE_FUNCTION)return this.scanCssValueFunction();var isModifier=peek==chars.$PLUS||peek==chars.$MINUS,digitA=isModifier?!1:chars.isDigit(peek),digitB=chars.isDigit(peekPeek);return digitA||isModifier&&(peekPeek==chars.$PERIOD||digitB)||peek==chars.$PERIOD&&digitB?this.scanNumber():peek==chars.$AT?this.scanAtExpression():isIdentifierStart(peek,peekPeek)?this.scanIdentifier():isValidCssCharacter(peek,this._currentMode)?this.scanCharacter():this.error("Unexpected character ["+String.fromCharCode(peek)+"]");
},CssScanner.prototype.scanComment=function(){if(this.assertCondition(isCommentStart(this.peek,this.peekPeek),"Expected comment start value"))return null;var start=this.index,startingColumn=this.column,startingLine=this.line;for(this.advance(),this.advance();!isCommentEnd(this.peek,this.peekPeek);)this.peek==chars.$EOF&&this.error("Unterminated comment"),this.advance();this.advance(),this.advance();var str=this.input.substring(start,this.index);return new CssToken(start,startingColumn,startingLine,CssTokenType.Comment,str)},CssScanner.prototype.scanWhitespace=function(){for(var start=this.index,startingColumn=this.column,startingLine=this.line;chars.isWhitespace(this.peek)&&this.peek!=chars.$EOF;)this.advance();var str=this.input.substring(start,this.index);return new CssToken(start,startingColumn,startingLine,CssTokenType.Whitespace,str)},CssScanner.prototype.scanString=function(){if(this.assertCondition(isStringStart(this.peek,this.peekPeek),"Unexpected non-string starting value"))return null;var target=this.peek,start=this.index,startingColumn=this.column,startingLine=this.line,previous=target;for(this.advance();!isCharMatch(target,previous,this.peek);)(this.peek==chars.$EOF||isNewline(this.peek))&&this.error("Unterminated quote"),previous=this.peek,this.advance();if(this.assertCondition(this.peek==target,"Unterminated quote"))return null;this.advance();var str=this.input.substring(start,this.index);return new CssToken(start,startingColumn,startingLine,CssTokenType.String,str)},CssScanner.prototype.scanNumber=function(){var start=this.index,startingColumn=this.column;(this.peek==chars.$PLUS||this.peek==chars.$MINUS)&&this.advance();for(var periodUsed=!1;chars.isDigit(this.peek)||this.peek==chars.$PERIOD;)this.peek==chars.$PERIOD&&(periodUsed&&this.error("Unexpected use of a second period value"),periodUsed=!0),this.advance();var strValue=this.input.substring(start,this.index);return new CssToken(start,startingColumn,this.line,CssTokenType.Number,strValue)},CssScanner.prototype.scanIdentifier=function(){if(this.assertCondition(isIdentifierStart(this.peek,this.peekPeek),"Expected identifier starting value"))return null;for(var start=this.index,startingColumn=this.column;isIdentifierPart(this.peek);)this.advance();var strValue=this.input.substring(start,this.index);return new CssToken(start,startingColumn,this.line,CssTokenType.Identifier,strValue)},CssScanner.prototype.scanCssValueFunction=function(){for(var start=this.index,startingColumn=this.column,parenBalance=1;this.peek!=chars.$EOF&&parenBalance>0;)this.advance(),this.peek==chars.$LPAREN?parenBalance++:this.peek==chars.$RPAREN&&parenBalance--;var strValue=this.input.substring(start,this.index);return new CssToken(start,startingColumn,this.line,CssTokenType.Identifier,strValue)},CssScanner.prototype.scanCharacter=function(){var start=this.index,startingColumn=this.column;if(this.assertCondition(isValidCssCharacter(this.peek,this._currentMode),charStr(this.peek)+" is not a valid CSS character"))return null;var c=this.input.substring(start,start+1);return this.advance(),new CssToken(start,startingColumn,this.line,CssTokenType.Character,c)},CssScanner.prototype.scanAtExpression=function(){if(this.assertCondition(this.peek==chars.$AT,"Expected @ value"))return null;var start=this.index,startingColumn=this.column;if(this.advance(),isIdentifierStart(this.peek,this.peekPeek)){var ident=this.scanIdentifier(),strValue="@"+ident.strValue;return new CssToken(start,startingColumn,this.line,CssTokenType.AtKeyword,strValue)}return this.scanCharacter()},CssScanner.prototype.assertCondition=function(status,errorMessage){return status?!1:(this.error(errorMessage),!0)},CssScanner.prototype.error=function(message,errorTokenValue,doNotAdvance){void 0===errorTokenValue&&(errorTokenValue=null),void 0===doNotAdvance&&(doNotAdvance=!1);var index=this.index,column=this.column,line=this.line;errorTokenValue=errorTokenValue?errorTokenValue:String.fromCharCode(this.peek);var invalidToken=new CssToken(index,column,line,CssTokenType.Invalid,errorTokenValue),errorMessage=generateErrorMessage(this.input,message,errorTokenValue,index,line,column);return doNotAdvance||this.advance(),this._currentError=new CssScannerError(invalidToken,errorMessage),invalidToken},CssScanner}();exports.CssScanner=CssScanner,exports.isNewline=isNewline},{"./chars":59}],62:[function(require,module,exports){"use strict";function _pseudoSelectorSupportsInnerSelectors(name){return["not","host","host-context"].indexOf(name)>=0}function isSelectorOperatorCharacter(code){switch(code){case chars.$SLASH:case chars.$TILDA:case chars.$PLUS:case chars.$GT:return!0;default:return chars.isWhitespace(code)}}function getDelimFromCharacter(code){switch(code){case chars.$EOF:return EOF_DELIM_FLAG;case chars.$COMMA:return COMMA_DELIM_FLAG;case chars.$COLON:return COLON_DELIM_FLAG;case chars.$SEMICOLON:return SEMICOLON_DELIM_FLAG;case chars.$RBRACE:return RBRACE_DELIM_FLAG;case chars.$LBRACE:return LBRACE_DELIM_FLAG;case chars.$RPAREN:return RPAREN_DELIM_FLAG;case chars.$SPACE:case chars.$TAB:return SPACE_DELIM_FLAG;default:return cssLexer_1.isNewline(code)?NEWLINE_DELIM_FLAG:0}}function characterContainsDelimiter(code,delimiters){return(getDelimFromCharacter(code)&delimiters)>0}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},chars=require("./chars"),parseUtil_1=require("./parseUtil"),cssAst_1=require("./cssAst"),cssLexer_1=require("./cssLexer"),SPACE_OPERATOR=" ",cssLexer_2=require("./cssLexer");exports.CssToken=cssLexer_2.CssToken;var cssAst_2=require("./cssAst");exports.BlockType=cssAst_2.BlockType;var SLASH_CHARACTER="/",GT_CHARACTER=">",TRIPLE_GT_OPERATOR_STR=">>>",DEEP_OPERATOR_STR="/deep/",EOF_DELIM_FLAG=1,RBRACE_DELIM_FLAG=2,LBRACE_DELIM_FLAG=4,COMMA_DELIM_FLAG=8,COLON_DELIM_FLAG=16,SEMICOLON_DELIM_FLAG=32,NEWLINE_DELIM_FLAG=64,RPAREN_DELIM_FLAG=128,LPAREN_DELIM_FLAG=256,SPACE_DELIM_FLAG=512,ParsedCssResult=function(){function ParsedCssResult(errors,ast){this.errors=errors,this.ast=ast}return ParsedCssResult}();exports.ParsedCssResult=ParsedCssResult;var CssParser=function(){function CssParser(){this._errors=[]}return CssParser.prototype.parse=function(css,url){var lexer=new cssLexer_1.CssLexer;this._file=new parseUtil_1.ParseSourceFile(css,url),this._scanner=lexer.scan(css,!1);var ast=this._parseStyleSheet(EOF_DELIM_FLAG),errors=this._errors;this._errors=[];var result=new ParsedCssResult(errors,ast);return this._file=null,this._scanner=null,result},CssParser.prototype._parseStyleSheet=function(delimiters){var results=[];for(this._scanner.consumeEmptyStatements();this._scanner.peek!=chars.$EOF;)this._scanner.setMode(cssLexer_1.CssLexerMode.BLOCK),results.push(this._parseRule(delimiters));var span=null;if(results.length>0){var firstRule=results[0];span=this._generateSourceSpan(firstRule,this._lastToken)}return new cssAst_1.CssStyleSheetAst(span,results)},CssParser.prototype._getSourceContent=function(){return this._scanner?this._scanner.input:""},CssParser.prototype._extractSourceContent=function(start,end){return this._getSourceContent().substring(start,end+1)},CssParser.prototype._generateSourceSpan=function(start,end){void 0===end&&(end=null);var startLoc;if(start instanceof cssAst_1.CssAst)startLoc=start.location.start;else{var token=start;token||(token=this._lastToken),startLoc=new parseUtil_1.ParseLocation(this._file,token.index,token.line,token.column)}end||(end=this._lastToken);var endLine,endColumn,endIndex;end instanceof cssAst_1.CssAst?(endLine=end.location.end.line,endColumn=end.location.end.col,endIndex=end.location.end.offset):end instanceof cssLexer_1.CssToken&&(endLine=end.line,endColumn=end.column,endIndex=end.index);var endLoc=new parseUtil_1.ParseLocation(this._file,endIndex,endLine,endColumn);return new parseUtil_1.ParseSourceSpan(startLoc,endLoc)},CssParser.prototype._resolveBlockType=function(token){switch(token.strValue){case"@-o-keyframes":case"@-moz-keyframes":case"@-webkit-keyframes":case"@keyframes":return cssAst_1.BlockType.Keyframes;case"@charset":return cssAst_1.BlockType.Charset;case"@import":return cssAst_1.BlockType.Import;case"@namespace":return cssAst_1.BlockType.Namespace;case"@page":return cssAst_1.BlockType.Page;case"@document":return cssAst_1.BlockType.Document;case"@media":return cssAst_1.BlockType.MediaQuery;case"@font-face":return cssAst_1.BlockType.FontFace;case"@viewport":return cssAst_1.BlockType.Viewport;case"@supports":return cssAst_1.BlockType.Supports;default:return cssAst_1.BlockType.Unsupported}},CssParser.prototype._parseRule=function(delimiters){return this._scanner.peek==chars.$AT?this._parseAtRule(delimiters):this._parseSelectorRule(delimiters)},CssParser.prototype._parseAtRule=function(delimiters){var start=this._getScannerIndex();this._scanner.setMode(cssLexer_1.CssLexerMode.BLOCK);var token=this._scan(),startToken=token;this._assertCondition(token.type==cssLexer_1.CssTokenType.AtKeyword,"The CSS Rule "+token.strValue+" is not a valid [@] rule.",token);var block,span,tokens,endToken,end,strValue,query,type=this._resolveBlockType(token);switch(type){case cssAst_1.BlockType.Charset:case cssAst_1.BlockType.Namespace:case cssAst_1.BlockType.Import:var value=this._parseValue(delimiters);return this._scanner.setMode(cssLexer_1.CssLexerMode.BLOCK),this._scanner.consumeEmptyStatements(),span=this._generateSourceSpan(startToken,value),new cssAst_1.CssInlineRuleAst(span,type,value);case cssAst_1.BlockType.Viewport:case cssAst_1.BlockType.FontFace:return block=this._parseStyleBlock(delimiters),span=this._generateSourceSpan(startToken,block),new cssAst_1.CssBlockRuleAst(span,type,block);case cssAst_1.BlockType.Keyframes:tokens=this._collectUntilDelim(delimiters|RBRACE_DELIM_FLAG|LBRACE_DELIM_FLAG);var name_1=tokens[0];return block=this._parseKeyframeBlock(delimiters),span=this._generateSourceSpan(startToken,block),new cssAst_1.CssKeyframeRuleAst(span,name_1,block);case cssAst_1.BlockType.MediaQuery:return this._scanner.setMode(cssLexer_1.CssLexerMode.MEDIA_QUERY),tokens=this._collectUntilDelim(delimiters|RBRACE_DELIM_FLAG|LBRACE_DELIM_FLAG),endToken=tokens[tokens.length-1],end=endToken.index+endToken.strValue.length-1,strValue=this._extractSourceContent(start,end),span=this._generateSourceSpan(startToken,endToken),query=new cssAst_1.CssAtRulePredicateAst(span,strValue,tokens),block=this._parseBlock(delimiters),strValue=this._extractSourceContent(start,this._getScannerIndex()-1),span=this._generateSourceSpan(startToken,block),new cssAst_1.CssMediaQueryRuleAst(span,strValue,query,block);case cssAst_1.BlockType.Document:case cssAst_1.BlockType.Supports:case cssAst_1.BlockType.Page:return this._scanner.setMode(cssLexer_1.CssLexerMode.AT_RULE_QUERY),tokens=this._collectUntilDelim(delimiters|RBRACE_DELIM_FLAG|LBRACE_DELIM_FLAG),endToken=tokens[tokens.length-1],end=endToken.index+endToken.strValue.length-1,strValue=this._extractSourceContent(start,end),span=this._generateSourceSpan(startToken,tokens[tokens.length-1]),query=new cssAst_1.CssAtRulePredicateAst(span,strValue,tokens),block=this._parseBlock(delimiters),strValue=this._extractSourceContent(start,block.end.offset),span=this._generateSourceSpan(startToken,block),new cssAst_1.CssBlockDefinitionRuleAst(span,strValue,type,query,block);default:var listOfTokens_1=[],tokenName=token.strValue;return this._scanner.setMode(cssLexer_1.CssLexerMode.ALL),this._error(cssLexer_1.generateErrorMessage(this._getSourceContent(),'The CSS "at" rule "'+tokenName+'" is not allowed to used here',token.strValue,token.index,token.line,token.column),token),this._collectUntilDelim(delimiters|LBRACE_DELIM_FLAG|SEMICOLON_DELIM_FLAG).forEach(function(token){listOfTokens_1.push(token)}),this._scanner.peek==chars.$LBRACE&&(listOfTokens_1.push(this._consume(cssLexer_1.CssTokenType.Character,"{")),this._collectUntilDelim(delimiters|RBRACE_DELIM_FLAG|LBRACE_DELIM_FLAG).forEach(function(token){listOfTokens_1.push(token)}),listOfTokens_1.push(this._consume(cssLexer_1.CssTokenType.Character,"}"))),endToken=listOfTokens_1[listOfTokens_1.length-1],span=this._generateSourceSpan(startToken,endToken),new cssAst_1.CssUnknownRuleAst(span,tokenName,listOfTokens_1)}},CssParser.prototype._parseSelectorRule=function(delimiters){var ruleAst,span,start=this._getScannerIndex(),selectors=this._parseSelectors(delimiters),block=this._parseStyleBlock(delimiters),startSelector=selectors[0];if(block){var span=this._generateSourceSpan(startSelector,block);ruleAst=new cssAst_1.CssSelectorRuleAst(span,selectors,block)}else{var name=this._extractSourceContent(start,this._getScannerIndex()-1),innerTokens=[];selectors.forEach(function(selector){selector.selectorParts.forEach(function(part){part.tokens.forEach(function(token){innerTokens.push(token)})})});var endToken=innerTokens[innerTokens.length-1];span=this._generateSourceSpan(startSelector,endToken),ruleAst=new cssAst_1.CssUnknownTokenListAst(span,name,innerTokens)}return this._scanner.setMode(cssLexer_1.CssLexerMode.BLOCK),this._scanner.consumeEmptyStatements(),ruleAst},CssParser.prototype._parseSelectors=function(delimiters){delimiters|=LBRACE_DELIM_FLAG|SEMICOLON_DELIM_FLAG;for(var selectors=[],isParsingSelectors=!0;isParsingSelectors;)selectors.push(this._parseSelector(delimiters)),isParsingSelectors=!characterContainsDelimiter(this._scanner.peek,delimiters),isParsingSelectors&&(this._consume(cssLexer_1.CssTokenType.Character,","),isParsingSelectors=!characterContainsDelimiter(this._scanner.peek,delimiters),isParsingSelectors&&this._scanner.consumeWhitespace());return selectors},CssParser.prototype._scan=function(){var output=this._scanner.scan(),token=output.token,error=output.error;return error&&this._error(error.rawMessage,token),this._lastToken=token,token},CssParser.prototype._getScannerIndex=function(){return this._scanner.index},CssParser.prototype._consume=function(type,value){void 0===value&&(value=null);var output=this._scanner.consume(type,value),token=output.token,error=output.error;return error&&this._error(error.rawMessage,token),this._lastToken=token,token},CssParser.prototype._parseKeyframeBlock=function(delimiters){delimiters|=RBRACE_DELIM_FLAG,this._scanner.setMode(cssLexer_1.CssLexerMode.KEYFRAME_BLOCK);for(var startToken=this._consume(cssLexer_1.CssTokenType.Character,"{"),definitions=[];!characterContainsDelimiter(this._scanner.peek,delimiters);)definitions.push(this._parseKeyframeDefinition(delimiters));var endToken=this._consume(cssLexer_1.CssTokenType.Character,"}"),span=this._generateSourceSpan(startToken,endToken);return new cssAst_1.CssBlockAst(span,definitions)},CssParser.prototype._parseKeyframeDefinition=function(delimiters){var stepTokens=(this._getScannerIndex(),[]);for(delimiters|=LBRACE_DELIM_FLAG;!characterContainsDelimiter(this._scanner.peek,delimiters);)stepTokens.push(this._parseKeyframeLabel(delimiters|COMMA_DELIM_FLAG)),this._scanner.peek!=chars.$LBRACE&&this._consume(cssLexer_1.CssTokenType.Character,",");var stylesBlock=this._parseStyleBlock(delimiters|RBRACE_DELIM_FLAG),span=this._generateSourceSpan(stepTokens[0],stylesBlock),ast=new cssAst_1.CssKeyframeDefinitionAst(span,stepTokens,stylesBlock);return this._scanner.setMode(cssLexer_1.CssLexerMode.BLOCK),ast},CssParser.prototype._parseKeyframeLabel=function(delimiters){return this._scanner.setMode(cssLexer_1.CssLexerMode.KEYFRAME_BLOCK),cssAst_1.mergeTokens(this._collectUntilDelim(delimiters))},CssParser.prototype._parsePseudoSelector=function(delimiters){var start=this._getScannerIndex();delimiters&=~COMMA_DELIM_FLAG;var startingDelims=delimiters,startToken=this._consume(cssLexer_1.CssTokenType.Character,":"),tokens=[startToken];this._scanner.peek==chars.$COLON&&tokens.push(this._consume(cssLexer_1.CssTokenType.Character,":"));var innerSelectors=[];this._scanner.setMode(cssLexer_1.CssLexerMode.PSEUDO_SELECTOR);var pseudoSelectorToken=this._consume(cssLexer_1.CssTokenType.Identifier),pseudoSelectorName=pseudoSelectorToken.strValue;if(tokens.push(pseudoSelectorToken),this._scanner.peek==chars.$LPAREN){this._scanner.setMode(cssLexer_1.CssLexerMode.PSEUDO_SELECTOR_WITH_ARGUMENTS);var openParenToken=this._consume(cssLexer_1.CssTokenType.Character,"(");if(tokens.push(openParenToken),_pseudoSelectorSupportsInnerSelectors(pseudoSelectorName)){var innerDelims=startingDelims|LPAREN_DELIM_FLAG|RPAREN_DELIM_FLAG;"not"==pseudoSelectorName&&(innerDelims|=COMMA_DELIM_FLAG),this._parseSelectors(innerDelims).forEach(function(selector,index){innerSelectors.push(selector)})}else for(var innerValueDelims=delimiters|LBRACE_DELIM_FLAG|COLON_DELIM_FLAG|RPAREN_DELIM_FLAG|LPAREN_DELIM_FLAG;!characterContainsDelimiter(this._scanner.peek,innerValueDelims);){var token=this._scan();tokens.push(token)}var closeParenToken=this._consume(cssLexer_1.CssTokenType.Character,")");tokens.push(closeParenToken)}var end=this._getScannerIndex()-1,strValue=this._extractSourceContent(start,end),endToken=tokens[tokens.length-1],span=this._generateSourceSpan(startToken,endToken);return new cssAst_1.CssPseudoSelectorAst(span,strValue,pseudoSelectorName,tokens,innerSelectors)},CssParser.prototype._parseSimpleSelector=function(delimiters){var start=this._getScannerIndex();delimiters|=COMMA_DELIM_FLAG,this._scanner.setMode(cssLexer_1.CssLexerMode.SELECTOR);for(var previousToken,selectorCssTokens=[],pseudoSelectors=[],selectorPartDelimiters=delimiters|SPACE_DELIM_FLAG,loopOverSelector=!characterContainsDelimiter(this._scanner.peek,selectorPartDelimiters),hasAttributeError=!1;loopOverSelector;){var peek=this._scanner.peek;switch(peek){case chars.$COLON:var innerPseudo=this._parsePseudoSelector(delimiters);pseudoSelectors.push(innerPseudo),this._scanner.setMode(cssLexer_1.CssLexerMode.SELECTOR);break;case chars.$LBRACKET:selectorCssTokens.push(this._scan()),this._scanner.setMode(cssLexer_1.CssLexerMode.ATTRIBUTE_SELECTOR);break;case chars.$RBRACKET:this._scanner.getMode()!=cssLexer_1.CssLexerMode.ATTRIBUTE_SELECTOR&&(hasAttributeError=!0),this._scanner.setMode(cssLexer_1.CssLexerMode.SELECTOR),selectorCssTokens.push(this._scan());break;default:if(isSelectorOperatorCharacter(peek)){loopOverSelector=!1;continue}var token=this._scan();previousToken=token,selectorCssTokens.push(token)}loopOverSelector=!characterContainsDelimiter(this._scanner.peek,selectorPartDelimiters)}hasAttributeError=hasAttributeError||this._scanner.getMode()==cssLexer_1.CssLexerMode.ATTRIBUTE_SELECTOR,hasAttributeError&&this._error("Unbalanced CSS attribute selector at column "+previousToken.line+":"+previousToken.column,previousToken);var end=this._getScannerIndex()-1;if(!characterContainsDelimiter(this._scanner.peek,delimiters)){for(var operator=null,operatorScanCount=0,lastOperatorToken=null;null==operator&&!characterContainsDelimiter(this._scanner.peek,delimiters)&&isSelectorOperatorCharacter(this._scanner.peek);){var token=this._scan(),tokenOperator=token.strValue;if(operatorScanCount++,lastOperatorToken=token,tokenOperator!=SPACE_OPERATOR){switch(tokenOperator){case SLASH_CHARACTER:var deepToken=this._consume(cssLexer_1.CssTokenType.Identifier),deepSlash=this._consume(cssLexer_1.CssTokenType.Character),index=lastOperatorToken.index,line=lastOperatorToken.line,column=lastOperatorToken.column;if(deepToken&&"deep"==deepToken.strValue.toLowerCase()&&deepSlash.strValue==SLASH_CHARACTER)token=new cssLexer_1.CssToken(lastOperatorToken.index,lastOperatorToken.column,lastOperatorToken.line,cssLexer_1.CssTokenType.Identifier,DEEP_OPERATOR_STR);else{var text=SLASH_CHARACTER+deepToken.strValue+deepSlash.strValue;this._error(cssLexer_1.generateErrorMessage(this._getSourceContent(),text+" is an invalid CSS operator",text,index,line,column),lastOperatorToken),token=new cssLexer_1.CssToken(index,column,line,cssLexer_1.CssTokenType.Invalid,text)}break;case GT_CHARACTER:this._scanner.peek==chars.$GT&&this._scanner.peekPeek==chars.$GT&&(this._consume(cssLexer_1.CssTokenType.Character,GT_CHARACTER),this._consume(cssLexer_1.CssTokenType.Character,GT_CHARACTER),token=new cssLexer_1.CssToken(lastOperatorToken.index,lastOperatorToken.column,lastOperatorToken.line,cssLexer_1.CssTokenType.Identifier,TRIPLE_GT_OPERATOR_STR))}operator=token}}operator&&(end=operator.index)}this._scanner.consumeWhitespace();var strValue=this._extractSourceContent(start,end);null==operator&&operatorScanCount>0&&this._scanner.peek!=chars.$LBRACE&&(operator=lastOperatorToken);var startTokenOrAst=null,endTokenOrAst=null;selectorCssTokens.length>0&&(startTokenOrAst=startTokenOrAst||selectorCssTokens[0],endTokenOrAst=selectorCssTokens[selectorCssTokens.length-1]),pseudoSelectors.length>0&&(startTokenOrAst=startTokenOrAst||pseudoSelectors[0],endTokenOrAst=pseudoSelectors[pseudoSelectors.length-1]),operator&&(startTokenOrAst=startTokenOrAst||operator,endTokenOrAst=operator);var span=this._generateSourceSpan(startTokenOrAst,endTokenOrAst);return new cssAst_1.CssSimpleSelectorAst(span,selectorCssTokens,strValue,pseudoSelectors,operator)},CssParser.prototype._parseSelector=function(delimiters){delimiters|=COMMA_DELIM_FLAG,this._scanner.setMode(cssLexer_1.CssLexerMode.SELECTOR);for(var simpleSelectors=[];!characterContainsDelimiter(this._scanner.peek,delimiters);)simpleSelectors.push(this._parseSimpleSelector(delimiters)),this._scanner.consumeWhitespace();var firstSelector=simpleSelectors[0],lastSelector=simpleSelectors[simpleSelectors.length-1],span=this._generateSourceSpan(firstSelector,lastSelector);return new cssAst_1.CssSelectorAst(span,simpleSelectors)},CssParser.prototype._parseValue=function(delimiters){delimiters|=RBRACE_DELIM_FLAG|SEMICOLON_DELIM_FLAG|NEWLINE_DELIM_FLAG,this._scanner.setMode(cssLexer_1.CssLexerMode.STYLE_VALUE);for(var previous,start=this._getScannerIndex(),tokens=[],wsStr="";!characterContainsDelimiter(this._scanner.peek,delimiters);){var token;previous&&previous.type==cssLexer_1.CssTokenType.Identifier&&this._scanner.peek==chars.$LPAREN?(token=this._consume(cssLexer_1.CssTokenType.Character,"("),tokens.push(token),this._scanner.setMode(cssLexer_1.CssLexerMode.STYLE_VALUE_FUNCTION),token=this._scan(),tokens.push(token),this._scanner.setMode(cssLexer_1.CssLexerMode.STYLE_VALUE),token=this._consume(cssLexer_1.CssTokenType.Character,")"),tokens.push(token)):(token=this._scan(),token.type==cssLexer_1.CssTokenType.Whitespace?wsStr+=token.strValue:(wsStr="",tokens.push(token))),previous=token}var end=this._getScannerIndex()-1;this._scanner.consumeWhitespace();var code=this._scanner.peek;code==chars.$SEMICOLON?this._consume(cssLexer_1.CssTokenType.Character,";"):code!=chars.$RBRACE&&this._error(cssLexer_1.generateErrorMessage(this._getSourceContent(),"The CSS key/value definition did not end with a semicolon",previous.strValue,previous.index,previous.line,previous.column),previous);var strValue=this._extractSourceContent(start,end),startToken=tokens[0],endToken=tokens[tokens.length-1],span=this._generateSourceSpan(startToken,endToken);return new cssAst_1.CssStyleValueAst(span,tokens,strValue)},CssParser.prototype._collectUntilDelim=function(delimiters,assertType){void 0===assertType&&(assertType=null);for(var tokens=[];!characterContainsDelimiter(this._scanner.peek,delimiters);){var val=assertType?this._consume(assertType):this._scan();tokens.push(val)}return tokens},CssParser.prototype._parseBlock=function(delimiters){delimiters|=RBRACE_DELIM_FLAG,this._scanner.setMode(cssLexer_1.CssLexerMode.BLOCK);var startToken=this._consume(cssLexer_1.CssTokenType.Character,"{");this._scanner.consumeEmptyStatements();for(var results=[];!characterContainsDelimiter(this._scanner.peek,delimiters);)results.push(this._parseRule(delimiters));var endToken=this._consume(cssLexer_1.CssTokenType.Character,"}");this._scanner.setMode(cssLexer_1.CssLexerMode.BLOCK),this._scanner.consumeEmptyStatements();var span=this._generateSourceSpan(startToken,endToken);return new cssAst_1.CssBlockAst(span,results)},CssParser.prototype._parseStyleBlock=function(delimiters){delimiters|=RBRACE_DELIM_FLAG|LBRACE_DELIM_FLAG,this._scanner.setMode(cssLexer_1.CssLexerMode.STYLE_BLOCK);var startToken=this._consume(cssLexer_1.CssTokenType.Character,"{");if(startToken.numValue!=chars.$LBRACE)return null;var definitions=[];for(this._scanner.consumeEmptyStatements();!characterContainsDelimiter(this._scanner.peek,delimiters);)definitions.push(this._parseDefinition(delimiters)),this._scanner.consumeEmptyStatements();var endToken=this._consume(cssLexer_1.CssTokenType.Character,"}");this._scanner.setMode(cssLexer_1.CssLexerMode.STYLE_BLOCK),this._scanner.consumeEmptyStatements();var span=this._generateSourceSpan(startToken,endToken);return new cssAst_1.CssStylesBlockAst(span,definitions)},CssParser.prototype._parseDefinition=function(delimiters){this._scanner.setMode(cssLexer_1.CssLexerMode.STYLE_BLOCK);var prop=this._consume(cssLexer_1.CssTokenType.Identifier),parseValue=!1,value=null,endToken=prop;switch(this._scanner.peek){case chars.$SEMICOLON:case chars.$RBRACE:case chars.$EOF:parseValue=!1;break;default:var propStr=[prop.strValue];if(this._scanner.peek!=chars.$COLON){var nextValue=this._consume(cssLexer_1.CssTokenType.Character,":");propStr.push(nextValue.strValue);var remainingTokens=this._collectUntilDelim(delimiters|COLON_DELIM_FLAG|SEMICOLON_DELIM_FLAG,cssLexer_1.CssTokenType.Identifier);remainingTokens.length>0&&remainingTokens.forEach(function(token){propStr.push(token.strValue)}),endToken=prop=new cssLexer_1.CssToken(prop.index,prop.column,prop.line,prop.type,propStr.join(" "))}this._scanner.peek==chars.$COLON&&(this._consume(cssLexer_1.CssTokenType.Character,":"),parseValue=!0)}parseValue?(value=this._parseValue(delimiters),endToken=value):this._error(cssLexer_1.generateErrorMessage(this._getSourceContent(),"The CSS property was not paired with a style value",prop.strValue,prop.index,prop.line,prop.column),prop);var span=this._generateSourceSpan(prop,endToken);return new cssAst_1.CssDefinitionAst(span,prop,value)},CssParser.prototype._assertCondition=function(status,errorMessage,problemToken){return status?!1:(this._error(errorMessage,problemToken),!0)},CssParser.prototype._error=function(message,problemToken){var length=problemToken.strValue.length,error=CssParseError.create(this._file,0,problemToken.line,problemToken.column,length,message);this._errors.push(error)},CssParser}();exports.CssParser=CssParser;var CssParseError=function(_super){function CssParseError(span,message){return _super.call(this,span,message)||this}return __extends(CssParseError,_super),CssParseError.create=function(file,offset,line,col,length,errMsg){var start=new parseUtil_1.ParseLocation(file,offset,line,col),end=new parseUtil_1.ParseLocation(file,offset,line,col+length),span=new parseUtil_1.ParseSourceSpan(start,end);return new CssParseError(span,"CSS Parse Error: "+errMsg)},CssParseError}(parseUtil_1.ParseError);exports.CssParseError=CssParseError},{"./chars":59,"./cssAst":60,"./cssLexer":61,"./parseUtil":64}],63:[function(require,module,exports){"use strict";var cssParser_1=require("./cssParser");exports.parseCss=function(text){var parser=new cssParser_1.CssParser;return parser.parse(text,"").ast}},{"./cssParser":62}],64:[function(require,module,exports){"use strict";var ParseLocation=function(){function ParseLocation(file,offset,line,col){this.file=file,this.offset=offset,this.line=line,this.col=col}return ParseLocation.prototype.toString=function(){return this.offset?this.file.url+"@"+this.line+":"+this.col:this.file.url},ParseLocation}();exports.ParseLocation=ParseLocation;var ParseSourceFile=function(){function ParseSourceFile(content,url){this.content=content,this.url=url}return ParseSourceFile}();exports.ParseSourceFile=ParseSourceFile;var ParseSourceSpan=function(){function ParseSourceSpan(start,end,details){void 0===details&&(details=null),this.start=start,this.end=end,this.details=details}return ParseSourceSpan.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},ParseSourceSpan}();exports.ParseSourceSpan=ParseSourceSpan,function(ParseErrorLevel){ParseErrorLevel[ParseErrorLevel.WARNING=0]="WARNING",ParseErrorLevel[ParseErrorLevel.FATAL=1]="FATAL"}(exports.ParseErrorLevel||(exports.ParseErrorLevel={}));var ParseErrorLevel=exports.ParseErrorLevel,ParseError=function(){function ParseError(span,msg,level){void 0===level&&(level=ParseErrorLevel.FATAL),this.span=span,this.msg=msg,this.level=level}return ParseError.prototype.toString=function(){var source=this.span.start.file.content,ctxStart=this.span.start.offset,contextStr="",details="";if(ctxStart){ctxStart>source.length-1&&(ctxStart=source.length-1);for(var ctxEnd=ctxStart,ctxLen=0,ctxLines=0;100>ctxLen&&ctxStart>0&&(ctxStart--,ctxLen++,"\n"!=source[ctxStart]||3!=++ctxLines););for(ctxLen=0,ctxLines=0;100>ctxLen&&ctxEnd<source.length-1&&(ctxEnd++,ctxLen++,"\n"!=source[ctxEnd]||3!=++ctxLines););var context_1=source.substring(ctxStart,this.span.start.offset)+"[ERROR ->]"+source.substring(this.span.start.offset,ctxEnd+1);contextStr=' ("'+context_1+'")'}return this.span.details&&(details=", "+this.span.details),""+this.msg+contextStr+": "+this.span.start+details},ParseError}();exports.ParseError=ParseError},{}],65:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ast=require("@angular/compiler"),Lint=require("tslint/lib/lint"),expressionTypes_1=require("../expressionTypes"),recursiveAngularExpressionVisitor_1=require("./recursiveAngularExpressionVisitor"),getExpressionDisplacement=function(binding){var attrLen=0,valLen=0,totalLength=0,result=0;if(binding instanceof ast.BoundEventAst||binding instanceof ast.BoundElementPropertyAst){var subBindingLen=0;if(binding instanceof ast.BoundElementPropertyAst){var prop=binding;switch(prop.type){case ast.PropertyBindingType.Animation:subBindingLen="animate".length+1;break;case ast.PropertyBindingType.Attribute:subBindingLen="attr".length+1;break;case ast.PropertyBindingType.Class:subBindingLen="class".length+1;break;case ast.PropertyBindingType.Style:subBindingLen="style".length+1}}attrLen=binding.name.length+4+subBindingLen,valLen=binding instanceof ast.BoundEventAst?binding.handler.span.end:binding.value.span.end,totalLength=binding.sourceSpan.end.offset-binding.sourceSpan.start.offset;var whitespace=totalLength-(attrLen+valLen)-1;result=whitespace+attrLen+binding.sourceSpan.start.offset}else binding instanceof ast.BoundTextAst&&(result=binding.sourceSpan.start.offset);return result},BasicTemplateAstVisitor=function(_super){function BasicTemplateAstVisitor(sourceFile,_originalOptions,context,templateStart,expressionVisitorCtrl){void 0===expressionVisitorCtrl&&(expressionVisitorCtrl=recursiveAngularExpressionVisitor_1.RecursiveAngularExpressionVisitor);var _this=_super.call(this,sourceFile,_originalOptions)||this;return _this._originalOptions=_originalOptions,_this.context=context,_this.templateStart=templateStart,_this.expressionVisitorCtrl=expressionVisitorCtrl,_this._variables=[],_this}return __extends(BasicTemplateAstVisitor,_super),BasicTemplateAstVisitor.prototype.visitNg2TemplateAST=function(ast,templateStart){var _this=this,templateVisitor=new this.expressionVisitorCtrl(this.getSourceFile(),this._originalOptions,this.context,templateStart);templateVisitor.preDefinedVariables=this._variables,templateVisitor.visit(ast),templateVisitor.getFailures().forEach(function(f){return _this.addFailure(f)})},BasicTemplateAstVisitor.prototype.visit=function(node,context){node.visit(this,context)},BasicTemplateAstVisitor.prototype.visitNgContent=function(ast,context){},BasicTemplateAstVisitor.prototype.visitEmbeddedTemplate=function(ast,context){var _this=this;ast.variables.forEach(function(v){return _this.visit(v,context)}),ast.children.forEach(function(e){return _this.visit(e,context)}),ast.outputs.forEach(function(o){
return _this.visit(o,context)}),ast.attrs.forEach(function(a){return _this.visit(a,context)}),ast.references.forEach(function(r){return _this.visit(r,context)}),ast.directives.forEach(function(d){return _this.visit(d,context)})},BasicTemplateAstVisitor.prototype.visitElement=function(element,context){var _this=this;element.inputs.forEach(function(i){return _this.visit(i,context)}),element.outputs.forEach(function(o){return _this.visit(o,context)}),element.attrs.forEach(function(a){return _this.visit(a,context)}),element.children.forEach(function(e){return _this.visit(e,context)}),element.references.forEach(function(r){return _this.visit(r,context)}),element.directives.forEach(function(d){return _this.visit(d,context)})},BasicTemplateAstVisitor.prototype.visitReference=function(ast,context){},BasicTemplateAstVisitor.prototype.visitVariable=function(ast,context){this._variables.push(ast.name)},BasicTemplateAstVisitor.prototype.visitEvent=function(ast,context){this._variables.indexOf("$event")<0&&this._variables.push("$event"),this.visitNg2TemplateAST(ast.handler,this.templateStart+getExpressionDisplacement(ast)),this._variables.splice(this._variables.indexOf("$event"),1)},BasicTemplateAstVisitor.prototype.visitElementProperty=function(prop,context){var ast=prop.value.ast;ast.interpolateExpression=prop.value.source,this.visitNg2TemplateAST(prop.value,this.templateStart+getExpressionDisplacement(prop))},BasicTemplateAstVisitor.prototype.visitAttr=function(ast,context){},BasicTemplateAstVisitor.prototype.visitBoundText=function(text,context){if(expressionTypes_1.ExpTypes.ASTWithSource(text.value)){var ast_1=text.value.ast;ast_1.interpolateExpression=text.value.source,this.visitNg2TemplateAST(ast_1,this.templateStart+getExpressionDisplacement(text))}},BasicTemplateAstVisitor.prototype.visitText=function(text,context){},BasicTemplateAstVisitor.prototype.visitDirective=function(ast,context){},BasicTemplateAstVisitor.prototype.visitDirectiveProperty=function(ast,context){},BasicTemplateAstVisitor}(Lint.RuleWalker);exports.BasicTemplateAstVisitor=BasicTemplateAstVisitor},{"../expressionTypes":56,"./recursiveAngularExpressionVisitor":66,"@angular/compiler":3,"tslint/lib/lint":286}],66:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),RecursiveAngularExpressionVisitor=function(_super){function RecursiveAngularExpressionVisitor(sourceFile,options,context,basePosition){var _this=_super.call(this,sourceFile,options)||this;return _this.context=context,_this.basePosition=basePosition,_this.preDefinedVariables=[],_this}return __extends(RecursiveAngularExpressionVisitor,_super),RecursiveAngularExpressionVisitor.prototype.visit=function(ast,context){return ast.visit(this),null},RecursiveAngularExpressionVisitor.prototype.visitBinary=function(ast,context){return ast.left.visit(this),ast.right.visit(this),null},RecursiveAngularExpressionVisitor.prototype.visitChain=function(ast,context){return this.visitAll(ast.expressions,context)},RecursiveAngularExpressionVisitor.prototype.visitConditional=function(ast,context){return ast.condition.visit(this),ast.trueExp.visit(this),ast.falseExp.visit(this),null},RecursiveAngularExpressionVisitor.prototype.visitPipe=function(ast,context){return ast.exp.visit(this),this.visitAll(ast.args,context),null},RecursiveAngularExpressionVisitor.prototype.visitFunctionCall=function(ast,context){return ast.target.visit(this),this.visitAll(ast.args,context),null},RecursiveAngularExpressionVisitor.prototype.visitImplicitReceiver=function(ast,context){return null},RecursiveAngularExpressionVisitor.prototype.visitInterpolation=function(ast,context){var _this=this;return ast.expressions.forEach(function(e,i){return _this.visit(e,context)}),null},RecursiveAngularExpressionVisitor.prototype.visitKeyedRead=function(ast,context){return ast.obj.visit(this),ast.key.visit(this),null},RecursiveAngularExpressionVisitor.prototype.visitKeyedWrite=function(ast,context){return ast.obj.visit(this),ast.key.visit(this),ast.value.visit(this),null},RecursiveAngularExpressionVisitor.prototype.visitLiteralArray=function(ast,context){return this.visitAll(ast.expressions,context)},RecursiveAngularExpressionVisitor.prototype.visitLiteralMap=function(ast,context){return this.visitAll(ast.values,context)},RecursiveAngularExpressionVisitor.prototype.visitLiteralPrimitive=function(ast,context){return null},RecursiveAngularExpressionVisitor.prototype.visitMethodCall=function(ast,context){return ast.receiver.visit(this),this.visitAll(ast.args,context)},RecursiveAngularExpressionVisitor.prototype.visitPrefixNot=function(ast,context){return ast.expression.visit(this),null},RecursiveAngularExpressionVisitor.prototype.visitPropertyRead=function(ast,context){return ast.receiver.visit(this),null},RecursiveAngularExpressionVisitor.prototype.visitPropertyWrite=function(ast,context){return ast.receiver.visit(this),ast.value.visit(this),null},RecursiveAngularExpressionVisitor.prototype.visitSafePropertyRead=function(ast,context){return ast.receiver.visit(this),null},RecursiveAngularExpressionVisitor.prototype.visitSafeMethodCall=function(ast,context){return ast.receiver.visit(this),this.visitAll(ast.args,context)},RecursiveAngularExpressionVisitor.prototype.visitAll=function(asts,context){var _this=this;return asts.forEach(function(ast){return ast.visit(_this,context)}),null},RecursiveAngularExpressionVisitor.prototype.visitQuote=function(ast,context){return null},RecursiveAngularExpressionVisitor}(Lint.RuleWalker);exports.RecursiveAngularExpressionVisitor=RecursiveAngularExpressionVisitor},{"tslint/lib/lint":286}],67:[function(require,module,exports){"use strict";var core_1=require("@angular/core"),config_1=require("../config"),compiler=require("@angular/compiler");exports.parseTemplate=function(template){var TemplateParser=compiler.TemplateParser,expressionParser=new compiler.Parser(new compiler.Lexer),elementSchemaRegistry=new compiler.DomElementSchemaRegistry,ngConsole=new core_1.__core_private__.Console,htmlParser=new compiler.I18NHtmlParser(new compiler.HtmlParser),tmplParser=new TemplateParser(expressionParser,elementSchemaRegistry,htmlParser,ngConsole,[]),interpolation=config_1.INTERPOLATION,templateMetadata={encapsulation:0,template:template,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[],animations:[],externalStylesheets:[],interpolation:interpolation,toSummary:function(){return{isSummary:!0,animations:this.animations.map(function(anim){return anim.name}),ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation}}},type=new compiler.CompileTypeMetadata({diDeps:[]});return tmplParser.tryParse(compiler.CompileDirectiveMetadata.create({type:type,template:templateMetadata}),template,[],[],[core_1.NO_ERRORS_SCHEMA],"").templateAst}},{"../config":55,"@angular/compiler":3,"@angular/core":4}],68:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),sprintf_js_1=require("sprintf-js"),ng2Walker_1=require("./angular/ng2Walker"),Rule=function(_super){function Rule(){return _super.apply(this,arguments)||this}return __extends(Rule,_super),Rule.validate=function(className){return/.*Component$/.test(className)},Rule.prototype.apply=function(sourceFile){return this.applyWithWalker(new ClassMetadataWalker(sourceFile,this.getOptions()))},Rule}(Lint.Rules.AbstractRule);exports.Rule=Rule,Rule.FAILURE="The name of the class %s should end with the suffix Component (https://goo.gl/5X1TE7)";var ClassMetadataWalker=function(_super){function ClassMetadataWalker(){return _super.apply(this,arguments)||this}return __extends(ClassMetadataWalker,_super),ClassMetadataWalker.prototype.visitNg2Component=function(controller,decorator){var name=controller.name,className=name.text;Rule.validate(className)||this.addFailure(this.createFailure(name.getStart(),name.getWidth(),sprintf_js_1.sprintf.apply(this,[Rule.FAILURE,className])))},ClassMetadataWalker}(ng2Walker_1.Ng2Walker);exports.ClassMetadataWalker=ClassMetadataWalker},{"./angular/ng2Walker":57,"sprintf-js":259,"tslint/lib/lint":286}],69:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},selectorNameBase_1=require("./selectorNameBase"),Rule=function(_super){function Rule(){var _this=_super.apply(this,arguments)||this;return _this.handleType="Component",_this}return __extends(Rule,_super),Rule.prototype.getTypeFailure=function(){return'The selector of the component "%s" should be used as %s (https://goo.gl/llsqKR)'},Rule.prototype.getNameFailure=function(){return'The selector of the component "%s" should be named %s (https://goo.gl/mBg67Z)'},Rule.prototype.getSinglePrefixFailure=function(){return'The selector of the component "%s" should have prefix "%s" (https://goo.gl/cix8BY)'},Rule.prototype.getManyPrefixFailure=function(){return'The selector of the component "%s" should have one of the prefixes: %s (https://goo.gl/cix8BY)'},Rule}(selectorNameBase_1.SelectorRule);exports.Rule=Rule},{"./selectorNameBase":84}],70:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),sprintf_js_1=require("sprintf-js"),ng2Walker_1=require("./angular/ng2Walker"),Rule=function(_super){function Rule(){return _super.apply(this,arguments)||this}return __extends(Rule,_super),Rule.validate=function(className){return/.*Directive/.test(className)},Rule.prototype.apply=function(sourceFile){return this.applyWithWalker(new ClassMetadataWalker(sourceFile,this.getOptions()))},Rule}(Lint.Rules.AbstractRule);exports.Rule=Rule,Rule.FAILURE="The name of the class %s should end with the suffix Directive (https://goo.gl/5X1TE7)";var ClassMetadataWalker=function(_super){function ClassMetadataWalker(){return _super.apply(this,arguments)||this}return __extends(ClassMetadataWalker,_super),ClassMetadataWalker.prototype.visitNg2Directive=function(controller,decorator){var name=controller.name,className=name.text;Rule.validate(className)||this.addFailure(this.createFailure(name.getStart(),name.getWidth(),sprintf_js_1.sprintf.apply(this,[Rule.FAILURE,className])))},ClassMetadataWalker}(ng2Walker_1.Ng2Walker);exports.ClassMetadataWalker=ClassMetadataWalker},{"./angular/ng2Walker":57,"sprintf-js":259,"tslint/lib/lint":286}],71:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},selectorNameBase_1=require("./selectorNameBase"),Rule=function(_super){function Rule(){var _this=_super.apply(this,arguments)||this;return _this.handleType="Directive",_this}return __extends(Rule,_super),Rule.prototype.getTypeFailure=function(){return'The selector of the directive "%s" should be used as %s (https://goo.gl/QS8kEs)'},Rule.prototype.getNameFailure=function(){return'The selector of the directive "%s" should be named %s (https://goo.gl/QS8kEs)'},Rule.prototype.getSinglePrefixFailure=function(){return'The selector of the directive "%s" should have prefix "%s" (https://goo.gl/uacjKR)'},Rule.prototype.getManyPrefixFailure=function(){return'The selector of the directive "%s" should have one of the prefixes: %s (https://goo.gl/uacjKR)'},Rule}(selectorNameBase_1.SelectorRule);exports.Rule=Rule},{"./selectorNameBase":84}],72:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ts=require("typescript"),Lint=require("tslint/lib/lint"),Rule=function(_super){function Rule(){return _super.apply(this,arguments)||this}return __extends(Rule,_super),Rule.prototype.apply=function(sourceFile){return this.applyWithWalker(new ImportDestructuringSpacingWalker(sourceFile,this.getOptions()))},Rule}(Lint.Rules.AbstractRule);exports.Rule=Rule,Rule.FAILURE_STRING="You need to leave whitespaces inside of the import statement's curly braces (https://goo.gl/25R7qr)";var ImportDestructuringSpacingWalker=function(_super){function ImportDestructuringSpacingWalker(sourceFile,options){var _this=_super.call(this,sourceFile,options)||this;return _this.scanner=ts.createScanner(ts.ScriptTarget.ES5,!1,ts.LanguageVariant.Standard,sourceFile.text),_this}return __extends(ImportDestructuringSpacingWalker,_super),ImportDestructuringSpacingWalker.prototype.visitImportDeclaration=function(node){var importClause=node.importClause;if(null!=importClause&&null!=importClause.namedBindings){var text=importClause.namedBindings.getText();this.checkForWhiteSpace(text)||this.addFailure(this.createFailure(importClause.namedBindings.getStart(),importClause.namedBindings.getWidth(),Rule.FAILURE_STRING))}_super.prototype.visitImportDeclaration.call(this,node)},ImportDestructuringSpacingWalker.prototype.checkForWhiteSpace=function(text){return/\s*\*\s+as\s+[^\s]/.test(text)?!0:/{\s[^]*\s}/.test(text)},ImportDestructuringSpacingWalker}(Lint.SkippableTokenAwareRuleWalker)},{"tslint/lib/lint":286,typescript:296}],73:[function(require,module,exports){"use strict";var componentClassSuffixRule_1=require("./componentClassSuffixRule");exports.ComponentClassSuffixRule=componentClassSuffixRule_1.Rule;var componentSelectorRule_1=require("./componentSelectorRule");exports.ComponentSelectorRule=componentSelectorRule_1.Rule;var directiveClassSuffixRule_1=require("./directiveClassSuffixRule");exports.DirectiveClassSuffixRule=directiveClassSuffixRule_1.Rule;var directiveSelectorRule_1=require("./directiveSelectorRule");exports.DirectiveSelectorRule=directiveSelectorRule_1.Rule;var importDestructuringSpacingRule_1=require("./importDestructuringSpacingRule");exports.ImportDestructuringSpacingRule=importDestructuringSpacingRule_1.Rule;var invokeInjectableRule_1=require("./invokeInjectableRule");exports.InvokeInjectableRule=invokeInjectableRule_1.Rule;var noAccessMissingMemberRule_1=require("./noAccessMissingMemberRule");exports.NoAccessMissingMemberRule=noAccessMissingMemberRule_1.Rule;var noAttributeParameterDecoratorRule_1=require("./noAttributeParameterDecoratorRule");exports.NoAttributeParameterDecoratorRule=noAttributeParameterDecoratorRule_1.Rule;var noForwardRefRule_1=require("./noForwardRefRule");exports.NoForwardRefRule=noForwardRefRule_1.Rule;var noInputRenameRule_1=require("./noInputRenameRule");exports.NoInputRenameRule=noInputRenameRule_1.Rule;var noOutputRenameRule_1=require("./noOutputRenameRule");exports.NoOutputRenameRule=noOutputRenameRule_1.Rule;var noUnusedCssRule_1=require("./noUnusedCssRule");exports.NoUnusedCssRule=noUnusedCssRule_1.Rule;var pipeImpureRule_1=require("./pipeImpureRule");exports.PipeImpureRule=pipeImpureRule_1.Rule;var pipeNamingRule_1=require("./pipeNamingRule");exports.PipeNamingRule=pipeNamingRule_1.Rule;var templatesUsePublicRule_1=require("./templatesUsePublicRule");exports.TemplatesUsePublicRule=templatesUsePublicRule_1.Rule;var useHostPropertyDecoratorRule_1=require("./useHostPropertyDecoratorRule");exports.UseHostPropertyDecoratorRule=useHostPropertyDecoratorRule_1.Rule;var useInputPropertyDecoratorRule_1=require("./useInputPropertyDecoratorRule");exports.UseInputPropertyDecoratorRule=useInputPropertyDecoratorRule_1.Rule;var useLifeCycleInterfaceRule_1=require("./useLifeCycleInterfaceRule");exports.UseLifeCycleInterfaceRule=useLifeCycleInterfaceRule_1.Rule;var useOutputPropertyDecoratorRule_1=require("./useOutputPropertyDecoratorRule");exports.UseOutputPropertyDecoratorRule=useOutputPropertyDecoratorRule_1.Rule;var usePipeTransformInterfaceRule_1=require("./usePipeTransformInterfaceRule");exports.UsePipeTransformInterfaceRule=usePipeTransformInterfaceRule_1.Rule},{"./componentClassSuffixRule":68,"./componentSelectorRule":69,"./directiveClassSuffixRule":70,"./directiveSelectorRule":71,"./importDestructuringSpacingRule":72,"./invokeInjectableRule":74,"./noAccessMissingMemberRule":75,"./noAttributeParameterDecoratorRule":76,"./noForwardRefRule":77,"./noInputRenameRule":78,"./noOutputRenameRule":79,"./noUnusedCssRule":80,"./pipeImpureRule":81,"./pipeNamingRule":82,"./templatesUsePublicRule":85,"./useHostPropertyDecoratorRule":86,"./useInputPropertyDecoratorRule":87,"./useLifeCycleInterfaceRule":88,"./useOutputPropertyDecoratorRule":89,"./usePipeTransformInterfaceRule":90}],74:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),ng2Walker_1=require("./angular/ng2Walker"),Rule=function(_super){function Rule(){return _super.apply(this,arguments)||this}return __extends(Rule,_super),Rule.prototype.apply=function(sourceFile){return this.applyWithWalker(new ValidateInjectableWalker(sourceFile,this.getOptions()))},Rule}(Lint.Rules.AbstractRule);exports.Rule=Rule,Rule.FAILURE_STRING="You have to invoke @Injectable()";var ValidateInjectableWalker=function(_super){function ValidateInjectableWalker(){return _super.apply(this,arguments)||this}return __extends(ValidateInjectableWalker,_super),ValidateInjectableWalker.prototype.visitClassDeclaration=function(declaration){var _this=this;(declaration.decorators||[]).forEach(function(d){d.expression&&"Injectable"===d.expression.text&&_this.addFailure(_this.createFailure(d.getStart(),d.getWidth(),Rule.FAILURE_STRING))})},ValidateInjectableWalker}(ng2Walker_1.Ng2Walker);exports.ValidateInjectableWalker=ValidateInjectableWalker},{"./angular/ng2Walker":57,"tslint/lib/lint":286}],75:[function(require,module,exports){"use strict";var DeclarationType,__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),sprintf_js_1=require("sprintf-js"),utils_1=require("./util/utils"),ng2Walker_1=require("./angular/ng2Walker"),recursiveAngularExpressionVisitor_1=require("./angular/templates/recursiveAngularExpressionVisitor"),classDeclarationUtils_1=require("./util/classDeclarationUtils");!function(DeclarationType){DeclarationType[DeclarationType.Property=0]="Property",DeclarationType[DeclarationType.Method=1]="Method"}(DeclarationType||(DeclarationType={}));var SymbolAccessValidator=function(_super){function SymbolAccessValidator(){return _super.apply(this,arguments)||this}return __extends(SymbolAccessValidator,_super),SymbolAccessValidator.prototype.visitPropertyRead=function(ast,context){return this.doCheck(ast,DeclarationType.Property,context)},SymbolAccessValidator.prototype.visitMethodCall=function(ast,context){this.doCheck(ast,DeclarationType.Method,context)},SymbolAccessValidator.prototype.visitPropertyWrite=function(ast,context){this.doCheck(ast,DeclarationType.Property,context)},SymbolAccessValidator.prototype.doCheck=function(ast,type,context){var symbolType,available;if(symbolType=type===DeclarationType.Method?"method":"property",available=classDeclarationUtils_1.getDeclaredMethodNames(this.context).concat(classDeclarationUtils_1.getDeclaredPropertyNames(this.context)).concat(this.preDefinedVariables),ast.receiver.visit(this),ast.receiver&&ast.receiver.name){for(var receiver=ast.receiver;receiver.receiver.name;)receiver=receiver.receiver;ast=receiver}if(available.indexOf(ast.name)<0){var top_1=this.getTopSuggestion(available,ast.name),failureString=sprintf_js_1.sprintf.apply(this,[Rule.FAILURE,symbolType,ast.name]),getSuggestion=function(list){if(1===list.length)return'"'+list[0]+'"';for(var result='"'+list.shift()+'"';list.length>1;)result+=', "'+list.shift()+'"';return result+=' or "'+list.shift()+'"'};top_1.length&&top_1[0].distance<=2&&(failureString+=" Probably you mean: "+getSuggestion(top_1.map(function(s){return s.element}))+".");var width=ast.name.length;this.addFailure(this.createFailure(this.basePosition+ast.span.start,width,failureString))}return null},SymbolAccessValidator.prototype.getTopSuggestion=function(list,current){var result=[],tmp=list.map(function(e){return{element:e,distance:utils_1.stringDistance(e,current)}}).sort(function(a,b){return a.distance-b.distance}),first=tmp.shift();if(first){result.push(first);for(var current_1;current_1=tmp.shift();){if(current_1.distance!==first.distance)return result;result.push(current_1)}return result}return[]},SymbolAccessValidator}(recursiveAngularExpressionVisitor_1.RecursiveAngularExpressionVisitor),Rule=function(_super){function Rule(){return _super.apply(this,arguments)||this}return __extends(Rule,_super),Rule.prototype.apply=function(sourceFile){return this.applyWithWalker(new ng2Walker_1.Ng2Walker(sourceFile,this.getOptions(),{expressionVisitorCtrl:SymbolAccessValidator}))},Rule}(Lint.Rules.AbstractRule);exports.Rule=Rule,Rule.FAILURE='The %s "%s" that you\'re trying to access does not exist in the class declaration.'},{"./angular/ng2Walker":57,"./angular/templates/recursiveAngularExpressionVisitor":66,"./util/classDeclarationUtils":91,"./util/utils":94,"sprintf-js":259,"tslint/lib/lint":286}],76:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),sprintf_js_1=require("sprintf-js"),SyntaxKind=require("./util/syntaxKind"),Rule=function(_super){function Rule(){return _super.apply(this,arguments)||this}return __extends(Rule,_super),Rule.prototype.apply=function(sourceFile){return this.applyWithWalker(new ConstructorMetadataWalker(sourceFile,this.getOptions()))},Rule}(Lint.Rules.AbstractRule);exports.Rule=Rule,Rule.FAILURE_STRING='In the constructor of class "%s", the parameter "%s" uses the @Attribute decorator, which is considered as a bad practice. Please, consider construction of type "@Input() %s: string"';var ConstructorMetadataWalker=function(_super){function ConstructorMetadataWalker(){return _super.apply(this,arguments)||this}return __extends(ConstructorMetadataWalker,_super),ConstructorMetadataWalker.prototype.visitConstructorDeclaration=function(node){var syntaxKind=SyntaxKind.current(),parentName="",parent=node.parent;parent.kind===syntaxKind.ClassExpression?parentName=parent.parent.name.text:(parent.kind=syntaxKind.ClassDeclaration)&&(parentName=parent.name.text),(node.parameters||[]).forEach(this.validateParameter.bind(this,parentName)),_super.prototype.visitConstructorDeclaration.call(this,node)},ConstructorMetadataWalker.prototype.validateParameter=function(className,parameter){var _this=this,parameterName=parameter.name.text;parameter.decorators&&parameter.decorators.forEach(function(decorator){var baseExpr=decorator.expression||{},expr=baseExpr.expression||{},name=expr.text;if("Attribute"===name){var failureConfig=[className,parameterName,parameterName];failureConfig.unshift(Rule.FAILURE_STRING),_this.addFailure(_this.createFailure(parameter.getStart(),parameter.getWidth(),sprintf_js_1.sprintf.apply(_this,failureConfig)))}})},ConstructorMetadataWalker}(Lint.RuleWalker);exports.ConstructorMetadataWalker=ConstructorMetadataWalker},{"./util/syntaxKind":93,"sprintf-js":259,"tslint/lib/lint":286}],77:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),sprintf_js_1=require("sprintf-js"),SyntaxKind=require("./util/syntaxKind"),Rule=function(_super){function Rule(){return _super.apply(this,arguments)||this}return __extends(Rule,_super),Rule.prototype.apply=function(sourceFile){return this.applyWithWalker(new ExpressionCallMetadataWalker(sourceFile,this.getOptions()))},Rule}(Lint.Rules.AbstractRule);exports.Rule=Rule,Rule.FAILURE_IN_CLASS='Avoid using forwardRef in class "%s"',Rule.FAILURE_IN_VARIABLE='Avoid using forwardRef in variable "%s"';var ExpressionCallMetadataWalker=function(_super){function ExpressionCallMetadataWalker(){return _super.apply(this,arguments)||this}return __extends(ExpressionCallMetadataWalker,_super),ExpressionCallMetadataWalker.prototype.visitCallExpression=function(node){this.validateCallExpression(node),_super.prototype.visitCallExpression.call(this,node)},ExpressionCallMetadataWalker.prototype.validateCallExpression=function(callExpression){if("forwardRef"===callExpression.expression.text){for(var currentNode=callExpression;currentNode.parent.parent;)currentNode=currentNode.parent;var failureConfig=[];failureConfig=currentNode.kind===SyntaxKind.current().VariableStatement?[Rule.FAILURE_IN_VARIABLE,currentNode.declarationList.declarations[0].name.text]:[Rule.FAILURE_IN_CLASS,currentNode.name.text],this.addFailure(this.createFailure(callExpression.getStart(),callExpression.getWidth(),sprintf_js_1.sprintf.apply(this,failureConfig)))}},ExpressionCallMetadataWalker}(Lint.RuleWalker);exports.ExpressionCallMetadataWalker=ExpressionCallMetadataWalker},{"./util/syntaxKind":93,"sprintf-js":259,"tslint/lib/lint":286}],78:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),sprintf_js_1=require("sprintf-js"),ng2Walker_1=require("./angular/ng2Walker"),Rule=function(_super){function Rule(){return _super.apply(this,arguments)||this}return __extends(Rule,_super),Rule.prototype.apply=function(sourceFile){return this.applyWithWalker(new InputMetadataWalker(sourceFile,this.getOptions()))},Rule}(Lint.Rules.AbstractRule);exports.Rule=Rule,Rule.FAILURE_STRING='In the class "%s", the directive input property "%s" should not be renamed.Please, consider the following use "@Input() %s: string"';var InputMetadataWalker=function(_super){function InputMetadataWalker(){return _super.apply(this,arguments)||this}return __extends(InputMetadataWalker,_super),InputMetadataWalker.prototype.visitNg2Input=function(property,input,args){var className=property.parent.name.text,memberName=property.name.text;if(0!==args.length&&memberName!==args[0]){var failureConfig=[className,memberName,memberName];failureConfig.unshift(Rule.FAILURE_STRING),this.addFailure(this.createFailure(property.getStart(),property.getWidth(),sprintf_js_1.sprintf.apply(this,failureConfig)))}},InputMetadataWalker}(ng2Walker_1.Ng2Walker);exports.InputMetadataWalker=InputMetadataWalker},{"./angular/ng2Walker":57,"sprintf-js":259,"tslint/lib/lint":286}],79:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),sprintf_js_1=require("sprintf-js"),ng2Walker_1=require("./angular/ng2Walker"),Rule=function(_super){function Rule(){return _super.apply(this,arguments)||this}return __extends(Rule,_super),Rule.prototype.apply=function(sourceFile){return this.applyWithWalker(new OutputMetadataWalker(sourceFile,this.getOptions()))},Rule}(Lint.Rules.AbstractRule);exports.Rule=Rule,Rule.FAILURE_STRING='In the class "%s", the directive output property "%s" should not be renamed.Please, consider the following use "@Output() %s = new EventEmitter();"';var OutputMetadataWalker=function(_super){function OutputMetadataWalker(){return _super.apply(this,arguments)||this}return __extends(OutputMetadataWalker,_super),OutputMetadataWalker.prototype.visitNg2Output=function(property,output,args){var className=property.parent.name.text,memberName=property.name.text;if(0!==args.length&&memberName!==args[0]){var failureConfig=[className,memberName,memberName];failureConfig.unshift(Rule.FAILURE_STRING),this.addFailure(this.createFailure(property.getStart(),property.getWidth(),sprintf_js_1.sprintf.apply(this,failureConfig)))}},OutputMetadataWalker}(ng2Walker_1.Ng2Walker);exports.OutputMetadataWalker=OutputMetadataWalker},{"./angular/ng2Walker":57,"sprintf-js":259,"tslint/lib/lint":286}],80:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),ng2Walker_1=require("./angular/ng2Walker"),utils_1=require("./util/utils"),basicCssAstVisitor_1=require("./angular/styles/basicCssAstVisitor"),basicTemplateAstVisitor_1=require("./angular/templates/basicTemplateAstVisitor"),compiler_1=require("@angular/compiler"),templateParser_1=require("./angular/templates/templateParser"),CssSelectorTokenizer=require("css-selector-tokenizer"),getSymbolName=function(t){var expr=t.expression;return t.expression&&t.expression.name&&(expr=t.expression.name),expr.text},isEncapsulationEnabled=function(encapsulation){if(!encapsulation)return!0;if("ViewEncapsulation"!==getSymbolName(encapsulation))return!1;var encapsulationType=encapsulation.name.text;return/^(Emulated|Native)$/.test(encapsulationType)?!0:!1},lang=require("cssauron")({tag:function(node){return(node.name||"").toLowerCase()},contents:function(node){return""},id:function(node){return this.attr(node,"id")},class:function(node){var classBindings=(node.inputs||[]).filter(function(b){return b.type===compiler_1.PropertyBindingType.Class}).map(function(b){return b.name}).join(" "),classAttr=node.attrs.filter(function(a){return"class"===a.name.toLowerCase()}).pop(),staticClasses="";return classAttr&&(staticClasses=classAttr.value+" "),staticClasses+classBindings},parent:function(node){return node.parentNode},children:function(node){return node.children},attr:function(node,attr){var targetAttr=node.attrs.filter(function(a){return a.name===attr}).pop();return targetAttr?targetAttr.value:void 0}}),ElementVisitor=function(_super){function ElementVisitor(){return _super.apply(this,arguments)||this}return __extends(ElementVisitor,_super),ElementVisitor.prototype.visitElement=function(ast,fn){var _this=this;fn(ast),ast.children.forEach(function(c){c instanceof compiler_1.ElementAst&&(c.parentNode=ast),_this.visit(c,fn)})},ElementVisitor}(basicTemplateAstVisitor_1.BasicTemplateAstVisitor),hasSelector=function(s,type){return s?"selector"===s.type||"selectors"===s.type?(s.nodes||[]).some(function(n){return hasSelector(n,type)}):s.type===type:!1},dynamicFilters={id:function(ast,selector){return(ast.inputs||[]).some(function(i){return"id"===i.name})},attribute:function(ast,selector){return(ast.inputs||[]).some(function(i){return i.type===compiler_1.PropertyBindingType.Attribute})},class:function(ast,selector){return(ast.inputs||[]).some(function(i){return"className"===i.name||"ngClass"===i.name})}},ElementFilterVisitor=function(_super){function ElementFilterVisitor(){return _super.apply(this,arguments)||this}return __extends(ElementFilterVisitor,_super),ElementFilterVisitor.prototype.shouldVisit=function(ast,strategies,selectorTypes){var _this=this;
return Object.keys(strategies).every(function(s){var strategy=strategies[s];return!selectorTypes[s]||!strategy(ast)})&&(ast.children||[]).every(function(c){return ast instanceof compiler_1.ElementAst&&_this.shouldVisit(c,strategies,selectorTypes)})},ElementFilterVisitor}(basicTemplateAstVisitor_1.BasicTemplateAstVisitor),Rule=function(_super){function Rule(){return _super.apply(this,arguments)||this}return __extends(Rule,_super),Rule.prototype.apply=function(sourceFile){return this.applyWithWalker(new UnusedCssNg2Visitor(sourceFile,this.getOptions(),{cssVisitorCtrl:UnusedCssVisitor}))},Rule}(Lint.Rules.AbstractRule);exports.Rule=Rule,Rule.FAILURE='The %s "%s" that you\'re trying to access does not exist in the class declaration.';var UnusedCssVisitor=function(_super){function UnusedCssVisitor(){return _super.apply(this,arguments)||this}return __extends(UnusedCssVisitor,_super),UnusedCssVisitor.prototype.visitCssSelectorRule=function(ast){var _this=this;try{var match=ast.selectors.some(function(s){return _this.visitCssSelector(s)});match||this.addFailure(this.createFailure(this.templateStart+ast.start.offset,ast.end.offset-ast.start.offset,"Unused styles"))}catch(e){console.error(e)}return!0},UnusedCssVisitor.prototype.visitCssSelector=function(ast){for(var parts=[],i=0;i<ast.selectorParts.length;i+=1){var c=ast.selectorParts[i];if(c.strValue=c.strValue.split("::").shift(),c.strValue.endsWith("/")||c.strValue.endsWith(">")){parts.push(c.strValue);break}c.strValue.startsWith(":")||parts.push(c.strValue)}if(!parts.length||!this.templateAst)return!0;var strippedSelector=parts.map(function(s){return s.replace(/\/|>$/,"").trim()}).join(" "),elementFilterVisitor=new ElementFilterVisitor(this.getSourceFile(),this._originalOptions,this.context,0),tokenized=CssSelectorTokenizer.parse(strippedSelector),selectorTypesCache=Object.keys(dynamicFilters).reduce(function(a,key){return a[key]=hasSelector(tokenized,key),a},{});if(!elementFilterVisitor.shouldVisit(this.templateAst,dynamicFilters,selectorTypesCache))return!0;var matchFound=!1,selector=function(element){return lang(strippedSelector)(element)?(matchFound=!0,!0):!1},visitor=new ElementVisitor(this.getSourceFile(),this._originalOptions,this.context,0);return visitor.visit(this.templateAst,selector),matchFound},UnusedCssVisitor}(basicCssAstVisitor_1.BasicCssAstVisitor),UnusedCssNg2Visitor=function(_super){function UnusedCssNg2Visitor(){return _super.apply(this,arguments)||this}return __extends(UnusedCssNg2Visitor,_super),UnusedCssNg2Visitor.prototype.visitClassDeclaration=function(declaration){var d=utils_1.getComponentDecorator(declaration);if(d){this.visitNg2Component(d.parent,d);var inlineTemplate=utils_1.getDecoratorPropertyInitializer(d,"template");if(inlineTemplate)try{utils_1.isSimpleTemplateString(inlineTemplate)&&(this.templateAst=new compiler_1.ElementAst("*",[],[],[],[],[],[],!1,templateParser_1.parseTemplate(inlineTemplate.text),0,null,null))}catch(e){console.error("Cannot parse the template",e)}}_super.prototype.visitClassDeclaration.call(this,declaration)},UnusedCssNg2Visitor.prototype.visitNg2StyleHelper=function(style,context,baseStart){var _this=this;if(style){var visitor=new UnusedCssVisitor(this.getSourceFile(),this._originalOptions,context,baseStart);visitor.templateAst=this.templateAst;var d=utils_1.getComponentDecorator(context),encapsulation=utils_1.getDecoratorPropertyInitializer(d,"encapsulation");isEncapsulationEnabled(encapsulation)&&(style.visit(visitor),visitor.getFailures().forEach(function(f){return _this.addFailure(f)}))}},UnusedCssNg2Visitor}(ng2Walker_1.Ng2Walker);exports.UnusedCssNg2Visitor=UnusedCssNg2Visitor},{"./angular/ng2Walker":57,"./angular/styles/basicCssAstVisitor":58,"./angular/templates/basicTemplateAstVisitor":65,"./angular/templates/templateParser":67,"./util/utils":94,"@angular/compiler":3,"css-selector-tokenizer":114,cssauron:119,"tslint/lib/lint":286}],81:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),sprintf_js_1=require("sprintf-js"),ng2Walker_1=require("./angular/ng2Walker"),SyntaxKind=require("./util/syntaxKind"),Rule=function(_super){function Rule(){return _super.apply(this,arguments)||this}return __extends(Rule,_super),Rule.prototype.apply=function(sourceFile){return this.applyWithWalker(new ClassMetadataWalker(sourceFile,this))},Rule}(Lint.Rules.AbstractRule);exports.Rule=Rule,Rule.FAILURE="Warning: impure pipe declared in class %s.";var ClassMetadataWalker=function(_super){function ClassMetadataWalker(sourceFile,rule){var _this=_super.call(this,sourceFile,rule.getOptions())||this;return _this.rule=rule,_this}return __extends(ClassMetadataWalker,_super),ClassMetadataWalker.prototype.visitNg2Pipe=function(controller,decorator){this.validateProperties(controller.name.text,decorator)},ClassMetadataWalker.prototype.validateProperties=function(className,pipe){var argument=this.extractArgument(pipe);argument.kind===SyntaxKind.current().ObjectLiteralExpression&&argument.properties.filter(function(n){return"pure"===n.name.text}).forEach(this.validateProperty.bind(this,className))},ClassMetadataWalker.prototype.extractArgument=function(pipe){var baseExpr=pipe.expression||{},args=baseExpr.arguments||[];return args[0]},ClassMetadataWalker.prototype.validateProperty=function(className,property){var propValue=property.initializer.getText();"false"===propValue&&this.addFailure(this.createFailure(property.getStart(),property.getWidth(),sprintf_js_1.sprintf.apply(this,this.createFailureArray(className))))},ClassMetadataWalker.prototype.createFailureArray=function(className){return[Rule.FAILURE,className]},ClassMetadataWalker}(ng2Walker_1.Ng2Walker);exports.ClassMetadataWalker=ClassMetadataWalker},{"./angular/ng2Walker":57,"./util/syntaxKind":93,"sprintf-js":259,"tslint/lib/lint":286}],82:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),sprintf_js_1=require("sprintf-js"),SyntaxKind=require("./util/syntaxKind"),ng2Walker_1=require("./angular/ng2Walker"),selectorValidator_1=require("./util/selectorValidator"),Rule=function(_super){function Rule(ruleName,value,disabledIntervals){var _this=_super.call(this,ruleName,value,disabledIntervals)||this;if("camelCase"===value[1]&&(_this.validator=selectorValidator_1.SelectorValidator.camelCase),value.length>2){_this.hasPrefix=!0;var prefixExpression=(value.slice(2)||[]).join("|");_this.prefix=(value.slice(2)||[]).join(","),_this.prefixChecker=selectorValidator_1.SelectorValidator.prefix(prefixExpression,"camelCase")}return _this}return __extends(Rule,_super),Rule.prototype.apply=function(sourceFile){return this.applyWithWalker(new ClassMetadataWalker(sourceFile,this))},Rule.prototype.validateName=function(name){return this.validator(name)},Rule.prototype.validatePrefix=function(prefix){return this.prefixChecker(prefix)},Rule}(Lint.Rules.AbstractRule);exports.Rule=Rule,Rule.FAILURE_WITHOUT_PREFIX='The name of the Pipe decorator of class %s should be named camelCase, however its value is "%s".',Rule.FAILURE_WITH_PREFIX='The name of the Pipe decorator of class %s should be named camelCase with prefix %s, however its value is "%s".';var ClassMetadataWalker=function(_super){function ClassMetadataWalker(sourceFile,rule){var _this=_super.call(this,sourceFile,rule.getOptions())||this;return _this.rule=rule,_this}return __extends(ClassMetadataWalker,_super),ClassMetadataWalker.prototype.visitNg2Pipe=function(controller,decorator){var className=controller.name.text;this.validateProperties(className,decorator)},ClassMetadataWalker.prototype.validateProperties=function(className,pipe){var argument=this.extractArgument(pipe);argument.kind===SyntaxKind.current().ObjectLiteralExpression&&argument.properties.filter(function(n){return"name"===n.name.text}).forEach(this.validateProperty.bind(this,className))},ClassMetadataWalker.prototype.extractArgument=function(pipe){var baseExpr=pipe.expression||{},args=baseExpr.arguments||[];return args[0]},ClassMetadataWalker.prototype.validateProperty=function(className,property){var propName=property.initializer.text,isValidName=this.rule.validateName(propName),isValidPrefix=this.rule.hasPrefix?this.rule.validatePrefix(propName):!0;isValidName&&isValidPrefix||this.addFailure(this.createFailure(property.getStart(),property.getWidth(),sprintf_js_1.sprintf.apply(this,this.createFailureArray(className,propName))))},ClassMetadataWalker.prototype.createFailureArray=function(className,pipeName){return this.rule.hasPrefix?[Rule.FAILURE_WITH_PREFIX,className,this.rule.prefix,pipeName]:[Rule.FAILURE_WITHOUT_PREFIX,className,pipeName]},ClassMetadataWalker}(ng2Walker_1.Ng2Walker);exports.ClassMetadataWalker=ClassMetadataWalker},{"./angular/ng2Walker":57,"./util/selectorValidator":92,"./util/syntaxKind":93,"sprintf-js":259,"tslint/lib/lint":286}],83:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),ts=require("typescript"),sprintf_js_1=require("sprintf-js"),SyntaxKind=require("./util/syntaxKind"),UsePropertyDecorator=function(_super){function UsePropertyDecorator(config,ruleName,value,disabledIntervals){var _this=_super.call(this,ruleName,value,disabledIntervals)||this;return _this.config=config,_this}return __extends(UsePropertyDecorator,_super),UsePropertyDecorator.formatFailureString=function(config,decoratorName,className){var decorators=config.decoratorName;return decorators=decorators instanceof Array?decorators.map(function(d){return'"@'+d+'"'}).join(", "):'"@'+decorators+'"',sprintf_js_1.sprintf(config.errorMessage,decoratorName,className,config.propertyName,decorators)},UsePropertyDecorator.prototype.apply=function(sourceFile){var documentRegistry=ts.createDocumentRegistry(),languageServiceHost=Lint.createLanguageServiceHost("file.ts",sourceFile.getFullText());return this.applyWithWalker(new DirectiveMetadataWalker(sourceFile,this.getOptions(),ts.createLanguageService(languageServiceHost,documentRegistry),this.config))},UsePropertyDecorator}(Lint.Rules.AbstractRule);exports.UsePropertyDecorator=UsePropertyDecorator;var DirectiveMetadataWalker=function(_super){function DirectiveMetadataWalker(sourceFile,options,languageService,config){var _this=_super.call(this,sourceFile,options)||this;return _this.config=config,_this.languageService=languageService,_this.typeChecker=languageService.getProgram().getTypeChecker(),_this}return __extends(DirectiveMetadataWalker,_super),DirectiveMetadataWalker.prototype.visitClassDeclaration=function(node){(node.decorators||[]).forEach(this.validateDecorator.bind(this,node.name.text)),_super.prototype.visitClassDeclaration.call(this,node)},DirectiveMetadataWalker.prototype.validateDecorator=function(className,decorator){var baseExpr=decorator.expression||{},expr=baseExpr.expression||{},name=expr.text,args=baseExpr.arguments||[],arg=args[0];/^(Component|Directive)$/.test(name)&&arg&&this.validateProperty(className,name,arg)},DirectiveMetadataWalker.prototype.validateProperty=function(className,decoratorName,arg){var _this=this;arg.kind===SyntaxKind.current().ObjectLiteralExpression&&arg.properties.filter(function(prop){return prop.name.text===_this.config.propertyName}).forEach(function(prop){var p=prop;_this.addFailure(_this.createFailure(p.getStart(),p.getWidth(),UsePropertyDecorator.formatFailureString(_this.config,decoratorName,className)))})},DirectiveMetadataWalker}(Lint.RuleWalker)},{"./util/syntaxKind":93,"sprintf-js":259,"tslint/lib/lint":286,typescript:296}],84:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),selectorValidator_1=require("./util/selectorValidator"),sprintf_js_1=require("sprintf-js"),compiler=require("@angular/compiler"),SyntaxKind=require("./util/syntaxKind"),SelectorRule=function(_super){function SelectorRule(ruleName,value,disabledIntervals){var _this,type=value[1],prefix=value[2],name=value[3];return _this=_super.call(this,ruleName,value,disabledIntervals)||this,_this.setMultiPrefix(prefix),_this.setPrefixArguments(prefix),_this.setPrefixValidator(prefix,name),_this.setPrefixFailure(),_this.setTypeValidator(type),_this.setNameValidator(name),_this}return __extends(SelectorRule,_super),SelectorRule.prototype.getPrefixFailure=function(){return this.FAILURE_PREFIX},SelectorRule.prototype.validateType=function(selector){return this.typeValidator(selector)},SelectorRule.prototype.validateName=function(selector){var _this=this;return this.isMultiSelectors?selector.some(function(a){return _this.nameValidator(a)}):this.nameValidator(selector)},SelectorRule.prototype.validatePrefix=function(selector){var _this=this;return this.isMultiSelectors?selector.some(function(a){return _this.prefixValidator(a)}):this.prefixValidator(selector)},SelectorRule.prototype.apply=function(sourceFile){return this.applyWithWalker(new SelectorValidatorWalker(sourceFile,this))},SelectorRule.prototype.getFailureString=function(failureConfig){return sprintf_js_1.sprintf(failureConfig.fail,failureConfig.className,this.getOptions().ruleArguments,failureConfig.selector)},SelectorRule.prototype.setNameValidator=function(name){"camelCase"===name?this.nameValidator=selectorValidator_1.SelectorValidator.camelCase:"kebab-case"===name&&(this.nameValidator=selectorValidator_1.SelectorValidator.kebabCase)},SelectorRule.prototype.setMultiPrefix=function(prefix){this.isMultiPrefix="string"==typeof prefix},SelectorRule.prototype.setPrefixArguments=function(prefix){this.prefixArguments=this.isMultiPrefix?prefix:prefix.join(",")},SelectorRule.prototype.setPrefixValidator=function(prefix,name){var prefixExpression=this.isMultiPrefix?prefix:(prefix||[]).join("|");this.prefixValidator=selectorValidator_1.SelectorValidator.prefix(prefixExpression,name)},SelectorRule.prototype.setPrefixFailure=function(){this.FAILURE_PREFIX=this.isMultiPrefix?this.getSinglePrefixFailure():this.getManyPrefixFailure()},SelectorRule.prototype.setTypeValidator=function(type){"element"===type?(this.typeValidator=selectorValidator_1.SelectorValidator.element,this.isMultiSelectors=!1,this.cssSelectorProperty="element"):"attribute"===type&&(this.typeValidator=selectorValidator_1.SelectorValidator.attribute,this.isMultiSelectors=!0,this.cssSelectorProperty="attrs")},SelectorRule}(Lint.Rules.AbstractRule);exports.SelectorRule=SelectorRule;var SelectorValidatorWalker=function(_super){function SelectorValidatorWalker(sourceFile,rule){var _this=_super.call(this,sourceFile,rule.getOptions())||this;return _this.rule=rule,_this}return __extends(SelectorValidatorWalker,_super),SelectorValidatorWalker.prototype.visitClassDeclaration=function(node){(node.decorators||[]).forEach(this.validateDecorator.bind(this,node.name.text)),_super.prototype.visitClassDeclaration.call(this,node)},SelectorValidatorWalker.prototype.validateDecorator=function(className,decorator){var baseExpr=decorator.expression||{},expr=baseExpr.expression||{},name=expr.text,args=baseExpr.arguments||[],arg=args[0];this.rule.handleType===name&&this.validateSelector(className,arg)},SelectorValidatorWalker.prototype.validateSelector=function(className,arg){var _this=this;arg.kind===SyntaxKind.current().ObjectLiteralExpression&&arg.properties.filter(function(prop){return _this.validateProperty(prop)}).map(function(prop){return prop.initializer}).forEach(function(i){var selectors=_this.extractMainSelector(i),validateSelectors=function(cb){return!selectors.every(function(selector){return!cb(selector[_this.rule.cssSelectorProperty])})};if(validateSelectors(_this.rule.validateType.bind(_this.rule)))if(validateSelectors(_this.rule.validateName.bind(_this.rule))){if(!validateSelectors(_this.rule.validatePrefix.bind(_this.rule))){var error=sprintf_js_1.sprintf(_this.rule.getPrefixFailure(),className,_this.rule.prefixArguments);_this.addFailure(_this.createFailure(i.getStart(),i.getWidth(),error))}}else{var error=sprintf_js_1.sprintf(_this.rule.getNameFailure(),className,_this.rule.getOptions().ruleArguments[2]);_this.addFailure(_this.createFailure(i.getStart(),i.getWidth(),error))}else{var error=sprintf_js_1.sprintf(_this.rule.getTypeFailure(),className,_this.rule.getOptions().ruleArguments[0]);_this.addFailure(_this.createFailure(i.getStart(),i.getWidth(),error))}})},SelectorValidatorWalker.prototype.validateProperty=function(p){return"selector"===p.name.text&&p.initializer&&this.isSupportedKind(p.initializer.kind)},SelectorValidatorWalker.prototype.isSupportedKind=function(kind){var current=SyntaxKind.current();return[current.StringLiteral,current.NoSubstitutionTemplateLiteral].some(function(kindType){return kindType===kind})},SelectorValidatorWalker.prototype.extractMainSelector=function(i){return compiler.CssSelector.parse(i.text)},SelectorValidatorWalker}(Lint.RuleWalker);exports.SelectorValidatorWalker=SelectorValidatorWalker},{"./util/selectorValidator":92,"./util/syntaxKind":93,"@angular/compiler":3,"sprintf-js":259,"tslint/lib/lint":286}],85:[function(require,module,exports){"use strict";var DeclarationType,__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),utils_1=require("./util/utils"),ng2Walker_1=require("./angular/ng2Walker"),recursiveAngularExpressionVisitor_1=require("./angular/templates/recursiveAngularExpressionVisitor"),SyntaxKind=require("./util/syntaxKind");!function(DeclarationType){DeclarationType[DeclarationType.Property=0]="Property",DeclarationType[DeclarationType.Method=1]="Method"}(DeclarationType||(DeclarationType={}));var SymbolAccessValidator=function(_super){function SymbolAccessValidator(){return _super.apply(this,arguments)||this}return __extends(SymbolAccessValidator,_super),SymbolAccessValidator.prototype.visitPropertyRead=function(ast,context){return this.doCheck(ast,DeclarationType.Property,context)},SymbolAccessValidator.prototype.visitMethodCall=function(ast,context){this.doCheck(ast,DeclarationType.Method,context)},SymbolAccessValidator.prototype.visitPropertyWrite=function(ast,context){this.doCheck(ast,DeclarationType.Property,context)},SymbolAccessValidator.prototype.doCheck=function(ast,type,context){if(ast.receiver&&ast.receiver.name){for(var receiver=ast.receiver;receiver.receiver.name;)receiver=receiver.receiver;ast=receiver}var member=this.context.members.filter(function(m){return m.name&&m.name.text===ast.name}).pop();if(member){var isPublic=!member.modifiers;member.modifiers&&(isPublic=member.modifiers.some(function(m){return m.kind===SyntaxKind.current().PublicKeyword}));var width=ast.name.length;if(!isPublic){var failureString="You can bind only to public class members.";this.addFailure(this.createFailure(this.basePosition+ast.span.start,width,failureString))}}},SymbolAccessValidator.prototype.getTopSuggestion=function(list,current){var result=[],tmp=list.map(function(e){return{element:e,distance:utils_1.stringDistance(e,current)}}).sort(function(a,b){return a.distance-b.distance}),first=tmp.shift();if(first){result.push(first);for(var current_1;current_1=tmp.shift();){if(current_1.distance!==first.distance)return result;result.push(current_1)}return result}return[]},SymbolAccessValidator}(recursiveAngularExpressionVisitor_1.RecursiveAngularExpressionVisitor),Rule=function(_super){function Rule(){return _super.apply(this,arguments)||this}return __extends(Rule,_super),Rule.prototype.apply=function(sourceFile){return this.applyWithWalker(new ng2Walker_1.Ng2Walker(sourceFile,this.getOptions(),{expressionVisitorCtrl:SymbolAccessValidator}))},Rule}(Lint.Rules.AbstractRule);exports.Rule=Rule,Rule.FAILURE='The %s "%s" that you\'re trying to access does not exist in the class declaration.'},{"./angular/ng2Walker":57,"./angular/templates/recursiveAngularExpressionVisitor":66,"./util/syntaxKind":93,"./util/utils":94,"tslint/lib/lint":286}],86:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},propertyDecoratorBase_1=require("./propertyDecoratorBase"),Rule=function(_super){function Rule(ruleName,value,disabledIntervals){return _super.call(this,{decoratorName:["HostBindings","HostListeners"],propertyName:"host",errorMessage:"Use @HostBindings and @HostListeners instead of the host property (https://goo.gl/zrdmKr)"},ruleName,value,disabledIntervals)||this}return __extends(Rule,_super),Rule}(propertyDecoratorBase_1.UsePropertyDecorator);exports.Rule=Rule},{"./propertyDecoratorBase":83}],87:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},propertyDecoratorBase_1=require("./propertyDecoratorBase"),Rule=function(_super){function Rule(ruleName,value,disabledIntervals){return _super.call(this,{decoratorName:"Input",propertyName:"inputs",errorMessage:"Use the @Input property decorator instead of the inputs property (https://goo.gl/U0lrdN)"},ruleName,value,disabledIntervals)||this}return __extends(Rule,_super),Rule}(propertyDecoratorBase_1.UsePropertyDecorator);exports.Rule=Rule},{"./propertyDecoratorBase":83}],88:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),sprintf_js_1=require("sprintf-js"),SyntaxKind=require("./util/syntaxKind"),getInterfaceName=function(t){return t.expression&&t.expression.name?t.expression.name.text:t.expression.text},Rule=function(_super){function Rule(){return _super.apply(this,arguments)||this}return __extends(Rule,_super),Rule.prototype.apply=function(sourceFile){return this.applyWithWalker(new ClassMetadataWalker(sourceFile,this.getOptions()))},Rule}(Lint.Rules.AbstractRule);exports.Rule=Rule,Rule.FAILURE="Implement lifecycle hook interface %s for method %s in class %s (https://goo.gl/w1Nwk3)",Rule.HOOKS_PREFIX="ng",Rule.LIFE_CYCLE_HOOKS_NAMES=["OnChanges","OnInit","DoCheck","AfterContentInit","AfterContentChecked","AfterViewInit","AfterViewChecked","OnDestroy"];var ClassMetadataWalker=function(_super){function ClassMetadataWalker(){return _super.apply(this,arguments)||this}return __extends(ClassMetadataWalker,_super),ClassMetadataWalker.prototype.visitClassDeclaration=function(node){var syntaxKind=SyntaxKind.current(),className=node.name.text,interfaces=this.extractInterfaces(node,syntaxKind),methods=node.members.filter(function(m){return m.kind===syntaxKind.MethodDeclaration});this.validateMethods(methods,interfaces,className),_super.prototype.visitClassDeclaration.call(this,node)},ClassMetadataWalker.prototype.extractInterfaces=function(node,syntaxKind){var interfaces=[];if(node.heritageClauses){var interfacesClause=node.heritageClauses.filter(function(h){return h.token===syntaxKind.ImplementsKeyword});0!==interfacesClause.length&&(interfaces=interfacesClause[0].types.map(getInterfaceName))}return interfaces},ClassMetadataWalker.prototype.validateMethods=function(methods,interfaces,className){var _this=this;methods.forEach(function(m){var n=m.name.text;if(n&&_this.isMethodValidHook(m,interfaces)){var hookName=n.substr(2,n.lenght);_this.addFailure(_this.createFailure(m.name.getStart(),m.name.getWidth(),sprintf_js_1.sprintf.apply(_this,[Rule.FAILURE,hookName,Rule.HOOKS_PREFIX+hookName,className])))}})},ClassMetadataWalker.prototype.isMethodValidHook=function(m,interfaces){var n=m.name.text,isNg=n.substr(0,2)===Rule.HOOKS_PREFIX,hookName=n.substr(2,n.lenght),isHook=-1!==Rule.LIFE_CYCLE_HOOKS_NAMES.indexOf(hookName),isNotIn=-1===interfaces.indexOf(hookName);return isNg&&isHook&&isNotIn},ClassMetadataWalker}(Lint.RuleWalker);exports.ClassMetadataWalker=ClassMetadataWalker},{"./util/syntaxKind":93,"sprintf-js":259,"tslint/lib/lint":286}],89:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},propertyDecoratorBase_1=require("./propertyDecoratorBase"),Rule=function(_super){function Rule(ruleName,value,disabledIntervals){return _super.call(this,{decoratorName:"Output",propertyName:"outputs",errorMessage:"Use the @Output property decorator instead of the outputs property (https://goo.gl/U0lrdN)"},ruleName,value,disabledIntervals)||this}return __extends(Rule,_super),Rule}(propertyDecoratorBase_1.UsePropertyDecorator);exports.Rule=Rule},{"./propertyDecoratorBase":83}],90:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Lint=require("tslint/lib/lint"),sprintf_js_1=require("sprintf-js"),SyntaxKind=require("./util/syntaxKind"),getInterfaceName=function(t){return t.expression&&t.expression.name?t.expression.name.text:t.expression.text},Rule=function(_super){function Rule(){return _super.apply(this,arguments)||this}return __extends(Rule,_super),Rule.prototype.apply=function(sourceFile){return this.applyWithWalker(new ClassMetadataWalker(sourceFile,this.getOptions()))},Rule}(Lint.Rules.AbstractRule);exports.Rule=Rule,Rule.FAILURE="The %s class has the Pipe decorator, so it should implement the PipeTransform interface",Rule.PIPE_INTERFACE_NAME="PipeTransform";var ClassMetadataWalker=function(_super){function ClassMetadataWalker(){return _super.apply(this,arguments)||this}return __extends(ClassMetadataWalker,_super),ClassMetadataWalker.prototype.visitClassDeclaration=function(node){var decorators=node.decorators;if(decorators){var pipes=decorators.map(function(d){return d.expression.text||(d.expression.expression||{}).text}).filter(function(t){return"Pipe"===t});if(0!==pipes.length){var className=node.name.text;this.hasIPipeTransform(node)||this.addFailure(this.createFailure(node.getStart(),node.getWidth(),sprintf_js_1.sprintf.apply(this,[Rule.FAILURE,className])))}}_super.prototype.visitClassDeclaration.call(this,node)},ClassMetadataWalker.prototype.hasIPipeTransform=function(node){var interfaces=[];if(node.heritageClauses){var interfacesClause=node.heritageClauses.filter(function(h){return h.token===SyntaxKind.current().ImplementsKeyword});0!==interfacesClause.length&&(interfaces=interfacesClause[0].types.map(getInterfaceName))}return-1!==interfaces.indexOf(Rule.PIPE_INTERFACE_NAME)},ClassMetadataWalker}(Lint.RuleWalker);exports.ClassMetadataWalker=ClassMetadataWalker},{"./util/syntaxKind":93,"sprintf-js":259,"tslint/lib/lint":286}],91:[function(require,module,exports){"use strict";var syntaxKind_1=require("./syntaxKind"),SyntaxKind=syntaxKind_1.current();exports.getDeclaredPropertyNames=function(declaration){return declaration.members.filter(function(m){return m.kind===SyntaxKind.PropertyDeclaration||m.kind===SyntaxKind.GetAccessor||m.kind===SyntaxKind.SetAccessor}).map(function(d){return d.name.text})},exports.getDeclaredMethodNames=function(declaration){return declaration.members.filter(function(m){return m.kind===SyntaxKind.MethodDeclaration}).map(function(d){return d.name.text})}},{"./syntaxKind":93}],92:[function(require,module,exports){"use strict";exports.SelectorValidator={attribute:function(selector){return 0!==selector.length},element:function(selector){return null!==selector},kebabCase:function(selector){return/^[a-z0-9\-]+\-[a-z0-9\-]+$/.test(selector)},camelCase:function(selector){return/^[a-zA-Z0-9\[\]]+$/.test(selector)},prefix:function(prefix,selectorType){var regex=new RegExp("^\\[?("+prefix+")");return function(selector){if(regex.test(selector)){var suffix=selector.replace(regex,"");if("camelCase"===selectorType)return!suffix||suffix[0]===suffix[0].toUpperCase();if("kebab-case"===selectorType)return!suffix||"-"===suffix[0];throw new Error("Invalid selector type")}return!1}}}},{}],93:[function(require,module,exports){"use strict";var SyntaxKind,ts=require("typescript");!function(SyntaxKind){function current(){if(null===cachedKinds)if(/1\.5\..*/.test(ts.version))cachedKinds=SyntaxKind_1_5;else if(/1\.6\..*/.test(ts.version))cachedKinds=SyntaxKind_1_6;else if(/1\.7\..*/.test(ts.version))cachedKinds=SyntaxKind_1_7;else if(/1\.8\..*/.test(ts.version))cachedKinds=SyntaxKind_1_8;else if(/1\.9\..*/.test(ts.version))cachedKinds=SyntaxKind_1_9;else if(/2\.0\..*/.test(ts.version))cachedKinds=SyntaxKind_2_0;else{if(!/2\.1\..*/.test(ts.version))throw new Error("Unsupported TypeScript version: "+ts.version);cachedKinds=SyntaxKind_2_1}return cachedKinds}var cachedKinds=null,SyntaxKind_1_5={Unknown:0,EndOfFileToken:1,SingleLineCommentTrivia:2,MultiLineCommentTrivia:3,NewLineTrivia:4,WhitespaceTrivia:5,ConflictMarkerTrivia:6,NumericLiteral:7,StringLiteral:8,RegularExpressionLiteral:9,NoSubstitutionTemplateLiteral:10,TemplateHead:11,TemplateMiddle:12,TemplateTail:13,OpenBraceToken:14,CloseBraceToken:15,OpenParenToken:16,CloseParenToken:17,OpenBracketToken:18,CloseBracketToken:19,DotToken:20,DotDotDotToken:21,SemicolonToken:22,CommaToken:23,LessThanToken:24,GreaterThanToken:25,LessThanEqualsToken:26,GreaterThanEqualsToken:27,EqualsEqualsToken:28,ExclamationEqualsToken:29,EqualsEqualsEqualsToken:30,ExclamationEqualsEqualsToken:31,EqualsGreaterThanToken:32,PlusToken:33,MinusToken:34,AsteriskToken:35,SlashToken:36,PercentToken:37,PlusPlusToken:38,MinusMinusToken:39,LessThanLessThanToken:40,GreaterThanGreaterThanToken:41,GreaterThanGreaterThanGreaterThanToken:42,AmpersandToken:43,BarToken:44,CaretToken:45,ExclamationToken:46,TildeToken:47,AmpersandAmpersandToken:48,BarBarToken:49,QuestionToken:50,ColonToken:51,AtToken:52,EqualsToken:53,PlusEqualsToken:54,MinusEqualsToken:55,AsteriskEqualsToken:56,SlashEqualsToken:57,PercentEqualsToken:58,LessThanLessThanEqualsToken:59,GreaterThanGreaterThanEqualsToken:60,GreaterThanGreaterThanGreaterThanEqualsToken:61,AmpersandEqualsToken:62,BarEqualsToken:63,CaretEqualsToken:64,Identifier:65,BreakKeyword:66,CaseKeyword:67,CatchKeyword:68,ClassKeyword:69,ConstKeyword:70,ContinueKeyword:71,DebuggerKeyword:72,DefaultKeyword:73,DeleteKeyword:74,DoKeyword:75,ElseKeyword:76,EnumKeyword:77,ExportKeyword:78,ExtendsKeyword:79,FalseKeyword:80,FinallyKeyword:81,ForKeyword:82,FunctionKeyword:83,IfKeyword:84,ImportKeyword:85,InKeyword:86,InstanceOfKeyword:87,NewKeyword:88,NullKeyword:89,ReturnKeyword:90,SuperKeyword:91,SwitchKeyword:92,ThisKeyword:93,ThrowKeyword:94,TrueKeyword:95,TryKeyword:96,TypeOfKeyword:97,VarKeyword:98,VoidKeyword:99,WhileKeyword:100,WithKeyword:101,ImplementsKeyword:102,InterfaceKeyword:103,LetKeyword:104,PackageKeyword:105,PrivateKeyword:106,ProtectedKeyword:107,PublicKeyword:108,StaticKeyword:109,YieldKeyword:110,AsKeyword:111,AnyKeyword:112,BooleanKeyword:113,ConstructorKeyword:114,DeclareKeyword:115,GetKeyword:116,ModuleKeyword:117,NamespaceKeyword:118,RequireKeyword:119,NumberKeyword:120,SetKeyword:121,StringKeyword:122,
SymbolKeyword:123,TypeKeyword:124,FromKeyword:125,OfKeyword:126,QualifiedName:127,ComputedPropertyName:128,TypeParameter:129,Parameter:130,Decorator:131,PropertySignature:132,PropertyDeclaration:133,MethodSignature:134,MethodDeclaration:135,Constructor:136,GetAccessor:137,SetAccessor:138,CallSignature:139,ConstructSignature:140,IndexSignature:141,TypeReference:142,FunctionType:143,ConstructorType:144,TypeQuery:145,TypeLiteral:146,ArrayType:147,TupleType:148,UnionType:149,ParenthesizedType:150,ObjectBindingPattern:151,ArrayBindingPattern:152,BindingElement:153,ArrayLiteralExpression:154,ObjectLiteralExpression:155,PropertyAccessExpression:156,ElementAccessExpression:157,CallExpression:158,NewExpression:159,TaggedTemplateExpression:160,TypeAssertionExpression:161,ParenthesizedExpression:162,FunctionExpression:163,ArrowFunction:164,DeleteExpression:165,TypeOfExpression:166,VoidExpression:167,PrefixUnaryExpression:168,PostfixUnaryExpression:169,BinaryExpression:170,ConditionalExpression:171,TemplateExpression:172,YieldExpression:173,SpreadElementExpression:174,ClassExpression:175,OmittedExpression:176,ExpressionWithTypeArguments:177,TemplateSpan:178,SemicolonClassElement:179,Block:180,VariableStatement:181,EmptyStatement:182,ExpressionStatement:183,IfStatement:184,DoStatement:185,WhileStatement:186,ForStatement:187,ForInStatement:188,ForOfStatement:189,ContinueStatement:190,BreakStatement:191,ReturnStatement:192,WithStatement:193,SwitchStatement:194,LabeledStatement:195,ThrowStatement:196,TryStatement:197,DebuggerStatement:198,VariableDeclaration:199,VariableDeclarationList:200,FunctionDeclaration:201,ClassDeclaration:202,InterfaceDeclaration:203,TypeAliasDeclaration:204,EnumDeclaration:205,ModuleDeclaration:206,ModuleBlock:207,CaseBlock:208,ImportEqualsDeclaration:209,ImportDeclaration:210,ImportClause:211,NamespaceImport:212,NamedImports:213,ImportSpecifier:214,ExportAssignment:215,ExportDeclaration:216,NamedExports:217,ExportSpecifier:218,MissingDeclaration:219,ExternalModuleReference:220,CaseClause:221,DefaultClause:222,HeritageClause:223,CatchClause:224,PropertyAssignment:225,ShorthandPropertyAssignment:226,EnumMember:227,SourceFile:228,SyntaxList:229,Count:230,FirstAssignment:53,LastAssignment:64,FirstReservedWord:66,LastReservedWord:101,FirstKeyword:66,LastKeyword:126,FirstFutureReservedWord:102,LastFutureReservedWord:110,FirstTypeNode:142,LastTypeNode:150,FirstPunctuation:14,LastPunctuation:64,FirstToken:0,LastToken:126,FirstTriviaToken:2,LastTriviaToken:6,FirstLiteralToken:7,LastLiteralToken:10,FirstTemplateToken:10,LastTemplateToken:13,FirstBinaryOperator:24,LastBinaryOperator:64,FirstNode:127},SyntaxKind_1_6={Unknown:0,EndOfFileToken:1,SingleLineCommentTrivia:2,MultiLineCommentTrivia:3,NewLineTrivia:4,WhitespaceTrivia:5,ShebangTrivia:6,ConflictMarkerTrivia:7,NumericLiteral:8,StringLiteral:9,RegularExpressionLiteral:10,NoSubstitutionTemplateLiteral:11,TemplateHead:12,TemplateMiddle:13,TemplateTail:14,OpenBraceToken:15,CloseBraceToken:16,OpenParenToken:17,CloseParenToken:18,OpenBracketToken:19,CloseBracketToken:20,DotToken:21,DotDotDotToken:22,SemicolonToken:23,CommaToken:24,LessThanToken:25,LessThanSlashToken:26,GreaterThanToken:27,LessThanEqualsToken:28,GreaterThanEqualsToken:29,EqualsEqualsToken:30,ExclamationEqualsToken:31,EqualsEqualsEqualsToken:32,ExclamationEqualsEqualsToken:33,EqualsGreaterThanToken:34,PlusToken:35,MinusToken:36,AsteriskToken:37,SlashToken:38,PercentToken:39,PlusPlusToken:40,MinusMinusToken:41,LessThanLessThanToken:42,GreaterThanGreaterThanToken:43,GreaterThanGreaterThanGreaterThanToken:44,AmpersandToken:45,BarToken:46,CaretToken:47,ExclamationToken:48,TildeToken:49,AmpersandAmpersandToken:50,BarBarToken:51,QuestionToken:52,ColonToken:53,AtToken:54,EqualsToken:55,PlusEqualsToken:56,MinusEqualsToken:57,AsteriskEqualsToken:58,SlashEqualsToken:59,PercentEqualsToken:60,LessThanLessThanEqualsToken:61,GreaterThanGreaterThanEqualsToken:62,GreaterThanGreaterThanGreaterThanEqualsToken:63,AmpersandEqualsToken:64,BarEqualsToken:65,CaretEqualsToken:66,Identifier:67,BreakKeyword:68,CaseKeyword:69,CatchKeyword:70,ClassKeyword:71,ConstKeyword:72,ContinueKeyword:73,DebuggerKeyword:74,DefaultKeyword:75,DeleteKeyword:76,DoKeyword:77,ElseKeyword:78,EnumKeyword:79,ExportKeyword:80,ExtendsKeyword:81,FalseKeyword:82,FinallyKeyword:83,ForKeyword:84,FunctionKeyword:85,IfKeyword:86,ImportKeyword:87,InKeyword:88,InstanceOfKeyword:89,NewKeyword:90,NullKeyword:91,ReturnKeyword:92,SuperKeyword:93,SwitchKeyword:94,ThisKeyword:95,ThrowKeyword:96,TrueKeyword:97,TryKeyword:98,TypeOfKeyword:99,VarKeyword:100,VoidKeyword:101,WhileKeyword:102,WithKeyword:103,ImplementsKeyword:104,InterfaceKeyword:105,LetKeyword:106,PackageKeyword:107,PrivateKeyword:108,ProtectedKeyword:109,PublicKeyword:110,StaticKeyword:111,YieldKeyword:112,AbstractKeyword:113,AsKeyword:114,AnyKeyword:115,AsyncKeyword:116,AwaitKeyword:117,BooleanKeyword:118,ConstructorKeyword:119,DeclareKeyword:120,GetKeyword:121,IsKeyword:122,ModuleKeyword:123,NamespaceKeyword:124,RequireKeyword:125,NumberKeyword:126,SetKeyword:127,StringKeyword:128,SymbolKeyword:129,TypeKeyword:130,FromKeyword:131,OfKeyword:132,QualifiedName:133,ComputedPropertyName:134,TypeParameter:135,Parameter:136,Decorator:137,PropertySignature:138,PropertyDeclaration:139,MethodSignature:140,MethodDeclaration:141,Constructor:142,GetAccessor:143,SetAccessor:144,CallSignature:145,ConstructSignature:146,IndexSignature:147,TypePredicate:148,TypeReference:149,FunctionType:150,ConstructorType:151,TypeQuery:152,TypeLiteral:153,ArrayType:154,TupleType:155,UnionType:156,IntersectionType:157,ParenthesizedType:158,ObjectBindingPattern:159,ArrayBindingPattern:160,BindingElement:161,ArrayLiteralExpression:162,ObjectLiteralExpression:163,PropertyAccessExpression:164,ElementAccessExpression:165,CallExpression:166,NewExpression:167,TaggedTemplateExpression:168,TypeAssertionExpression:169,ParenthesizedExpression:170,FunctionExpression:171,ArrowFunction:172,DeleteExpression:173,TypeOfExpression:174,VoidExpression:175,AwaitExpression:176,PrefixUnaryExpression:177,PostfixUnaryExpression:178,BinaryExpression:179,ConditionalExpression:180,TemplateExpression:181,YieldExpression:182,SpreadElementExpression:183,ClassExpression:184,OmittedExpression:185,ExpressionWithTypeArguments:186,AsExpression:187,TemplateSpan:188,SemicolonClassElement:189,Block:190,VariableStatement:191,EmptyStatement:192,ExpressionStatement:193,IfStatement:194,DoStatement:195,WhileStatement:196,ForStatement:197,ForInStatement:198,ForOfStatement:199,ContinueStatement:200,BreakStatement:201,ReturnStatement:202,WithStatement:203,SwitchStatement:204,LabeledStatement:205,ThrowStatement:206,TryStatement:207,DebuggerStatement:208,VariableDeclaration:209,VariableDeclarationList:210,FunctionDeclaration:211,ClassDeclaration:212,InterfaceDeclaration:213,TypeAliasDeclaration:214,EnumDeclaration:215,ModuleDeclaration:216,ModuleBlock:217,CaseBlock:218,ImportEqualsDeclaration:219,ImportDeclaration:220,ImportClause:221,NamespaceImport:222,NamedImports:223,ImportSpecifier:224,ExportAssignment:225,ExportDeclaration:226,NamedExports:227,ExportSpecifier:228,MissingDeclaration:229,ExternalModuleReference:230,JsxElement:231,JsxSelfClosingElement:232,JsxOpeningElement:233,JsxText:234,JsxClosingElement:235,JsxAttribute:236,JsxSpreadAttribute:237,JsxExpression:238,CaseClause:239,DefaultClause:240,HeritageClause:241,CatchClause:242,PropertyAssignment:243,ShorthandPropertyAssignment:244,EnumMember:245,SourceFile:246,JSDocTypeExpression:247,JSDocAllType:248,JSDocUnknownType:249,JSDocArrayType:250,JSDocUnionType:251,JSDocTupleType:252,JSDocNullableType:253,JSDocNonNullableType:254,JSDocRecordType:255,JSDocRecordMember:256,JSDocTypeReference:257,JSDocOptionalType:258,JSDocFunctionType:259,JSDocVariadicType:260,JSDocConstructorType:261,JSDocThisType:262,JSDocComment:263,JSDocTag:264,JSDocParameterTag:265,JSDocReturnTag:266,JSDocTypeTag:267,JSDocTemplateTag:268,SyntaxList:269,Count:270,FirstAssignment:55,LastAssignment:66,FirstReservedWord:68,LastReservedWord:103,FirstKeyword:68,LastKeyword:132,FirstFutureReservedWord:104,LastFutureReservedWord:112,FirstTypeNode:149,LastTypeNode:158,FirstPunctuation:15,LastPunctuation:66,FirstToken:0,LastToken:132,FirstTriviaToken:2,LastTriviaToken:7,FirstLiteralToken:8,LastLiteralToken:11,FirstTemplateToken:11,LastTemplateToken:14,FirstBinaryOperator:25,LastBinaryOperator:66,FirstNode:133},SyntaxKind_1_7={Unknown:0,EndOfFileToken:1,SingleLineCommentTrivia:2,MultiLineCommentTrivia:3,NewLineTrivia:4,WhitespaceTrivia:5,ShebangTrivia:6,ConflictMarkerTrivia:7,NumericLiteral:8,StringLiteral:9,RegularExpressionLiteral:10,NoSubstitutionTemplateLiteral:11,TemplateHead:12,TemplateMiddle:13,TemplateTail:14,OpenBraceToken:15,CloseBraceToken:16,OpenParenToken:17,CloseParenToken:18,OpenBracketToken:19,CloseBracketToken:20,DotToken:21,DotDotDotToken:22,SemicolonToken:23,CommaToken:24,LessThanToken:25,LessThanSlashToken:26,GreaterThanToken:27,LessThanEqualsToken:28,GreaterThanEqualsToken:29,EqualsEqualsToken:30,ExclamationEqualsToken:31,EqualsEqualsEqualsToken:32,ExclamationEqualsEqualsToken:33,EqualsGreaterThanToken:34,PlusToken:35,MinusToken:36,AsteriskToken:37,AsteriskAsteriskToken:38,SlashToken:39,PercentToken:40,PlusPlusToken:41,MinusMinusToken:42,LessThanLessThanToken:43,GreaterThanGreaterThanToken:44,GreaterThanGreaterThanGreaterThanToken:45,AmpersandToken:46,BarToken:47,CaretToken:48,ExclamationToken:49,TildeToken:50,AmpersandAmpersandToken:51,BarBarToken:52,QuestionToken:53,ColonToken:54,AtToken:55,EqualsToken:56,PlusEqualsToken:57,MinusEqualsToken:58,AsteriskEqualsToken:59,AsteriskAsteriskEqualsToken:60,SlashEqualsToken:61,PercentEqualsToken:62,LessThanLessThanEqualsToken:63,GreaterThanGreaterThanEqualsToken:64,GreaterThanGreaterThanGreaterThanEqualsToken:65,AmpersandEqualsToken:66,BarEqualsToken:67,CaretEqualsToken:68,Identifier:69,BreakKeyword:70,CaseKeyword:71,CatchKeyword:72,ClassKeyword:73,ConstKeyword:74,ContinueKeyword:75,DebuggerKeyword:76,DefaultKeyword:77,DeleteKeyword:78,DoKeyword:79,ElseKeyword:80,EnumKeyword:81,ExportKeyword:82,ExtendsKeyword:83,FalseKeyword:84,FinallyKeyword:85,ForKeyword:86,FunctionKeyword:87,IfKeyword:88,ImportKeyword:89,InKeyword:90,InstanceOfKeyword:91,NewKeyword:92,NullKeyword:93,ReturnKeyword:94,SuperKeyword:95,SwitchKeyword:96,ThisKeyword:97,ThrowKeyword:98,TrueKeyword:99,TryKeyword:100,TypeOfKeyword:101,VarKeyword:102,VoidKeyword:103,WhileKeyword:104,WithKeyword:105,ImplementsKeyword:106,InterfaceKeyword:107,LetKeyword:108,PackageKeyword:109,PrivateKeyword:110,ProtectedKeyword:111,PublicKeyword:112,StaticKeyword:113,YieldKeyword:114,AbstractKeyword:115,AsKeyword:116,AnyKeyword:117,AsyncKeyword:118,AwaitKeyword:119,BooleanKeyword:120,ConstructorKeyword:121,DeclareKeyword:122,GetKeyword:123,IsKeyword:124,ModuleKeyword:125,NamespaceKeyword:126,RequireKeyword:127,NumberKeyword:128,SetKeyword:129,StringKeyword:130,SymbolKeyword:131,TypeKeyword:132,FromKeyword:133,OfKeyword:134,QualifiedName:135,ComputedPropertyName:136,TypeParameter:137,Parameter:138,Decorator:139,PropertySignature:140,PropertyDeclaration:141,MethodSignature:142,MethodDeclaration:143,Constructor:144,GetAccessor:145,SetAccessor:146,CallSignature:147,ConstructSignature:148,IndexSignature:149,TypePredicate:150,TypeReference:151,FunctionType:152,ConstructorType:153,TypeQuery:154,TypeLiteral:155,ArrayType:156,TupleType:157,UnionType:158,IntersectionType:159,ParenthesizedType:160,ObjectBindingPattern:161,ArrayBindingPattern:162,BindingElement:163,ArrayLiteralExpression:164,ObjectLiteralExpression:165,PropertyAccessExpression:166,ElementAccessExpression:167,CallExpression:168,NewExpression:169,TaggedTemplateExpression:170,TypeAssertionExpression:171,ParenthesizedExpression:172,FunctionExpression:173,ArrowFunction:174,DeleteExpression:175,TypeOfExpression:176,VoidExpression:177,AwaitExpression:178,PrefixUnaryExpression:179,PostfixUnaryExpression:180,BinaryExpression:181,ConditionalExpression:182,TemplateExpression:183,YieldExpression:184,SpreadElementExpression:185,ClassExpression:186,OmittedExpression:187,ExpressionWithTypeArguments:188,AsExpression:189,TemplateSpan:190,SemicolonClassElement:191,Block:192,VariableStatement:193,EmptyStatement:194,ExpressionStatement:195,IfStatement:196,DoStatement:197,WhileStatement:198,ForStatement:199,ForInStatement:200,ForOfStatement:201,ContinueStatement:202,BreakStatement:203,ReturnStatement:204,WithStatement:205,SwitchStatement:206,LabeledStatement:207,ThrowStatement:208,TryStatement:209,DebuggerStatement:210,VariableDeclaration:211,VariableDeclarationList:212,FunctionDeclaration:213,ClassDeclaration:214,InterfaceDeclaration:215,TypeAliasDeclaration:216,EnumDeclaration:217,ModuleDeclaration:218,ModuleBlock:219,CaseBlock:220,ImportEqualsDeclaration:221,ImportDeclaration:222,ImportClause:223,NamespaceImport:224,NamedImports:225,ImportSpecifier:226,ExportAssignment:227,ExportDeclaration:228,NamedExports:229,ExportSpecifier:230,MissingDeclaration:231,ExternalModuleReference:232,JsxElement:233,JsxSelfClosingElement:234,JsxOpeningElement:235,JsxText:236,JsxClosingElement:237,JsxAttribute:238,JsxSpreadAttribute:239,JsxExpression:240,CaseClause:241,DefaultClause:242,HeritageClause:243,CatchClause:244,PropertyAssignment:245,ShorthandPropertyAssignment:246,EnumMember:247,SourceFile:248,JSDocTypeExpression:249,JSDocAllType:250,JSDocUnknownType:251,JSDocArrayType:252,JSDocUnionType:253,JSDocTupleType:254,JSDocNullableType:255,JSDocNonNullableType:256,JSDocRecordType:257,JSDocRecordMember:258,JSDocTypeReference:259,JSDocOptionalType:260,JSDocFunctionType:261,JSDocVariadicType:262,JSDocConstructorType:263,JSDocThisType:264,JSDocComment:265,JSDocTag:266,JSDocParameterTag:267,JSDocReturnTag:268,JSDocTypeTag:269,JSDocTemplateTag:270,SyntaxList:271,Count:272,FirstAssignment:56,LastAssignment:68,FirstReservedWord:70,LastReservedWord:105,FirstKeyword:70,LastKeyword:134,FirstFutureReservedWord:106,LastFutureReservedWord:114,FirstTypeNode:151,LastTypeNode:160,FirstPunctuation:15,LastPunctuation:68,FirstToken:0,LastToken:134,FirstTriviaToken:2,LastTriviaToken:7,FirstLiteralToken:8,LastLiteralToken:11,FirstTemplateToken:11,LastTemplateToken:14,FirstBinaryOperator:25,LastBinaryOperator:68,FirstNode:135},SyntaxKind_1_8={Unknown:0,EndOfFileToken:1,SingleLineCommentTrivia:2,MultiLineCommentTrivia:3,NewLineTrivia:4,WhitespaceTrivia:5,ShebangTrivia:6,ConflictMarkerTrivia:7,NumericLiteral:8,StringLiteral:9,RegularExpressionLiteral:10,NoSubstitutionTemplateLiteral:11,TemplateHead:12,TemplateMiddle:13,TemplateTail:14,OpenBraceToken:15,CloseBraceToken:16,OpenParenToken:17,CloseParenToken:18,OpenBracketToken:19,CloseBracketToken:20,DotToken:21,DotDotDotToken:22,SemicolonToken:23,CommaToken:24,LessThanToken:25,LessThanSlashToken:26,GreaterThanToken:27,LessThanEqualsToken:28,GreaterThanEqualsToken:29,EqualsEqualsToken:30,ExclamationEqualsToken:31,EqualsEqualsEqualsToken:32,ExclamationEqualsEqualsToken:33,EqualsGreaterThanToken:34,PlusToken:35,MinusToken:36,AsteriskToken:37,AsteriskAsteriskToken:38,SlashToken:39,PercentToken:40,PlusPlusToken:41,MinusMinusToken:42,LessThanLessThanToken:43,GreaterThanGreaterThanToken:44,GreaterThanGreaterThanGreaterThanToken:45,AmpersandToken:46,BarToken:47,CaretToken:48,ExclamationToken:49,TildeToken:50,AmpersandAmpersandToken:51,BarBarToken:52,QuestionToken:53,ColonToken:54,AtToken:55,EqualsToken:56,PlusEqualsToken:57,MinusEqualsToken:58,AsteriskEqualsToken:59,AsteriskAsteriskEqualsToken:60,SlashEqualsToken:61,PercentEqualsToken:62,LessThanLessThanEqualsToken:63,GreaterThanGreaterThanEqualsToken:64,GreaterThanGreaterThanGreaterThanEqualsToken:65,AmpersandEqualsToken:66,BarEqualsToken:67,CaretEqualsToken:68,Identifier:69,BreakKeyword:70,CaseKeyword:71,CatchKeyword:72,ClassKeyword:73,ConstKeyword:74,ContinueKeyword:75,DebuggerKeyword:76,DefaultKeyword:77,DeleteKeyword:78,DoKeyword:79,ElseKeyword:80,EnumKeyword:81,ExportKeyword:82,ExtendsKeyword:83,FalseKeyword:84,FinallyKeyword:85,ForKeyword:86,FunctionKeyword:87,IfKeyword:88,ImportKeyword:89,InKeyword:90,InstanceOfKeyword:91,NewKeyword:92,NullKeyword:93,ReturnKeyword:94,SuperKeyword:95,SwitchKeyword:96,ThisKeyword:97,ThrowKeyword:98,TrueKeyword:99,TryKeyword:100,TypeOfKeyword:101,VarKeyword:102,VoidKeyword:103,WhileKeyword:104,WithKeyword:105,ImplementsKeyword:106,InterfaceKeyword:107,LetKeyword:108,PackageKeyword:109,PrivateKeyword:110,ProtectedKeyword:111,PublicKeyword:112,StaticKeyword:113,YieldKeyword:114,AbstractKeyword:115,AsKeyword:116,AnyKeyword:117,AsyncKeyword:118,AwaitKeyword:119,BooleanKeyword:120,ConstructorKeyword:121,DeclareKeyword:122,GetKeyword:123,IsKeyword:124,ModuleKeyword:125,NamespaceKeyword:126,RequireKeyword:127,NumberKeyword:128,SetKeyword:129,StringKeyword:130,SymbolKeyword:131,TypeKeyword:132,FromKeyword:133,GlobalKeyword:134,OfKeyword:135,QualifiedName:136,ComputedPropertyName:137,TypeParameter:138,Parameter:139,Decorator:140,PropertySignature:141,PropertyDeclaration:142,MethodSignature:143,MethodDeclaration:144,Constructor:145,GetAccessor:146,SetAccessor:147,CallSignature:148,ConstructSignature:149,IndexSignature:150,TypePredicate:151,TypeReference:152,FunctionType:153,ConstructorType:154,TypeQuery:155,TypeLiteral:156,ArrayType:157,TupleType:158,UnionType:159,IntersectionType:160,ParenthesizedType:161,ThisType:162,StringLiteralType:163,ObjectBindingPattern:164,ArrayBindingPattern:165,BindingElement:166,ArrayLiteralExpression:167,ObjectLiteralExpression:168,PropertyAccessExpression:169,ElementAccessExpression:170,CallExpression:171,NewExpression:172,TaggedTemplateExpression:173,TypeAssertionExpression:174,ParenthesizedExpression:175,FunctionExpression:176,ArrowFunction:177,DeleteExpression:178,TypeOfExpression:179,VoidExpression:180,AwaitExpression:181,PrefixUnaryExpression:182,PostfixUnaryExpression:183,BinaryExpression:184,ConditionalExpression:185,TemplateExpression:186,YieldExpression:187,SpreadElementExpression:188,ClassExpression:189,OmittedExpression:190,ExpressionWithTypeArguments:191,AsExpression:192,TemplateSpan:193,SemicolonClassElement:194,Block:195,VariableStatement:196,EmptyStatement:197,ExpressionStatement:198,IfStatement:199,DoStatement:200,WhileStatement:201,ForStatement:202,ForInStatement:203,ForOfStatement:204,ContinueStatement:205,BreakStatement:206,ReturnStatement:207,WithStatement:208,SwitchStatement:209,LabeledStatement:210,ThrowStatement:211,TryStatement:212,DebuggerStatement:213,VariableDeclaration:214,VariableDeclarationList:215,FunctionDeclaration:216,ClassDeclaration:217,InterfaceDeclaration:218,TypeAliasDeclaration:219,EnumDeclaration:220,ModuleDeclaration:221,ModuleBlock:222,CaseBlock:223,ImportEqualsDeclaration:224,ImportDeclaration:225,ImportClause:226,NamespaceImport:227,NamedImports:228,ImportSpecifier:229,ExportAssignment:230,ExportDeclaration:231,NamedExports:232,ExportSpecifier:233,MissingDeclaration:234,ExternalModuleReference:235,JsxElement:236,JsxSelfClosingElement:237,JsxOpeningElement:238,JsxText:239,JsxClosingElement:240,JsxAttribute:241,JsxSpreadAttribute:242,JsxExpression:243,CaseClause:244,DefaultClause:245,HeritageClause:246,CatchClause:247,PropertyAssignment:248,ShorthandPropertyAssignment:249,EnumMember:250,SourceFile:251,JSDocTypeExpression:252,JSDocAllType:253,JSDocUnknownType:254,JSDocArrayType:255,JSDocUnionType:256,JSDocTupleType:257,JSDocNullableType:258,JSDocNonNullableType:259,JSDocRecordType:260,JSDocRecordMember:261,JSDocTypeReference:262,JSDocOptionalType:263,JSDocFunctionType:264,JSDocVariadicType:265,JSDocConstructorType:266,JSDocThisType:267,JSDocComment:268,JSDocTag:269,JSDocParameterTag:270,JSDocReturnTag:271,JSDocTypeTag:272,JSDocTemplateTag:273,SyntaxList:274,Count:275,FirstAssignment:56,LastAssignment:68,FirstReservedWord:70,LastReservedWord:105,FirstKeyword:70,LastKeyword:135,FirstFutureReservedWord:106,LastFutureReservedWord:114,FirstTypeNode:151,LastTypeNode:163,FirstPunctuation:15,LastPunctuation:68,FirstToken:0,LastToken:135,FirstTriviaToken:2,LastTriviaToken:7,FirstLiteralToken:8,LastLiteralToken:11,FirstTemplateToken:11,LastTemplateToken:14,FirstBinaryOperator:25,LastBinaryOperator:68,FirstNode:136},SyntaxKind_1_9={Unknown:0,EndOfFileToken:1,SingleLineCommentTrivia:2,MultiLineCommentTrivia:3,NewLineTrivia:4,WhitespaceTrivia:5,ShebangTrivia:6,ConflictMarkerTrivia:7,NumericLiteral:8,StringLiteral:9,RegularExpressionLiteral:10,NoSubstitutionTemplateLiteral:11,TemplateHead:12,TemplateMiddle:13,TemplateTail:14,OpenBraceToken:15,CloseBraceToken:16,OpenParenToken:17,CloseParenToken:18,OpenBracketToken:19,CloseBracketToken:20,DotToken:21,DotDotDotToken:22,SemicolonToken:23,CommaToken:24,LessThanToken:25,LessThanSlashToken:26,GreaterThanToken:27,LessThanEqualsToken:28,GreaterThanEqualsToken:29,EqualsEqualsToken:30,ExclamationEqualsToken:31,EqualsEqualsEqualsToken:32,ExclamationEqualsEqualsToken:33,EqualsGreaterThanToken:34,PlusToken:35,MinusToken:36,AsteriskToken:37,AsteriskAsteriskToken:38,SlashToken:39,PercentToken:40,PlusPlusToken:41,MinusMinusToken:42,LessThanLessThanToken:43,GreaterThanGreaterThanToken:44,GreaterThanGreaterThanGreaterThanToken:45,AmpersandToken:46,BarToken:47,CaretToken:48,ExclamationToken:49,TildeToken:50,AmpersandAmpersandToken:51,BarBarToken:52,QuestionToken:53,ColonToken:54,AtToken:55,EqualsToken:56,PlusEqualsToken:57,MinusEqualsToken:58,AsteriskEqualsToken:59,AsteriskAsteriskEqualsToken:60,SlashEqualsToken:61,PercentEqualsToken:62,LessThanLessThanEqualsToken:63,GreaterThanGreaterThanEqualsToken:64,GreaterThanGreaterThanGreaterThanEqualsToken:65,AmpersandEqualsToken:66,BarEqualsToken:67,CaretEqualsToken:68,Identifier:69,BreakKeyword:70,CaseKeyword:71,CatchKeyword:72,ClassKeyword:73,ConstKeyword:74,ContinueKeyword:75,DebuggerKeyword:76,DefaultKeyword:77,DeleteKeyword:78,DoKeyword:79,ElseKeyword:80,EnumKeyword:81,ExportKeyword:82,ExtendsKeyword:83,FalseKeyword:84,FinallyKeyword:85,ForKeyword:86,FunctionKeyword:87,IfKeyword:88,ImportKeyword:89,InKeyword:90,InstanceOfKeyword:91,NewKeyword:92,NullKeyword:93,ReturnKeyword:94,SuperKeyword:95,SwitchKeyword:96,ThisKeyword:97,ThrowKeyword:98,TrueKeyword:99,TryKeyword:100,TypeOfKeyword:101,VarKeyword:102,VoidKeyword:103,WhileKeyword:104,WithKeyword:105,ImplementsKeyword:106,InterfaceKeyword:107,LetKeyword:108,PackageKeyword:109,PrivateKeyword:110,ProtectedKeyword:111,PublicKeyword:112,StaticKeyword:113,YieldKeyword:114,AbstractKeyword:115,AsKeyword:116,AnyKeyword:117,AsyncKeyword:118,AwaitKeyword:119,BooleanKeyword:120,ConstructorKeyword:121,DeclareKeyword:122,GetKeyword:123,IsKeyword:124,ModuleKeyword:125,NamespaceKeyword:126,RequireKeyword:128,NumberKeyword:129,SetKeyword:130,StringKeyword:131,SymbolKeyword:132,TypeKeyword:133,FromKeyword:135,GlobalKeyword:136,OfKeyword:137,QualifiedName:138,ComputedPropertyName:139,TypeParameter:140,Parameter:141,Decorator:142,PropertySignature:143,PropertyDeclaration:144,MethodSignature:145,MethodDeclaration:146,Constructor:147,GetAccessor:148,SetAccessor:149,CallSignature:150,ConstructSignature:151,IndexSignature:152,TypePredicate:153,TypeReference:154,FunctionType:155,ConstructorType:156,TypeQuery:157,TypeLiteral:158,ArrayType:159,TupleType:160,UnionType:161,IntersectionType:162,ParenthesizedType:163,ThisType:164,StringLiteralType:165,ObjectBindingPattern:166,ArrayBindingPattern:167,BindingElement:168,ArrayLiteralExpression:169,ObjectLiteralExpression:170,PropertyAccessExpression:171,ElementAccessExpression:172,CallExpression:173,NewExpression:174,TaggedTemplateExpression:175,TypeAssertionExpression:176,ParenthesizedExpression:177,FunctionExpression:178,ArrowFunction:179,DeleteExpression:180,TypeOfExpression:181,VoidExpression:182,AwaitExpression:183,PrefixUnaryExpression:184,PostfixUnaryExpression:185,BinaryExpression:186,ConditionalExpression:187,TemplateExpression:188,YieldExpression:189,SpreadElementExpression:190,ClassExpression:191,OmittedExpression:192,ExpressionWithTypeArguments:193,AsExpression:194,TemplateSpan:196,SemicolonClassElement:197,Block:198,VariableStatement:199,EmptyStatement:200,ExpressionStatement:201,IfStatement:202,DoStatement:203,WhileStatement:204,ForStatement:205,ForInStatement:206,ForOfStatement:207,ContinueStatement:208,BreakStatement:209,ReturnStatement:210,WithStatement:211,SwitchStatement:212,LabeledStatement:213,ThrowStatement:214,TryStatement:215,DebuggerStatement:216,VariableDeclaration:217,VariableDeclarationList:218,FunctionDeclaration:219,ClassDeclaration:220,InterfaceDeclaration:221,TypeAliasDeclaration:222,EnumDeclaration:223,ModuleDeclaration:224,ModuleBlock:225,CaseBlock:226,ImportEqualsDeclaration:228,ImportDeclaration:229,ImportClause:230,NamespaceImport:231,NamedImports:232,ImportSpecifier:233,ExportAssignment:234,ExportDeclaration:235,NamedExports:236,ExportSpecifier:237,MissingDeclaration:238,ExternalModuleReference:239,JsxElement:240,JsxSelfClosingElement:241,JsxOpeningElement:242,JsxText:243,JsxClosingElement:244,JsxAttribute:245,JsxSpreadAttribute:246,JsxExpression:247,CaseClause:248,DefaultClause:249,HeritageClause:250,CatchClause:251,PropertyAssignment:252,ShorthandPropertyAssignment:253,EnumMember:254,SourceFile:255,JSDocTypeExpression:256,JSDocAllType:257,JSDocUnknownType:258,JSDocArrayType:259,JSDocUnionType:260,JSDocTupleType:261,JSDocNullableType:262,JSDocNonNullableType:263,JSDocRecordType:264,JSDocRecordMember:265,JSDocTypeReference:266,JSDocOptionalType:267,JSDocFunctionType:268,JSDocVariadicType:269,JSDocConstructorType:270,JSDocThisType:271,JSDocComment:272,JSDocTag:273,JSDocParameterTag:274,JSDocReturnTag:275,JSDocTypeTag:276,JSDocTemplateTag:277,SyntaxList:278,Count:279,FirstAssignment:56,LastAssignment:68,FirstReservedWord:70,LastReservedWord:105,FirstKeyword:70,LastKeyword:137,FirstFutureReservedWord:106,LastFutureReservedWord:114,FirstTypeNode:153,LastTypeNode:165,FirstPunctuation:15,LastPunctuation:68,FirstToken:0,LastToken:137,FirstTriviaToken:2,LastTriviaToken:7,FirstLiteralToken:8,LastLiteralToken:11,FirstTemplateToken:11,LastTemplateToken:14,FirstBinaryOperator:25,LastBinaryOperator:68,FirstNode:138,GlobalModuleExportDeclaration:227,NonNullExpression:195,UndefinedKeyword:134,ReadonlyKeyword:127},SyntaxKind_2_0={Unknown:0,EndOfFileToken:1,SingleLineCommentTrivia:2,MultiLineCommentTrivia:3,NewLineTrivia:4,WhitespaceTrivia:5,ShebangTrivia:6,ConflictMarkerTrivia:7,NumericLiteral:8,StringLiteral:9,RegularExpressionLiteral:10,NoSubstitutionTemplateLiteral:11,TemplateHead:12,TemplateMiddle:13,TemplateTail:14,OpenBraceToken:15,CloseBraceToken:16,OpenParenToken:17,CloseParenToken:18,OpenBracketToken:19,CloseBracketToken:20,DotToken:21,DotDotDotToken:22,SemicolonToken:23,CommaToken:24,LessThanToken:25,LessThanSlashToken:26,GreaterThanToken:27,LessThanEqualsToken:28,GreaterThanEqualsToken:29,EqualsEqualsToken:30,ExclamationEqualsToken:31,EqualsEqualsEqualsToken:32,ExclamationEqualsEqualsToken:33,EqualsGreaterThanToken:34,PlusToken:35,MinusToken:36,AsteriskToken:37,AsteriskAsteriskToken:38,SlashToken:39,PercentToken:40,PlusPlusToken:41,MinusMinusToken:42,LessThanLessThanToken:43,GreaterThanGreaterThanToken:44,GreaterThanGreaterThanGreaterThanToken:45,AmpersandToken:46,BarToken:47,CaretToken:48,ExclamationToken:49,TildeToken:50,AmpersandAmpersandToken:51,BarBarToken:52,QuestionToken:53,ColonToken:54,AtToken:55,EqualsToken:56,PlusEqualsToken:57,MinusEqualsToken:58,AsteriskEqualsToken:59,AsteriskAsteriskEqualsToken:60,SlashEqualsToken:61,PercentEqualsToken:62,LessThanLessThanEqualsToken:63,GreaterThanGreaterThanEqualsToken:64,GreaterThanGreaterThanGreaterThanEqualsToken:65,AmpersandEqualsToken:66,BarEqualsToken:67,CaretEqualsToken:68,Identifier:69,BreakKeyword:70,CaseKeyword:71,CatchKeyword:72,ClassKeyword:73,ConstKeyword:74,ContinueKeyword:75,DebuggerKeyword:76,DefaultKeyword:77,DeleteKeyword:78,DoKeyword:79,ElseKeyword:80,EnumKeyword:81,ExportKeyword:82,ExtendsKeyword:83,FalseKeyword:84,FinallyKeyword:85,ForKeyword:86,FunctionKeyword:87,IfKeyword:88,ImportKeyword:89,InKeyword:90,InstanceOfKeyword:91,NewKeyword:92,NullKeyword:93,ReturnKeyword:94,SuperKeyword:95,SwitchKeyword:96,ThisKeyword:97,ThrowKeyword:98,TrueKeyword:99,TryKeyword:100,TypeOfKeyword:101,VarKeyword:102,VoidKeyword:103,WhileKeyword:104,WithKeyword:105,ImplementsKeyword:106,InterfaceKeyword:107,LetKeyword:108,PackageKeyword:109,PrivateKeyword:110,ProtectedKeyword:111,PublicKeyword:112,StaticKeyword:113,YieldKeyword:114,AbstractKeyword:115,AsKeyword:116,AnyKeyword:117,AsyncKeyword:118,AwaitKeyword:119,BooleanKeyword:120,ConstructorKeyword:121,DeclareKeyword:122,GetKeyword:123,IsKeyword:124,ModuleKeyword:125,NamespaceKeyword:126,NeverKeyword:127,ReadonlyKeyword:128,RequireKeyword:129,NumberKeyword:130,SetKeyword:131,StringKeyword:132,SymbolKeyword:133,TypeKeyword:134,UndefinedKeyword:135,FromKeyword:136,GlobalKeyword:137,OfKeyword:138,QualifiedName:139,ComputedPropertyName:140,TypeParameter:141,Parameter:142,Decorator:143,PropertySignature:144,PropertyDeclaration:145,MethodSignature:146,MethodDeclaration:147,Constructor:148,GetAccessor:149,SetAccessor:150,CallSignature:151,ConstructSignature:152,IndexSignature:153,TypePredicate:154,TypeReference:155,FunctionType:156,ConstructorType:157,TypeQuery:158,TypeLiteral:159,ArrayType:160,TupleType:161,UnionType:162,IntersectionType:163,ParenthesizedType:164,ThisType:165,StringLiteralType:166,ObjectBindingPattern:167,ArrayBindingPattern:168,BindingElement:169,ArrayLiteralExpression:170,ObjectLiteralExpression:171,PropertyAccessExpression:172,ElementAccessExpression:173,CallExpression:174,NewExpression:175,TaggedTemplateExpression:176,TypeAssertionExpression:177,ParenthesizedExpression:178,FunctionExpression:179,ArrowFunction:180,DeleteExpression:181,TypeOfExpression:182,VoidExpression:183,AwaitExpression:184,PrefixUnaryExpression:185,PostfixUnaryExpression:186,BinaryExpression:187,ConditionalExpression:188,TemplateExpression:189,YieldExpression:190,SpreadElementExpression:191,ClassExpression:192,OmittedExpression:193,ExpressionWithTypeArguments:194,AsExpression:195,NonNullExpression:196,TemplateSpan:197,SemicolonClassElement:198,Block:199,VariableStatement:200,EmptyStatement:201,ExpressionStatement:202,IfStatement:203,DoStatement:204,WhileStatement:205,ForStatement:206,ForInStatement:207,ForOfStatement:208,ContinueStatement:209,BreakStatement:210,ReturnStatement:211,WithStatement:212,SwitchStatement:213,LabeledStatement:214,ThrowStatement:215,TryStatement:216,DebuggerStatement:217,VariableDeclaration:218,VariableDeclarationList:219,FunctionDeclaration:220,ClassDeclaration:221,InterfaceDeclaration:222,TypeAliasDeclaration:223,EnumDeclaration:224,ModuleDeclaration:225,ModuleBlock:226,CaseBlock:227,NamespaceExportDeclaration:228,ImportEqualsDeclaration:229,ImportDeclaration:230,ImportClause:231,NamespaceImport:232,NamedImports:233,ImportSpecifier:234,ExportAssignment:235,ExportDeclaration:236,NamedExports:237,ExportSpecifier:238,MissingDeclaration:239,ExternalModuleReference:240,JsxElement:241,JsxSelfClosingElement:242,JsxOpeningElement:243,JsxText:244,JsxClosingElement:245,JsxAttribute:246,JsxSpreadAttribute:247,JsxExpression:248,CaseClause:249,DefaultClause:250,HeritageClause:251,CatchClause:252,PropertyAssignment:253,ShorthandPropertyAssignment:254,EnumMember:255,SourceFile:256,JSDocTypeExpression:257,JSDocAllType:258,JSDocUnknownType:259,JSDocArrayType:260,JSDocUnionType:261,JSDocTupleType:262,JSDocNullableType:263,JSDocNonNullableType:264,JSDocRecordType:265,JSDocRecordMember:266,JSDocTypeReference:267,JSDocOptionalType:268,JSDocFunctionType:269,JSDocVariadicType:270,JSDocConstructorType:271,JSDocThisType:272,JSDocComment:273,JSDocTag:274,JSDocParameterTag:275,JSDocReturnTag:276,JSDocTypeTag:277,JSDocTemplateTag:278,JSDocTypedefTag:279,JSDocPropertyTag:280,JSDocTypeLiteral:281,SyntaxList:282,Count:283,FirstAssignment:56,LastAssignment:68,FirstReservedWord:70,LastReservedWord:105,FirstKeyword:70,LastKeyword:138,FirstFutureReservedWord:106,LastFutureReservedWord:114,FirstTypeNode:154,LastTypeNode:166,FirstPunctuation:15,LastPunctuation:68,FirstToken:0,LastToken:138,FirstTriviaToken:2,
LastTriviaToken:7,FirstLiteralToken:8,LastLiteralToken:11,FirstTemplateToken:11,LastTemplateToken:14,FirstBinaryOperator:25,LastBinaryOperator:68,FirstNode:139,FirstJSDocNode:257,LastJSDocNode:281,FirstJSDocTagNode:273,LastJSDocTagNode:281},SyntaxKind_2_1={Unknown:0,EndOfFileToken:1,SingleLineCommentTrivia:2,MultiLineCommentTrivia:3,NewLineTrivia:4,WhitespaceTrivia:5,ShebangTrivia:6,ConflictMarkerTrivia:7,NumericLiteral:8,StringLiteral:9,JsxText:10,RegularExpressionLiteral:11,NoSubstitutionTemplateLiteral:12,TemplateHead:13,TemplateMiddle:14,TemplateTail:15,OpenBraceToken:16,CloseBraceToken:17,OpenParenToken:18,CloseParenToken:19,OpenBracketToken:20,CloseBracketToken:21,DotToken:22,DotDotDotToken:23,SemicolonToken:24,CommaToken:25,LessThanToken:26,LessThanSlashToken:27,GreaterThanToken:28,LessThanEqualsToken:29,GreaterThanEqualsToken:30,EqualsEqualsToken:31,ExclamationEqualsToken:32,EqualsEqualsEqualsToken:33,ExclamationEqualsEqualsToken:34,EqualsGreaterThanToken:35,PlusToken:36,MinusToken:37,AsteriskToken:38,AsteriskAsteriskToken:39,SlashToken:40,PercentToken:41,PlusPlusToken:42,MinusMinusToken:43,LessThanLessThanToken:44,GreaterThanGreaterThanToken:45,GreaterThanGreaterThanGreaterThanToken:46,AmpersandToken:47,BarToken:48,CaretToken:49,ExclamationToken:50,TildeToken:51,AmpersandAmpersandToken:52,BarBarToken:53,QuestionToken:54,ColonToken:55,AtToken:56,EqualsToken:57,PlusEqualsToken:58,MinusEqualsToken:59,AsteriskEqualsToken:60,AsteriskAsteriskEqualsToken:61,SlashEqualsToken:62,PercentEqualsToken:63,LessThanLessThanEqualsToken:64,GreaterThanGreaterThanEqualsToken:65,GreaterThanGreaterThanGreaterThanEqualsToken:66,AmpersandEqualsToken:67,BarEqualsToken:68,CaretEqualsToken:69,Identifier:70,BreakKeyword:71,CaseKeyword:72,CatchKeyword:73,ClassKeyword:74,ConstKeyword:75,ContinueKeyword:76,DebuggerKeyword:77,DefaultKeyword:78,DeleteKeyword:79,DoKeyword:80,ElseKeyword:81,EnumKeyword:82,ExportKeyword:83,ExtendsKeyword:84,FalseKeyword:85,FinallyKeyword:86,ForKeyword:87,FunctionKeyword:88,IfKeyword:89,ImportKeyword:90,InKeyword:91,InstanceOfKeyword:92,NewKeyword:93,NullKeyword:94,ReturnKeyword:95,SuperKeyword:96,SwitchKeyword:97,ThisKeyword:98,ThrowKeyword:99,TrueKeyword:100,TryKeyword:101,TypeOfKeyword:102,VarKeyword:103,VoidKeyword:104,WhileKeyword:105,WithKeyword:106,ImplementsKeyword:107,InterfaceKeyword:108,LetKeyword:109,PackageKeyword:110,PrivateKeyword:111,ProtectedKeyword:112,PublicKeyword:113,StaticKeyword:114,YieldKeyword:115,AbstractKeyword:116,AsKeyword:117,AnyKeyword:118,AsyncKeyword:119,AwaitKeyword:120,BooleanKeyword:121,ConstructorKeyword:122,DeclareKeyword:123,GetKeyword:124,IsKeyword:125,ModuleKeyword:126,NamespaceKeyword:127,NeverKeyword:128,ReadonlyKeyword:129,RequireKeyword:130,NumberKeyword:131,SetKeyword:132,StringKeyword:133,SymbolKeyword:134,TypeKeyword:135,UndefinedKeyword:136,FromKeyword:137,GlobalKeyword:138,OfKeyword:139,QualifiedName:140,ComputedPropertyName:141,TypeParameter:142,Parameter:143,Decorator:144,PropertySignature:145,PropertyDeclaration:146,MethodSignature:147,MethodDeclaration:148,Constructor:149,GetAccessor:150,SetAccessor:151,CallSignature:152,ConstructSignature:153,IndexSignature:154,TypePredicate:155,TypeReference:156,FunctionType:157,ConstructorType:158,TypeQuery:159,TypeLiteral:160,ArrayType:161,TupleType:162,UnionType:163,IntersectionType:164,ParenthesizedType:165,ThisType:166,LiteralType:167,ObjectBindingPattern:168,ArrayBindingPattern:169,BindingElement:170,ArrayLiteralExpression:171,ObjectLiteralExpression:172,PropertyAccessExpression:173,ElementAccessExpression:174,CallExpression:175,NewExpression:176,TaggedTemplateExpression:177,TypeAssertionExpression:178,ParenthesizedExpression:179,FunctionExpression:180,ArrowFunction:181,DeleteExpression:182,TypeOfExpression:183,VoidExpression:184,AwaitExpression:185,PrefixUnaryExpression:186,PostfixUnaryExpression:187,BinaryExpression:188,ConditionalExpression:189,TemplateExpression:190,YieldExpression:191,SpreadElementExpression:192,ClassExpression:193,OmittedExpression:194,ExpressionWithTypeArguments:195,AsExpression:196,NonNullExpression:197,TemplateSpan:198,SemicolonClassElement:199,Block:200,VariableStatement:201,EmptyStatement:202,ExpressionStatement:203,IfStatement:204,DoStatement:205,WhileStatement:206,ForStatement:207,ForInStatement:208,ForOfStatement:209,ContinueStatement:210,BreakStatement:211,ReturnStatement:212,WithStatement:213,SwitchStatement:214,LabeledStatement:215,ThrowStatement:216,TryStatement:217,DebuggerStatement:218,VariableDeclaration:219,VariableDeclarationList:220,FunctionDeclaration:221,ClassDeclaration:222,InterfaceDeclaration:223,TypeAliasDeclaration:224,EnumDeclaration:225,ModuleDeclaration:226,ModuleBlock:227,CaseBlock:228,NamespaceExportDeclaration:229,ImportEqualsDeclaration:230,ImportDeclaration:231,ImportClause:232,NamespaceImport:233,NamedImports:234,ImportSpecifier:235,ExportAssignment:236,ExportDeclaration:237,NamedExports:238,ExportSpecifier:239,MissingDeclaration:240,ExternalModuleReference:241,JsxElement:242,JsxSelfClosingElement:243,JsxOpeningElement:244,JsxClosingElement:245,JsxAttribute:246,JsxSpreadAttribute:247,JsxExpression:248,CaseClause:249,DefaultClause:250,HeritageClause:251,CatchClause:252,PropertyAssignment:253,ShorthandPropertyAssignment:254,EnumMember:255,SourceFile:256,JSDocTypeExpression:257,JSDocAllType:258,JSDocUnknownType:259,JSDocArrayType:260,JSDocUnionType:261,JSDocTupleType:262,JSDocNullableType:263,JSDocNonNullableType:264,JSDocRecordType:265,JSDocRecordMember:266,JSDocTypeReference:267,JSDocOptionalType:268,JSDocFunctionType:269,JSDocVariadicType:270,JSDocConstructorType:271,JSDocThisType:272,JSDocComment:273,JSDocTag:274,JSDocParameterTag:275,JSDocReturnTag:276,JSDocTypeTag:277,JSDocTemplateTag:278,JSDocTypedefTag:279,JSDocPropertyTag:280,JSDocTypeLiteral:281,JSDocLiteralType:282,JSDocNullKeyword:283,JSDocUndefinedKeyword:284,JSDocNeverKeyword:285,SyntaxList:286,NotEmittedStatement:287,PartiallyEmittedExpression:288,Count:289,FirstAssignment:57,LastAssignment:69,FirstCompoundAssignment:58,LastCompoundAssignment:69,FirstReservedWord:71,LastReservedWord:106,FirstKeyword:71,LastKeyword:139,FirstFutureReservedWord:107,LastFutureReservedWord:115,FirstTypeNode:155,LastTypeNode:167,FirstPunctuation:16,LastPunctuation:69,FirstToken:0,LastToken:139,FirstTriviaToken:2,LastTriviaToken:7,FirstLiteralToken:8,LastLiteralToken:12,FirstTemplateToken:12,LastTemplateToken:15,FirstBinaryOperator:26,LastBinaryOperator:69,FirstNode:140,FirstJSDocNode:257,LastJSDocNode:282,FirstJSDocTagNode:273,LastJSDocTagNode:285};SyntaxKind.current=current}(SyntaxKind||(SyntaxKind={})),module.exports=SyntaxKind},{typescript:296}],94:[function(require,module,exports){"use strict";var ts=require("typescript"),SyntaxKind=require("./syntaxKind");exports.stringDistance=function(s,t,ls,lt){void 0===ls&&(ls=s.length),void 0===lt&&(lt=t.length);var currRowMemo,i,k,memo=[];for(k=0;lt>=k;k+=1)memo[k]=k;for(i=1;ls>=i;i+=1){for(currRowMemo=[i],k=1;lt>=k;k+=1)currRowMemo[k]=Math.min(currRowMemo[k-1]+1,memo[k]+1,memo[k-1]+(s[i-1]!==t[k-1]?1:0));memo=currRowMemo}return memo[lt]},exports.isSimpleTemplateString=function(e){return e.kind===ts.SyntaxKind.StringLiteral||e.kind===SyntaxKind.current().FirstTemplateToken},exports.getDecoratorPropertyInitializer=function(decorator,name){return decorator.expression.arguments[0].properties.map(function(prop){return prop.name.text===name?prop:null}).filter(function(el){return!!el}).map(function(prop){return prop.initializer}).pop()},exports.getDecoratorName=function(decorator){var baseExpr=decorator.expression||{},expr=baseExpr.expression||{};return expr.text},exports.getComponentDecorator=function(declaration){return(declaration.decorators||[]).filter(function(d){if(!d.expression.arguments||!d.expression.arguments.length||!d.expression.arguments[0].properties)return!1;var name=exports.getDecoratorName(d);return"Component"===name?!0:void 0}).pop()}},{"./syntaxKind":93,typescript:296}],95:[function(require,module,exports){function build(_styles){var builder=function builder(){return applyStyle.apply(builder,arguments)};return builder._styles=_styles,builder.__proto__=proto,builder}function applyStyle(){var args=arguments,argsLen=args.length,str=0!==argsLen&&String(arguments[0]);if(argsLen>1)for(var a=1;argsLen>a;a++)str+=" "+args[a];if(!colors.enabled||!str)return str;for(var nestedStyles=this._styles,i=nestedStyles.length;i--;){var code=ansiStyles[nestedStyles[i]];str=code.open+str.replace(code.closeRe,code.open)+code.close}return str}function applyTheme(theme){for(var style in theme)!function(style){colors[style]=function(str){if("object"==typeof theme[style]){var out=str;for(var i in theme[style])out=colors[theme[style][i]](out);return out}return colors[theme[style]](str)}}(style)}function init(){var ret={};return Object.keys(styles).forEach(function(name){ret[name]={get:function(){return build([name])}}}),ret}var colors={};module.exports=colors,colors.themes={};var ansiStyles=colors.styles=require("./styles"),defineProps=Object.defineProperties;colors.supportsColor=require("./system/supports-colors"),"undefined"==typeof colors.enabled&&(colors.enabled=colors.supportsColor),colors.stripColors=colors.strip=function(str){return(""+str).replace(/\x1B\[\d+m/g,"")};var matchOperatorsRe=(colors.stylize=function(str,style){return colors.enabled?ansiStyles[style].open+str+ansiStyles[style].close:str+""},/[|\\{}()[\]^$+*?.]/g),escapeStringRegexp=function(str){if("string"!=typeof str)throw new TypeError("Expected a string");return str.replace(matchOperatorsRe,"\\$&")},styles=function(){var ret={};return ansiStyles.grey=ansiStyles.gray,Object.keys(ansiStyles).forEach(function(key){ansiStyles[key].closeRe=new RegExp(escapeStringRegexp(ansiStyles[key].close),"g"),ret[key]={get:function(){return build(this._styles.concat(key))}}}),ret}(),proto=defineProps(function(){},styles);colors.setTheme=function(theme){if("string"==typeof theme)try{return colors.themes[theme]=require(theme),applyTheme(colors.themes[theme]),colors.themes[theme]}catch(err){return console.log(err),err}else applyTheme(theme)};var sequencer=function(map,str){var exploded=str.split("");return exploded=exploded.map(map),exploded.join("")};colors.trap=require("./custom/trap"),colors.zalgo=require("./custom/zalgo"),colors.maps={},colors.maps.america=require("./maps/america"),colors.maps.zebra=require("./maps/zebra"),colors.maps.rainbow=require("./maps/rainbow"),colors.maps.random=require("./maps/random");for(var map in colors.maps)!function(map){colors[map]=function(str){return sequencer(colors.maps[map],str)}}(map);defineProps(colors,init())},{"./custom/trap":96,"./custom/zalgo":97,"./maps/america":100,"./maps/rainbow":101,"./maps/random":102,"./maps/zebra":103,"./styles":104,"./system/supports-colors":105}],96:[function(require,module,exports){module.exports=function(text,options){var result="";text=text||"Run the trap, drop the bass",text=text.split("");var trap={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};return text.forEach(function(c){c=c.toLowerCase();var chars=trap[c]||[" "],rand=Math.floor(Math.random()*chars.length);result+="undefined"!=typeof trap[c]?trap[c][rand]:c}),result}},{}],97:[function(require,module,exports){module.exports=function(text,options){function randomNumber(range){var r=Math.floor(Math.random()*range);return r}function is_char(character){var bool=!1;return all.filter(function(i){bool=i===character}),bool}function heComes(text,options){var counts,l,result="";options=options||{},options.up="undefined"!=typeof options.up?options.up:!0,options.mid="undefined"!=typeof options.mid?options.mid:!0,options.down="undefined"!=typeof options.down?options.down:!0,options.size="undefined"!=typeof options.size?options.size:"maxi",text=text.split("");for(l in text)if(!is_char(l)){switch(result+=text[l],counts={up:0,down:0,mid:0},options.size){case"mini":counts.up=randomNumber(8),counts.mid=randomNumber(2),counts.down=randomNumber(8);break;case"maxi":counts.up=randomNumber(16)+3,counts.mid=randomNumber(4)+1,counts.down=randomNumber(64)+3;break;default:counts.up=randomNumber(8)+1,counts.mid=randomNumber(6)/2,counts.down=randomNumber(8)+1}var arr=["up","mid","down"];for(var d in arr)for(var index=arr[d],i=0;i<=counts[index];i++)options[index]&&(result+=soul[index][randomNumber(soul[index].length)])}return result}text=text||"   he is here   ";var soul={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},all=[].concat(soul.up,soul.down,soul.mid);return heComes(text,options)}},{}],98:[function(require,module,exports){var colors=require("./colors");module.exports=function(){function applyTheme(theme){var stringPrototypeBlacklist=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","charAt","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","charCodeAt","indexOf","lastIndexof","length","localeCompare","match","replace","search","slice","split","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim","trimLeft","trimRight"];Object.keys(theme).forEach(function(prop){-1!==stringPrototypeBlacklist.indexOf(prop)?console.log("warn: ".red+("String.prototype"+prop).magenta+" is probably something you don't want to override. Ignoring style name"):"string"==typeof theme[prop]?(colors[prop]=colors[theme[prop]],addProperty(prop,function(){return colors[theme[prop]](this)})):addProperty(prop,function(){for(var ret=this,t=0;t<theme[prop].length;t++)ret=colors[theme[prop][t]](ret);return ret})})}var addProperty=function(color,func){String.prototype.__defineGetter__(color,func)};addProperty("strip",function(){return colors.strip(this)}),addProperty("stripColors",function(){return colors.strip(this)}),addProperty("trap",function(){return colors.trap(this)}),addProperty("zalgo",function(){return colors.zalgo(this)}),addProperty("zebra",function(){return colors.zebra(this)}),addProperty("rainbow",function(){return colors.rainbow(this)}),addProperty("random",function(){return colors.random(this)}),addProperty("america",function(){return colors.america(this)});var x=Object.keys(colors.styles);x.forEach(function(style){addProperty(style,function(){return colors.stylize(this,style)})}),colors.setTheme=function(theme){if("string"==typeof theme)try{return colors.themes[theme]=require(theme),applyTheme(colors.themes[theme]),colors.themes[theme]}catch(err){return console.log(err),err}else applyTheme(theme)}}},{"./colors":95}],99:[function(require,module,exports){var colors=require("./colors");module.exports=colors,require("./extendStringPrototype")()},{"./colors":95,"./extendStringPrototype":98}],100:[function(require,module,exports){var colors=require("../colors");module.exports=function(){return function(letter,i,exploded){if(" "===letter)return letter;switch(i%3){case 0:return colors.red(letter);case 1:return colors.white(letter);case 2:return colors.blue(letter)}}}()},{"../colors":95}],101:[function(require,module,exports){var colors=require("../colors");module.exports=function(){var rainbowColors=["red","yellow","green","blue","magenta"];return function(letter,i,exploded){return" "===letter?letter:colors[rainbowColors[i++%rainbowColors.length]](letter)}}()},{"../colors":95}],102:[function(require,module,exports){var colors=require("../colors");module.exports=function(){var available=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function(letter,i,exploded){return" "===letter?letter:colors[available[Math.round(Math.random()*(available.length-1))]](letter)}}()},{"../colors":95}],103:[function(require,module,exports){var colors=require("../colors");module.exports=function(letter,i,exploded){return i%2===0?letter:colors.inverse(letter)}},{"../colors":95}],104:[function(require,module,exports){var styles={};module.exports=styles;var codes={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(codes).forEach(function(key){var val=codes[key],style=styles[key]=[];style.open="["+val[0]+"m",style.close="["+val[1]+"m"})},{}],105:[function(require,module,exports){(function(process){var argv=process.argv;module.exports=function(){return-1!==argv.indexOf("--no-color")||-1!==argv.indexOf("--color=false")?!1:-1!==argv.indexOf("--color")||-1!==argv.indexOf("--color=true")||-1!==argv.indexOf("--color=always")?!0:process.stdout&&!process.stdout.isTTY?!1:"win32"===process.platform?!0:"COLORTERM"in process.env?!0:"dumb"===process.env.TERM?!1:/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)?!0:!1}()}).call(this,require("_process"))},{_process:201}],106:[function(require,module,exports){module.exports=function(xs,fn){for(var res=[],i=0;i<xs.length;i++){var x=fn(xs[i],i);isArray(x)?res.push.apply(res,x):res.push(x)}return res};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)}},{}],107:[function(require,module,exports){(function(Buffer){function isArray(arg){return Array.isArray?Array.isArray(arg):"[object Array]"===objectToString(arg)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return"[object Date]"===objectToString(d)}function isError(e){return"[object Error]"===objectToString(e)||e instanceof Error}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||"undefined"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=Buffer.isBuffer}).call(this,{isBuffer:require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":186}],108:[function(require,module,exports){(function(Buffer){function ECDH(curve){this.curveType=aliases[curve],this.curveType||(this.curveType={name:curve}),this.curve=new elliptic.ec(this.curveType.name),this.keys=void 0}function formatReturnValue(bn,enc,len){Array.isArray(bn)||(bn=bn.toArray());var buf=new Buffer(bn);if(len&&buf.length<len){var zeros=new Buffer(len-buf.length);zeros.fill(0),buf=Buffer.concat([zeros,buf])}return enc?buf.toString(enc):buf}var elliptic=require("elliptic"),BN=require("bn.js");module.exports=function(curve){return new ECDH(curve)};var aliases={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};aliases.p224=aliases.secp224r1,aliases.p256=aliases.secp256r1=aliases.prime256v1,aliases.p192=aliases.secp192r1=aliases.prime192v1,aliases.p384=aliases.secp384r1,aliases.p521=aliases.secp521r1,ECDH.prototype.generateKeys=function(enc,format){return this.keys=this.curve.genKeyPair(),this.getPublicKey(enc,format)},ECDH.prototype.computeSecret=function(other,inenc,enc){inenc=inenc||"utf8",Buffer.isBuffer(other)||(other=new Buffer(other,inenc));var otherPub=this.curve.keyFromPublic(other).getPublic(),out=otherPub.mul(this.keys.getPrivate()).getX();return formatReturnValue(out,enc,this.curveType.byteLength)},ECDH.prototype.getPublicKey=function(enc,format){var key=this.keys.getPublic("compressed"===format,!0);return"hybrid"===format&&(key[key.length-1]%2?key[0]=7:key[0]=6),formatReturnValue(key,enc)},ECDH.prototype.getPrivateKey=function(enc){return formatReturnValue(this.keys.getPrivate(),enc)},ECDH.prototype.setPublicKey=function(pub,enc){return enc=enc||"utf8",Buffer.isBuffer(pub)||(pub=new Buffer(pub,enc)),this.keys._importPublic(pub),this},ECDH.prototype.setPrivateKey=function(priv,enc){enc=enc||"utf8",Buffer.isBuffer(priv)||(priv=new Buffer(priv,enc));var _priv=new BN(priv);return _priv=_priv.toString(16),this.keys._importPrivate(_priv),this}}).call(this,require("buffer").Buffer)},{"bn.js":22,buffer:53,elliptic:147}],109:[function(require,module,exports){(function(Buffer){"use strict";function HashNoConstructor(hash){Base.call(this,"digest"),this._hash=hash,this.buffers=[]}function Hash(hash){Base.call(this,"digest"),this._hash=hash}var inherits=require("inherits"),md5=require("./md5"),rmd160=require("ripemd160"),sha=require("sha.js"),Base=require("cipher-base");inherits(HashNoConstructor,Base),HashNoConstructor.prototype._update=function(data){this.buffers.push(data)},HashNoConstructor.prototype._final=function(){var buf=Buffer.concat(this.buffers),r=this._hash(buf);return this.buffers=null,r},inherits(Hash,Base),Hash.prototype._update=function(data){this._hash.update(data)},Hash.prototype._final=function(){return this._hash.digest()},module.exports=function(alg){return alg=alg.toLowerCase(),"md5"===alg?new HashNoConstructor(md5):"rmd160"===alg||"ripemd160"===alg?new HashNoConstructor(rmd160):new Hash(sha(alg))}}).call(this,require("buffer").Buffer)},{"./md5":111,buffer:53,"cipher-base":54,inherits:185,ripemd160:233,"sha.js":252}],110:[function(require,module,exports){(function(Buffer){"use strict";function toArray(buf,bigEndian){if(buf.length%intSize!==0){var len=buf.length+(intSize-buf.length%intSize);buf=Buffer.concat([buf,zeroBuffer],len)}for(var arr=[],fn=bigEndian?buf.readInt32BE:buf.readInt32LE,i=0;i<buf.length;i+=intSize)arr.push(fn.call(buf,i));return arr}function toBuffer(arr,size,bigEndian){for(var buf=new Buffer(size),fn=bigEndian?buf.writeInt32BE:buf.writeInt32LE,i=0;i<arr.length;i++)fn.call(buf,arr[i],4*i,!0);return buf}function hash(buf,fn,hashSize,bigEndian){Buffer.isBuffer(buf)||(buf=new Buffer(buf));var arr=fn(toArray(buf,bigEndian),buf.length*chrsz);return toBuffer(arr,hashSize,bigEndian)}var intSize=4,zeroBuffer=new Buffer(intSize);zeroBuffer.fill(0);var chrsz=8;exports.hash=hash}).call(this,require("buffer").Buffer)},{buffer:53}],111:[function(require,module,exports){"use strict";function core_md5(x,len){x[len>>5]|=128<<len%32,x[(len+64>>>9<<4)+14]=len;for(var a=1732584193,b=-271733879,c=-1732584194,d=271733878,i=0;i<x.length;i+=16){var olda=a,oldb=b,oldc=c,oldd=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936),d=md5_ff(d,a,b,c,x[i+1],12,-389564586),c=md5_ff(c,d,a,b,x[i+2],17,606105819),b=md5_ff(b,c,d,a,x[i+3],22,-1044525330),a=md5_ff(a,b,c,d,x[i+4],7,-176418897),d=md5_ff(d,a,b,c,x[i+5],12,1200080426),c=md5_ff(c,d,a,b,x[i+6],17,-1473231341),b=md5_ff(b,c,d,a,x[i+7],22,-45705983),a=md5_ff(a,b,c,d,x[i+8],7,1770035416),d=md5_ff(d,a,b,c,x[i+9],12,-1958414417),c=md5_ff(c,d,a,b,x[i+10],17,-42063),b=md5_ff(b,c,d,a,x[i+11],22,-1990404162),a=md5_ff(a,b,c,d,x[i+12],7,1804603682),d=md5_ff(d,a,b,c,x[i+13],12,-40341101),c=md5_ff(c,d,a,b,x[i+14],17,-1502002290),b=md5_ff(b,c,d,a,x[i+15],22,1236535329),a=md5_gg(a,b,c,d,x[i+1],5,-165796510),d=md5_gg(d,a,b,c,x[i+6],9,-1069501632),c=md5_gg(c,d,a,b,x[i+11],14,643717713),b=md5_gg(b,c,d,a,x[i+0],20,-373897302),a=md5_gg(a,b,c,d,x[i+5],5,-701558691),d=md5_gg(d,a,b,c,x[i+10],9,38016083),c=md5_gg(c,d,a,b,x[i+15],14,-660478335),b=md5_gg(b,c,d,a,x[i+4],20,-405537848),a=md5_gg(a,b,c,d,x[i+9],5,568446438),d=md5_gg(d,a,b,c,x[i+14],9,-1019803690),c=md5_gg(c,d,a,b,x[i+3],14,-187363961),b=md5_gg(b,c,d,a,x[i+8],20,1163531501),a=md5_gg(a,b,c,d,x[i+13],5,-1444681467),d=md5_gg(d,a,b,c,x[i+2],9,-51403784),c=md5_gg(c,d,a,b,x[i+7],14,1735328473),b=md5_gg(b,c,d,a,x[i+12],20,-1926607734),a=md5_hh(a,b,c,d,x[i+5],4,-378558),d=md5_hh(d,a,b,c,x[i+8],11,-2022574463),c=md5_hh(c,d,a,b,x[i+11],16,1839030562),b=md5_hh(b,c,d,a,x[i+14],23,-35309556),a=md5_hh(a,b,c,d,x[i+1],4,-1530992060),d=md5_hh(d,a,b,c,x[i+4],11,1272893353),c=md5_hh(c,d,a,b,x[i+7],16,-155497632),b=md5_hh(b,c,d,a,x[i+10],23,-1094730640),a=md5_hh(a,b,c,d,x[i+13],4,681279174),d=md5_hh(d,a,b,c,x[i+0],11,-358537222),c=md5_hh(c,d,a,b,x[i+3],16,-722521979),b=md5_hh(b,c,d,a,x[i+6],23,76029189),a=md5_hh(a,b,c,d,x[i+9],4,-640364487),d=md5_hh(d,a,b,c,x[i+12],11,-421815835),c=md5_hh(c,d,a,b,x[i+15],16,530742520),b=md5_hh(b,c,d,a,x[i+2],23,-995338651),a=md5_ii(a,b,c,d,x[i+0],6,-198630844),d=md5_ii(d,a,b,c,x[i+7],10,1126891415),c=md5_ii(c,d,a,b,x[i+14],15,-1416354905),b=md5_ii(b,c,d,a,x[i+5],21,-57434055),a=md5_ii(a,b,c,d,x[i+12],6,1700485571),d=md5_ii(d,a,b,c,x[i+3],10,-1894986606),c=md5_ii(c,d,a,b,x[i+10],15,-1051523),b=md5_ii(b,c,d,a,x[i+1],21,-2054922799),a=md5_ii(a,b,c,d,x[i+8],6,1873313359),d=md5_ii(d,a,b,c,x[i+15],10,-30611744),c=md5_ii(c,d,a,b,x[i+6],15,-1560198380),b=md5_ii(b,c,d,a,x[i+13],21,1309151649),a=md5_ii(a,b,c,d,x[i+4],6,-145523070),d=md5_ii(d,a,b,c,x[i+11],10,-1120210379),c=md5_ii(c,d,a,b,x[i+2],15,718787259),b=md5_ii(b,c,d,a,x[i+9],21,-343485551),a=safe_add(a,olda),b=safe_add(b,oldb),c=safe_add(c,oldc),d=safe_add(d,oldd)}return Array(a,b,c,d)}function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)}function md5_ff(a,b,c,d,x,s,t){return md5_cmn(b&c|~b&d,a,b,x,s,t)}function md5_gg(a,b,c,d,x,s,t){return md5_cmn(b&d|c&~d,a,b,x,s,t)}function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|~d),a,b,x,s,t)}function safe_add(x,y){var lsw=(65535&x)+(65535&y),msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|65535&lsw}function bit_rol(num,cnt){return num<<cnt|num>>>32-cnt}var helpers=require("./helpers");module.exports=function(buf){return helpers.hash(buf,core_md5,16)}},{"./helpers":110}],112:[function(require,module,exports){(function(Buffer){"use strict";function Hmac(alg,key){Transform.call(this),alg=alg.toLowerCase(),"string"==typeof key&&(key=new Buffer(key));var blocksize="sha512"===alg||"sha384"===alg?128:64;this._alg=alg,this._key=key,key.length>blocksize?key=createHash(alg).update(key).digest():key.length<blocksize&&(key=Buffer.concat([key,ZEROS],blocksize));for(var ipad=this._ipad=new Buffer(blocksize),opad=this._opad=new Buffer(blocksize),i=0;blocksize>i;i++)ipad[i]=54^key[i],opad[i]=92^key[i];this._hash=createHash(alg).update(ipad)}var createHash=require("create-hash/browser"),inherits=require("inherits"),Transform=require("stream").Transform,ZEROS=new Buffer(128);ZEROS.fill(0),inherits(Hmac,Transform),Hmac.prototype.update=function(data,enc){return this._hash.update(data,enc),this},Hmac.prototype._transform=function(data,_,next){this._hash.update(data),next()},Hmac.prototype._flush=function(next){this.push(this.digest()),next()},Hmac.prototype.digest=function(enc){var h=this._hash.digest();return createHash(this._alg).update(this._opad).update(h).digest(enc)},module.exports=function(alg,key){return new Hmac(alg,key)}}).call(this,require("buffer").Buffer)},{buffer:53,"create-hash/browser":109,inherits:185,stream:260}],113:[function(require,module,exports){"use strict";exports.randomBytes=exports.rng=exports.pseudoRandomBytes=exports.prng=require("randombytes"),exports.createHash=exports.Hash=require("create-hash"),exports.createHmac=exports.Hmac=require("create-hmac");var hashes=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Object.keys(require("browserify-sign/algos")));exports.getHashes=function(){return hashes};var p=require("pbkdf2");exports.pbkdf2=p.pbkdf2,exports.pbkdf2Sync=p.pbkdf2Sync;var aes=require("browserify-cipher");["Cipher","createCipher","Cipheriv","createCipheriv","Decipher","createDecipher","Decipheriv","createDecipheriv","getCiphers","listCiphers"].forEach(function(key){exports[key]=aes[key]});var dh=require("diffie-hellman");["DiffieHellmanGroup","createDiffieHellmanGroup","getDiffieHellman","createDiffieHellman","DiffieHellman"].forEach(function(key){exports[key]=dh[key]});var sign=require("browserify-sign");["createSign","Sign","createVerify","Verify"].forEach(function(key){exports[key]=sign[key]}),exports.createECDH=require("create-ecdh");var publicEncrypt=require("public-encrypt");["publicEncrypt","privateEncrypt","publicDecrypt","privateDecrypt"].forEach(function(key){exports[key]=publicEncrypt[key]}),["createCredentials"].forEach(function(name){exports[name]=function(){throw new Error(["sorry, "+name+" is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))}})},{"browserify-cipher":41,"browserify-sign":46,"browserify-sign/algos":45,"create-ecdh":108,"create-hash":109,"create-hmac":112,"diffie-hellman":143,pbkdf2:198,"public-encrypt":202,randombytes:208}],114:[function(require,module,exports){exports.parse=require("./parse"),exports.stringify=require("./stringify"),exports.parseValues=require("./parseValues"),exports.stringifyValues=require("./stringifyValues")},{"./parse":115,"./parseValues":116,"./stringify":117,"./stringifyValues":118}],115:[function(require,module,exports){"use strict";function unescape(str){return str.replace(/\\(.)/g,"$1")}function commentMatch(match,content){this.selector.nodes.push({type:"comment",content:content})}function typeMatch(type){return function(match,name){this.selector.nodes.push({type:type,name:unescape(name)})}}function pseudoClassStartMatch(match,name){var newToken={type:"pseudo-class",name:unescape(name),content:""};return this.selector.nodes.push(newToken),this.token=newToken,this.brackets=1,"inBrackets"}function nestedPseudoClassStartMatch(match,name,after){var newSelector={type:"selector",nodes:[]},newToken={type:"nested-pseudo-class",name:unescape(name),nodes:[newSelector]};after&&(newSelector.before=after),this.selector.nodes.push(newToken),this.stack.push(this.root),this.root=newToken,this.selector=newSelector}function nestedEnd(match,before){this.stack.length>0?(before&&(this.selector.after=before),this.root=this.stack.pop(),this.selector=this.root.nodes[this.root.nodes.length-1]):this.selector.nodes.push({type:"invalid",value:match})}function operatorMatch(match,before,operator,after){var token={type:"operator",operator:operator};before&&(token.before=before),after&&(token.after=after),this.selector.nodes.push(token)}function spacingMatch(match){this.selector.nodes.push({type:"spacing",value:match})}function elementMatch(match,namespace,name){var newToken={type:"element",name:unescape(name)};namespace&&(newToken.namespace=unescape(namespace.substr(0,namespace.length-1))),
this.selector.nodes.push(newToken)}function universalMatch(match,namespace){var newToken={type:"universal"};namespace&&(newToken.namespace=unescape(namespace.substr(0,namespace.length-1))),this.selector.nodes.push(newToken)}function attributeMatch(match,content){this.selector.nodes.push({type:"attribute",content:content})}function invalidMatch(match){this.selector.nodes.push({type:"invalid",value:match})}function irrelevantSpacingStartMatch(match){this.selector.before=match}function irrelevantSpacingEndMatch(match){this.selector.after=match}function nextSelectorMatch(match,before,after){var newSelector={type:"selector",nodes:[]};before&&(this.selector.after=before),after&&(newSelector.before=after),this.root.nodes.push(newSelector),this.selector=newSelector}function addToCurrent(match){this.token.content+=match}function bracketStart(match){this.token.content+=match,this.brackets++}function bracketEnd(match){return 0===--this.brackets?"selector":void(this.token.content+=match)}function getSelectors(){var selectors={"/\\*([\\s\\S]*?)\\*/":commentMatch};selectors[regexpu("\\.((?:\\\\.|[A-Za-z_\\-\\u{00a0}-\\u{10ffff}])(?:\\\\.|[A-Za-z_\\-0-9\\u{00a0}-\\u{10ffff}])*)","u")]=typeMatch("class"),selectors[regexpu("#((?:\\\\.|[A-Za-z_\\-\\u{00a0}-\\u{10ffff}])(?:\\\\.|[A-Za-z_\\-0-9\\u{00a0}-\\u{10ffff}])*)","u")]=typeMatch("id");var selector,selectorsSecondHalf={":(not|matches|has|local|global)\\((\\s*)":nestedPseudoClassStartMatch,":((?:\\\\.|[A-Za-z_\\-0-9])+)\\(":pseudoClassStartMatch,":((?:\\\\.|[A-Za-z_\\-0-9])+)":typeMatch("pseudo-class"),"::((?:\\\\.|[A-Za-z_\\-0-9])+)":typeMatch("pseudo-element"),"(\\*\\|)((?:\\\\.|[A-Za-z_\\-0-9])+)":elementMatch,"(\\*\\|)\\*":universalMatch,"((?:\\\\.|[A-Za-z_\\-0-9])*\\|)?\\*":universalMatch,"((?:\\\\.|[A-Za-z_\\-0-9])*\\|)?((?:\\\\.|[A-Za-z_\\-])(?:\\\\.|[A-Za-z_\\-0-9])*)":elementMatch,"\\[([^\\]]+)\\]":attributeMatch,"(\\s*)\\)":nestedEnd,"(\\s*)((?:\\|\\|)|(?:>>)|[>+~])(\\s*)":operatorMatch,"(\\s*),(\\s*)":nextSelectorMatch,"\\s+$":irrelevantSpacingEndMatch,"^\\s+":irrelevantSpacingStartMatch,"\\s+":spacingMatch,".":invalidMatch};for(selector in selectorsSecondHalf)Object.prototype.hasOwnProperty.call(selectorsSecondHalf,selector)&&(selectors[selector]=selectorsSecondHalf[selector]);return selectors}function parse(str){var selectorNode={type:"selector",nodes:[]},rootNode={type:"selectors",nodes:[selectorNode]};return parser.parse("selector",str,{stack:[],root:rootNode,selector:selectorNode}),rootNode}var Parser=require("fastparse"),regexpu=require("regexpu-core"),parser=new Parser({selector:getSelectors(),inBrackets:{"/\\*[\\s\\S]*?\\*/":addToCurrent,'"([^\\\\"]|\\\\.)*"':addToCurrent,"'([^\\\\']|\\\\.)*'":addToCurrent,"[^()'\"/]+":addToCurrent,"\\(":bracketStart,"\\)":bracketEnd,".":addToCurrent}});module.exports=parse},{fastparse:166,"regexpu-core":223}],116:[function(require,module,exports){"use strict";function commentMatch(match,content){this.value.nodes.push({type:"comment",content:content})}function spacingMatch(match){var item=this.value.nodes[this.value.nodes.length-1];item.after=(item.after||"")+match}function initialSpacingMatch(match){this.value.before=match}function endSpacingMatch(match){this.value.after=match}function unescapeString(content){return content.replace(/\\(?:([a-fA-F0-9]{1,6})|(.))/g,function(all,unicode,otherCharacter){if(otherCharacter)return otherCharacter;var C=parseInt(unicode,16);return 65536>C?String.fromCharCode(C):String.fromCharCode(Math.floor((C-65536)/1024)+55296)+String.fromCharCode((C-65536)%1024+56320)})}function stringMatch(match,content){var value=unescapeString(content);this.value.nodes.push({type:"string",value:value,stringType:match[0]})}function commaMatch(match,spacing){var newValue={type:"value",nodes:[]};spacing&&(newValue.before=spacing),this.root.nodes.push(newValue),this.value=newValue}function itemMatch(match){this.value.nodes.push({type:"item",name:match})}function nestedItemMatch(match,name,spacing){this.stack.push(this.root),this.root={type:"nested-item",name:name,nodes:[{type:"value",nodes:[]}]},spacing&&(this.root.nodes[0].before=spacing),this.value.nodes.push(this.root),this.value=this.root.nodes[0]}function nestedItemEndMatch(match,spacing,remaining){if(0===this.stack.length){if(spacing){var item=this.value.nodes[this.value.nodes.length-1];item.after=(item.after||"")+spacing}this.value.nodes.push({type:"invalid",value:remaining})}else spacing&&(this.value.after=spacing),this.root=this.stack.pop(),this.value=this.root.nodes[this.root.nodes.length-1]}function urlMatch(match,innerSpacingBefore,content,innerSpacingAfter){var item={type:"url"};switch(innerSpacingBefore&&(item.innerSpacingBefore=innerSpacingBefore),innerSpacingAfter&&(item.innerSpacingAfter=innerSpacingAfter),content[0]){case'"':item.stringType='"',item.url=unescapeString(content.substr(1,content.length-2));break;case"'":item.stringType="'",item.url=unescapeString(content.substr(1,content.length-2));break;default:item.url=unescapeString(content)}this.value.nodes.push(item)}function parseValues(str){var valueNode={type:"value",nodes:[]},rootNode={type:"values",nodes:[valueNode]};return parser.parse("decl",str,{stack:[],root:rootNode,value:valueNode}),rootNode}var Parser=require("fastparse"),parser=new Parser({decl:{"^\\s+":initialSpacingMatch,"/\\*([\\s\\S]*?)\\*/":commentMatch,'"((?:[^\\\\"]|\\\\.)*)"':stringMatch,"'((?:[^\\\\']|\\\\.)*)'":stringMatch,'url\\((\\s*)("(?:[^\\\\"]|\\\\.)*")(\\s*)\\)':urlMatch,"url\\((\\s*)('(?:[^\\\\']|\\\\.)*')(\\s*)\\)":urlMatch,"url\\((\\s*)((?:[^\\\\)'\"]|\\\\.)*)(\\s*)\\)":urlMatch,"([\\w-]+)\\((\\s*)":nestedItemMatch,"(\\s*)(\\))":nestedItemEndMatch,",(\\s*)":commaMatch,"\\s+$":endSpacingMatch,"\\s+":spacingMatch,"[^\\s,)]+":itemMatch}});module.exports=parseValues},{fastparse:166}],117:[function(require,module,exports){"use strict";function escape(str,identifier){return"*"===str?"*":identifier?str.replace(identifierEscapeRegexp,"\\$1"):str.replace(/(^[^A-Za-z_\\-]|^\-\-|[^A-Za-z_0-9\\-])/g,"\\$1")}function stringifyWithoutBeforeAfter(tree){switch(tree.type){case"selectors":return tree.nodes.map(stringify).join(",");case"selector":return tree.nodes.map(stringify).join("");case"element":return("string"==typeof tree.namespace?escape(tree.namespace)+"|":"")+escape(tree.name);case"class":return"."+escape(tree.name,!0);case"id":return"#"+escape(tree.name,!0);case"attribute":return"["+tree.content+"]";case"spacing":return tree.value;case"pseudo-class":return":"+escape(tree.name)+("string"==typeof tree.content?"("+tree.content+")":"");case"nested-pseudo-class":return":"+escape(tree.name)+"("+tree.nodes.map(stringify).join(",")+")";case"pseudo-element":return"::"+escape(tree.name);case"universal":return("string"==typeof tree.namespace?escape(tree.namespace)+"|":"")+"*";case"operator":return tree.operator;case"comment":return"/*"+tree.content+"*/";case"invalid":return tree.value}}var stringify,regexpu=require("regexpu-core"),identifierEscapeRegexp=new RegExp(regexpu("(^[^A-Za-z_\\-\\u{00a0}-\\u{10ffff}]|^\\-\\-|[^A-Za-z_0-9\\-\\u{00a0}-\\u{10ffff}])","ug"),"g");stringify=function(tree){var str=stringifyWithoutBeforeAfter(tree);return tree.before&&(str=tree.before+str),tree.after&&(str+=tree.after),str},module.exports=stringify},{"regexpu-core":223}],118:[function(require,module,exports){"use strict";function escape(str,stringType){return cssesc(str,{quotes:'"'===stringType?"double":"single"})}function stringifyWithoutBeforeAfter(tree){switch(tree.type){case"values":return tree.nodes.map(stringify).join(",");case"value":return tree.nodes.map(stringify).join("");case"item":return tree.name;case"nested-item":return tree.name+"("+tree.nodes.map(stringify).join(",")+")";case"invalid":return tree.value;case"comment":return"/*"+tree.content+"*/";case"string":switch(tree.stringType){case"'":return"'"+escape(tree.value,"'")+"'";case'"':return'"'+escape(tree.value,'"')+'"'}throw new Error("Invalid stringType");case"url":var start="url("+(tree.innerSpacingBefore||""),end=(tree.innerSpacingAfter||"")+")";switch(tree.stringType){case"'":return start+"'"+tree.url.replace(/(\\)/g,"\\$1").replace(/'/g,"\\'")+"'"+end;case'"':return start+'"'+tree.url.replace(/(\\)/g,"\\$1").replace(/"/g,'\\"')+'"'+end;default:return start+tree.url.replace(/("|'|\)|\\)/g,"\\$1")+end}}}var stringify,cssesc=require("cssesc");stringify=function(tree){var str=stringifyWithoutBeforeAfter(tree);return tree.before&&(str=tree.before+str),tree.after&&(str+=tree.after),str},module.exports=stringify},{cssesc:121}],119:[function(require,module,exports){function language(lookups,matchComparison){return function(selector){return parse(selector,remap(lookups),matchComparison||caseSensitiveComparison)}}function remap(opts){for(var key in opts)opt_okay(opts,key)&&(opts[key]=Function("return function(node, attr) { return node."+opts[key]+" }"),opts[key]=opts[key]());return opts}function opt_okay(opts,key){return opts.hasOwnProperty(key)&&"string"==typeof opts[key]}function parse(selector,options,matchComparison){function group(token){var crnt;return"comma"===token.type?void selectors.unshift(bits=[]):"op"===token.type||"any-child"===token.type?(bits.unshift(traversal[token.data]),void bits.unshift(check())):(bits[0]=bits[0]||check(),crnt=bits[0],"!"===token.type?void(crnt.subject=selectors[0].subject=!0):void crnt.push("class"===token.type?listContains(token.type,token.data):"attr"===token.type?attr(token):":"===token.type||"::"===token.type?pseudo(token):"*"===token.type?Boolean:matches(token.type,token.data,matchComparison)))}function selector_fn(node,as_boolean){function add(items){for(var next;items.length;)next=items.shift(),-1===set.indexOf(next)&&set.push(next)}var current,length,orig,subj,set;orig=node,set=[];for(var i=0,len=selectors.length;len>i;++i){bits=selectors[i],current=entry,length=bits.length,node=orig,subj=[];for(var j=0;length>j&&(node=current(node,bits[j],subj),node);j+=2)current=bits[j+1];if(j>=length){if(as_boolean)return!0;add(bits.subject?subj:[orig])}}return as_boolean?!1:set.length?1===set.length?set[0]:set:!1}function check(){function _check(node,subj){for(var i=0,len=_check.bits.length;len>i;++i)if(!_check.bits[i](node))return!1;return _check.subject&&subj.push(node),!0}return _check.bits=[],_check.subject=!1,_check.push=function(token){_check.bits.push(token)},_check}function listContains(type,data){return function(node){var val=options[type](node);return val=Array.isArray(val)?val:val?val.toString().split(/\s+/):[],val.indexOf(data)>=0}}function attr(token){return token.data.lhs?valid_attr(options.attr,token.data.lhs,token.data.cmp,token.data.rhs):valid_attr(options.attr,token.data)}function matches(type,data,matchComparison){return function(node){return matchComparison(type,options[type](node),data)}}function any_parents(node,next,subj){do node=options.parent(node);while(node&&!next(node,subj));return node}function direct_parent(node,next,subj){return node=options.parent(node),node&&next(node,subj)?node:null}function direct_sibling(node,next,subj){var children,parent=options.parent(node),idx=0;children=options.children(parent);for(var i=0,len=children.length;len>i;++i)if(children[i]===node){idx=i;break}return children[idx-1]&&next(children[idx-1],subj)?children[idx-1]:null}function any_sibling(node,next,subj){var children,parent=options.parent(node);children=options.children(parent);for(var i=0,len=children.length;len>i;++i){if(children[i]===node)return null;if(next(children[i],subj))return children[i]}return null}function pseudo(token){return valid_pseudo(options,token.data,matchComparison)}var traversal,bits,stream=tokenizer(),selectors=[[]];return bits=selectors[0],traversal={"":any_parents,">":direct_parent,"+":direct_sibling,"~":any_sibling},stream.on("data",group).end(selector),selector_fn}function entry(node,next,subj){return next(node,subj)?node:null}function valid_pseudo(options,match,matchComparison){switch(match){case"empty":return valid_empty(options);case"first-child":return valid_first_child(options);case"last-child":return valid_last_child(options);case"root":return valid_root(options)}return 0===match.indexOf("contains")?valid_contains(options,match.slice(9,-1)):0===match.indexOf("any")?valid_any_match(options,match.slice(4,-1),matchComparison):0===match.indexOf("not")?valid_not_match(options,match.slice(4,-1),matchComparison):0===match.indexOf("nth-child")?valid_nth_child(options,match.slice(10,-1)):function(){return!1}}function valid_not_match(options,selector,matchComparison){function not_function(node){return!fn(node,!0)}var fn=parse(selector,options,matchComparison);return not_function}function valid_any_match(options,selector,matchComparison){var fn=parse(selector,options,matchComparison);return fn}function valid_attr(fn,lhs,cmp,rhs){return function(node){var attr=fn(node,lhs);return cmp?1===cmp.length?attr==rhs:void 0===attr||null===attr?!1:checkattr[cmp.charAt(0)](attr,rhs):!!attr}}function valid_first_child(options){return function(node){return options.children(options.parent(node))[0]===node}}function valid_last_child(options){return function(node){var children=options.children(options.parent(node));return children[children.length-1]===node}}function valid_empty(options){return function(node){return 0===options.children(node).length}}function valid_root(options){return function(node){return!options.parent(node)}}function valid_contains(options,contents){return function(node){return-1!==options.contents(node).indexOf(contents)}}function valid_nth_child(options,nth){var test=function(){return!1};"odd"==nth?nth="2n+1":"even"==nth&&(nth="2n");var regexp=/( ?([-|\+])?(\d*)n)? ?((\+|-)? ?(\d+))? ?/,matches=nth.match(regexp);if(matches){var growth=0;if(matches[1]){var positiveGrowth="-"!=matches[2];growth=parseInt(""==matches[3]?1:matches[3]),growth*=positiveGrowth?1:-1}var offset=0;if(matches[4]){offset=parseInt(matches[6]);var positiveOffset="-"!=matches[5];offset*=positiveOffset?1:-1}0==growth?0!=offset&&(test=function(children,node){return children[offset-1]===node}):test=function(children,node){for(var validPositions=[],len=children.length,position=1;len>=position;position++){var divisible=(position-offset)%growth==0;divisible&&(growth>0?validPositions.push(position):(position-offset)/growth>=0&&validPositions.push(position))}for(var i=0;i<validPositions.length;i++)if(children[validPositions[i]-1]===node)return!0;return!1}}return function(node){var children=options.children(options.parent(node));return test(children,node)}}function check_end(l,r){return l.slice(l.length-r.length)===r}function check_beg(l,r){return l.slice(0,r.length)===r}function check_any(l,r){return l.indexOf(r)>-1}function check_spc(l,r){return l.split(/\s+/).indexOf(r)>-1}function check_dsh(l,r){return l.split("-").indexOf(r)>-1}function caseSensitiveComparison(type,pattern,data){return pattern===data}module.exports=language;var tokenizer=require("./tokenizer"),checkattr={$:check_end,"^":check_beg,"*":check_any,"~":check_spc,"|":check_dsh}},{"./tokenizer":120}],120:[function(require,module,exports){function tokenize(){function ondata(chunk){for(data=data.concat(chunk.split("")),length=data.length;length>idx&&(c=data[idx++]);)switch(state){case READY:state_ready();break;case ANY_CHILD:state_any_child();break;case OPERATION:state_op();break;case ATTR_START:state_attr_start();break;case ATTR_COMP:state_attr_compare();break;case ATTR_END:state_attr_end();break;case PSEUDOCLASS:case PSEUDOPSEUDO:state_pseudo();break;case PSEUDOSTART:state_pseudostart();break;case ID:case TAG:case CLASS:state_gather()}data=data.slice(idx)}function onend(chunk){arguments.length&&ondata(chunk),gathered.length&&stream.queue(token())}function state_ready(){switch(!0){case"#"===c:state=ID;break;case"."===c:state=CLASS;break;case":"===c:state=PSEUDOCLASS;break;case"["===c:state=ATTR_START;break;case"!"===c:subject();break;case"*"===c:star();break;case","===c:comma();break;case/[>\+~]/.test(c):state=OPERATION;break;case/\s/.test(c):state=ANY_CHILD;break;case/[\w\d\-_]/.test(c):state=TAG,--idx}}function subject(){state=SUBJECT,gathered=["!"],stream.queue(token()),state=READY}function star(){state=STAR,gathered=["*"],stream.queue(token()),state=READY}function comma(){state=COMMA,gathered=[","],stream.queue(token()),state=READY}function state_op(){return/[>\+~]/.test(c)?gathered.push(c):void(/\s/.test(c)||(stream.queue(token()),state=READY,--idx))}function state_any_child(){if(!/\s/.test(c)){if(/[>\+~]/.test(c))return--idx,state=OPERATION;stream.queue(token()),state=READY,--idx}}function state_pseudo(){if(rhs=state,state_gather(!0),state===READY){if("("===c)return lhs=gathered.join(""),state=PSEUDOSTART,gathered.length=0,depth=1,void++idx;state=PSEUDOCLASS,stream.queue(token()),state=READY}}function state_pseudostart(){if(0!==gathered.length||quote||!(quote=/['"]/.test(c)?c:null)){if(quote)return escaped||c!==quote?"\\"===c?void(escaped?gathered.push(c):escaped=!0):(escaped=!1,void gathered.push(c)):void(quote=null);gathered.push(c),"("===c?++depth:")"===c&&--depth,depth||(gathered.pop(),stream.queue({type:rhs,data:lhs+"("+gathered.join("")+")"}),state=READY,lhs=rhs=cmp=null,gathered.length=0)}}function state_attr_start(){if(state_gather(!0),state===READY){if("]"===c)return state=ATTR,stream.queue(token()),void(state=READY);lhs=gathered.join(""),gathered.length=0,state=ATTR_COMP}}function state_attr_compare(){return/[=~|$^*]/.test(c)&&gathered.push(c),2===gathered.length||"="===c?(cmp=gathered.join(""),gathered.length=0,state=ATTR_END,void(quote=null)):void 0}function state_attr_end(){if(gathered.length||quote||!(quote=/['"]/.test(c)?c:null)){if(quote)return escaped||c!==quote?"\\"===c?(escaped&&gathered.push(c),void(escaped=!escaped)):(escaped=!1,void gathered.push(c)):void(quote=null);state_gather(!0),state===READY&&(stream.queue({type:ATTR,data:{lhs:lhs,rhs:gathered.join(""),cmp:cmp}}),state=READY,lhs=rhs=cmp=null,gathered.length=0)}}function state_gather(quietly){return/[^\d\w\-_]/.test(c)&&!escaped?void("\\"===c?escaped=!0:(!quietly&&stream.queue(token()),state=READY,--idx)):(escaped=!1,void gathered.push(c))}function token(){var data=gathered.join("");return gathered.length=0,{type:state,data:data}}var stream,length,quote,depth,lhs,rhs,cmp,c,escaped=!1,gathered=[],state=READY,data=[],idx=0;return stream=through(ondata,onend)}module.exports=tokenize;var through=require("through"),PSEUDOSTART="pseudo-start",ATTR_START="attr-start",ANY_CHILD="any-child",ATTR_COMP="attr-comp",ATTR_END="attr-end",PSEUDOPSEUDO="::",PSEUDOCLASS=":",READY="(ready)",OPERATION="op",CLASS="class",COMMA="comma",ATTR="attr",SUBJECT="!",TAG="tag",STAR="*",ID="id"},{through:262}],121:[function(require,module,exports){(function(global){!function(root){var freeExports="object"==typeof exports&&exports,freeModule="object"==typeof module&&module&&module.exports==freeExports&&module,freeGlobal="object"==typeof global&&global;(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal)&&(root=freeGlobal);var object={},hasOwnProperty=object.hasOwnProperty,merge=function(options,defaults){if(!options)return defaults;var key,result={};for(key in defaults)result[key]=hasOwnProperty.call(options,key)?options[key]:defaults[key];return result},regexAnySingleEscape=/[\x20-\x2C\x2E\x2F\x3B-\x40\x5B-\x5E\x60\x7B-\x7E]/,regexSingleEscape=/[\x20\x21\x23-\x26\x28-\x2C\x2E\x2F\x3B-\x40\x5B\x5D\x5E\x60\x7B-\x7E]/,regexExcessiveSpaces=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,cssesc=function(string,options){options=merge(options,cssesc.options),"single"!=options.quotes&&"double"!=options.quotes&&(options.quotes="single");for(var value,character,codePoint,extra,quote="double"==options.quotes?'"':"'",isIdentifier=options.isIdentifier,firstChar=string.charAt(0),output="",counter=0,length=string.length;length>counter;)character=string.charAt(counter++),codePoint=character.charCodeAt(),32>codePoint||codePoint>126?(codePoint>=55296&&56319>=codePoint&&length>counter&&(extra=string.charCodeAt(counter++),56320==(64512&extra)?codePoint=((1023&codePoint)<<10)+(1023&extra)+65536:counter--),value="\\"+codePoint.toString(16).toUpperCase()+" "):value=options.escapeEverything?regexAnySingleEscape.test(character)?"\\"+character:"\\"+codePoint.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B:]/.test(character)?isIdentifier||":"!=character?"\\"+codePoint.toString(16).toUpperCase()+" ":character:"\\"==character||!isIdentifier&&('"'==character&&quote==character||"'"==character&&quote==character)||isIdentifier&&regexSingleEscape.test(character)?"\\"+character:character,output+=value;return isIdentifier&&(/^_/.test(output)?output="\\_"+output.slice(1):/^-[-\d]/.test(output)?output="\\-"+output.slice(1):/\d/.test(firstChar)&&(output="\\3"+firstChar+" "+output.slice(1))),output=output.replace(regexExcessiveSpaces,function($0,$1,$2){return $1&&$1.length%2?$0:($1||"")+$2}),!isIdentifier&&options.wrap?quote+output+quote:output};cssesc.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},cssesc.version="0.1.0","function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return cssesc}):freeExports&&!freeExports.nodeType?freeModule?freeModule.exports=cssesc:freeExports.cssesc=cssesc:root.cssesc=cssesc}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],122:[function(require,module,exports){"use strict";exports.utils=require("./des/utils"),exports.Cipher=require("./des/cipher"),exports.DES=require("./des/des"),exports.CBC=require("./des/cbc"),exports.EDE=require("./des/ede")},{"./des/cbc":123,"./des/cipher":124,"./des/des":125,"./des/ede":126,"./des/utils":127}],123:[function(require,module,exports){"use strict";function CBCState(iv){assert.equal(iv.length,8,"Invalid IV length"),this.iv=new Array(8);for(var i=0;i<this.iv.length;i++)this.iv[i]=iv[i]}function instantiate(Base){function CBC(options){Base.call(this,options),this._cbcInit()}inherits(CBC,Base);for(var keys=Object.keys(proto),i=0;i<keys.length;i++){var key=keys[i];CBC.prototype[key]=proto[key]}return CBC.create=function(options){return new CBC(options)},CBC}var assert=require("minimalistic-assert"),inherits=require("inherits"),proto={};exports.instantiate=instantiate,proto._cbcInit=function(){var state=new CBCState(this.options.iv);this._cbcState=state},proto._update=function(inp,inOff,out,outOff){var state=this._cbcState,superProto=this.constructor.super_.prototype,iv=state.iv;if("encrypt"===this.type){for(var i=0;i<this.blockSize;i++)iv[i]^=inp[inOff+i];superProto._update.call(this,iv,0,out,outOff);for(var i=0;i<this.blockSize;i++)iv[i]=out[outOff+i]}else{superProto._update.call(this,inp,inOff,out,outOff);for(var i=0;i<this.blockSize;i++)out[outOff+i]^=iv[i];for(var i=0;i<this.blockSize;i++)iv[i]=inp[inOff+i]}}},{inherits:185,"minimalistic-assert":189}],124:[function(require,module,exports){"use strict";function Cipher(options){this.options=options,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var assert=require("minimalistic-assert");module.exports=Cipher,Cipher.prototype._init=function(){},Cipher.prototype.update=function(data){return 0===data.length?[]:"decrypt"===this.type?this._updateDecrypt(data):this._updateEncrypt(data)},Cipher.prototype._buffer=function(data,off){for(var min=Math.min(this.buffer.length-this.bufferOff,data.length-off),i=0;min>i;i++)this.buffer[this.bufferOff+i]=data[off+i];return this.bufferOff+=min,min},Cipher.prototype._flushBuffer=function(out,off){return this._update(this.buffer,0,out,off),this.bufferOff=0,this.blockSize},Cipher.prototype._updateEncrypt=function(data){var inputOff=0,outputOff=0,count=(this.bufferOff+data.length)/this.blockSize|0,out=new Array(count*this.blockSize);0!==this.bufferOff&&(inputOff+=this._buffer(data,inputOff),this.bufferOff===this.buffer.length&&(outputOff+=this._flushBuffer(out,outputOff)));for(var max=data.length-(data.length-inputOff)%this.blockSize;max>inputOff;inputOff+=this.blockSize)this._update(data,inputOff,out,outputOff),outputOff+=this.blockSize;for(;inputOff<data.length;inputOff++,this.bufferOff++)this.buffer[this.bufferOff]=data[inputOff];return out},Cipher.prototype._updateDecrypt=function(data){for(var inputOff=0,outputOff=0,count=Math.ceil((this.bufferOff+data.length)/this.blockSize)-1,out=new Array(count*this.blockSize);count>0;count--)inputOff+=this._buffer(data,inputOff),outputOff+=this._flushBuffer(out,outputOff);return inputOff+=this._buffer(data,inputOff),out},Cipher.prototype.final=function(buffer){var first;buffer&&(first=this.update(buffer));var last;return last="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),first?first.concat(last):last},Cipher.prototype._pad=function(buffer,off){if(0===off)return!1;for(;off<buffer.length;)buffer[off++]=0;return!0},Cipher.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var out=new Array(this.blockSize);return this._update(this.buffer,0,out,0),out},Cipher.prototype._unpad=function(buffer){return buffer},Cipher.prototype._finalDecrypt=function(){assert.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var out=new Array(this.blockSize);return this._flushBuffer(out,0),this._unpad(out)}},{"minimalistic-assert":189}],125:[function(require,module,exports){"use strict";function DESState(){this.tmp=new Array(2),this.keys=null}function DES(options){Cipher.call(this,options);var state=new DESState;this._desState=state,this.deriveKeys(state,options.key)}var assert=require("minimalistic-assert"),inherits=require("inherits"),des=require("../des"),utils=des.utils,Cipher=des.Cipher;inherits(DES,Cipher),module.exports=DES,DES.create=function(options){return new DES(options)};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES.prototype.deriveKeys=function(state,key){state.keys=new Array(32),assert.equal(key.length,this.blockSize,"Invalid key length");var kL=utils.readUInt32BE(key,0),kR=utils.readUInt32BE(key,4);utils.pc1(kL,kR,state.tmp,0),kL=state.tmp[0],kR=state.tmp[1];for(var i=0;i<state.keys.length;i+=2){var shift=shiftTable[i>>>1];kL=utils.r28shl(kL,shift),kR=utils.r28shl(kR,shift),utils.pc2(kL,kR,state.keys,i)}},DES.prototype._update=function(inp,inOff,out,outOff){var state=this._desState,l=utils.readUInt32BE(inp,inOff),r=utils.readUInt32BE(inp,inOff+4);utils.ip(l,r,state.tmp,0),l=state.tmp[0],r=state.tmp[1],"encrypt"===this.type?this._encrypt(state,l,r,state.tmp,0):this._decrypt(state,l,r,state.tmp,0),l=state.tmp[0],r=state.tmp[1],utils.writeUInt32BE(out,l,outOff),utils.writeUInt32BE(out,r,outOff+4)},DES.prototype._pad=function(buffer,off){for(var value=buffer.length-off,i=off;i<buffer.length;i++)buffer[i]=value;return!0},DES.prototype._unpad=function(buffer){for(var pad=buffer[buffer.length-1],i=buffer.length-pad;i<buffer.length;i++)assert.equal(buffer[i],pad);return buffer.slice(0,buffer.length-pad)},DES.prototype._encrypt=function(state,lStart,rStart,out,off){for(var l=lStart,r=rStart,i=0;i<state.keys.length;i+=2){var keyL=state.keys[i],keyR=state.keys[i+1];utils.expand(r,state.tmp,0),keyL^=state.tmp[0],keyR^=state.tmp[1];var s=utils.substitute(keyL,keyR),f=utils.permute(s),t=r;r=(l^f)>>>0,l=t}utils.rip(r,l,out,off)},DES.prototype._decrypt=function(state,lStart,rStart,out,off){for(var l=rStart,r=lStart,i=state.keys.length-2;i>=0;i-=2){var keyL=state.keys[i],keyR=state.keys[i+1];utils.expand(l,state.tmp,0),keyL^=state.tmp[0],keyR^=state.tmp[1];var s=utils.substitute(keyL,keyR),f=utils.permute(s),t=l;l=(r^f)>>>0,r=t}utils.rip(l,r,out,off)}},{"../des":122,inherits:185,"minimalistic-assert":189}],126:[function(require,module,exports){"use strict";function EDEState(type,key){assert.equal(key.length,24,"Invalid key length");var k1=key.slice(0,8),k2=key.slice(8,16),k3=key.slice(16,24);"encrypt"===type?this.ciphers=[DES.create({type:"encrypt",key:k1}),DES.create({type:"decrypt",key:k2}),DES.create({type:"encrypt",key:k3})]:this.ciphers=[DES.create({type:"decrypt",key:k3}),DES.create({type:"encrypt",key:k2}),DES.create({type:"decrypt",key:k1})]}function EDE(options){Cipher.call(this,options);var state=new EDEState(this.type,this.options.key);this._edeState=state}var assert=require("minimalistic-assert"),inherits=require("inherits"),des=require("../des"),Cipher=des.Cipher,DES=des.DES;inherits(EDE,Cipher),module.exports=EDE,EDE.create=function(options){return new EDE(options)},EDE.prototype._update=function(inp,inOff,out,outOff){var state=this._edeState;state.ciphers[0]._update(inp,inOff,out,outOff),state.ciphers[1]._update(out,outOff,out,outOff),state.ciphers[2]._update(out,outOff,out,outOff)},EDE.prototype._pad=DES.prototype._pad,EDE.prototype._unpad=DES.prototype._unpad},{"../des":122,inherits:185,"minimalistic-assert":189}],127:[function(require,module,exports){"use strict";exports.readUInt32BE=function(bytes,off){var res=bytes[0+off]<<24|bytes[1+off]<<16|bytes[2+off]<<8|bytes[3+off];return res>>>0},exports.writeUInt32BE=function(bytes,value,off){bytes[0+off]=value>>>24,bytes[1+off]=value>>>16&255,bytes[2+off]=value>>>8&255,bytes[3+off]=255&value},exports.ip=function(inL,inR,out,off){for(var outL=0,outR=0,i=6;i>=0;i-=2){for(var j=0;24>=j;j+=8)outL<<=1,outL|=inR>>>j+i&1;for(var j=0;24>=j;j+=8)outL<<=1,outL|=inL>>>j+i&1}for(var i=6;i>=0;i-=2){for(var j=1;25>=j;j+=8)outR<<=1,outR|=inR>>>j+i&1;for(var j=1;25>=j;j+=8)outR<<=1,outR|=inL>>>j+i&1}out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.rip=function(inL,inR,out,off){for(var outL=0,outR=0,i=0;4>i;i++)for(var j=24;j>=0;j-=8)outL<<=1,outL|=inR>>>j+i&1,outL<<=1,outL|=inL>>>j+i&1;for(var i=4;8>i;i++)for(var j=24;j>=0;j-=8)outR<<=1,outR|=inR>>>j+i&1,outR<<=1,outR|=inL>>>j+i&1;out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.pc1=function(inL,inR,out,off){for(var outL=0,outR=0,i=7;i>=5;i--){for(var j=0;24>=j;j+=8)outL<<=1,outL|=inR>>j+i&1;for(var j=0;24>=j;j+=8)outL<<=1,outL|=inL>>j+i&1}for(var j=0;24>=j;j+=8)outL<<=1,outL|=inR>>j+i&1;for(var i=1;3>=i;i++){for(var j=0;24>=j;j+=8)outR<<=1,outR|=inR>>j+i&1;for(var j=0;24>=j;j+=8)outR<<=1,outR|=inL>>j+i&1}for(var j=0;24>=j;j+=8)outR<<=1,outR|=inL>>j+i&1;out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.r28shl=function(num,shift){return num<<shift&268435455|num>>>28-shift};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];exports.pc2=function(inL,inR,out,off){for(var outL=0,outR=0,len=pc2table.length>>>1,i=0;len>i;i++)outL<<=1,outL|=inL>>>pc2table[i]&1;for(var i=len;i<pc2table.length;i++)outR<<=1,outR|=inR>>>pc2table[i]&1;out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.expand=function(r,out,off){var outL=0,outR=0;outL=(1&r)<<5|r>>>27;for(var i=23;i>=15;i-=4)outL<<=6,outL|=r>>>i&63;for(var i=11;i>=3;i-=4)outR|=r>>>i&63,outR<<=6;outR|=(31&r)<<1|r>>>31,out[off+0]=outL>>>0,out[off+1]=outR>>>0};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];
exports.substitute=function(inL,inR){for(var out=0,i=0;4>i;i++){var b=inL>>>18-6*i&63,sb=sTable[64*i+b];out<<=4,out|=sb}for(var i=0;4>i;i++){var b=inR>>>18-6*i&63,sb=sTable[256+64*i+b];out<<=4,out|=sb}return out>>>0};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];exports.permute=function(num){for(var out=0,i=0;i<permuteTable.length;i++)out<<=1,out|=num>>>permuteTable[i]&1;return out>>>0},exports.padSplit=function(num,size,group){for(var str=num.toString(2);str.length<size;)str="0"+str;for(var out=[],i=0;size>i;i+=group)out.push(str.slice(i,i+group));return out.join(" ")}},{}],128:[function(require,module,exports){"use strict";function convertChangesToDMP(changes){for(var ret=[],change=void 0,operation=void 0,i=0;i<changes.length;i++)change=changes[i],operation=change.added?1:change.removed?-1:0,ret.push([operation,change.value]);return ret}exports.__esModule=!0,exports.convertChangesToDMP=convertChangesToDMP},{}],129:[function(require,module,exports){"use strict";function convertChangesToXML(changes){for(var ret=[],i=0;i<changes.length;i++){var change=changes[i];change.added?ret.push("<ins>"):change.removed&&ret.push("<del>"),ret.push(escapeHTML(change.value)),change.added?ret.push("</ins>"):change.removed&&ret.push("</del>")}return ret.join("")}function escapeHTML(s){var n=s;return n=n.replace(/&/g,"&amp;"),n=n.replace(/</g,"&lt;"),n=n.replace(/>/g,"&gt;"),n=n.replace(/"/g,"&quot;")}exports.__esModule=!0,exports.convertChangesToXML=convertChangesToXML},{}],130:[function(require,module,exports){"use strict";function Diff(){}function buildValues(diff,components,newString,oldString,useLongestToken){for(var componentPos=0,componentLen=components.length,newPos=0,oldPos=0;componentLen>componentPos;componentPos++){var component=components[componentPos];if(component.removed){if(component.value=oldString.slice(oldPos,oldPos+component.count).join(""),oldPos+=component.count,componentPos&&components[componentPos-1].added){var tmp=components[componentPos-1];components[componentPos-1]=components[componentPos],components[componentPos]=tmp}}else{if(!component.added&&useLongestToken){var value=newString.slice(newPos,newPos+component.count);value=value.map(function(value,i){var oldValue=oldString[oldPos+i];return oldValue.length>value.length?oldValue:value}),component.value=value.join("")}else component.value=newString.slice(newPos,newPos+component.count).join("");newPos+=component.count,component.added||(oldPos+=component.count)}}var lastComponent=components[componentLen-1];return componentLen>1&&(lastComponent.added||lastComponent.removed)&&diff.equals("",lastComponent.value)&&(components[componentLen-2].value+=lastComponent.value,components.pop()),components}function clonePath(path){return{newPos:path.newPos,components:path.components.slice(0)}}exports.__esModule=!0,exports.default=Diff,Diff.prototype={diff:function(oldString,newString){function done(value){return callback?(setTimeout(function(){callback(void 0,value)},0),!0):value}function execEditLength(){for(var diagonalPath=-1*editLength;editLength>=diagonalPath;diagonalPath+=2){var basePath=void 0,addPath=bestPath[diagonalPath-1],removePath=bestPath[diagonalPath+1],_oldPos=(removePath?removePath.newPos:0)-diagonalPath;addPath&&(bestPath[diagonalPath-1]=void 0);var canAdd=addPath&&addPath.newPos+1<newLen,canRemove=removePath&&_oldPos>=0&&oldLen>_oldPos;if(canAdd||canRemove){if(!canAdd||canRemove&&addPath.newPos<removePath.newPos?(basePath=clonePath(removePath),self.pushComponent(basePath.components,void 0,!0)):(basePath=addPath,basePath.newPos++,self.pushComponent(basePath.components,!0,void 0)),_oldPos=self.extractCommon(basePath,newString,oldString,diagonalPath),basePath.newPos+1>=newLen&&_oldPos+1>=oldLen)return done(buildValues(self,basePath.components,newString,oldString,self.useLongestToken));bestPath[diagonalPath]=basePath}else bestPath[diagonalPath]=void 0}editLength++}var options=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],callback=options.callback;"function"==typeof options&&(callback=options,options={}),this.options=options;var self=this;oldString=this.castInput(oldString),newString=this.castInput(newString),oldString=this.removeEmpty(this.tokenize(oldString)),newString=this.removeEmpty(this.tokenize(newString));var newLen=newString.length,oldLen=oldString.length,editLength=1,maxEditLength=newLen+oldLen,bestPath=[{newPos:-1,components:[]}],oldPos=this.extractCommon(bestPath[0],newString,oldString,0);if(bestPath[0].newPos+1>=newLen&&oldPos+1>=oldLen)return done([{value:newString.join(""),count:newString.length}]);if(callback)!function exec(){setTimeout(function(){return editLength>maxEditLength?callback():void(execEditLength()||exec())},0)}();else for(;maxEditLength>=editLength;){var ret=execEditLength();if(ret)return ret}},pushComponent:function(components,added,removed){var last=components[components.length-1];last&&last.added===added&&last.removed===removed?components[components.length-1]={count:last.count+1,added:added,removed:removed}:components.push({count:1,added:added,removed:removed})},extractCommon:function(basePath,newString,oldString,diagonalPath){for(var newLen=newString.length,oldLen=oldString.length,newPos=basePath.newPos,oldPos=newPos-diagonalPath,commonCount=0;newLen>newPos+1&&oldLen>oldPos+1&&this.equals(newString[newPos+1],oldString[oldPos+1]);)newPos++,oldPos++,commonCount++;return commonCount&&basePath.components.push({count:commonCount}),basePath.newPos=newPos,oldPos},equals:function(left,right){return left===right},removeEmpty:function(array){for(var ret=[],i=0;i<array.length;i++)array[i]&&ret.push(array[i]);return ret},castInput:function(value){return value},tokenize:function(value){return value.split("")}}},{}],131:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function diffChars(oldStr,newStr,callback){return characterDiff.diff(oldStr,newStr,callback)}exports.__esModule=!0,exports.characterDiff=void 0,exports.diffChars=diffChars;var _base=require("./base"),_base2=_interopRequireDefault(_base),characterDiff=exports.characterDiff=new _base2.default},{"./base":130}],132:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function diffCss(oldStr,newStr,callback){return cssDiff.diff(oldStr,newStr,callback)}exports.__esModule=!0,exports.cssDiff=void 0,exports.diffCss=diffCss;var _base=require("./base"),_base2=_interopRequireDefault(_base),cssDiff=exports.cssDiff=new _base2.default;cssDiff.tokenize=function(value){return value.split(/([{}:;,]|\s+)/)}},{"./base":130}],133:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function diffJson(oldObj,newObj,callback){return jsonDiff.diff(oldObj,newObj,callback)}function canonicalize(obj,stack,replacementStack){stack=stack||[],replacementStack=replacementStack||[];var i=void 0;for(i=0;i<stack.length;i+=1)if(stack[i]===obj)return replacementStack[i];var canonicalizedObj=void 0;if("[object Array]"===objectPrototypeToString.call(obj)){for(stack.push(obj),canonicalizedObj=new Array(obj.length),replacementStack.push(canonicalizedObj),i=0;i<obj.length;i+=1)canonicalizedObj[i]=canonicalize(obj[i],stack,replacementStack);return stack.pop(),replacementStack.pop(),canonicalizedObj}if(obj&&obj.toJSON&&(obj=obj.toJSON()),"object"===("undefined"==typeof obj?"undefined":_typeof(obj))&&null!==obj){stack.push(obj),canonicalizedObj={},replacementStack.push(canonicalizedObj);var sortedKeys=[],key=void 0;for(key in obj)obj.hasOwnProperty(key)&&sortedKeys.push(key);for(sortedKeys.sort(),i=0;i<sortedKeys.length;i+=1)key=sortedKeys[i],canonicalizedObj[key]=canonicalize(obj[key],stack,replacementStack);stack.pop(),replacementStack.pop()}else canonicalizedObj=obj;return canonicalizedObj}exports.__esModule=!0,exports.jsonDiff=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};exports.diffJson=diffJson,exports.canonicalize=canonicalize;var _base=require("./base"),_base2=_interopRequireDefault(_base),_line=require("./line"),objectPrototypeToString=Object.prototype.toString,jsonDiff=exports.jsonDiff=new _base2.default;jsonDiff.useLongestToken=!0,jsonDiff.tokenize=_line.lineDiff.tokenize,jsonDiff.castInput=function(value){return"string"==typeof value?value:JSON.stringify(canonicalize(value),void 0,"  ")},jsonDiff.equals=function(left,right){return _base2.default.prototype.equals(left.replace(/,([\r\n])/g,"$1"),right.replace(/,([\r\n])/g,"$1"))}},{"./base":130,"./line":134}],134:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function diffLines(oldStr,newStr,callback){return lineDiff.diff(oldStr,newStr,callback)}function diffTrimmedLines(oldStr,newStr,callback){var options=_params.generateOptions(callback,{ignoreWhitespace:!0});return lineDiff.diff(oldStr,newStr,options)}exports.__esModule=!0,exports.lineDiff=void 0,exports.diffLines=diffLines,exports.diffTrimmedLines=diffTrimmedLines;var _base=require("./base"),_base2=_interopRequireDefault(_base),_params=require("../util/params"),lineDiff=exports.lineDiff=new _base2.default;lineDiff.tokenize=function(value){var retLines=[],linesAndNewlines=value.split(/(\n|\r\n)/);linesAndNewlines[linesAndNewlines.length-1]||linesAndNewlines.pop();for(var i=0;i<linesAndNewlines.length;i++){var line=linesAndNewlines[i];i%2&&!this.options.newlineIsToken?retLines[retLines.length-1]+=line:(this.options.ignoreWhitespace&&(line=line.trim()),retLines.push(line))}return retLines}},{"../util/params":142,"./base":130}],135:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function diffSentences(oldStr,newStr,callback){return sentenceDiff.diff(oldStr,newStr,callback)}exports.__esModule=!0,exports.sentenceDiff=void 0,exports.diffSentences=diffSentences;var _base=require("./base"),_base2=_interopRequireDefault(_base),sentenceDiff=exports.sentenceDiff=new _base2.default;sentenceDiff.tokenize=function(value){return value.split(/(\S.+?[.!?])(?=\s+|$)/)}},{"./base":130}],136:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function diffWords(oldStr,newStr,callback){var options=_params.generateOptions(callback,{ignoreWhitespace:!0});return wordDiff.diff(oldStr,newStr,options)}function diffWordsWithSpace(oldStr,newStr,callback){return wordDiff.diff(oldStr,newStr,callback)}exports.__esModule=!0,exports.wordDiff=void 0,exports.diffWords=diffWords,exports.diffWordsWithSpace=diffWordsWithSpace;var _base=require("./base"),_base2=_interopRequireDefault(_base),_params=require("../util/params"),extendedWordChars=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,reWhitespace=/\S/,wordDiff=exports.wordDiff=new _base2.default;wordDiff.equals=function(left,right){return left===right||this.options.ignoreWhitespace&&!reWhitespace.test(left)&&!reWhitespace.test(right)},wordDiff.tokenize=function(value){for(var tokens=value.split(/(\s+|\b)/),i=0;i<tokens.length-1;i++)!tokens[i+1]&&tokens[i+2]&&extendedWordChars.test(tokens[i])&&extendedWordChars.test(tokens[i+2])&&(tokens[i]+=tokens[i+2],tokens.splice(i+1,2),i--);return tokens}},{"../util/params":142,"./base":130}],137:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0,exports.canonicalize=exports.convertChangesToXML=exports.convertChangesToDMP=exports.parsePatch=exports.applyPatches=exports.applyPatch=exports.createPatch=exports.createTwoFilesPatch=exports.structuredPatch=exports.diffJson=exports.diffCss=exports.diffSentences=exports.diffTrimmedLines=exports.diffLines=exports.diffWordsWithSpace=exports.diffWords=exports.diffChars=exports.Diff=void 0;var _base=require("./diff/base"),_base2=_interopRequireDefault(_base),_character=require("./diff/character"),_word=require("./diff/word"),_line=require("./diff/line"),_sentence=require("./diff/sentence"),_css=require("./diff/css"),_json=require("./diff/json"),_apply=require("./patch/apply"),_parse=require("./patch/parse"),_create=require("./patch/create"),_dmp=require("./convert/dmp"),_xml=require("./convert/xml");exports.Diff=_base2.default,exports.diffChars=_character.diffChars,exports.diffWords=_word.diffWords,exports.diffWordsWithSpace=_word.diffWordsWithSpace,exports.diffLines=_line.diffLines,exports.diffTrimmedLines=_line.diffTrimmedLines,exports.diffSentences=_sentence.diffSentences,exports.diffCss=_css.diffCss,exports.diffJson=_json.diffJson,exports.structuredPatch=_create.structuredPatch,exports.createTwoFilesPatch=_create.createTwoFilesPatch,exports.createPatch=_create.createPatch,exports.applyPatch=_apply.applyPatch,exports.applyPatches=_apply.applyPatches,exports.parsePatch=_parse.parsePatch,exports.convertChangesToDMP=_dmp.convertChangesToDMP,exports.convertChangesToXML=_xml.convertChangesToXML,exports.canonicalize=_json.canonicalize},{"./convert/dmp":128,"./convert/xml":129,"./diff/base":130,"./diff/character":131,"./diff/css":132,"./diff/json":133,"./diff/line":134,"./diff/sentence":135,"./diff/word":136,"./patch/apply":138,"./patch/create":139,"./patch/parse":140}],138:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function applyPatch(source,uniDiff){function hunkFits(hunk,toPos){for(var j=0;j<hunk.lines.length;j++){var line=hunk.lines[j],operation=line[0],content=line.substr(1);if(" "===operation||"-"===operation){if(!compareLine(toPos+1,lines[toPos],operation,content)&&(errorCount++,errorCount>fuzzFactor))return!1;toPos++}}return!0}var options=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if("string"==typeof uniDiff&&(uniDiff=_parse.parsePatch(uniDiff)),Array.isArray(uniDiff)){if(uniDiff.length>1)throw new Error("applyPatch only works with a single input.");uniDiff=uniDiff[0]}for(var lines=source.split("\n"),hunks=uniDiff.hunks,compareLine=options.compareLine||function(lineNumber,line,operation,patchContent){return line===patchContent},errorCount=0,fuzzFactor=options.fuzzFactor||0,minLine=0,offset=0,removeEOFNL=void 0,addEOFNL=void 0,i=0;i<hunks.length;i++){for(var hunk=hunks[i],maxLine=lines.length-hunk.oldLines,localOffset=0,toPos=offset+hunk.oldStart-1,iterator=_distanceIterator2.default(toPos,minLine,maxLine);void 0!==localOffset;localOffset=iterator())if(hunkFits(hunk,toPos+localOffset)){hunk.offset=offset+=localOffset;break}if(void 0===localOffset)return!1;minLine=hunk.offset+hunk.oldStart+hunk.oldLines}for(var _i=0;_i<hunks.length;_i++){var _hunk=hunks[_i],_toPos=_hunk.offset+_hunk.newStart-1;0==_hunk.newLines&&_toPos++;for(var j=0;j<_hunk.lines.length;j++){var line=_hunk.lines[j],operation=line[0],content=line.substr(1);if(" "===operation)_toPos++;else if("-"===operation)lines.splice(_toPos,1);else if("+"===operation)lines.splice(_toPos,0,content),_toPos++;else if("\\"===operation){var previousOperation=_hunk.lines[j-1]?_hunk.lines[j-1][0]:null;"+"===previousOperation?removeEOFNL=!0:"-"===previousOperation&&(addEOFNL=!0)}}}if(removeEOFNL)for(;!lines[lines.length-1];)lines.pop();else addEOFNL&&lines.push("");return lines.join("\n")}function applyPatches(uniDiff,options){function processIndex(){var index=uniDiff[currentIndex++];return index?void options.loadFile(index,function(err,data){if(err)return options.complete(err);var updatedContent=applyPatch(data,index,options);options.patched(index,updatedContent),setTimeout(processIndex,0)}):options.complete()}"string"==typeof uniDiff&&(uniDiff=_parse.parsePatch(uniDiff));var currentIndex=0;processIndex()}exports.__esModule=!0,exports.applyPatch=applyPatch,exports.applyPatches=applyPatches;var _parse=require("./parse"),_distanceIterator=require("../util/distance-iterator"),_distanceIterator2=_interopRequireDefault(_distanceIterator)},{"../util/distance-iterator":141,"./parse":140}],139:[function(require,module,exports){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function structuredPatch(oldFileName,newFileName,oldStr,newStr,oldHeader,newHeader,options){function contextLines(lines){return lines.map(function(entry){return" "+entry})}options||(options={context:4});var diff=_line.diffLines(oldStr,newStr);diff.push({value:"",lines:[]});for(var hunks=[],oldRangeStart=0,newRangeStart=0,curRange=[],oldLine=1,newLine=1,_loop=function(i){var current=diff[i],lines=current.lines||current.value.replace(/\n$/,"").split("\n");if(current.lines=lines,current.added||current.removed){var _curRange;if(!oldRangeStart){var prev=diff[i-1];oldRangeStart=oldLine,newRangeStart=newLine,prev&&(curRange=options.context>0?contextLines(prev.lines.slice(-options.context)):[],oldRangeStart-=curRange.length,newRangeStart-=curRange.length)}(_curRange=curRange).push.apply(_curRange,_toConsumableArray(lines.map(function(entry){return(current.added?"+":"-")+entry}))),current.added?newLine+=lines.length:oldLine+=lines.length}else{if(oldRangeStart)if(lines.length<=2*options.context&&i<diff.length-2){var _curRange2;(_curRange2=curRange).push.apply(_curRange2,_toConsumableArray(contextLines(lines)))}else{var _curRange3,contextSize=Math.min(lines.length,options.context);(_curRange3=curRange).push.apply(_curRange3,_toConsumableArray(contextLines(lines.slice(0,contextSize))));var hunk={oldStart:oldRangeStart,oldLines:oldLine-oldRangeStart+contextSize,newStart:newRangeStart,newLines:newLine-newRangeStart+contextSize,lines:curRange};if(i>=diff.length-2&&lines.length<=options.context){var oldEOFNewline=/\n$/.test(oldStr),newEOFNewline=/\n$/.test(newStr);0!=lines.length||oldEOFNewline?oldEOFNewline&&newEOFNewline||curRange.push("\\ No newline at end of file"):curRange.splice(hunk.oldLines,0,"\\ No newline at end of file")}hunks.push(hunk),oldRangeStart=0,newRangeStart=0,curRange=[]}oldLine+=lines.length,newLine+=lines.length}},i=0;i<diff.length;i++)_loop(i);return{oldFileName:oldFileName,newFileName:newFileName,oldHeader:oldHeader,newHeader:newHeader,hunks:hunks}}function createTwoFilesPatch(oldFileName,newFileName,oldStr,newStr,oldHeader,newHeader,options){var diff=structuredPatch(oldFileName,newFileName,oldStr,newStr,oldHeader,newHeader,options),ret=[];oldFileName==newFileName&&ret.push("Index: "+oldFileName),ret.push("==================================================================="),ret.push("--- "+diff.oldFileName+("undefined"==typeof diff.oldHeader?"":"	"+diff.oldHeader)),ret.push("+++ "+diff.newFileName+("undefined"==typeof diff.newHeader?"":"	"+diff.newHeader));for(var i=0;i<diff.hunks.length;i++){var hunk=diff.hunks[i];ret.push("@@ -"+hunk.oldStart+","+hunk.oldLines+" +"+hunk.newStart+","+hunk.newLines+" @@"),ret.push.apply(ret,hunk.lines)}return ret.join("\n")+"\n"}function createPatch(fileName,oldStr,newStr,oldHeader,newHeader,options){return createTwoFilesPatch(fileName,fileName,oldStr,newStr,oldHeader,newHeader,options)}exports.__esModule=!0,exports.structuredPatch=structuredPatch,exports.createTwoFilesPatch=createTwoFilesPatch,exports.createPatch=createPatch;var _line=require("../diff/line")},{"../diff/line":134}],140:[function(require,module,exports){"use strict";function parsePatch(uniDiff){function parseIndex(){var index={};for(list.push(index);i<diffstr.length;){var line=diffstr[i];if(/^(\-\-\-|\+\+\+|@@)\s/.test(line))break;var header=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(line);header&&(index.index=header[1]),i++}for(parseFileHeader(index),parseFileHeader(index),index.hunks=[];i<diffstr.length;){var _line=diffstr[i];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(_line))break;if(/^@@/.test(_line))index.hunks.push(parseHunk());else{if(_line&&options.strict)throw new Error("Unknown line "+(i+1)+" "+JSON.stringify(_line));i++}}}function parseFileHeader(index){var fileHeader=/^(\-\-\-|\+\+\+)\s+(\S*)\s?(.*?)\s*$/.exec(diffstr[i]);if(fileHeader){var keyPrefix="---"===fileHeader[1]?"old":"new";index[keyPrefix+"FileName"]=fileHeader[2],index[keyPrefix+"Header"]=fileHeader[3],i++}}function parseHunk(){for(var chunkHeaderIndex=i,chunkHeaderLine=diffstr[i++],chunkHeader=chunkHeaderLine.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),hunk={oldStart:+chunkHeader[1],oldLines:+chunkHeader[2]||1,newStart:+chunkHeader[3],newLines:+chunkHeader[4]||1,lines:[]},addCount=0,removeCount=0;i<diffstr.length;i++){var operation=diffstr[i][0];if("+"!==operation&&"-"!==operation&&" "!==operation&&"\\"!==operation)break;hunk.lines.push(diffstr[i]),"+"===operation?addCount++:"-"===operation?removeCount++:" "===operation&&(addCount++,removeCount++)}if(addCount||1!==hunk.newLines||(hunk.newLines=0),removeCount||1!==hunk.oldLines||(hunk.oldLines=0),options.strict){if(addCount!==hunk.newLines)throw new Error("Added line count did not match for hunk at line "+(chunkHeaderIndex+1));if(removeCount!==hunk.oldLines)throw new Error("Removed line count did not match for hunk at line "+(chunkHeaderIndex+1))}return hunk}for(var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],diffstr=uniDiff.split("\n"),list=[],i=0;i<diffstr.length;)parseIndex();return list}exports.__esModule=!0,exports.parsePatch=parsePatch},{}],141:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default=function(start,minLine,maxLine){var wantForward=!0,backwardExhausted=!1,forwardExhausted=!1,localOffset=1;return function iterator(){if(wantForward&&!forwardExhausted){if(backwardExhausted?localOffset++:wantForward=!1,maxLine>=start+localOffset)return localOffset;forwardExhausted=!0}return backwardExhausted?void 0:(forwardExhausted||(wantForward=!0),start-localOffset>=minLine?-localOffset++:(backwardExhausted=!0,iterator()))}}},{}],142:[function(require,module,exports){"use strict";function generateOptions(options,defaults){if("function"==typeof options)defaults.callback=options;else if(options)for(var name in options)options.hasOwnProperty(name)&&(defaults[name]=options[name]);return defaults}exports.__esModule=!0,exports.generateOptions=generateOptions},{}],143:[function(require,module,exports){(function(Buffer){function getDiffieHellman(mod){var prime=new Buffer(primes[mod].prime,"hex"),gen=new Buffer(primes[mod].gen,"hex");return new DH(prime,gen)}function createDiffieHellman(prime,enc,generator,genc){return Buffer.isBuffer(enc)||void 0===ENCODINGS[enc]?createDiffieHellman(prime,"binary",enc,generator):(enc=enc||"binary",genc=genc||"binary",generator=generator||new Buffer([2]),Buffer.isBuffer(generator)||(generator=new Buffer(generator,genc)),"number"==typeof prime?new DH(generatePrime(prime,generator),generator,!0):(Buffer.isBuffer(prime)||(prime=new Buffer(prime,enc)),new DH(prime,generator,!0)))}var generatePrime=require("./lib/generatePrime"),primes=require("./lib/primes.json"),DH=require("./lib/dh"),ENCODINGS={binary:!0,hex:!0,base64:!0};exports.DiffieHellmanGroup=exports.createDiffieHellmanGroup=exports.getDiffieHellman=getDiffieHellman,exports.createDiffieHellman=exports.DiffieHellman=createDiffieHellman}).call(this,require("buffer").Buffer)},{"./lib/dh":144,"./lib/generatePrime":145,"./lib/primes.json":146,buffer:53}],144:[function(require,module,exports){(function(Buffer){function setPublicKey(pub,enc){return enc=enc||"utf8",Buffer.isBuffer(pub)||(pub=new Buffer(pub,enc)),this._pub=new BN(pub),this}function setPrivateKey(priv,enc){return enc=enc||"utf8",Buffer.isBuffer(priv)||(priv=new Buffer(priv,enc)),this._priv=new BN(priv),this}function checkPrime(prime,generator){var gen=generator.toString("hex"),hex=[gen,prime.toString(16)].join("_");if(hex in primeCache)return primeCache[hex];var error=0;if(prime.isEven()||!primes.simpleSieve||!primes.fermatTest(prime)||!millerRabin.test(prime))return error+=1,error+="02"===gen||"05"===gen?8:4,primeCache[hex]=error,error;millerRabin.test(prime.shrn(1))||(error+=2);var rem;switch(gen){case"02":prime.mod(TWENTYFOUR).cmp(ELEVEN)&&(error+=8);break;case"05":rem=prime.mod(TEN),rem.cmp(THREE)&&rem.cmp(SEVEN)&&(error+=8);break;default:error+=4}return primeCache[hex]=error,error}function DH(prime,generator,malleable){this.setGenerator(generator),this.__prime=new BN(prime),this._prime=BN.mont(this.__prime),this._primeLen=prime.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,malleable?(this.setPublicKey=setPublicKey,this.setPrivateKey=setPrivateKey):this._primeCode=8}function formatReturnValue(bn,enc){var buf=new Buffer(bn.toArray());return enc?buf.toString(enc):buf}var BN=require("bn.js"),MillerRabin=require("miller-rabin"),millerRabin=new MillerRabin,TWENTYFOUR=new BN(24),ELEVEN=new BN(11),TEN=new BN(10),THREE=new BN(3),SEVEN=new BN(7),primes=require("./generatePrime"),randomBytes=require("randombytes");module.exports=DH;var primeCache={};Object.defineProperty(DH.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=checkPrime(this.__prime,this.__gen)),this._primeCode}}),DH.prototype.generateKeys=function(){return this._priv||(this._priv=new BN(randomBytes(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},DH.prototype.computeSecret=function(other){other=new BN(other),other=other.toRed(this._prime);var secret=other.redPow(this._priv).fromRed(),out=new Buffer(secret.toArray()),prime=this.getPrime();if(out.length<prime.length){var front=new Buffer(prime.length-out.length);front.fill(0),out=Buffer.concat([front,out])}return out},DH.prototype.getPublicKey=function(enc){return formatReturnValue(this._pub,enc)},DH.prototype.getPrivateKey=function(enc){return formatReturnValue(this._priv,enc)},DH.prototype.getPrime=function(enc){return formatReturnValue(this.__prime,enc)},DH.prototype.getGenerator=function(enc){return formatReturnValue(this._gen,enc)},DH.prototype.setGenerator=function(gen,enc){return enc=enc||"utf8",Buffer.isBuffer(gen)||(gen=new Buffer(gen,enc)),this.__gen=gen,this._gen=new BN(gen),this}}).call(this,require("buffer").Buffer)},{"./generatePrime":145,"bn.js":22,buffer:53,"miller-rabin":188,randombytes:208}],145:[function(require,module,exports){function _getPrimes(){if(null!==primes)return primes;var limit=1048576,res=[];res[0]=2;for(var i=1,k=3;limit>k;k+=2){for(var sqrt=Math.ceil(Math.sqrt(k)),j=0;i>j&&res[j]<=sqrt&&k%res[j]!==0;j++);i!==j&&res[j]<=sqrt||(res[i++]=k)}return primes=res,res}function simpleSieve(p){for(var primes=_getPrimes(),i=0;i<primes.length;i++)if(0===p.modn(primes[i]))return 0===p.cmpn(primes[i])?!0:!1;return!0}function fermatTest(p){var red=BN.mont(p);return 0===TWO.toRed(red).redPow(p.subn(1)).fromRed().cmpn(1)}function findPrime(bits,gen){if(16>bits)return new BN(2===gen||5===gen?[140,123]:[140,39]);gen=new BN(gen);for(var num,n2;;){for(num=new BN(randomBytes(Math.ceil(bits/8)));num.bitLength()>bits;)num.ishrn(1);if(num.isEven()&&num.iadd(ONE),num.testn(1)||num.iadd(TWO),gen.cmp(TWO)){if(!gen.cmp(FIVE))for(;num.mod(TEN).cmp(THREE);)num.iadd(FOUR)}else for(;num.mod(TWENTYFOUR).cmp(ELEVEN);)num.iadd(FOUR);if(n2=num.shrn(1),simpleSieve(n2)&&simpleSieve(num)&&fermatTest(n2)&&fermatTest(num)&&millerRabin.test(n2)&&millerRabin.test(num))return num}}var randomBytes=require("randombytes");module.exports=findPrime,findPrime.simpleSieve=simpleSieve,findPrime.fermatTest=fermatTest;var BN=require("bn.js"),TWENTYFOUR=new BN(24),MillerRabin=require("miller-rabin"),millerRabin=new MillerRabin,ONE=new BN(1),TWO=new BN(2),FIVE=new BN(5),TEN=(new BN(16),new BN(8),new BN(10)),THREE=new BN(3),ELEVEN=(new BN(7),new BN(11)),FOUR=new BN(4),primes=(new BN(12),null)},{"bn.js":22,"miller-rabin":188,randombytes:208}],146:[function(require,module,exports){module.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"
},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],147:[function(require,module,exports){"use strict";var elliptic=exports;elliptic.version=require("../package.json").version,elliptic.utils=require("./elliptic/utils"),elliptic.rand=require("brorand"),elliptic.hmacDRBG=require("./elliptic/hmac-drbg"),elliptic.curve=require("./elliptic/curve"),elliptic.curves=require("./elliptic/curves"),elliptic.ec=require("./elliptic/ec"),elliptic.eddsa=require("./elliptic/eddsa")},{"../package.json":163,"./elliptic/curve":150,"./elliptic/curves":153,"./elliptic/ec":154,"./elliptic/eddsa":157,"./elliptic/hmac-drbg":160,"./elliptic/utils":162,brorand:24}],148:[function(require,module,exports){"use strict";function BaseCurve(type,conf){this.type=type,this.p=new BN(conf.p,16),this.red=conf.prime?BN.red(conf.prime):BN.mont(this.p),this.zero=new BN(0).toRed(this.red),this.one=new BN(1).toRed(this.red),this.two=new BN(2).toRed(this.red),this.n=conf.n&&new BN(conf.n,16),this.g=conf.g&&this.pointFromJSON(conf.g,conf.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var adjustCount=this.n&&this.p.div(this.n);!adjustCount||adjustCount.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function BasePoint(curve,type){this.curve=curve,this.type=type,this.precomputed=null}var BN=require("bn.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,getNAF=utils.getNAF,getJSF=utils.getJSF,assert=utils.assert;module.exports=BaseCurve,BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(p,k){assert(p.precomputed);var doubles=p._getDoubles(),naf=getNAF(k,1),I=(1<<doubles.step+1)-(doubles.step%2===0?2:1);I/=3;for(var repr=[],j=0;j<naf.length;j+=doubles.step){for(var nafW=0,k=j+doubles.step-1;k>=j;k--)nafW=(nafW<<1)+naf[k];repr.push(nafW)}for(var a=this.jpoint(null,null,null),b=this.jpoint(null,null,null),i=I;i>0;i--){for(var j=0;j<repr.length;j++){var nafW=repr[j];nafW===i?b=b.mixedAdd(doubles.points[j]):nafW===-i&&(b=b.mixedAdd(doubles.points[j].neg()))}a=a.add(b)}return a.toP()},BaseCurve.prototype._wnafMul=function(p,k){var w=4,nafPoints=p._getNAFPoints(w);w=nafPoints.wnd;for(var wnd=nafPoints.points,naf=getNAF(k,w),acc=this.jpoint(null,null,null),i=naf.length-1;i>=0;i--){for(var k=0;i>=0&&0===naf[i];i--)k++;if(i>=0&&k++,acc=acc.dblp(k),0>i)break;var z=naf[i];assert(0!==z),acc="affine"===p.type?z>0?acc.mixedAdd(wnd[z-1>>1]):acc.mixedAdd(wnd[-z-1>>1].neg()):z>0?acc.add(wnd[z-1>>1]):acc.add(wnd[-z-1>>1].neg())}return"affine"===p.type?acc.toP():acc},BaseCurve.prototype._wnafMulAdd=function(defW,points,coeffs,len,jacobianResult){for(var wndWidth=this._wnafT1,wnd=this._wnafT2,naf=this._wnafT3,max=0,i=0;len>i;i++){var p=points[i],nafPoints=p._getNAFPoints(defW);wndWidth[i]=nafPoints.wnd,wnd[i]=nafPoints.points}for(var i=len-1;i>=1;i-=2){var a=i-1,b=i;if(1===wndWidth[a]&&1===wndWidth[b]){var comb=[points[a],null,null,points[b]];0===points[a].y.cmp(points[b].y)?(comb[1]=points[a].add(points[b]),comb[2]=points[a].toJ().mixedAdd(points[b].neg())):0===points[a].y.cmp(points[b].y.redNeg())?(comb[1]=points[a].toJ().mixedAdd(points[b]),comb[2]=points[a].add(points[b].neg())):(comb[1]=points[a].toJ().mixedAdd(points[b]),comb[2]=points[a].toJ().mixedAdd(points[b].neg()));var index=[-3,-1,-5,-7,0,7,5,1,3],jsf=getJSF(coeffs[a],coeffs[b]);max=Math.max(jsf[0].length,max),naf[a]=new Array(max),naf[b]=new Array(max);for(var j=0;max>j;j++){var ja=0|jsf[0][j],jb=0|jsf[1][j];naf[a][j]=index[3*(ja+1)+(jb+1)],naf[b][j]=0,wnd[a]=comb}}else naf[a]=getNAF(coeffs[a],wndWidth[a]),naf[b]=getNAF(coeffs[b],wndWidth[b]),max=Math.max(naf[a].length,max),max=Math.max(naf[b].length,max)}for(var acc=this.jpoint(null,null,null),tmp=this._wnafT4,i=max;i>=0;i--){for(var k=0;i>=0;){for(var zero=!0,j=0;len>j;j++)tmp[j]=0|naf[j][i],0!==tmp[j]&&(zero=!1);if(!zero)break;k++,i--}if(i>=0&&k++,acc=acc.dblp(k),0>i)break;for(var j=0;len>j;j++){var p,z=tmp[j];0!==z&&(z>0?p=wnd[j][z-1>>1]:0>z&&(p=wnd[j][-z-1>>1].neg()),acc="affine"===p.type?acc.mixedAdd(p):acc.add(p))}}for(var i=0;len>i;i++)wnd[i]=null;return jacobianResult?acc:acc.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(bytes,enc){bytes=utils.toArray(bytes,enc);var len=this.p.byteLength();if((4===bytes[0]||6===bytes[0]||7===bytes[0])&&bytes.length-1===2*len){6===bytes[0]?assert(bytes[bytes.length-1]%2===0):7===bytes[0]&&assert(bytes[bytes.length-1]%2===1);var res=this.point(bytes.slice(1,1+len),bytes.slice(1+len,1+2*len));return res}if((2===bytes[0]||3===bytes[0])&&bytes.length-1===len)return this.pointFromX(bytes.slice(1,1+len),3===bytes[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(enc){return this.encode(enc,!0)},BasePoint.prototype._encode=function(compact){var len=this.curve.p.byteLength(),x=this.getX().toArray("be",len);return compact?[this.getY().isEven()?2:3].concat(x):[4].concat(x,this.getY().toArray("be",len))},BasePoint.prototype.encode=function(enc,compact){return utils.encode(this._encode(compact),enc)},BasePoint.prototype.precompute=function(power){if(this.precomputed)return this;var precomputed={doubles:null,naf:null,beta:null};return precomputed.naf=this._getNAFPoints(8),precomputed.doubles=this._getDoubles(4,power),precomputed.beta=this._getBeta(),this.precomputed=precomputed,this},BasePoint.prototype._hasDoubles=function(k){if(!this.precomputed)return!1;var doubles=this.precomputed.doubles;return doubles?doubles.points.length>=Math.ceil((k.bitLength()+1)/doubles.step):!1},BasePoint.prototype._getDoubles=function(step,power){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var doubles=[this],acc=this,i=0;power>i;i+=step){for(var j=0;step>j;j++)acc=acc.dbl();doubles.push(acc)}return{step:step,points:doubles}},BasePoint.prototype._getNAFPoints=function(wnd){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var res=[this],max=(1<<wnd)-1,dbl=1===max?null:this.dbl(),i=1;max>i;i++)res[i]=res[i-1].add(dbl);return{wnd:wnd,points:res}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(k){for(var r=this,i=0;k>i;i++)r=r.dbl();return r}},{"../../elliptic":147,"bn.js":22}],149:[function(require,module,exports){"use strict";function EdwardsCurve(conf){this.twisted=1!==(0|conf.a),this.mOneA=this.twisted&&-1===(0|conf.a),this.extended=this.mOneA,Base.call(this,"edwards",conf),this.a=new BN(conf.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN(conf.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN(conf.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|conf.c)}function Point(curve,x,y,z,t){Base.BasePoint.call(this,curve,"projective"),null===x&&null===y&&null===z?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN(x,16),this.y=new BN(y,16),this.z=z?new BN(z,16):this.curve.one,this.t=t&&new BN(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var curve=require("../curve"),elliptic=require("../../elliptic"),BN=require("bn.js"),inherits=require("inherits"),Base=curve.base,assert=elliptic.utils.assert;inherits(EdwardsCurve,Base),module.exports=EdwardsCurve,EdwardsCurve.prototype._mulA=function(num){return this.mOneA?num.redNeg():this.a.redMul(num)},EdwardsCurve.prototype._mulC=function(num){return this.oneC?num:this.c.redMul(num)},EdwardsCurve.prototype.jpoint=function(x,y,z,t){return this.point(x,y,z,t)},EdwardsCurve.prototype.pointFromX=function(x,odd){x=new BN(x,16),x.red||(x=x.toRed(this.red));var x2=x.redSqr(),rhs=this.c2.redSub(this.a.redMul(x2)),lhs=this.one.redSub(this.c2.redMul(this.d).redMul(x2)),y2=rhs.redMul(lhs.redInvm()),y=y2.redSqrt();if(0!==y.redSqr().redSub(y2).cmp(this.zero))throw new Error("invalid point");var isOdd=y.fromRed().isOdd();return(odd&&!isOdd||!odd&&isOdd)&&(y=y.redNeg()),this.point(x,y)},EdwardsCurve.prototype.pointFromY=function(y,odd){y=new BN(y,16),y.red||(y=y.toRed(this.red));var y2=y.redSqr(),lhs=y2.redSub(this.one),rhs=y2.redMul(this.d).redAdd(this.one),x2=lhs.redMul(rhs.redInvm());if(0===x2.cmp(this.zero)){if(odd)throw new Error("invalid point");return this.point(this.zero,y)}var x=x2.redSqrt();if(0!==x.redSqr().redSub(x2).cmp(this.zero))throw new Error("invalid point");return x.isOdd()!==odd&&(x=x.redNeg()),this.point(x,y)},EdwardsCurve.prototype.validate=function(point){if(point.isInfinity())return!0;point.normalize();var x2=point.x.redSqr(),y2=point.y.redSqr(),lhs=x2.redMul(this.a).redAdd(y2),rhs=this.c2.redMul(this.one.redAdd(this.d.redMul(x2).redMul(y2)));return 0===lhs.cmp(rhs)},inherits(Point,Base.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(obj){return Point.fromJSON(this,obj)},EdwardsCurve.prototype.point=function(x,y,z,t){return new Point(this,x,y,z,t)},Point.fromJSON=function(curve,obj){return new Point(curve,obj[0],obj[1],obj[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},Point.prototype._extDbl=function(){var a=this.x.redSqr(),b=this.y.redSqr(),c=this.z.redSqr();c=c.redIAdd(c);var d=this.curve._mulA(a),e=this.x.redAdd(this.y).redSqr().redISub(a).redISub(b),g=d.redAdd(b),f=g.redSub(c),h=d.redSub(b),nx=e.redMul(f),ny=g.redMul(h),nt=e.redMul(h),nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)},Point.prototype._projDbl=function(){var nx,ny,nz,b=this.x.redAdd(this.y).redSqr(),c=this.x.redSqr(),d=this.y.redSqr();if(this.curve.twisted){var e=this.curve._mulA(c),f=e.redAdd(d);if(this.zOne)nx=b.redSub(c).redSub(d).redMul(f.redSub(this.curve.two)),ny=f.redMul(e.redSub(d)),nz=f.redSqr().redSub(f).redSub(f);else{var h=this.z.redSqr(),j=f.redSub(h).redISub(h);nx=b.redSub(c).redISub(d).redMul(j),ny=f.redMul(e.redSub(d)),nz=f.redMul(j)}}else{var e=c.redAdd(d),h=this.curve._mulC(this.c.redMul(this.z)).redSqr(),j=e.redSub(h).redSub(h);nx=this.curve._mulC(b.redISub(e)).redMul(j),ny=this.curve._mulC(e).redMul(c.redISub(d)),nz=e.redMul(j)}return this.curve.point(nx,ny,nz)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(p){var a=this.y.redSub(this.x).redMul(p.y.redSub(p.x)),b=this.y.redAdd(this.x).redMul(p.y.redAdd(p.x)),c=this.t.redMul(this.curve.dd).redMul(p.t),d=this.z.redMul(p.z.redAdd(p.z)),e=b.redSub(a),f=d.redSub(c),g=d.redAdd(c),h=b.redAdd(a),nx=e.redMul(f),ny=g.redMul(h),nt=e.redMul(h),nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)},Point.prototype._projAdd=function(p){var ny,nz,a=this.z.redMul(p.z),b=a.redSqr(),c=this.x.redMul(p.x),d=this.y.redMul(p.y),e=this.curve.d.redMul(c).redMul(d),f=b.redSub(e),g=b.redAdd(e),tmp=this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(c).redISub(d),nx=a.redMul(f).redMul(tmp);return this.curve.twisted?(ny=a.redMul(g).redMul(d.redSub(this.curve._mulA(c))),nz=f.redMul(g)):(ny=a.redMul(g).redMul(d.redSub(c)),nz=this.curve._mulC(f).redMul(g)),this.curve.point(nx,ny,nz)},Point.prototype.add=function(p){return this.isInfinity()?p:p.isInfinity()?this:this.curve.extended?this._extAdd(p):this._projAdd(p)},Point.prototype.mul=function(k){return this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve._wnafMul(this,k)},Point.prototype.mulAdd=function(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,!1)},Point.prototype.jmulAdd=function(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,!0)},Point.prototype.normalize=function(){if(this.zOne)return this;var zi=this.z.redInvm();return this.x=this.x.redMul(zi),this.y=this.y.redMul(zi),this.t&&(this.t=this.t.redMul(zi)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(other){return this===other||0===this.getX().cmp(other.getX())&&0===this.getY().cmp(other.getY())},Point.prototype.eqXToP=function(x){var rx=x.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(rx))return!0;for(var xc=x.clone(),t=this.curve.redN.redMul(this.z);;){if(xc.iadd(this.curve.n),xc.cmp(this.curve.p)>=0)return!1;if(rx.redIAdd(t),0===this.x.cmp(rx))return!0}return!1},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add},{"../../elliptic":147,"../curve":150,"bn.js":22,inherits:185}],150:[function(require,module,exports){"use strict";var curve=exports;curve.base=require("./base"),curve.short=require("./short"),curve.mont=require("./mont"),curve.edwards=require("./edwards")},{"./base":148,"./edwards":149,"./mont":151,"./short":152}],151:[function(require,module,exports){"use strict";function MontCurve(conf){Base.call(this,"mont",conf),this.a=new BN(conf.a,16).toRed(this.red),this.b=new BN(conf.b,16).toRed(this.red),this.i4=new BN(4).toRed(this.red).redInvm(),this.two=new BN(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function Point(curve,x,z){Base.BasePoint.call(this,curve,"projective"),null===x&&null===z?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN(x,16),this.z=new BN(z,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var curve=require("../curve"),BN=require("bn.js"),inherits=require("inherits"),Base=curve.base,elliptic=require("../../elliptic"),utils=elliptic.utils;inherits(MontCurve,Base),module.exports=MontCurve,MontCurve.prototype.validate=function(point){var x=point.normalize().x,x2=x.redSqr(),rhs=x2.redMul(x).redAdd(x2.redMul(this.a)).redAdd(x),y=rhs.redSqrt();return 0===y.redSqr().cmp(rhs)},inherits(Point,Base.BasePoint),MontCurve.prototype.decodePoint=function(bytes,enc){return this.point(utils.toArray(bytes,enc),1)},MontCurve.prototype.point=function(x,z){return new Point(this,x,z)},MontCurve.prototype.pointFromJSON=function(obj){return Point.fromJSON(this,obj)},Point.prototype.precompute=function(){},Point.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point.fromJSON=function(curve,obj){return new Point(curve,obj[0],obj[1]||curve.one)},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Point.prototype.dbl=function(){var a=this.x.redAdd(this.z),aa=a.redSqr(),b=this.x.redSub(this.z),bb=b.redSqr(),c=aa.redSub(bb),nx=aa.redMul(bb),nz=c.redMul(bb.redAdd(this.curve.a24.redMul(c)));return this.curve.point(nx,nz)},Point.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.diffAdd=function(p,diff){var a=this.x.redAdd(this.z),b=this.x.redSub(this.z),c=p.x.redAdd(p.z),d=p.x.redSub(p.z),da=d.redMul(a),cb=c.redMul(b),nx=diff.z.redMul(da.redAdd(cb).redSqr()),nz=diff.x.redMul(da.redISub(cb).redSqr());return this.curve.point(nx,nz)},Point.prototype.mul=function(k){for(var t=k.clone(),a=this,b=this.curve.point(null,null),c=this,bits=[];0!==t.cmpn(0);t.iushrn(1))bits.push(t.andln(1));for(var i=bits.length-1;i>=0;i--)0===bits[i]?(a=a.diffAdd(b,c),b=b.dbl()):(b=a.diffAdd(b,c),a=a.dbl());return b},Point.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.eq=function(other){return 0===this.getX().cmp(other.getX())},Point.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../../elliptic":147,"../curve":150,"bn.js":22,inherits:185}],152:[function(require,module,exports){"use strict";function ShortCurve(conf){Base.call(this,"short",conf),this.a=new BN(conf.a,16).toRed(this.red),this.b=new BN(conf.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(conf),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function Point(curve,x,y,isRed){Base.BasePoint.call(this,curve,"affine"),null===x&&null===y?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN(x,16),this.y=new BN(y,16),isRed&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(curve,x,y,z){Base.BasePoint.call(this,curve,"jacobian"),null===x&&null===y&&null===z?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN(0)):(this.x=new BN(x,16),this.y=new BN(y,16),this.z=new BN(z,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var curve=require("../curve"),elliptic=require("../../elliptic"),BN=require("bn.js"),inherits=require("inherits"),Base=curve.base,assert=elliptic.utils.assert;inherits(ShortCurve,Base),module.exports=ShortCurve,ShortCurve.prototype._getEndomorphism=function(conf){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var beta,lambda;if(conf.beta)beta=new BN(conf.beta,16).toRed(this.red);else{var betas=this._getEndoRoots(this.p);beta=betas[0].cmp(betas[1])<0?betas[0]:betas[1],beta=beta.toRed(this.red)}if(conf.lambda)lambda=new BN(conf.lambda,16);else{var lambdas=this._getEndoRoots(this.n);0===this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta))?lambda=lambdas[0]:(lambda=lambdas[1],assert(0===this.g.mul(lambda).x.cmp(this.g.x.redMul(beta))))}var basis;return basis=conf.basis?conf.basis.map(function(vec){return{a:new BN(vec.a,16),b:new BN(vec.b,16)}}):this._getEndoBasis(lambda),{beta:beta,lambda:lambda,basis:basis}}},ShortCurve.prototype._getEndoRoots=function(num){var red=num===this.p?this.red:BN.mont(num),tinv=new BN(2).toRed(red).redInvm(),ntinv=tinv.redNeg(),s=new BN(3).toRed(red).redNeg().redSqrt().redMul(tinv),l1=ntinv.redAdd(s).fromRed(),l2=ntinv.redSub(s).fromRed();return[l1,l2]},ShortCurve.prototype._getEndoBasis=function(lambda){for(var a0,b0,a1,b1,a2,b2,prevR,r,x,aprxSqrt=this.n.ushrn(Math.floor(this.n.bitLength()/2)),u=lambda,v=this.n.clone(),x1=new BN(1),y1=new BN(0),x2=new BN(0),y2=new BN(1),i=0;0!==u.cmpn(0);){var q=v.div(u);r=v.sub(q.mul(u)),x=x2.sub(q.mul(x1));var y=y2.sub(q.mul(y1));if(!a1&&r.cmp(aprxSqrt)<0)a0=prevR.neg(),b0=x1,a1=r.neg(),b1=x;else if(a1&&2===++i)break;prevR=r,v=u,u=r,x2=x1,x1=x,y2=y1,y1=y}a2=r.neg(),b2=x;var len1=a1.sqr().add(b1.sqr()),len2=a2.sqr().add(b2.sqr());return len2.cmp(len1)>=0&&(a2=a0,b2=b0),a1.negative&&(a1=a1.neg(),b1=b1.neg()),a2.negative&&(a2=a2.neg(),b2=b2.neg()),[{a:a1,b:b1},{a:a2,b:b2}]},ShortCurve.prototype._endoSplit=function(k){var basis=this.endo.basis,v1=basis[0],v2=basis[1],c1=v2.b.mul(k).divRound(this.n),c2=v1.b.neg().mul(k).divRound(this.n),p1=c1.mul(v1.a),p2=c2.mul(v2.a),q1=c1.mul(v1.b),q2=c2.mul(v2.b),k1=k.sub(p1).sub(p2),k2=q1.add(q2).neg();return{k1:k1,k2:k2}},ShortCurve.prototype.pointFromX=function(x,odd){x=new BN(x,16),x.red||(x=x.toRed(this.red));var y2=x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b),y=y2.redSqrt();if(0!==y.redSqr().redSub(y2).cmp(this.zero))throw new Error("invalid point");var isOdd=y.fromRed().isOdd();return(odd&&!isOdd||!odd&&isOdd)&&(y=y.redNeg()),this.point(x,y)},ShortCurve.prototype.validate=function(point){if(point.inf)return!0;var x=point.x,y=point.y,ax=this.a.redMul(x),rhs=x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);return 0===y.redSqr().redISub(rhs).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(points,coeffs,jacobianResult){for(var npoints=this._endoWnafT1,ncoeffs=this._endoWnafT2,i=0;i<points.length;i++){var split=this._endoSplit(coeffs[i]),p=points[i],beta=p._getBeta();split.k1.negative&&(split.k1.ineg(),p=p.neg(!0)),split.k2.negative&&(split.k2.ineg(),beta=beta.neg(!0)),npoints[2*i]=p,npoints[2*i+1]=beta,ncoeffs[2*i]=split.k1,ncoeffs[2*i+1]=split.k2}for(var res=this._wnafMulAdd(1,npoints,ncoeffs,2*i,jacobianResult),j=0;2*i>j;j++)npoints[j]=null,ncoeffs[j]=null;return res},inherits(Point,Base.BasePoint),ShortCurve.prototype.point=function(x,y,isRed){return new Point(this,x,y,isRed)},ShortCurve.prototype.pointFromJSON=function(obj,red){return Point.fromJSON(this,obj,red)},Point.prototype._getBeta=function(){if(this.curve.endo){var pre=this.precomputed;if(pre&&pre.beta)return pre.beta;var beta=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(pre){var curve=this.curve,endoMul=function(p){return curve.point(p.x.redMul(curve.endo.beta),p.y)};pre.beta=beta,beta.precomputed={beta:null,naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(endoMul)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(endoMul)}}}return beta}},Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function(curve,obj,red){function obj2point(obj){return curve.point(obj[0],obj[1],red)}"string"==typeof obj&&(obj=JSON.parse(obj));var res=curve.point(obj[0],obj[1],red);if(!obj[2])return res;var pre=obj[2];return res.precomputed={beta:null,doubles:pre.doubles&&{step:pre.doubles.step,points:[res].concat(pre.doubles.points.map(obj2point))},naf:pre.naf&&{wnd:pre.naf.wnd,points:[res].concat(pre.naf.points.map(obj2point))}},res},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return this.inf},Point.prototype.add=function(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(0===this.x.cmp(p.x))return this.curve.point(null,null);var c=this.y.redSub(p.y);0!==c.cmpn(0)&&(c=c.redMul(this.x.redSub(p.x).redInvm()));var nx=c.redSqr().redISub(this.x).redISub(p.x),ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)},Point.prototype.dbl=function(){if(this.inf)return this;var ys1=this.y.redAdd(this.y);if(0===ys1.cmpn(0))return this.curve.point(null,null);var a=this.curve.a,x2=this.x.redSqr(),dyinv=ys1.redInvm(),c=x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv),nx=c.redSqr().redISub(this.x.redAdd(this.x)),ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)},Point.prototype.getX=function(){return this.x.fromRed()},Point.prototype.getY=function(){return this.y.fromRed()},Point.prototype.mul=function(k){return k=new BN(k,16),this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve.endo?this.curve._endoWnafMulAdd([this],[k]):this.curve._wnafMul(this,k)},Point.prototype.mulAdd=function(k1,p2,k2){var points=[this,p2],coeffs=[k1,k2];return this.curve.endo?this.curve._endoWnafMulAdd(points,coeffs):this.curve._wnafMulAdd(1,points,coeffs,2)},Point.prototype.jmulAdd=function(k1,p2,k2){var points=[this,p2],coeffs=[k1,k2];return this.curve.endo?this.curve._endoWnafMulAdd(points,coeffs,!0):this.curve._wnafMulAdd(1,points,coeffs,2,!0)},Point.prototype.eq=function(p){return this===p||this.inf===p.inf&&(this.inf||0===this.x.cmp(p.x)&&0===this.y.cmp(p.y))},Point.prototype.neg=function(_precompute){if(this.inf)return this;var res=this.curve.point(this.x,this.y.redNeg());if(_precompute&&this.precomputed){var pre=this.precomputed,negate=function(p){return p.neg()};res.precomputed={naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(negate)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(negate)}}}return res},Point.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var res=this.curve.jpoint(this.x,this.y,this.curve.one);return res},inherits(JPoint,Base.BasePoint),ShortCurve.prototype.jpoint=function(x,y,z){return new JPoint(this,x,y,z)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var zinv=this.z.redInvm(),zinv2=zinv.redSqr(),ax=this.x.redMul(zinv2),ay=this.y.redMul(zinv2).redMul(zinv);return this.curve.point(ax,ay)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var pz2=p.z.redSqr(),z2=this.z.redSqr(),u1=this.x.redMul(pz2),u2=p.x.redMul(z2),s1=this.y.redMul(pz2.redMul(p.z)),s2=p.y.redMul(z2.redMul(this.z)),h=u1.redSub(u2),r=s1.redSub(s2);if(0===h.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h2=h.redSqr(),h3=h2.redMul(h),v=u1.redMul(h2),nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v),ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3)),nz=this.z.redMul(p.z).redMul(h);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.mixedAdd=function(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var z2=this.z.redSqr(),u1=this.x,u2=p.x.redMul(z2),s1=this.y,s2=p.y.redMul(z2).redMul(this.z),h=u1.redSub(u2),r=s1.redSub(s2);if(0===h.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h2=h.redSqr(),h3=h2.redMul(h),v=u1.redMul(h2),nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v),ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3)),nz=this.z.redMul(h);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.dblp=function(pow){if(0===pow)return this;if(this.isInfinity())return this;if(!pow)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var r=this,i=0;pow>i;i++)r=r.dbl();return r}for(var a=this.curve.a,tinv=this.curve.tinv,jx=this.x,jy=this.y,jz=this.z,jz4=jz.redSqr().redSqr(),jyd=jy.redAdd(jy),i=0;pow>i;i++){var jx2=jx.redSqr(),jyd2=jyd.redSqr(),jyd4=jyd2.redSqr(),c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4)),t1=jx.redMul(jyd2),nx=c.redSqr().redISub(t1.redAdd(t1)),t2=t1.redISub(nx),dny=c.redMul(t2);dny=dny.redIAdd(dny).redISub(jyd4);var nz=jyd.redMul(jz);pow>i+1&&(jz4=jz4.redMul(jyd4)),jx=nx,jz=nz,jyd=dny}return this.curve.jpoint(jx,jyd.redMul(tinv),jz)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var nx,ny,nz;if(this.zOne){var xx=this.x.redSqr(),yy=this.y.redSqr(),yyyy=yy.redSqr(),s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx),t=m.redSqr().redISub(s).redISub(s),yyyy8=yyyy.redIAdd(yyyy);yyyy8=yyyy8.redIAdd(yyyy8),yyyy8=yyyy8.redIAdd(yyyy8),nx=t,ny=m.redMul(s.redISub(t)).redISub(yyyy8),nz=this.y.redAdd(this.y)}else{var a=this.x.redSqr(),b=this.y.redSqr(),c=b.redSqr(),d=this.x.redAdd(b).redSqr().redISub(a).redISub(c);d=d.redIAdd(d);var e=a.redAdd(a).redIAdd(a),f=e.redSqr(),c8=c.redIAdd(c);c8=c8.redIAdd(c8),c8=c8.redIAdd(c8),nx=f.redISub(d).redISub(d),ny=e.redMul(d.redISub(nx)).redISub(c8),nz=this.y.redMul(this.z),nz=nz.redIAdd(nz)}return this.curve.jpoint(nx,ny,nz)},JPoint.prototype._threeDbl=function(){var nx,ny,nz;if(this.zOne){var xx=this.x.redSqr(),yy=this.y.redSqr(),yyyy=yy.redSqr(),s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a),t=m.redSqr().redISub(s).redISub(s);nx=t;var yyyy8=yyyy.redIAdd(yyyy);yyyy8=yyyy8.redIAdd(yyyy8),yyyy8=yyyy8.redIAdd(yyyy8),ny=m.redMul(s.redISub(t)).redISub(yyyy8),nz=this.y.redAdd(this.y)}else{var delta=this.z.redSqr(),gamma=this.y.redSqr(),beta=this.x.redMul(gamma),alpha=this.x.redSub(delta).redMul(this.x.redAdd(delta));alpha=alpha.redAdd(alpha).redIAdd(alpha);var beta4=beta.redIAdd(beta);beta4=beta4.redIAdd(beta4);var beta8=beta4.redAdd(beta4);nx=alpha.redSqr().redISub(beta8),nz=this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta);var ggamma8=gamma.redSqr();ggamma8=ggamma8.redIAdd(ggamma8),ggamma8=ggamma8.redIAdd(ggamma8),ggamma8=ggamma8.redIAdd(ggamma8),ny=alpha.redMul(beta4.redISub(nx)).redISub(ggamma8)}return this.curve.jpoint(nx,ny,nz)},JPoint.prototype._dbl=function(){var a=this.curve.a,jx=this.x,jy=this.y,jz=this.z,jz4=jz.redSqr().redSqr(),jx2=jx.redSqr(),jy2=jy.redSqr(),c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4)),jxd4=jx.redAdd(jx);jxd4=jxd4.redIAdd(jxd4);var t1=jxd4.redMul(jy2),nx=c.redSqr().redISub(t1.redAdd(t1)),t2=t1.redISub(nx),jyd8=jy2.redSqr();jyd8=jyd8.redIAdd(jyd8),jyd8=jyd8.redIAdd(jyd8),jyd8=jyd8.redIAdd(jyd8);var ny=c.redMul(t2).redISub(jyd8),nz=jy.redAdd(jy).redMul(jz);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var xx=this.x.redSqr(),yy=this.y.redSqr(),zz=this.z.redSqr(),yyyy=yy.redSqr(),m=xx.redAdd(xx).redIAdd(xx),mm=m.redSqr(),e=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);e=e.redIAdd(e),e=e.redAdd(e).redIAdd(e),e=e.redISub(mm);var ee=e.redSqr(),t=yyyy.redIAdd(yyyy);t=t.redIAdd(t),t=t.redIAdd(t),t=t.redIAdd(t);var u=m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t),yyu4=yy.redMul(u);
yyu4=yyu4.redIAdd(yyu4),yyu4=yyu4.redIAdd(yyu4);var nx=this.x.redMul(ee).redISub(yyu4);nx=nx.redIAdd(nx),nx=nx.redIAdd(nx);var ny=this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));ny=ny.redIAdd(ny),ny=ny.redIAdd(ny),ny=ny.redIAdd(ny);var nz=this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.mul=function(k,kbase){return k=new BN(k,kbase),this.curve._wnafMul(this,k)},JPoint.prototype.eq=function(p){if("affine"===p.type)return this.eq(p.toJ());if(this===p)return!0;var z2=this.z.redSqr(),pz2=p.z.redSqr();if(0!==this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0))return!1;var z3=z2.redMul(this.z),pz3=pz2.redMul(p.z);return 0===this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0)},JPoint.prototype.eqXToP=function(x){var zs=this.z.redSqr(),rx=x.toRed(this.curve.red).redMul(zs);if(0===this.x.cmp(rx))return!0;for(var xc=x.clone(),t=this.curve.redN.redMul(zs);;){if(xc.iadd(this.curve.n),xc.cmp(this.curve.p)>=0)return!1;if(rx.redIAdd(t),0===this.x.cmp(rx))return!0}return!1},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../../elliptic":147,"../curve":150,"bn.js":22,inherits:185}],153:[function(require,module,exports){"use strict";function PresetCurve(options){"short"===options.type?this.curve=new elliptic.curve.short(options):"edwards"===options.type?this.curve=new elliptic.curve.edwards(options):this.curve=new elliptic.curve.mont(options),this.g=this.curve.g,this.n=this.curve.n,this.hash=options.hash,assert(this.g.validate(),"Invalid curve"),assert(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function defineCurve(name,options){Object.defineProperty(curves,name,{configurable:!0,enumerable:!0,get:function(){var curve=new PresetCurve(options);return Object.defineProperty(curves,name,{configurable:!0,enumerable:!0,value:curve}),curve}})}var curves=exports,hash=require("hash.js"),elliptic=require("../elliptic"),assert=elliptic.utils.assert;curves.PresetCurve=PresetCurve,defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"0",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["9"]}),defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var pre;try{pre=require("./precomputed/secp256k1")}catch(e){pre=void 0}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",pre]})},{"../elliptic":147,"./precomputed/secp256k1":161,"hash.js":176}],154:[function(require,module,exports){"use strict";function EC(options){return this instanceof EC?("string"==typeof options&&(assert(elliptic.curves.hasOwnProperty(options),"Unknown curve "+options),options=elliptic.curves[options]),options instanceof elliptic.curves.PresetCurve&&(options={curve:options}),this.curve=options.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=options.curve.g,this.g.precompute(options.curve.n.bitLength()+1),void(this.hash=options.hash||options.curve.hash)):new EC(options)}var BN=require("bn.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert,KeyPair=require("./key"),Signature=require("./signature");module.exports=EC,EC.prototype.keyPair=function(options){return new KeyPair(this,options)},EC.prototype.keyFromPrivate=function(priv,enc){return KeyPair.fromPrivate(this,priv,enc)},EC.prototype.keyFromPublic=function(pub,enc){return KeyPair.fromPublic(this,pub,enc)},EC.prototype.genKeyPair=function(options){options||(options={});for(var drbg=new elliptic.hmacDRBG({hash:this.hash,pers:options.pers,entropy:options.entropy||elliptic.rand(this.hash.hmacStrength),nonce:this.n.toArray()}),bytes=this.n.byteLength(),ns2=this.n.sub(new BN(2));;){var priv=new BN(drbg.generate(bytes));if(!(priv.cmp(ns2)>0))return priv.iaddn(1),this.keyFromPrivate(priv)}},EC.prototype._truncateToN=function(msg,truncOnly){var delta=8*msg.byteLength()-this.n.bitLength();return delta>0&&(msg=msg.ushrn(delta)),!truncOnly&&msg.cmp(this.n)>=0?msg.sub(this.n):msg},EC.prototype.sign=function(msg,key,enc,options){"object"==typeof enc&&(options=enc,enc=null),options||(options={}),key=this.keyFromPrivate(key,enc),msg=this._truncateToN(new BN(msg,16));for(var bytes=this.n.byteLength(),bkey=key.getPrivate().toArray("be",bytes),nonce=msg.toArray("be",bytes),drbg=new elliptic.hmacDRBG({hash:this.hash,entropy:bkey,nonce:nonce,pers:options.pers,persEnc:options.persEnc}),ns1=this.n.sub(new BN(1)),iter=0;!0;iter++){var k=options.k?options.k(iter):new BN(drbg.generate(this.n.byteLength()));if(k=this._truncateToN(k,!0),!(k.cmpn(1)<=0||k.cmp(ns1)>=0)){var kp=this.g.mul(k);if(!kp.isInfinity()){var kpX=kp.getX(),r=kpX.umod(this.n);if(0!==r.cmpn(0)){var s=k.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg));if(s=s.umod(this.n),0!==s.cmpn(0)){var recoveryParam=(kp.getY().isOdd()?1:0)|(0!==kpX.cmp(r)?2:0);return options.canonical&&s.cmp(this.nh)>0&&(s=this.n.sub(s),recoveryParam^=1),new Signature({r:r,s:s,recoveryParam:recoveryParam})}}}}}},EC.prototype.verify=function(msg,signature,key,enc){msg=this._truncateToN(new BN(msg,16)),key=this.keyFromPublic(key,enc),signature=new Signature(signature,"hex");var r=signature.r,s=signature.s;if(r.cmpn(1)<0||r.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var sinv=s.invm(this.n),u1=sinv.mul(msg).umod(this.n),u2=sinv.mul(r).umod(this.n);if(!this.curve._maxwellTrick){var p=this.g.mulAdd(u1,key.getPublic(),u2);return p.isInfinity()?!1:0===p.getX().umod(this.n).cmp(r)}var p=this.g.jmulAdd(u1,key.getPublic(),u2);return p.isInfinity()?!1:p.eqXToP(r)},EC.prototype.recoverPubKey=function(msg,signature,j,enc){assert((3&j)===j,"The recovery param is more than two bits"),signature=new Signature(signature,enc);var n=this.n,e=new BN(msg),r=signature.r,s=signature.s,isYOdd=1&j,isSecondKey=j>>1;if(r.cmp(this.curve.p.umod(this.curve.n))>=0&&isSecondKey)throw new Error("Unable to find sencond key candinate");r=isSecondKey?this.curve.pointFromX(r.add(this.curve.n),isYOdd):this.curve.pointFromX(r,isYOdd);var rInv=signature.r.invm(n),s1=n.sub(e).mul(rInv).umod(n),s2=s.mul(rInv).umod(n);return this.g.mulAdd(s1,r,s2)},EC.prototype.getKeyRecoveryParam=function(e,signature,Q,enc){if(signature=new Signature(signature,enc),null!==signature.recoveryParam)return signature.recoveryParam;for(var i=0;4>i;i++){var Qprime;try{Qprime=this.recoverPubKey(e,signature,i)}catch(e){continue}if(Qprime.eq(Q))return i}throw new Error("Unable to find valid recovery factor")}},{"../../elliptic":147,"./key":155,"./signature":156,"bn.js":22}],155:[function(require,module,exports){"use strict";function KeyPair(ec,options){this.ec=ec,this.priv=null,this.pub=null,options.priv&&this._importPrivate(options.priv,options.privEnc),options.pub&&this._importPublic(options.pub,options.pubEnc)}var BN=require("bn.js");module.exports=KeyPair,KeyPair.fromPublic=function(ec,pub,enc){return pub instanceof KeyPair?pub:new KeyPair(ec,{pub:pub,pubEnc:enc})},KeyPair.fromPrivate=function(ec,priv,enc){return priv instanceof KeyPair?priv:new KeyPair(ec,{priv:priv,privEnc:enc})},KeyPair.prototype.validate=function(){var pub=this.getPublic();return pub.isInfinity()?{result:!1,reason:"Invalid public key"}:pub.validate()?pub.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function(compact,enc){return"string"==typeof compact&&(enc=compact,compact=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),enc?this.pub.encode(enc,compact):this.pub},KeyPair.prototype.getPrivate=function(enc){return"hex"===enc?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function(key,enc){this.priv=new BN(key,enc||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function(key,enc){return key.x||key.y?void(this.pub=this.ec.curve.point(key.x,key.y)):void(this.pub=this.ec.curve.decodePoint(key,enc))},KeyPair.prototype.derive=function(pub){return pub.mul(this.priv).getX()},KeyPair.prototype.sign=function(msg,enc,options){return this.ec.sign(msg,this,enc,options)},KeyPair.prototype.verify=function(msg,signature){return this.ec.verify(msg,signature,this)},KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"bn.js":22}],156:[function(require,module,exports){"use strict";function Signature(options,enc){return options instanceof Signature?options:void(this._importDER(options,enc)||(assert(options.r&&options.s,"Signature without r or s"),this.r=new BN(options.r,16),this.s=new BN(options.s,16),void 0===options.recoveryParam?this.recoveryParam=null:this.recoveryParam=options.recoveryParam))}function Position(){this.place=0}function getLength(buf,p){var initial=buf[p.place++];if(!(128&initial))return initial;for(var octetLen=15&initial,val=0,i=0,off=p.place;octetLen>i;i++,off++)val<<=8,val|=buf[off];return p.place=off,val}function rmPadding(buf){for(var i=0,len=buf.length-1;!buf[i]&&!(128&buf[i+1])&&len>i;)i++;return 0===i?buf:buf.slice(i)}function constructLength(arr,len){if(128>len)return void arr.push(len);var octets=1+(Math.log(len)/Math.LN2>>>3);for(arr.push(128|octets);--octets;)arr.push(len>>>(octets<<3)&255);arr.push(len)}var BN=require("bn.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert;module.exports=Signature,Signature.prototype._importDER=function(data,enc){data=utils.toArray(data,enc);var p=new Position;if(48!==data[p.place++])return!1;var len=getLength(data,p);if(len+p.place!==data.length)return!1;if(2!==data[p.place++])return!1;var rlen=getLength(data,p),r=data.slice(p.place,rlen+p.place);if(p.place+=rlen,2!==data[p.place++])return!1;var slen=getLength(data,p);if(data.length!==slen+p.place)return!1;var s=data.slice(p.place,slen+p.place);return 0===r[0]&&128&r[1]&&(r=r.slice(1)),0===s[0]&&128&s[1]&&(s=s.slice(1)),this.r=new BN(r),this.s=new BN(s),this.recoveryParam=null,!0},Signature.prototype.toDER=function(enc){var r=this.r.toArray(),s=this.s.toArray();for(128&r[0]&&(r=[0].concat(r)),128&s[0]&&(s=[0].concat(s)),r=rmPadding(r),s=rmPadding(s);!(s[0]||128&s[1]);)s=s.slice(1);var arr=[2];constructLength(arr,r.length),arr=arr.concat(r),arr.push(2),constructLength(arr,s.length);var backHalf=arr.concat(s),res=[48];return constructLength(res,backHalf.length),res=res.concat(backHalf),utils.encode(res,enc)}},{"../../elliptic":147,"bn.js":22}],157:[function(require,module,exports){"use strict";function EDDSA(curve){if(assert("ed25519"===curve,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(curve);var curve=elliptic.curves[curve].curve;this.curve=curve,this.g=curve.g,this.g.precompute(curve.n.bitLength()+1),this.pointClass=curve.point().constructor,this.encodingLength=Math.ceil(curve.n.bitLength()/8),this.hash=hash.sha512}var hash=require("hash.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert,parseBytes=utils.parseBytes,KeyPair=require("./key"),Signature=require("./signature");module.exports=EDDSA,EDDSA.prototype.sign=function(message,secret){message=parseBytes(message);var key=this.keyFromSecret(secret),r=this.hashInt(key.messagePrefix(),message),R=this.g.mul(r),Rencoded=this.encodePoint(R),s_=this.hashInt(Rencoded,key.pubBytes(),message).mul(key.priv()),S=r.add(s_).umod(this.curve.n);return this.makeSignature({R:R,S:S,Rencoded:Rencoded})},EDDSA.prototype.verify=function(message,sig,pub){message=parseBytes(message),sig=this.makeSignature(sig);var key=this.keyFromPublic(pub),h=this.hashInt(sig.Rencoded(),key.pubBytes(),message),SG=this.g.mul(sig.S()),RplusAh=sig.R().add(key.pub().mul(h));return RplusAh.eq(SG)},EDDSA.prototype.hashInt=function(){for(var hash=this.hash(),i=0;i<arguments.length;i++)hash.update(arguments[i]);return utils.intFromLE(hash.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function(pub){return KeyPair.fromPublic(this,pub)},EDDSA.prototype.keyFromSecret=function(secret){return KeyPair.fromSecret(this,secret)},EDDSA.prototype.makeSignature=function(sig){return sig instanceof Signature?sig:new Signature(this,sig)},EDDSA.prototype.encodePoint=function(point){var enc=point.getY().toArray("le",this.encodingLength);return enc[this.encodingLength-1]|=point.getX().isOdd()?128:0,enc},EDDSA.prototype.decodePoint=function(bytes){bytes=utils.parseBytes(bytes);var lastIx=bytes.length-1,normed=bytes.slice(0,lastIx).concat(-129&bytes[lastIx]),xIsOdd=0!==(128&bytes[lastIx]),y=utils.intFromLE(normed);return this.curve.pointFromY(y,xIsOdd)},EDDSA.prototype.encodeInt=function(num){return num.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function(bytes){return utils.intFromLE(bytes)},EDDSA.prototype.isPoint=function(val){return val instanceof this.pointClass}},{"../../elliptic":147,"./key":158,"./signature":159,"hash.js":176}],158:[function(require,module,exports){"use strict";function KeyPair(eddsa,params){this.eddsa=eddsa,this._secret=parseBytes(params.secret),eddsa.isPoint(params.pub)?this._pub=params.pub:this._pubBytes=parseBytes(params.pub)}var elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert,parseBytes=utils.parseBytes,cachedProperty=utils.cachedProperty;KeyPair.fromPublic=function(eddsa,pub){return pub instanceof KeyPair?pub:new KeyPair(eddsa,{pub:pub})},KeyPair.fromSecret=function(eddsa,secret){return secret instanceof KeyPair?secret:new KeyPair(eddsa,{secret:secret})},KeyPair.prototype.secret=function(){return this._secret},cachedProperty(KeyPair,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),cachedProperty(KeyPair,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),cachedProperty(KeyPair,"privBytes",function(){var eddsa=this.eddsa,hash=this.hash(),lastIx=eddsa.encodingLength-1,a=hash.slice(0,eddsa.encodingLength);return a[0]&=248,a[lastIx]&=127,a[lastIx]|=64,a}),cachedProperty(KeyPair,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),cachedProperty(KeyPair,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),cachedProperty(KeyPair,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),KeyPair.prototype.sign=function(message){return assert(this._secret,"KeyPair can only verify"),this.eddsa.sign(message,this)},KeyPair.prototype.verify=function(message,sig){return this.eddsa.verify(message,sig,this)},KeyPair.prototype.getSecret=function(enc){return assert(this._secret,"KeyPair is public only"),utils.encode(this.secret(),enc)},KeyPair.prototype.getPublic=function(enc){return utils.encode(this.pubBytes(),enc)},module.exports=KeyPair},{"../../elliptic":147}],159:[function(require,module,exports){"use strict";function Signature(eddsa,sig){this.eddsa=eddsa,"object"!=typeof sig&&(sig=parseBytes(sig)),Array.isArray(sig)&&(sig={R:sig.slice(0,eddsa.encodingLength),S:sig.slice(eddsa.encodingLength)}),assert(sig.R&&sig.S,"Signature without R or S"),eddsa.isPoint(sig.R)&&(this._R=sig.R),sig.S instanceof BN&&(this._S=sig.S),this._Rencoded=Array.isArray(sig.R)?sig.R:sig.Rencoded,this._Sencoded=Array.isArray(sig.S)?sig.S:sig.Sencoded}var BN=require("bn.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert,cachedProperty=utils.cachedProperty,parseBytes=utils.parseBytes;cachedProperty(Signature,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),cachedProperty(Signature,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),cachedProperty(Signature,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),cachedProperty(Signature,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Signature.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature.prototype.toHex=function(){return utils.encode(this.toBytes(),"hex").toUpperCase()},module.exports=Signature},{"../../elliptic":147,"bn.js":22}],160:[function(require,module,exports){"use strict";function HmacDRBG(options){if(!(this instanceof HmacDRBG))return new HmacDRBG(options);this.hash=options.hash,this.predResist=!!options.predResist,this.outLen=this.hash.outSize,this.minEntropy=options.minEntropy||this.hash.hmacStrength,this.reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var entropy=utils.toArray(options.entropy,options.entropyEnc),nonce=utils.toArray(options.nonce,options.nonceEnc),pers=utils.toArray(options.pers,options.persEnc);assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(entropy,nonce,pers)}var hash=require("hash.js"),elliptic=require("../elliptic"),utils=elliptic.utils,assert=utils.assert;module.exports=HmacDRBG,HmacDRBG.prototype._init=function(entropy,nonce,pers){var seed=entropy.concat(nonce).concat(pers);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(seed),this.reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function(){return new hash.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function(seed){var kmac=this._hmac().update(this.V).update([0]);seed&&(kmac=kmac.update(seed)),this.K=kmac.digest(),this.V=this._hmac().update(this.V).digest(),seed&&(this.K=this._hmac().update(this.V).update([1]).update(seed).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function(entropy,entropyEnc,add,addEnc){"string"!=typeof entropyEnc&&(addEnc=add,add=entropyEnc,entropyEnc=null),entropy=utils.toBuffer(entropy,entropyEnc),add=utils.toBuffer(add,addEnc),assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(entropy.concat(add||[])),this.reseed=1},HmacDRBG.prototype.generate=function(len,enc,add,addEnc){if(this.reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof enc&&(addEnc=add,add=enc,enc=null),add&&(add=utils.toArray(add,addEnc),this._update(add));for(var temp=[];temp.length<len;)this.V=this._hmac().update(this.V).digest(),temp=temp.concat(this.V);var res=temp.slice(0,len);return this._update(add),this.reseed++,utils.encode(res,enc)}},{"../elliptic":147,"hash.js":176}],161:[function(require,module,exports){module.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]
}}},{}],162:[function(require,module,exports){"use strict";function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if("string"!=typeof msg){for(var i=0;i<msg.length;i++)res[i]=0|msg[i];return res}if(enc){if("hex"===enc){msg=msg.replace(/[^a-z0-9]+/gi,""),msg.length%2!==0&&(msg="0"+msg);for(var i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}}else for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i),hi=c>>8,lo=255&c;hi?res.push(hi,lo):res.push(lo)}return res}function zero2(word){return 1===word.length?"0"+word:word}function toHex(msg){for(var res="",i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}function getNAF(num,w){for(var naf=[],ws=1<<w+1,k=num.clone();k.cmpn(1)>=0;){var z;if(k.isOdd()){var mod=k.andln(ws-1);z=mod>(ws>>1)-1?(ws>>1)-mod:mod,k.isubn(z)}else z=0;naf.push(z);for(var shift=0!==k.cmpn(0)&&0===k.andln(ws-1)?w+1:1,i=1;shift>i;i++)naf.push(0);k.iushrn(shift)}return naf}function getJSF(k1,k2){var jsf=[[],[]];k1=k1.clone(),k2=k2.clone();for(var d1=0,d2=0;k1.cmpn(-d1)>0||k2.cmpn(-d2)>0;){var m14=k1.andln(3)+d1&3,m24=k2.andln(3)+d2&3;3===m14&&(m14=-1),3===m24&&(m24=-1);var u1;if(0===(1&m14))u1=0;else{var m8=k1.andln(7)+d1&7;u1=3!==m8&&5!==m8||2!==m24?m14:-m14}jsf[0].push(u1);var u2;if(0===(1&m24))u2=0;else{var m8=k2.andln(7)+d2&7;u2=3!==m8&&5!==m8||2!==m14?m24:-m24}jsf[1].push(u2),2*d1===u1+1&&(d1=1-d1),2*d2===u2+1&&(d2=1-d2),k1.iushrn(1),k2.iushrn(1)}return jsf}function cachedProperty(obj,name,computer){var key="_"+name;obj.prototype[name]=function(){return void 0!==this[key]?this[key]:this[key]=computer.call(this)}}function parseBytes(bytes){return"string"==typeof bytes?utils.toArray(bytes,"hex"):bytes}function intFromLE(bytes){return new BN(bytes,"hex","le")}var utils=exports,BN=require("bn.js");utils.assert=function(val,msg){if(!val)throw new Error(msg||"Assertion failed")},utils.toArray=toArray,utils.zero2=zero2,utils.toHex=toHex,utils.encode=function(arr,enc){return"hex"===enc?toHex(arr):arr},utils.getNAF=getNAF,utils.getJSF=getJSF,utils.cachedProperty=cachedProperty,utils.parseBytes=parseBytes,utils.intFromLE=intFromLE},{"bn.js":22}],163:[function(require,module,exports){module.exports={_args:[[{raw:"elliptic@^6.0.0",scope:null,escapedName:"elliptic",name:"elliptic",rawSpec:"^6.0.0",spec:">=6.0.0 <7.0.0",type:"range"},"/Users/mgechev/Projects/codelyzer/node_modules/browserify-sign"]],_from:"elliptic@>=6.0.0 <7.0.0",_id:"elliptic@6.3.2",_inCache:!0,_location:"/elliptic",_nodeVersion:"6.3.0",_npmOperationalInternal:{host:"packages-16-east.internal.npmjs.com",tmp:"tmp/elliptic-6.3.2.tgz_1473938837205_0.3108903462998569"},_npmUser:{name:"indutny",email:"fedor@indutny.com"},_npmVersion:"3.10.3",_phantomChildren:{},_requested:{raw:"elliptic@^6.0.0",scope:null,escapedName:"elliptic",name:"elliptic",rawSpec:"^6.0.0",spec:">=6.0.0 <7.0.0",type:"range"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"http://registry.npmjs.org/elliptic/-/elliptic-6.3.2.tgz",_shasum:"e4c81e0829cf0a65ab70e998b8232723b5c1bc48",_shrinkwrap:null,_spec:"elliptic@^6.0.0",_where:"/Users/mgechev/Projects/codelyzer/node_modules/browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0",inherits:"^2.0.1"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},directories:{},dist:{shasum:"e4c81e0829cf0a65ab70e998b8232723b5c1bc48",tarball:"https://registry.npmjs.org/elliptic/-/elliptic-6.3.2.tgz"},files:["lib"],gitHead:"cbace4683a4a548dc0306ef36756151a20299cd5",homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",maintainers:[{name:"indutny",email:"fedor@indutny.com"}],name:"elliptic",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.3.2"}},{}],164:[function(require,module,exports){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;var err=new Error('Uncaught, unspecified "error" event. ('+er+")");throw err.context=er,err}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1),handler.apply(this,args)}else if(isObject(handler))for(args=Array.prototype.slice.call(arguments,1),listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args);return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned&&(m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace())),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else if(listeners)for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;if(evlistener)return evlistener.length}return 0},EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)}},{}],165:[function(require,module,exports){(function(Buffer){function EVP_BytesToKey(password,salt,keyLen,ivLen){Buffer.isBuffer(password)||(password=new Buffer(password,"binary")),salt&&!Buffer.isBuffer(salt)&&(salt=new Buffer(salt,"binary")),keyLen/=8,ivLen=ivLen||0;for(var md_buf,i,ki=0,ii=0,key=new Buffer(keyLen),iv=new Buffer(ivLen),addmd=0,bufs=[];;){if(addmd++>0&&bufs.push(md_buf),bufs.push(password),salt&&bufs.push(salt),md_buf=md5(Buffer.concat(bufs)),bufs=[],i=0,keyLen>0)for(;;){if(0===keyLen)break;if(i===md_buf.length)break;key[ki++]=md_buf[i],keyLen--,i++}if(ivLen>0&&i!==md_buf.length)for(;;){if(0===ivLen)break;if(i===md_buf.length)break;iv[ii++]=md_buf[i],ivLen--,i++}if(0===keyLen&&0===ivLen)break}for(i=0;i<md_buf.length;i++)md_buf[i]=0;return{key:key,iv:iv}}var md5=require("create-hash/md5");module.exports=EVP_BytesToKey}).call(this,require("buffer").Buffer)},{buffer:53,"create-hash/md5":111}],166:[function(require,module,exports){function ignoreFunction(){}function createReturningFunction(value){return function(){return value}}function Parser(states){this.states=this.compileStates(states)}Parser.prototype.compileStates=function(states){var result={};return Object.keys(states).forEach(function(name){result[name]=this.compileState(states[name],states)},this),result},Parser.prototype.compileState=function(state,states){function iterator(str,value){regExps.push({groups:Parser.getGroupCount(str),regExp:str,value:value})}function processState(statePart){if(Array.isArray(statePart))statePart.forEach(processState);else if("object"==typeof statePart)Object.keys(statePart).forEach(function(key){iterator(key,statePart[key])});else{if("string"!=typeof statePart)throw new Error("Unexpected 'state' format");processState(states[statePart])}}var regExps=[];processState(state);var total=regExps.map(function(r){return"("+r.regExp+")"}).join("|"),actions=[],pos=1;return regExps.forEach(function(r){var fn;fn="function"==typeof r.value?r.value:"string"==typeof r.value?createReturningFunction(r.value):ignoreFunction,actions.push({name:r.regExp,fn:fn,pos:pos,pos2:pos+r.groups+1}),pos+=r.groups+1}),{regExp:new RegExp(total,"g"),actions:actions}},Parser.getGroupCount=function(regExpStr){return new RegExp("("+regExpStr+")|^$").exec("").length-2},Parser.prototype.parse=function(initialState,string,context){context=context||{};for(var currentState=initialState,currentIndex=0;;){var state=this.states[currentState],regExp=state.regExp;regExp.lastIndex=currentIndex;var match=regExp.exec(string);if(!match)return context;var actions=state.actions;currentIndex=state.regExp.lastIndex;for(var i=0;i<actions.length;i++){var action=actions[i];if(match[action.pos]){var ret=action.fn.apply(context,Array.prototype.slice.call(match,action.pos,action.pos2).concat([state.regExp.lastIndex-match[0].length,match[0].length]));if(ret){if(!(ret in this.states))throw new Error("State '"+ret+"' doesn't exist");currentState=ret}break}}}},module.exports=Parser},{}],167:[function(require,module,exports){"use strict";var path=require("path"),glob=require("glob");module.exports=function(patterns,options){Array.isArray(patterns)||(patterns=[patterns]);var globOptions=Object.create(options||{});globOptions.maxDepth=1,globOptions.cwd=path.resolve(globOptions.cwd||".");var files,lastpath;do{if(files=patterns.map(function(pattern){return glob.sync(pattern,globOptions)}).reduce(function(a,b){return a.concat(b)}).filter(function(entry,index,arr){return index===arr.indexOf(entry)}),files.length>0)return path.resolve(path.join(globOptions.cwd,files[0]));lastpath=globOptions.cwd,globOptions.cwd=path.resolve(globOptions.cwd,"..")}while(globOptions.cwd!==lastpath);return null}},{glob:169,path:196}],168:[function(require,module,exports){(function(process){function ownProp(obj,field){return Object.prototype.hasOwnProperty.call(obj,field)}function alphasorti(a,b){return a.toLowerCase().localeCompare(b.toLowerCase())}function alphasort(a,b){return a.localeCompare(b)}function setupIgnores(self,options){self.ignore=options.ignore||[],Array.isArray(self.ignore)||(self.ignore=[self.ignore]),self.ignore.length&&(self.ignore=self.ignore.map(ignoreMap))}function ignoreMap(pattern){var gmatcher=null;if("/**"===pattern.slice(-3)){var gpattern=pattern.replace(/(\/\*\*)+$/,"");gmatcher=new Minimatch(gpattern)}return{matcher:new Minimatch(pattern),gmatcher:gmatcher}}function setopts(self,pattern,options){if(options||(options={}),options.matchBase&&-1===pattern.indexOf("/")){if(options.noglobstar)throw new Error("base matching requires globstar");pattern="**/"+pattern}self.silent=!!options.silent,self.pattern=pattern,self.strict=options.strict!==!1,self.realpath=!!options.realpath,self.realpathCache=options.realpathCache||Object.create(null),self.follow=!!options.follow,self.dot=!!options.dot,self.mark=!!options.mark,self.nodir=!!options.nodir,self.nodir&&(self.mark=!0),self.sync=!!options.sync,self.nounique=!!options.nounique,self.nonull=!!options.nonull,self.nosort=!!options.nosort,self.nocase=!!options.nocase,self.stat=!!options.stat,self.noprocess=!!options.noprocess,self.maxLength=options.maxLength||1/0,self.cache=options.cache||Object.create(null),self.statCache=options.statCache||Object.create(null),self.symlinks=options.symlinks||Object.create(null),setupIgnores(self,options),self.changedCwd=!1;var cwd=process.cwd();ownProp(options,"cwd")?(self.cwd=options.cwd,self.changedCwd=path.resolve(options.cwd)!==cwd):self.cwd=cwd,self.root=options.root||path.resolve(self.cwd,"/"),self.root=path.resolve(self.root),"win32"===process.platform&&(self.root=self.root.replace(/\\/g,"/")),self.nomount=!!options.nomount,options.nonegate=options.nonegate===!1?!1:!0,options.nocomment=options.nocomment===!1?!1:!0,deprecationWarning(options),self.minimatch=new Minimatch(pattern,options),self.options=self.minimatch.options}function deprecationWarning(options){if(!(options.nonegate&&options.nocomment||process.noDeprecation===!0||exports.deprecationWarned)){var msg="glob WARNING: comments and negation will be disabled in v6";if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),exports.deprecationWarned=!0}}function finish(self){for(var nou=self.nounique,all=nou?[]:Object.create(null),i=0,l=self.matches.length;l>i;i++){var matches=self.matches[i];if(matches&&0!==Object.keys(matches).length){var m=Object.keys(matches);nou?all.push.apply(all,m):m.forEach(function(m){all[m]=!0})}else if(self.nonull){var literal=self.minimatch.globSet[i];nou?all.push(literal):all[literal]=!0}}if(nou||(all=Object.keys(all)),self.nosort||(all=all.sort(self.nocase?alphasorti:alphasort)),self.mark){for(var i=0;i<all.length;i++)all[i]=self._mark(all[i]);self.nodir&&(all=all.filter(function(e){return!/\/$/.test(e)}))}self.ignore.length&&(all=all.filter(function(m){return!isIgnored(self,m)})),self.found=all}function mark(self,p){var abs=makeAbs(self,p),c=self.cache[abs],m=p;if(c){var isDir="DIR"===c||Array.isArray(c),slash="/"===p.slice(-1);if(isDir&&!slash?m+="/":!isDir&&slash&&(m=m.slice(0,-1)),m!==p){var mabs=makeAbs(self,m);self.statCache[mabs]=self.statCache[abs],self.cache[mabs]=self.cache[abs]}}return m}function makeAbs(self,f){var abs=f;return abs="/"===f.charAt(0)?path.join(self.root,f):isAbsolute(f)||""===f?f:self.changedCwd?path.resolve(self.cwd,f):path.resolve(f)}function isIgnored(self,path){return self.ignore.length?self.ignore.some(function(item){return item.matcher.match(path)||!(!item.gmatcher||!item.gmatcher.match(path))}):!1}function childrenIgnored(self,path){return self.ignore.length?self.ignore.some(function(item){return!(!item.gmatcher||!item.gmatcher.match(path))}):!1}exports.alphasort=alphasort,exports.alphasorti=alphasorti,exports.setopts=setopts,exports.ownProp=ownProp,exports.makeAbs=makeAbs,exports.finish=finish,exports.mark=mark,exports.isIgnored=isIgnored,exports.childrenIgnored=childrenIgnored;var path=require("path"),minimatch=require("minimatch"),isAbsolute=require("path-is-absolute"),Minimatch=minimatch.Minimatch;exports.deprecationWarned}).call(this,require("_process"))},{_process:201,minimatch:190,path:196,"path-is-absolute":197}],169:[function(require,module,exports){(function(process){function glob(pattern,options,cb){if("function"==typeof options&&(cb=options,options={}),options||(options={}),options.sync){if(cb)throw new TypeError("callback provided to sync glob");return globSync(pattern,options)}return new Glob(pattern,options,cb)}function Glob(pattern,options,cb){function done(){--self._processing,self._processing<=0&&self._finish()}if("function"==typeof options&&(cb=options,options=null),options&&options.sync){if(cb)throw new TypeError("callback provided to sync glob");return new GlobSync(pattern,options)}if(!(this instanceof Glob))return new Glob(pattern,options,cb);setopts(this,pattern,options),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),"function"==typeof cb&&(cb=once(cb),this.on("error",cb),this.on("end",function(matches){cb(null,matches)}));var self=this,n=this.minimatch.set.length;if(this._processing=0,this.matches=new Array(n),this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return done();for(var i=0;n>i;i++)this._process(this.minimatch.set[i],i,!1,done)}function readdirCb(self,abs,cb){return function(er,entries){er?self._readdirError(abs,er,cb):self._readdirEntries(abs,entries,cb)}}module.exports=glob;var fs=require("fs"),minimatch=require("minimatch"),inherits=(minimatch.Minimatch,require("inherits")),EE=require("events").EventEmitter,path=require("path"),assert=require("assert"),isAbsolute=require("path-is-absolute"),globSync=require("./sync.js"),common=require("./common.js"),setopts=(common.alphasort,common.alphasorti,common.setopts),ownProp=common.ownProp,inflight=require("inflight"),util=require("util"),childrenIgnored=common.childrenIgnored,isIgnored=common.isIgnored,once=require("once");glob.sync=globSync;var GlobSync=glob.GlobSync=globSync.GlobSync;glob.glob=glob,glob.hasMagic=function(pattern,options_){var options=util._extend({},options_);options.noprocess=!0;var g=new Glob(pattern,options),set=g.minimatch.set;if(set.length>1)return!0;for(var j=0;j<set[0].length;j++)if("string"!=typeof set[0][j])return!0;return!1},glob.Glob=Glob,inherits(Glob,EE),Glob.prototype._finish=function(){if(assert(this instanceof Glob),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();common.finish(this),this.emit("end",this.found)}},Glob.prototype._realpath=function(){function next(){0===--n&&self._finish()}if(!this._didRealpath){this._didRealpath=!0;var n=this.matches.length;if(0===n)return this._finish();for(var self=this,i=0;i<this.matches.length;i++)this._realpathSet(i,next)}},Glob.prototype._realpathSet=function(index,cb){var matchset=this.matches[index];if(!matchset)return cb();var found=Object.keys(matchset),self=this,n=found.length;if(0===n)return cb();var set=this.matches[index]=Object.create(null);found.forEach(function(p,i){p=self._makeAbs(p),fs.realpath(p,self.realpathCache,function(er,real){er?"stat"===er.syscall?set[p]=!0:self.emit("error",er):set[real]=!0,0===--n&&(self.matches[index]=set,cb())})})},Glob.prototype._mark=function(p){return common.mark(this,p)},Glob.prototype._makeAbs=function(f){return common.makeAbs(this,f)},Glob.prototype.abort=function(){this.aborted=!0,this.emit("abort")},Glob.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},Glob.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var eq=this._emitQueue.slice(0);this._emitQueue.length=0;for(var i=0;i<eq.length;i++){var e=eq[i];this._emitMatch(e[0],e[1])}}if(this._processQueue.length){var pq=this._processQueue.slice(0);this._processQueue.length=0;for(var i=0;i<pq.length;i++){var p=pq[i];this._processing--,this._process(p[0],p[1],p[2],p[3])}}}},Glob.prototype._process=function(pattern,index,inGlobStar,cb){if(assert(this instanceof Glob),assert("function"==typeof cb),!this.aborted){if(this._processing++,this.paused)return void this._processQueue.push([pattern,index,inGlobStar,cb]);for(var n=0;"string"==typeof pattern[n];)n++;var prefix;switch(n){case pattern.length:return void this._processSimple(pattern.join("/"),index,cb);case 0:prefix=null;break;default:prefix=pattern.slice(0,n).join("/")}var read,remain=pattern.slice(n);null===prefix?read=".":isAbsolute(prefix)||isAbsolute(pattern.join("/"))?(prefix&&isAbsolute(prefix)||(prefix="/"+prefix),read=prefix):read=prefix;var abs=this._makeAbs(read);if(childrenIgnored(this,read))return cb();var isGlobStar=remain[0]===minimatch.GLOBSTAR;isGlobStar?this._processGlobStar(prefix,read,abs,remain,index,inGlobStar,cb):this._processReaddir(prefix,read,abs,remain,index,inGlobStar,cb)}},Glob.prototype._processReaddir=function(prefix,read,abs,remain,index,inGlobStar,cb){var self=this;this._readdir(abs,inGlobStar,function(er,entries){return self._processReaddir2(prefix,read,abs,remain,index,inGlobStar,entries,cb)})},Glob.prototype._processReaddir2=function(prefix,read,abs,remain,index,inGlobStar,entries,cb){if(!entries)return cb();for(var pn=remain[0],negate=!!this.minimatch.negate,rawGlob=pn._glob,dotOk=this.dot||"."===rawGlob.charAt(0),matchedEntries=[],i=0;i<entries.length;i++){var e=entries[i];if("."!==e.charAt(0)||dotOk){var m;m=negate&&!prefix?!e.match(pn):e.match(pn),m&&matchedEntries.push(e)}}var len=matchedEntries.length;if(0===len)return cb();if(1===remain.length&&!this.mark&&!this.stat){this.matches[index]||(this.matches[index]=Object.create(null));for(var i=0;len>i;i++){var e=matchedEntries[i];prefix&&(e="/"!==prefix?prefix+"/"+e:prefix+e),"/"!==e.charAt(0)||this.nomount||(e=path.join(this.root,e)),this._emitMatch(index,e)}return cb()}remain.shift();for(var i=0;len>i;i++){var e=matchedEntries[i];prefix&&(e="/"!==prefix?prefix+"/"+e:prefix+e),this._process([e].concat(remain),index,inGlobStar,cb)}cb()},Glob.prototype._emitMatch=function(index,e){if(!this.aborted&&!this.matches[index][e]&&!isIgnored(this,e)){if(this.paused)return void this._emitQueue.push([index,e]);var abs=this._makeAbs(e);if(this.nodir){var c=this.cache[abs];if("DIR"===c||Array.isArray(c))return}this.mark&&(e=this._mark(e)),this.matches[index][e]=!0;var st=this.statCache[abs];st&&this.emit("stat",e,st),this.emit("match",e)}},Glob.prototype._readdirInGlobStar=function(abs,cb){function lstatcb_(er,lstat){if(er)return cb();var isSym=lstat.isSymbolicLink();self.symlinks[abs]=isSym,isSym||lstat.isDirectory()?self._readdir(abs,!1,cb):(self.cache[abs]="FILE",cb())}if(!this.aborted){if(this.follow)return this._readdir(abs,!1,cb);var lstatkey="lstat\x00"+abs,self=this,lstatcb=inflight(lstatkey,lstatcb_);lstatcb&&fs.lstat(abs,lstatcb)}},Glob.prototype._readdir=function(abs,inGlobStar,cb){if(!this.aborted&&(cb=inflight("readdir\x00"+abs+"\x00"+inGlobStar,cb))){if(inGlobStar&&!ownProp(this.symlinks,abs))return this._readdirInGlobStar(abs,cb);if(ownProp(this.cache,abs)){var c=this.cache[abs];if(!c||"FILE"===c)return cb();if(Array.isArray(c))return cb(null,c)}fs.readdir(abs,readdirCb(this,abs,cb))}},Glob.prototype._readdirEntries=function(abs,entries,cb){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<entries.length;i++){var e=entries[i];e="/"===abs?abs+e:abs+"/"+e,this.cache[e]=!0}return this.cache[abs]=entries,cb(null,entries)}},Glob.prototype._readdirError=function(f,er,cb){if(!this.aborted){switch(er.code){case"ENOTSUP":case"ENOTDIR":this.cache[this._makeAbs(f)]="FILE";break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(f)]=!1;break;default:this.cache[this._makeAbs(f)]=!1,this.strict&&(this.emit("error",er),this.abort()),this.silent||console.error("glob error",er)}return cb()}},Glob.prototype._processGlobStar=function(prefix,read,abs,remain,index,inGlobStar,cb){var self=this;this._readdir(abs,inGlobStar,function(er,entries){self._processGlobStar2(prefix,read,abs,remain,index,inGlobStar,entries,cb)})},Glob.prototype._processGlobStar2=function(prefix,read,abs,remain,index,inGlobStar,entries,cb){if(!entries)return cb();var remainWithoutGlobStar=remain.slice(1),gspref=prefix?[prefix]:[],noGlobStar=gspref.concat(remainWithoutGlobStar);this._process(noGlobStar,index,!1,cb);var isSym=this.symlinks[abs],len=entries.length;if(isSym&&inGlobStar)return cb();for(var i=0;len>i;i++){var e=entries[i];if("."!==e.charAt(0)||this.dot){var instead=gspref.concat(entries[i],remainWithoutGlobStar);this._process(instead,index,!0,cb);var below=gspref.concat(entries[i],remain);this._process(below,index,!0,cb)}}cb()},Glob.prototype._processSimple=function(prefix,index,cb){var self=this;this._stat(prefix,function(er,exists){self._processSimple2(prefix,index,er,exists,cb)})},Glob.prototype._processSimple2=function(prefix,index,er,exists,cb){if(this.matches[index]||(this.matches[index]=Object.create(null)),!exists)return cb();if(prefix&&isAbsolute(prefix)&&!this.nomount){var trail=/[\/\\]$/.test(prefix);"/"===prefix.charAt(0)?prefix=path.join(this.root,prefix):(prefix=path.resolve(this.root,prefix),trail&&(prefix+="/"))}"win32"===process.platform&&(prefix=prefix.replace(/\\/g,"/")),this._emitMatch(index,prefix),cb()},Glob.prototype._stat=function(f,cb){function lstatcb_(er,lstat){return lstat&&lstat.isSymbolicLink()?fs.stat(abs,function(er,stat){er?self._stat2(f,abs,null,lstat,cb):self._stat2(f,abs,er,stat,cb)}):void self._stat2(f,abs,er,lstat,cb)}var abs=this._makeAbs(f),needDir="/"===f.slice(-1);if(f.length>this.maxLength)return cb();if(!this.stat&&ownProp(this.cache,abs)){var c=this.cache[abs];if(Array.isArray(c)&&(c="DIR"),!needDir||"DIR"===c)return cb(null,c);if(needDir&&"FILE"===c)return cb()}var stat=this.statCache[abs];if(void 0!==stat){if(stat===!1)return cb(null,stat);var type=stat.isDirectory()?"DIR":"FILE";return needDir&&"FILE"===type?cb():cb(null,type,stat)}var self=this,statcb=inflight("stat\x00"+abs,lstatcb_);statcb&&fs.lstat(abs,statcb)},Glob.prototype._stat2=function(f,abs,er,stat,cb){if(er)return this.statCache[abs]=!1,cb();var needDir="/"===f.slice(-1);if(this.statCache[abs]=stat,"/"===abs.slice(-1)&&!stat.isDirectory())return cb(null,!1,stat);var c=stat.isDirectory()?"DIR":"FILE";return this.cache[abs]=this.cache[abs]||c,needDir&&"DIR"!==c?cb():cb(null,c,stat)}}).call(this,require("_process"))},{"./common.js":168,"./sync.js":170,_process:201,assert:19,events:164,fs:50,inflight:184,inherits:185,minimatch:190,once:191,path:196,"path-is-absolute":197,util:370}],170:[function(require,module,exports){(function(process){function globSync(pattern,options){if("function"==typeof options||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new GlobSync(pattern,options).found}function GlobSync(pattern,options){if(!pattern)throw new Error("must provide pattern");if("function"==typeof options||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof GlobSync))return new GlobSync(pattern,options);if(setopts(this,pattern,options),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var i=0;n>i;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}module.exports=globSync,globSync.GlobSync=GlobSync;var fs=require("fs"),minimatch=require("minimatch"),path=(minimatch.Minimatch,require("./glob.js").Glob,require("util"),require("path")),assert=require("assert"),isAbsolute=require("path-is-absolute"),common=require("./common.js"),setopts=(common.alphasort,common.alphasorti,common.setopts),ownProp=common.ownProp,childrenIgnored=common.childrenIgnored;GlobSync.prototype._finish=function(){if(assert(this instanceof GlobSync),this.realpath){var self=this;this.matches.forEach(function(matchset,index){var set=self.matches[index]=Object.create(null);for(var p in matchset)try{p=self._makeAbs(p);var real=fs.realpathSync(p,self.realpathCache);set[real]=!0}catch(er){if("stat"!==er.syscall)throw er;set[self._makeAbs(p)]=!0}})}common.finish(this)},GlobSync.prototype._process=function(pattern,index,inGlobStar){assert(this instanceof GlobSync);for(var n=0;"string"==typeof pattern[n];)n++;var prefix;switch(n){case pattern.length:return void this._processSimple(pattern.join("/"),index);case 0:prefix=null;break;default:prefix=pattern.slice(0,n).join("/")}var read,remain=pattern.slice(n);null===prefix?read=".":isAbsolute(prefix)||isAbsolute(pattern.join("/"))?(prefix&&isAbsolute(prefix)||(prefix="/"+prefix),read=prefix):read=prefix;var abs=this._makeAbs(read);if(!childrenIgnored(this,read)){var isGlobStar=remain[0]===minimatch.GLOBSTAR;isGlobStar?this._processGlobStar(prefix,read,abs,remain,index,inGlobStar):this._processReaddir(prefix,read,abs,remain,index,inGlobStar)}},GlobSync.prototype._processReaddir=function(prefix,read,abs,remain,index,inGlobStar){var entries=this._readdir(abs,inGlobStar);if(entries){for(var pn=remain[0],negate=!!this.minimatch.negate,rawGlob=pn._glob,dotOk=this.dot||"."===rawGlob.charAt(0),matchedEntries=[],i=0;i<entries.length;i++){var e=entries[i];if("."!==e.charAt(0)||dotOk){var m;m=negate&&!prefix?!e.match(pn):e.match(pn),m&&matchedEntries.push(e)}}var len=matchedEntries.length;if(0!==len)if(1!==remain.length||this.mark||this.stat){remain.shift();for(var i=0;len>i;i++){var newPattern,e=matchedEntries[i];newPattern=prefix?[prefix,e]:[e],this._process(newPattern.concat(remain),index,inGlobStar)}}else{this.matches[index]||(this.matches[index]=Object.create(null));for(var i=0;len>i;i++){var e=matchedEntries[i];prefix&&(e="/"!==prefix.slice(-1)?prefix+"/"+e:prefix+e),"/"!==e.charAt(0)||this.nomount||(e=path.join(this.root,e)),this.matches[index][e]=!0}}}},GlobSync.prototype._emitMatch=function(index,e){this._makeAbs(e);if(this.mark&&(e=this._mark(e)),!this.matches[index][e]){if(this.nodir){var c=this.cache[this._makeAbs(e)];if("DIR"===c||Array.isArray(c))return}this.matches[index][e]=!0,this.stat&&this._stat(e)}},GlobSync.prototype._readdirInGlobStar=function(abs){if(this.follow)return this._readdir(abs,!1);var entries,lstat;try{lstat=fs.lstatSync(abs)}catch(er){return null}var isSym=lstat.isSymbolicLink();return this.symlinks[abs]=isSym,isSym||lstat.isDirectory()?entries=this._readdir(abs,!1):this.cache[abs]="FILE",entries},GlobSync.prototype._readdir=function(abs,inGlobStar){if(inGlobStar&&!ownProp(this.symlinks,abs))return this._readdirInGlobStar(abs);if(ownProp(this.cache,abs)){var c=this.cache[abs];if(!c||"FILE"===c)return null;if(Array.isArray(c))return c}try{return this._readdirEntries(abs,fs.readdirSync(abs))}catch(er){return this._readdirError(abs,er),null}},GlobSync.prototype._readdirEntries=function(abs,entries){if(!this.mark&&!this.stat)for(var i=0;i<entries.length;i++){
var e=entries[i];e="/"===abs?abs+e:abs+"/"+e,this.cache[e]=!0}return this.cache[abs]=entries,entries},GlobSync.prototype._readdirError=function(f,er){switch(er.code){case"ENOTSUP":case"ENOTDIR":this.cache[this._makeAbs(f)]="FILE";break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(f)]=!1;break;default:if(this.cache[this._makeAbs(f)]=!1,this.strict)throw er;this.silent||console.error("glob error",er)}},GlobSync.prototype._processGlobStar=function(prefix,read,abs,remain,index,inGlobStar){var entries=this._readdir(abs,inGlobStar);if(entries){var remainWithoutGlobStar=remain.slice(1),gspref=prefix?[prefix]:[],noGlobStar=gspref.concat(remainWithoutGlobStar);this._process(noGlobStar,index,!1);var len=entries.length,isSym=this.symlinks[abs];if(!isSym||!inGlobStar)for(var i=0;len>i;i++){var e=entries[i];if("."!==e.charAt(0)||this.dot){var instead=gspref.concat(entries[i],remainWithoutGlobStar);this._process(instead,index,!0);var below=gspref.concat(entries[i],remain);this._process(below,index,!0)}}}},GlobSync.prototype._processSimple=function(prefix,index){var exists=this._stat(prefix);if(this.matches[index]||(this.matches[index]=Object.create(null)),exists){if(prefix&&isAbsolute(prefix)&&!this.nomount){var trail=/[\/\\]$/.test(prefix);"/"===prefix.charAt(0)?prefix=path.join(this.root,prefix):(prefix=path.resolve(this.root,prefix),trail&&(prefix+="/"))}"win32"===process.platform&&(prefix=prefix.replace(/\\/g,"/")),this.matches[index][prefix]=!0}},GlobSync.prototype._stat=function(f){var abs=this._makeAbs(f),needDir="/"===f.slice(-1);if(f.length>this.maxLength)return!1;if(!this.stat&&ownProp(this.cache,abs)){var c=this.cache[abs];if(Array.isArray(c)&&(c="DIR"),!needDir||"DIR"===c)return c;if(needDir&&"FILE"===c)return!1}var stat=this.statCache[abs];if(!stat){var lstat;try{lstat=fs.lstatSync(abs)}catch(er){return!1}if(lstat.isSymbolicLink())try{stat=fs.statSync(abs)}catch(er){stat=lstat}else stat=lstat}this.statCache[abs]=stat;var c=stat.isDirectory()?"DIR":"FILE";return this.cache[abs]=this.cache[abs]||c,needDir&&"DIR"!==c?!1:c},GlobSync.prototype._mark=function(p){return common.mark(this,p)},GlobSync.prototype._makeAbs=function(f){return common.makeAbs(this,f)}}).call(this,require("_process"))},{"./common.js":168,"./glob.js":169,_process:201,assert:19,fs:50,minimatch:190,path:196,"path-is-absolute":197,util:370}],171:[function(require,module,exports){(function(process){function newError(er){return er&&"realpath"===er.syscall&&("ELOOP"===er.code||"ENOMEM"===er.code||"ENAMETOOLONG"===er.code)}function realpath(p,cache,cb){return ok?origRealpath(p,cache,cb):("function"==typeof cache&&(cb=cache,cache=null),void origRealpath(p,cache,function(er,result){newError(er)?old.realpath(p,cache,cb):cb(er,result)}))}function realpathSync(p,cache){if(ok)return origRealpathSync(p,cache);try{return origRealpathSync(p,cache)}catch(er){if(newError(er))return old.realpathSync(p,cache);throw er}}function monkeypatch(){fs.realpath=realpath,fs.realpathSync=realpathSync}function unmonkeypatch(){fs.realpath=origRealpath,fs.realpathSync=origRealpathSync}module.exports=realpath,realpath.realpath=realpath,realpath.sync=realpathSync,realpath.realpathSync=realpathSync,realpath.monkeypatch=monkeypatch,realpath.unmonkeypatch=unmonkeypatch;var fs=require("fs"),origRealpath=fs.realpath,origRealpathSync=fs.realpathSync,version=process.version,ok=/^v[0-5]\./.test(version),old=require("./old.js")}).call(this,require("_process"))},{"./old.js":172,_process:201,fs:50}],172:[function(require,module,exports){(function(process){function rethrow(){function debugCallback(err){err&&(backtrace.message=err.message,err=backtrace,missingCallback(err))}function missingCallback(err){if(err){if(process.throwDeprecation)throw err;if(!process.noDeprecation){var msg="fs: missing callback "+(err.stack||err.message);process.traceDeprecation?console.trace(msg):console.error(msg)}}}var callback;if(DEBUG){var backtrace=new Error;callback=debugCallback}else callback=missingCallback;return callback}function maybeCallback(cb){return"function"==typeof cb?cb:rethrow()}var pathModule=require("path"),isWindows="win32"===process.platform,fs=require("fs"),DEBUG=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);pathModule.normalize;if(isWindows)var nextPartRe=/(.*?)(?:[\/\\]+|$)/g;else var nextPartRe=/(.*?)(?:[\/]+|$)/g;if(isWindows)var splitRootRe=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else var splitRootRe=/^[\/]*/;exports.realpathSync=function(p,cache){function start(){var m=splitRootRe.exec(p);pos=m[0].length,current=m[0],base=m[0],previous="",isWindows&&!knownHard[base]&&(fs.lstatSync(base),knownHard[base]=!0)}if(p=pathModule.resolve(p),cache&&Object.prototype.hasOwnProperty.call(cache,p))return cache[p];var pos,current,base,previous,original=p,seenLinks={},knownHard={};for(start();pos<p.length;){nextPartRe.lastIndex=pos;var result=nextPartRe.exec(p);if(previous=current,current+=result[0],base=previous+result[1],pos=nextPartRe.lastIndex,!(knownHard[base]||cache&&cache[base]===base)){var resolvedLink;if(cache&&Object.prototype.hasOwnProperty.call(cache,base))resolvedLink=cache[base];else{var stat=fs.lstatSync(base);if(!stat.isSymbolicLink()){knownHard[base]=!0,cache&&(cache[base]=base);continue}var linkTarget=null;if(!isWindows){var id=stat.dev.toString(32)+":"+stat.ino.toString(32);seenLinks.hasOwnProperty(id)&&(linkTarget=seenLinks[id])}null===linkTarget&&(fs.statSync(base),linkTarget=fs.readlinkSync(base)),resolvedLink=pathModule.resolve(previous,linkTarget),cache&&(cache[base]=resolvedLink),isWindows||(seenLinks[id]=linkTarget)}p=pathModule.resolve(resolvedLink,p.slice(pos)),start()}}return cache&&(cache[original]=p),p},exports.realpath=function(p,cache,cb){function start(){var m=splitRootRe.exec(p);pos=m[0].length,current=m[0],base=m[0],previous="",isWindows&&!knownHard[base]?fs.lstat(base,function(err){return err?cb(err):(knownHard[base]=!0,void LOOP())}):process.nextTick(LOOP)}function LOOP(){if(pos>=p.length)return cache&&(cache[original]=p),cb(null,p);nextPartRe.lastIndex=pos;var result=nextPartRe.exec(p);return previous=current,current+=result[0],base=previous+result[1],pos=nextPartRe.lastIndex,knownHard[base]||cache&&cache[base]===base?process.nextTick(LOOP):cache&&Object.prototype.hasOwnProperty.call(cache,base)?gotResolvedLink(cache[base]):fs.lstat(base,gotStat)}function gotStat(err,stat){if(err)return cb(err);if(!stat.isSymbolicLink())return knownHard[base]=!0,cache&&(cache[base]=base),process.nextTick(LOOP);if(!isWindows){var id=stat.dev.toString(32)+":"+stat.ino.toString(32);if(seenLinks.hasOwnProperty(id))return gotTarget(null,seenLinks[id],base)}fs.stat(base,function(err){return err?cb(err):void fs.readlink(base,function(err,target){isWindows||(seenLinks[id]=target),gotTarget(err,target)})})}function gotTarget(err,target,base){if(err)return cb(err);var resolvedLink=pathModule.resolve(previous,target);cache&&(cache[base]=resolvedLink),gotResolvedLink(resolvedLink)}function gotResolvedLink(resolvedLink){p=pathModule.resolve(resolvedLink,p.slice(pos)),start()}if("function"!=typeof cb&&(cb=maybeCallback(cache),cache=null),p=pathModule.resolve(p),cache&&Object.prototype.hasOwnProperty.call(cache,p))return process.nextTick(cb.bind(null,null,cache[p]));var pos,current,base,previous,original=p,seenLinks={},knownHard={};start()}}).call(this,require("_process"))},{_process:201,fs:50,path:196}],173:[function(require,module,exports){(function(process){function ownProp(obj,field){return Object.prototype.hasOwnProperty.call(obj,field)}function alphasorti(a,b){return a.toLowerCase().localeCompare(b.toLowerCase())}function alphasort(a,b){return a.localeCompare(b)}function setupIgnores(self,options){self.ignore=options.ignore||[],Array.isArray(self.ignore)||(self.ignore=[self.ignore]),self.ignore.length&&(self.ignore=self.ignore.map(ignoreMap))}function ignoreMap(pattern){var gmatcher=null;if("/**"===pattern.slice(-3)){var gpattern=pattern.replace(/(\/\*\*)+$/,"");gmatcher=new Minimatch(gpattern,{dot:!0})}return{matcher:new Minimatch(pattern,{dot:!0}),gmatcher:gmatcher}}function setopts(self,pattern,options){if(options||(options={}),options.matchBase&&-1===pattern.indexOf("/")){if(options.noglobstar)throw new Error("base matching requires globstar");pattern="**/"+pattern}self.silent=!!options.silent,self.pattern=pattern,self.strict=options.strict!==!1,self.realpath=!!options.realpath,self.realpathCache=options.realpathCache||Object.create(null),self.follow=!!options.follow,self.dot=!!options.dot,self.mark=!!options.mark,self.nodir=!!options.nodir,self.nodir&&(self.mark=!0),self.sync=!!options.sync,self.nounique=!!options.nounique,self.nonull=!!options.nonull,self.nosort=!!options.nosort,self.nocase=!!options.nocase,self.stat=!!options.stat,self.noprocess=!!options.noprocess,self.absolute=!!options.absolute,self.maxLength=options.maxLength||1/0,self.cache=options.cache||Object.create(null),self.statCache=options.statCache||Object.create(null),self.symlinks=options.symlinks||Object.create(null),setupIgnores(self,options),self.changedCwd=!1;var cwd=process.cwd();ownProp(options,"cwd")?(self.cwd=path.resolve(options.cwd),self.changedCwd=self.cwd!==cwd):self.cwd=cwd,self.root=options.root||path.resolve(self.cwd,"/"),self.root=path.resolve(self.root),"win32"===process.platform&&(self.root=self.root.replace(/\\/g,"/")),self.cwdAbs=isAbsolute(self.cwd)?self.cwd:makeAbs(self,self.cwd),"win32"===process.platform&&(self.cwdAbs=self.cwdAbs.replace(/\\/g,"/")),self.nomount=!!options.nomount,options.nonegate=!0,options.nocomment=!0,self.minimatch=new Minimatch(pattern,options),self.options=self.minimatch.options}function finish(self){for(var nou=self.nounique,all=nou?[]:Object.create(null),i=0,l=self.matches.length;l>i;i++){var matches=self.matches[i];if(matches&&0!==Object.keys(matches).length){var m=Object.keys(matches);nou?all.push.apply(all,m):m.forEach(function(m){all[m]=!0})}else if(self.nonull){var literal=self.minimatch.globSet[i];nou?all.push(literal):all[literal]=!0}}if(nou||(all=Object.keys(all)),self.nosort||(all=all.sort(self.nocase?alphasorti:alphasort)),self.mark){for(var i=0;i<all.length;i++)all[i]=self._mark(all[i]);self.nodir&&(all=all.filter(function(e){var notDir=!/\/$/.test(e),c=self.cache[e]||self.cache[makeAbs(self,e)];return notDir&&c&&(notDir="DIR"!==c&&!Array.isArray(c)),notDir}))}self.ignore.length&&(all=all.filter(function(m){return!isIgnored(self,m)})),self.found=all}function mark(self,p){var abs=makeAbs(self,p),c=self.cache[abs],m=p;if(c){var isDir="DIR"===c||Array.isArray(c),slash="/"===p.slice(-1);if(isDir&&!slash?m+="/":!isDir&&slash&&(m=m.slice(0,-1)),m!==p){var mabs=makeAbs(self,m);self.statCache[mabs]=self.statCache[abs],self.cache[mabs]=self.cache[abs]}}return m}function makeAbs(self,f){var abs=f;return abs="/"===f.charAt(0)?path.join(self.root,f):isAbsolute(f)||""===f?f:self.changedCwd?path.resolve(self.cwd,f):path.resolve(f),"win32"===process.platform&&(abs=abs.replace(/\\/g,"/")),abs}function isIgnored(self,path){return self.ignore.length?self.ignore.some(function(item){return item.matcher.match(path)||!(!item.gmatcher||!item.gmatcher.match(path))}):!1}function childrenIgnored(self,path){return self.ignore.length?self.ignore.some(function(item){return!(!item.gmatcher||!item.gmatcher.match(path))}):!1}exports.alphasort=alphasort,exports.alphasorti=alphasorti,exports.setopts=setopts,exports.ownProp=ownProp,exports.makeAbs=makeAbs,exports.finish=finish,exports.mark=mark,exports.isIgnored=isIgnored,exports.childrenIgnored=childrenIgnored;var path=require("path"),minimatch=require("minimatch"),isAbsolute=require("path-is-absolute"),Minimatch=minimatch.Minimatch}).call(this,require("_process"))},{_process:201,minimatch:190,path:196,"path-is-absolute":197}],174:[function(require,module,exports){(function(process){function glob(pattern,options,cb){if("function"==typeof options&&(cb=options,options={}),options||(options={}),options.sync){if(cb)throw new TypeError("callback provided to sync glob");return globSync(pattern,options)}return new Glob(pattern,options,cb)}function extend(origin,add){if(null===add||"object"!=typeof add)return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}function Glob(pattern,options,cb){function done(){--self._processing,self._processing<=0&&(sync?process.nextTick(function(){self._finish()}):self._finish())}if("function"==typeof options&&(cb=options,options=null),options&&options.sync){if(cb)throw new TypeError("callback provided to sync glob");return new GlobSync(pattern,options)}if(!(this instanceof Glob))return new Glob(pattern,options,cb);setopts(this,pattern,options),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),"function"==typeof cb&&(cb=once(cb),this.on("error",cb),this.on("end",function(matches){cb(null,matches)}));var self=this,n=this.minimatch.set.length;if(this._processing=0,this.matches=new Array(n),this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return done();for(var sync=!0,i=0;n>i;i++)this._process(this.minimatch.set[i],i,!1,done);sync=!1}function readdirCb(self,abs,cb){return function(er,entries){er?self._readdirError(abs,er,cb):self._readdirEntries(abs,entries,cb)}}module.exports=glob;var fs=require("fs"),rp=require("fs.realpath"),minimatch=require("minimatch"),inherits=(minimatch.Minimatch,require("inherits")),EE=require("events").EventEmitter,path=require("path"),assert=require("assert"),isAbsolute=require("path-is-absolute"),globSync=require("./sync.js"),common=require("./common.js"),setopts=(common.alphasort,common.alphasorti,common.setopts),ownProp=common.ownProp,inflight=require("inflight"),childrenIgnored=(require("util"),common.childrenIgnored),isIgnored=common.isIgnored,once=require("once");glob.sync=globSync;var GlobSync=glob.GlobSync=globSync.GlobSync;glob.glob=glob,glob.hasMagic=function(pattern,options_){var options=extend({},options_);options.noprocess=!0;var g=new Glob(pattern,options),set=g.minimatch.set;if(!pattern)return!1;if(set.length>1)return!0;for(var j=0;j<set[0].length;j++)if("string"!=typeof set[0][j])return!0;return!1},glob.Glob=Glob,inherits(Glob,EE),Glob.prototype._finish=function(){if(assert(this instanceof Glob),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();common.finish(this),this.emit("end",this.found)}},Glob.prototype._realpath=function(){function next(){0===--n&&self._finish()}if(!this._didRealpath){this._didRealpath=!0;var n=this.matches.length;if(0===n)return this._finish();for(var self=this,i=0;i<this.matches.length;i++)this._realpathSet(i,next)}},Glob.prototype._realpathSet=function(index,cb){var matchset=this.matches[index];if(!matchset)return cb();var found=Object.keys(matchset),self=this,n=found.length;if(0===n)return cb();var set=this.matches[index]=Object.create(null);found.forEach(function(p,i){p=self._makeAbs(p),rp.realpath(p,self.realpathCache,function(er,real){er?"stat"===er.syscall?set[p]=!0:self.emit("error",er):set[real]=!0,0===--n&&(self.matches[index]=set,cb())})})},Glob.prototype._mark=function(p){return common.mark(this,p)},Glob.prototype._makeAbs=function(f){return common.makeAbs(this,f)},Glob.prototype.abort=function(){this.aborted=!0,this.emit("abort")},Glob.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},Glob.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var eq=this._emitQueue.slice(0);this._emitQueue.length=0;for(var i=0;i<eq.length;i++){var e=eq[i];this._emitMatch(e[0],e[1])}}if(this._processQueue.length){var pq=this._processQueue.slice(0);this._processQueue.length=0;for(var i=0;i<pq.length;i++){var p=pq[i];this._processing--,this._process(p[0],p[1],p[2],p[3])}}}},Glob.prototype._process=function(pattern,index,inGlobStar,cb){if(assert(this instanceof Glob),assert("function"==typeof cb),!this.aborted){if(this._processing++,this.paused)return void this._processQueue.push([pattern,index,inGlobStar,cb]);for(var n=0;"string"==typeof pattern[n];)n++;var prefix;switch(n){case pattern.length:return void this._processSimple(pattern.join("/"),index,cb);case 0:prefix=null;break;default:prefix=pattern.slice(0,n).join("/")}var read,remain=pattern.slice(n);null===prefix?read=".":isAbsolute(prefix)||isAbsolute(pattern.join("/"))?(prefix&&isAbsolute(prefix)||(prefix="/"+prefix),read=prefix):read=prefix;var abs=this._makeAbs(read);if(childrenIgnored(this,read))return cb();var isGlobStar=remain[0]===minimatch.GLOBSTAR;isGlobStar?this._processGlobStar(prefix,read,abs,remain,index,inGlobStar,cb):this._processReaddir(prefix,read,abs,remain,index,inGlobStar,cb)}},Glob.prototype._processReaddir=function(prefix,read,abs,remain,index,inGlobStar,cb){var self=this;this._readdir(abs,inGlobStar,function(er,entries){return self._processReaddir2(prefix,read,abs,remain,index,inGlobStar,entries,cb)})},Glob.prototype._processReaddir2=function(prefix,read,abs,remain,index,inGlobStar,entries,cb){if(!entries)return cb();for(var pn=remain[0],negate=!!this.minimatch.negate,rawGlob=pn._glob,dotOk=this.dot||"."===rawGlob.charAt(0),matchedEntries=[],i=0;i<entries.length;i++){var e=entries[i];if("."!==e.charAt(0)||dotOk){var m;m=negate&&!prefix?!e.match(pn):e.match(pn),m&&matchedEntries.push(e)}}var len=matchedEntries.length;if(0===len)return cb();if(1===remain.length&&!this.mark&&!this.stat){this.matches[index]||(this.matches[index]=Object.create(null));for(var i=0;len>i;i++){var e=matchedEntries[i];prefix&&(e="/"!==prefix?prefix+"/"+e:prefix+e),"/"!==e.charAt(0)||this.nomount||(e=path.join(this.root,e)),this._emitMatch(index,e)}return cb()}remain.shift();for(var i=0;len>i;i++){var e=matchedEntries[i];prefix&&(e="/"!==prefix?prefix+"/"+e:prefix+e),this._process([e].concat(remain),index,inGlobStar,cb)}cb()},Glob.prototype._emitMatch=function(index,e){if(!this.aborted&&!isIgnored(this,e)){if(this.paused)return void this._emitQueue.push([index,e]);var abs=isAbsolute(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=abs),!this.matches[index][e]){if(this.nodir){var c=this.cache[abs];if("DIR"===c||Array.isArray(c))return}this.matches[index][e]=!0;var st=this.statCache[abs];st&&this.emit("stat",e,st),this.emit("match",e)}}},Glob.prototype._readdirInGlobStar=function(abs,cb){function lstatcb_(er,lstat){if(er&&"ENOENT"===er.code)return cb();var isSym=lstat&&lstat.isSymbolicLink();self.symlinks[abs]=isSym,isSym||!lstat||lstat.isDirectory()?self._readdir(abs,!1,cb):(self.cache[abs]="FILE",cb())}if(!this.aborted){if(this.follow)return this._readdir(abs,!1,cb);var lstatkey="lstat\x00"+abs,self=this,lstatcb=inflight(lstatkey,lstatcb_);lstatcb&&fs.lstat(abs,lstatcb)}},Glob.prototype._readdir=function(abs,inGlobStar,cb){if(!this.aborted&&(cb=inflight("readdir\x00"+abs+"\x00"+inGlobStar,cb))){if(inGlobStar&&!ownProp(this.symlinks,abs))return this._readdirInGlobStar(abs,cb);if(ownProp(this.cache,abs)){var c=this.cache[abs];if(!c||"FILE"===c)return cb();if(Array.isArray(c))return cb(null,c)}fs.readdir(abs,readdirCb(this,abs,cb))}},Glob.prototype._readdirEntries=function(abs,entries,cb){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<entries.length;i++){var e=entries[i];e="/"===abs?abs+e:abs+"/"+e,this.cache[e]=!0}return this.cache[abs]=entries,cb(null,entries)}},Glob.prototype._readdirError=function(f,er,cb){if(!this.aborted){switch(er.code){case"ENOTSUP":case"ENOTDIR":var abs=this._makeAbs(f);if(this.cache[abs]="FILE",abs===this.cwdAbs){var error=new Error(er.code+" invalid cwd "+this.cwd);error.path=this.cwd,error.code=er.code,this.emit("error",error),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(f)]=!1;break;default:this.cache[this._makeAbs(f)]=!1,this.strict&&(this.emit("error",er),this.abort()),this.silent||console.error("glob error",er)}return cb()}},Glob.prototype._processGlobStar=function(prefix,read,abs,remain,index,inGlobStar,cb){var self=this;this._readdir(abs,inGlobStar,function(er,entries){self._processGlobStar2(prefix,read,abs,remain,index,inGlobStar,entries,cb)})},Glob.prototype._processGlobStar2=function(prefix,read,abs,remain,index,inGlobStar,entries,cb){if(!entries)return cb();var remainWithoutGlobStar=remain.slice(1),gspref=prefix?[prefix]:[],noGlobStar=gspref.concat(remainWithoutGlobStar);this._process(noGlobStar,index,!1,cb);var isSym=this.symlinks[abs],len=entries.length;if(isSym&&inGlobStar)return cb();for(var i=0;len>i;i++){var e=entries[i];if("."!==e.charAt(0)||this.dot){var instead=gspref.concat(entries[i],remainWithoutGlobStar);this._process(instead,index,!0,cb);var below=gspref.concat(entries[i],remain);this._process(below,index,!0,cb)}}cb()},Glob.prototype._processSimple=function(prefix,index,cb){var self=this;this._stat(prefix,function(er,exists){self._processSimple2(prefix,index,er,exists,cb)})},Glob.prototype._processSimple2=function(prefix,index,er,exists,cb){if(this.matches[index]||(this.matches[index]=Object.create(null)),!exists)return cb();if(prefix&&isAbsolute(prefix)&&!this.nomount){var trail=/[\/\\]$/.test(prefix);"/"===prefix.charAt(0)?prefix=path.join(this.root,prefix):(prefix=path.resolve(this.root,prefix),trail&&(prefix+="/"))}"win32"===process.platform&&(prefix=prefix.replace(/\\/g,"/")),this._emitMatch(index,prefix),cb()},Glob.prototype._stat=function(f,cb){function lstatcb_(er,lstat){return lstat&&lstat.isSymbolicLink()?fs.stat(abs,function(er,stat){er?self._stat2(f,abs,null,lstat,cb):self._stat2(f,abs,er,stat,cb)}):void self._stat2(f,abs,er,lstat,cb)}var abs=this._makeAbs(f),needDir="/"===f.slice(-1);if(f.length>this.maxLength)return cb();if(!this.stat&&ownProp(this.cache,abs)){var c=this.cache[abs];if(Array.isArray(c)&&(c="DIR"),!needDir||"DIR"===c)return cb(null,c);if(needDir&&"FILE"===c)return cb()}var stat=this.statCache[abs];if(void 0!==stat){if(stat===!1)return cb(null,stat);var type=stat.isDirectory()?"DIR":"FILE";return needDir&&"FILE"===type?cb():cb(null,type,stat)}var self=this,statcb=inflight("stat\x00"+abs,lstatcb_);statcb&&fs.lstat(abs,statcb)},Glob.prototype._stat2=function(f,abs,er,stat,cb){if(er&&("ENOENT"===er.code||"ENOTDIR"===er.code))return this.statCache[abs]=!1,cb();var needDir="/"===f.slice(-1);if(this.statCache[abs]=stat,"/"===abs.slice(-1)&&stat&&!stat.isDirectory())return cb(null,!1,stat);var c=!0;return stat&&(c=stat.isDirectory()?"DIR":"FILE"),this.cache[abs]=this.cache[abs]||c,needDir&&"FILE"===c?cb():cb(null,c,stat)}}).call(this,require("_process"))},{"./common.js":173,"./sync.js":175,_process:201,assert:19,events:164,fs:50,"fs.realpath":171,inflight:184,inherits:185,minimatch:190,once:191,path:196,"path-is-absolute":197,util:370}],175:[function(require,module,exports){(function(process){function globSync(pattern,options){if("function"==typeof options||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new GlobSync(pattern,options).found}function GlobSync(pattern,options){if(!pattern)throw new Error("must provide pattern");if("function"==typeof options||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof GlobSync))return new GlobSync(pattern,options);if(setopts(this,pattern,options),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var i=0;n>i;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}module.exports=globSync,globSync.GlobSync=GlobSync;var fs=require("fs"),rp=require("fs.realpath"),minimatch=require("minimatch"),path=(minimatch.Minimatch,require("./glob.js").Glob,require("util"),require("path")),assert=require("assert"),isAbsolute=require("path-is-absolute"),common=require("./common.js"),setopts=(common.alphasort,common.alphasorti,common.setopts),ownProp=common.ownProp,childrenIgnored=common.childrenIgnored,isIgnored=common.isIgnored;GlobSync.prototype._finish=function(){if(assert(this instanceof GlobSync),this.realpath){var self=this;this.matches.forEach(function(matchset,index){var set=self.matches[index]=Object.create(null);for(var p in matchset)try{p=self._makeAbs(p);var real=rp.realpathSync(p,self.realpathCache);set[real]=!0}catch(er){if("stat"!==er.syscall)throw er;set[self._makeAbs(p)]=!0}})}common.finish(this)},GlobSync.prototype._process=function(pattern,index,inGlobStar){assert(this instanceof GlobSync);for(var n=0;"string"==typeof pattern[n];)n++;var prefix;switch(n){case pattern.length:return void this._processSimple(pattern.join("/"),index);case 0:prefix=null;break;default:prefix=pattern.slice(0,n).join("/")}var read,remain=pattern.slice(n);null===prefix?read=".":isAbsolute(prefix)||isAbsolute(pattern.join("/"))?(prefix&&isAbsolute(prefix)||(prefix="/"+prefix),read=prefix):read=prefix;var abs=this._makeAbs(read);if(!childrenIgnored(this,read)){var isGlobStar=remain[0]===minimatch.GLOBSTAR;isGlobStar?this._processGlobStar(prefix,read,abs,remain,index,inGlobStar):this._processReaddir(prefix,read,abs,remain,index,inGlobStar)}},GlobSync.prototype._processReaddir=function(prefix,read,abs,remain,index,inGlobStar){var entries=this._readdir(abs,inGlobStar);if(entries){for(var pn=remain[0],negate=!!this.minimatch.negate,rawGlob=pn._glob,dotOk=this.dot||"."===rawGlob.charAt(0),matchedEntries=[],i=0;i<entries.length;i++){var e=entries[i];if("."!==e.charAt(0)||dotOk){var m;m=negate&&!prefix?!e.match(pn):e.match(pn),m&&matchedEntries.push(e)}}var len=matchedEntries.length;if(0!==len)if(1!==remain.length||this.mark||this.stat){remain.shift();for(var i=0;len>i;i++){var newPattern,e=matchedEntries[i];newPattern=prefix?[prefix,e]:[e],this._process(newPattern.concat(remain),index,inGlobStar)}}else{this.matches[index]||(this.matches[index]=Object.create(null));for(var i=0;len>i;i++){var e=matchedEntries[i];prefix&&(e="/"!==prefix.slice(-1)?prefix+"/"+e:prefix+e),"/"!==e.charAt(0)||this.nomount||(e=path.join(this.root,e)),this._emitMatch(index,e)}}}},GlobSync.prototype._emitMatch=function(index,e){if(!isIgnored(this,e)){var abs=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=abs),!this.matches[index][e]){if(this.nodir){var c=this.cache[abs];if("DIR"===c||Array.isArray(c))return}this.matches[index][e]=!0,this.stat&&this._stat(e)}}},GlobSync.prototype._readdirInGlobStar=function(abs){if(this.follow)return this._readdir(abs,!1);var entries,lstat;try{lstat=fs.lstatSync(abs)}catch(er){if("ENOENT"===er.code)return null}var isSym=lstat&&lstat.isSymbolicLink();return this.symlinks[abs]=isSym,isSym||!lstat||lstat.isDirectory()?entries=this._readdir(abs,!1):this.cache[abs]="FILE",entries},GlobSync.prototype._readdir=function(abs,inGlobStar){if(inGlobStar&&!ownProp(this.symlinks,abs))return this._readdirInGlobStar(abs);if(ownProp(this.cache,abs)){var c=this.cache[abs];if(!c||"FILE"===c)return null;if(Array.isArray(c))return c}try{return this._readdirEntries(abs,fs.readdirSync(abs))}catch(er){return this._readdirError(abs,er),null}},GlobSync.prototype._readdirEntries=function(abs,entries){if(!this.mark&&!this.stat)for(var i=0;i<entries.length;i++){var e=entries[i];e="/"===abs?abs+e:abs+"/"+e,this.cache[e]=!0}return this.cache[abs]=entries,entries},GlobSync.prototype._readdirError=function(f,er){switch(er.code){case"ENOTSUP":case"ENOTDIR":var abs=this._makeAbs(f);if(this.cache[abs]="FILE",abs===this.cwdAbs){var error=new Error(er.code+" invalid cwd "+this.cwd);throw error.path=this.cwd,error.code=er.code,error}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(f)]=!1;break;default:if(this.cache[this._makeAbs(f)]=!1,this.strict)throw er;this.silent||console.error("glob error",er)}},GlobSync.prototype._processGlobStar=function(prefix,read,abs,remain,index,inGlobStar){var entries=this._readdir(abs,inGlobStar);if(entries){var remainWithoutGlobStar=remain.slice(1),gspref=prefix?[prefix]:[],noGlobStar=gspref.concat(remainWithoutGlobStar);this._process(noGlobStar,index,!1);var len=entries.length,isSym=this.symlinks[abs];if(!isSym||!inGlobStar)for(var i=0;len>i;i++){var e=entries[i];if("."!==e.charAt(0)||this.dot){var instead=gspref.concat(entries[i],remainWithoutGlobStar);this._process(instead,index,!0);var below=gspref.concat(entries[i],remain);this._process(below,index,!0)}}}},GlobSync.prototype._processSimple=function(prefix,index){var exists=this._stat(prefix);if(this.matches[index]||(this.matches[index]=Object.create(null)),exists){if(prefix&&isAbsolute(prefix)&&!this.nomount){var trail=/[\/\\]$/.test(prefix);"/"===prefix.charAt(0)?prefix=path.join(this.root,prefix):(prefix=path.resolve(this.root,prefix),trail&&(prefix+="/"))}"win32"===process.platform&&(prefix=prefix.replace(/\\/g,"/")),this._emitMatch(index,prefix)}},GlobSync.prototype._stat=function(f){var abs=this._makeAbs(f),needDir="/"===f.slice(-1);if(f.length>this.maxLength)return!1;if(!this.stat&&ownProp(this.cache,abs)){var c=this.cache[abs];if(Array.isArray(c)&&(c="DIR"),!needDir||"DIR"===c)return c;if(needDir&&"FILE"===c)return!1}var stat=this.statCache[abs];if(!stat){var lstat;try{lstat=fs.lstatSync(abs)}catch(er){if(er&&("ENOENT"===er.code||"ENOTDIR"===er.code))return this.statCache[abs]=!1,!1}if(lstat&&lstat.isSymbolicLink())try{stat=fs.statSync(abs)}catch(er){stat=lstat}else stat=lstat}this.statCache[abs]=stat;var c=!0;return stat&&(c=stat.isDirectory()?"DIR":"FILE"),this.cache[abs]=this.cache[abs]||c,needDir&&"FILE"===c?!1:c},GlobSync.prototype._mark=function(p){return common.mark(this,p)},GlobSync.prototype._makeAbs=function(f){return common.makeAbs(this,f)}}).call(this,require("_process"))},{"./common.js":173,"./glob.js":174,_process:201,assert:19,fs:50,"fs.realpath":171,minimatch:190,path:196,"path-is-absolute":197,util:370}],176:[function(require,module,exports){var hash=exports;hash.utils=require("./hash/utils"),hash.common=require("./hash/common"),hash.sha=require("./hash/sha"),hash.ripemd=require("./hash/ripemd"),hash.hmac=require("./hash/hmac"),hash.sha1=hash.sha.sha1,hash.sha256=hash.sha.sha256,hash.sha224=hash.sha.sha224,hash.sha384=hash.sha.sha384,hash.sha512=hash.sha.sha512,hash.ripemd160=hash.ripemd.ripemd160},{"./hash/common":177,"./hash/hmac":178,"./hash/ripemd":179,"./hash/sha":180,"./hash/utils":181}],177:[function(require,module,exports){function BlockHash(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var hash=require("../hash"),utils=hash.utils,assert=utils.assert;exports.BlockHash=BlockHash,BlockHash.prototype.update=function(msg,enc){if(msg=utils.toArray(msg,enc),this.pending?this.pending=this.pending.concat(msg):this.pending=msg,this.pendingTotal+=msg.length,this.pending.length>=this._delta8){msg=this.pending;var r=msg.length%this._delta8;this.pending=msg.slice(msg.length-r,msg.length),0===this.pending.length&&(this.pending=null),msg=utils.join32(msg,0,msg.length-r,this.endian);for(var i=0;i<msg.length;i+=this._delta32)this._update(msg,i,i+this._delta32)}return this},BlockHash.prototype.digest=function(enc){return this.update(this._pad()),assert(null===this.pending),this._digest(enc)},BlockHash.prototype._pad=function(){var len=this.pendingTotal,bytes=this._delta8,k=bytes-(len+this.padLength)%bytes,res=new Array(k+this.padLength);res[0]=128;for(var i=1;k>i;i++)res[i]=0;if(len<<=3,"big"===this.endian){for(var t=8;t<this.padLength;t++)res[i++]=0;res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=len>>>24&255,res[i++]=len>>>16&255,res[i++]=len>>>8&255,res[i++]=255&len}else{res[i++]=255&len,res[i++]=len>>>8&255,res[i++]=len>>>16&255,res[i++]=len>>>24&255,res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=0;for(var t=8;t<this.padLength;t++)res[i++]=0}return res}},{"../hash":176}],178:[function(require,module,exports){function Hmac(hash,key,enc){
return this instanceof Hmac?(this.Hash=hash,this.blockSize=hash.blockSize/8,this.outSize=hash.outSize/8,this.inner=null,this.outer=null,void this._init(utils.toArray(key,enc))):new Hmac(hash,key,enc)}var hash=require("../hash"),utils=hash.utils,assert=utils.assert;module.exports=Hmac,Hmac.prototype._init=function(key){key.length>this.blockSize&&(key=(new this.Hash).update(key).digest()),assert(key.length<=this.blockSize);for(var i=key.length;i<this.blockSize;i++)key.push(0);for(var i=0;i<key.length;i++)key[i]^=54;this.inner=(new this.Hash).update(key);for(var i=0;i<key.length;i++)key[i]^=106;this.outer=(new this.Hash).update(key)},Hmac.prototype.update=function(msg,enc){return this.inner.update(msg,enc),this},Hmac.prototype.digest=function(enc){return this.outer.update(this.inner.digest()),this.outer.digest(enc)}},{"../hash":176}],179:[function(require,module,exports){function RIPEMD160(){return this instanceof RIPEMD160?(BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.endian="little")):new RIPEMD160}function f(j,x,y,z){return 15>=j?x^y^z:31>=j?x&y|~x&z:47>=j?(x|~y)^z:63>=j?x&z|y&~z:x^(y|~z)}function K(j){return 15>=j?0:31>=j?1518500249:47>=j?1859775393:63>=j?2400959708:2840853838}function Kh(j){return 15>=j?1352829926:31>=j?1548603684:47>=j?1836072691:63>=j?2053994217:0}var hash=require("../hash"),utils=hash.utils,rotl32=utils.rotl32,sum32=utils.sum32,sum32_3=utils.sum32_3,sum32_4=utils.sum32_4,BlockHash=hash.common.BlockHash;utils.inherits(RIPEMD160,BlockHash),exports.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function(msg,start){for(var A=this.h[0],B=this.h[1],C=this.h[2],D=this.h[3],E=this.h[4],Ah=A,Bh=B,Ch=C,Dh=D,Eh=E,j=0;80>j;j++){var T=sum32(rotl32(sum32_4(A,f(j,B,C,D),msg[r[j]+start],K(j)),s[j]),E);A=E,E=D,D=rotl32(C,10),C=B,B=T,T=sum32(rotl32(sum32_4(Ah,f(79-j,Bh,Ch,Dh),msg[rh[j]+start],Kh(j)),sh[j]),Eh),Ah=Eh,Eh=Dh,Dh=rotl32(Ch,10),Ch=Bh,Bh=T}T=sum32_3(this.h[1],C,Dh),this.h[1]=sum32_3(this.h[2],D,Eh),this.h[2]=sum32_3(this.h[3],E,Ah),this.h[3]=sum32_3(this.h[4],A,Bh),this.h[4]=sum32_3(this.h[0],B,Ch),this.h[0]=T},RIPEMD160.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"little"):utils.split32(this.h,"little")};var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"../hash":176}],180:[function(require,module,exports){function SHA256(){return this instanceof SHA256?(BlockHash.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,void(this.W=new Array(64))):new SHA256}function SHA224(){return this instanceof SHA224?(SHA256.call(this),void(this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])):new SHA224}function SHA512(){return this instanceof SHA512?(BlockHash.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,void(this.W=new Array(160))):new SHA512}function SHA384(){return this instanceof SHA384?(SHA512.call(this),void(this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428])):new SHA384}function SHA1(){return this instanceof SHA1?(BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.W=new Array(80))):new SHA1}function ch32(x,y,z){return x&y^~x&z}function maj32(x,y,z){return x&y^x&z^y&z}function p32(x,y,z){return x^y^z}function s0_256(x){return rotr32(x,2)^rotr32(x,13)^rotr32(x,22)}function s1_256(x){return rotr32(x,6)^rotr32(x,11)^rotr32(x,25)}function g0_256(x){return rotr32(x,7)^rotr32(x,18)^x>>>3}function g1_256(x){return rotr32(x,17)^rotr32(x,19)^x>>>10}function ft_1(s,x,y,z){return 0===s?ch32(x,y,z):1===s||3===s?p32(x,y,z):2===s?maj32(x,y,z):void 0}function ch64_hi(xh,xl,yh,yl,zh,zl){var r=xh&yh^~xh&zh;return 0>r&&(r+=4294967296),r}function ch64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^~xl&zl;return 0>r&&(r+=4294967296),r}function maj64_hi(xh,xl,yh,yl,zh,zl){var r=xh&yh^xh&zh^yh&zh;return 0>r&&(r+=4294967296),r}function maj64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^xl&zl^yl&zl;return 0>r&&(r+=4294967296),r}function s0_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,28),c1_hi=rotr64_hi(xl,xh,2),c2_hi=rotr64_hi(xl,xh,7),r=c0_hi^c1_hi^c2_hi;return 0>r&&(r+=4294967296),r}function s0_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,28),c1_lo=rotr64_lo(xl,xh,2),c2_lo=rotr64_lo(xl,xh,7),r=c0_lo^c1_lo^c2_lo;return 0>r&&(r+=4294967296),r}function s1_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,14),c1_hi=rotr64_hi(xh,xl,18),c2_hi=rotr64_hi(xl,xh,9),r=c0_hi^c1_hi^c2_hi;return 0>r&&(r+=4294967296),r}function s1_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,14),c1_lo=rotr64_lo(xh,xl,18),c2_lo=rotr64_lo(xl,xh,9),r=c0_lo^c1_lo^c2_lo;return 0>r&&(r+=4294967296),r}function g0_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,1),c1_hi=rotr64_hi(xh,xl,8),c2_hi=shr64_hi(xh,xl,7),r=c0_hi^c1_hi^c2_hi;return 0>r&&(r+=4294967296),r}function g0_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,1),c1_lo=rotr64_lo(xh,xl,8),c2_lo=shr64_lo(xh,xl,7),r=c0_lo^c1_lo^c2_lo;return 0>r&&(r+=4294967296),r}function g1_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,19),c1_hi=rotr64_hi(xl,xh,29),c2_hi=shr64_hi(xh,xl,6),r=c0_hi^c1_hi^c2_hi;return 0>r&&(r+=4294967296),r}function g1_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,19),c1_lo=rotr64_lo(xl,xh,29),c2_lo=shr64_lo(xh,xl,6),r=c0_lo^c1_lo^c2_lo;return 0>r&&(r+=4294967296),r}var hash=require("../hash"),utils=hash.utils,assert=utils.assert,rotr32=utils.rotr32,rotl32=utils.rotl32,sum32=utils.sum32,sum32_4=utils.sum32_4,sum32_5=utils.sum32_5,rotr64_hi=utils.rotr64_hi,rotr64_lo=utils.rotr64_lo,shr64_hi=utils.shr64_hi,shr64_lo=utils.shr64_lo,sum64=utils.sum64,sum64_hi=utils.sum64_hi,sum64_lo=utils.sum64_lo,sum64_4_hi=utils.sum64_4_hi,sum64_4_lo=utils.sum64_4_lo,sum64_5_hi=utils.sum64_5_hi,sum64_5_lo=utils.sum64_5_lo,BlockHash=hash.common.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],sha1_K=[1518500249,1859775393,2400959708,3395469782];utils.inherits(SHA256,BlockHash),exports.sha256=SHA256,SHA256.blockSize=512,SHA256.outSize=256,SHA256.hmacStrength=192,SHA256.padLength=64,SHA256.prototype._update=function(msg,start){for(var W=this.W,i=0;16>i;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=sum32_4(g1_256(W[i-2]),W[i-7],g0_256(W[i-15]),W[i-16]);var a=this.h[0],b=this.h[1],c=this.h[2],d=this.h[3],e=this.h[4],f=this.h[5],g=this.h[6],h=this.h[7];assert(this.k.length===W.length);for(var i=0;i<W.length;i++){var T1=sum32_5(h,s1_256(e),ch32(e,f,g),this.k[i],W[i]),T2=sum32(s0_256(a),maj32(a,b,c));h=g,g=f,f=e,e=sum32(d,T1),d=c,c=b,b=a,a=sum32(T1,T2)}this.h[0]=sum32(this.h[0],a),this.h[1]=sum32(this.h[1],b),this.h[2]=sum32(this.h[2],c),this.h[3]=sum32(this.h[3],d),this.h[4]=sum32(this.h[4],e),this.h[5]=sum32(this.h[5],f),this.h[6]=sum32(this.h[6],g),this.h[7]=sum32(this.h[7],h)},SHA256.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")},utils.inherits(SHA224,SHA256),exports.sha224=SHA224,SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h.slice(0,7),"big"):utils.split32(this.h.slice(0,7),"big")},utils.inherits(SHA512,BlockHash),exports.sha512=SHA512,SHA512.blockSize=1024,SHA512.outSize=512,SHA512.hmacStrength=192,SHA512.padLength=128,SHA512.prototype._prepareBlock=function(msg,start){for(var W=this.W,i=0;32>i;i++)W[i]=msg[start+i];for(;i<W.length;i+=2){var c0_hi=g1_512_hi(W[i-4],W[i-3]),c0_lo=g1_512_lo(W[i-4],W[i-3]),c1_hi=W[i-14],c1_lo=W[i-13],c2_hi=g0_512_hi(W[i-30],W[i-29]),c2_lo=g0_512_lo(W[i-30],W[i-29]),c3_hi=W[i-32],c3_lo=W[i-31];W[i]=sum64_4_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo),W[i+1]=sum64_4_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo)}},SHA512.prototype._update=function(msg,start){this._prepareBlock(msg,start);var W=this.W,ah=this.h[0],al=this.h[1],bh=this.h[2],bl=this.h[3],ch=this.h[4],cl=this.h[5],dh=this.h[6],dl=this.h[7],eh=this.h[8],el=this.h[9],fh=this.h[10],fl=this.h[11],gh=this.h[12],gl=this.h[13],hh=this.h[14],hl=this.h[15];assert(this.k.length===W.length);for(var i=0;i<W.length;i+=2){var c0_hi=hh,c0_lo=hl,c1_hi=s1_512_hi(eh,el),c1_lo=s1_512_lo(eh,el),c2_hi=ch64_hi(eh,el,fh,fl,gh,gl),c2_lo=ch64_lo(eh,el,fh,fl,gh,gl),c3_hi=this.k[i],c3_lo=this.k[i+1],c4_hi=W[i],c4_lo=W[i+1],T1_hi=sum64_5_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo),T1_lo=sum64_5_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo),c0_hi=s0_512_hi(ah,al),c0_lo=s0_512_lo(ah,al),c1_hi=maj64_hi(ah,al,bh,bl,ch,cl),c1_lo=maj64_lo(ah,al,bh,bl,ch,cl),T2_hi=sum64_hi(c0_hi,c0_lo,c1_hi,c1_lo),T2_lo=sum64_lo(c0_hi,c0_lo,c1_hi,c1_lo);hh=gh,hl=gl,gh=fh,gl=fl,fh=eh,fl=el,eh=sum64_hi(dh,dl,T1_hi,T1_lo),el=sum64_lo(dl,dl,T1_hi,T1_lo),dh=ch,dl=cl,ch=bh,cl=bl,bh=ah,bl=al,ah=sum64_hi(T1_hi,T1_lo,T2_hi,T2_lo),al=sum64_lo(T1_hi,T1_lo,T2_hi,T2_lo)}sum64(this.h,0,ah,al),sum64(this.h,2,bh,bl),sum64(this.h,4,ch,cl),sum64(this.h,6,dh,dl),sum64(this.h,8,eh,el),sum64(this.h,10,fh,fl),sum64(this.h,12,gh,gl),sum64(this.h,14,hh,hl)},SHA512.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")},utils.inherits(SHA384,SHA512),exports.sha384=SHA384,SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h.slice(0,12),"big"):utils.split32(this.h.slice(0,12),"big")},utils.inherits(SHA1,BlockHash),exports.sha1=SHA1,SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(msg,start){for(var W=this.W,i=0;16>i;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=rotl32(W[i-3]^W[i-8]^W[i-14]^W[i-16],1);for(var a=this.h[0],b=this.h[1],c=this.h[2],d=this.h[3],e=this.h[4],i=0;i<W.length;i++){var s=~~(i/20),t=sum32_5(rotl32(a,5),ft_1(s,b,c,d),e,W[i],sha1_K[s]);e=d,d=c,c=rotl32(b,30),b=a,a=t}this.h[0]=sum32(this.h[0],a),this.h[1]=sum32(this.h[1],b),this.h[2]=sum32(this.h[2],c),this.h[3]=sum32(this.h[3],d),this.h[4]=sum32(this.h[4],e)},SHA1.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")}},{"../hash":176}],181:[function(require,module,exports){function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if("string"==typeof msg)if(enc){if("hex"===enc){msg=msg.replace(/[^a-z0-9]+/gi,""),msg.length%2!==0&&(msg="0"+msg);for(var i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}}else for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i),hi=c>>8,lo=255&c;hi?res.push(hi,lo):res.push(lo)}else for(var i=0;i<msg.length;i++)res[i]=0|msg[i];return res}function toHex(msg){for(var res="",i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}function htonl(w){var res=w>>>24|w>>>8&65280|w<<8&16711680|(255&w)<<24;return res>>>0}function toHex32(msg,endian){for(var res="",i=0;i<msg.length;i++){var w=msg[i];"little"===endian&&(w=htonl(w)),res+=zero8(w.toString(16))}return res}function zero2(word){return 1===word.length?"0"+word:word}function zero8(word){return 7===word.length?"0"+word:6===word.length?"00"+word:5===word.length?"000"+word:4===word.length?"0000"+word:3===word.length?"00000"+word:2===word.length?"000000"+word:1===word.length?"0000000"+word:word}function join32(msg,start,end,endian){var len=end-start;assert(len%4===0);for(var res=new Array(len/4),i=0,k=start;i<res.length;i++,k+=4){var w;w="big"===endian?msg[k]<<24|msg[k+1]<<16|msg[k+2]<<8|msg[k+3]:msg[k+3]<<24|msg[k+2]<<16|msg[k+1]<<8|msg[k],res[i]=w>>>0}return res}function split32(msg,endian){for(var res=new Array(4*msg.length),i=0,k=0;i<msg.length;i++,k+=4){var m=msg[i];"big"===endian?(res[k]=m>>>24,res[k+1]=m>>>16&255,res[k+2]=m>>>8&255,res[k+3]=255&m):(res[k+3]=m>>>24,res[k+2]=m>>>16&255,res[k+1]=m>>>8&255,res[k]=255&m)}return res}function rotr32(w,b){return w>>>b|w<<32-b}function rotl32(w,b){return w<<b|w>>>32-b}function sum32(a,b){return a+b>>>0}function sum32_3(a,b,c){return a+b+c>>>0}function sum32_4(a,b,c,d){return a+b+c+d>>>0}function sum32_5(a,b,c,d,e){return a+b+c+d+e>>>0}function assert(cond,msg){if(!cond)throw new Error(msg||"Assertion failed")}function sum64(buf,pos,ah,al){var bh=buf[pos],bl=buf[pos+1],lo=al+bl>>>0,hi=(al>lo?1:0)+ah+bh;buf[pos]=hi>>>0,buf[pos+1]=lo}function sum64_hi(ah,al,bh,bl){var lo=al+bl>>>0,hi=(al>lo?1:0)+ah+bh;return hi>>>0}function sum64_lo(ah,al,bh,bl){var lo=al+bl;return lo>>>0}function sum64_4_hi(ah,al,bh,bl,ch,cl,dh,dl){var carry=0,lo=al;lo=lo+bl>>>0,carry+=al>lo?1:0,lo=lo+cl>>>0,carry+=cl>lo?1:0,lo=lo+dl>>>0,carry+=dl>lo?1:0;var hi=ah+bh+ch+dh+carry;return hi>>>0}function sum64_4_lo(ah,al,bh,bl,ch,cl,dh,dl){var lo=al+bl+cl+dl;return lo>>>0}function sum64_5_hi(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var carry=0,lo=al;lo=lo+bl>>>0,carry+=al>lo?1:0,lo=lo+cl>>>0,carry+=cl>lo?1:0,lo=lo+dl>>>0,carry+=dl>lo?1:0,lo=lo+el>>>0,carry+=el>lo?1:0;var hi=ah+bh+ch+dh+eh+carry;return hi>>>0}function sum64_5_lo(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var lo=al+bl+cl+dl+el;return lo>>>0}function rotr64_hi(ah,al,num){var r=al<<32-num|ah>>>num;return r>>>0}function rotr64_lo(ah,al,num){var r=ah<<32-num|al>>>num;return r>>>0}function shr64_hi(ah,al,num){return ah>>>num}function shr64_lo(ah,al,num){var r=ah<<32-num|al>>>num;return r>>>0}var utils=exports,inherits=require("inherits");utils.toArray=toArray,utils.toHex=toHex,utils.htonl=htonl,utils.toHex32=toHex32,utils.zero2=zero2,utils.zero8=zero8,utils.join32=join32,utils.split32=split32,utils.rotr32=rotr32,utils.rotl32=rotl32,utils.sum32=sum32,utils.sum32_3=sum32_3,utils.sum32_4=sum32_4,utils.sum32_5=sum32_5,utils.assert=assert,utils.inherits=inherits,exports.sum64=sum64,exports.sum64_hi=sum64_hi,exports.sum64_lo=sum64_lo,exports.sum64_4_hi=sum64_4_hi,exports.sum64_4_lo=sum64_4_lo,exports.sum64_5_hi=sum64_5_hi,exports.sum64_5_lo=sum64_5_lo,exports.rotr64_hi=rotr64_hi,exports.rotr64_lo=rotr64_lo,exports.shr64_hi=shr64_hi,exports.shr64_lo=shr64_lo},{inherits:185}],182:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:(s?-1:1)*(1/0);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=0>value||0===value&&0>1/value?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],183:[function(require,module,exports){var indexOf=[].indexOf;module.exports=function(arr,obj){if(indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i)if(arr[i]===obj)return i;return-1}},{}],184:[function(require,module,exports){(function(process){function inflight(key,cb){return reqs[key]?(reqs[key].push(cb),null):(reqs[key]=[cb],makeres(key))}function makeres(key){return once(function RES(){var cbs=reqs[key],len=cbs.length,args=slice(arguments);try{for(var i=0;len>i;i++)cbs[i].apply(null,args)}finally{cbs.length>len?(cbs.splice(0,len),process.nextTick(function(){RES.apply(null,args)})):delete reqs[key]}})}function slice(args){for(var length=args.length,array=[],i=0;length>i;i++)array[i]=args[i];return array}var wrappy=require("wrappy"),reqs=Object.create(null),once=require("once");module.exports=wrappy(inflight)}).call(this,require("_process"))},{_process:201,once:191,wrappy:372}],185:[function(require,module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],186:[function(require,module,exports){function isBuffer(obj){return!!obj.constructor&&"function"==typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}function isSlowBuffer(obj){return"function"==typeof obj.readFloatLE&&"function"==typeof obj.slice&&isBuffer(obj.slice(0,0))}module.exports=function(obj){return null!=obj&&(isBuffer(obj)||isSlowBuffer(obj)||!!obj._isBuffer)}},{}],187:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},{}],188:[function(require,module,exports){function MillerRabin(rand){this.rand=rand||new brorand.Rand}var bn=require("bn.js"),brorand=require("brorand");module.exports=MillerRabin,MillerRabin.create=function(rand){return new MillerRabin(rand)},MillerRabin.prototype._rand=function(n){var len=n.bitLength(),buf=this.rand.generate(Math.ceil(len/8));buf[0]|=3;var mask=7&len;return 0!==mask&&(buf[buf.length-1]>>=7-mask),new bn(buf)},MillerRabin.prototype.test=function(n,k,cb){var len=n.bitLength(),red=bn.mont(n),rone=new bn(1).toRed(red);k||(k=Math.max(1,len/48|0));for(var n1=n.subn(1),n2=n1.subn(1),s=0;!n1.testn(s);s++);for(var d=n.shrn(s),rn1=n1.toRed(red),prime=!0;k>0;k--){var a=this._rand(n2);cb&&cb(a);var x=a.toRed(red).redPow(d);if(0!==x.cmp(rone)&&0!==x.cmp(rn1)){for(var i=1;s>i;i++){if(x=x.redSqr(),0===x.cmp(rone))return!1;if(0===x.cmp(rn1))break}if(i===s)return!1}}return prime},MillerRabin.prototype.getDivisor=function(n,k){var len=n.bitLength(),red=bn.mont(n),rone=new bn(1).toRed(red);k||(k=Math.max(1,len/48|0));for(var n1=n.subn(1),n2=n1.subn(1),s=0;!n1.testn(s);s++);for(var d=n.shrn(s),rn1=n1.toRed(red);k>0;k--){var a=this._rand(n2),g=n.gcd(a);if(0!==g.cmpn(1))return g;var x=a.toRed(red).redPow(d);if(0!==x.cmp(rone)&&0!==x.cmp(rn1)){for(var i=1;s>i;i++){if(x=x.redSqr(),0===x.cmp(rone))return x.fromRed().subn(1).gcd(n);if(0===x.cmp(rn1))break}if(i===s)return x=x.redSqr(),x.fromRed().subn(1).gcd(n)}}return!1}},{"bn.js":22,brorand:24}],189:[function(require,module,exports){function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}module.exports=assert,assert.equal=function(l,r,msg){if(l!=r)throw new Error(msg||"Assertion failed: "+l+" != "+r)}},{}],190:[function(require,module,exports){function charSet(s){return s.split("").reduce(function(set,c){return set[c]=!0,set},{})}function filter(pattern,options){return options=options||{},function(p,i,list){return minimatch(p,pattern,options)}}function ext(a,b){a=a||{},b=b||{};var t={};return Object.keys(b).forEach(function(k){t[k]=b[k]}),Object.keys(a).forEach(function(k){t[k]=a[k]}),t}function minimatch(p,pattern,options){if("string"!=typeof pattern)throw new TypeError("glob pattern string required");return options||(options={}),options.nocomment||"#"!==pattern.charAt(0)?""===pattern.trim()?""===p:new Minimatch(pattern,options).match(p):!1}function Minimatch(pattern,options){if(!(this instanceof Minimatch))return new Minimatch(pattern,options);if("string"!=typeof pattern)throw new TypeError("glob pattern string required");options||(options={}),pattern=pattern.trim(),"/"!==path.sep&&(pattern=pattern.split(path.sep).join("/")),this.options=options,this.set=[],this.pattern=pattern,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function make(){if(!this._made){var pattern=this.pattern,options=this.options;if(!options.nocomment&&"#"===pattern.charAt(0))return void(this.comment=!0);if(!pattern)return void(this.empty=!0);this.parseNegate();var set=this.globSet=this.braceExpand();options.debug&&(this.debug=console.error),this.debug(this.pattern,set),set=this.globParts=set.map(function(s){return s.split(slashSplit)}),this.debug(this.pattern,set),set=set.map(function(s,si,set){return s.map(this.parse,this)},this),this.debug(this.pattern,set),set=set.filter(function(s){return-1===s.indexOf(!1)}),this.debug(this.pattern,set),this.set=set}}function parseNegate(){var pattern=this.pattern,negate=!1,options=this.options,negateOffset=0;if(!options.nonegate){for(var i=0,l=pattern.length;l>i&&"!"===pattern.charAt(i);i++)negate=!negate,negateOffset++;negateOffset&&(this.pattern=pattern.substr(negateOffset)),this.negate=negate}}function braceExpand(pattern,options){if(options||(options=this instanceof Minimatch?this.options:{}),pattern="undefined"==typeof pattern?this.pattern:pattern,"undefined"==typeof pattern)throw new TypeError("undefined pattern");return options.nobrace||!pattern.match(/\{.*\}/)?[pattern]:expand(pattern)}function parse(pattern,isSub){function clearStateChar(){if(stateChar){switch(stateChar){case"*":re+=star,hasMagic=!0;break;case"?":re+=qmark,hasMagic=!0;break;default:re+="\\"+stateChar}self.debug("clearStateChar %j %j",stateChar,re),stateChar=!1}}if(pattern.length>65536)throw new TypeError("pattern is too long");var options=this.options;if(!options.noglobstar&&"**"===pattern)return GLOBSTAR;if(""===pattern)return"";for(var stateChar,c,re="",hasMagic=!!options.nocase,escaping=!1,patternListStack=[],negativeLists=[],inClass=!1,reClassStart=-1,classStart=-1,patternStart="."===pattern.charAt(0)?"":options.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",self=this,i=0,len=pattern.length;len>i&&(c=pattern.charAt(i));i++)if(this.debug("%s	%s %s %j",pattern,i,re,c),escaping&&reSpecials[c])re+="\\"+c,escaping=!1;else switch(c){case"/":return!1;case"\\":clearStateChar(),escaping=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",pattern,i,re,c),inClass){this.debug("  in class"),"!"===c&&i===classStart+1&&(c="^"),re+=c;continue}self.debug("call clearStateChar %j",stateChar),clearStateChar(),stateChar=c,options.noext&&clearStateChar();continue;case"(":if(inClass){re+="(";continue}if(!stateChar){re+="\\(";continue}patternListStack.push({type:stateChar,start:i-1,reStart:re.length,open:plTypes[stateChar].open,close:plTypes[stateChar].close}),re+="!"===stateChar?"(?:(?!(?:":"(?:",this.debug("plType %j %j",stateChar,re),stateChar=!1;continue;case")":if(inClass||!patternListStack.length){re+="\\)";continue}clearStateChar(),hasMagic=!0;var pl=patternListStack.pop();re+=pl.close,"!"===pl.type&&negativeLists.push(pl),pl.reEnd=re.length;continue;case"|":if(inClass||!patternListStack.length||escaping){re+="\\|",escaping=!1;continue}clearStateChar(),re+="|";continue;case"[":if(clearStateChar(),inClass){re+="\\"+c;continue}inClass=!0,classStart=i,reClassStart=re.length,re+=c;continue;case"]":if(i===classStart+1||!inClass){re+="\\"+c,escaping=!1;continue}if(inClass){var cs=pattern.substring(classStart+1,i);try{RegExp("["+cs+"]")}catch(er){var sp=this.parse(cs,SUBPARSE);re=re.substr(0,reClassStart)+"\\["+sp[0]+"\\]",hasMagic=hasMagic||sp[1],inClass=!1;continue}}hasMagic=!0,inClass=!1,re+=c;continue;default:clearStateChar(),escaping?escaping=!1:!reSpecials[c]||"^"===c&&inClass||(re+="\\"),re+=c}for(inClass&&(cs=pattern.substr(classStart+1),sp=this.parse(cs,SUBPARSE),re=re.substr(0,reClassStart)+"\\["+sp[0],hasMagic=hasMagic||sp[1]),pl=patternListStack.pop();pl;pl=patternListStack.pop()){var tail=re.slice(pl.reStart+pl.open.length);this.debug("setting tail",re,pl),tail=tail.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(_,$1,$2){return $2||($2="\\"),$1+$1+$2+"|"}),this.debug("tail=%j\n   %s",tail,tail,pl,re);var t="*"===pl.type?star:"?"===pl.type?qmark:"\\"+pl.type;hasMagic=!0,re=re.slice(0,pl.reStart)+t+"\\("+tail}clearStateChar(),escaping&&(re+="\\\\");var addPatternStart=!1;switch(re.charAt(0)){case".":case"[":case"(":addPatternStart=!0}for(var n=negativeLists.length-1;n>-1;n--){var nl=negativeLists[n],nlBefore=re.slice(0,nl.reStart),nlFirst=re.slice(nl.reStart,nl.reEnd-8),nlLast=re.slice(nl.reEnd-8,nl.reEnd),nlAfter=re.slice(nl.reEnd);nlLast+=nlAfter;var openParensBefore=nlBefore.split("(").length-1,cleanAfter=nlAfter;for(i=0;openParensBefore>i;i++)cleanAfter=cleanAfter.replace(/\)[+*?]?/,"");nlAfter=cleanAfter;var dollar="";""===nlAfter&&isSub!==SUBPARSE&&(dollar="$");var newRe=nlBefore+nlFirst+nlAfter+dollar+nlLast;re=newRe}if(""!==re&&hasMagic&&(re="(?=.)"+re),addPatternStart&&(re=patternStart+re),isSub===SUBPARSE)return[re,hasMagic];if(!hasMagic)return globUnescape(pattern);var flags=options.nocase?"i":"";try{var regExp=new RegExp("^"+re+"$",flags)}catch(er){return new RegExp("$.")}return regExp._glob=pattern,regExp._src=re,regExp}function makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;var set=this.set;if(!set.length)return this.regexp=!1,this.regexp;var options=this.options,twoStar=options.noglobstar?star:options.dot?twoStarDot:twoStarNoDot,flags=options.nocase?"i":"",re=set.map(function(pattern){return pattern.map(function(p){return p===GLOBSTAR?twoStar:"string"==typeof p?regExpEscape(p):p._src}).join("\\/")}).join("|");re="^(?:"+re+")$",this.negate&&(re="^(?!"+re+").*$");try{this.regexp=new RegExp(re,flags)}catch(ex){this.regexp=!1}return this.regexp}function match(f,partial){if(this.debug("match",f,this.pattern),this.comment)return!1;if(this.empty)return""===f;if("/"===f&&partial)return!0;var options=this.options;"/"!==path.sep&&(f=f.split(path.sep).join("/")),f=f.split(slashSplit),this.debug(this.pattern,"split",f);var set=this.set;this.debug(this.pattern,"set",set);var filename,i;for(i=f.length-1;i>=0&&!(filename=f[i]);i--);for(i=0;i<set.length;i++){var pattern=set[i],file=f;options.matchBase&&1===pattern.length&&(file=[filename]);var hit=this.matchOne(file,pattern,partial);if(hit)return options.flipNegate?!0:!this.negate}return options.flipNegate?!1:this.negate}function globUnescape(s){return s.replace(/\\(.)/g,"$1")}function regExpEscape(s){return s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}module.exports=minimatch,minimatch.Minimatch=Minimatch;var path={sep:"/"};try{path=require("path")}catch(er){}var GLOBSTAR=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={},expand=require("brace-expansion"),plTypes={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},qmark="[^/]",star=qmark+"*?",twoStarDot="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",twoStarNoDot="(?:(?!(?:\\/|^)\\.).)*?",reSpecials=charSet("().*{}+?[]^$\\!"),slashSplit=/\/+/;minimatch.filter=filter,minimatch.defaults=function(def){if(!def||!Object.keys(def).length)return minimatch;var orig=minimatch,m=function(p,pattern,options){return orig.minimatch(p,pattern,ext(def,options))};return m.Minimatch=function(pattern,options){return new orig.Minimatch(pattern,ext(def,options))},m},Minimatch.defaults=function(def){return def&&Object.keys(def).length?minimatch.defaults(def).Minimatch:Minimatch},Minimatch.prototype.debug=function(){},Minimatch.prototype.make=make,Minimatch.prototype.parseNegate=parseNegate,minimatch.braceExpand=function(pattern,options){return braceExpand(pattern,options)},Minimatch.prototype.braceExpand=braceExpand,Minimatch.prototype.parse=parse;var SUBPARSE={};minimatch.makeRe=function(pattern,options){return new Minimatch(pattern,options||{}).makeRe()},Minimatch.prototype.makeRe=makeRe,minimatch.match=function(list,pattern,options){options=options||{};var mm=new Minimatch(pattern,options);return list=list.filter(function(f){return mm.match(f)}),mm.options.nonull&&!list.length&&list.push(pattern),list},Minimatch.prototype.match=match,Minimatch.prototype.matchOne=function(file,pattern,partial){var options=this.options;this.debug("matchOne",{this:this,file:file,pattern:pattern}),this.debug("matchOne",file.length,pattern.length);for(var fi=0,pi=0,fl=file.length,pl=pattern.length;fl>fi&&pl>pi;fi++,pi++){this.debug("matchOne loop");var p=pattern[pi],f=file[fi];if(this.debug(pattern,p,f),p===!1)return!1;if(p===GLOBSTAR){this.debug("GLOBSTAR",[pattern,p,f]);var fr=fi,pr=pi+1;if(pr===pl){for(this.debug("** at the end");fl>fi;fi++)if("."===file[fi]||".."===file[fi]||!options.dot&&"."===file[fi].charAt(0))return!1;return!0}for(;fl>fr;){var swallowee=file[fr];if(this.debug("\nglobstar while",file,fr,pattern,pr,swallowee),this.matchOne(file.slice(fr),pattern.slice(pr),partial))return this.debug("globstar found match!",fr,fl,swallowee),
!0;if("."===swallowee||".."===swallowee||!options.dot&&"."===swallowee.charAt(0)){this.debug("dot detected!",file,fr,pattern,pr);break}this.debug("globstar swallow a segment, and continue"),fr++}return partial&&(this.debug("\n>>> no match, partial?",file,fr,pattern,pr),fr===fl)?!0:!1}var hit;if("string"==typeof p?(hit=options.nocase?f.toLowerCase()===p.toLowerCase():f===p,this.debug("string match",p,f,hit)):(hit=f.match(p),this.debug("pattern match",p,f,hit)),!hit)return!1}if(fi===fl&&pi===pl)return!0;if(fi===fl)return partial;if(pi===pl){var emptyFileEnd=fi===fl-1&&""===file[fi];return emptyFileEnd}throw new Error("wtf?")}},{"brace-expansion":23,path:196}],191:[function(require,module,exports){function once(fn){var f=function(){return f.called?f.value:(f.called=!0,f.value=fn.apply(this,arguments))};return f.called=!1,f}function onceStrict(fn){var f=function(){if(f.called)throw new Error(f.onceError);return f.called=!0,f.value=fn.apply(this,arguments)},name=fn.name||"Function wrapped with `once`";return f.onceError=name+" shouldn't be called more than once",f.called=!1,f}var wrappy=require("wrappy");module.exports=wrappy(once),module.exports.strict=wrappy(onceStrict),once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:!0})})},{wrappy:372}],192:[function(require,module,exports){module.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],193:[function(require,module,exports){var asn1=require("asn1.js"),RSAPrivateKey=asn1.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});exports.RSAPrivateKey=RSAPrivateKey;var RSAPublicKey=asn1.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});exports.RSAPublicKey=RSAPublicKey;var PublicKey=asn1.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())});exports.PublicKey=PublicKey;var AlgorithmIdentifier=asn1.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),PrivateKeyInfo=asn1.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});exports.PrivateKey=PrivateKeyInfo;var EncryptedPrivateKeyInfo=asn1.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});exports.EncryptedPrivateKey=EncryptedPrivateKeyInfo;var DSAPrivateKey=asn1.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});exports.DSAPrivateKey=DSAPrivateKey,exports.DSAparam=asn1.define("DSAparam",function(){this.int()});var ECPrivateKey=asn1.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ECParameters),this.key("publicKey").optional().explicit(1).bitstr())});exports.ECPrivateKey=ECPrivateKey;var ECParameters=asn1.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});exports.signature=asn1.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"asn1.js":5}],194:[function(require,module,exports){(function(Buffer){var findProc=/Proc-Type: 4,ENCRYPTED\r?\nDEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\r?\n\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n/m,startRegex=/^-----BEGIN (.*) KEY-----\r?\n/m,fullRegex=/^-----BEGIN (.*) KEY-----\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n-----END \1 KEY-----$/m,evp=require("evp_bytestokey"),ciphers=require("browserify-aes");module.exports=function(okey,password){var decrypted,key=okey.toString(),match=key.match(findProc);if(match){var suite="aes"+match[1],iv=new Buffer(match[2],"hex"),cipherText=new Buffer(match[3].replace(/\r?\n/g,""),"base64"),cipherKey=evp(password,iv.slice(0,8),parseInt(match[1],10)).key,out=[],cipher=ciphers.createDecipheriv(suite,cipherKey,iv);out.push(cipher.update(cipherText)),out.push(cipher.final()),decrypted=Buffer.concat(out)}else{var match2=key.match(fullRegex);decrypted=new Buffer(match2[2].replace(/\r?\n/g,""),"base64")}var tag=key.match(startRegex)[1]+" KEY";return{tag:tag,data:decrypted}}}).call(this,require("buffer").Buffer)},{"browserify-aes":28,buffer:53,evp_bytestokey:165}],195:[function(require,module,exports){(function(Buffer){function parseKeys(buffer){var password;"object"!=typeof buffer||Buffer.isBuffer(buffer)||(password=buffer.passphrase,buffer=buffer.key),"string"==typeof buffer&&(buffer=new Buffer(buffer));var subtype,ndata,stripped=fixProc(buffer,password),type=stripped.tag,data=stripped.data;switch(type){case"PUBLIC KEY":switch(ndata=asn1.PublicKey.decode(data,"der"),subtype=ndata.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPublicKey.decode(ndata.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return ndata.subjectPrivateKey=ndata.subjectPublicKey,{type:"ec",data:ndata};case"1.2.840.10040.4.1":return ndata.algorithm.params.pub_key=asn1.DSAparam.decode(ndata.subjectPublicKey.data,"der"),{type:"dsa",data:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}throw new Error("unknown key type "+type);case"ENCRYPTED PRIVATE KEY":data=asn1.EncryptedPrivateKey.decode(data,"der"),data=decrypt(data,password);case"PRIVATE KEY":switch(ndata=asn1.PrivateKey.decode(data,"der"),subtype=ndata.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPrivateKey.decode(ndata.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:ndata.algorithm.curve,privateKey:asn1.ECPrivateKey.decode(ndata.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return ndata.algorithm.params.priv_key=asn1.DSAparam.decode(ndata.subjectPrivateKey,"der"),{type:"dsa",params:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}throw new Error("unknown key type "+type);case"RSA PUBLIC KEY":return asn1.RSAPublicKey.decode(data,"der");case"RSA PRIVATE KEY":return asn1.RSAPrivateKey.decode(data,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1.DSAPrivateKey.decode(data,"der")};case"EC PRIVATE KEY":return data=asn1.ECPrivateKey.decode(data,"der"),{curve:data.parameters.value,privateKey:data.privateKey};default:throw new Error("unknown key type "+type)}}function decrypt(data,password){var salt=data.algorithm.decrypt.kde.kdeparams.salt,iters=parseInt(data.algorithm.decrypt.kde.kdeparams.iters.toString(),10),algo=aesid[data.algorithm.decrypt.cipher.algo.join(".")],iv=data.algorithm.decrypt.cipher.iv,cipherText=data.subjectPrivateKey,keylen=parseInt(algo.split("-")[1],10)/8,key=compat.pbkdf2Sync(password,salt,iters,keylen),cipher=ciphers.createDecipheriv(algo,key,iv),out=[];return out.push(cipher.update(cipherText)),out.push(cipher.final()),Buffer.concat(out)}var asn1=require("./asn1"),aesid=require("./aesid.json"),fixProc=require("./fixProc"),ciphers=require("browserify-aes"),compat=require("pbkdf2");module.exports=parseKeys,parseKeys.signature=asn1.signature}).call(this,require("buffer").Buffer)},{"./aesid.json":192,"./asn1":193,"./fixProc":194,"browserify-aes":28,buffer:53,pbkdf2:198}],196:[function(require,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1;i>=0;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}function filter(xs,f){if(xs.filter)return xs.filter(f);for(var res=[],i=0;i<xs.length;i++)f(xs[i],i,xs)&&res.push(xs[i]);return res}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/"),(resolvedAbsolute?"/":"")+resolvedPath||"."},exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash="/"===substr(path,-1);return path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/"),path||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.isAbsolute=function(path){return"/"===path.charAt(0)},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},exports.relative=function(from,to){function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;end>=0&&""===arr[end];end--);return start>end?[]:arr.slice(start,end-start+1)}from=exports.resolve(from).substr(1),to=exports.resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;length>i;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return outputParts=outputParts.concat(toParts.slice(samePartsLength)),outputParts.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];return root||dir?(dir&&(dir=dir.substr(0,dir.length-1)),root+dir):"."},exports.basename=function(path,ext){var f=splitPath(path)[2];return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){return splitPath(path)[3]};var substr="b"==="ab".substr(-1)?function(str,start,len){return str.substr(start,len)}:function(str,start,len){return 0>start&&(start=str.length+start),str.substr(start,len)}}).call(this,require("_process"))},{_process:201}],197:[function(require,module,exports){(function(process){"use strict";function posix(path){return"/"===path.charAt(0)}function win32(path){var splitDeviceRe=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,result=splitDeviceRe.exec(path),device=result[1]||"",isUnc=Boolean(device&&":"!==device.charAt(1));return Boolean(result[2]||isUnc)}module.exports="win32"===process.platform?win32:posix,module.exports.posix=posix,module.exports.win32=win32}).call(this,require("_process"))},{_process:201}],198:[function(require,module,exports){(function(process,Buffer){var createHmac=require("create-hmac"),checkParameters=require("./precondition");exports.pbkdf2=function(password,salt,iterations,keylen,digest,callback){if("function"==typeof digest&&(callback=digest,digest=void 0),checkParameters(iterations,keylen),"function"!=typeof callback)throw new Error("No callback provided to pbkdf2");setTimeout(function(){callback(null,exports.pbkdf2Sync(password,salt,iterations,keylen,digest))})};var defaultEncoding;if(process.browser)defaultEncoding="utf-8";else{var pVersionMajor=parseInt(process.version.split(".")[0].slice(1),10);defaultEncoding=pVersionMajor>=6?"utf-8":"binary"}exports.pbkdf2Sync=function(password,salt,iterations,keylen,digest){Buffer.isBuffer(password)||(password=new Buffer(password,defaultEncoding)),Buffer.isBuffer(salt)||(salt=new Buffer(salt,defaultEncoding)),checkParameters(iterations,keylen),digest=digest||"sha1";var hLen,l=1,DK=new Buffer(keylen),block1=new Buffer(salt.length+4);salt.copy(block1,0,0,salt.length);for(var r,T,i=1;l>=i;i++){block1.writeUInt32BE(i,salt.length);var U=createHmac(digest,password).update(block1).digest();hLen||(hLen=U.length,T=new Buffer(hLen),l=Math.ceil(keylen/hLen),r=keylen-(l-1)*hLen),U.copy(T,0,0,hLen);for(var j=1;iterations>j;j++){U=createHmac(digest,password).update(U).digest();for(var k=0;hLen>k;k++)T[k]^=U[k]}var destPos=(i-1)*hLen,len=i===l?r:hLen;T.copy(DK,destPos,0,len)}return DK}}).call(this,require("_process"),require("buffer").Buffer)},{"./precondition":199,_process:201,buffer:53,"create-hmac":112}],199:[function(require,module,exports){var MAX_ALLOC=Math.pow(2,30)-1;module.exports=function(iterations,keylen){if("number"!=typeof iterations)throw new TypeError("Iterations not a number");if(0>iterations)throw new TypeError("Bad iterations");if("number"!=typeof keylen)throw new TypeError("Key length not a number");if(0>keylen||keylen>MAX_ALLOC||keylen!==keylen)throw new TypeError("Bad key length")}},{}],200:[function(require,module,exports){(function(process){"use strict";function nextTick(fn,arg1,arg2,arg3){if("function"!=typeof fn)throw new TypeError('"callback" argument must be a function');var args,i,len=arguments.length;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick(function(){fn.call(null,arg1)});case 3:return process.nextTick(function(){fn.call(null,arg1,arg2)});case 4:return process.nextTick(function(){fn.call(null,arg1,arg2,arg3)});default:for(args=new Array(len-1),i=0;i<args.length;)args[i++]=arguments[i];return process.nextTick(function(){fn.apply(null,args)})}}!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?module.exports=nextTick:module.exports=process.nextTick}).call(this,require("_process"))},{_process:201}],201:[function(require,module,exports){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],202:[function(require,module,exports){exports.publicEncrypt=require("./publicEncrypt"),exports.privateDecrypt=require("./privateDecrypt"),exports.privateEncrypt=function(key,buf){return exports.publicEncrypt(key,buf,!0)},exports.publicDecrypt=function(key,buf){return exports.privateDecrypt(key,buf,!0)}},{"./privateDecrypt":204,"./publicEncrypt":205}],203:[function(require,module,exports){(function(Buffer){function i2ops(c){var out=new Buffer(4);return out.writeUInt32BE(c,0),out}var createHash=require("create-hash");module.exports=function(seed,len){for(var c,t=new Buffer(""),i=0;t.length<len;)c=i2ops(i++),t=Buffer.concat([t,createHash("sha1").update(seed).update(c).digest()]);return t.slice(0,len)}}).call(this,require("buffer").Buffer)},{buffer:53,"create-hash":109}],204:[function(require,module,exports){(function(Buffer){function oaep(key,msg){var k=(key.modulus,key.modulus.byteLength()),iHash=(msg.length,createHash("sha1").update(new Buffer("")).digest()),hLen=iHash.length;if(0!==msg[0])throw new Error("decryption error");var maskedSeed=msg.slice(1,hLen+1),maskedDb=msg.slice(hLen+1),seed=xor(maskedSeed,mgf(maskedDb,hLen)),db=xor(maskedDb,mgf(seed,k-hLen-1));if(compare(iHash,db.slice(0,hLen)))throw new Error("decryption error");for(var i=hLen;0===db[i];)i++;if(1!==db[i++])throw new Error("decryption error");return db.slice(i)}function pkcs1(key,msg,reverse){for(var p1=msg.slice(0,2),i=2,status=0;0!==msg[i++];)if(i>=msg.length){status++;break}var ps=msg.slice(2,i-1);msg.slice(i-1,i);if(("0002"!==p1.toString("hex")&&!reverse||"0001"!==p1.toString("hex")&&reverse)&&status++,ps.length<8&&status++,status)throw new Error("decryption error");return msg.slice(i)}function compare(a,b){a=new Buffer(a),b=new Buffer(b);var dif=0,len=a.length;a.length!==b.length&&(dif++,len=Math.min(a.length,b.length));for(var i=-1;++i<len;)dif+=a[i]^b[i];return dif}var parseKeys=require("parse-asn1"),mgf=require("./mgf"),xor=require("./xor"),bn=require("bn.js"),crt=require("browserify-rsa"),createHash=require("create-hash"),withPublic=require("./withPublic");module.exports=function(private_key,enc,reverse){var padding;padding=private_key.padding?private_key.padding:reverse?1:4;var key=parseKeys(private_key),k=key.modulus.byteLength();if(enc.length>k||new bn(enc).cmp(key.modulus)>=0)throw new Error("decryption error");var msg;msg=reverse?withPublic(new bn(enc),key):crt(enc,key);var zBuffer=new Buffer(k-msg.length);if(zBuffer.fill(0),msg=Buffer.concat([zBuffer,msg],k),4===padding)return oaep(key,msg);if(1===padding)return pkcs1(key,msg,reverse);if(3===padding)return msg;throw new Error("unknown padding")}}).call(this,require("buffer").Buffer)},{"./mgf":203,"./withPublic":206,"./xor":207,"bn.js":22,"browserify-rsa":44,buffer:53,"create-hash":109,"parse-asn1":195}],205:[function(require,module,exports){(function(Buffer){function oaep(key,msg){var k=key.modulus.byteLength(),mLen=msg.length,iHash=createHash("sha1").update(new Buffer("")).digest(),hLen=iHash.length,hLen2=2*hLen;if(mLen>k-hLen2-2)throw new Error("message too long");var ps=new Buffer(k-mLen-hLen2-2);ps.fill(0);var dblen=k-hLen-1,seed=randomBytes(hLen),maskedDb=xor(Buffer.concat([iHash,ps,new Buffer([1]),msg],dblen),mgf(seed,dblen)),maskedSeed=xor(seed,mgf(maskedDb,hLen));return new bn(Buffer.concat([new Buffer([0]),maskedSeed,maskedDb],k))}function pkcs1(key,msg,reverse){var mLen=msg.length,k=key.modulus.byteLength();if(mLen>k-11)throw new Error("message too long");var ps;return reverse?(ps=new Buffer(k-mLen-3),ps.fill(255)):ps=nonZero(k-mLen-3),new bn(Buffer.concat([new Buffer([0,reverse?1:2]),ps,new Buffer([0]),msg],k))}function nonZero(len,crypto){for(var num,out=new Buffer(len),i=0,cache=randomBytes(2*len),cur=0;len>i;)cur===cache.length&&(cache=randomBytes(2*len),cur=0),num=cache[cur++],num&&(out[i++]=num);return out}var parseKeys=require("parse-asn1"),randomBytes=require("randombytes"),createHash=require("create-hash"),mgf=require("./mgf"),xor=require("./xor"),bn=require("bn.js"),withPublic=require("./withPublic"),crt=require("browserify-rsa");module.exports=function(public_key,msg,reverse){var padding;padding=public_key.padding?public_key.padding:reverse?1:4;var paddedMsg,key=parseKeys(public_key);if(4===padding)paddedMsg=oaep(key,msg);else if(1===padding)paddedMsg=pkcs1(key,msg,reverse);else{if(3!==padding)throw new Error("unknown padding");if(paddedMsg=new bn(msg),paddedMsg.cmp(key.modulus)>=0)throw new Error("data too long for modulus")}return reverse?crt(paddedMsg,key):withPublic(paddedMsg,key)}}).call(this,require("buffer").Buffer)},{"./mgf":203,"./withPublic":206,"./xor":207,"bn.js":22,"browserify-rsa":44,buffer:53,"create-hash":109,"parse-asn1":195,randombytes:208}],206:[function(require,module,exports){(function(Buffer){function withPublic(paddedMsg,key){return new Buffer(paddedMsg.toRed(bn.mont(key.modulus)).redPow(new bn(key.publicExponent)).fromRed().toArray())}var bn=require("bn.js");module.exports=withPublic}).call(this,require("buffer").Buffer)},{"bn.js":22,buffer:53}],207:[function(require,module,exports){module.exports=function(a,b){for(var len=a.length,i=-1;++i<len;)a[i]^=b[i];return a}},{}],208:[function(require,module,exports){(function(process,global,Buffer){"use strict";function oldBrowser(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function randomBytes(size,cb){if(size>65536)throw new Error("requested too many random bytes");var rawBytes=new global.Uint8Array(size);size>0&&crypto.getRandomValues(rawBytes);var bytes=new Buffer(rawBytes.buffer);return"function"==typeof cb?process.nextTick(function(){cb(null,bytes)}):bytes}var crypto=global.crypto||global.msCrypto;crypto&&crypto.getRandomValues?module.exports=randomBytes:module.exports=oldBrowser}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer)},{_process:201,buffer:53}],209:[function(require,module,exports){module.exports=require("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":210}],210:[function(require,module,exports){"use strict";function Duplex(options){return this instanceof Duplex?(Readable.call(this,options),Writable.call(this,options),options&&options.readable===!1&&(this.readable=!1),options&&options.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,options&&options.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(options)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(self){self.end()}var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var processNextTick=require("process-nextick-args"),util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable"),Writable=require("./_stream_writable");util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}},{"./_stream_readable":212,"./_stream_writable":214,"core-util-is":107,inherits:185,"process-nextick-args":200}],211:[function(require,module,exports){"use strict";function PassThrough(options){return this instanceof PassThrough?void Transform.call(this,options):new PassThrough(options)}module.exports=PassThrough;var Transform=require("./_stream_transform"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":213,"core-util-is":107,inherits:185}],212:[function(require,module,exports){(function(process){"use strict";function prependListener(emitter,event,fn){return"function"==typeof emitter.prependListener?emitter.prependListener(event,fn):void(emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn))}function ReadableState(options,stream){Duplex=Duplex||require("./_stream_duplex"),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){return Duplex=Duplex||require("./_stream_duplex"),this instanceof Readable?(this._readableState=new ReadableState(options,this),this.readable=!0,options&&"function"==typeof options.read&&(this._read=options.read),void Stream.call(this)):new Readable(options)}function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er)stream.emit("error",er);else if(null===chunk)state.reading=!1,onEofChunk(stream,state);else if(state.objectMode||chunk&&chunk.length>0)if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var _e=new Error("stream.unshift() after end event");stream.emit("error",_e)}else{var skipAdd;!state.decoder||addToFront||encoding||(chunk=state.decoder.write(chunk),skipAdd=!state.objectMode&&0===chunk.length),addToFront||(state.reading=!1),skipAdd||(state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream))),maybeReadMore(stream,state)}else addToFront||(state.reading=!1);return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function computeNewHighWaterMark(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function howMuchToRead(n,state){return 0>=n||0===state.length&&state.ended?0:state.objectMode?1:n!==n?state.flowing&&state.length?state.buffer.head.data.length:state.length:(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0))}function chunkInvalid(state,chunk){var er=null;return Buffer.isBuffer(chunk)||"string"==typeof chunk||null===chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function onEofChunk(stream,state){if(!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?processNextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,processNextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,processNextTick(resume_,stream,state))}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,state.awaitDrain=0,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug("flow",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){if(0===state.length)return null;var ret;return state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(""):1===state.buffer.length?state.buffer.head.data:state.buffer.concat(state.length),state.buffer.clear()):ret=fromListPartial(n,state.buffer,state.decoder),ret}function fromListPartial(n,list,hasStrings){var ret;return n<list.head.data.length?(ret=list.head.data.slice(0,n),list.head.data=list.head.data.slice(n)):ret=n===list.head.data.length?list.shift():hasStrings?copyFromBufferString(n,list):copyFromBuffer(n,list),ret}function copyFromBufferString(n,list){var p=list.head,c=1,ret=p.data;for(n-=ret.length;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(ret+=nb===str.length?str:str.slice(0,n),n-=nb,0===n){nb===str.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=str.slice(nb));break}++c}return list.length-=c,ret}function copyFromBuffer(n,list){var ret=bufferShim.allocUnsafe(n),p=list.head,c=1;for(p.data.copy(ret),n-=p.data.length;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),n-=nb,0===n){nb===buf.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=buf.slice(nb));break}++c}return list.length-=c,ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,processNextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function forEach(xs,f){for(var i=0,l=xs.length;l>i;i++)f(xs[i],i);
}function indexOf(xs,x){for(var i=0,l=xs.length;l>i;i++)if(xs[i]===x)return i;return-1}module.exports=Readable;var processNextTick=require("process-nextick-args"),isArray=require("isarray");Readable.ReadableState=ReadableState;var Stream,EElistenerCount=(require("events").EventEmitter,function(emitter,type){return emitter.listeners(type).length});!function(){try{Stream=require("stream")}catch(_){}finally{Stream||(Stream=require("events").EventEmitter)}}();var Buffer=require("buffer").Buffer,bufferShim=require("buffer-shims"),util=require("core-util-is");util.inherits=require("inherits");var debugUtil=require("util"),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder,BufferList=require("./internal/streams/BufferList");util.inherits(Readable,Stream);var Duplex,Duplex;Readable.prototype.push=function(chunk,encoding){var state=this._readableState;return state.objectMode||"string"!=typeof chunk||(encoding=encoding||state.defaultEncoding,encoding!==state.encoding&&(chunk=bufferShim.from(chunk,encoding),encoding="")),readableAddChunk(this,state,chunk,encoding,!1)},Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(n=howMuchToRead(n,state),0===n&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),state.ended||state.reading?(doRead=!1,debug("reading or ended",doRead)):doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,state.reading||(n=howMuchToRead(nOrig,state)));var ret;return ret=n>0?fromList(n,state):null,null===ret?(state.needReadable=!0,n=0):state.length-=n,0===state.length&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable){debug("onunpipe"),readable===src&&cleanup()}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",cleanup),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata"),increasedAwaitDrain=!1;var ret=dest.write(chunk);!1!==ret||increasedAwaitDrain||((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++,increasedAwaitDrain=!0),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==!1)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:cleanup;state.endEmitted?processNextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=!1,increasedAwaitDrain=!1;return src.on("data",ondata),prependListener(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState;if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var _i=0;len>_i;_i++)dests[_i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);return-1===i?this:(state.pipes.splice(i,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev)this._readableState.flowing!==!1&&this.resume();else if("readable"===ev){var state=this._readableState;state.endEmitted||state.readableListening||(state.readableListening=state.needReadable=!0,state.emittedReadable=!1,state.reading?state.length&&emitReadable(this,state):processNextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)}),stream.on("data",function(chunk){if(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),(!state.objectMode||null!==chunk&&void 0!==chunk)&&(state.objectMode||chunk&&chunk.length)){var ret=self.push(chunk);ret||(paused=!0,stream.pause())}});for(var i in stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));var events=["error","close","destroy","pause","resume"];return forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))}),self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}).call(this,require("_process"))},{"./_stream_duplex":210,"./internal/streams/BufferList":215,_process:201,buffer:53,"buffer-shims":51,"core-util-is":107,events:164,inherits:185,isarray:187,"process-nextick-args":200,"string_decoder/":261,util:25}],213:[function(require,module,exports){"use strict";function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null,ts.writecb=null,null!==data&&void 0!==data&&stream.push(data),cb(er);var rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(er){done(stream,er)}):done(stream)})}function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("Calling transform done when ws.length != 0");if(ts.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}module.exports=Transform;var Duplex=require("./_stream_duplex"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("Not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0}},{"./_stream_duplex":210,"core-util-is":107,inherits:185}],214:[function(require,module,exports){(function(process){"use strict";function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk,this.encoding=encoding,this.callback=cb,this.next=null}function WritableState(options,stream){Duplex=Duplex||require("./_stream_duplex"),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var noDecode=options.decodeStrings===!1;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){return Duplex=Duplex||require("./_stream_duplex"),this instanceof Writable||this instanceof Duplex?(this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev)),void Stream.call(this)):new Writable(options)}function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er),processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):Buffer.isBuffer(chunk)||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er&&(stream.emit("error",er),processNextTick(cb,er),valid=!1),valid}function decodeChunk(state,chunk,encoding){return state.objectMode||state.decodeStrings===!1||"string"!=typeof chunk||(chunk=bufferShim.from(chunk,encoding)),chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding),Buffer.isBuffer(chunk)&&(encoding="buffer");var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb),last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?processNextTick(cb,er):cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0;entry;)buffer[count]=entry,entry=entry.next,count+=1;doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state)}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback,len=state.objectMode?1:chunk.length;if(doWrite(stream,state,!1,len,chunk,encoding,cb),entry=entry.next,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequestCount=0,state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function prefinish(stream,state){state.prefinished||(state.prefinished=!0,stream.emit("prefinish"))}function finishMaybe(stream,state){var need=needFinish(state);return need&&(0===state.pendingcb?(prefinish(stream,state),state.finished=!0,stream.emit("finish")):prefinish(stream,state)),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?processNextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(err){var entry=_this.entry;for(_this.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=_this:state.corkedRequestsFree=_this}}module.exports=Writable;var processNextTick=require("process-nextick-args"),asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var Stream,internalUtil={deprecate:require("util-deprecate")};!function(){try{Stream=require("stream")}catch(_){}finally{Stream||(Stream=require("events").EventEmitter)}}();var Buffer=require("buffer").Buffer,bufferShim=require("buffer-shims");util.inherits(Writable,Stream);var Duplex;WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(_){}}();var Duplex;Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1;return"function"==typeof encoding&&(cb=encoding,encoding=null),Buffer.isBuffer(chunk)?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?writeAfterEnd(this,cb):validChunk(this,state,chunk,cb)&&(state.pendingcb++,ret=writeOrBuffer(this,state,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){var state=this._writableState;state.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)}}).call(this,require("_process"))},{"./_stream_duplex":210,_process:201,buffer:53,"buffer-shims":51,"core-util-is":107,events:164,inherits:185,"process-nextick-args":200,"util-deprecate":367}],215:[function(require,module,exports){"use strict";function BufferList(){this.head=null,this.tail=null,this.length=0}var bufferShim=(require("buffer").Buffer,require("buffer-shims"));module.exports=BufferList,BufferList.prototype.push=function(v){var entry={data:v,next:null};this.length>0?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length},BufferList.prototype.unshift=function(v){var entry={data:v,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var ret=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(s){if(0===this.length)return"";for(var p=this.head,ret=""+p.data;p=p.next;)ret+=s+p.data;return ret},BufferList.prototype.concat=function(n){if(0===this.length)return bufferShim.alloc(0);if(1===this.length)return this.head.data;for(var ret=bufferShim.allocUnsafe(n>>>0),p=this.head,i=0;p;)p.data.copy(ret,i),i+=p.data.length,p=p.next;return ret}},{buffer:53,"buffer-shims":51}],216:[function(require,module,exports){module.exports=require("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":211}],217:[function(require,module,exports){(function(process){var Stream=function(){try{return require("stream")}catch(_){}}();exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=Stream||exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"),!process.browser&&"disable"===process.env.READABLE_STREAM&&Stream&&(module.exports=Stream)}).call(this,require("_process"))},{"./lib/_stream_duplex.js":210,"./lib/_stream_passthrough.js":211,"./lib/_stream_readable.js":212,"./lib/_stream_transform.js":213,"./lib/_stream_writable.js":214,_process:201}],218:[function(require,module,exports){module.exports=require("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":213}],219:[function(require,module,exports){module.exports=require("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":214}],220:[function(require,module,exports){(function(global){!function(root){var freeExports="object"==typeof exports&&exports,freeModule="object"==typeof module&&module&&module.exports==freeExports&&module,freeGlobal="object"==typeof global&&global;(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal)&&(root=freeGlobal);var ERRORS={rangeOrder:"A range’s `stop` value must be greater than or equal to the `start` value.",codePointRange:"Invalid code point value. Code points range from U+000000 to U+10FFFF."},HIGH_SURROGATE_MIN=55296,HIGH_SURROGATE_MAX=56319,LOW_SURROGATE_MIN=56320,LOW_SURROGATE_MAX=57343,regexNull=/\\x00([^0123456789]|$)/g,object={},hasOwnProperty=object.hasOwnProperty,extend=function(destination,source){var key;for(key in source)hasOwnProperty.call(source,key)&&(destination[key]=source[key]);return destination},forEach=function(array,callback){for(var index=-1,length=array.length;++index<length;)callback(array[index],index)},toString=object.toString,isArray=function(value){return"[object Array]"==toString.call(value)},isNumber=function(value){return"number"==typeof value||"[object Number]"==toString.call(value)},zeroes="0000",pad=function(number,totalCharacters){var string=String(number);return string.length<totalCharacters?(zeroes+string).slice(-totalCharacters):string},hex=function(number){return Number(number).toString(16).toUpperCase()},slice=[].slice,dataFromCodePoints=function(codePoints){for(var tmp,index=-1,length=codePoints.length,max=length-1,result=[],isStart=!0,previous=0;++index<length;)if(tmp=codePoints[index],isStart)result.push(tmp),previous=tmp,isStart=!1;else if(tmp==previous+1){if(index!=max){previous=tmp;continue}isStart=!0,result.push(tmp+1)}else result.push(previous+1,tmp),previous=tmp;return isStart||result.push(tmp+1),result},dataRemove=function(data,codePoint){for(var start,end,index=0,length=data.length;length>index;){if(start=data[index],end=data[index+1],codePoint>=start&&end>codePoint)return codePoint==start?end==start+1?(data.splice(index,2),data):(data[index]=codePoint+1,data):codePoint==end-1?(data[index+1]=codePoint,data):(data.splice(index,2,start,codePoint,codePoint+1,end),data);index+=2}return data},dataRemoveRange=function(data,rangeStart,rangeEnd){if(rangeStart>rangeEnd)throw Error(ERRORS.rangeOrder);for(var start,end,index=0;index<data.length;){if(start=data[index],end=data[index+1]-1,start>rangeEnd)return data;if(start>=rangeStart&&rangeEnd>=end)data.splice(index,2);else{if(rangeStart>=start&&end>rangeEnd)return rangeStart==start?(data[index]=rangeEnd+1,data[index+1]=end+1,data):(data.splice(index,2,start,rangeStart,rangeEnd+1,end+1),data);if(rangeStart>=start&&end>=rangeStart)data[index+1]=rangeStart;else if(rangeEnd>=start&&end>=rangeEnd)return data[index]=rangeEnd+1,data;index+=2}}return data},dataAdd=function(data,codePoint){var start,end,index=0,lastIndex=null,length=data.length;if(0>codePoint||codePoint>1114111)throw RangeError(ERRORS.codePointRange);for(;length>index;){if(start=data[index],end=data[index+1],codePoint>=start&&end>codePoint)return data;if(codePoint==start-1)return data[index]=codePoint,data;if(start>codePoint)return data.splice(null!=lastIndex?lastIndex+2:0,0,codePoint,codePoint+1),data;if(codePoint==end)return codePoint+1==data[index+2]?(data.splice(index,4,start,data[index+3]),data):(data[index+1]=codePoint+1,data);lastIndex=index,index+=2}return data.push(codePoint,codePoint+1),data},dataAddData=function(dataA,dataB){for(var start,end,index=0,data=dataA.slice(),length=dataB.length;length>index;)start=dataB[index],end=dataB[index+1]-1,data=start==end?dataAdd(data,start):dataAddRange(data,start,end),index+=2;return data},dataRemoveData=function(dataA,dataB){for(var start,end,index=0,data=dataA.slice(),length=dataB.length;length>index;)start=dataB[index],end=dataB[index+1]-1,data=start==end?dataRemove(data,start):dataRemoveRange(data,start,end),index+=2;return data},dataAddRange=function(data,rangeStart,rangeEnd){if(rangeStart>rangeEnd)throw Error(ERRORS.rangeOrder);if(0>rangeStart||rangeStart>1114111||0>rangeEnd||rangeEnd>1114111)throw RangeError(ERRORS.codePointRange);for(var start,end,index=0,added=!1,length=data.length;length>index;){if(start=data[index],end=data[index+1],added){if(start==rangeEnd+1)return data.splice(index-1,2),data;if(start>rangeEnd)return data;start>=rangeStart&&rangeEnd>=start&&(end>rangeStart&&rangeEnd>=end-1?(data.splice(index,2),index-=2):(data.splice(index-1,2),index-=2))}else{if(start==rangeEnd+1)return data[index]=rangeStart,data;if(start>rangeEnd)return data.splice(index,0,rangeStart,rangeEnd+1),data;if(rangeStart>=start&&end>rangeStart&&end>=rangeEnd+1)return data;rangeStart>=start&&end>rangeStart||end==rangeStart?(data[index+1]=rangeEnd+1,added=!0):start>=rangeStart&&rangeEnd+1>=end&&(data[index]=rangeStart,data[index+1]=rangeEnd+1,added=!0)}index+=2}return added||data.push(rangeStart,rangeEnd+1),data},dataContains=function(data,codePoint){var index=0,length=data.length,start=data[index],end=data[length-1];if(length>=2&&(start>codePoint||codePoint>end))return!1;for(;length>index;){if(start=data[index],end=data[index+1],codePoint>=start&&end>codePoint)return!0;index+=2}return!1},dataIntersection=function(data,codePoints){for(var codePoint,index=0,length=codePoints.length,result=[];length>index;)codePoint=codePoints[index],dataContains(data,codePoint)&&result.push(codePoint),++index;return dataFromCodePoints(result)},dataIsEmpty=function(data){return!data.length},dataIsSingleton=function(data){return 2==data.length&&data[0]+1==data[1]},dataToArray=function(data){for(var start,end,index=0,result=[],length=data.length;length>index;){for(start=data[index],end=data[index+1];end>start;)result.push(start),++start;index+=2}return result},floor=Math.floor,highSurrogate=function(codePoint){return parseInt(floor((codePoint-65536)/1024)+HIGH_SURROGATE_MIN,10)},lowSurrogate=function(codePoint){return parseInt((codePoint-65536)%1024+LOW_SURROGATE_MIN,10)},stringFromCharCode=String.fromCharCode,codePointToString=function(codePoint){var string;return string=9==codePoint?"\\t":10==codePoint?"\\n":12==codePoint?"\\f":13==codePoint?"\\r":92==codePoint?"\\\\":36==codePoint||codePoint>=40&&43>=codePoint||45==codePoint||46==codePoint||63==codePoint||codePoint>=91&&94>=codePoint||codePoint>=123&&125>=codePoint?"\\"+stringFromCharCode(codePoint):codePoint>=32&&126>=codePoint?stringFromCharCode(codePoint):255>=codePoint?"\\x"+pad(hex(codePoint),2):"\\u"+pad(hex(codePoint),4)},codePointToStringUnicode=function(codePoint){return 65535>=codePoint?codePointToString(codePoint):"\\u{"+codePoint.toString(16).toUpperCase()+"}"},symbolToCodePoint=function(symbol){var second,length=symbol.length,first=symbol.charCodeAt(0);return first>=HIGH_SURROGATE_MIN&&HIGH_SURROGATE_MAX>=first&&length>1?(second=symbol.charCodeAt(1),1024*(first-HIGH_SURROGATE_MIN)+second-LOW_SURROGATE_MIN+65536):first},createBMPCharacterClasses=function(data){var start,end,result="",index=0,length=data.length;if(dataIsSingleton(data))return codePointToString(data[0]);for(;length>index;)start=data[index],end=data[index+1]-1,result+=start==end?codePointToString(start):start+1==end?codePointToString(start)+codePointToString(end):codePointToString(start)+"-"+codePointToString(end),index+=2;return"["+result+"]"},createUnicodeCharacterClasses=function(data){var start,end,result="",index=0,length=data.length;if(dataIsSingleton(data))return codePointToStringUnicode(data[0]);for(;length>index;)start=data[index],end=data[index+1]-1,result+=start==end?codePointToStringUnicode(start):start+1==end?codePointToStringUnicode(start)+codePointToStringUnicode(end):codePointToStringUnicode(start)+"-"+codePointToStringUnicode(end),index+=2;return"["+result+"]"},splitAtBMP=function(data){for(var start,end,loneHighSurrogates=[],loneLowSurrogates=[],bmp=[],astral=[],index=0,length=data.length;length>index;)start=data[index],end=data[index+1]-1,HIGH_SURROGATE_MIN>start?(HIGH_SURROGATE_MIN>end&&bmp.push(start,end+1),end>=HIGH_SURROGATE_MIN&&HIGH_SURROGATE_MAX>=end&&(bmp.push(start,HIGH_SURROGATE_MIN),loneHighSurrogates.push(HIGH_SURROGATE_MIN,end+1)),end>=LOW_SURROGATE_MIN&&LOW_SURROGATE_MAX>=end&&(bmp.push(start,HIGH_SURROGATE_MIN),loneHighSurrogates.push(HIGH_SURROGATE_MIN,HIGH_SURROGATE_MAX+1),loneLowSurrogates.push(LOW_SURROGATE_MIN,end+1)),end>LOW_SURROGATE_MAX&&(bmp.push(start,HIGH_SURROGATE_MIN),loneHighSurrogates.push(HIGH_SURROGATE_MIN,HIGH_SURROGATE_MAX+1),loneLowSurrogates.push(LOW_SURROGATE_MIN,LOW_SURROGATE_MAX+1),65535>=end?bmp.push(LOW_SURROGATE_MAX+1,end+1):(bmp.push(LOW_SURROGATE_MAX+1,65536),astral.push(65536,end+1)))):start>=HIGH_SURROGATE_MIN&&HIGH_SURROGATE_MAX>=start?(end>=HIGH_SURROGATE_MIN&&HIGH_SURROGATE_MAX>=end&&loneHighSurrogates.push(start,end+1),end>=LOW_SURROGATE_MIN&&LOW_SURROGATE_MAX>=end&&(loneHighSurrogates.push(start,HIGH_SURROGATE_MAX+1),loneLowSurrogates.push(LOW_SURROGATE_MIN,end+1)),end>LOW_SURROGATE_MAX&&(loneHighSurrogates.push(start,HIGH_SURROGATE_MAX+1),loneLowSurrogates.push(LOW_SURROGATE_MIN,LOW_SURROGATE_MAX+1),65535>=end?bmp.push(LOW_SURROGATE_MAX+1,end+1):(bmp.push(LOW_SURROGATE_MAX+1,65536),astral.push(65536,end+1)))):start>=LOW_SURROGATE_MIN&&LOW_SURROGATE_MAX>=start?(end>=LOW_SURROGATE_MIN&&LOW_SURROGATE_MAX>=end&&loneLowSurrogates.push(start,end+1),end>LOW_SURROGATE_MAX&&(loneLowSurrogates.push(start,LOW_SURROGATE_MAX+1),65535>=end?bmp.push(LOW_SURROGATE_MAX+1,end+1):(bmp.push(LOW_SURROGATE_MAX+1,65536),astral.push(65536,end+1)))):start>LOW_SURROGATE_MAX&&65535>=start?65535>=end?bmp.push(start,end+1):(bmp.push(start,65536),astral.push(65536,end+1)):astral.push(start,end+1),index+=2;return{loneHighSurrogates:loneHighSurrogates,loneLowSurrogates:loneLowSurrogates,bmp:bmp,astral:astral}},optimizeSurrogateMappings=function(surrogateMappings){for(var mapping,nextMapping,highSurrogates,lowSurrogates,nextHighSurrogates,nextLowSurrogates,result=[],tmpLow=[],addLow=!1,index=-1,length=surrogateMappings.length;++index<length;)if(mapping=surrogateMappings[index],nextMapping=surrogateMappings[index+1]){for(highSurrogates=mapping[0],lowSurrogates=mapping[1],nextHighSurrogates=nextMapping[0],nextLowSurrogates=nextMapping[1],tmpLow=lowSurrogates;nextHighSurrogates&&highSurrogates[0]==nextHighSurrogates[0]&&highSurrogates[1]==nextHighSurrogates[1];)tmpLow=dataIsSingleton(nextLowSurrogates)?dataAdd(tmpLow,nextLowSurrogates[0]):dataAddRange(tmpLow,nextLowSurrogates[0],nextLowSurrogates[1]-1),++index,mapping=surrogateMappings[index],highSurrogates=mapping[0],lowSurrogates=mapping[1],nextMapping=surrogateMappings[index+1],nextHighSurrogates=nextMapping&&nextMapping[0],nextLowSurrogates=nextMapping&&nextMapping[1],addLow=!0;result.push([highSurrogates,addLow?tmpLow:lowSurrogates]),addLow=!1}else result.push(mapping);return optimizeByLowSurrogates(result)},optimizeByLowSurrogates=function(surrogateMappings){if(1==surrogateMappings.length)return surrogateMappings;for(var index=-1,innerIndex=-1;++index<surrogateMappings.length;){var mapping=surrogateMappings[index],lowSurrogates=mapping[1],lowSurrogateStart=lowSurrogates[0],lowSurrogateEnd=lowSurrogates[1];for(innerIndex=index;++innerIndex<surrogateMappings.length;){var otherMapping=surrogateMappings[innerIndex],otherLowSurrogates=otherMapping[1],otherLowSurrogateStart=otherLowSurrogates[0],otherLowSurrogateEnd=otherLowSurrogates[1];lowSurrogateStart==otherLowSurrogateStart&&lowSurrogateEnd==otherLowSurrogateEnd&&(dataIsSingleton(otherMapping[0])?mapping[0]=dataAdd(mapping[0],otherMapping[0][0]):mapping[0]=dataAddRange(mapping[0],otherMapping[0][0],otherMapping[0][1]-1),
surrogateMappings.splice(innerIndex,1),--innerIndex)}}return surrogateMappings},surrogateSet=function(data){if(!data.length)return[];for(var start,end,startHigh,startLow,endHigh,endLow,index=0,prevStartHigh=0,prevEndHigh=0,surrogateMappings=[],length=data.length;length>index;){start=data[index],end=data[index+1]-1,startHigh=highSurrogate(start),startLow=lowSurrogate(start),endHigh=highSurrogate(end),endLow=lowSurrogate(end);var startsWithLowestLowSurrogate=startLow==LOW_SURROGATE_MIN,endsWithHighestLowSurrogate=endLow==LOW_SURROGATE_MAX,complete=!1;startHigh==endHigh||startsWithLowestLowSurrogate&&endsWithHighestLowSurrogate?(surrogateMappings.push([[startHigh,endHigh+1],[startLow,endLow+1]]),complete=!0):surrogateMappings.push([[startHigh,startHigh+1],[startLow,LOW_SURROGATE_MAX+1]]),!complete&&endHigh>startHigh+1&&(endsWithHighestLowSurrogate?(surrogateMappings.push([[startHigh+1,endHigh+1],[LOW_SURROGATE_MIN,endLow+1]]),complete=!0):surrogateMappings.push([[startHigh+1,endHigh],[LOW_SURROGATE_MIN,LOW_SURROGATE_MAX+1]])),complete||surrogateMappings.push([[endHigh,endHigh+1],[LOW_SURROGATE_MIN,endLow+1]]),prevStartHigh=startHigh,prevEndHigh=endHigh,index+=2}return optimizeSurrogateMappings(surrogateMappings)},createSurrogateCharacterClasses=function(surrogateMappings){var result=[];return forEach(surrogateMappings,function(surrogateMapping){var highSurrogates=surrogateMapping[0],lowSurrogates=surrogateMapping[1];result.push(createBMPCharacterClasses(highSurrogates)+createBMPCharacterClasses(lowSurrogates))}),result.join("|")},createCharacterClassesFromData=function(data,bmpOnly,hasUnicodeFlag){if(hasUnicodeFlag)return createUnicodeCharacterClasses(data);var result=[],parts=splitAtBMP(data),loneHighSurrogates=parts.loneHighSurrogates,loneLowSurrogates=parts.loneLowSurrogates,bmp=parts.bmp,astral=parts.astral,hasLoneHighSurrogates=(!dataIsEmpty(parts.astral),!dataIsEmpty(loneHighSurrogates)),hasLoneLowSurrogates=!dataIsEmpty(loneLowSurrogates),surrogateMappings=surrogateSet(astral);return bmpOnly&&(bmp=dataAddData(bmp,loneHighSurrogates),hasLoneHighSurrogates=!1,bmp=dataAddData(bmp,loneLowSurrogates),hasLoneLowSurrogates=!1),dataIsEmpty(bmp)||result.push(createBMPCharacterClasses(bmp)),surrogateMappings.length&&result.push(createSurrogateCharacterClasses(surrogateMappings)),hasLoneHighSurrogates&&result.push(createBMPCharacterClasses(loneHighSurrogates)+"(?![\\uDC00-\\uDFFF])"),hasLoneLowSurrogates&&result.push("(?:[^\\uD800-\\uDBFF]|^)"+createBMPCharacterClasses(loneLowSurrogates)),result.join("|")},regenerate=function(value){return arguments.length>1&&(value=slice.call(arguments)),this instanceof regenerate?(this.data=[],value?this.add(value):this):(new regenerate).add(value)};regenerate.version="1.3.1";var proto=regenerate.prototype;extend(proto,{add:function(value){var $this=this;return null==value?$this:value instanceof regenerate?($this.data=dataAddData($this.data,value.data),$this):(arguments.length>1&&(value=slice.call(arguments)),isArray(value)?(forEach(value,function(item){$this.add(item)}),$this):($this.data=dataAdd($this.data,isNumber(value)?value:symbolToCodePoint(value)),$this))},remove:function(value){var $this=this;return null==value?$this:value instanceof regenerate?($this.data=dataRemoveData($this.data,value.data),$this):(arguments.length>1&&(value=slice.call(arguments)),isArray(value)?(forEach(value,function(item){$this.remove(item)}),$this):($this.data=dataRemove($this.data,isNumber(value)?value:symbolToCodePoint(value)),$this))},addRange:function(start,end){var $this=this;return $this.data=dataAddRange($this.data,isNumber(start)?start:symbolToCodePoint(start),isNumber(end)?end:symbolToCodePoint(end)),$this},removeRange:function(start,end){var $this=this,startCodePoint=isNumber(start)?start:symbolToCodePoint(start),endCodePoint=isNumber(end)?end:symbolToCodePoint(end);return $this.data=dataRemoveRange($this.data,startCodePoint,endCodePoint),$this},intersection:function(argument){var $this=this,array=argument instanceof regenerate?dataToArray(argument.data):argument;return $this.data=dataIntersection($this.data,array),$this},contains:function(codePoint){return dataContains(this.data,isNumber(codePoint)?codePoint:symbolToCodePoint(codePoint))},clone:function(){var set=new regenerate;return set.data=this.data.slice(0),set},toString:function(options){var result=createCharacterClassesFromData(this.data,options?options.bmpOnly:!1,options?options.hasUnicodeFlag:!1);return result?result.replace(regexNull,"\\0$1"):"[]"},toRegExp:function(flags){var pattern=this.toString(flags&&-1!=flags.indexOf("u")?{hasUnicodeFlag:!0}:null);return RegExp(pattern,flags||"")},valueOf:function(){return dataToArray(this.data)}}),proto.toArray=proto.valueOf,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return regenerate}):freeExports&&!freeExports.nodeType?freeModule?freeModule.exports=regenerate:freeExports.regenerate=regenerate:root.regenerate=regenerate}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],221:[function(require,module,exports){var regenerate=require("regenerate");exports.REGULAR={d:regenerate().addRange(48,57),D:regenerate().addRange(0,47).addRange(58,65535),s:regenerate(32,160,5760,6158,8239,8287,12288,65279).addRange(9,13).addRange(8192,8202).addRange(8232,8233),S:regenerate().addRange(0,8).addRange(14,31).addRange(33,159).addRange(161,5759).addRange(5761,6157).addRange(6159,8191).addRange(8203,8231).addRange(8234,8238).addRange(8240,8286).addRange(8288,12287).addRange(12289,65278).addRange(65280,65535),w:regenerate(95).addRange(48,57).addRange(65,90).addRange(97,122),W:regenerate(96).addRange(0,47).addRange(58,64).addRange(91,94).addRange(123,65535)},exports.UNICODE={d:regenerate().addRange(48,57),D:regenerate().addRange(0,47).addRange(58,1114111),s:regenerate(32,160,5760,6158,8239,8287,12288,65279).addRange(9,13).addRange(8192,8202).addRange(8232,8233),S:regenerate().addRange(0,8).addRange(14,31).addRange(33,159).addRange(161,5759).addRange(5761,6157).addRange(6159,8191).addRange(8203,8231).addRange(8234,8238).addRange(8240,8286).addRange(8288,12287).addRange(12289,65278).addRange(65280,1114111),w:regenerate(95).addRange(48,57).addRange(65,90).addRange(97,122),W:regenerate(96).addRange(0,47).addRange(58,64).addRange(91,94).addRange(123,1114111)},exports.UNICODE_IGNORE_CASE={d:regenerate().addRange(48,57),D:regenerate().addRange(0,47).addRange(58,1114111),s:regenerate(32,160,5760,6158,8239,8287,12288,65279).addRange(9,13).addRange(8192,8202).addRange(8232,8233),S:regenerate().addRange(0,8).addRange(14,31).addRange(33,159).addRange(161,5759).addRange(5761,6157).addRange(6159,8191).addRange(8203,8231).addRange(8234,8238).addRange(8240,8286).addRange(8288,12287).addRange(12289,65278).addRange(65280,1114111),w:regenerate(95,383,8490).addRange(48,57).addRange(65,90).addRange(97,122),W:regenerate(75,83,96).addRange(0,47).addRange(58,64).addRange(91,94).addRange(123,1114111)}},{regenerate:220}],222:[function(require,module,exports){module.exports={75:8490,83:383,107:8490,115:383,181:924,197:8491,383:83,452:453,453:452,455:456,456:455,458:459,459:458,497:498,498:497,837:8126,914:976,917:1013,920:1012,921:8126,922:1008,924:181,928:982,929:1009,931:962,934:981,937:8486,962:931,976:914,977:1012,981:934,982:928,1008:922,1009:929,1012:[920,977],1013:917,7776:7835,7835:7776,8126:[837,921],8486:937,8490:75,8491:197,66560:66600,66561:66601,66562:66602,66563:66603,66564:66604,66565:66605,66566:66606,66567:66607,66568:66608,66569:66609,66570:66610,66571:66611,66572:66612,66573:66613,66574:66614,66575:66615,66576:66616,66577:66617,66578:66618,66579:66619,66580:66620,66581:66621,66582:66622,66583:66623,66584:66624,66585:66625,66586:66626,66587:66627,66588:66628,66589:66629,66590:66630,66591:66631,66592:66632,66593:66633,66594:66634,66595:66635,66596:66636,66597:66637,66598:66638,66599:66639,66600:66560,66601:66561,66602:66562,66603:66563,66604:66564,66605:66565,66606:66566,66607:66567,66608:66568,66609:66569,66610:66570,66611:66571,66612:66572,66613:66573,66614:66574,66615:66575,66616:66576,66617:66577,66618:66578,66619:66579,66620:66580,66621:66581,66622:66582,66623:66583,66624:66584,66625:66585,66626:66586,66627:66587,66628:66588,66629:66589,66630:66590,66631:66591,66632:66592,66633:66593,66634:66594,66635:66595,66636:66596,66637:66597,66638:66598,66639:66599,68736:68800,68737:68801,68738:68802,68739:68803,68740:68804,68741:68805,68742:68806,68743:68807,68744:68808,68745:68809,68746:68810,68747:68811,68748:68812,68749:68813,68750:68814,68751:68815,68752:68816,68753:68817,68754:68818,68755:68819,68756:68820,68757:68821,68758:68822,68759:68823,68760:68824,68761:68825,68762:68826,68763:68827,68764:68828,68765:68829,68766:68830,68767:68831,68768:68832,68769:68833,68770:68834,68771:68835,68772:68836,68773:68837,68774:68838,68775:68839,68776:68840,68777:68841,68778:68842,68779:68843,68780:68844,68781:68845,68782:68846,68783:68847,68784:68848,68785:68849,68786:68850,68800:68736,68801:68737,68802:68738,68803:68739,68804:68740,68805:68741,68806:68742,68807:68743,68808:68744,68809:68745,68810:68746,68811:68747,68812:68748,68813:68749,68814:68750,68815:68751,68816:68752,68817:68753,68818:68754,68819:68755,68820:68756,68821:68757,68822:68758,68823:68759,68824:68760,68825:68761,68826:68762,68827:68763,68828:68764,68829:68765,68830:68766,68831:68767,68832:68768,68833:68769,68834:68770,68835:68771,68836:68772,68837:68773,68838:68774,68839:68775,68840:68776,68841:68777,68842:68778,68843:68779,68844:68780,68845:68781,68846:68782,68847:68783,68848:68784,68849:68785,68850:68786,71840:71872,71841:71873,71842:71874,71843:71875,71844:71876,71845:71877,71846:71878,71847:71879,71848:71880,71849:71881,71850:71882,71851:71883,71852:71884,71853:71885,71854:71886,71855:71887,71856:71888,71857:71889,71858:71890,71859:71891,71860:71892,71861:71893,71862:71894,71863:71895,71864:71896,71865:71897,71866:71898,71867:71899,71868:71900,71869:71901,71870:71902,71871:71903,71872:71840,71873:71841,71874:71842,71875:71843,71876:71844,71877:71845,71878:71846,71879:71847,71880:71848,71881:71849,71882:71850,71883:71851,71884:71852,71885:71853,71886:71854,71887:71855,71888:71856,71889:71857,71890:71858,71891:71859,71892:71860,71893:71861,71894:71862,71895:71863,71896:71864,71897:71865,71898:71866,71899:71867,71900:71868,71901:71869,71902:71870,71903:71871}},{}],223:[function(require,module,exports){function getCharacterClassEscapeSet(character){return unicode?ignoreCase?ESCAPE_SETS.UNICODE_IGNORE_CASE[character]:ESCAPE_SETS.UNICODE[character]:ESCAPE_SETS.REGULAR[character]}function has(object,property){return hasOwnProperty.call(object,property)}function assign(target,source){for(var key in source)target[key]=source[key]}function update(item,pattern){if(pattern){var tree=parse(pattern,"");switch(tree.type){case"characterClass":case"group":case"value":break;default:tree=wrap(tree,pattern)}assign(item,tree)}}function wrap(tree,pattern){return{type:"group",behavior:"ignore",body:[tree],raw:"(?:"+pattern+")"}}function caseFold(codePoint){return has(iuMappings,codePoint)?iuMappings[codePoint]:!1}function processCharacterClass(characterClassItem){var set=regenerate();characterClassItem.body.forEach(function(item){switch(item.type){case"value":if(set.add(item.codePoint),ignoreCase&&unicode){var folded=caseFold(item.codePoint);folded&&set.add(folded)}break;case"characterClassRange":var min=item.min.codePoint,max=item.max.codePoint;set.addRange(min,max),ignoreCase&&unicode&&set.iuAddRange(min,max);break;case"characterClassEscape":set.add(getCharacterClassEscapeSet(item.value));break;default:throw Error("Unknown term type: "+item.type)}});return characterClassItem.negative&&(set=(unicode?UNICODE_SET:BMP_SET).clone().remove(set)),update(characterClassItem,set.toString()),characterClassItem}function processTerm(item){switch(item.type){case"dot":update(item,(unicode?DOT_SET_UNICODE:DOT_SET).toString());break;case"characterClass":item=processCharacterClass(item);break;case"characterClassEscape":update(item,getCharacterClassEscapeSet(item.value).toString());break;case"alternative":case"disjunction":case"group":case"quantifier":item.body=item.body.map(processTerm);break;case"value":var codePoint=item.codePoint,set=regenerate(codePoint);if(ignoreCase&&unicode){var folded=caseFold(codePoint);folded&&set.add(folded)}update(item,set.toString());break;case"anchor":case"empty":case"group":case"reference":break;default:throw Error("Unknown term type: "+item.type)}return item}var generate=require("regjsgen").generate,parse=require("regjsparser").parse,regenerate=require("regenerate"),iuMappings=require("./data/iu-mappings.json"),ESCAPE_SETS=require("./data/character-class-escape-sets.js"),object={},hasOwnProperty=object.hasOwnProperty,UNICODE_SET=regenerate().addRange(0,1114111),BMP_SET=regenerate().addRange(0,65535),DOT_SET_UNICODE=UNICODE_SET.clone().remove(10,13,8232,8233),DOT_SET=DOT_SET_UNICODE.clone().intersection(BMP_SET);regenerate.prototype.iuAddRange=function(min,max){var $this=this;do{var folded=caseFold(min);folded&&$this.add(folded)}while(++min<=max);return $this};var ignoreCase=!1,unicode=!1;module.exports=function(pattern,flags){var tree=parse(pattern,flags);return ignoreCase=flags?flags.indexOf("i")>-1:!1,unicode=flags?flags.indexOf("u")>-1:!1,assign(tree,processTerm(tree)),generate(tree)}},{"./data/character-class-escape-sets.js":221,"./data/iu-mappings.json":222,regenerate:220,regjsgen:224,regjsparser:225}],224:[function(require,module,exports){(function(global){(function(){"use strict";function fromCodePoint(){var highSurrogate,lowSurrogate,MAX_SIZE=16384,codeUnits=[],index=-1,length=arguments.length;if(!length)return"";for(var result="";++index<length;){var codePoint=Number(arguments[index]);if(!isFinite(codePoint)||0>codePoint||codePoint>1114111||floor(codePoint)!=codePoint)throw RangeError("Invalid code point: "+codePoint);65535>=codePoint?codeUnits.push(codePoint):(codePoint-=65536,highSurrogate=(codePoint>>10)+55296,lowSurrogate=codePoint%1024+56320,codeUnits.push(highSurrogate,lowSurrogate)),(index+1==length||codeUnits.length>MAX_SIZE)&&(result+=stringFromCharCode.apply(null,codeUnits),codeUnits.length=0)}return result}function assertType(type,expected){if(-1==expected.indexOf("|")){if(type==expected)return;throw Error("Invalid node type: "+type)}if(expected=assertType.hasOwnProperty(expected)?assertType[expected]:assertType[expected]=RegExp("^(?:"+expected+")$"),!expected.test(type))throw Error("Invalid node type: "+type)}function generate(node){var type=node.type;if(generate.hasOwnProperty(type)&&"function"==typeof generate[type])return generate[type](node);throw Error("Invalid node type: "+type)}function generateAlternative(node){assertType(node.type,"alternative");var terms=node.body,length=terms?terms.length:0;if(1==length)return generateTerm(terms[0]);for(var i=-1,result="";++i<length;)result+=generateTerm(terms[i]);return result}function generateAnchor(node){switch(assertType(node.type,"anchor"),node.kind){case"start":return"^";case"end":return"$";case"boundary":return"\\b";case"not-boundary":return"\\B";default:throw Error("Invalid assertion")}}function generateAtom(node){return assertType(node.type,"anchor|characterClass|characterClassEscape|dot|group|reference|value"),generate(node)}function generateCharacterClass(node){assertType(node.type,"characterClass");var classRanges=node.body,length=classRanges?classRanges.length:0,i=-1,result="[";for(node.negative&&(result+="^");++i<length;)result+=generateClassAtom(classRanges[i]);return result+="]"}function generateCharacterClassEscape(node){return assertType(node.type,"characterClassEscape"),"\\"+node.value}function generateCharacterClassRange(node){assertType(node.type,"characterClassRange");var min=node.min,max=node.max;if("characterClassRange"==min.type||"characterClassRange"==max.type)throw Error("Invalid character class range");return generateClassAtom(min)+"-"+generateClassAtom(max)}function generateClassAtom(node){return assertType(node.type,"anchor|characterClassEscape|characterClassRange|dot|value"),generate(node)}function generateDisjunction(node){assertType(node.type,"disjunction");var body=node.body,length=body?body.length:0;if(0==length)throw Error("No body");if(1==length)return generate(body[0]);for(var i=-1,result="";++i<length;)0!=i&&(result+="|"),result+=generate(body[i]);return result}function generateDot(node){return assertType(node.type,"dot"),"."}function generateGroup(node){assertType(node.type,"group");var result="(";switch(node.behavior){case"normal":break;case"ignore":result+="?:";break;case"lookahead":result+="?=";break;case"negativeLookahead":result+="?!";break;default:throw Error("Invalid behaviour: "+node.behaviour)}var body=node.body,length=body?body.length:0;if(1==length)result+=generate(body[0]);else for(var i=-1;++i<length;)result+=generate(body[i]);return result+=")"}function generateQuantifier(node){assertType(node.type,"quantifier");var quantifier="",min=node.min,max=node.max;switch(max){case void 0:case null:switch(min){case 0:quantifier="*";break;case 1:quantifier="+";break;default:quantifier="{"+min+",}"}break;default:quantifier=min==max?"{"+min+"}":0==min&&1==max?"?":"{"+min+","+max+"}"}return node.greedy||(quantifier+="?"),generateAtom(node.body[0])+quantifier}function generateReference(node){return assertType(node.type,"reference"),"\\"+node.matchIndex}function generateTerm(node){return assertType(node.type,"anchor|characterClass|characterClassEscape|empty|group|quantifier|reference|value"),generate(node)}function generateValue(node){assertType(node.type,"value");var kind=node.kind,codePoint=node.codePoint;switch(kind){case"controlLetter":return"\\c"+fromCodePoint(codePoint+64);case"hexadecimalEscape":return"\\x"+("00"+codePoint.toString(16).toUpperCase()).slice(-2);case"identifier":return"\\"+fromCodePoint(codePoint);case"null":return"\\"+codePoint;case"octal":return"\\"+codePoint.toString(8);case"singleEscape":switch(codePoint){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r";default:throw Error("Invalid codepoint: "+codePoint)}case"symbol":return fromCodePoint(codePoint);case"unicodeEscape":return"\\u"+("0000"+codePoint.toString(16).toUpperCase()).slice(-4);case"unicodeCodePointEscape":return"\\u{"+codePoint.toString(16).toUpperCase()+"}";default:throw Error("Unsupported node kind: "+kind)}}var objectTypes={function:!0,object:!0},root=objectTypes[typeof window]&&window||this,freeExports=objectTypes[typeof exports]&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=freeExports&&freeModule&&"object"==typeof global&&global;!freeGlobal||freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self!==freeGlobal||(root=freeGlobal);var stringFromCharCode=String.fromCharCode,floor=Math.floor;generate.alternative=generateAlternative,generate.anchor=generateAnchor,generate.characterClass=generateCharacterClass,generate.characterClassEscape=generateCharacterClassEscape,generate.characterClassRange=generateCharacterClassRange,generate.disjunction=generateDisjunction,generate.dot=generateDot,generate.group=generateGroup,generate.quantifier=generateQuantifier,generate.reference=generateReference,generate.value=generateValue,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return{generate:generate}}):freeExports&&freeModule?freeExports.generate=generate:root.regjsgen={generate:generate}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],225:[function(require,module,exports){!function(){function parse(str,flags){function addRaw(node){return node.raw=str.substring(node.range[0],node.range[1]),node}function updateRawStart(node,start){return node.range[0]=start,addRaw(node)}function createAnchor(kind,rawLength){return addRaw({type:"anchor",kind:kind,range:[pos-rawLength,pos]})}function createValue(kind,codePoint,from,to){return addRaw({type:"value",kind:kind,codePoint:codePoint,range:[from,to]})}function createEscaped(kind,codePoint,value,fromOffset){return fromOffset=fromOffset||0,createValue(kind,codePoint,pos-(value.length+fromOffset),pos)}function createCharacter(matches){var _char=matches[0],first=_char.charCodeAt(0);if(hasUnicodeFlag){var second;if(1===_char.length&&first>=55296&&56319>=first&&(second=lookahead().charCodeAt(0),second>=56320&&57343>=second))return pos++,createValue("symbol",1024*(first-55296)+second-56320+65536,pos-2,pos)}return createValue("symbol",first,pos-1,pos)}function createDisjunction(alternatives,from,to){return addRaw({type:"disjunction",body:alternatives,range:[from,to]})}function createDot(){return addRaw({type:"dot",range:[pos-1,pos]})}function createCharacterClassEscape(value){return addRaw({type:"characterClassEscape",value:value,range:[pos-2,pos]})}function createReference(matchIndex){return addRaw({type:"reference",matchIndex:parseInt(matchIndex,10),range:[pos-1-matchIndex.length,pos]})}function createGroup(behavior,disjunction,from,to){return addRaw({type:"group",behavior:behavior,body:disjunction,range:[from,to]})}function createQuantifier(min,max,from,to){return null==to&&(from=pos-1,to=pos),addRaw({type:"quantifier",min:min,max:max,greedy:!0,body:null,range:[from,to]})}function createAlternative(terms,from,to){return addRaw({type:"alternative",body:terms,range:[from,to]})}function createCharacterClass(classRanges,negative,from,to){return addRaw({type:"characterClass",body:classRanges,negative:negative,range:[from,to]})}function createClassRange(min,max,from,to){return min.codePoint>max.codePoint&&bail("invalid range in character class",min.raw+"-"+max.raw,from,to),addRaw({type:"characterClassRange",min:min,max:max,range:[from,to]})}function flattenBody(body){return"alternative"===body.type?body.body:[body]}function incr(amount){amount=amount||1;var res=str.substring(pos,pos+amount);return pos+=amount||1,res}function skip(value){match(value)||bail("character",value)}function match(value){return str.indexOf(value,pos)===pos?incr(value.length):void 0}function lookahead(){return str[pos]}function current(value){return str.indexOf(value,pos)===pos}function next(value){return str[pos+1]===value}function matchReg(regExp){var subStr=str.substring(pos),res=subStr.match(regExp);return res&&(res.range=[],res.range[0]=pos,incr(res[0].length),res.range[1]=pos),res}function parseDisjunction(){var res=[],from=pos;for(res.push(parseAlternative());match("|");)res.push(parseAlternative());return 1===res.length?res[0]:createDisjunction(res,from,pos)}function parseAlternative(){for(var term,res=[],from=pos;term=parseTerm();)res.push(term);return 1===res.length?res[0]:createAlternative(res,from,pos)}function parseTerm(){if(pos>=str.length||current("|")||current(")"))return null;var anchor=parseAnchor();if(anchor)return anchor;var atom=parseAtom();atom||bail("Expected atom");var quantifier=parseQuantifier()||!1;return quantifier?(quantifier.body=flattenBody(atom),updateRawStart(quantifier,atom.range[0]),quantifier):atom}function parseGroup(matchA,typeA,matchB,typeB){var type=null,from=pos;if(match(matchA))type=typeA;else{if(!match(matchB))return!1;type=typeB}var body=parseDisjunction();body||bail("Expected disjunction"),skip(")");var group=createGroup(type,flattenBody(body),from,pos);return"normal"==type&&firstIteration&&closedCaptureCounter++,group}function parseAnchor(){return match("^")?createAnchor("start",1):match("$")?createAnchor("end",1):match("\\b")?createAnchor("boundary",2):match("\\B")?createAnchor("not-boundary",2):parseGroup("(?=","lookahead","(?!","negativeLookahead")}function parseQuantifier(){var res,quantifier,min,max,from=pos;return match("*")?quantifier=createQuantifier(0):match("+")?quantifier=createQuantifier(1):match("?")?quantifier=createQuantifier(0,1):(res=matchReg(/^\{([0-9]+)\}/))?(min=parseInt(res[1],10),quantifier=createQuantifier(min,min,res.range[0],res.range[1])):(res=matchReg(/^\{([0-9]+),\}/))?(min=parseInt(res[1],10),quantifier=createQuantifier(min,void 0,res.range[0],res.range[1])):(res=matchReg(/^\{([0-9]+),([0-9]+)\}/))&&(min=parseInt(res[1],10),max=parseInt(res[2],10),min>max&&bail("numbers out of order in {} quantifier","",from,pos),quantifier=createQuantifier(min,max,res.range[0],res.range[1])),quantifier&&match("?")&&(quantifier.greedy=!1,quantifier.range[1]+=1),quantifier}function parseAtom(){var res;return(res=matchReg(/^[^^$\\.*+?(){[|]/))?createCharacter(res):match(".")?createDot():match("\\")?(res=parseAtomEscape(),res||bail("atomEscape"),res):(res=parseCharacterClass())?res:parseGroup("(?:","ignore","(","normal")}function parseUnicodeSurrogatePairEscape(firstEscape){if(hasUnicodeFlag){var first,second;if("unicodeEscape"==firstEscape.kind&&(first=firstEscape.codePoint)>=55296&&56319>=first&&current("\\")&&next("u")){var prevPos=pos;pos++;var secondEscape=parseClassEscape();"unicodeEscape"==secondEscape.kind&&(second=secondEscape.codePoint)>=56320&&57343>=second?(firstEscape.range[1]=secondEscape.range[1],firstEscape.codePoint=1024*(first-55296)+second-56320+65536,firstEscape.type="value",firstEscape.kind="unicodeCodePointEscape",addRaw(firstEscape)):pos=prevPos}}return firstEscape}function parseClassEscape(){return parseAtomEscape(!0)}function parseAtomEscape(insideCharacterClass){var res,from=pos;if(res=parseDecimalEscape())return res;if(insideCharacterClass){if(match("b"))return createEscaped("singleEscape",8,"\\b");match("B")&&bail("\\B not possible inside of CharacterClass","",from)}return res=parseCharacterEscape()}function parseDecimalEscape(){var res,match;if(res=matchReg(/^(?!0)\d+/)){match=res[0];var refIdx=parseInt(res[0],10);return closedCaptureCounter>=refIdx?createReference(res[0]):(backrefDenied.push(refIdx),incr(-res[0].length),(res=matchReg(/^[0-7]{1,3}/))?createEscaped("octal",parseInt(res[0],8),res[0],1):(res=createCharacter(matchReg(/^[89]/)),updateRawStart(res,res.range[0]-1)))}return(res=matchReg(/^[0-7]{1,3}/))?(match=res[0],/^0{1,3}$/.test(match)?createEscaped("null",0,"0",match.length+1):createEscaped("octal",parseInt(match,8),match,1)):(res=matchReg(/^[dDsSwW]/))?createCharacterClassEscape(res[0]):!1}function parseCharacterEscape(){var res;if(res=matchReg(/^[fnrtv]/)){var codePoint=0;switch(res[0]){case"t":codePoint=9;break;case"n":codePoint=10;break;case"v":codePoint=11;break;case"f":codePoint=12;break;case"r":codePoint=13}return createEscaped("singleEscape",codePoint,"\\"+res[0])}return(res=matchReg(/^c([a-zA-Z])/))?createEscaped("controlLetter",res[1].charCodeAt(0)%32,res[1],2):(res=matchReg(/^x([0-9a-fA-F]{2})/))?createEscaped("hexadecimalEscape",parseInt(res[1],16),res[1],2):(res=matchReg(/^u([0-9a-fA-F]{4})/))?parseUnicodeSurrogatePairEscape(createEscaped("unicodeEscape",parseInt(res[1],16),res[1],2)):hasUnicodeFlag&&(res=matchReg(/^u\{([0-9a-fA-F]+)\}/))?createEscaped("unicodeCodePointEscape",parseInt(res[1],16),res[1],4):parseIdentityEscape()}function isIdentifierPart(ch){var NonAsciiIdentifierPart=new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԯԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠ-ࢲࣤ-ॣ०-९ॱ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧ᪰-᪽ᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶ᳸᳹ᴀ-᷵᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚝꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꧠ-ꧾꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︭︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]");return 36===ch||95===ch||ch>=65&&90>=ch||ch>=97&&122>=ch||ch>=48&&57>=ch||92===ch||ch>=128&&NonAsciiIdentifierPart.test(String.fromCharCode(ch))}function parseIdentityEscape(){var tmp,ZWJ="‌",ZWNJ="‍";return isIdentifierPart(lookahead())?match(ZWJ)?createEscaped("identifier",8204,ZWJ):match(ZWNJ)?createEscaped("identifier",8205,ZWNJ):null:(tmp=incr(),createEscaped("identifier",tmp.charCodeAt(0),tmp,1))}function parseCharacterClass(){var res,from=pos;return(res=matchReg(/^\[\^/))?(res=parseClassRanges(),skip("]"),createCharacterClass(res,!0,from,pos)):match("[")?(res=parseClassRanges(),skip("]"),createCharacterClass(res,!1,from,pos)):null}function parseClassRanges(){var res;return current("]")?[]:(res=parseNonemptyClassRanges(),res||bail("nonEmptyClassRanges"),res)}function parseHelperClassRanges(atom){var from,to,res;if(current("-")&&!next("]")){skip("-"),res=parseClassAtom(),res||bail("classAtom"),to=pos;var classRanges=parseClassRanges();return classRanges||bail("classRanges"),from=atom.range[0],"empty"===classRanges.type?[createClassRange(atom,res,from,to)]:[createClassRange(atom,res,from,to)].concat(classRanges)}return res=parseNonemptyClassRangesNoDash(),res||bail("nonEmptyClassRangesNoDash"),[atom].concat(res)}function parseNonemptyClassRanges(){var atom=parseClassAtom();return atom||bail("classAtom"),current("]")?[atom]:parseHelperClassRanges(atom)}function parseNonemptyClassRangesNoDash(){var res=parseClassAtom();return res||bail("classAtom"),current("]")?res:parseHelperClassRanges(res)}function parseClassAtom(){return match("-")?createCharacter("-"):parseClassAtomNoDash()}function parseClassAtomNoDash(){var res;return(res=matchReg(/^[^\\\]-]/))?createCharacter(res[0]):match("\\")?(res=parseClassEscape(),res||bail("classEscape"),parseUnicodeSurrogatePairEscape(res)):void 0}function bail(message,details,from,to){from=null==from?pos:from,to=null==to?from:to;var contextStart=Math.max(0,from-10),contextEnd=Math.min(to+10,str.length),context="    "+str.substring(contextStart,contextEnd),pointer="    "+new Array(from-contextStart+1).join(" ")+"^";throw SyntaxError(message+" at position "+from+(details?": "+details:"")+"\n"+context+"\n"+pointer)}var backrefDenied=[],closedCaptureCounter=0,firstIteration=!0,hasUnicodeFlag=-1!==(flags||"").indexOf("u"),pos=0;str=String(str),""===str&&(str="(?:)");var result=parseDisjunction();result.range[1]!==str.length&&bail("Could not parse entire input - got stuck","",result.range[1]);for(var i=0;i<backrefDenied.length;i++)if(backrefDenied[i]<=closedCaptureCounter)return pos=0,firstIteration=!1,parseDisjunction();return result}var regjsparser={parse:parse};"undefined"!=typeof module&&module.exports?module.exports=regjsparser:window.regjsparser=regjsparser}()},{}],226:[function(require,module,exports){var core=require("./lib/core");exports=module.exports=require("./lib/async"),exports.core=core,exports.isCore=function(x){return core[x]},exports.sync=require("./lib/sync")},{"./lib/async":227,"./lib/core":230,"./lib/sync":232}],227:[function(require,module,exports){(function(process){var core=require("./core"),fs=require("fs"),path=require("path"),caller=require("./caller.js"),nodeModulesPaths=require("./node-modules-paths.js");"win32"===process.platform?/[\/\\]/:/\//;module.exports=function(x,opts,cb){function onfile(err,m,pkg){err?cb(err):m?cb(null,m,pkg):loadAsDirectory(res,function(err,d,pkg){err?cb(err):d?cb(null,d,pkg):cb(new Error("Cannot find module '"+x+"' from '"+y+"'"))})}function loadAsFile(x,pkg,cb){function load(exts,x,pkg){function onpkg(err,pkg_,dir){if(pkg=pkg_,err)return cb(err);if(dir&&pkg&&opts.pathFilter){var rfile=path.relative(dir,file),rel=rfile.slice(0,rfile.length-exts[0].length),r=opts.pathFilter(pkg,x,rel);if(r)return load([""].concat(extensions.slice()),path.resolve(dir,r),pkg);
}isFile(file,onex)}function onex(err,ex){err?cb(err):ex?cb(null,file,pkg):load(exts.slice(1),x,pkg)}if(0===exts.length)return cb(null,void 0,pkg);var file=x+exts[0];pkg?onpkg(null,pkg):loadpkg(path.dirname(file),onpkg)}"function"==typeof pkg&&(cb=pkg,pkg=void 0);var exts=[""].concat(extensions);load(exts,x,pkg)}function loadpkg(dir,cb){if(""===dir||"/"===dir)return cb(null);if("win32"===process.platform&&/^\w:[\\\/]*$/.test(dir))return cb(null);if(/[\\\/]node_modules[\\\/]*$/.test(dir))return cb(null);var pkgfile=path.join(dir,"package.json");isFile(pkgfile,function(err,ex){return ex?void readFile(pkgfile,function(err,body){err&&cb(err);try{var pkg=JSON.parse(body)}catch(err){}pkg&&opts.packageFilter&&(pkg=opts.packageFilter(pkg,pkgfile)),cb(null,pkg,dir)}):loadpkg(path.dirname(dir),cb)})}function loadAsDirectory(x,fpkg,cb){"function"==typeof fpkg&&(cb=fpkg,fpkg=opts.package);var pkgfile=path.join(x,"/package.json");isFile(pkgfile,function(err,ex){return err?cb(err):ex?void readFile(pkgfile,function(err,body){if(err)return cb(err);try{var pkg=JSON.parse(body)}catch(err){}return opts.packageFilter&&(pkg=opts.packageFilter(pkg,pkgfile)),pkg.main?(("."===pkg.main||"./"===pkg.main)&&(pkg.main="index"),void loadAsFile(path.resolve(x,pkg.main),pkg,function(err,m,pkg){if(err)return cb(err);if(m)return cb(null,m,pkg);if(!pkg)return loadAsFile(path.join(x,"/index"),pkg,cb);var dir=path.resolve(x,pkg.main);loadAsDirectory(dir,pkg,function(err,n,pkg){return err?cb(err):n?cb(null,n,pkg):void loadAsFile(path.join(x,"/index"),pkg,cb)})})):void loadAsFile(path.join(x,"/index"),pkg,cb)}):loadAsFile(path.join(x,"/index"),fpkg,cb)})}function loadNodeModules(x,start,cb){!function process(dirs){function onfile(err,m,pkg){return err?cb(err):m?cb(null,m,pkg):void loadAsDirectory(path.join(dir,"/",x),void 0,ondir)}function ondir(err,n,pkg){return err?cb(err):n?cb(null,n,pkg):void process(dirs.slice(1))}if(0===dirs.length)return cb(null,void 0);var dir=dirs[0],file=path.join(dir,"/",x);loadAsFile(file,void 0,onfile)}(nodeModulesPaths(start,opts))}if("function"==typeof opts&&(cb=opts,opts={}),opts||(opts={}),"string"!=typeof x)return process.nextTick(function(){cb(new Error("path must be a string"))});var isFile=opts.isFile||function(file,cb){fs.stat(file,function(err,stat){err&&"ENOENT"===err.code?cb(null,!1):err?cb(err):cb(null,stat.isFile()||stat.isFIFO())})},readFile=opts.readFile||fs.readFile,extensions=opts.extensions||[".js"],y=opts.basedir||path.dirname(caller());if(opts.paths=opts.paths||[],/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[\\\/])/.test(x)){var res=path.resolve(y,x);".."===x&&(res+="/"),/\/$/.test(x)&&res===y?loadAsDirectory(res,opts.package,onfile):loadAsFile(res,opts.package,onfile)}else loadNodeModules(x,y,function(err,n,pkg){if(err)cb(err);else if(n)cb(null,n,pkg);else{if(core[x])return cb(null,x);cb(new Error("Cannot find module '"+x+"' from '"+y+"'"))}})}}).call(this,require("_process"))},{"./caller.js":228,"./core":230,"./node-modules-paths.js":231,_process:201,fs:50,path:196}],228:[function(require,module,exports){module.exports=function(){var origPrepareStackTrace=Error.prepareStackTrace;Error.prepareStackTrace=function(_,stack){return stack};var stack=(new Error).stack;return Error.prepareStackTrace=origPrepareStackTrace,stack[2].getFileName()}},{}],229:[function(require,module,exports){module.exports=["assert","buffer_ieee754","buffer","child_process","cluster","console","constants","crypto","_debugger","dgram","dns","domain","events","freelist","fs","http","https","_linklist","module","net","os","path","punycode","querystring","readline","repl","stream","string_decoder","sys","timers","tls","tty","url","util","vm","zlib"]},{}],230:[function(require,module,exports){module.exports=require("./core.json").reduce(function(acc,x){return acc[x]=!0,acc},{})},{"./core.json":229}],231:[function(require,module,exports){(function(process){var path=require("path");module.exports=function(start,opts){var modules=opts.moduleDirectory?[].concat(opts.moduleDirectory):["node_modules"];start=path.resolve(start);var prefix="/";/^([A-Za-z]:)/.test(start)?prefix="":/^\\\\/.test(start)&&(prefix="\\\\");for(var splitRe="win32"===process.platform?/[\/\\]/:/\/+/,parts=start.split(splitRe),dirs=[],i=parts.length-1;i>=0;i--)-1===modules.indexOf(parts[i])&&(dirs=dirs.concat(modules.map(function(module_dir){return prefix+path.join(path.join.apply(path,parts.slice(0,i+1)),module_dir)})));return"win32"===process.platform&&(dirs[dirs.length-1]=dirs[dirs.length-1].replace(":",":\\")),dirs.concat(opts.paths)}}).call(this,require("_process"))},{_process:201,path:196}],232:[function(require,module,exports){var core=require("./core"),fs=require("fs"),path=require("path"),caller=require("./caller.js"),nodeModulesPaths=require("./node-modules-paths.js");module.exports=function(x,opts){function loadAsFileSync(x){if(isFile(x))return x;for(var i=0;i<extensions.length;i++){var file=x+extensions[i];if(isFile(file))return file}}function loadAsDirectorySync(x){var pkgfile=path.join(x,"/package.json");if(isFile(pkgfile)){var body=readFileSync(pkgfile,"utf8");try{var pkg=JSON.parse(body);if(opts.packageFilter&&(pkg=opts.packageFilter(pkg,x)),pkg.main){var m=loadAsFileSync(path.resolve(x,pkg.main));if(m)return m;var n=loadAsDirectorySync(path.resolve(x,pkg.main));if(n)return n}}catch(err){}}return loadAsFileSync(path.join(x,"/index"))}function loadNodeModulesSync(x,start){for(var dirs=nodeModulesPaths(start,opts),i=0;i<dirs.length;i++){var dir=dirs[i],m=loadAsFileSync(path.join(dir,"/",x));if(m)return m;var n=loadAsDirectorySync(path.join(dir,"/",x));if(n)return n}}opts||(opts={});var isFile=opts.isFile||function(file){try{var stat=fs.statSync(file)}catch(err){if(err&&"ENOENT"===err.code)return!1}return stat.isFile()||stat.isFIFO()},readFileSync=opts.readFileSync||fs.readFileSync,extensions=opts.extensions||[".js"],y=opts.basedir||path.dirname(caller());if(opts.paths=opts.paths||[],/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[\\\/])/.test(x)){var res=path.resolve(y,x);".."===x&&(res+="/");var m=loadAsFileSync(res)||loadAsDirectorySync(res);if(m)return m}else{var n=loadNodeModulesSync(x,y);if(n)return n}if(core[x])return x;throw new Error("Cannot find module '"+x+"' from '"+y+"'")}},{"./caller.js":228,"./core":230,"./node-modules-paths.js":231,fs:50,path:196}],233:[function(require,module,exports){(function(Buffer){function bytesToWords(bytes){for(var words=[],i=0,b=0;i<bytes.length;i++,b+=8)words[b>>>5]|=bytes[i]<<24-b%32;return words}function wordsToBytes(words){for(var bytes=[],b=0;b<32*words.length;b+=8)bytes.push(words[b>>>5]>>>24-b%32&255);return bytes}function processBlock(H,M,offset){for(var i=0;16>i;i++){var offset_i=offset+i,M_offset_i=M[offset_i];M[offset_i]=16711935&(M_offset_i<<8|M_offset_i>>>24)|4278255360&(M_offset_i<<24|M_offset_i>>>8)}var al,bl,cl,dl,el,ar,br,cr,dr,er;ar=al=H[0],br=bl=H[1],cr=cl=H[2],dr=dl=H[3],er=el=H[4];var t;for(i=0;80>i;i+=1)t=al+M[offset+zl[i]]|0,t+=16>i?f1(bl,cl,dl)+hl[0]:32>i?f2(bl,cl,dl)+hl[1]:48>i?f3(bl,cl,dl)+hl[2]:64>i?f4(bl,cl,dl)+hl[3]:f5(bl,cl,dl)+hl[4],t=0|t,t=rotl(t,sl[i]),t=t+el|0,al=el,el=dl,dl=rotl(cl,10),cl=bl,bl=t,t=ar+M[offset+zr[i]]|0,t+=16>i?f5(br,cr,dr)+hr[0]:32>i?f4(br,cr,dr)+hr[1]:48>i?f3(br,cr,dr)+hr[2]:64>i?f2(br,cr,dr)+hr[3]:f1(br,cr,dr)+hr[4],t=0|t,t=rotl(t,sr[i]),t=t+er|0,ar=er,er=dr,dr=rotl(cr,10),cr=br,br=t;t=H[1]+cl+dr|0,H[1]=H[2]+dl+er|0,H[2]=H[3]+el+ar|0,H[3]=H[4]+al+br|0,H[4]=H[0]+bl+cr|0,H[0]=t}function f1(x,y,z){return x^y^z}function f2(x,y,z){return x&y|~x&z}function f3(x,y,z){return(x|~y)^z}function f4(x,y,z){return x&z|y&~z}function f5(x,y,z){return x^(y|~z)}function rotl(x,n){return x<<n|x>>>32-n}function ripemd160(message){var H=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof message&&(message=new Buffer(message,"utf8"));var m=bytesToWords(message),nBitsLeft=8*message.length,nBitsTotal=8*message.length;m[nBitsLeft>>>5]|=128<<24-nBitsLeft%32,m[(nBitsLeft+64>>>9<<4)+14]=16711935&(nBitsTotal<<8|nBitsTotal>>>24)|4278255360&(nBitsTotal<<24|nBitsTotal>>>8);for(var i=0;i<m.length;i+=16)processBlock(H,m,i);for(i=0;5>i;i++){var H_i=H[i];H[i]=16711935&(H_i<<8|H_i>>>24)|4278255360&(H_i<<24|H_i>>>8)}var digestbytes=wordsToBytes(H);return new Buffer(digestbytes)}var zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];module.exports=ripemd160}).call(this,require("buffer").Buffer)},{buffer:53}],234:[function(require,module,exports){"use strict";var root_1=require("./util/root"),toSubscriber_1=require("./util/toSubscriber"),observable_1=require("./symbol/observable"),Observable=function(){function Observable(subscribe){this._isScalar=!1,subscribe&&(this._subscribe=subscribe)}return Observable.prototype.lift=function(operator){var observable=new Observable;return observable.source=this,observable.operator=operator,observable},Observable.prototype.subscribe=function(observerOrNext,error,complete){var operator=this.operator,sink=toSubscriber_1.toSubscriber(observerOrNext,error,complete);if(operator?operator.call(sink,this):sink.add(this._subscribe(sink)),sink.syncErrorThrowable&&(sink.syncErrorThrowable=!1,sink.syncErrorThrown))throw sink.syncErrorValue;return sink},Observable.prototype.forEach=function(next,PromiseCtor){var _this=this;if(PromiseCtor||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?PromiseCtor=root_1.root.Rx.config.Promise:root_1.root.Promise&&(PromiseCtor=root_1.root.Promise)),!PromiseCtor)throw new Error("no Promise impl found");return new PromiseCtor(function(resolve,reject){var subscription=_this.subscribe(function(value){if(subscription)try{next(value)}catch(err){reject(err),subscription.unsubscribe()}else next(value)},reject,resolve)})},Observable.prototype._subscribe=function(subscriber){return this.source.subscribe(subscriber)},Observable.prototype[observable_1.$$observable]=function(){return this},Observable.create=function(subscribe){return new Observable(subscribe)},Observable}();exports.Observable=Observable},{"./symbol/observable":240,"./util/root":248,"./util/toSubscriber":249}],235:[function(require,module,exports){"use strict";exports.empty={closed:!0,next:function(value){},error:function(err){throw err},complete:function(){}}},{}],236:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=require("./Observable"),Subscriber_1=require("./Subscriber"),Subscription_1=require("./Subscription"),ObjectUnsubscribedError_1=require("./util/ObjectUnsubscribedError"),SubjectSubscription_1=require("./SubjectSubscription"),rxSubscriber_1=require("./symbol/rxSubscriber"),SubjectSubscriber=function(_super){function SubjectSubscriber(destination){_super.call(this,destination),this.destination=destination}return __extends(SubjectSubscriber,_super),SubjectSubscriber}(Subscriber_1.Subscriber);exports.SubjectSubscriber=SubjectSubscriber;var Subject=function(_super){function Subject(){_super.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return __extends(Subject,_super),Subject.prototype[rxSubscriber_1.$$rxSubscriber]=function(){return new SubjectSubscriber(this)},Subject.prototype.lift=function(operator){var subject=new AnonymousSubject(this,this);return subject.operator=operator,subject},Subject.prototype.next=function(value){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;if(!this.isStopped)for(var observers=this.observers,len=observers.length,copy=observers.slice(),i=0;len>i;i++)copy[i].next(value)},Subject.prototype.error=function(err){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=err,this.isStopped=!0;for(var observers=this.observers,len=observers.length,copy=observers.slice(),i=0;len>i;i++)copy[i].error(err);this.observers.length=0},Subject.prototype.complete=function(){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;this.isStopped=!0;for(var observers=this.observers,len=observers.length,copy=observers.slice(),i=0;len>i;i++)copy[i].complete();this.observers.length=0},Subject.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},Subject.prototype._subscribe=function(subscriber){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;return this.hasError?(subscriber.error(this.thrownError),Subscription_1.Subscription.EMPTY):this.isStopped?(subscriber.complete(),Subscription_1.Subscription.EMPTY):(this.observers.push(subscriber),new SubjectSubscription_1.SubjectSubscription(this,subscriber))},Subject.prototype.asObservable=function(){var observable=new Observable_1.Observable;return observable.source=this,observable},Subject.create=function(destination,source){return new AnonymousSubject(destination,source)},Subject}(Observable_1.Observable);exports.Subject=Subject;var AnonymousSubject=function(_super){function AnonymousSubject(destination,source){_super.call(this),this.destination=destination,this.source=source}return __extends(AnonymousSubject,_super),AnonymousSubject.prototype.next=function(value){var destination=this.destination;destination&&destination.next&&destination.next(value)},AnonymousSubject.prototype.error=function(err){var destination=this.destination;destination&&destination.error&&this.destination.error(err)},AnonymousSubject.prototype.complete=function(){var destination=this.destination;destination&&destination.complete&&this.destination.complete()},AnonymousSubject.prototype._subscribe=function(subscriber){var source=this.source;return source?this.source.subscribe(subscriber):Subscription_1.Subscription.EMPTY},AnonymousSubject}(Subject);exports.AnonymousSubject=AnonymousSubject},{"./Observable":234,"./SubjectSubscription":237,"./Subscriber":238,"./Subscription":239,"./symbol/rxSubscriber":241,"./util/ObjectUnsubscribedError":242}],237:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscription_1=require("./Subscription"),SubjectSubscription=function(_super){function SubjectSubscription(subject,subscriber){_super.call(this),this.subject=subject,this.subscriber=subscriber,this.closed=!1}return __extends(SubjectSubscription,_super),SubjectSubscription.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var subject=this.subject,observers=subject.observers;if(this.subject=null,observers&&0!==observers.length&&!subject.isStopped&&!subject.closed){var subscriberIndex=observers.indexOf(this.subscriber);-1!==subscriberIndex&&observers.splice(subscriberIndex,1)}}},SubjectSubscription}(Subscription_1.Subscription);exports.SubjectSubscription=SubjectSubscription},{"./Subscription":239}],238:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isFunction_1=require("./util/isFunction"),Subscription_1=require("./Subscription"),Observer_1=require("./Observer"),rxSubscriber_1=require("./symbol/rxSubscriber"),Subscriber=function(_super){function Subscriber(destinationOrNext,error,complete){switch(_super.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Observer_1.empty;break;case 1:if(!destinationOrNext){this.destination=Observer_1.empty;break}if("object"==typeof destinationOrNext){destinationOrNext instanceof Subscriber?(this.destination=destinationOrNext,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,destinationOrNext));break}default:this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,destinationOrNext,error,complete)}}return __extends(Subscriber,_super),Subscriber.prototype[rxSubscriber_1.$$rxSubscriber]=function(){return this},Subscriber.create=function(next,error,complete){var subscriber=new Subscriber(next,error,complete);return subscriber.syncErrorThrowable=!1,subscriber},Subscriber.prototype.next=function(value){this.isStopped||this._next(value)},Subscriber.prototype.error=function(err){this.isStopped||(this.isStopped=!0,this._error(err))},Subscriber.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,_super.prototype.unsubscribe.call(this))},Subscriber.prototype._next=function(value){this.destination.next(value)},Subscriber.prototype._error=function(err){this.destination.error(err),this.unsubscribe()},Subscriber.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},Subscriber}(Subscription_1.Subscription);exports.Subscriber=Subscriber;var SafeSubscriber=function(_super){function SafeSubscriber(_parent,observerOrNext,error,complete){_super.call(this),this._parent=_parent;var next,context=this;isFunction_1.isFunction(observerOrNext)?next=observerOrNext:observerOrNext&&(context=observerOrNext,next=observerOrNext.next,error=observerOrNext.error,complete=observerOrNext.complete,isFunction_1.isFunction(context.unsubscribe)&&this.add(context.unsubscribe.bind(context)),context.unsubscribe=this.unsubscribe.bind(this)),this._context=context,this._next=next,this._error=error,this._complete=complete}return __extends(SafeSubscriber,_super),SafeSubscriber.prototype.next=function(value){if(!this.isStopped&&this._next){var _parent=this._parent;_parent.syncErrorThrowable?this.__tryOrSetError(_parent,this._next,value)&&this.unsubscribe():this.__tryOrUnsub(this._next,value)}},SafeSubscriber.prototype.error=function(err){if(!this.isStopped){var _parent=this._parent;if(this._error)_parent.syncErrorThrowable?(this.__tryOrSetError(_parent,this._error,err),this.unsubscribe()):(this.__tryOrUnsub(this._error,err),this.unsubscribe());else{if(!_parent.syncErrorThrowable)throw this.unsubscribe(),err;_parent.syncErrorValue=err,_parent.syncErrorThrown=!0,this.unsubscribe()}}},SafeSubscriber.prototype.complete=function(){if(!this.isStopped){var _parent=this._parent;this._complete?_parent.syncErrorThrowable?(this.__tryOrSetError(_parent,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},SafeSubscriber.prototype.__tryOrUnsub=function(fn,value){try{fn.call(this._context,value)}catch(err){throw this.unsubscribe(),err}},SafeSubscriber.prototype.__tryOrSetError=function(parent,fn,value){try{fn.call(this._context,value)}catch(err){return parent.syncErrorValue=err,parent.syncErrorThrown=!0,!0}return!1},SafeSubscriber.prototype._unsubscribe=function(){var _parent=this._parent;this._context=null,this._parent=null,_parent.unsubscribe()},SafeSubscriber}(Subscriber)},{"./Observer":235,"./Subscription":239,"./symbol/rxSubscriber":241,"./util/isFunction":246}],239:[function(require,module,exports){"use strict";var isArray_1=require("./util/isArray"),isObject_1=require("./util/isObject"),isFunction_1=require("./util/isFunction"),tryCatch_1=require("./util/tryCatch"),errorObject_1=require("./util/errorObject"),UnsubscriptionError_1=require("./util/UnsubscriptionError"),Subscription=function(){function Subscription(unsubscribe){this.closed=!1,unsubscribe&&(this._unsubscribe=unsubscribe)}return Subscription.prototype.unsubscribe=function(){var errors,hasErrors=!1;if(!this.closed){this.closed=!0;var _a=this,_unsubscribe=_a._unsubscribe,_subscriptions=_a._subscriptions;if(this._subscriptions=null,isFunction_1.isFunction(_unsubscribe)){var trial=tryCatch_1.tryCatch(_unsubscribe).call(this);trial===errorObject_1.errorObject&&(hasErrors=!0,(errors=errors||[]).push(errorObject_1.errorObject.e))}if(isArray_1.isArray(_subscriptions))for(var index=-1,len=_subscriptions.length;++index<len;){var sub=_subscriptions[index];if(isObject_1.isObject(sub)){var trial=tryCatch_1.tryCatch(sub.unsubscribe).call(sub);if(trial===errorObject_1.errorObject){hasErrors=!0,errors=errors||[];var err=errorObject_1.errorObject.e;err instanceof UnsubscriptionError_1.UnsubscriptionError?errors=errors.concat(err.errors):errors.push(err)}}}if(hasErrors)throw new UnsubscriptionError_1.UnsubscriptionError(errors)}},Subscription.prototype.add=function(teardown){if(!teardown||teardown===Subscription.EMPTY)return Subscription.EMPTY;if(teardown===this)return this;var sub=teardown;switch(typeof teardown){case"function":sub=new Subscription(teardown);case"object":if(sub.closed||"function"!=typeof sub.unsubscribe)break;this.closed?sub.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(sub);break;default:throw new Error("unrecognized teardown "+teardown+" added to Subscription.")}return sub},Subscription.prototype.remove=function(subscription){if(null!=subscription&&subscription!==this&&subscription!==Subscription.EMPTY){var subscriptions=this._subscriptions;if(subscriptions){var subscriptionIndex=subscriptions.indexOf(subscription);-1!==subscriptionIndex&&subscriptions.splice(subscriptionIndex,1)}}},Subscription.EMPTY=function(empty){return empty.closed=!0,empty}(new Subscription),Subscription}();exports.Subscription=Subscription},{"./util/UnsubscriptionError":243,"./util/errorObject":244,"./util/isArray":245,"./util/isFunction":246,"./util/isObject":247,"./util/tryCatch":250}],240:[function(require,module,exports){"use strict";function getSymbolObservable(context){var $$observable,Symbol=context.Symbol;return"function"==typeof Symbol?Symbol.observable?$$observable=Symbol.observable:($$observable=Symbol("observable"),Symbol.observable=$$observable):$$observable="@@observable",$$observable}var root_1=require("../util/root");exports.getSymbolObservable=getSymbolObservable,exports.$$observable=getSymbolObservable(root_1.root)},{"../util/root":248}],241:[function(require,module,exports){"use strict";var root_1=require("../util/root"),Symbol=root_1.root.Symbol;exports.$$rxSubscriber="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber"},{"../util/root":248}],242:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ObjectUnsubscribedError=function(_super){function ObjectUnsubscribedError(){var err=_super.call(this,"object unsubscribed");this.name=err.name="ObjectUnsubscribedError",this.stack=err.stack,this.message=err.message}return __extends(ObjectUnsubscribedError,_super),ObjectUnsubscribedError}(Error);exports.ObjectUnsubscribedError=ObjectUnsubscribedError},{}],243:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},UnsubscriptionError=function(_super){function UnsubscriptionError(errors){_super.call(this),this.errors=errors;var err=Error.call(this,errors?errors.length+" errors occurred during unsubscription:\n  "+errors.map(function(err,i){return i+1+") "+err.toString()}).join("\n  "):"");this.name=err.name="UnsubscriptionError",this.stack=err.stack,this.message=err.message}return __extends(UnsubscriptionError,_super),UnsubscriptionError}(Error);exports.UnsubscriptionError=UnsubscriptionError},{}],244:[function(require,module,exports){"use strict";exports.errorObject={e:{}}},{}],245:[function(require,module,exports){"use strict";exports.isArray=Array.isArray||function(x){return x&&"number"==typeof x.length}},{}],246:[function(require,module,exports){"use strict";function isFunction(x){return"function"==typeof x}exports.isFunction=isFunction},{}],247:[function(require,module,exports){"use strict";function isObject(x){return null!=x&&"object"==typeof x}exports.isObject=isObject},{}],248:[function(require,module,exports){(function(global){"use strict";var objectTypes={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1};exports.root=objectTypes[typeof self]&&self||objectTypes[typeof window]&&window;var freeGlobal=objectTypes[typeof global]&&global;!freeGlobal||freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal||(exports.root=freeGlobal)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],249:[function(require,module,exports){"use strict";function toSubscriber(nextOrObserver,error,complete){if(nextOrObserver){if(nextOrObserver instanceof Subscriber_1.Subscriber)return nextOrObserver;if(nextOrObserver[rxSubscriber_1.$$rxSubscriber])return nextOrObserver[rxSubscriber_1.$$rxSubscriber]()}return nextOrObserver||error||complete?new Subscriber_1.Subscriber(nextOrObserver,error,complete):new Subscriber_1.Subscriber}var Subscriber_1=require("../Subscriber"),rxSubscriber_1=require("../symbol/rxSubscriber");exports.toSubscriber=toSubscriber},{"../Subscriber":238,"../symbol/rxSubscriber":241}],250:[function(require,module,exports){"use strict";function tryCatcher(){try{return tryCatchTarget.apply(this,arguments)}catch(e){return errorObject_1.errorObject.e=e,errorObject_1.errorObject}}function tryCatch(fn){return tryCatchTarget=fn,tryCatcher}var tryCatchTarget,errorObject_1=require("./errorObject");exports.tryCatch=tryCatch},{"./errorObject":244}],251:[function(require,module,exports){(function(Buffer){function Hash(blockSize,finalSize){this._block=new Buffer(blockSize),this._finalSize=finalSize,this._blockSize=blockSize,this._len=0,this._s=0}Hash.prototype.update=function(data,enc){"string"==typeof data&&(enc=enc||"utf8",data=new Buffer(data,enc));for(var l=this._len+=data.length,s=this._s||0,f=0,buffer=this._block;l>s;){for(var t=Math.min(data.length,f+this._blockSize-s%this._blockSize),ch=t-f,i=0;ch>i;i++)buffer[s%this._blockSize+i]=data[i+f];s+=ch,f+=ch,s%this._blockSize===0&&this._update(buffer)}return this._s=s,this},Hash.prototype.digest=function(enc){var l=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),l%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(l,this._blockSize-4);var hash=this._update(this._block)||this._hash();return enc?hash.toString(enc):hash},Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")},module.exports=Hash}).call(this,require("buffer").Buffer)},{buffer:53}],252:[function(require,module,exports){var exports=module.exports=function(algorithm){algorithm=algorithm.toLowerCase();var Algorithm=exports[algorithm];if(!Algorithm)throw new Error(algorithm+" is not supported (we accept pull requests)");return new Algorithm};exports.sha=require("./sha"),exports.sha1=require("./sha1"),exports.sha224=require("./sha224"),exports.sha256=require("./sha256"),exports.sha384=require("./sha384"),exports.sha512=require("./sha512")},{"./sha":253,"./sha1":254,"./sha224":255,"./sha256":256,"./sha384":257,"./sha512":258}],253:[function(require,module,exports){(function(Buffer){function Sha(){this.init(),this._w=W,Hash.call(this,64,56)}function rotl5(num){return num<<5|num>>>27}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){return 0===s?b&c|~b&d:2===s?b&c|b&d|c&d:b^c^d}var inherits=require("inherits"),Hash=require("./hash"),K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);inherits(Sha,Hash),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha.prototype._update=function(M){for(var W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,i=0;16>i;++i)W[i]=M.readInt32BE(4*i);for(;80>i;++i)W[i]=W[i-3]^W[i-8]^W[i-14]^W[i-16];for(var j=0;80>j;++j){var s=~~(j/20),t=rotl5(a)+ft(s,b,c,d)+e+W[j]+K[s]|0;e=d,d=c,c=rotl30(b),b=a,a=t}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0},Sha.prototype._hash=function(){var H=new Buffer(20);return H.writeInt32BE(0|this._a,0),H.writeInt32BE(0|this._b,4),H.writeInt32BE(0|this._c,8),H.writeInt32BE(0|this._d,12),H.writeInt32BE(0|this._e,16),H},module.exports=Sha}).call(this,require("buffer").Buffer)},{"./hash":251,buffer:53,inherits:185}],254:[function(require,module,exports){(function(Buffer){function Sha1(){this.init(),this._w=W,Hash.call(this,64,56)}function rotl1(num){return num<<1|num>>>31}function rotl5(num){return num<<5|num>>>27}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){return 0===s?b&c|~b&d:2===s?b&c|b&d|c&d:b^c^d}var inherits=require("inherits"),Hash=require("./hash"),K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);inherits(Sha1,Hash),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha1.prototype._update=function(M){for(var W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,i=0;16>i;++i)W[i]=M.readInt32BE(4*i);for(;80>i;++i)W[i]=rotl1(W[i-3]^W[i-8]^W[i-14]^W[i-16]);for(var j=0;80>j;++j){var s=~~(j/20),t=rotl5(a)+ft(s,b,c,d)+e+W[j]+K[s]|0;e=d,d=c,c=rotl30(b),b=a,a=t}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0},Sha1.prototype._hash=function(){var H=new Buffer(20);return H.writeInt32BE(0|this._a,0),H.writeInt32BE(0|this._b,4),H.writeInt32BE(0|this._c,8),H.writeInt32BE(0|this._d,12),H.writeInt32BE(0|this._e,16),H},module.exports=Sha1}).call(this,require("buffer").Buffer)},{"./hash":251,buffer:53,inherits:185}],255:[function(require,module,exports){(function(Buffer){function Sha224(){this.init(),this._w=W,Hash.call(this,64,56)}var inherits=require("inherits"),Sha256=require("./sha256"),Hash=require("./hash"),W=new Array(64);inherits(Sha224,Sha256),Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Sha224.prototype._hash=function(){var H=new Buffer(28);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H},module.exports=Sha224}).call(this,require("buffer").Buffer)},{"./hash":251,"./sha256":256,buffer:53,inherits:185}],256:[function(require,module,exports){(function(Buffer){function Sha256(){this.init(),this._w=W,Hash.call(this,64,56)}function ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x){return(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10)}function sigma1(x){return(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7)}function gamma0(x){return(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3}function gamma1(x){return(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10}var inherits=require("inherits"),Hash=require("./hash"),K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W=new Array(64);
inherits(Sha256,Hash),Sha256.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Sha256.prototype._update=function(M){for(var W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,f=0|this._f,g=0|this._g,h=0|this._h,i=0;16>i;++i)W[i]=M.readInt32BE(4*i);for(;64>i;++i)W[i]=gamma1(W[i-2])+W[i-7]+gamma0(W[i-15])+W[i-16]|0;for(var j=0;64>j;++j){var T1=h+sigma1(e)+ch(e,f,g)+K[j]+W[j]|0,T2=sigma0(a)+maj(a,b,c)|0;h=g,g=f,f=e,e=d+T1|0,d=c,c=b,b=a,a=T1+T2|0}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0,this._f=f+this._f|0,this._g=g+this._g|0,this._h=h+this._h|0},Sha256.prototype._hash=function(){var H=new Buffer(32);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H.writeInt32BE(this._h,28),H},module.exports=Sha256}).call(this,require("buffer").Buffer)},{"./hash":251,buffer:53,inherits:185}],257:[function(require,module,exports){(function(Buffer){function Sha384(){this.init(),this._w=W,Hash.call(this,128,112)}var inherits=require("inherits"),SHA512=require("./sha512"),Hash=require("./hash"),W=new Array(160);inherits(Sha384,SHA512),Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Sha384.prototype._hash=function(){function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset),H.writeInt32BE(l,offset+4)}var H=new Buffer(48);return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),H},module.exports=Sha384}).call(this,require("buffer").Buffer)},{"./hash":251,"./sha512":258,buffer:53,inherits:185}],258:[function(require,module,exports){(function(Buffer){function Sha512(){this.init(),this._w=W,Hash.call(this,128,112)}function Ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x,xl){return(x>>>28|xl<<4)^(xl>>>2|x<<30)^(xl>>>7|x<<25)}function sigma1(x,xl){return(x>>>14|xl<<18)^(x>>>18|xl<<14)^(xl>>>9|x<<23)}function Gamma0(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^x>>>7}function Gamma0l(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^(x>>>7|xl<<25)}function Gamma1(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^x>>>6}function Gamma1l(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^(x>>>6|xl<<26)}function getCarry(a,b){return b>>>0>a>>>0?1:0}var inherits=require("inherits"),Hash=require("./hash"),K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W=new Array(160);inherits(Sha512,Hash),Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Sha512.prototype._update=function(M){for(var W=this._w,ah=0|this._ah,bh=0|this._bh,ch=0|this._ch,dh=0|this._dh,eh=0|this._eh,fh=0|this._fh,gh=0|this._gh,hh=0|this._hh,al=0|this._al,bl=0|this._bl,cl=0|this._cl,dl=0|this._dl,el=0|this._el,fl=0|this._fl,gl=0|this._gl,hl=0|this._hl,i=0;32>i;i+=2)W[i]=M.readInt32BE(4*i),W[i+1]=M.readInt32BE(4*i+4);for(;160>i;i+=2){var xh=W[i-30],xl=W[i-30+1],gamma0=Gamma0(xh,xl),gamma0l=Gamma0l(xl,xh);xh=W[i-4],xl=W[i-4+1];var gamma1=Gamma1(xh,xl),gamma1l=Gamma1l(xl,xh),Wi7h=W[i-14],Wi7l=W[i-14+1],Wi16h=W[i-32],Wi16l=W[i-32+1],Wil=gamma0l+Wi7l|0,Wih=gamma0+Wi7h+getCarry(Wil,gamma0l)|0;Wil=Wil+gamma1l|0,Wih=Wih+gamma1+getCarry(Wil,gamma1l)|0,Wil=Wil+Wi16l|0,Wih=Wih+Wi16h+getCarry(Wil,Wi16l)|0,W[i]=Wih,W[i+1]=Wil}for(var j=0;160>j;j+=2){Wih=W[j],Wil=W[j+1];var majh=maj(ah,bh,ch),majl=maj(al,bl,cl),sigma0h=sigma0(ah,al),sigma0l=sigma0(al,ah),sigma1h=sigma1(eh,el),sigma1l=sigma1(el,eh),Kih=K[j],Kil=K[j+1],chh=Ch(eh,fh,gh),chl=Ch(el,fl,gl),t1l=hl+sigma1l|0,t1h=hh+sigma1h+getCarry(t1l,hl)|0;t1l=t1l+chl|0,t1h=t1h+chh+getCarry(t1l,chl)|0,t1l=t1l+Kil|0,t1h=t1h+Kih+getCarry(t1l,Kil)|0,t1l=t1l+Wil|0,t1h=t1h+Wih+getCarry(t1l,Wil)|0;var t2l=sigma0l+majl|0,t2h=sigma0h+majh+getCarry(t2l,sigma0l)|0;hh=gh,hl=gl,gh=fh,gl=fl,fh=eh,fl=el,el=dl+t1l|0,eh=dh+t1h+getCarry(el,dl)|0,dh=ch,dl=cl,ch=bh,cl=bl,bh=ah,bl=al,al=t1l+t2l|0,ah=t1h+t2h+getCarry(al,t1l)|0}this._al=this._al+al|0,this._bl=this._bl+bl|0,this._cl=this._cl+cl|0,this._dl=this._dl+dl|0,this._el=this._el+el|0,this._fl=this._fl+fl|0,this._gl=this._gl+gl|0,this._hl=this._hl+hl|0,this._ah=this._ah+ah+getCarry(this._al,al)|0,this._bh=this._bh+bh+getCarry(this._bl,bl)|0,this._ch=this._ch+ch+getCarry(this._cl,cl)|0,this._dh=this._dh+dh+getCarry(this._dl,dl)|0,this._eh=this._eh+eh+getCarry(this._el,el)|0,this._fh=this._fh+fh+getCarry(this._fl,fl)|0,this._gh=this._gh+gh+getCarry(this._gl,gl)|0,this._hh=this._hh+hh+getCarry(this._hl,hl)|0},Sha512.prototype._hash=function(){function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset),H.writeInt32BE(l,offset+4)}var H=new Buffer(64);return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),writeInt64BE(this._gh,this._gl,48),writeInt64BE(this._hh,this._hl,56),H},module.exports=Sha512}).call(this,require("buffer").Buffer)},{"./hash":251,buffer:53,inherits:185}],259:[function(require,module,exports){!function(window){function sprintf(){var key=arguments[0],cache=sprintf.cache;return cache[key]&&cache.hasOwnProperty(key)||(cache[key]=sprintf.parse(key)),sprintf.format.call(null,cache[key],arguments)}function get_type(variable){return Object.prototype.toString.call(variable).slice(8,-1).toLowerCase()}function str_repeat(input,multiplier){return Array(multiplier+1).join(input)}var re={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};sprintf.format=function(parse_tree,argv){var arg,i,k,match,pad,pad_character,pad_length,cursor=1,tree_length=parse_tree.length,node_type="",output=[],is_positive=!0,sign="";for(i=0;tree_length>i;i++)if(node_type=get_type(parse_tree[i]),"string"===node_type)output[output.length]=parse_tree[i];else if("array"===node_type){if(match=parse_tree[i],match[2])for(arg=argv[cursor],k=0;k<match[2].length;k++){if(!arg.hasOwnProperty(match[2][k]))throw new Error(sprintf("[sprintf] property '%s' does not exist",match[2][k]));arg=arg[match[2][k]]}else arg=match[1]?argv[match[1]]:argv[cursor++];if("function"==get_type(arg)&&(arg=arg()),re.not_string.test(match[8])&&re.not_json.test(match[8])&&"number"!=get_type(arg)&&isNaN(arg))throw new TypeError(sprintf("[sprintf] expecting number but found %s",get_type(arg)));switch(re.number.test(match[8])&&(is_positive=arg>=0),match[8]){case"b":arg=arg.toString(2);break;case"c":arg=String.fromCharCode(arg);break;case"d":case"i":arg=parseInt(arg,10);break;case"j":arg=JSON.stringify(arg,null,match[6]?parseInt(match[6]):0);break;case"e":arg=match[7]?arg.toExponential(match[7]):arg.toExponential();break;case"f":arg=match[7]?parseFloat(arg).toFixed(match[7]):parseFloat(arg);break;case"g":arg=match[7]?parseFloat(arg).toPrecision(match[7]):parseFloat(arg);break;case"o":arg=arg.toString(8);break;case"s":arg=(arg=String(arg))&&match[7]?arg.substring(0,match[7]):arg;break;case"u":arg>>>=0;break;case"x":arg=arg.toString(16);break;case"X":arg=arg.toString(16).toUpperCase()}re.json.test(match[8])?output[output.length]=arg:(!re.number.test(match[8])||is_positive&&!match[3]?sign="":(sign=is_positive?"+":"-",arg=arg.toString().replace(re.sign,"")),pad_character=match[4]?"0"===match[4]?"0":match[4].charAt(1):" ",pad_length=match[6]-(sign+arg).length,pad=match[6]&&pad_length>0?str_repeat(pad_character,pad_length):"",output[output.length]=match[5]?sign+arg+pad:"0"===pad_character?sign+pad+arg:pad+sign+arg)}return output.join("")},sprintf.cache={},sprintf.parse=function(fmt){for(var _fmt=fmt,match=[],parse_tree=[],arg_names=0;_fmt;){if(null!==(match=re.text.exec(_fmt)))parse_tree[parse_tree.length]=match[0];else if(null!==(match=re.modulo.exec(_fmt)))parse_tree[parse_tree.length]="%";else{if(null===(match=re.placeholder.exec(_fmt)))throw new SyntaxError("[sprintf] unexpected placeholder");if(match[2]){arg_names|=1;var field_list=[],replacement_field=match[2],field_match=[];if(null===(field_match=re.key.exec(replacement_field)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(field_list[field_list.length]=field_match[1];""!==(replacement_field=replacement_field.substring(field_match[0].length));)if(null!==(field_match=re.key_access.exec(replacement_field)))field_list[field_list.length]=field_match[1];else{if(null===(field_match=re.index_access.exec(replacement_field)))throw new SyntaxError("[sprintf] failed to parse named argument key");field_list[field_list.length]=field_match[1]}match[2]=field_list}else arg_names|=2;if(3===arg_names)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");parse_tree[parse_tree.length]=match}_fmt=_fmt.substring(match[0].length)}return parse_tree};var vsprintf=function(fmt,argv,_argv){return _argv=(argv||[]).slice(0),_argv.splice(0,0,fmt),sprintf.apply(null,_argv)};"undefined"!=typeof exports?(exports.sprintf=sprintf,exports.vsprintf=vsprintf):(window.sprintf=sprintf,window.vsprintf=vsprintf,"function"==typeof define&&define.amd&&define(function(){return{sprintf:sprintf,vsprintf:vsprintf}}))}("undefined"==typeof window?this:window)},{}],260:[function(require,module,exports){function Stream(){EE.call(this)}module.exports=Stream;var EE=require("events").EventEmitter,inherits=require("inherits");inherits(Stream,EE),Stream.Readable=require("readable-stream/readable.js"),Stream.Writable=require("readable-stream/writable.js"),Stream.Duplex=require("readable-stream/duplex.js"),Stream.Transform=require("readable-stream/transform.js"),Stream.PassThrough=require("readable-stream/passthrough.js"),Stream.Stream=Stream,Stream.prototype.pipe=function(dest,options){function ondata(chunk){dest.writable&&!1===dest.write(chunk)&&source.pause&&source.pause()}function ondrain(){source.readable&&source.resume&&source.resume()}function onend(){didOnEnd||(didOnEnd=!0,dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,"function"==typeof dest.destroy&&dest.destroy())}function onerror(er){if(cleanup(),0===EE.listenerCount(this,"error"))throw er}function cleanup(){source.removeListener("data",ondata),dest.removeListener("drain",ondrain),source.removeListener("end",onend),source.removeListener("close",onclose),source.removeListener("error",onerror),dest.removeListener("error",onerror),source.removeListener("end",cleanup),source.removeListener("close",cleanup),dest.removeListener("close",cleanup)}var source=this;source.on("data",ondata),dest.on("drain",ondrain),dest._isStdio||options&&options.end===!1||(source.on("end",onend),source.on("close",onclose));var didOnEnd=!1;return source.on("error",onerror),dest.on("error",onerror),source.on("end",cleanup),source.on("close",cleanup),dest.on("close",cleanup),dest.emit("pipe",source),dest}},{events:164,inherits:185,"readable-stream/duplex.js":209,"readable-stream/passthrough.js":216,"readable-stream/readable.js":217,"readable-stream/transform.js":218,"readable-stream/writable.js":219}],261:[function(require,module,exports){function assertEncoding(encoding){if(encoding&&!isBufferEncoding(encoding))throw new Error("Unknown encoding: "+encoding)}function passThroughWrite(buffer){return buffer.toString(this.encoding)}function utf16DetectIncompleteChar(buffer){this.charReceived=buffer.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(buffer){this.charReceived=buffer.length%3,this.charLength=this.charReceived?3:0}var Buffer=require("buffer").Buffer,isBufferEncoding=Buffer.isEncoding||function(encoding){switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},StringDecoder=exports.StringDecoder=function(encoding){switch(this.encoding=(encoding||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(encoding),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0};StringDecoder.prototype.write=function(buffer){for(var charStr="";this.charLength;){var available=buffer.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:buffer.length;if(buffer.copy(this.charBuffer,this.charReceived,0,available),this.charReceived+=available,this.charReceived<this.charLength)return"";buffer=buffer.slice(available,buffer.length),charStr=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var charCode=charStr.charCodeAt(charStr.length-1);if(!(charCode>=55296&&56319>=charCode)){if(this.charReceived=this.charLength=0,0===buffer.length)return charStr;break}this.charLength+=this.surrogateSize,charStr=""}this.detectIncompleteChar(buffer);var end=buffer.length;this.charLength&&(buffer.copy(this.charBuffer,0,buffer.length-this.charReceived,end),end-=this.charReceived),charStr+=buffer.toString(this.encoding,0,end);var end=charStr.length-1,charCode=charStr.charCodeAt(end);if(charCode>=55296&&56319>=charCode){var size=this.surrogateSize;return this.charLength+=size,this.charReceived+=size,this.charBuffer.copy(this.charBuffer,size,0,size),buffer.copy(this.charBuffer,0,0,size),charStr.substring(0,end)}return charStr},StringDecoder.prototype.detectIncompleteChar=function(buffer){for(var i=buffer.length>=3?3:buffer.length;i>0;i--){var c=buffer[buffer.length-i];if(1==i&&c>>5==6){this.charLength=2;break}if(2>=i&&c>>4==14){this.charLength=3;break}if(3>=i&&c>>3==30){this.charLength=4;break}}this.charReceived=i},StringDecoder.prototype.end=function(buffer){var res="";if(buffer&&buffer.length&&(res=this.write(buffer)),this.charReceived){var cr=this.charReceived,buf=this.charBuffer,enc=this.encoding;res+=buf.slice(0,cr).toString(enc)}return res}},{buffer:53}],262:[function(require,module,exports){(function(process){function through(write,end,opts){function drain(){for(;buffer.length&&!stream.paused;){var data=buffer.shift();if(null===data)return stream.emit("end");stream.emit("data",data)}}function _end(){stream.writable=!1,end.call(stream),!stream.readable&&stream.autoDestroy&&stream.destroy()}write=write||function(data){this.queue(data)},end=end||function(){this.queue(null)};var ended=!1,destroyed=!1,buffer=[],_ended=!1,stream=new Stream;return stream.readable=stream.writable=!0,stream.paused=!1,stream.autoDestroy=!(opts&&opts.autoDestroy===!1),stream.write=function(data){return write.call(this,data),!stream.paused},stream.queue=stream.push=function(data){return _ended?stream:(null===data&&(_ended=!0),buffer.push(data),drain(),stream)},stream.on("end",function(){stream.readable=!1,!stream.writable&&stream.autoDestroy&&process.nextTick(function(){stream.destroy()})}),stream.end=function(data){return ended?void 0:(ended=!0,arguments.length&&stream.write(data),_end(),stream)},stream.destroy=function(){return destroyed?void 0:(destroyed=!0,ended=!0,buffer.length=0,stream.writable=stream.readable=!1,stream.emit("close"),stream)},stream.pause=function(){return stream.paused?void 0:(stream.paused=!0,stream)},stream.resume=function(){return stream.paused&&(stream.paused=!1,stream.emit("resume")),drain(),stream.paused||stream.emit("drain"),stream},stream}var Stream=require("stream");exports=module.exports=through,through.through=through}).call(this,require("_process"))},{_process:201,stream:260}],263:[function(require,module,exports){(function(process,global){"use strict";function findConfiguration(configFile,inputFilePath){var configPath=findConfigurationPath(configFile,inputFilePath);return loadConfigurationFromPath(configPath)}function findConfigurationPath(suppliedConfigFilePath,inputFilePath){if(null!=suppliedConfigFilePath){if(fs.existsSync(suppliedConfigFilePath))return path.resolve(suppliedConfigFilePath);throw new Error("Could not find config file at: "+path.resolve(suppliedConfigFilePath))}var configFilePath=findup(exports.CONFIG_FILENAME,{cwd:inputFilePath,nocase:!0});if(null!=configFilePath&&fs.existsSync(configFilePath))return path.resolve(configFilePath);if(configFilePath=findup("package.json",{cwd:inputFilePath,nocase:!0}),null!=configFilePath&&null!=require(configFilePath).tslintConfig)return path.resolve(configFilePath);var homeDir=getHomeDir();return null!=homeDir&&(configFilePath=path.join(homeDir,exports.CONFIG_FILENAME),fs.existsSync(configFilePath))?path.resolve(configFilePath):void 0}function loadConfigurationFromPath(configFilePath){if(null==configFilePath)return exports.DEFAULT_CONFIG;if("package.json"===path.basename(configFilePath))return console.warn(PACKAGE_DEPRECATION_MSG),require(configFilePath).tslintConfig;var resolvedConfigFilePath=resolveConfigurationPath(configFilePath),configFile=void 0;if(".json"===path.extname(resolvedConfigFilePath)){var fileContent=utils_1.stripComments(fs.readFileSync(resolvedConfigFilePath).toString().replace(/^\uFEFF/,""));configFile=JSON.parse(fileContent)}else configFile=require(resolvedConfigFilePath),delete require.cache[resolvedConfigFilePath];var configFileDir=path.dirname(resolvedConfigFilePath);configFile.rulesDirectory=getRulesDirectories(configFile.rulesDirectory,configFileDir),configFile.extends=utils_1.arrayify(configFile.extends);for(var _i=0,_a=configFile.extends;_i<_a.length;_i++){var name_1=_a[_i],baseConfigFilePath=resolveConfigurationPath(name_1,configFileDir),baseConfigFile=loadConfigurationFromPath(baseConfigFilePath);configFile=extendConfigurationFile(configFile,baseConfigFile)}return configFile}function resolveConfigurationPath(filePath,relativeTo){var matches=filePath.match(BUILT_IN_CONFIG),isBuiltInConfig=null!=matches;if(isBuiltInConfig){var configName=matches[1];try{return require.resolve("./configs/"+configName)}catch(err){throw new Error(filePath+' is not a built-in config, try "tslint:recommended" instead.')}}var basedir=relativeTo||process.cwd();try{return resolve.sync(filePath,{basedir:basedir})}catch(err){try{return require.resolve(filePath)}catch(err){throw new Error('Invalid "extends" configuration value - could not require "'+filePath+'". Review the Node lookup algorithm (https://nodejs.org/api/modules.html#modules_all_together) for the approximate method TSLint uses to find the referenced configuration file.')}}}function extendConfigurationFile(config,baseConfig){var combinedConfig={},baseRulesDirectory=utils_1.arrayify(baseConfig.rulesDirectory),configRulesDirectory=utils_1.arrayify(config.rulesDirectory);combinedConfig.rulesDirectory=configRulesDirectory.concat(baseRulesDirectory),combinedConfig.rules={};for(var _i=0,_a=Object.keys(utils_1.objectify(baseConfig.rules));_i<_a.length;_i++){var name_2=_a[_i];combinedConfig.rules[name_2]=baseConfig.rules[name_2]}for(var _b=0,_c=Object.keys(utils_1.objectify(config.rules));_b<_c.length;_b++){var name_3=_c[_b];combinedConfig.rules[name_3]=config.rules[name_3]}return combinedConfig}function getHomeDir(){for(var environment=global.process.env,paths=[environment.USERPROFILE,environment.HOME,environment.HOMEPATH,environment.HOMEDRIVE+environment.HOMEPATH],_i=0,paths_1=paths;_i<paths_1.length;_i++){var homePath=paths_1[_i];if(null!=homePath&&fs.existsSync(homePath))return homePath}}function getRelativePath(directory,relativeTo){if(null!=directory){var basePath=relativeTo||process.cwd();return path.resolve(basePath,directory)}}function getRulesDirectories(directories,relativeTo){for(var rulesDirectories=utils_1.arrayify(directories).map(function(dir){return getRelativePath(dir,relativeTo)}),_i=0,rulesDirectories_1=rulesDirectories;_i<rulesDirectories_1.length;_i++){var directory=rulesDirectories_1[_i];if(!fs.existsSync(directory))throw new Error("Could not find custom rule directory: "+directory)}return rulesDirectories}var findup=require("findup-sync"),fs=require("fs"),path=require("path"),resolve=require("resolve"),utils_1=require("./utils");exports.CONFIG_FILENAME="tslint.json",exports.DEFAULT_CONFIG={rules:{"class-name":!0,"comment-format":[!0,"check-space"],indent:[!0,"spaces"],"no-duplicate-variable":!0,"no-eval":!0,"no-internal-module":!0,"no-trailing-whitespace":!0,"no-unsafe-finally":!0,"no-var-keyword":!0,"one-line":[!0,"check-open-brace","check-whitespace"],quotemark:[!0,"double"],semicolon:[!0,"always"],"triple-equals":[!0,"allow-null-check"],"typedef-whitespace":[!0,{"call-signature":"nospace","index-signature":"nospace",parameter:"nospace","property-declaration":"nospace","variable-declaration":"nospace"}],"variable-name":[!0,"ban-keywords"],whitespace:[!0,"check-branch","check-decl","check-operator","check-separator","check-type"]}};var PACKAGE_DEPRECATION_MSG="Configuration of TSLint via package.json has been deprecated, please start using a tslint.json file instead (http://palantir.github.io/tslint/usage/tslint-json/).",BUILT_IN_CONFIG=/^tslint:(.*)$/;exports.findConfiguration=findConfiguration,exports.findConfigurationPath=findConfigurationPath,exports.loadConfigurationFromPath=loadConfigurationFromPath,exports.extendConfigurationFile=extendConfigurationFile,exports.getRelativePath=getRelativePath,exports.getRulesDirectories=getRulesDirectories}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./utils":295,_process:201,"findup-sync":167,fs:50,path:196,resolve:226}],264:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ts=require("typescript"),utils_1=require("./language/utils"),skippableTokenAwareRuleWalker_1=require("./language/walker/skippableTokenAwareRuleWalker"),EnableDisableRulesWalker=function(_super){function EnableDisableRulesWalker(){_super.apply(this,arguments),this.enableDisableRuleMap={}}return __extends(EnableDisableRulesWalker,_super),EnableDisableRulesWalker.prototype.visitSourceFile=function(node){var _this=this;_super.prototype.visitSourceFile.call(this,node);var scan=ts.createScanner(ts.ScriptTarget.ES5,!1,ts.LanguageVariant.Standard,node.text);utils_1.scanAllTokens(scan,function(scanner){var startPos=scanner.getStartPos();if(null!=_this.tokensToSkipStartEndMap[startPos])return void scanner.setTextPos(_this.tokensToSkipStartEndMap[startPos]);if(scanner.getToken()===ts.SyntaxKind.MultiLineCommentTrivia||scanner.getToken()===ts.SyntaxKind.SingleLineCommentTrivia){var commentText=scanner.getTokenText(),startPosition=scanner.getTokenPos();_this.handlePossibleTslintSwitch(commentText,startPosition,node,scanner)}})},EnableDisableRulesWalker.prototype.getStartOfLinePosition=function(node,position,lineOffset){return void 0===lineOffset&&(lineOffset=0),node.getPositionOfLineAndCharacter(node.getLineAndCharacterOfPosition(position).line+lineOffset,0)},EnableDisableRulesWalker.prototype.handlePossibleTslintSwitch=function(commentText,startingPosition,node,scanner){if(commentText.match(/^(\/\*|\/\/)\s*tslint:/)){var commentTextParts=commentText.split(":"),enableOrDisableMatch=commentTextParts[1].match(/^(enable|disable)(-(line|next-line))?(\s|$)/);if(null!=enableOrDisableMatch){var isEnabled="enable"===enableOrDisableMatch[1],isCurrentLine="line"===enableOrDisableMatch[3],isNextLine="next-line"===enableOrDisableMatch[3],rulesList=["all"];2===commentTextParts.length?(rulesList=commentTextParts[1].split(/\s+/).slice(1),rulesList=rulesList.filter(function(item){return!!item&&-1===item.indexOf("*/")}),rulesList=rulesList.length>0?rulesList:["all"]):commentTextParts.length>2&&(rulesList=commentTextParts[2].split(/\s+/));for(var _i=0,rulesList_1=rulesList;_i<rulesList_1.length;_i++){var ruleToAdd=rulesList_1[_i];ruleToAdd in this.enableDisableRuleMap||(this.enableDisableRuleMap[ruleToAdd]=[]),isCurrentLine?(this.enableDisableRuleMap[ruleToAdd].push({isEnabled:isEnabled,position:this.getStartOfLinePosition(node,startingPosition)}),this.enableDisableRuleMap[ruleToAdd].push({isEnabled:!isEnabled,position:scanner.getTextPos()+1})):(this.enableDisableRuleMap[ruleToAdd].push({isEnabled:isEnabled,position:startingPosition}),isNextLine&&this.enableDisableRuleMap[ruleToAdd].push({isEnabled:!isEnabled,position:this.getStartOfLinePosition(node,startingPosition,2)}))}}}},EnableDisableRulesWalker}(skippableTokenAwareRuleWalker_1.SkippableTokenAwareRuleWalker);exports.EnableDisableRulesWalker=EnableDisableRulesWalker},{"./language/utils":278,"./language/walker/skippableTokenAwareRuleWalker":284,typescript:296}],265:[function(require,module,exports){"use strict";function findFormatter(name,formattersDirectory){if("function"==typeof name)return name;var camelizedName=underscore_string_1.camelize(name+"Formatter"),Formatter=loadFormatter(CORE_FORMATTERS_DIRECTORY,camelizedName);return null!=Formatter?Formatter:formattersDirectory&&(Formatter=loadFormatter(formattersDirectory,camelizedName))?Formatter:loadFormatterModule(name)}function loadFormatter(){for(var paths=[],_i=0;_i<arguments.length;_i++)paths[_i-0]=arguments[_i];var formatterPath=paths.reduce(function(p,c){return path.join(p,c)},""),fullPath=path.resolve(moduleDirectory,formatterPath);if(fs.existsSync(fullPath+".js")){var formatterModule=require(fullPath);return formatterModule.Formatter}return void 0}function loadFormatterModule(name){var src;try{src=require.resolve(name)}catch(e){return void 0}return require(src).Formatter}var fs=require("fs"),path=require("path"),underscore_string_1=require("underscore.string"),moduleDirectory=path.dirname(module.filename),CORE_FORMATTERS_DIRECTORY=path.resolve(moduleDirectory,".","formatters");exports.findFormatter=findFormatter},{fs:50,path:196,"underscore.string":321}],266:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(require("./language/formatter/abstractFormatter")),__export(require("./formatters/index"))},{"./formatters/index":267,"./language/formatter/abstractFormatter":273}],267:[function(require,module,exports){"use strict";var jsonFormatter_1=require("./jsonFormatter");exports.JsonFormatter=jsonFormatter_1.Formatter;var pmdFormatter_1=require("./pmdFormatter");exports.PmdFormatter=pmdFormatter_1.Formatter;var proseFormatter_1=require("./proseFormatter");exports.ProseFormatter=proseFormatter_1.Formatter;var verboseFormatter_1=require("./verboseFormatter");exports.VerboseFormatter=verboseFormatter_1.Formatter;var stylishFormatter_1=require("./stylishFormatter");exports.StylishFormatter=stylishFormatter_1.Formatter},{"./jsonFormatter":268,"./pmdFormatter":269,"./proseFormatter":270,"./stylishFormatter":271,"./verboseFormatter":272}],268:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},abstractFormatter_1=require("../language/formatter/abstractFormatter"),Formatter=function(_super){function Formatter(){_super.apply(this,arguments)}return __extends(Formatter,_super),Formatter.prototype.format=function(failures){var failuresJSON=failures.map(function(failure){return failure.toJson()});return JSON.stringify(failuresJSON)},Formatter}(abstractFormatter_1.AbstractFormatter);exports.Formatter=Formatter},{"../language/formatter/abstractFormatter":273}],269:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},abstractFormatter_1=require("../language/formatter/abstractFormatter"),Formatter=function(_super){function Formatter(){_super.apply(this,arguments)}return __extends(Formatter,_super),Formatter.prototype.format=function(failures){for(var output='<pmd version="tslint">',_i=0,failures_1=failures;_i<failures_1.length;_i++){var failure=failures_1[_i],failureString=failure.getFailure().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;"),lineAndCharacter=failure.getStartPosition().getLineAndCharacter();output+='<file name="'+failure.getFileName(),output+='"><violation begincolumn="'+(lineAndCharacter.character+1),output+='" beginline="'+(lineAndCharacter.line+1),output+='" priority="1"',output+=' rule="'+failureString+'"> </violation></file>'}return output+="</pmd>"},Formatter}(abstractFormatter_1.AbstractFormatter);exports.Formatter=Formatter},{"../language/formatter/abstractFormatter":273}],270:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},abstractFormatter_1=require("../language/formatter/abstractFormatter"),Formatter=function(_super){function Formatter(){_super.apply(this,arguments)}return __extends(Formatter,_super),Formatter.prototype.format=function(failures){var outputLines=failures.map(function(failure){var fileName=failure.getFileName(),failureString=failure.getFailure(),lineAndCharacter=failure.getStartPosition().getLineAndCharacter(),positionTuple="["+(lineAndCharacter.line+1)+", "+(lineAndCharacter.character+1)+"]";
return""+fileName+positionTuple+": "+failureString});return outputLines.join("\n")+"\n"},Formatter}(abstractFormatter_1.AbstractFormatter);exports.Formatter=Formatter},{"../language/formatter/abstractFormatter":273}],271:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},abstractFormatter_1=require("../language/formatter/abstractFormatter"),colors=require("colors"),Formatter=function(_super){function Formatter(){_super.apply(this,arguments)}return __extends(Formatter,_super),Formatter.prototype.format=function(failures){if("undefined"==typeof failures[0])return"\n";for(var fileName=failures[0].getFileName(),positionMaxSize=this.getPositionMaxSize(failures),ruleMaxSize=this.getRuleMaxSize(failures),outputLines=[fileName],_i=0,failures_1=failures;_i<failures_1.length;_i++){var failure=failures_1[_i],failureString=failure.getFailure(),ruleName=failure.getRuleName();ruleName=this.pad(ruleName,ruleMaxSize),ruleName=colors.yellow(ruleName);var lineAndCharacter=failure.getStartPosition().getLineAndCharacter(),positionTuple=lineAndCharacter.line+1+":"+(lineAndCharacter.character+1);positionTuple=this.pad(positionTuple,positionMaxSize),positionTuple=colors.red(positionTuple);var output=positionTuple+"  "+ruleName+"  "+failureString;outputLines.push(output)}return outputLines.join("\n")+"\n\n"},Formatter.prototype.pad=function(str,len){var padder=Array(len+1).join(" ");return(str+padder).substring(0,padder.length)},Formatter.prototype.getPositionMaxSize=function(failures){for(var positionMaxSize=0,_i=0,failures_2=failures;_i<failures_2.length;_i++){var failure=failures_2[_i],lineAndCharacter=failure.getStartPosition().getLineAndCharacter(),positionSize=(lineAndCharacter.line+1+":"+(lineAndCharacter.character+1)).length;positionSize>positionMaxSize&&(positionMaxSize=positionSize)}return positionMaxSize},Formatter.prototype.getRuleMaxSize=function(failures){for(var ruleMaxSize=0,_i=0,failures_3=failures;_i<failures_3.length;_i++){var failure=failures_3[_i],ruleSize=failure.getRuleName().length;ruleSize>ruleMaxSize&&(ruleMaxSize=ruleSize)}return ruleMaxSize},Formatter}(abstractFormatter_1.AbstractFormatter);exports.Formatter=Formatter},{"../language/formatter/abstractFormatter":273,colors:99}],272:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},abstractFormatter_1=require("../language/formatter/abstractFormatter"),Formatter=function(_super){function Formatter(){_super.apply(this,arguments)}return __extends(Formatter,_super),Formatter.prototype.format=function(failures){var outputLines=failures.map(function(failure){var fileName=failure.getFileName(),failureString=failure.getFailure(),ruleName=failure.getRuleName(),lineAndCharacter=failure.getStartPosition().getLineAndCharacter(),positionTuple="["+(lineAndCharacter.line+1)+", "+(lineAndCharacter.character+1)+"]";return"("+ruleName+") "+fileName+positionTuple+": "+failureString});return outputLines.join("\n")+"\n"},Formatter}(abstractFormatter_1.AbstractFormatter);exports.Formatter=Formatter},{"../language/formatter/abstractFormatter":273}],273:[function(require,module,exports){"use strict";var AbstractFormatter=function(){function AbstractFormatter(){}return AbstractFormatter}();exports.AbstractFormatter=AbstractFormatter},{}],274:[function(require,module,exports){"use strict";function createLanguageServiceHost(fileName,source){return{getCompilationSettings:function(){return utils_1.createCompilerOptions()},getCurrentDirectory:function(){return""},getDefaultLibFileName:function(){return"lib.d.ts"},getScriptFileNames:function(){return[fileName]},getScriptSnapshot:function(name){return ts.ScriptSnapshot.fromString(name===fileName?source:"")},getScriptVersion:function(){return"1"},log:function(){}}}function createLanguageService(fileName,source){var languageServiceHost=createLanguageServiceHost(fileName,source);return ts.createLanguageService(languageServiceHost)}var ts=require("typescript"),utils_1=require("./utils");exports.createLanguageServiceHost=createLanguageServiceHost,exports.createLanguageService=createLanguageService},{"./utils":278,typescript:296}],275:[function(require,module,exports){"use strict";var AbstractRule=function(){function AbstractRule(ruleName,value,disabledIntervals){this.value=value;var ruleArguments=[];Array.isArray(value)&&value.length>1&&(ruleArguments=value.slice(1)),this.options={disabledIntervals:disabledIntervals,ruleArguments:ruleArguments,ruleName:ruleName}}return AbstractRule.prototype.getOptions=function(){return this.options},AbstractRule.prototype.applyWithWalker=function(walker){return walker.walk(walker.getSourceFile()),walker.getFailures()},AbstractRule.prototype.isEnabled=function(){var value=this.value;return"boolean"==typeof value?value:Array.isArray(value)&&value.length>0?value[0]:!1},AbstractRule}();exports.AbstractRule=AbstractRule},{}],276:[function(require,module,exports){"use strict";var RuleFailurePosition=function(){function RuleFailurePosition(position,lineAndCharacter){this.position=position,this.lineAndCharacter=lineAndCharacter}return RuleFailurePosition.prototype.getPosition=function(){return this.position},RuleFailurePosition.prototype.getLineAndCharacter=function(){return this.lineAndCharacter},RuleFailurePosition.prototype.toJson=function(){return{character:this.lineAndCharacter.character,line:this.lineAndCharacter.line,position:this.position}},RuleFailurePosition.prototype.equals=function(ruleFailurePosition){var ll=this.lineAndCharacter,rr=ruleFailurePosition.lineAndCharacter;return this.position===ruleFailurePosition.position&&ll.line===rr.line&&ll.character===rr.character},RuleFailurePosition}();exports.RuleFailurePosition=RuleFailurePosition;var RuleFailure=function(){function RuleFailure(sourceFile,start,end,failure,ruleName){this.sourceFile=sourceFile,this.failure=failure,this.ruleName=ruleName,this.fileName=sourceFile.fileName,this.startPosition=this.createFailurePosition(start),this.endPosition=this.createFailurePosition(end)}return RuleFailure.prototype.getFileName=function(){return this.fileName},RuleFailure.prototype.getRuleName=function(){return this.ruleName},RuleFailure.prototype.getStartPosition=function(){return this.startPosition},RuleFailure.prototype.getEndPosition=function(){return this.endPosition},RuleFailure.prototype.getFailure=function(){return this.failure},RuleFailure.prototype.toJson=function(){return{endPosition:this.endPosition.toJson(),failure:this.failure,name:this.fileName,ruleName:this.ruleName,startPosition:this.startPosition.toJson()}},RuleFailure.prototype.equals=function(ruleFailure){return this.failure===ruleFailure.getFailure()&&this.fileName===ruleFailure.getFileName()&&this.startPosition.equals(ruleFailure.getStartPosition())&&this.endPosition.equals(ruleFailure.getEndPosition())},RuleFailure.prototype.createFailurePosition=function(position){var lineAndCharacter=this.sourceFile.getLineAndCharacterOfPosition(position);return new RuleFailurePosition(position,lineAndCharacter)},RuleFailure}();exports.RuleFailure=RuleFailure},{}],277:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},abstractRule_1=require("./abstractRule"),TypedRule=function(_super){function TypedRule(){_super.apply(this,arguments)}return __extends(TypedRule,_super),TypedRule.prototype.apply=function(sourceFile){throw new Error(this.getOptions().ruleName+" requires type checking")},TypedRule}(abstractRule_1.AbstractRule);exports.TypedRule=TypedRule},{"./abstractRule":275}],278:[function(require,module,exports){"use strict";function getSourceFile(fileName,source){var normalizedName=path.normalize(fileName).replace(/\\/g,"/"),compilerOptions=createCompilerOptions(),compilerHost={fileExists:function(){return!0},getCanonicalFileName:function(filename){return filename},getCurrentDirectory:function(){return""},getDefaultLibFileName:function(){return"lib.d.ts"},getNewLine:function(){return"\n"},getSourceFile:function(filenameToGet){return filenameToGet===normalizedName?ts.createSourceFile(filenameToGet,source,compilerOptions.target,!0):void 0},readFile:function(){return null},useCaseSensitiveFileNames:function(){return!0},writeFile:function(){return null}},program=ts.createProgram([normalizedName],compilerOptions,compilerHost);return program.getSourceFile(normalizedName)}function createCompilerOptions(){return{noResolve:!0,target:ts.ScriptTarget.ES5}}function doesIntersect(failure,disabledIntervals){return disabledIntervals.some(function(interval){var maxStart=Math.max(interval.startPosition,failure.getStartPosition().getPosition()),minEnd=Math.min(interval.endPosition,failure.getEndPosition().getPosition());return minEnd>=maxStart})}function scanAllTokens(scanner,callback){for(var lastStartPos=-1;scanner.scan()!==ts.SyntaxKind.EndOfFileToken;){var startPos=scanner.getStartPos();if(startPos===lastStartPos)break;lastStartPos=startPos,callback(scanner)}}function hasModifier(modifiers){for(var modifierKinds=[],_i=1;_i<arguments.length;_i++)modifierKinds[_i-1]=arguments[_i];return null==modifiers||null==modifierKinds?!1:modifiers.some(function(m){return modifierKinds.some(function(k){return m.kind===k})})}function isBlockScopedVariable(node){var parentNode=node.kind===ts.SyntaxKind.VariableDeclaration?node.parent:node.declarationList;return isNodeFlagSet(parentNode,ts.NodeFlags.Let)||isNodeFlagSet(parentNode,ts.NodeFlags.Const)}function isBlockScopedBindingElement(node){var variableDeclaration=getBindingElementVariableDeclaration(node);return null==variableDeclaration||isBlockScopedVariable(variableDeclaration)}function getBindingElementVariableDeclaration(node){for(var currentParent=node.parent;currentParent.kind!==ts.SyntaxKind.VariableDeclaration;){if(null==currentParent.parent)return null;currentParent=currentParent.parent}return currentParent}function isNodeFlagSet(node,flagToCheck){return 0!==(node.flags&flagToCheck)}function isNestedModuleDeclaration(decl){return decl.name.pos===decl.pos}var path=require("path"),ts=require("typescript");exports.getSourceFile=getSourceFile,exports.createCompilerOptions=createCompilerOptions,exports.doesIntersect=doesIntersect,exports.scanAllTokens=scanAllTokens,exports.hasModifier=hasModifier,exports.isBlockScopedVariable=isBlockScopedVariable,exports.isBlockScopedBindingElement=isBlockScopedBindingElement,exports.getBindingElementVariableDeclaration=getBindingElementVariableDeclaration,exports.isNodeFlagSet=isNodeFlagSet,exports.isNestedModuleDeclaration=isNestedModuleDeclaration},{path:196,typescript:296}],279:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ts=require("typescript"),scopeAwareRuleWalker_1=require("./scopeAwareRuleWalker"),BlockScopeAwareRuleWalker=function(_super){function BlockScopeAwareRuleWalker(sourceFile,options){_super.call(this,sourceFile,options),this.blockScopeStack=[this.createBlockScope()]}return __extends(BlockScopeAwareRuleWalker,_super),BlockScopeAwareRuleWalker.prototype.getCurrentBlockScope=function(){return this.blockScopeStack[this.blockScopeStack.length-1]},BlockScopeAwareRuleWalker.prototype.onBlockScopeStart=function(){},BlockScopeAwareRuleWalker.prototype.getCurrentBlockDepth=function(){return this.blockScopeStack.length},BlockScopeAwareRuleWalker.prototype.onBlockScopeEnd=function(){},BlockScopeAwareRuleWalker.prototype.visitNode=function(node){var isNewBlockScope=this.isBlockScopeBoundary(node);isNewBlockScope&&this.blockScopeStack.push(this.createBlockScope()),this.onBlockScopeStart(),_super.prototype.visitNode.call(this,node),this.onBlockScopeEnd(),isNewBlockScope&&this.blockScopeStack.pop()},BlockScopeAwareRuleWalker.prototype.isBlockScopeBoundary=function(node){return _super.prototype.isScopeBoundary.call(this,node)||node.kind===ts.SyntaxKind.DoStatement||node.kind===ts.SyntaxKind.WhileStatement||node.kind===ts.SyntaxKind.ForStatement||node.kind===ts.SyntaxKind.ForInStatement||node.kind===ts.SyntaxKind.ForOfStatement||node.kind===ts.SyntaxKind.WithStatement||node.kind===ts.SyntaxKind.SwitchStatement||null!=node.parent&&(node.parent.kind===ts.SyntaxKind.TryStatement||node.parent.kind===ts.SyntaxKind.IfStatement)||node.kind===ts.SyntaxKind.Block&&null!=node.parent&&(node.parent.kind===ts.SyntaxKind.Block||node.parent.kind===ts.SyntaxKind.SourceFile)},BlockScopeAwareRuleWalker}(scopeAwareRuleWalker_1.ScopeAwareRuleWalker);exports.BlockScopeAwareRuleWalker=BlockScopeAwareRuleWalker},{"./scopeAwareRuleWalker":283,typescript:296}],280:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(require("./blockScopeAwareRuleWalker")),__export(require("./programAwareRuleWalker")),__export(require("./ruleWalker")),__export(require("./scopeAwareRuleWalker")),__export(require("./skippableTokenAwareRuleWalker")),__export(require("./syntaxWalker"))},{"./blockScopeAwareRuleWalker":279,"./programAwareRuleWalker":281,"./ruleWalker":282,"./scopeAwareRuleWalker":283,"./skippableTokenAwareRuleWalker":284,"./syntaxWalker":285}],281:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ruleWalker_1=require("./ruleWalker"),ProgramAwareRuleWalker=function(_super){function ProgramAwareRuleWalker(sourceFile,options,program){_super.call(this,sourceFile,options),this.program=program,this.typeChecker=program.getTypeChecker()}return __extends(ProgramAwareRuleWalker,_super),ProgramAwareRuleWalker.prototype.getProgram=function(){return this.program},ProgramAwareRuleWalker.prototype.getTypeChecker=function(){return this.typeChecker},ProgramAwareRuleWalker}(ruleWalker_1.RuleWalker);exports.ProgramAwareRuleWalker=ProgramAwareRuleWalker},{"./ruleWalker":282}],282:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},rule_1=require("../rule/rule"),utils_1=require("../utils"),syntaxWalker_1=require("./syntaxWalker"),RuleWalker=function(_super){function RuleWalker(sourceFile,options){_super.call(this),this.sourceFile=sourceFile,this.position=0,this.failures=[],this.options=options.ruleArguments,this.limit=this.sourceFile.getFullWidth(),this.disabledIntervals=options.disabledIntervals,this.ruleName=options.ruleName}return __extends(RuleWalker,_super),RuleWalker.prototype.getSourceFile=function(){return this.sourceFile},RuleWalker.prototype.getFailures=function(){return this.failures},RuleWalker.prototype.getLimit=function(){return this.limit},RuleWalker.prototype.getOptions=function(){return this.options},RuleWalker.prototype.hasOption=function(option){return this.options?-1!==this.options.indexOf(option):!1},RuleWalker.prototype.skip=function(node){this.position+=node.getFullWidth()},RuleWalker.prototype.createFailure=function(start,width,failure){var from=start>this.limit?this.limit:start,to=start+width>this.limit?this.limit:start+width;return new rule_1.RuleFailure(this.sourceFile,from,to,failure,this.ruleName)},RuleWalker.prototype.addFailure=function(failure){this.existsFailure(failure)||utils_1.doesIntersect(failure,this.disabledIntervals)||this.failures.push(failure)},RuleWalker.prototype.existsFailure=function(failure){return this.failures.some(function(f){return f.equals(failure)})},RuleWalker}(syntaxWalker_1.SyntaxWalker);exports.RuleWalker=RuleWalker},{"../rule/rule":276,"../utils":278,"./syntaxWalker":285}],283:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ts=require("typescript"),ruleWalker_1=require("./ruleWalker"),ScopeAwareRuleWalker=function(_super){function ScopeAwareRuleWalker(sourceFile,options){_super.call(this,sourceFile,options),this.scopeStack=[this.createScope(sourceFile)]}return __extends(ScopeAwareRuleWalker,_super),ScopeAwareRuleWalker.prototype.getCurrentScope=function(){return this.scopeStack[this.scopeStack.length-1]},ScopeAwareRuleWalker.prototype.getAllScopes=function(){return this.scopeStack.slice()},ScopeAwareRuleWalker.prototype.getCurrentDepth=function(){return this.scopeStack.length},ScopeAwareRuleWalker.prototype.onScopeStart=function(){},ScopeAwareRuleWalker.prototype.onScopeEnd=function(){},ScopeAwareRuleWalker.prototype.visitNode=function(node){var isNewScope=this.isScopeBoundary(node);isNewScope&&this.scopeStack.push(this.createScope(node)),this.onScopeStart(),_super.prototype.visitNode.call(this,node),this.onScopeEnd(),isNewScope&&this.scopeStack.pop()},ScopeAwareRuleWalker.prototype.isScopeBoundary=function(node){return node.kind===ts.SyntaxKind.FunctionDeclaration||node.kind===ts.SyntaxKind.FunctionExpression||node.kind===ts.SyntaxKind.PropertyAssignment||node.kind===ts.SyntaxKind.ShorthandPropertyAssignment||node.kind===ts.SyntaxKind.MethodDeclaration||node.kind===ts.SyntaxKind.Constructor||node.kind===ts.SyntaxKind.ModuleDeclaration||node.kind===ts.SyntaxKind.ArrowFunction||node.kind===ts.SyntaxKind.ParenthesizedExpression||node.kind===ts.SyntaxKind.ClassDeclaration||node.kind===ts.SyntaxKind.ClassExpression||node.kind===ts.SyntaxKind.InterfaceDeclaration||node.kind===ts.SyntaxKind.GetAccessor||node.kind===ts.SyntaxKind.SetAccessor},ScopeAwareRuleWalker}(ruleWalker_1.RuleWalker);exports.ScopeAwareRuleWalker=ScopeAwareRuleWalker},{"./ruleWalker":282,typescript:296}],284:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ruleWalker_1=require("./ruleWalker"),SkippableTokenAwareRuleWalker=function(_super){function SkippableTokenAwareRuleWalker(sourceFile,options){_super.call(this,sourceFile,options),this.tokensToSkipStartEndMap={}}return __extends(SkippableTokenAwareRuleWalker,_super),SkippableTokenAwareRuleWalker.prototype.visitRegularExpressionLiteral=function(node){this.addTokenToSkipFromNode(node),_super.prototype.visitRegularExpressionLiteral.call(this,node)},SkippableTokenAwareRuleWalker.prototype.visitIdentifier=function(node){this.addTokenToSkipFromNode(node),_super.prototype.visitIdentifier.call(this,node)},SkippableTokenAwareRuleWalker.prototype.visitTemplateExpression=function(node){this.addTokenToSkipFromNode(node),_super.prototype.visitTemplateExpression.call(this,node)},SkippableTokenAwareRuleWalker.prototype.addTokenToSkipFromNode=function(node){node.getStart()<node.getEnd()&&(this.tokensToSkipStartEndMap[node.getStart()]=node.getEnd())},SkippableTokenAwareRuleWalker}(ruleWalker_1.RuleWalker);exports.SkippableTokenAwareRuleWalker=SkippableTokenAwareRuleWalker},{"./ruleWalker":282}],285:[function(require,module,exports){"use strict";var ts=require("typescript"),SyntaxWalker=function(){function SyntaxWalker(){}return SyntaxWalker.prototype.walk=function(node){this.visitNode(node)},SyntaxWalker.prototype.visitAnyKeyword=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitArrayLiteralExpression=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitArrowFunction=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitBinaryExpression=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitBindingElement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitBindingPattern=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitBlock=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitBreakStatement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitCallExpression=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitCallSignature=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitCaseClause=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitClassDeclaration=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitClassExpression=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitCatchClause=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitConditionalExpression=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitConstructorDeclaration=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitConstructorType=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitContinueStatement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitDebuggerStatement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitDefaultClause=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitDoStatement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitElementAccessExpression=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitEnumDeclaration=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitExportAssignment=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitExpressionStatement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitForStatement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitForInStatement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitForOfStatement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitFunctionDeclaration=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitFunctionExpression=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitFunctionType=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitGetAccessor=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitIdentifier=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitIfStatement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitImportDeclaration=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitImportEqualsDeclaration=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitIndexSignatureDeclaration=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitInterfaceDeclaration=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitJsxAttribute=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitJsxElement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitJsxExpression=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitJsxSelfClosingElement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitLabeledStatement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitMethodDeclaration=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitMethodSignature=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitModuleDeclaration=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitNamedImports=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitNamespaceImport=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitNewExpression=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitObjectLiteralExpression=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitParameterDeclaration=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitPostfixUnaryExpression=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitPrefixUnaryExpression=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitPropertyAccessExpression=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitPropertyAssignment=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitPropertyDeclaration=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitPropertySignature=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitRegularExpressionLiteral=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitReturnStatement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitSetAccessor=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitSourceFile=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitStringLiteral=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitSwitchStatement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitTemplateExpression=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitThrowStatement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitTryStatement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitTypeAssertionExpression=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitTypeLiteral=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitTypeReference=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitVariableDeclaration=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitVariableStatement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitWhileStatement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitWithStatement=function(node){this.walkChildren(node)},SyntaxWalker.prototype.visitNode=function(node){switch(node.kind){case ts.SyntaxKind.AnyKeyword:this.visitAnyKeyword(node);break;case ts.SyntaxKind.ArrayBindingPattern:this.visitBindingPattern(node);break;case ts.SyntaxKind.ArrayLiteralExpression:this.visitArrayLiteralExpression(node);break;case ts.SyntaxKind.ArrowFunction:this.visitArrowFunction(node);break;case ts.SyntaxKind.BinaryExpression:this.visitBinaryExpression(node);break;case ts.SyntaxKind.BindingElement:this.visitBindingElement(node);break;case ts.SyntaxKind.Block:this.visitBlock(node);break;case ts.SyntaxKind.BreakStatement:this.visitBreakStatement(node);break;case ts.SyntaxKind.CallExpression:this.visitCallExpression(node);break;case ts.SyntaxKind.CallSignature:this.visitCallSignature(node);break;case ts.SyntaxKind.CaseClause:this.visitCaseClause(node);break;case ts.SyntaxKind.ClassDeclaration:this.visitClassDeclaration(node);break;case ts.SyntaxKind.ClassExpression:this.visitClassExpression(node);break;case ts.SyntaxKind.CatchClause:this.visitCatchClause(node);break;case ts.SyntaxKind.ConditionalExpression:this.visitConditionalExpression(node);break;case ts.SyntaxKind.Constructor:this.visitConstructorDeclaration(node);break;case ts.SyntaxKind.ConstructorType:this.visitConstructorType(node);break;case ts.SyntaxKind.ContinueStatement:this.visitContinueStatement(node);break;case ts.SyntaxKind.DebuggerStatement:this.visitDebuggerStatement(node);break;case ts.SyntaxKind.DefaultClause:this.visitDefaultClause(node);break;case ts.SyntaxKind.DoStatement:this.visitDoStatement(node);break;case ts.SyntaxKind.ElementAccessExpression:this.visitElementAccessExpression(node);break;case ts.SyntaxKind.EnumDeclaration:this.visitEnumDeclaration(node);break;case ts.SyntaxKind.ExportAssignment:this.visitExportAssignment(node);break;case ts.SyntaxKind.ExpressionStatement:this.visitExpressionStatement(node);break;case ts.SyntaxKind.ForStatement:this.visitForStatement(node);break;case ts.SyntaxKind.ForInStatement:this.visitForInStatement(node);break;case ts.SyntaxKind.ForOfStatement:this.visitForOfStatement(node);break;case ts.SyntaxKind.FunctionDeclaration:this.visitFunctionDeclaration(node);break;case ts.SyntaxKind.FunctionExpression:this.visitFunctionExpression(node);break;case ts.SyntaxKind.FunctionType:this.visitFunctionType(node);break;case ts.SyntaxKind.GetAccessor:this.visitGetAccessor(node);break;case ts.SyntaxKind.Identifier:this.visitIdentifier(node);break;case ts.SyntaxKind.IfStatement:this.visitIfStatement(node);break;case ts.SyntaxKind.ImportDeclaration:this.visitImportDeclaration(node);break;case ts.SyntaxKind.ImportEqualsDeclaration:this.visitImportEqualsDeclaration(node);break;case ts.SyntaxKind.IndexSignature:this.visitIndexSignatureDeclaration(node);break;case ts.SyntaxKind.InterfaceDeclaration:this.visitInterfaceDeclaration(node);break;case ts.SyntaxKind.JsxAttribute:this.visitJsxAttribute(node);break;case ts.SyntaxKind.JsxElement:this.visitJsxElement(node);break;case ts.SyntaxKind.JsxExpression:this.visitJsxExpression(node);break;case ts.SyntaxKind.JsxSelfClosingElement:this.visitJsxSelfClosingElement(node);break;case ts.SyntaxKind.LabeledStatement:this.visitLabeledStatement(node);break;case ts.SyntaxKind.MethodDeclaration:this.visitMethodDeclaration(node);break;case ts.SyntaxKind.MethodSignature:this.visitMethodSignature(node);break;case ts.SyntaxKind.ModuleDeclaration:this.visitModuleDeclaration(node);break;case ts.SyntaxKind.NamedImports:this.visitNamedImports(node);break;case ts.SyntaxKind.NamespaceImport:this.visitNamespaceImport(node);break;case ts.SyntaxKind.NewExpression:this.visitNewExpression(node);break;case ts.SyntaxKind.ObjectBindingPattern:this.visitBindingPattern(node);break;case ts.SyntaxKind.ObjectLiteralExpression:this.visitObjectLiteralExpression(node);break;case ts.SyntaxKind.Parameter:this.visitParameterDeclaration(node);break;case ts.SyntaxKind.PostfixUnaryExpression:this.visitPostfixUnaryExpression(node);break;case ts.SyntaxKind.PrefixUnaryExpression:this.visitPrefixUnaryExpression(node);break;case ts.SyntaxKind.PropertyAccessExpression:this.visitPropertyAccessExpression(node);break;case ts.SyntaxKind.PropertyAssignment:this.visitPropertyAssignment(node);break;case ts.SyntaxKind.PropertyDeclaration:this.visitPropertyDeclaration(node);break;case ts.SyntaxKind.PropertySignature:this.visitPropertySignature(node);break;case ts.SyntaxKind.RegularExpressionLiteral:this.visitRegularExpressionLiteral(node);break;case ts.SyntaxKind.ReturnStatement:this.visitReturnStatement(node);break;case ts.SyntaxKind.SetAccessor:this.visitSetAccessor(node);break;case ts.SyntaxKind.SourceFile:this.visitSourceFile(node);break;case ts.SyntaxKind.StringLiteral:this.visitStringLiteral(node);break;case ts.SyntaxKind.SwitchStatement:this.visitSwitchStatement(node);break;case ts.SyntaxKind.TemplateExpression:this.visitTemplateExpression(node);break;case ts.SyntaxKind.ThrowStatement:this.visitThrowStatement(node);break;case ts.SyntaxKind.TryStatement:this.visitTryStatement(node);break;case ts.SyntaxKind.TypeAssertionExpression:this.visitTypeAssertionExpression(node);break;case ts.SyntaxKind.TypeLiteral:this.visitTypeLiteral(node);break;case ts.SyntaxKind.TypeReference:this.visitTypeReference(node);break;case ts.SyntaxKind.VariableDeclaration:this.visitVariableDeclaration(node);break;case ts.SyntaxKind.VariableStatement:this.visitVariableStatement(node);break;case ts.SyntaxKind.WhileStatement:this.visitWhileStatement(node);break;case ts.SyntaxKind.WithStatement:this.visitWithStatement(node);break;default:this.walkChildren(node)}},SyntaxWalker.prototype.walkChildren=function(node){var _this=this;ts.forEachChild(node,function(child){return _this.visitNode(child)})},SyntaxWalker}();exports.SyntaxWalker=SyntaxWalker},{typescript:296}],286:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p]);
}var configuration=require("./configuration"),formatters=require("./formatters"),rules=require("./rules"),test=require("./test"),linter=require("./tslint"),utils=require("./utils");__export(require("./language/rule/rule")),__export(require("./enableDisableRules")),__export(require("./formatterLoader")),__export(require("./ruleLoader")),__export(require("./language/utils")),__export(require("./language/languageServiceHost")),__export(require("./language/walker")),exports.Configuration=configuration,exports.Formatters=formatters,exports.Linter=linter,exports.Rules=rules,exports.Test=test,exports.Utils=utils},{"./configuration":263,"./enableDisableRules":264,"./formatterLoader":265,"./formatters":266,"./language/languageServiceHost":274,"./language/rule/rule":276,"./language/utils":278,"./language/walker":280,"./ruleLoader":287,"./rules":288,"./test":289,"./tslint":294,"./utils":295}],287:[function(require,module,exports){"use strict";function loadRules(ruleConfiguration,enableDisableRuleMap,rulesDirectories){var rules=[],notFoundRules=[];for(var ruleName in ruleConfiguration)if(ruleConfiguration.hasOwnProperty(ruleName)){var ruleValue=ruleConfiguration[ruleName],Rule=findRule(ruleName,rulesDirectories);if(null==Rule)notFoundRules.push(ruleName);else{var all="all",allList=all in enableDisableRuleMap?enableDisableRuleMap[all]:[],ruleSpecificList=ruleName in enableDisableRuleMap?enableDisableRuleMap[ruleName]:[],disabledIntervals=buildDisabledIntervalsFromSwitches(ruleSpecificList,allList);rules.push(new Rule(ruleName,ruleValue,disabledIntervals))}}if(notFoundRules.length>0){var ERROR_MESSAGE="\n            Could not find implementations for the following rules specified in the configuration:\n            "+notFoundRules.join("\n")+"\n            Try upgrading TSLint and/or ensuring that you have all necessary custom rules installed.\n            If TSLint was recently upgraded, you may have old rules configured which need to be cleaned up.\n        ";throw new Error(ERROR_MESSAGE)}return rules}function findRule(name,rulesDirectories){var camelizedName=transformName(name),Rule=loadRule(CORE_RULES_DIRECTORY,camelizedName);if(null!=Rule)return Rule;for(var directories=configuration_1.getRulesDirectories(rulesDirectories),_i=0,directories_1=directories;_i<directories_1.length;_i++){var rulesDirectory=directories_1[_i];if(null!=rulesDirectory&&(Rule=loadRule(rulesDirectory,camelizedName),null!=Rule))return Rule}return void 0}function transformName(name){var nameMatch=name.match(/^([-_]*)(.*?)([-_]*)$/);return null==nameMatch?name+"Rule":nameMatch[1]+underscore_string_1.camelize(nameMatch[2])+nameMatch[3]+"Rule"}function loadRule(directory,ruleName){var fullPath=path.join(directory,ruleName);if(fs.existsSync(fullPath+".js")){var ruleModule=require(fullPath);if(ruleModule&&ruleModule.Rule)return ruleModule.Rule}return void 0}function buildDisabledIntervalsFromSwitches(ruleSpecificList,allList){for(var disabledStartPosition,isCurrentlyDisabled=!1,disabledIntervalList=[],i=0,j=0;i<ruleSpecificList.length||j<allList.length;){var ruleSpecificTopPositon=i<ruleSpecificList.length?ruleSpecificList[i].position:1/0,allTopPositon=j<allList.length?allList[j].position:1/0,newPositionToCheck=void 0;allTopPositon>ruleSpecificTopPositon?(newPositionToCheck=ruleSpecificList[i],i++):(newPositionToCheck=allList[j],j++),newPositionToCheck.isEnabled===isCurrentlyDisabled&&(isCurrentlyDisabled?(disabledIntervalList.push({endPosition:newPositionToCheck.position,startPosition:disabledStartPosition}),isCurrentlyDisabled=!1):(disabledStartPosition=newPositionToCheck.position,isCurrentlyDisabled=!0))}return isCurrentlyDisabled&&disabledIntervalList.push({endPosition:1/0,startPosition:disabledStartPosition}),disabledIntervalList}var fs=require("fs"),path=require("path"),underscore_string_1=require("underscore.string"),configuration_1=require("./configuration"),moduleDirectory=path.dirname(module.filename),CORE_RULES_DIRECTORY=path.resolve(moduleDirectory,".","rules");exports.loadRules=loadRules,exports.findRule=findRule},{"./configuration":263,fs:50,path:196,"underscore.string":321}],288:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(require("./language/rule/abstractRule")),__export(require("./language/rule/typedRule"))},{"./language/rule/abstractRule":275,"./language/rule/typedRule":277}],289:[function(require,module,exports){(function(process){"use strict";function runTest(testDirectory,rulesDirectory){for(var filesToLint=glob.sync(path.join(testDirectory,"**/*"+FILE_EXTENSION)),tslintConfig=Linter.findConfiguration(path.join(testDirectory,"tslint.json"),null),results={directory:testDirectory,results:{}},_loop_1=function(fileToLint){var fileBasename=path.basename(fileToLint,FILE_EXTENSION),fileCompileName=fileBasename.replace(/\.lint$/,""),fileText=fs.readFileSync(fileToLint,"utf8"),fileTextWithoutMarkup=parse.removeErrorMarkup(fileText),errorsFromMarkup=parse.parseErrorsFromMarkup(fileText),program=void 0;if(tslintConfig.linterOptions&&tslintConfig.linterOptions.typeCheck){var compilerOptions_1=utils_1.createCompilerOptions(),compilerHost={fileExists:function(){return!0},getCanonicalFileName:function(filename){return filename},getCurrentDirectory:function(){return""},getDefaultLibFileName:function(){return ts.getDefaultLibFileName(compilerOptions_1)},getNewLine:function(){return"\n"},getSourceFile:function(filenameToGet){if(filenameToGet===this.getDefaultLibFileName()){var fileText_1=fs.readFileSync(ts.getDefaultLibFilePath(compilerOptions_1)).toString();return ts.createSourceFile(filenameToGet,fileText_1,compilerOptions_1.target)}return filenameToGet===fileCompileName?ts.createSourceFile(fileBasename,fileTextWithoutMarkup,compilerOptions_1.target,!0):void 0},readFile:function(){return null},useCaseSensitiveFileNames:function(){return!0},writeFile:function(){return null}};program=ts.createProgram([fileCompileName],compilerOptions_1,compilerHost),ts.getPreEmitDiagnostics(program)}var lintOptions={configuration:tslintConfig,formatter:"prose",formattersDirectory:"",rulesDirectory:rulesDirectory},linter=new Linter(fileBasename,fileTextWithoutMarkup,lintOptions,program),errorsFromLinter=linter.lint().failures.map(function(failure){var startLineAndCharacter=failure.getStartPosition().getLineAndCharacter(),endLineAndCharacter=failure.getEndPosition().getLineAndCharacter();return{endPos:{col:endLineAndCharacter.character,line:endLineAndCharacter.line},message:failure.getFailure(),startPos:{col:startLineAndCharacter.character,line:startLineAndCharacter.line}}});results.results[fileToLint]={errorsFromMarkup:errorsFromMarkup,errorsFromLinter:errorsFromLinter,markupFromLinter:parse.createMarkupFromErrors(fileTextWithoutMarkup,errorsFromMarkup),markupFromMarkup:parse.createMarkupFromErrors(fileTextWithoutMarkup,errorsFromLinter)}},_i=0,filesToLint_1=filesToLint;_i<filesToLint_1.length;_i++){var fileToLint=filesToLint_1[_i];_loop_1(fileToLint)}return results}function consoleTestResultHandler(testResult){for(var didAllTestsPass=!0,_i=0,_a=Object.keys(testResult.results);_i<_a.length;_i++){var fileName=_a[_i],results=testResult.results[fileName];process.stdout.write(fileName+":");var diffResults=diff.diffLines(results.markupFromMarkup,results.markupFromLinter),didTestPass=!diffResults.some(function(diff){return diff.added||diff.removed});if(didTestPass)console.log(colors.green(" Passed"));else{console.log(colors.red(" Failed!")),console.log(colors.green("Expected (from "+FILE_EXTENSION+" file)")),console.log(colors.red("Actual (from TSLint)")),didAllTestsPass=!1;for(var _b=0,diffResults_1=diffResults;_b<diffResults_1.length;_b++){var diffResult=diffResults_1[_b],color=colors.grey;diffResult.added?color=colors.green:diffResult.removed&&(color=colors.red),process.stdout.write(color(diffResult.value))}}}return didAllTestsPass}var colors=require("colors"),diff=require("diff"),fs=require("fs"),glob=require("glob"),path=require("path"),ts=require("typescript"),utils_1=require("./language/utils"),parse=require("./test/parse"),Linter=require("./tslint"),FILE_EXTENSION=".lint";exports.runTest=runTest,exports.consoleTestResultHandler=consoleTestResultHandler}).call(this,require("_process"))},{"./language/utils":278,"./test/parse":292,"./tslint":294,_process:201,colors:99,diff:137,fs:50,glob:174,path:196,typescript:296}],290:[function(require,module,exports){"use strict";function parseLine(text){var multilineErrorMatch=text.match(multilineErrorRegex);if(null!=multilineErrorMatch){var startErrorCol=text.indexOf("~");return new MultilineErrorLine(startErrorCol)}var endErrorMatch=text.match(endErrorRegex);if(null!=endErrorMatch){var squiggles=endErrorMatch[1],message=endErrorMatch[2],startErrorCol=text.indexOf("~"),zeroLengthError=squiggles===exports.ZERO_LENGTH_ERROR,endErrorCol=zeroLengthError?startErrorCol:text.lastIndexOf("~")+1;return new EndErrorLine(startErrorCol,endErrorCol,message)}var messageSubstitutionMatch=text.match(messageSubstitutionRegex);if(null!=messageSubstitutionMatch){var key=messageSubstitutionMatch[1],message=messageSubstitutionMatch[2];return new MessageSubstitutionLine(key,message)}return new CodeLine(text)}function printLine(line,code){if(line instanceof ErrorLine){if(null==code)throw new Error("Must supply argument for code parameter when line is an ErrorLine");var leadingSpaces=utils_1.replicateStr(" ",line.startCol);if(line instanceof MultilineErrorLine){if(0===code.length&&0===line.startCol)return exports.ZERO_LENGTH_ERROR;var tildes=utils_1.replicateStr("~",code.length-leadingSpaces.length);return""+leadingSpaces+tildes}if(line instanceof EndErrorLine){var tildes=utils_1.replicateStr("~",line.endCol-line.startCol),endSpaces=utils_1.replicateStr(" ",code.length-line.endCol);return 0===tildes.length&&(tildes=exports.ZERO_LENGTH_ERROR,endSpaces=endSpaces.substring(0,Math.max(endSpaces.length-4,1))),""+leadingSpaces+tildes+endSpaces+" ["+line.message+"]"}}else{if(line instanceof MessageSubstitutionLine)return"["+line.key+"]: "+line.message;if(line instanceof CodeLine)return line.contents}}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},utils_1=require("./utils"),Line=function(){function Line(){}return Line}();exports.Line=Line;var CodeLine=function(_super){function CodeLine(contents){_super.call(this),this.contents=contents}return __extends(CodeLine,_super),CodeLine}(Line);exports.CodeLine=CodeLine;var MessageSubstitutionLine=function(_super){function MessageSubstitutionLine(key,message){_super.call(this),this.key=key,this.message=message}return __extends(MessageSubstitutionLine,_super),MessageSubstitutionLine}(Line);exports.MessageSubstitutionLine=MessageSubstitutionLine;var ErrorLine=function(_super){function ErrorLine(startCol){_super.call(this),this.startCol=startCol}return __extends(ErrorLine,_super),ErrorLine}(Line);exports.ErrorLine=ErrorLine;var MultilineErrorLine=function(_super){function MultilineErrorLine(startCol){_super.call(this,startCol)}return __extends(MultilineErrorLine,_super),MultilineErrorLine}(ErrorLine);exports.MultilineErrorLine=MultilineErrorLine;var EndErrorLine=function(_super){function EndErrorLine(startCol,endCol,message){_super.call(this,startCol),this.endCol=endCol,this.message=message}return __extends(EndErrorLine,_super),EndErrorLine}(ErrorLine);exports.EndErrorLine=EndErrorLine;var multilineErrorRegex=/^\s*(~+|~nil)$/,endErrorRegex=/^\s*(~+|~nil)\s*\[(.+)\]\s*$/,messageSubstitutionRegex=/^\[([\w\-\_]+?)]: \s*(.+?)\s*$/;exports.ZERO_LENGTH_ERROR="~nil",exports.parseLine=parseLine,exports.printLine=printLine},{"./utils":293}],291:[function(require,module,exports){"use strict";function errorComparator(err1,err2){return err1.startPos.line!==err2.startPos.line?err1.startPos.line-err2.startPos.line:err1.startPos.col!==err2.startPos.col?err1.startPos.col-err2.startPos.col:err1.endPos.line!==err2.endPos.line?err1.endPos.line-err2.endPos.line:err1.endPos.col!==err2.endPos.col?err1.endPos.col-err2.endPos.col:err1.message.localeCompare(err2.message)}function lintSyntaxError(message){return new Error("Lint File Syntax Error: "+message)}exports.errorComparator=errorComparator,exports.lintSyntaxError=lintSyntaxError},{}],292:[function(require,module,exports){"use strict";function removeErrorMarkup(text){var textWithMarkup=text.split("\n"),lines=textWithMarkup.map(lines_1.parseLine),codeText=lines.filter(function(line){return line instanceof lines_1.CodeLine}).map(function(line){return line.contents});return codeText.join("\n")}function parseErrorsFromMarkup(text){var textWithMarkup=text.split("\n"),lines=textWithMarkup.map(lines_1.parseLine);if(lines.length>0&&!(lines[0]instanceof lines_1.CodeLine))throw lintError_1.lintSyntaxError("text cannot start with an error mark line.");for(var messageSubstitutionLines=lines.filter(function(l){return l instanceof lines_1.MessageSubstitutionLine}),messageSubstitutions={},_i=0,messageSubstitutionLines_1=messageSubstitutionLines;_i<messageSubstitutionLines_1.length;_i++){var line=messageSubstitutionLines_1[_i];messageSubstitutions[line.key]=line.message}var errorLinesForCodeLines=createCodeLineNoToErrorsMap(lines),lintErrors=[];return errorLinesForCodeLines.forEach(function(errorLinesForLineOfCode,lineNo){for(;errorLinesForLineOfCode.length>0;){var errorLine=errorLinesForLineOfCode.shift(),errorStartPos={line:lineNo,col:errorLine.startCol};if(errorLine instanceof lines_1.EndErrorLine)lintErrors.push({startPos:errorStartPos,endPos:{line:lineNo,col:errorLine.endCol},message:messageSubstitutions[errorLine.message]||errorLine.message});else if(errorLine instanceof lines_1.MultilineErrorLine)for(var nextLineNo=lineNo+1;;++nextLineNo){if(!isValidErrorMarkupContinuation(errorLinesForCodeLines,nextLineNo))throw lintError_1.lintSyntaxError("Error mark starting at "+errorStartPos.line+":"+errorStartPos.col+" does not end correctly.");var nextErrorLine=errorLinesForCodeLines[nextLineNo].shift();if(nextErrorLine instanceof lines_1.EndErrorLine){lintErrors.push({startPos:errorStartPos,endPos:{line:nextLineNo,col:nextErrorLine.endCol},message:messageSubstitutions[nextErrorLine.message]||nextErrorLine.message});break}}}}),lintErrors.sort(lintError_1.errorComparator),lintErrors}function createMarkupFromErrors(code,lintErrors){lintErrors.sort(lintError_1.errorComparator);for(var codeText=code.split("\n"),errorLinesForCodeText=codeText.map(function(){return[]}),_i=0,lintErrors_1=lintErrors;_i<lintErrors_1.length;_i++){var error=lintErrors_1[_i],startPos=error.startPos,endPos=error.endPos,message=error.message;if(startPos.line===endPos.line)errorLinesForCodeText[startPos.line].push(new lines_1.EndErrorLine(startPos.col,endPos.col,message));else{errorLinesForCodeText[startPos.line].push(new lines_1.MultilineErrorLine(startPos.col));for(var lineNo=startPos.line+1;lineNo<endPos.line;++lineNo)errorLinesForCodeText[lineNo].push(new lines_1.MultilineErrorLine(0));errorLinesForCodeText[endPos.line].push(new lines_1.EndErrorLine(0,endPos.col,message))}}var finalText=combineCodeTextAndErrorLines(codeText,errorLinesForCodeText);return finalText.join("\n")}function combineCodeTextAndErrorLines(codeText,errorLinesForCodeText){return codeText.reduce(function(resultText,code,i){return resultText.push(code),resultText.push.apply(resultText,errorLinesForCodeText[i].map(function(line){return lines_1.printLine(line,code)})),resultText},[])}function createCodeLineNoToErrorsMap(lines){for(var errorLinesForCodeLine=[],_i=0,lines_2=lines;_i<lines_2.length;_i++){var line=lines_2[_i];line instanceof lines_1.CodeLine?errorLinesForCodeLine.push([]):line instanceof lines_1.ErrorLine&&errorLinesForCodeLine[errorLinesForCodeLine.length-1].push(line)}return errorLinesForCodeLine}function isValidErrorMarkupContinuation(errorLinesForCodeLines,lineNo){return lineNo<errorLinesForCodeLines.length&&0!==errorLinesForCodeLines[lineNo].length&&0===errorLinesForCodeLines[lineNo][0].startCol}var lines_1=require("./lines"),lintError_1=require("./lintError");exports.removeErrorMarkup=removeErrorMarkup,exports.parseErrorsFromMarkup=parseErrorsFromMarkup,exports.createMarkupFromErrors=createMarkupFromErrors},{"./lines":290,"./lintError":291}],293:[function(require,module,exports){"use strict";function replicateStr(str,numTimes){return Array(numTimes+1).join(str)}exports.replicateStr=replicateStr},{}],294:[function(require,module,exports){"use strict";var ts=require("typescript"),configuration_1=require("./configuration"),enableDisableRules_1=require("./enableDisableRules"),formatterLoader_1=require("./formatterLoader"),typedRule_1=require("./language/rule/typedRule"),utils_1=require("./language/utils"),ruleLoader_1=require("./ruleLoader"),utils_2=require("./utils"),Linter=function(){function Linter(fileName,source,options,program){this.fileName=fileName,this.source=source,this.program=program,this.options=this.computeFullOptions(options)}return Linter.createProgram=function(configFile,projectDirectory){if(void 0===projectDirectory){var lastSeparator=configFile.lastIndexOf("/");projectDirectory=0>lastSeparator?".":configFile.substring(0,lastSeparator+1)}var config=ts.readConfigFile(configFile,ts.sys.readFile).config,parsed=ts.parseJsonConfigFileContent(config,{readDirectory:ts.sys.readDirectory},projectDirectory),host=ts.createCompilerHost(parsed.options,!0),program=ts.createProgram(parsed.fileNames,parsed.options,host);return program},Linter.getFileNames=function(program){return program.getSourceFiles().map(function(s){return s.fileName}).filter(function(l){return".d.ts"!==l.substr(-5)})},Linter.prototype.lint=function(){var sourceFile,failures=[];if(this.program){if(sourceFile=this.program.getSourceFile(this.fileName),!("resolvedModules"in sourceFile))throw new Error("Program must be type checked before linting")}else sourceFile=utils_1.getSourceFile(this.fileName,this.source);var rulesWalker=new enableDisableRules_1.EnableDisableRulesWalker(sourceFile,{disabledIntervals:[],ruleName:""});rulesWalker.walk(sourceFile);for(var enableDisableRuleMap=rulesWalker.enableDisableRuleMap,rulesDirectories=this.options.rulesDirectory,configuration=this.options.configuration.rules,configuredRules=ruleLoader_1.loadRules(configuration,enableDisableRuleMap,rulesDirectories),enabledRules=configuredRules.filter(function(r){return r.isEnabled()}),_i=0,enabledRules_1=enabledRules;_i<enabledRules_1.length;_i++){var rule=enabledRules_1[_i],ruleFailures=[];ruleFailures=this.program&&rule instanceof typedRule_1.TypedRule?rule.applyWithProgram(sourceFile,this.program):rule.apply(sourceFile);for(var _a=0,ruleFailures_1=ruleFailures;_a<ruleFailures_1.length;_a++){var ruleFailure=ruleFailures_1[_a];this.containsRule(failures,ruleFailure)||failures.push(ruleFailure)}}var formatter,formattersDirectory=configuration_1.getRelativePath(this.options.formattersDirectory),Formatter=formatterLoader_1.findFormatter(this.options.formatter,formattersDirectory);if(!Formatter)throw new Error("formatter '"+this.options.formatter+"' not found");formatter=new Formatter;var output=formatter.format(failures);return{failureCount:failures.length,failures:failures,format:this.options.formatter,output:output}},Linter.prototype.containsRule=function(rules,rule){return rules.some(function(r){return r.equals(rule)})},Linter.prototype.computeFullOptions=function(options){if(void 0===options&&(options={}),"object"!=typeof options)throw new Error("Unknown Linter options type: "+typeof options);var configuration=options.configuration,formatter=options.formatter,formattersDirectory=options.formattersDirectory,rulesDirectory=options.rulesDirectory;return{configuration:configuration||configuration_1.DEFAULT_CONFIG,formatter:formatter||"prose",formattersDirectory:formattersDirectory,rulesDirectory:utils_2.arrayify(rulesDirectory).concat(utils_2.arrayify(configuration.rulesDirectory))}},Linter.VERSION="3.14.0",Linter.findConfiguration=configuration_1.findConfiguration,Linter.findConfigurationPath=configuration_1.findConfigurationPath,Linter.getRulesDirectories=configuration_1.getRulesDirectories,Linter.loadConfigurationFromPath=configuration_1.loadConfigurationFromPath,Linter}();module.exports=Linter},{"./configuration":263,"./enableDisableRules":264,"./formatterLoader":265,"./language/rule/typedRule":277,"./language/utils":278,"./ruleLoader":287,"./utils":295,typescript:296}],295:[function(require,module,exports){"use strict";function arrayify(arg){return Array.isArray(arg)?arg:null!=arg?[arg]:[]}function objectify(arg){return"object"==typeof arg&&null!=arg?arg:{}}function dedent(strings){for(var values=[],_i=1;_i<arguments.length;_i++)values[_i-1]=arguments[_i];var fullString=strings.reduce(function(accumulator,str,i){return accumulator+values[i-1]+str}),match=fullString.match(/^[ \t]*(?=\S)/gm),indent=Math.min.apply(Math,match.map(function(el){return el.length})),regexp=new RegExp("^[ \\t]{"+indent+"}","gm");return fullString=indent>0?fullString.replace(regexp,""):fullString}function stripComments(content){var regexp=/("(?:[^\\\"]*(?:\\.)?)*")|('(?:[^\\\']*(?:\\.)?)*')|(\/\*(?:\r?\n|.)*?\*\/)|(\/{2,}.*?(?:(?:\r?\n)|$))/g,result=content.replace(regexp,function(match,m1,m2,m3,m4){if(m3)return"";if(m4){var length_1=m4.length;return length_1>2&&"\n"===m4[length_1-1]?"\r"===m4[length_1-2]?"\r\n":"\n":""}return match});return result}exports.arrayify=arrayify,exports.objectify=objectify,exports.dedent=dedent,exports.stripComments=stripComments},{}],296:[function(require,module,exports){(function(process,global,__filename,__argument0,__argument1,__argument2,__argument3,__dirname){var ts,__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)};!function(ts){!function(SyntaxKind){SyntaxKind[SyntaxKind.Unknown=0]="Unknown",SyntaxKind[SyntaxKind.EndOfFileToken=1]="EndOfFileToken",SyntaxKind[SyntaxKind.SingleLineCommentTrivia=2]="SingleLineCommentTrivia",SyntaxKind[SyntaxKind.MultiLineCommentTrivia=3]="MultiLineCommentTrivia",SyntaxKind[SyntaxKind.NewLineTrivia=4]="NewLineTrivia",SyntaxKind[SyntaxKind.WhitespaceTrivia=5]="WhitespaceTrivia",SyntaxKind[SyntaxKind.ShebangTrivia=6]="ShebangTrivia",SyntaxKind[SyntaxKind.ConflictMarkerTrivia=7]="ConflictMarkerTrivia",SyntaxKind[SyntaxKind.NumericLiteral=8]="NumericLiteral",SyntaxKind[SyntaxKind.StringLiteral=9]="StringLiteral",SyntaxKind[SyntaxKind.RegularExpressionLiteral=10]="RegularExpressionLiteral",SyntaxKind[SyntaxKind.NoSubstitutionTemplateLiteral=11]="NoSubstitutionTemplateLiteral",SyntaxKind[SyntaxKind.TemplateHead=12]="TemplateHead",SyntaxKind[SyntaxKind.TemplateMiddle=13]="TemplateMiddle",SyntaxKind[SyntaxKind.TemplateTail=14]="TemplateTail",SyntaxKind[SyntaxKind.OpenBraceToken=15]="OpenBraceToken",SyntaxKind[SyntaxKind.CloseBraceToken=16]="CloseBraceToken",SyntaxKind[SyntaxKind.OpenParenToken=17]="OpenParenToken",SyntaxKind[SyntaxKind.CloseParenToken=18]="CloseParenToken",SyntaxKind[SyntaxKind.OpenBracketToken=19]="OpenBracketToken",SyntaxKind[SyntaxKind.CloseBracketToken=20]="CloseBracketToken",SyntaxKind[SyntaxKind.DotToken=21]="DotToken",SyntaxKind[SyntaxKind.DotDotDotToken=22]="DotDotDotToken",SyntaxKind[SyntaxKind.SemicolonToken=23]="SemicolonToken",SyntaxKind[SyntaxKind.CommaToken=24]="CommaToken",SyntaxKind[SyntaxKind.LessThanToken=25]="LessThanToken",SyntaxKind[SyntaxKind.LessThanSlashToken=26]="LessThanSlashToken",SyntaxKind[SyntaxKind.GreaterThanToken=27]="GreaterThanToken",SyntaxKind[SyntaxKind.LessThanEqualsToken=28]="LessThanEqualsToken",SyntaxKind[SyntaxKind.GreaterThanEqualsToken=29]="GreaterThanEqualsToken",SyntaxKind[SyntaxKind.EqualsEqualsToken=30]="EqualsEqualsToken",SyntaxKind[SyntaxKind.ExclamationEqualsToken=31]="ExclamationEqualsToken",SyntaxKind[SyntaxKind.EqualsEqualsEqualsToken=32]="EqualsEqualsEqualsToken",SyntaxKind[SyntaxKind.ExclamationEqualsEqualsToken=33]="ExclamationEqualsEqualsToken",SyntaxKind[SyntaxKind.EqualsGreaterThanToken=34]="EqualsGreaterThanToken",SyntaxKind[SyntaxKind.PlusToken=35]="PlusToken",SyntaxKind[SyntaxKind.MinusToken=36]="MinusToken",SyntaxKind[SyntaxKind.AsteriskToken=37]="AsteriskToken",SyntaxKind[SyntaxKind.AsteriskAsteriskToken=38]="AsteriskAsteriskToken",SyntaxKind[SyntaxKind.SlashToken=39]="SlashToken",SyntaxKind[SyntaxKind.PercentToken=40]="PercentToken",SyntaxKind[SyntaxKind.PlusPlusToken=41]="PlusPlusToken",SyntaxKind[SyntaxKind.MinusMinusToken=42]="MinusMinusToken",SyntaxKind[SyntaxKind.LessThanLessThanToken=43]="LessThanLessThanToken",SyntaxKind[SyntaxKind.GreaterThanGreaterThanToken=44]="GreaterThanGreaterThanToken",SyntaxKind[SyntaxKind.GreaterThanGreaterThanGreaterThanToken=45]="GreaterThanGreaterThanGreaterThanToken",SyntaxKind[SyntaxKind.AmpersandToken=46]="AmpersandToken",SyntaxKind[SyntaxKind.BarToken=47]="BarToken",SyntaxKind[SyntaxKind.CaretToken=48]="CaretToken",SyntaxKind[SyntaxKind.ExclamationToken=49]="ExclamationToken",SyntaxKind[SyntaxKind.TildeToken=50]="TildeToken",SyntaxKind[SyntaxKind.AmpersandAmpersandToken=51]="AmpersandAmpersandToken",SyntaxKind[SyntaxKind.BarBarToken=52]="BarBarToken",SyntaxKind[SyntaxKind.QuestionToken=53]="QuestionToken",SyntaxKind[SyntaxKind.ColonToken=54]="ColonToken",SyntaxKind[SyntaxKind.AtToken=55]="AtToken",SyntaxKind[SyntaxKind.EqualsToken=56]="EqualsToken",SyntaxKind[SyntaxKind.PlusEqualsToken=57]="PlusEqualsToken",SyntaxKind[SyntaxKind.MinusEqualsToken=58]="MinusEqualsToken",SyntaxKind[SyntaxKind.AsteriskEqualsToken=59]="AsteriskEqualsToken",SyntaxKind[SyntaxKind.AsteriskAsteriskEqualsToken=60]="AsteriskAsteriskEqualsToken",SyntaxKind[SyntaxKind.SlashEqualsToken=61]="SlashEqualsToken",SyntaxKind[SyntaxKind.PercentEqualsToken=62]="PercentEqualsToken",SyntaxKind[SyntaxKind.LessThanLessThanEqualsToken=63]="LessThanLessThanEqualsToken",SyntaxKind[SyntaxKind.GreaterThanGreaterThanEqualsToken=64]="GreaterThanGreaterThanEqualsToken",SyntaxKind[SyntaxKind.GreaterThanGreaterThanGreaterThanEqualsToken=65]="GreaterThanGreaterThanGreaterThanEqualsToken",SyntaxKind[SyntaxKind.AmpersandEqualsToken=66]="AmpersandEqualsToken",SyntaxKind[SyntaxKind.BarEqualsToken=67]="BarEqualsToken",SyntaxKind[SyntaxKind.CaretEqualsToken=68]="CaretEqualsToken",SyntaxKind[SyntaxKind.Identifier=69]="Identifier",SyntaxKind[SyntaxKind.BreakKeyword=70]="BreakKeyword",SyntaxKind[SyntaxKind.CaseKeyword=71]="CaseKeyword",SyntaxKind[SyntaxKind.CatchKeyword=72]="CatchKeyword",SyntaxKind[SyntaxKind.ClassKeyword=73]="ClassKeyword",SyntaxKind[SyntaxKind.ConstKeyword=74]="ConstKeyword",SyntaxKind[SyntaxKind.ContinueKeyword=75]="ContinueKeyword",SyntaxKind[SyntaxKind.DebuggerKeyword=76]="DebuggerKeyword",SyntaxKind[SyntaxKind.DefaultKeyword=77]="DefaultKeyword",SyntaxKind[SyntaxKind.DeleteKeyword=78]="DeleteKeyword",SyntaxKind[SyntaxKind.DoKeyword=79]="DoKeyword",SyntaxKind[SyntaxKind.ElseKeyword=80]="ElseKeyword",SyntaxKind[SyntaxKind.EnumKeyword=81]="EnumKeyword",SyntaxKind[SyntaxKind.ExportKeyword=82]="ExportKeyword",SyntaxKind[SyntaxKind.ExtendsKeyword=83]="ExtendsKeyword",SyntaxKind[SyntaxKind.FalseKeyword=84]="FalseKeyword",SyntaxKind[SyntaxKind.FinallyKeyword=85]="FinallyKeyword",SyntaxKind[SyntaxKind.ForKeyword=86]="ForKeyword",SyntaxKind[SyntaxKind.FunctionKeyword=87]="FunctionKeyword",SyntaxKind[SyntaxKind.IfKeyword=88]="IfKeyword",SyntaxKind[SyntaxKind.ImportKeyword=89]="ImportKeyword",SyntaxKind[SyntaxKind.InKeyword=90]="InKeyword",SyntaxKind[SyntaxKind.InstanceOfKeyword=91]="InstanceOfKeyword",SyntaxKind[SyntaxKind.NewKeyword=92]="NewKeyword",SyntaxKind[SyntaxKind.NullKeyword=93]="NullKeyword",SyntaxKind[SyntaxKind.ReturnKeyword=94]="ReturnKeyword",SyntaxKind[SyntaxKind.SuperKeyword=95]="SuperKeyword",SyntaxKind[SyntaxKind.SwitchKeyword=96]="SwitchKeyword",SyntaxKind[SyntaxKind.ThisKeyword=97]="ThisKeyword",SyntaxKind[SyntaxKind.ThrowKeyword=98]="ThrowKeyword",SyntaxKind[SyntaxKind.TrueKeyword=99]="TrueKeyword",SyntaxKind[SyntaxKind.TryKeyword=100]="TryKeyword",SyntaxKind[SyntaxKind.TypeOfKeyword=101]="TypeOfKeyword",SyntaxKind[SyntaxKind.VarKeyword=102]="VarKeyword",SyntaxKind[SyntaxKind.VoidKeyword=103]="VoidKeyword",SyntaxKind[SyntaxKind.WhileKeyword=104]="WhileKeyword",SyntaxKind[SyntaxKind.WithKeyword=105]="WithKeyword",SyntaxKind[SyntaxKind.ImplementsKeyword=106]="ImplementsKeyword",SyntaxKind[SyntaxKind.InterfaceKeyword=107]="InterfaceKeyword",SyntaxKind[SyntaxKind.LetKeyword=108]="LetKeyword",SyntaxKind[SyntaxKind.PackageKeyword=109]="PackageKeyword",SyntaxKind[SyntaxKind.PrivateKeyword=110]="PrivateKeyword",SyntaxKind[SyntaxKind.ProtectedKeyword=111]="ProtectedKeyword",SyntaxKind[SyntaxKind.PublicKeyword=112]="PublicKeyword",SyntaxKind[SyntaxKind.StaticKeyword=113]="StaticKeyword",SyntaxKind[SyntaxKind.YieldKeyword=114]="YieldKeyword",SyntaxKind[SyntaxKind.AbstractKeyword=115]="AbstractKeyword",SyntaxKind[SyntaxKind.AsKeyword=116]="AsKeyword",SyntaxKind[SyntaxKind.AnyKeyword=117]="AnyKeyword",SyntaxKind[SyntaxKind.AsyncKeyword=118]="AsyncKeyword",SyntaxKind[SyntaxKind.AwaitKeyword=119]="AwaitKeyword",SyntaxKind[SyntaxKind.BooleanKeyword=120]="BooleanKeyword",SyntaxKind[SyntaxKind.ConstructorKeyword=121]="ConstructorKeyword",SyntaxKind[SyntaxKind.DeclareKeyword=122]="DeclareKeyword",SyntaxKind[SyntaxKind.GetKeyword=123]="GetKeyword",SyntaxKind[SyntaxKind.IsKeyword=124]="IsKeyword",SyntaxKind[SyntaxKind.ModuleKeyword=125]="ModuleKeyword",SyntaxKind[SyntaxKind.NamespaceKeyword=126]="NamespaceKeyword",SyntaxKind[SyntaxKind.NeverKeyword=127]="NeverKeyword",SyntaxKind[SyntaxKind.ReadonlyKeyword=128]="ReadonlyKeyword",SyntaxKind[SyntaxKind.RequireKeyword=129]="RequireKeyword",SyntaxKind[SyntaxKind.NumberKeyword=130]="NumberKeyword",SyntaxKind[SyntaxKind.SetKeyword=131]="SetKeyword",SyntaxKind[SyntaxKind.StringKeyword=132]="StringKeyword",SyntaxKind[SyntaxKind.SymbolKeyword=133]="SymbolKeyword",SyntaxKind[SyntaxKind.TypeKeyword=134]="TypeKeyword",SyntaxKind[SyntaxKind.UndefinedKeyword=135]="UndefinedKeyword",SyntaxKind[SyntaxKind.FromKeyword=136]="FromKeyword",SyntaxKind[SyntaxKind.GlobalKeyword=137]="GlobalKeyword",SyntaxKind[SyntaxKind.OfKeyword=138]="OfKeyword",SyntaxKind[SyntaxKind.QualifiedName=139]="QualifiedName",SyntaxKind[SyntaxKind.ComputedPropertyName=140]="ComputedPropertyName",SyntaxKind[SyntaxKind.TypeParameter=141]="TypeParameter",SyntaxKind[SyntaxKind.Parameter=142]="Parameter",SyntaxKind[SyntaxKind.Decorator=143]="Decorator",SyntaxKind[SyntaxKind.PropertySignature=144]="PropertySignature",SyntaxKind[SyntaxKind.PropertyDeclaration=145]="PropertyDeclaration",SyntaxKind[SyntaxKind.MethodSignature=146]="MethodSignature",SyntaxKind[SyntaxKind.MethodDeclaration=147]="MethodDeclaration",SyntaxKind[SyntaxKind.Constructor=148]="Constructor",SyntaxKind[SyntaxKind.GetAccessor=149]="GetAccessor",SyntaxKind[SyntaxKind.SetAccessor=150]="SetAccessor",SyntaxKind[SyntaxKind.CallSignature=151]="CallSignature",SyntaxKind[SyntaxKind.ConstructSignature=152]="ConstructSignature",SyntaxKind[SyntaxKind.IndexSignature=153]="IndexSignature",SyntaxKind[SyntaxKind.TypePredicate=154]="TypePredicate",SyntaxKind[SyntaxKind.TypeReference=155]="TypeReference",SyntaxKind[SyntaxKind.FunctionType=156]="FunctionType",SyntaxKind[SyntaxKind.ConstructorType=157]="ConstructorType",SyntaxKind[SyntaxKind.TypeQuery=158]="TypeQuery",SyntaxKind[SyntaxKind.TypeLiteral=159]="TypeLiteral",SyntaxKind[SyntaxKind.ArrayType=160]="ArrayType",SyntaxKind[SyntaxKind.TupleType=161]="TupleType",SyntaxKind[SyntaxKind.UnionType=162]="UnionType",SyntaxKind[SyntaxKind.IntersectionType=163]="IntersectionType",SyntaxKind[SyntaxKind.ParenthesizedType=164]="ParenthesizedType",SyntaxKind[SyntaxKind.ThisType=165]="ThisType",SyntaxKind[SyntaxKind.LiteralType=166]="LiteralType",SyntaxKind[SyntaxKind.ObjectBindingPattern=167]="ObjectBindingPattern",SyntaxKind[SyntaxKind.ArrayBindingPattern=168]="ArrayBindingPattern",SyntaxKind[SyntaxKind.BindingElement=169]="BindingElement",
SyntaxKind[SyntaxKind.ArrayLiteralExpression=170]="ArrayLiteralExpression",SyntaxKind[SyntaxKind.ObjectLiteralExpression=171]="ObjectLiteralExpression",SyntaxKind[SyntaxKind.PropertyAccessExpression=172]="PropertyAccessExpression",SyntaxKind[SyntaxKind.ElementAccessExpression=173]="ElementAccessExpression",SyntaxKind[SyntaxKind.CallExpression=174]="CallExpression",SyntaxKind[SyntaxKind.NewExpression=175]="NewExpression",SyntaxKind[SyntaxKind.TaggedTemplateExpression=176]="TaggedTemplateExpression",SyntaxKind[SyntaxKind.TypeAssertionExpression=177]="TypeAssertionExpression",SyntaxKind[SyntaxKind.ParenthesizedExpression=178]="ParenthesizedExpression",SyntaxKind[SyntaxKind.FunctionExpression=179]="FunctionExpression",SyntaxKind[SyntaxKind.ArrowFunction=180]="ArrowFunction",SyntaxKind[SyntaxKind.DeleteExpression=181]="DeleteExpression",SyntaxKind[SyntaxKind.TypeOfExpression=182]="TypeOfExpression",SyntaxKind[SyntaxKind.VoidExpression=183]="VoidExpression",SyntaxKind[SyntaxKind.AwaitExpression=184]="AwaitExpression",SyntaxKind[SyntaxKind.PrefixUnaryExpression=185]="PrefixUnaryExpression",SyntaxKind[SyntaxKind.PostfixUnaryExpression=186]="PostfixUnaryExpression",SyntaxKind[SyntaxKind.BinaryExpression=187]="BinaryExpression",SyntaxKind[SyntaxKind.ConditionalExpression=188]="ConditionalExpression",SyntaxKind[SyntaxKind.TemplateExpression=189]="TemplateExpression",SyntaxKind[SyntaxKind.YieldExpression=190]="YieldExpression",SyntaxKind[SyntaxKind.SpreadElementExpression=191]="SpreadElementExpression",SyntaxKind[SyntaxKind.ClassExpression=192]="ClassExpression",SyntaxKind[SyntaxKind.OmittedExpression=193]="OmittedExpression",SyntaxKind[SyntaxKind.ExpressionWithTypeArguments=194]="ExpressionWithTypeArguments",SyntaxKind[SyntaxKind.AsExpression=195]="AsExpression",SyntaxKind[SyntaxKind.NonNullExpression=196]="NonNullExpression",SyntaxKind[SyntaxKind.TemplateSpan=197]="TemplateSpan",SyntaxKind[SyntaxKind.SemicolonClassElement=198]="SemicolonClassElement",SyntaxKind[SyntaxKind.Block=199]="Block",SyntaxKind[SyntaxKind.VariableStatement=200]="VariableStatement",SyntaxKind[SyntaxKind.EmptyStatement=201]="EmptyStatement",SyntaxKind[SyntaxKind.ExpressionStatement=202]="ExpressionStatement",SyntaxKind[SyntaxKind.IfStatement=203]="IfStatement",SyntaxKind[SyntaxKind.DoStatement=204]="DoStatement",SyntaxKind[SyntaxKind.WhileStatement=205]="WhileStatement",SyntaxKind[SyntaxKind.ForStatement=206]="ForStatement",SyntaxKind[SyntaxKind.ForInStatement=207]="ForInStatement",SyntaxKind[SyntaxKind.ForOfStatement=208]="ForOfStatement",SyntaxKind[SyntaxKind.ContinueStatement=209]="ContinueStatement",SyntaxKind[SyntaxKind.BreakStatement=210]="BreakStatement",SyntaxKind[SyntaxKind.ReturnStatement=211]="ReturnStatement",SyntaxKind[SyntaxKind.WithStatement=212]="WithStatement",SyntaxKind[SyntaxKind.SwitchStatement=213]="SwitchStatement",SyntaxKind[SyntaxKind.LabeledStatement=214]="LabeledStatement",SyntaxKind[SyntaxKind.ThrowStatement=215]="ThrowStatement",SyntaxKind[SyntaxKind.TryStatement=216]="TryStatement",SyntaxKind[SyntaxKind.DebuggerStatement=217]="DebuggerStatement",SyntaxKind[SyntaxKind.VariableDeclaration=218]="VariableDeclaration",SyntaxKind[SyntaxKind.VariableDeclarationList=219]="VariableDeclarationList",SyntaxKind[SyntaxKind.FunctionDeclaration=220]="FunctionDeclaration",SyntaxKind[SyntaxKind.ClassDeclaration=221]="ClassDeclaration",SyntaxKind[SyntaxKind.InterfaceDeclaration=222]="InterfaceDeclaration",SyntaxKind[SyntaxKind.TypeAliasDeclaration=223]="TypeAliasDeclaration",SyntaxKind[SyntaxKind.EnumDeclaration=224]="EnumDeclaration",SyntaxKind[SyntaxKind.ModuleDeclaration=225]="ModuleDeclaration",SyntaxKind[SyntaxKind.ModuleBlock=226]="ModuleBlock",SyntaxKind[SyntaxKind.CaseBlock=227]="CaseBlock",SyntaxKind[SyntaxKind.NamespaceExportDeclaration=228]="NamespaceExportDeclaration",SyntaxKind[SyntaxKind.ImportEqualsDeclaration=229]="ImportEqualsDeclaration",SyntaxKind[SyntaxKind.ImportDeclaration=230]="ImportDeclaration",SyntaxKind[SyntaxKind.ImportClause=231]="ImportClause",SyntaxKind[SyntaxKind.NamespaceImport=232]="NamespaceImport",SyntaxKind[SyntaxKind.NamedImports=233]="NamedImports",SyntaxKind[SyntaxKind.ImportSpecifier=234]="ImportSpecifier",SyntaxKind[SyntaxKind.ExportAssignment=235]="ExportAssignment",SyntaxKind[SyntaxKind.ExportDeclaration=236]="ExportDeclaration",SyntaxKind[SyntaxKind.NamedExports=237]="NamedExports",SyntaxKind[SyntaxKind.ExportSpecifier=238]="ExportSpecifier",SyntaxKind[SyntaxKind.MissingDeclaration=239]="MissingDeclaration",SyntaxKind[SyntaxKind.ExternalModuleReference=240]="ExternalModuleReference",SyntaxKind[SyntaxKind.JsxElement=241]="JsxElement",SyntaxKind[SyntaxKind.JsxSelfClosingElement=242]="JsxSelfClosingElement",SyntaxKind[SyntaxKind.JsxOpeningElement=243]="JsxOpeningElement",SyntaxKind[SyntaxKind.JsxText=244]="JsxText",SyntaxKind[SyntaxKind.JsxClosingElement=245]="JsxClosingElement",SyntaxKind[SyntaxKind.JsxAttribute=246]="JsxAttribute",SyntaxKind[SyntaxKind.JsxSpreadAttribute=247]="JsxSpreadAttribute",SyntaxKind[SyntaxKind.JsxExpression=248]="JsxExpression",SyntaxKind[SyntaxKind.CaseClause=249]="CaseClause",SyntaxKind[SyntaxKind.DefaultClause=250]="DefaultClause",SyntaxKind[SyntaxKind.HeritageClause=251]="HeritageClause",SyntaxKind[SyntaxKind.CatchClause=252]="CatchClause",SyntaxKind[SyntaxKind.PropertyAssignment=253]="PropertyAssignment",SyntaxKind[SyntaxKind.ShorthandPropertyAssignment=254]="ShorthandPropertyAssignment",SyntaxKind[SyntaxKind.EnumMember=255]="EnumMember",SyntaxKind[SyntaxKind.SourceFile=256]="SourceFile",SyntaxKind[SyntaxKind.JSDocTypeExpression=257]="JSDocTypeExpression",SyntaxKind[SyntaxKind.JSDocAllType=258]="JSDocAllType",SyntaxKind[SyntaxKind.JSDocUnknownType=259]="JSDocUnknownType",SyntaxKind[SyntaxKind.JSDocArrayType=260]="JSDocArrayType",SyntaxKind[SyntaxKind.JSDocUnionType=261]="JSDocUnionType",SyntaxKind[SyntaxKind.JSDocTupleType=262]="JSDocTupleType",SyntaxKind[SyntaxKind.JSDocNullableType=263]="JSDocNullableType",SyntaxKind[SyntaxKind.JSDocNonNullableType=264]="JSDocNonNullableType",SyntaxKind[SyntaxKind.JSDocRecordType=265]="JSDocRecordType",SyntaxKind[SyntaxKind.JSDocRecordMember=266]="JSDocRecordMember",SyntaxKind[SyntaxKind.JSDocTypeReference=267]="JSDocTypeReference",SyntaxKind[SyntaxKind.JSDocOptionalType=268]="JSDocOptionalType",SyntaxKind[SyntaxKind.JSDocFunctionType=269]="JSDocFunctionType",SyntaxKind[SyntaxKind.JSDocVariadicType=270]="JSDocVariadicType",SyntaxKind[SyntaxKind.JSDocConstructorType=271]="JSDocConstructorType",SyntaxKind[SyntaxKind.JSDocThisType=272]="JSDocThisType",SyntaxKind[SyntaxKind.JSDocComment=273]="JSDocComment",SyntaxKind[SyntaxKind.JSDocTag=274]="JSDocTag",SyntaxKind[SyntaxKind.JSDocParameterTag=275]="JSDocParameterTag",SyntaxKind[SyntaxKind.JSDocReturnTag=276]="JSDocReturnTag",SyntaxKind[SyntaxKind.JSDocTypeTag=277]="JSDocTypeTag",SyntaxKind[SyntaxKind.JSDocTemplateTag=278]="JSDocTemplateTag",SyntaxKind[SyntaxKind.JSDocTypedefTag=279]="JSDocTypedefTag",SyntaxKind[SyntaxKind.JSDocPropertyTag=280]="JSDocPropertyTag",SyntaxKind[SyntaxKind.JSDocTypeLiteral=281]="JSDocTypeLiteral",SyntaxKind[SyntaxKind.JSDocLiteralType=282]="JSDocLiteralType",SyntaxKind[SyntaxKind.JSDocNullKeyword=283]="JSDocNullKeyword",SyntaxKind[SyntaxKind.JSDocUndefinedKeyword=284]="JSDocUndefinedKeyword",SyntaxKind[SyntaxKind.JSDocNeverKeyword=285]="JSDocNeverKeyword",SyntaxKind[SyntaxKind.SyntaxList=286]="SyntaxList",SyntaxKind[SyntaxKind.Count=287]="Count",SyntaxKind[SyntaxKind.FirstAssignment=56]="FirstAssignment",SyntaxKind[SyntaxKind.LastAssignment=68]="LastAssignment",SyntaxKind[SyntaxKind.FirstReservedWord=70]="FirstReservedWord",SyntaxKind[SyntaxKind.LastReservedWord=105]="LastReservedWord",SyntaxKind[SyntaxKind.FirstKeyword=70]="FirstKeyword",SyntaxKind[SyntaxKind.LastKeyword=138]="LastKeyword",SyntaxKind[SyntaxKind.FirstFutureReservedWord=106]="FirstFutureReservedWord",SyntaxKind[SyntaxKind.LastFutureReservedWord=114]="LastFutureReservedWord",SyntaxKind[SyntaxKind.FirstTypeNode=154]="FirstTypeNode",SyntaxKind[SyntaxKind.LastTypeNode=166]="LastTypeNode",SyntaxKind[SyntaxKind.FirstPunctuation=15]="FirstPunctuation",SyntaxKind[SyntaxKind.LastPunctuation=68]="LastPunctuation",SyntaxKind[SyntaxKind.FirstToken=0]="FirstToken",SyntaxKind[SyntaxKind.LastToken=138]="LastToken",SyntaxKind[SyntaxKind.FirstTriviaToken=2]="FirstTriviaToken",SyntaxKind[SyntaxKind.LastTriviaToken=7]="LastTriviaToken",SyntaxKind[SyntaxKind.FirstLiteralToken=8]="FirstLiteralToken",SyntaxKind[SyntaxKind.LastLiteralToken=11]="LastLiteralToken",SyntaxKind[SyntaxKind.FirstTemplateToken=11]="FirstTemplateToken",SyntaxKind[SyntaxKind.LastTemplateToken=14]="LastTemplateToken",SyntaxKind[SyntaxKind.FirstBinaryOperator=25]="FirstBinaryOperator",SyntaxKind[SyntaxKind.LastBinaryOperator=68]="LastBinaryOperator",SyntaxKind[SyntaxKind.FirstNode=139]="FirstNode",SyntaxKind[SyntaxKind.FirstJSDocNode=257]="FirstJSDocNode",SyntaxKind[SyntaxKind.LastJSDocNode=282]="LastJSDocNode",SyntaxKind[SyntaxKind.FirstJSDocTagNode=273]="FirstJSDocTagNode",SyntaxKind[SyntaxKind.LastJSDocTagNode=285]="LastJSDocTagNode"}(ts.SyntaxKind||(ts.SyntaxKind={}));ts.SyntaxKind;!function(NodeFlags){NodeFlags[NodeFlags.None=0]="None",NodeFlags[NodeFlags.Export=1]="Export",NodeFlags[NodeFlags.Ambient=2]="Ambient",NodeFlags[NodeFlags.Public=4]="Public",NodeFlags[NodeFlags.Private=8]="Private",NodeFlags[NodeFlags.Protected=16]="Protected",NodeFlags[NodeFlags.Static=32]="Static",NodeFlags[NodeFlags.Readonly=64]="Readonly",NodeFlags[NodeFlags.Abstract=128]="Abstract",NodeFlags[NodeFlags.Async=256]="Async",NodeFlags[NodeFlags.Default=512]="Default",NodeFlags[NodeFlags.Let=1024]="Let",NodeFlags[NodeFlags.Const=2048]="Const",NodeFlags[NodeFlags.Namespace=4096]="Namespace",NodeFlags[NodeFlags.ExportContext=8192]="ExportContext",NodeFlags[NodeFlags.ContainsThis=16384]="ContainsThis",NodeFlags[NodeFlags.HasImplicitReturn=32768]="HasImplicitReturn",NodeFlags[NodeFlags.HasExplicitReturn=65536]="HasExplicitReturn",NodeFlags[NodeFlags.GlobalAugmentation=131072]="GlobalAugmentation",NodeFlags[NodeFlags.HasClassExtends=262144]="HasClassExtends",NodeFlags[NodeFlags.HasDecorators=524288]="HasDecorators",NodeFlags[NodeFlags.HasParamDecorators=1048576]="HasParamDecorators",NodeFlags[NodeFlags.HasAsyncFunctions=2097152]="HasAsyncFunctions",NodeFlags[NodeFlags.DisallowInContext=4194304]="DisallowInContext",NodeFlags[NodeFlags.YieldContext=8388608]="YieldContext",NodeFlags[NodeFlags.DecoratorContext=16777216]="DecoratorContext",NodeFlags[NodeFlags.AwaitContext=33554432]="AwaitContext",NodeFlags[NodeFlags.ThisNodeHasError=67108864]="ThisNodeHasError",NodeFlags[NodeFlags.JavaScriptFile=134217728]="JavaScriptFile",NodeFlags[NodeFlags.ThisNodeOrAnySubNodesHasError=268435456]="ThisNodeOrAnySubNodesHasError",NodeFlags[NodeFlags.HasAggregatedChildData=536870912]="HasAggregatedChildData",NodeFlags[NodeFlags.HasJsxSpreadAttribute=1073741824]="HasJsxSpreadAttribute",NodeFlags[NodeFlags.Modifier=1023]="Modifier",NodeFlags[NodeFlags.AccessibilityModifier=28]="AccessibilityModifier",NodeFlags[NodeFlags.ParameterPropertyModifier=92]="ParameterPropertyModifier",NodeFlags[NodeFlags.BlockScoped=3072]="BlockScoped",NodeFlags[NodeFlags.ReachabilityCheckFlags=98304]="ReachabilityCheckFlags",NodeFlags[NodeFlags.EmitHelperFlags=3932160]="EmitHelperFlags",NodeFlags[NodeFlags.ReachabilityAndEmitFlags=4030464]="ReachabilityAndEmitFlags",NodeFlags[NodeFlags.ContextFlags=197132288]="ContextFlags",NodeFlags[NodeFlags.TypeExcludesFlags=41943040]="TypeExcludesFlags"}(ts.NodeFlags||(ts.NodeFlags={}));ts.NodeFlags;!function(JsxFlags){JsxFlags[JsxFlags.None=0]="None",JsxFlags[JsxFlags.IntrinsicNamedElement=1]="IntrinsicNamedElement",JsxFlags[JsxFlags.IntrinsicIndexedElement=2]="IntrinsicIndexedElement",JsxFlags[JsxFlags.IntrinsicElement=3]="IntrinsicElement"}(ts.JsxFlags||(ts.JsxFlags={}));ts.JsxFlags;!function(RelationComparisonResult){RelationComparisonResult[RelationComparisonResult.Succeeded=1]="Succeeded",RelationComparisonResult[RelationComparisonResult.Failed=2]="Failed",RelationComparisonResult[RelationComparisonResult.FailedAndReported=3]="FailedAndReported"}(ts.RelationComparisonResult||(ts.RelationComparisonResult={}));ts.RelationComparisonResult;!function(FlowFlags){FlowFlags[FlowFlags.Unreachable=1]="Unreachable",FlowFlags[FlowFlags.Start=2]="Start",FlowFlags[FlowFlags.BranchLabel=4]="BranchLabel",FlowFlags[FlowFlags.LoopLabel=8]="LoopLabel",FlowFlags[FlowFlags.Assignment=16]="Assignment",FlowFlags[FlowFlags.TrueCondition=32]="TrueCondition",FlowFlags[FlowFlags.FalseCondition=64]="FalseCondition",FlowFlags[FlowFlags.SwitchClause=128]="SwitchClause",FlowFlags[FlowFlags.Referenced=256]="Referenced",FlowFlags[FlowFlags.Shared=512]="Shared",FlowFlags[FlowFlags.Label=12]="Label",FlowFlags[FlowFlags.Condition=96]="Condition"}(ts.FlowFlags||(ts.FlowFlags={}));var OperationCanceledException=(ts.FlowFlags,function(){function OperationCanceledException(){}return OperationCanceledException}());ts.OperationCanceledException=OperationCanceledException,function(ExitStatus){ExitStatus[ExitStatus.Success=0]="Success",ExitStatus[ExitStatus.DiagnosticsPresent_OutputsSkipped=1]="DiagnosticsPresent_OutputsSkipped",ExitStatus[ExitStatus.DiagnosticsPresent_OutputsGenerated=2]="DiagnosticsPresent_OutputsGenerated"}(ts.ExitStatus||(ts.ExitStatus={}));ts.ExitStatus;!function(TypeFormatFlags){TypeFormatFlags[TypeFormatFlags.None=0]="None",TypeFormatFlags[TypeFormatFlags.WriteArrayAsGenericType=1]="WriteArrayAsGenericType",TypeFormatFlags[TypeFormatFlags.UseTypeOfFunction=2]="UseTypeOfFunction",TypeFormatFlags[TypeFormatFlags.NoTruncation=4]="NoTruncation",TypeFormatFlags[TypeFormatFlags.WriteArrowStyleSignature=8]="WriteArrowStyleSignature",TypeFormatFlags[TypeFormatFlags.WriteOwnNameForAnyLike=16]="WriteOwnNameForAnyLike",TypeFormatFlags[TypeFormatFlags.WriteTypeArgumentsOfSignature=32]="WriteTypeArgumentsOfSignature",TypeFormatFlags[TypeFormatFlags.InElementType=64]="InElementType",TypeFormatFlags[TypeFormatFlags.UseFullyQualifiedType=128]="UseFullyQualifiedType",TypeFormatFlags[TypeFormatFlags.InFirstTypeArgument=256]="InFirstTypeArgument",TypeFormatFlags[TypeFormatFlags.InTypeAlias=512]="InTypeAlias"}(ts.TypeFormatFlags||(ts.TypeFormatFlags={}));ts.TypeFormatFlags;!function(SymbolFormatFlags){SymbolFormatFlags[SymbolFormatFlags.None=0]="None",SymbolFormatFlags[SymbolFormatFlags.WriteTypeParametersOrArguments=1]="WriteTypeParametersOrArguments",SymbolFormatFlags[SymbolFormatFlags.UseOnlyExternalAliasing=2]="UseOnlyExternalAliasing"}(ts.SymbolFormatFlags||(ts.SymbolFormatFlags={}));ts.SymbolFormatFlags;!function(SymbolAccessibility){SymbolAccessibility[SymbolAccessibility.Accessible=0]="Accessible",SymbolAccessibility[SymbolAccessibility.NotAccessible=1]="NotAccessible",SymbolAccessibility[SymbolAccessibility.CannotBeNamed=2]="CannotBeNamed"}(ts.SymbolAccessibility||(ts.SymbolAccessibility={}));ts.SymbolAccessibility;!function(TypePredicateKind){TypePredicateKind[TypePredicateKind.This=0]="This",TypePredicateKind[TypePredicateKind.Identifier=1]="Identifier"}(ts.TypePredicateKind||(ts.TypePredicateKind={}));ts.TypePredicateKind;!function(TypeReferenceSerializationKind){TypeReferenceSerializationKind[TypeReferenceSerializationKind.Unknown=0]="Unknown",TypeReferenceSerializationKind[TypeReferenceSerializationKind.TypeWithConstructSignatureAndValue=1]="TypeWithConstructSignatureAndValue",TypeReferenceSerializationKind[TypeReferenceSerializationKind.VoidType=2]="VoidType",TypeReferenceSerializationKind[TypeReferenceSerializationKind.NumberLikeType=3]="NumberLikeType",TypeReferenceSerializationKind[TypeReferenceSerializationKind.StringLikeType=4]="StringLikeType",TypeReferenceSerializationKind[TypeReferenceSerializationKind.BooleanType=5]="BooleanType",TypeReferenceSerializationKind[TypeReferenceSerializationKind.ArrayLikeType=6]="ArrayLikeType",TypeReferenceSerializationKind[TypeReferenceSerializationKind.ESSymbolType=7]="ESSymbolType",TypeReferenceSerializationKind[TypeReferenceSerializationKind.TypeWithCallSignature=8]="TypeWithCallSignature",TypeReferenceSerializationKind[TypeReferenceSerializationKind.ObjectType=9]="ObjectType"}(ts.TypeReferenceSerializationKind||(ts.TypeReferenceSerializationKind={}));ts.TypeReferenceSerializationKind;!function(SymbolFlags){SymbolFlags[SymbolFlags.None=0]="None",SymbolFlags[SymbolFlags.FunctionScopedVariable=1]="FunctionScopedVariable",SymbolFlags[SymbolFlags.BlockScopedVariable=2]="BlockScopedVariable",SymbolFlags[SymbolFlags.Property=4]="Property",SymbolFlags[SymbolFlags.EnumMember=8]="EnumMember",SymbolFlags[SymbolFlags.Function=16]="Function",SymbolFlags[SymbolFlags.Class=32]="Class",SymbolFlags[SymbolFlags.Interface=64]="Interface",SymbolFlags[SymbolFlags.ConstEnum=128]="ConstEnum",SymbolFlags[SymbolFlags.RegularEnum=256]="RegularEnum",SymbolFlags[SymbolFlags.ValueModule=512]="ValueModule",SymbolFlags[SymbolFlags.NamespaceModule=1024]="NamespaceModule",SymbolFlags[SymbolFlags.TypeLiteral=2048]="TypeLiteral",SymbolFlags[SymbolFlags.ObjectLiteral=4096]="ObjectLiteral",SymbolFlags[SymbolFlags.Method=8192]="Method",SymbolFlags[SymbolFlags.Constructor=16384]="Constructor",SymbolFlags[SymbolFlags.GetAccessor=32768]="GetAccessor",SymbolFlags[SymbolFlags.SetAccessor=65536]="SetAccessor",SymbolFlags[SymbolFlags.Signature=131072]="Signature",SymbolFlags[SymbolFlags.TypeParameter=262144]="TypeParameter",SymbolFlags[SymbolFlags.TypeAlias=524288]="TypeAlias",SymbolFlags[SymbolFlags.ExportValue=1048576]="ExportValue",SymbolFlags[SymbolFlags.ExportType=2097152]="ExportType",SymbolFlags[SymbolFlags.ExportNamespace=4194304]="ExportNamespace",SymbolFlags[SymbolFlags.Alias=8388608]="Alias",SymbolFlags[SymbolFlags.Instantiated=16777216]="Instantiated",SymbolFlags[SymbolFlags.Merged=33554432]="Merged",SymbolFlags[SymbolFlags.Transient=67108864]="Transient",SymbolFlags[SymbolFlags.Prototype=134217728]="Prototype",SymbolFlags[SymbolFlags.SyntheticProperty=268435456]="SyntheticProperty",SymbolFlags[SymbolFlags.Optional=536870912]="Optional",SymbolFlags[SymbolFlags.ExportStar=1073741824]="ExportStar",SymbolFlags[SymbolFlags.Enum=384]="Enum",SymbolFlags[SymbolFlags.Variable=3]="Variable",SymbolFlags[SymbolFlags.Value=107455]="Value",SymbolFlags[SymbolFlags.Type=793064]="Type",SymbolFlags[SymbolFlags.Namespace=1920]="Namespace",SymbolFlags[SymbolFlags.Module=1536]="Module",SymbolFlags[SymbolFlags.Accessor=98304]="Accessor",SymbolFlags[SymbolFlags.FunctionScopedVariableExcludes=107454]="FunctionScopedVariableExcludes",SymbolFlags[SymbolFlags.BlockScopedVariableExcludes=107455]="BlockScopedVariableExcludes",SymbolFlags[SymbolFlags.ParameterExcludes=107455]="ParameterExcludes",SymbolFlags[SymbolFlags.PropertyExcludes=0]="PropertyExcludes",SymbolFlags[SymbolFlags.EnumMemberExcludes=900095]="EnumMemberExcludes",SymbolFlags[SymbolFlags.FunctionExcludes=106927]="FunctionExcludes",SymbolFlags[SymbolFlags.ClassExcludes=899519]="ClassExcludes",SymbolFlags[SymbolFlags.InterfaceExcludes=792968]="InterfaceExcludes",SymbolFlags[SymbolFlags.RegularEnumExcludes=899327]="RegularEnumExcludes",SymbolFlags[SymbolFlags.ConstEnumExcludes=899967]="ConstEnumExcludes",SymbolFlags[SymbolFlags.ValueModuleExcludes=106639]="ValueModuleExcludes",SymbolFlags[SymbolFlags.NamespaceModuleExcludes=0]="NamespaceModuleExcludes",SymbolFlags[SymbolFlags.MethodExcludes=99263]="MethodExcludes",SymbolFlags[SymbolFlags.GetAccessorExcludes=41919]="GetAccessorExcludes",SymbolFlags[SymbolFlags.SetAccessorExcludes=74687]="SetAccessorExcludes",SymbolFlags[SymbolFlags.TypeParameterExcludes=530920]="TypeParameterExcludes",SymbolFlags[SymbolFlags.TypeAliasExcludes=793064]="TypeAliasExcludes",SymbolFlags[SymbolFlags.AliasExcludes=8388608]="AliasExcludes",SymbolFlags[SymbolFlags.ModuleMember=8914931]="ModuleMember",SymbolFlags[SymbolFlags.ExportHasLocal=944]="ExportHasLocal",SymbolFlags[SymbolFlags.HasExports=1952]="HasExports",SymbolFlags[SymbolFlags.HasMembers=6240]="HasMembers",SymbolFlags[SymbolFlags.BlockScoped=418]="BlockScoped",SymbolFlags[SymbolFlags.PropertyOrAccessor=98308]="PropertyOrAccessor",SymbolFlags[SymbolFlags.Export=7340032]="Export",SymbolFlags[SymbolFlags.ClassMember=106500]="ClassMember",SymbolFlags[SymbolFlags.Classifiable=788448]="Classifiable"}(ts.SymbolFlags||(ts.SymbolFlags={}));ts.SymbolFlags;!function(NodeCheckFlags){NodeCheckFlags[NodeCheckFlags.TypeChecked=1]="TypeChecked",NodeCheckFlags[NodeCheckFlags.LexicalThis=2]="LexicalThis",NodeCheckFlags[NodeCheckFlags.CaptureThis=4]="CaptureThis",NodeCheckFlags[NodeCheckFlags.SuperInstance=256]="SuperInstance",NodeCheckFlags[NodeCheckFlags.SuperStatic=512]="SuperStatic",NodeCheckFlags[NodeCheckFlags.ContextChecked=1024]="ContextChecked",NodeCheckFlags[NodeCheckFlags.AsyncMethodWithSuper=2048]="AsyncMethodWithSuper",NodeCheckFlags[NodeCheckFlags.AsyncMethodWithSuperBinding=4096]="AsyncMethodWithSuperBinding",NodeCheckFlags[NodeCheckFlags.CaptureArguments=8192]="CaptureArguments",NodeCheckFlags[NodeCheckFlags.EnumValuesComputed=16384]="EnumValuesComputed",NodeCheckFlags[NodeCheckFlags.LexicalModuleMergesWithClass=32768]="LexicalModuleMergesWithClass",NodeCheckFlags[NodeCheckFlags.LoopWithCapturedBlockScopedBinding=65536]="LoopWithCapturedBlockScopedBinding",NodeCheckFlags[NodeCheckFlags.CapturedBlockScopedBinding=131072]="CapturedBlockScopedBinding",NodeCheckFlags[NodeCheckFlags.BlockScopedBindingInLoop=262144]="BlockScopedBindingInLoop",NodeCheckFlags[NodeCheckFlags.ClassWithBodyScopedClassBinding=524288]="ClassWithBodyScopedClassBinding",NodeCheckFlags[NodeCheckFlags.BodyScopedClassBinding=1048576]="BodyScopedClassBinding",NodeCheckFlags[NodeCheckFlags.NeedsLoopOutParameter=2097152]="NeedsLoopOutParameter",NodeCheckFlags[NodeCheckFlags.AssignmentsMarked=4194304]="AssignmentsMarked"}(ts.NodeCheckFlags||(ts.NodeCheckFlags={}));ts.NodeCheckFlags;!function(TypeFlags){TypeFlags[TypeFlags.Any=1]="Any",TypeFlags[TypeFlags.String=2]="String",TypeFlags[TypeFlags.Number=4]="Number",TypeFlags[TypeFlags.Boolean=8]="Boolean",TypeFlags[TypeFlags.Enum=16]="Enum",TypeFlags[TypeFlags.StringLiteral=32]="StringLiteral",TypeFlags[TypeFlags.NumberLiteral=64]="NumberLiteral",TypeFlags[TypeFlags.BooleanLiteral=128]="BooleanLiteral",TypeFlags[TypeFlags.EnumLiteral=256]="EnumLiteral",TypeFlags[TypeFlags.ESSymbol=512]="ESSymbol",TypeFlags[TypeFlags.Void=1024]="Void",TypeFlags[TypeFlags.Undefined=2048]="Undefined",TypeFlags[TypeFlags.Null=4096]="Null",TypeFlags[TypeFlags.Never=8192]="Never",TypeFlags[TypeFlags.TypeParameter=16384]="TypeParameter",TypeFlags[TypeFlags.Class=32768]="Class",TypeFlags[TypeFlags.Interface=65536]="Interface",TypeFlags[TypeFlags.Reference=131072]="Reference",TypeFlags[TypeFlags.Tuple=262144]="Tuple",TypeFlags[TypeFlags.Union=524288]="Union",TypeFlags[TypeFlags.Intersection=1048576]="Intersection",TypeFlags[TypeFlags.Anonymous=2097152]="Anonymous",TypeFlags[TypeFlags.Instantiated=4194304]="Instantiated",TypeFlags[TypeFlags.ObjectLiteral=8388608]="ObjectLiteral",TypeFlags[TypeFlags.FreshObjectLiteral=16777216]="FreshObjectLiteral",TypeFlags[TypeFlags.ContainsWideningType=33554432]="ContainsWideningType",TypeFlags[TypeFlags.ContainsObjectLiteral=67108864]="ContainsObjectLiteral",TypeFlags[TypeFlags.ContainsAnyFunctionType=134217728]="ContainsAnyFunctionType",TypeFlags[TypeFlags.ThisType=268435456]="ThisType",TypeFlags[TypeFlags.ObjectLiteralPatternWithComputedProperties=536870912]="ObjectLiteralPatternWithComputedProperties",TypeFlags[TypeFlags.Nullable=6144]="Nullable",TypeFlags[TypeFlags.Literal=480]="Literal",TypeFlags[TypeFlags.DefinitelyFalsy=7392]="DefinitelyFalsy",TypeFlags[TypeFlags.PossiblyFalsy=7406]="PossiblyFalsy",TypeFlags[TypeFlags.Intrinsic=16015]="Intrinsic",TypeFlags[TypeFlags.Primitive=8190]="Primitive",TypeFlags[TypeFlags.StringLike=34]="StringLike",TypeFlags[TypeFlags.NumberLike=340]="NumberLike",TypeFlags[TypeFlags.BooleanLike=136]="BooleanLike",TypeFlags[TypeFlags.EnumLike=272]="EnumLike",TypeFlags[TypeFlags.ObjectType=2588672]="ObjectType",TypeFlags[TypeFlags.UnionOrIntersection=1572864]="UnionOrIntersection",TypeFlags[TypeFlags.StructuredType=4161536]="StructuredType",TypeFlags[TypeFlags.StructuredOrTypeParameter=4177920]="StructuredOrTypeParameter",TypeFlags[TypeFlags.Narrowable=4178943]="Narrowable",TypeFlags[TypeFlags.NotUnionOrUnit=2589191]="NotUnionOrUnit",TypeFlags[TypeFlags.RequiresWidening=100663296]="RequiresWidening",TypeFlags[TypeFlags.PropagatingFlags=234881024]="PropagatingFlags"}(ts.TypeFlags||(ts.TypeFlags={}));ts.TypeFlags;!function(SignatureKind){SignatureKind[SignatureKind.Call=0]="Call",SignatureKind[SignatureKind.Construct=1]="Construct"}(ts.SignatureKind||(ts.SignatureKind={}));ts.SignatureKind;!function(IndexKind){IndexKind[IndexKind.String=0]="String",IndexKind[IndexKind.Number=1]="Number"}(ts.IndexKind||(ts.IndexKind={}));ts.IndexKind;!function(SpecialPropertyAssignmentKind){SpecialPropertyAssignmentKind[SpecialPropertyAssignmentKind.None=0]="None",SpecialPropertyAssignmentKind[SpecialPropertyAssignmentKind.ExportsProperty=1]="ExportsProperty",SpecialPropertyAssignmentKind[SpecialPropertyAssignmentKind.ModuleExports=2]="ModuleExports",SpecialPropertyAssignmentKind[SpecialPropertyAssignmentKind.PrototypeProperty=3]="PrototypeProperty",SpecialPropertyAssignmentKind[SpecialPropertyAssignmentKind.ThisProperty=4]="ThisProperty"}(ts.SpecialPropertyAssignmentKind||(ts.SpecialPropertyAssignmentKind={}));ts.SpecialPropertyAssignmentKind;!function(DiagnosticCategory){DiagnosticCategory[DiagnosticCategory.Warning=0]="Warning",DiagnosticCategory[DiagnosticCategory.Error=1]="Error",DiagnosticCategory[DiagnosticCategory.Message=2]="Message"}(ts.DiagnosticCategory||(ts.DiagnosticCategory={}));ts.DiagnosticCategory;!function(ModuleResolutionKind){ModuleResolutionKind[ModuleResolutionKind.Classic=1]="Classic",ModuleResolutionKind[ModuleResolutionKind.NodeJs=2]="NodeJs"}(ts.ModuleResolutionKind||(ts.ModuleResolutionKind={}));ts.ModuleResolutionKind;!function(ModuleKind){ModuleKind[ModuleKind.None=0]="None",ModuleKind[ModuleKind.CommonJS=1]="CommonJS",ModuleKind[ModuleKind.AMD=2]="AMD",ModuleKind[ModuleKind.UMD=3]="UMD",ModuleKind[ModuleKind.System=4]="System",ModuleKind[ModuleKind.ES6=5]="ES6",ModuleKind[ModuleKind.ES2015=5]="ES2015"}(ts.ModuleKind||(ts.ModuleKind={}));ts.ModuleKind;!function(JsxEmit){JsxEmit[JsxEmit.None=0]="None",JsxEmit[JsxEmit.Preserve=1]="Preserve",JsxEmit[JsxEmit.React=2]="React"}(ts.JsxEmit||(ts.JsxEmit={}));ts.JsxEmit;!function(NewLineKind){NewLineKind[NewLineKind.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",NewLineKind[NewLineKind.LineFeed=1]="LineFeed"}(ts.NewLineKind||(ts.NewLineKind={}));ts.NewLineKind;!function(ScriptKind){ScriptKind[ScriptKind.Unknown=0]="Unknown",ScriptKind[ScriptKind.JS=1]="JS",ScriptKind[ScriptKind.JSX=2]="JSX",ScriptKind[ScriptKind.TS=3]="TS",ScriptKind[ScriptKind.TSX=4]="TSX"}(ts.ScriptKind||(ts.ScriptKind={}));ts.ScriptKind;!function(ScriptTarget){ScriptTarget[ScriptTarget.ES3=0]="ES3",ScriptTarget[ScriptTarget.ES5=1]="ES5",ScriptTarget[ScriptTarget.ES6=2]="ES6",ScriptTarget[ScriptTarget.ES2015=2]="ES2015",ScriptTarget[ScriptTarget.Latest=2]="Latest"}(ts.ScriptTarget||(ts.ScriptTarget={}));ts.ScriptTarget;!function(LanguageVariant){LanguageVariant[LanguageVariant.Standard=0]="Standard",LanguageVariant[LanguageVariant.JSX=1]="JSX"}(ts.LanguageVariant||(ts.LanguageVariant={}));ts.LanguageVariant;!function(DiagnosticStyle){DiagnosticStyle[DiagnosticStyle.Simple=0]="Simple",DiagnosticStyle[DiagnosticStyle.Pretty=1]="Pretty"}(ts.DiagnosticStyle||(ts.DiagnosticStyle={}));ts.DiagnosticStyle;!function(WatchDirectoryFlags){WatchDirectoryFlags[WatchDirectoryFlags.None=0]="None",WatchDirectoryFlags[WatchDirectoryFlags.Recursive=1]="Recursive"}(ts.WatchDirectoryFlags||(ts.WatchDirectoryFlags={}));ts.WatchDirectoryFlags;!function(CharacterCodes){CharacterCodes[CharacterCodes.nullCharacter=0]="nullCharacter",CharacterCodes[CharacterCodes.maxAsciiCharacter=127]="maxAsciiCharacter",CharacterCodes[CharacterCodes.lineFeed=10]="lineFeed",CharacterCodes[CharacterCodes.carriageReturn=13]="carriageReturn",CharacterCodes[CharacterCodes.lineSeparator=8232]="lineSeparator",CharacterCodes[CharacterCodes.paragraphSeparator=8233]="paragraphSeparator",CharacterCodes[CharacterCodes.nextLine=133]="nextLine",CharacterCodes[CharacterCodes.space=32]="space",CharacterCodes[CharacterCodes.nonBreakingSpace=160]="nonBreakingSpace",CharacterCodes[CharacterCodes.enQuad=8192]="enQuad",CharacterCodes[CharacterCodes.emQuad=8193]="emQuad",CharacterCodes[CharacterCodes.enSpace=8194]="enSpace",CharacterCodes[CharacterCodes.emSpace=8195]="emSpace",CharacterCodes[CharacterCodes.threePerEmSpace=8196]="threePerEmSpace",CharacterCodes[CharacterCodes.fourPerEmSpace=8197]="fourPerEmSpace",CharacterCodes[CharacterCodes.sixPerEmSpace=8198]="sixPerEmSpace",CharacterCodes[CharacterCodes.figureSpace=8199]="figureSpace",CharacterCodes[CharacterCodes.punctuationSpace=8200]="punctuationSpace",CharacterCodes[CharacterCodes.thinSpace=8201]="thinSpace",CharacterCodes[CharacterCodes.hairSpace=8202]="hairSpace",CharacterCodes[CharacterCodes.zeroWidthSpace=8203]="zeroWidthSpace",CharacterCodes[CharacterCodes.narrowNoBreakSpace=8239]="narrowNoBreakSpace",CharacterCodes[CharacterCodes.ideographicSpace=12288]="ideographicSpace",CharacterCodes[CharacterCodes.mathematicalSpace=8287]="mathematicalSpace",CharacterCodes[CharacterCodes.ogham=5760]="ogham",CharacterCodes[CharacterCodes._=95]="_",CharacterCodes[CharacterCodes.$=36]="$",CharacterCodes[CharacterCodes._0=48]="_0",CharacterCodes[CharacterCodes._1=49]="_1",CharacterCodes[CharacterCodes._2=50]="_2",CharacterCodes[CharacterCodes._3=51]="_3",CharacterCodes[CharacterCodes._4=52]="_4",CharacterCodes[CharacterCodes._5=53]="_5",CharacterCodes[CharacterCodes._6=54]="_6",CharacterCodes[CharacterCodes._7=55]="_7",CharacterCodes[CharacterCodes._8=56]="_8",CharacterCodes[CharacterCodes._9=57]="_9",CharacterCodes[CharacterCodes.a=97]="a",CharacterCodes[CharacterCodes.b=98]="b",CharacterCodes[CharacterCodes.c=99]="c",CharacterCodes[CharacterCodes.d=100]="d",CharacterCodes[CharacterCodes.e=101]="e",CharacterCodes[CharacterCodes.f=102]="f",CharacterCodes[CharacterCodes.g=103]="g",CharacterCodes[CharacterCodes.h=104]="h",CharacterCodes[CharacterCodes.i=105]="i",CharacterCodes[CharacterCodes.j=106]="j",CharacterCodes[CharacterCodes.k=107]="k",CharacterCodes[CharacterCodes.l=108]="l",CharacterCodes[CharacterCodes.m=109]="m",CharacterCodes[CharacterCodes.n=110]="n",CharacterCodes[CharacterCodes.o=111]="o",CharacterCodes[CharacterCodes.p=112]="p",CharacterCodes[CharacterCodes.q=113]="q",CharacterCodes[CharacterCodes.r=114]="r",CharacterCodes[CharacterCodes.s=115]="s",CharacterCodes[CharacterCodes.t=116]="t",CharacterCodes[CharacterCodes.u=117]="u",CharacterCodes[CharacterCodes.v=118]="v",CharacterCodes[CharacterCodes.w=119]="w",CharacterCodes[CharacterCodes.x=120]="x",CharacterCodes[CharacterCodes.y=121]="y",CharacterCodes[CharacterCodes.z=122]="z",CharacterCodes[CharacterCodes.A=65]="A",CharacterCodes[CharacterCodes.B=66]="B",CharacterCodes[CharacterCodes.C=67]="C",CharacterCodes[CharacterCodes.D=68]="D",CharacterCodes[CharacterCodes.E=69]="E",CharacterCodes[CharacterCodes.F=70]="F",CharacterCodes[CharacterCodes.G=71]="G",CharacterCodes[CharacterCodes.H=72]="H",CharacterCodes[CharacterCodes.I=73]="I",CharacterCodes[CharacterCodes.J=74]="J",CharacterCodes[CharacterCodes.K=75]="K",CharacterCodes[CharacterCodes.L=76]="L",CharacterCodes[CharacterCodes.M=77]="M",CharacterCodes[CharacterCodes.N=78]="N",CharacterCodes[CharacterCodes.O=79]="O",CharacterCodes[CharacterCodes.P=80]="P",CharacterCodes[CharacterCodes.Q=81]="Q",CharacterCodes[CharacterCodes.R=82]="R",CharacterCodes[CharacterCodes.S=83]="S",CharacterCodes[CharacterCodes.T=84]="T",CharacterCodes[CharacterCodes.U=85]="U",CharacterCodes[CharacterCodes.V=86]="V",CharacterCodes[CharacterCodes.W=87]="W",CharacterCodes[CharacterCodes.X=88]="X",CharacterCodes[CharacterCodes.Y=89]="Y",CharacterCodes[CharacterCodes.Z=90]="Z",CharacterCodes[CharacterCodes.ampersand=38]="ampersand",
CharacterCodes[CharacterCodes.asterisk=42]="asterisk",CharacterCodes[CharacterCodes.at=64]="at",CharacterCodes[CharacterCodes.backslash=92]="backslash",CharacterCodes[CharacterCodes.backtick=96]="backtick",CharacterCodes[CharacterCodes.bar=124]="bar",CharacterCodes[CharacterCodes.caret=94]="caret",CharacterCodes[CharacterCodes.closeBrace=125]="closeBrace",CharacterCodes[CharacterCodes.closeBracket=93]="closeBracket",CharacterCodes[CharacterCodes.closeParen=41]="closeParen",CharacterCodes[CharacterCodes.colon=58]="colon",CharacterCodes[CharacterCodes.comma=44]="comma",CharacterCodes[CharacterCodes.dot=46]="dot",CharacterCodes[CharacterCodes.doubleQuote=34]="doubleQuote",CharacterCodes[CharacterCodes.equals=61]="equals",CharacterCodes[CharacterCodes.exclamation=33]="exclamation",CharacterCodes[CharacterCodes.greaterThan=62]="greaterThan",CharacterCodes[CharacterCodes.hash=35]="hash",CharacterCodes[CharacterCodes.lessThan=60]="lessThan",CharacterCodes[CharacterCodes.minus=45]="minus",CharacterCodes[CharacterCodes.openBrace=123]="openBrace",CharacterCodes[CharacterCodes.openBracket=91]="openBracket",CharacterCodes[CharacterCodes.openParen=40]="openParen",CharacterCodes[CharacterCodes.percent=37]="percent",CharacterCodes[CharacterCodes.plus=43]="plus",CharacterCodes[CharacterCodes.question=63]="question",CharacterCodes[CharacterCodes.semicolon=59]="semicolon",CharacterCodes[CharacterCodes.singleQuote=39]="singleQuote",CharacterCodes[CharacterCodes.slash=47]="slash",CharacterCodes[CharacterCodes.tilde=126]="tilde",CharacterCodes[CharacterCodes.backspace=8]="backspace",CharacterCodes[CharacterCodes.formFeed=12]="formFeed",CharacterCodes[CharacterCodes.byteOrderMark=65279]="byteOrderMark",CharacterCodes[CharacterCodes.tab=9]="tab",CharacterCodes[CharacterCodes.verticalTab=11]="verticalTab"}(ts.CharacterCodes||(ts.CharacterCodes={}));ts.CharacterCodes}(ts||(ts={}));var ts;!function(ts){ts.timestamp="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:Date.now?Date.now:function(){return+new Date}}(ts||(ts={}));var ts;!function(ts){var performance;!function(performance){function mark(markName){enabled&&(marks[markName]=ts.timestamp(),counts[markName]=(counts[markName]||0)+1,profilerEvent(markName))}function measure(measureName,startMarkName,endMarkName){if(enabled){var end=endMarkName&&marks[endMarkName]||ts.timestamp(),start=startMarkName&&marks[startMarkName]||profilerStart;measures[measureName]=(measures[measureName]||0)+(end-start)}}function getCount(markName){return counts&&counts[markName]||0}function getDuration(measureName){return measures&&measures[measureName]||0}function forEachMeasure(cb){for(var key in measures)cb(key,measures[key])}function enable(){counts=ts.createMap(),marks=ts.createMap(),measures=ts.createMap(),enabled=!0,profilerStart=ts.timestamp()}function disable(){enabled=!1}var counts,marks,measures,profilerEvent="function"==typeof onProfilerEvent&&onProfilerEvent.profiler===!0?onProfilerEvent:function(markName){},enabled=!1,profilerStart=0;performance.mark=mark,performance.measure=measure,performance.getCount=getCount,performance.getDuration=getDuration,performance.forEachMeasure=forEachMeasure,performance.enable=enable,performance.disable=disable}(performance=ts.performance||(ts.performance={}))}(ts||(ts={}));var ts;!function(ts){function createMap(template){var map=createObject(null);map.__=void 0,delete map.__;for(var key in template)hasOwnProperty.call(template,key)&&(map[key]=template[key]);return map}function createFileMap(keyMapper){function forEachValueInMap(f){for(var key in files)f(key,files[key])}function getKeys(){var keys=[];for(var key in files)keys.push(key);return keys}function get(path){return files[toKey(path)]}function set(path,value){files[toKey(path)]=value}function contains(path){return toKey(path)in files}function remove(path){var key=toKey(path);delete files[key]}function clear(){files=createMap()}function toKey(path){return keyMapper?keyMapper(path):path}var files=createMap();return{get:get,set:set,contains:contains,remove:remove,forEachValue:forEachValueInMap,getKeys:getKeys,clear:clear}}function toPath(fileName,basePath,getCanonicalFileName){var nonCanonicalizedPath=isRootedDiskPath(fileName)?normalizePath(fileName):getNormalizedAbsolutePath(fileName,basePath);return getCanonicalFileName(nonCanonicalizedPath)}function forEach(array,callback){if(array)for(var i=0,len=array.length;len>i;i++){var result=callback(array[i],i);if(result)return result}return void 0}function find(array,predicate){for(var i=0,len=array.length;len>i;i++){var value=array[i];if(predicate(value,i))return value}return void 0}function findMap(array,callback){for(var i=0,len=array.length;len>i;i++){var result=callback(array[i],i);if(result)return result}Debug.fail()}function contains(array,value){if(array)for(var _i=0,array_1=array;_i<array_1.length;_i++){var v=array_1[_i];if(v===value)return!0}return!1}function indexOf(array,value){if(array)for(var i=0,len=array.length;len>i;i++)if(array[i]===value)return i;return-1}function indexOfAnyCharCode(text,charCodes,start){for(var i=start||0,len=text.length;len>i;i++)if(contains(charCodes,text.charCodeAt(i)))return i;return-1}function countWhere(array,predicate){var count=0;if(array)for(var _i=0,array_2=array;_i<array_2.length;_i++){var v=array_2[_i];predicate(v)&&count++}return count}function filter(array,f){if(array){for(var len=array.length,i=0;len>i&&f(array[i]);)i++;if(len>i){var result=array.slice(0,i);for(i++;len>i;){var item=array[i];f(item)&&result.push(item),i++}return result}}return array}function removeWhere(array,f){for(var outIndex=0,_i=0,array_3=array;_i<array_3.length;_i++){var item=array_3[_i];f(item)||(array[outIndex]=item,outIndex++)}return outIndex!==array.length?(array.length=outIndex,!0):!1}function filterMutate(array,f){for(var outIndex=0,_i=0,array_4=array;_i<array_4.length;_i++){var item=array_4[_i];f(item)&&(array[outIndex]=item,outIndex++)}array.length=outIndex}function map(array,f){var result;if(array){result=[];for(var _i=0,array_5=array;_i<array_5.length;_i++){var v=array_5[_i];result.push(f(v))}}return result}function concatenate(array1,array2){return array2&&array2.length?array1&&array1.length?array1.concat(array2):array2:array1}function deduplicate(array,areEqual){var result;if(array){result=[];loop:for(var _i=0,array_6=array;_i<array_6.length;_i++){for(var item=array_6[_i],_a=0,result_1=result;_a<result_1.length;_a++){var res=result_1[_a];if(areEqual?areEqual(res,item):res===item)continue loop}result.push(item)}}return result}function sum(array,prop){for(var result=0,_i=0,array_7=array;_i<array_7.length;_i++){var v=array_7[_i];result+=v[prop]}return result}function addRange(to,from){if(to&&from)for(var _i=0,from_1=from;_i<from_1.length;_i++){var v=from_1[_i];to.push(v)}}function rangeEquals(array1,array2,pos,end){for(;end>pos;){if(array1[pos]!==array2[pos])return!1;pos++}return!0}function lastOrUndefined(array){return 0===array.length?void 0:array[array.length-1]}function binarySearch(array,value,comparer){if(!array||0===array.length)return-1;var low=0,high=array.length-1;for(comparer=void 0!==comparer?comparer:function(v1,v2){return v2>v1?-1:v1>v2?1:0};high>=low;){var middle=low+(high-low>>1),midValue=array[middle];if(0===comparer(midValue,value))return middle;comparer(midValue,value)>0?high=middle-1:low=middle+1}return~low}function reduceLeft(array,f,initial){if(array){var count=array.length;if(count>0){var pos=0,result=void 0;for(arguments.length<=2?(result=array[pos],pos++):result=initial;count>pos;)result=f(result,array[pos]),pos++;return result}}return initial}function reduceRight(array,f,initial){if(array){var pos=array.length-1;if(pos>=0){var result=void 0;for(arguments.length<=2?(result=array[pos],pos--):result=initial;pos>=0;)result=f(result,array[pos]),pos--;return result}}return initial}function hasProperty(map,key){return hasOwnProperty.call(map,key)}function getProperty(map,key){return hasOwnProperty.call(map,key)?map[key]:void 0}function getOwnKeys(map){var keys=[];for(var key in map)hasOwnProperty.call(map,key)&&keys.push(key);return keys}function forEachProperty(map,callback){var result;for(var key in map)if(result=callback(map[key],key))break;return result}function someProperties(map,predicate){for(var key in map)if(!predicate||predicate(map[key],key))return!0;return!1}function copyProperties(source,target){for(var key in source)target[key]=source[key]}function reduceProperties(map,callback,initial){var result=initial;for(var key in map)result=callback(result,map[key],String(key));return result}function reduceOwnProperties(map,callback,initial){var result=initial;for(var key in map)hasOwnProperty.call(map,key)&&(result=callback(result,map[key],String(key)));return result}function equalOwnProperties(left,right,equalityComparer){if(left===right)return!0;if(!left||!right)return!1;for(var key in left)if(hasOwnProperty.call(left,key)){if(void 0===!hasOwnProperty.call(right,key))return!1;if(equalityComparer?!equalityComparer(left[key],right[key]):left[key]!==right[key])return!1}for(var key in right)if(hasOwnProperty.call(right,key)&&!hasOwnProperty.call(left,key))return!1;return!0}function arrayToMap(array,makeKey,makeValue){for(var result=createMap(),_i=0,array_8=array;_i<array_8.length;_i++){var value=array_8[_i];result[makeKey(value)]=makeValue?makeValue(value):value}return result}function cloneMap(map){var clone=createMap();return copyProperties(map,clone),clone}function clone(object){var result={};for(var id in object)hasOwnProperty.call(object,id)&&(result[id]=object[id]);return result}function extend(first,second){var result={};for(var id in second)hasOwnProperty.call(second,id)&&(result[id]=second[id]);for(var id in first)hasOwnProperty.call(first,id)&&(result[id]=first[id]);return result}function isArray(value){return Array.isArray?Array.isArray(value):value instanceof Array}function memoize(callback){var value;return function(){return callback&&(value=callback(),callback=void 0),value}}function formatStringFromArgs(text,args,baseIndex){return baseIndex=baseIndex||0,text.replace(/{(\d+)}/g,function(match,index){return args[+index+baseIndex]})}function getLocaleSpecificMessage(message){return ts.localizedDiagnosticMessages&&ts.localizedDiagnosticMessages[message.key]||message.message}function createFileDiagnostic(file,start,length,message){var end=start+length;Debug.assert(start>=0,"start must be non-negative, is "+start),Debug.assert(length>=0,"length must be non-negative, is "+length),file&&(Debug.assert(start<=file.text.length,"start must be within the bounds of the file. "+start+" > "+file.text.length),Debug.assert(end<=file.text.length,"end must be the bounds of the file. "+end+" > "+file.text.length));var text=getLocaleSpecificMessage(message);return arguments.length>4&&(text=formatStringFromArgs(text,arguments,4)),{file:file,start:start,length:length,messageText:text,category:message.category,code:message.code}}function formatMessage(dummy,message){var text=getLocaleSpecificMessage(message);return arguments.length>2&&(text=formatStringFromArgs(text,arguments,2)),text}function createCompilerDiagnostic(message){var text=getLocaleSpecificMessage(message);return arguments.length>1&&(text=formatStringFromArgs(text,arguments,1)),{file:void 0,start:void 0,length:void 0,messageText:text,category:message.category,code:message.code}}function chainDiagnosticMessages(details,message){var text=getLocaleSpecificMessage(message);return arguments.length>2&&(text=formatStringFromArgs(text,arguments,2)),{messageText:text,category:message.category,code:message.code,next:details}}function concatenateDiagnosticMessageChains(headChain,tailChain){for(var lastChain=headChain;lastChain.next;)lastChain=lastChain.next;return lastChain.next=tailChain,headChain}function compareValues(a,b){return a===b?0:void 0===a?-1:void 0===b?1:b>a?-1:1}function compareStrings(a,b,ignoreCase){if(a===b)return 0;if(void 0===a)return-1;if(void 0===b)return 1;if(ignoreCase){if(ts.collator&&String.prototype.localeCompare){var result=a.localeCompare(b,void 0,{usage:"sort",sensitivity:"accent"});return 0>result?-1:result>0?1:0}if(a=a.toUpperCase(),b=b.toUpperCase(),a===b)return 0}return b>a?-1:1}function compareStringsCaseInsensitive(a,b){return compareStrings(a,b,!0)}function getDiagnosticFileName(diagnostic){return diagnostic.file?diagnostic.file.fileName:void 0}function compareDiagnostics(d1,d2){return compareValues(getDiagnosticFileName(d1),getDiagnosticFileName(d2))||compareValues(d1.start,d2.start)||compareValues(d1.length,d2.length)||compareValues(d1.code,d2.code)||compareMessageText(d1.messageText,d2.messageText)||0}function compareMessageText(text1,text2){for(;text1&&text2;){var string1="string"==typeof text1?text1:text1.messageText,string2="string"==typeof text2?text2:text2.messageText,res=compareValues(string1,string2);if(res)return res;text1="string"==typeof text1?void 0:text1.next,text2="string"==typeof text2?void 0:text2.next}return text1||text2?text1?1:-1:0}function sortAndDeduplicateDiagnostics(diagnostics){return deduplicateSortedDiagnostics(diagnostics.sort(compareDiagnostics))}function deduplicateSortedDiagnostics(diagnostics){if(diagnostics.length<2)return diagnostics;for(var newDiagnostics=[diagnostics[0]],previousDiagnostic=diagnostics[0],i=1;i<diagnostics.length;i++){var currentDiagnostic=diagnostics[i],isDupe=0===compareDiagnostics(currentDiagnostic,previousDiagnostic);isDupe||(newDiagnostics.push(currentDiagnostic),previousDiagnostic=currentDiagnostic)}return newDiagnostics}function normalizeSlashes(path){return path.replace(/\\/g,"/")}function getRootLength(path){if(47===path.charCodeAt(0)){if(47!==path.charCodeAt(1))return 1;var p1=path.indexOf("/",2);if(0>p1)return 2;var p2=path.indexOf("/",p1+1);return 0>p2?p1+1:p2+1}if(58===path.charCodeAt(1))return 47===path.charCodeAt(2)?3:2;if(0===path.lastIndexOf("file:///",0))return"file:///".length;var idx=path.indexOf("://");return-1!==idx?idx+"://".length:0}function getNormalizedParts(normalizedSlashedPath,rootLength){for(var parts=normalizedSlashedPath.substr(rootLength).split(ts.directorySeparator),normalized=[],_i=0,parts_1=parts;_i<parts_1.length;_i++){var part=parts_1[_i];"."!==part&&(".."===part&&normalized.length>0&&".."!==lastOrUndefined(normalized)?normalized.pop():part&&normalized.push(part))}return normalized}function normalizePath(path){path=normalizeSlashes(path);var rootLength=getRootLength(path),normalized=getNormalizedParts(path,rootLength);return path.substr(0,rootLength)+normalized.join(ts.directorySeparator)}function getDirectoryPath(path){return path.substr(0,Math.max(getRootLength(path),path.lastIndexOf(ts.directorySeparator)))}function isUrl(path){return path&&!isRootedDiskPath(path)&&-1!==path.indexOf("://")}function isRootedDiskPath(path){return 0!==getRootLength(path)}function normalizedPathComponents(path,rootLength){var normalizedParts=getNormalizedParts(path,rootLength);return[path.substr(0,rootLength)].concat(normalizedParts)}function getNormalizedPathComponents(path,currentDirectory){path=normalizeSlashes(path);var rootLength=getRootLength(path);return 0===rootLength&&(path=combinePaths(normalizeSlashes(currentDirectory),path),rootLength=getRootLength(path)),normalizedPathComponents(path,rootLength)}function getNormalizedAbsolutePath(fileName,currentDirectory){return getNormalizedPathFromPathComponents(getNormalizedPathComponents(fileName,currentDirectory))}function getNormalizedPathFromPathComponents(pathComponents){return pathComponents&&pathComponents.length?pathComponents[0]+pathComponents.slice(1).join(ts.directorySeparator):void 0}function getNormalizedPathComponentsOfUrl(url){for(var urlLength=url.length,rootLength=url.indexOf("://")+"://".length;urlLength>rootLength&&47===url.charCodeAt(rootLength);)rootLength++;if(rootLength===urlLength)return[url];var indexOfNextSlash=url.indexOf(ts.directorySeparator,rootLength);return-1!==indexOfNextSlash?(rootLength=indexOfNextSlash+1,normalizedPathComponents(url,rootLength)):[url+ts.directorySeparator]}function getNormalizedPathOrUrlComponents(pathOrUrl,currentDirectory){return isUrl(pathOrUrl)?getNormalizedPathComponentsOfUrl(pathOrUrl):getNormalizedPathComponents(pathOrUrl,currentDirectory)}function getRelativePathToDirectoryOrUrl(directoryPathOrUrl,relativeOrAbsolutePath,currentDirectory,getCanonicalFileName,isAbsolutePathAnUrl){var pathComponents=getNormalizedPathOrUrlComponents(relativeOrAbsolutePath,currentDirectory),directoryComponents=getNormalizedPathOrUrlComponents(directoryPathOrUrl,currentDirectory);directoryComponents.length>1&&""===lastOrUndefined(directoryComponents)&&directoryComponents.length--;var joinStartIndex;for(joinStartIndex=0;joinStartIndex<pathComponents.length&&joinStartIndex<directoryComponents.length&&getCanonicalFileName(directoryComponents[joinStartIndex])===getCanonicalFileName(pathComponents[joinStartIndex]);joinStartIndex++);if(joinStartIndex){for(var relativePath="",relativePathComponents=pathComponents.slice(joinStartIndex,pathComponents.length);joinStartIndex<directoryComponents.length;joinStartIndex++)""!==directoryComponents[joinStartIndex]&&(relativePath=relativePath+".."+ts.directorySeparator);return relativePath+relativePathComponents.join(ts.directorySeparator)}var absolutePath=getNormalizedPathFromPathComponents(pathComponents);return isAbsolutePathAnUrl&&isRootedDiskPath(absolutePath)&&(absolutePath="file:///"+absolutePath),absolutePath}function getBaseFileName(path){if(void 0===path)return void 0;var i=path.lastIndexOf(ts.directorySeparator);return 0>i?path:path.substring(i+1)}function combinePaths(path1,path2){return path1&&path1.length?path2&&path2.length?0!==getRootLength(path2)?path2:path1.charAt(path1.length-1)===ts.directorySeparator?path1+path2:path1+ts.directorySeparator+path2:path1:path2}function removeTrailingDirectorySeparator(path){return path.charAt(path.length-1)===ts.directorySeparator?path.substr(0,path.length-1):path}function ensureTrailingDirectorySeparator(path){return path.charAt(path.length-1)!==ts.directorySeparator?path+ts.directorySeparator:path}function comparePaths(a,b,currentDirectory,ignoreCase){if(a===b)return 0;if(void 0===a)return-1;if(void 0===b)return 1;a=removeTrailingDirectorySeparator(a),b=removeTrailingDirectorySeparator(b);for(var aComponents=getNormalizedPathComponents(a,currentDirectory),bComponents=getNormalizedPathComponents(b,currentDirectory),sharedLength=Math.min(aComponents.length,bComponents.length),i=0;sharedLength>i;i++){var result=compareStrings(aComponents[i],bComponents[i],ignoreCase);if(0!==result)return result}return compareValues(aComponents.length,bComponents.length)}function containsPath(parent,child,currentDirectory,ignoreCase){if(void 0===parent||void 0===child)return!1;if(parent===child)return!0;if(parent=removeTrailingDirectorySeparator(parent),child=removeTrailingDirectorySeparator(child),parent===child)return!0;var parentComponents=getNormalizedPathComponents(parent,currentDirectory),childComponents=getNormalizedPathComponents(child,currentDirectory);if(childComponents.length<parentComponents.length)return!1;for(var i=0;i<parentComponents.length;i++){var result=compareStrings(parentComponents[i],childComponents[i],ignoreCase);if(0!==result)return!1}return!0}function startsWith(str,prefix){return 0===str.lastIndexOf(prefix,0)}function endsWith(str,suffix){var expectedPos=str.length-suffix.length;return expectedPos>=0&&str.indexOf(suffix,expectedPos)===expectedPos}function fileExtensionIs(path,extension){return path.length>extension.length&&endsWith(path,extension)}function fileExtensionIsAny(path,extensions){for(var _i=0,extensions_1=extensions;_i<extensions_1.length;_i++){var extension=extensions_1[_i];if(fileExtensionIs(path,extension))return!0}return!1}function getRegularExpressionForWildcard(specs,basePath,usage){if(void 0===specs||0===specs.length)return void 0;var replaceWildcardCharacter="files"===usage?replaceWildCardCharacterFiles:replaceWildCardCharacterOther,singleAsteriskRegexFragment="files"===usage?singleAsteriskRegexFragmentFiles:singleAsteriskRegexFragmentOther,doubleAsteriskRegexFragment="exclude"===usage?"(/.+?)?":"(/[^/.][^/]*)*?",pattern="",hasWrittenSubpattern=!1;spec:for(var _i=0,specs_1=specs;_i<specs_1.length;_i++){var spec=specs_1[_i];if(spec){var subpattern="",hasRecursiveDirectoryWildcard=!1,hasWrittenComponent=!1,components=getNormalizedPathComponents(spec,basePath);if("exclude"===usage||"**"!==components[components.length-1]){components[0]=removeTrailingDirectorySeparator(components[0]);for(var optionalCount=0,_a=0,components_1=components;_a<components_1.length;_a++){var component=components_1[_a];if("**"===component){if(hasRecursiveDirectoryWildcard)continue spec;subpattern+=doubleAsteriskRegexFragment,hasRecursiveDirectoryWildcard=!0,hasWrittenComponent=!0}else"directories"===usage&&(subpattern+="(",optionalCount++),hasWrittenComponent&&(subpattern+=ts.directorySeparator),"exclude"!==usage&&(42===component.charCodeAt(0)?(subpattern+="([^./]"+singleAsteriskRegexFragment+")?",component=component.substr(1)):63===component.charCodeAt(0)&&(subpattern+="[^./]",component=component.substr(1))),subpattern+=component.replace(reservedCharacterPattern,replaceWildcardCharacter),hasWrittenComponent=!0}for(;optionalCount>0;)subpattern+=")?",optionalCount--;hasWrittenSubpattern&&(pattern+="|"),pattern+="("+subpattern+")",hasWrittenSubpattern=!0}}}return pattern?"^("+pattern+("exclude"===usage?")($|/)":")$"):void 0}function replaceWildCardCharacterFiles(match){return replaceWildcardCharacter(match,singleAsteriskRegexFragmentFiles)}function replaceWildCardCharacterOther(match){return replaceWildcardCharacter(match,singleAsteriskRegexFragmentOther)}function replaceWildcardCharacter(match,singleAsteriskRegexFragment){return"*"===match?singleAsteriskRegexFragment:"?"===match?"[^/]":"\\"+match}function getFileMatcherPatterns(path,extensions,excludes,includes,useCaseSensitiveFileNames,currentDirectory){path=normalizePath(path),currentDirectory=normalizePath(currentDirectory);var absolutePath=combinePaths(currentDirectory,path);return{includeFilePattern:getRegularExpressionForWildcard(includes,absolutePath,"files"),includeDirectoryPattern:getRegularExpressionForWildcard(includes,absolutePath,"directories"),excludePattern:getRegularExpressionForWildcard(excludes,absolutePath,"exclude"),basePaths:getBasePaths(path,includes,useCaseSensitiveFileNames)}}function matchFiles(path,extensions,excludes,includes,useCaseSensitiveFileNames,currentDirectory,getFileSystemEntries){function visitDirectory(path,absolutePath){for(var _a=getFileSystemEntries(path),files=_a.files,directories=_a.directories,_i=0,files_1=files;_i<files_1.length;_i++){var current=files_1[_i],name_1=combinePaths(path,current),absoluteName=combinePaths(absolutePath,current);extensions&&!fileExtensionIsAny(name_1,extensions)||includeFileRegex&&!includeFileRegex.test(absoluteName)||excludeRegex&&excludeRegex.test(absoluteName)||result.push(name_1)}for(var _b=0,directories_1=directories;_b<directories_1.length;_b++){var current=directories_1[_b],name_2=combinePaths(path,current),absoluteName=combinePaths(absolutePath,current);includeDirectoryRegex&&!includeDirectoryRegex.test(absoluteName)||excludeRegex&&excludeRegex.test(absoluteName)||visitDirectory(name_2,absoluteName)}}path=normalizePath(path),currentDirectory=normalizePath(currentDirectory);for(var patterns=getFileMatcherPatterns(path,extensions,excludes,includes,useCaseSensitiveFileNames,currentDirectory),regexFlag=useCaseSensitiveFileNames?"":"i",includeFileRegex=patterns.includeFilePattern&&new RegExp(patterns.includeFilePattern,regexFlag),includeDirectoryRegex=patterns.includeDirectoryPattern&&new RegExp(patterns.includeDirectoryPattern,regexFlag),excludeRegex=patterns.excludePattern&&new RegExp(patterns.excludePattern,regexFlag),result=[],_i=0,_a=patterns.basePaths;_i<_a.length;_i++){var basePath=_a[_i];visitDirectory(basePath,combinePaths(currentDirectory,basePath))}return result}function getBasePaths(path,includes,useCaseSensitiveFileNames){var basePaths=[path];if(includes){for(var includeBasePaths=[],_i=0,includes_1=includes;_i<includes_1.length;_i++){var include=includes_1[_i],absolute=isRootedDiskPath(include)?include:normalizePath(combinePaths(path,include)),wildcardOffset=indexOfAnyCharCode(absolute,wildcardCharCodes),includeBasePath=0>wildcardOffset?removeTrailingDirectorySeparator(getDirectoryPath(absolute)):absolute.substring(0,absolute.lastIndexOf(ts.directorySeparator,wildcardOffset));includeBasePaths.push(includeBasePath)}includeBasePaths.sort(useCaseSensitiveFileNames?compareStrings:compareStringsCaseInsensitive);include:for(var i=0;i<includeBasePaths.length;i++){for(var includeBasePath=includeBasePaths[i],j=0;j<basePaths.length;j++)if(containsPath(basePaths[j],includeBasePath,path,!useCaseSensitiveFileNames))continue include;basePaths.push(includeBasePath)}}return basePaths}function ensureScriptKind(fileName,scriptKind){return scriptKind||getScriptKindFromFileName(fileName)||3}function getScriptKindFromFileName(fileName){var ext=fileName.substr(fileName.lastIndexOf("."));switch(ext.toLowerCase()){case".js":return 1;case".jsx":return 2;case".ts":return 3;case".tsx":return 4;default:return 0}}function getSupportedExtensions(options){return options&&options.allowJs?allSupportedExtensions:ts.supportedTypeScriptExtensions}function hasJavaScriptFileExtension(fileName){return forEach(ts.supportedJavascriptExtensions,function(extension){return fileExtensionIs(fileName,extension)})}function hasTypeScriptFileExtension(fileName){return forEach(ts.supportedTypeScriptExtensions,function(extension){return fileExtensionIs(fileName,extension)})}function isSupportedSourceFileName(fileName,compilerOptions){if(!fileName)return!1;for(var _i=0,_a=getSupportedExtensions(compilerOptions);_i<_a.length;_i++){var extension=_a[_i];if(fileExtensionIs(fileName,extension))return!0}return!1}function getExtensionPriority(path,supportedExtensions){for(var i=supportedExtensions.length-1;i>=0;i--)if(fileExtensionIs(path,supportedExtensions[i]))return adjustExtensionPriority(i);return 0}function adjustExtensionPriority(extensionPriority){return 2>extensionPriority?0:5>extensionPriority?2:5}function getNextLowestExtensionPriority(extensionPriority){return 2>extensionPriority?2:5}function removeFileExtension(path){for(var _i=0,extensionsToRemove_1=extensionsToRemove;_i<extensionsToRemove_1.length;_i++){var ext=extensionsToRemove_1[_i],extensionless=tryRemoveExtension(path,ext);if(void 0!==extensionless)return extensionless}return path}function tryRemoveExtension(path,extension){return fileExtensionIs(path,extension)?removeExtension(path,extension):void 0}function removeExtension(path,extension){return path.substring(0,path.length-extension.length)}function isJsxOrTsxExtension(ext){return".jsx"===ext||".tsx"===ext}function changeExtension(path,newExtension){return removeFileExtension(path)+newExtension}function Symbol(flags,name){this.flags=flags,this.name=name,this.declarations=void 0}function Type(checker,flags){this.flags=flags}function Signature(checker){}function Node(kind,pos,end){this.kind=kind,this.pos=pos,this.end=end,this.flags=0,this.parent=void 0}function copyListRemovingItem(item,list){for(var copiedList=[],_i=0,list_1=list;_i<list_1.length;_i++){var e=list_1[_i];e!==item&&copiedList.push(e)}return copiedList}function createGetCanonicalFileName(useCaseSensitivefileNames){return useCaseSensitivefileNames?function(fileName){return fileName}:function(fileName){return fileName.toLowerCase()}}function trace(host,message){host.trace(formatMessage.apply(void 0,arguments))}function isTraceEnabled(compilerOptions,host){return compilerOptions.traceResolution&&void 0!==host.trace}function hasZeroOrOneAsteriskCharacter(str){for(var seenAsterisk=!1,i=0;i<str.length;i++)if(42===str.charCodeAt(i)){if(seenAsterisk)return!1;seenAsterisk=!0}return!0}function createResolvedModule(resolvedFileName,isExternalLibraryImport,failedLookupLocations){return{resolvedModule:resolvedFileName?{resolvedFileName:resolvedFileName,isExternalLibraryImport:isExternalLibraryImport}:void 0,failedLookupLocations:failedLookupLocations}}function isExternalModuleNameRelative(moduleName){return/^\.\.?($|[\\\/])/.test(moduleName)}function readJson(path,host){try{var jsonText=host.readFile(path);return jsonText?JSON.parse(jsonText):{}}catch(e){return{}}}function getEmitModuleKind(compilerOptions){return"number"==typeof compilerOptions.module?compilerOptions.module:2===getEmitScriptTarget(compilerOptions)?ts.ModuleKind.ES6:ts.ModuleKind.CommonJS}function getEmitScriptTarget(compilerOptions){return compilerOptions.target||0}!function(Ternary){Ternary[Ternary.False=0]="False",Ternary[Ternary.Maybe=1]="Maybe",Ternary[Ternary.True=-1]="True"}(ts.Ternary||(ts.Ternary={}));var createObject=(ts.Ternary,Object.create);ts.collator="object"==typeof Intl&&"function"==typeof Intl.Collator?new Intl.Collator:void 0,ts.createMap=createMap,ts.createFileMap=createFileMap,ts.toPath=toPath,function(Comparison){Comparison[Comparison.LessThan=-1]="LessThan",Comparison[Comparison.EqualTo=0]="EqualTo",Comparison[Comparison.GreaterThan=1]="GreaterThan"}(ts.Comparison||(ts.Comparison={}));ts.Comparison;ts.forEach=forEach,ts.find=find,ts.findMap=findMap,ts.contains=contains,ts.indexOf=indexOf,ts.indexOfAnyCharCode=indexOfAnyCharCode,ts.countWhere=countWhere,ts.filter=filter,ts.removeWhere=removeWhere,ts.filterMutate=filterMutate,ts.map=map,ts.concatenate=concatenate,ts.deduplicate=deduplicate,ts.sum=sum,ts.addRange=addRange,ts.rangeEquals=rangeEquals,ts.lastOrUndefined=lastOrUndefined,ts.binarySearch=binarySearch,ts.reduceLeft=reduceLeft,ts.reduceRight=reduceRight;var hasOwnProperty=Object.prototype.hasOwnProperty;ts.hasProperty=hasProperty,ts.getProperty=getProperty,ts.getOwnKeys=getOwnKeys,ts.forEachProperty=forEachProperty,ts.someProperties=someProperties,ts.copyProperties=copyProperties,ts.reduceProperties=reduceProperties,ts.reduceOwnProperties=reduceOwnProperties,ts.equalOwnProperties=equalOwnProperties,ts.arrayToMap=arrayToMap,ts.cloneMap=cloneMap,ts.clone=clone,ts.extend=extend,ts.isArray=isArray,ts.memoize=memoize,ts.localizedDiagnosticMessages=void 0,ts.getLocaleSpecificMessage=getLocaleSpecificMessage,ts.createFileDiagnostic=createFileDiagnostic,ts.formatMessage=formatMessage,ts.createCompilerDiagnostic=createCompilerDiagnostic,ts.chainDiagnosticMessages=chainDiagnosticMessages,ts.concatenateDiagnosticMessageChains=concatenateDiagnosticMessageChains,ts.compareValues=compareValues,ts.compareStrings=compareStrings,ts.compareStringsCaseInsensitive=compareStringsCaseInsensitive,ts.compareDiagnostics=compareDiagnostics,ts.sortAndDeduplicateDiagnostics=sortAndDeduplicateDiagnostics,ts.deduplicateSortedDiagnostics=deduplicateSortedDiagnostics,ts.normalizeSlashes=normalizeSlashes,ts.getRootLength=getRootLength,ts.directorySeparator="/",ts.normalizePath=normalizePath,ts.getDirectoryPath=getDirectoryPath,ts.isUrl=isUrl,ts.isRootedDiskPath=isRootedDiskPath,ts.getNormalizedPathComponents=getNormalizedPathComponents,ts.getNormalizedAbsolutePath=getNormalizedAbsolutePath,ts.getNormalizedPathFromPathComponents=getNormalizedPathFromPathComponents,ts.getRelativePathToDirectoryOrUrl=getRelativePathToDirectoryOrUrl,ts.getBaseFileName=getBaseFileName,ts.combinePaths=combinePaths,ts.removeTrailingDirectorySeparator=removeTrailingDirectorySeparator,ts.ensureTrailingDirectorySeparator=ensureTrailingDirectorySeparator,ts.comparePaths=comparePaths,ts.containsPath=containsPath,ts.startsWith=startsWith,ts.endsWith=endsWith,ts.fileExtensionIs=fileExtensionIs,ts.fileExtensionIsAny=fileExtensionIsAny;var reservedCharacterPattern=/[^\w\s\/]/g,wildcardCharCodes=[42,63],singleAsteriskRegexFragmentFiles="([^./]|(\\.(?!min\\.js$))?)*",singleAsteriskRegexFragmentOther="[^/]*";ts.getRegularExpressionForWildcard=getRegularExpressionForWildcard,ts.getFileMatcherPatterns=getFileMatcherPatterns,ts.matchFiles=matchFiles,ts.ensureScriptKind=ensureScriptKind,
ts.getScriptKindFromFileName=getScriptKindFromFileName,ts.supportedTypeScriptExtensions=[".ts",".tsx",".d.ts"],ts.supportedTypescriptExtensionsForExtractExtension=[".d.ts",".ts",".tsx"],ts.supportedJavascriptExtensions=[".js",".jsx"];var allSupportedExtensions=ts.supportedTypeScriptExtensions.concat(ts.supportedJavascriptExtensions);ts.getSupportedExtensions=getSupportedExtensions,ts.hasJavaScriptFileExtension=hasJavaScriptFileExtension,ts.hasTypeScriptFileExtension=hasTypeScriptFileExtension,ts.isSupportedSourceFileName=isSupportedSourceFileName,function(ExtensionPriority){ExtensionPriority[ExtensionPriority.TypeScriptFiles=0]="TypeScriptFiles",ExtensionPriority[ExtensionPriority.DeclarationAndJavaScriptFiles=2]="DeclarationAndJavaScriptFiles",ExtensionPriority[ExtensionPriority.Limit=5]="Limit",ExtensionPriority[ExtensionPriority.Highest=0]="Highest",ExtensionPriority[ExtensionPriority.Lowest=2]="Lowest"}(ts.ExtensionPriority||(ts.ExtensionPriority={}));ts.ExtensionPriority;ts.getExtensionPriority=getExtensionPriority,ts.adjustExtensionPriority=adjustExtensionPriority,ts.getNextLowestExtensionPriority=getNextLowestExtensionPriority;var extensionsToRemove=[".d.ts",".ts",".js",".tsx",".jsx"];ts.removeFileExtension=removeFileExtension,ts.tryRemoveExtension=tryRemoveExtension,ts.removeExtension=removeExtension,ts.isJsxOrTsxExtension=isJsxOrTsxExtension,ts.changeExtension=changeExtension,ts.objectAllocator={getNodeConstructor:function(){return Node},getTokenConstructor:function(){return Node},getIdentifierConstructor:function(){return Node},getSourceFileConstructor:function(){return Node},getSymbolConstructor:function(){return Symbol},getTypeConstructor:function(){return Type},getSignatureConstructor:function(){return Signature}},function(AssertionLevel){AssertionLevel[AssertionLevel.None=0]="None",AssertionLevel[AssertionLevel.Normal=1]="Normal",AssertionLevel[AssertionLevel.Aggressive=2]="Aggressive",AssertionLevel[AssertionLevel.VeryAggressive=3]="VeryAggressive"}(ts.AssertionLevel||(ts.AssertionLevel={}));var Debug;ts.AssertionLevel;!function(Debug){function shouldAssert(level){return currentAssertionLevel>=level}function assert(expression,message,verboseDebugInfo){if(!expression){var verboseDebugString="";throw verboseDebugInfo&&(verboseDebugString="\r\nVerbose Debug Information: "+verboseDebugInfo()),new Error("Debug Failure. False expression: "+(message||"")+verboseDebugString)}}function fail(message){Debug.assert(!1,message)}var currentAssertionLevel=0;Debug.shouldAssert=shouldAssert,Debug.assert=assert,Debug.fail=fail}(Debug=ts.Debug||(ts.Debug={})),ts.copyListRemovingItem=copyListRemovingItem,ts.createGetCanonicalFileName=createGetCanonicalFileName,ts.trace=trace,ts.isTraceEnabled=isTraceEnabled,ts.hasZeroOrOneAsteriskCharacter=hasZeroOrOneAsteriskCharacter,ts.createResolvedModule=createResolvedModule,ts.isExternalModuleNameRelative=isExternalModuleNameRelative,ts.readJson=readJson,ts.getEmitModuleKind=getEmitModuleKind,ts.getEmitScriptTarget=getEmitScriptTarget}(ts||(ts={}));var ts;!function(ts){ts.sys=function(){function getWScriptSystem(){function readFile(fileName,encoding){if(!fso.FileExists(fileName))return void 0;fileStream.Open();try{if(encoding)fileStream.Charset=encoding,fileStream.LoadFromFile(fileName);else{fileStream.Charset="x-ansi",fileStream.LoadFromFile(fileName);var bom=fileStream.ReadText(2)||"";fileStream.Position=0,fileStream.Charset=bom.length>=2&&(255===bom.charCodeAt(0)&&254===bom.charCodeAt(1)||254===bom.charCodeAt(0)&&255===bom.charCodeAt(1))?"unicode":"utf-8"}return fileStream.ReadText()}catch(e){throw e}finally{fileStream.Close()}}function writeFile(fileName,data,writeByteOrderMark){fileStream.Open(),binaryStream.Open();try{fileStream.Charset="utf-8",fileStream.WriteText(data),writeByteOrderMark?fileStream.Position=0:fileStream.Position=3,fileStream.CopyTo(binaryStream),binaryStream.SaveToFile(fileName,2)}finally{binaryStream.Close(),fileStream.Close()}}function getNames(collection){for(var result=[],e=new Enumerator(collection);!e.atEnd();e.moveNext())result.push(e.item().Name);return result.sort()}function getDirectories(path){var folder=fso.GetFolder(path);return getNames(folder.subfolders)}function getAccessibleFileSystemEntries(path){try{var folder=fso.GetFolder(path||"."),files=getNames(folder.files),directories=getNames(folder.subfolders);return{files:files,directories:directories}}catch(e){return{files:[],directories:[]}}}function readDirectory(path,extensions,excludes,includes){return ts.matchFiles(path,extensions,excludes,includes,!1,shell.CurrentDirectory,getAccessibleFileSystemEntries)}var fso=new ActiveXObject("Scripting.FileSystemObject"),shell=new ActiveXObject("WScript.Shell"),fileStream=new ActiveXObject("ADODB.Stream");fileStream.Type=2;var binaryStream=new ActiveXObject("ADODB.Stream");binaryStream.Type=1;for(var args=[],i=0;i<WScript.Arguments.length;i++)args[i]=WScript.Arguments.Item(i);var wscriptSystem={args:args,newLine:"\r\n",useCaseSensitiveFileNames:!1,write:function(s){WScript.StdOut.Write(s)},readFile:readFile,writeFile:writeFile,resolvePath:function(path){return fso.GetAbsolutePathName(path)},fileExists:function(path){return fso.FileExists(path)},directoryExists:function(path){return fso.FolderExists(path)},createDirectory:function(directoryName){wscriptSystem.directoryExists(directoryName)||fso.CreateFolder(directoryName)},getExecutingFilePath:function(){return WScript.ScriptFullName},getCurrentDirectory:function(){return shell.CurrentDirectory},getDirectories:getDirectories,readDirectory:readDirectory,exit:function(exitCode){try{WScript.Quit(exitCode)}catch(e){}}};return wscriptSystem}function getNodeSystem(){function createWatchedFileSet(){function reduceDirWatcherRefCountForFile(fileName){var dirName=ts.getDirectoryPath(fileName),watcher=dirWatchers[dirName];watcher&&(watcher.referenceCount-=1,watcher.referenceCount<=0&&(watcher.close(),delete dirWatchers[dirName]))}function addDirWatcher(dirPath){var watcher=dirWatchers[dirPath];return watcher?void(watcher.referenceCount+=1):(watcher=_fs.watch(dirPath,{persistent:!0},function(eventName,relativeFileName){return fileEventHandler(eventName,relativeFileName,dirPath)}),watcher.referenceCount=1,void(dirWatchers[dirPath]=watcher))}function addFileWatcherCallback(filePath,callback){(fileWatcherCallbacks[filePath]||(fileWatcherCallbacks[filePath]=[])).push(callback)}function addFile(fileName,callback){return addFileWatcherCallback(fileName,callback),addDirWatcher(ts.getDirectoryPath(fileName)),{fileName:fileName,callback:callback}}function removeFile(watchedFile){removeFileWatcherCallback(watchedFile.fileName,watchedFile.callback),reduceDirWatcherRefCountForFile(watchedFile.fileName)}function removeFileWatcherCallback(filePath,callback){var callbacks=fileWatcherCallbacks[filePath];if(callbacks){var newCallbacks=ts.copyListRemovingItem(callback,callbacks);0===newCallbacks.length?delete fileWatcherCallbacks[filePath]:fileWatcherCallbacks[filePath]=newCallbacks}}function fileEventHandler(eventName,relativeFileName,baseDirPath){var fileName="string"!=typeof relativeFileName?void 0:ts.getNormalizedAbsolutePath(relativeFileName,baseDirPath);if(("change"===eventName||"rename"===eventName)&&fileWatcherCallbacks[fileName])for(var _i=0,_a=fileWatcherCallbacks[fileName];_i<_a.length;_i++){var fileCallback=_a[_i];fileCallback(fileName)}}var dirWatchers=ts.createMap(),fileWatcherCallbacks=ts.createMap();return{addFile:addFile,removeFile:removeFile}}function isNode4OrLater(){return parseInt(process.version.charAt(1))>=4}function readFile(fileName,encoding){if(!fileExists(fileName))return void 0;var buffer=_fs.readFileSync(fileName),len=buffer.length;if(len>=2&&254===buffer[0]&&255===buffer[1]){len&=-2;for(var i=0;len>i;i+=2){var temp=buffer[i];buffer[i]=buffer[i+1],buffer[i+1]=temp}return buffer.toString("utf16le",2)}return len>=2&&255===buffer[0]&&254===buffer[1]?buffer.toString("utf16le",2):len>=3&&239===buffer[0]&&187===buffer[1]&&191===buffer[2]?buffer.toString("utf8",3):buffer.toString("utf8")}function writeFile(fileName,data,writeByteOrderMark){writeByteOrderMark&&(data="\ufeff"+data);var fd;try{fd=_fs.openSync(fileName,"w"),_fs.writeSync(fd,data,void 0,"utf8")}finally{void 0!==fd&&_fs.closeSync(fd)}}function getAccessibleFileSystemEntries(path){try{for(var entries=_fs.readdirSync(path||".").sort(),files=[],directories=[],_i=0,entries_1=entries;_i<entries_1.length;_i++){var entry=entries_1[_i];if("."!==entry&&".."!==entry){var name_3=ts.combinePaths(path,entry),stat=void 0;try{stat=_fs.statSync(name_3)}catch(e){continue}stat.isFile()?files.push(entry):stat.isDirectory()&&directories.push(entry)}}return{files:files,directories:directories}}catch(e){return{files:[],directories:[]}}}function readDirectory(path,extensions,excludes,includes){return ts.matchFiles(path,extensions,excludes,includes,useCaseSensitiveFileNames,process.cwd(),getAccessibleFileSystemEntries)}function fileSystemEntryExists(path,entryKind){try{var stat=_fs.statSync(path);switch(entryKind){case 0:return stat.isFile();case 1:return stat.isDirectory()}}catch(e){return!1}}function fileExists(path){return fileSystemEntryExists(path,0)}function directoryExists(path){return fileSystemEntryExists(path,1)}function getDirectories(path){return ts.filter(_fs.readdirSync(path),function(p){return fileSystemEntryExists(ts.combinePaths(path,p),1)})}var FileSystemEntryKind,_fs=require("fs"),_path=require("path"),_os=require("os"),_crypto=require("crypto"),useNonPollingWatchers=process.env.TSC_NONPOLLING_WATCHER,watchedFileSet=createWatchedFileSet(),platform=_os.platform(),useCaseSensitiveFileNames="win32"!==platform&&"win64"!==platform&&"darwin"!==platform;!function(FileSystemEntryKind){FileSystemEntryKind[FileSystemEntryKind.File=0]="File",FileSystemEntryKind[FileSystemEntryKind.Directory=1]="Directory"}(FileSystemEntryKind||(FileSystemEntryKind={}));var nodeSystem={args:process.argv.slice(2),newLine:_os.EOL,useCaseSensitiveFileNames:useCaseSensitiveFileNames,write:function(s){process.stdout.write(s)},readFile:readFile,writeFile:writeFile,watchFile:function(fileName,callback){function fileChanged(curr,prev){+curr.mtime<=+prev.mtime||callback(fileName)}if(useNonPollingWatchers){var watchedFile_1=watchedFileSet.addFile(fileName,callback);return{close:function(){return watchedFileSet.removeFile(watchedFile_1)}}}return _fs.watchFile(fileName,{persistent:!0,interval:250},fileChanged),{close:function(){return _fs.unwatchFile(fileName,fileChanged)}}},watchDirectory:function(directoryName,callback,recursive){var options;if(directoryExists(directoryName))return options=!isNode4OrLater()||"win32"!==process.platform&&"darwin"!==process.platform?{persistent:!0}:{persistent:!0,recursive:!!recursive},_fs.watch(directoryName,options,function(eventName,relativeFileName){"rename"===eventName&&callback(relativeFileName?ts.normalizePath(ts.combinePaths(directoryName,relativeFileName)):relativeFileName)})},resolvePath:function(path){return _path.resolve(path)},fileExists:fileExists,directoryExists:directoryExists,createDirectory:function(directoryName){nodeSystem.directoryExists(directoryName)||_fs.mkdirSync(directoryName)},getExecutingFilePath:function(){return __filename},getCurrentDirectory:function(){return process.cwd()},getDirectories:getDirectories,readDirectory:readDirectory,getModifiedTime:function(path){try{return _fs.statSync(path).mtime}catch(e){return void 0}},createHash:function(data){var hash=_crypto.createHash("md5");return hash.update(data),hash.digest("hex")},getMemoryUsage:function(){return global.gc&&global.gc(),process.memoryUsage().heapUsed},getFileSize:function(path){try{var stat=_fs.statSync(path);if(stat.isFile())return stat.size}catch(e){}return 0},exit:function(exitCode){process.exit(exitCode)},realpath:function(path){return _fs.realpathSync(path)}};return nodeSystem}function getChakraSystem(){var realpath=ChakraHost.realpath&&function(path){return ChakraHost.realpath(path)};return{newLine:ChakraHost.newLine||"\r\n",args:ChakraHost.args,useCaseSensitiveFileNames:!!ChakraHost.useCaseSensitiveFileNames,write:ChakraHost.echo,readFile:function(path,encoding){return ChakraHost.readFile(path)},writeFile:function(path,data,writeByteOrderMark){writeByteOrderMark&&(data="\ufeff"+data),ChakraHost.writeFile(path,data)},resolvePath:ChakraHost.resolvePath,fileExists:ChakraHost.fileExists,directoryExists:ChakraHost.directoryExists,createDirectory:ChakraHost.createDirectory,getExecutingFilePath:function(){return ChakraHost.executingFile},getCurrentDirectory:function(){return ChakraHost.currentDirectory},getDirectories:ChakraHost.getDirectories,readDirectory:function(path,extensions,excludes,includes){var pattern=ts.getFileMatcherPatterns(path,extensions,excludes,includes,!!ChakraHost.useCaseSensitiveFileNames,ChakraHost.currentDirectory);return ChakraHost.readDirectory(path,extensions,pattern.basePaths,pattern.excludePattern,pattern.includeFilePattern,pattern.includeDirectoryPattern)},exit:ChakraHost.quit,realpath:realpath}}function recursiveCreateDirectory(directoryPath,sys){var basePath=ts.getDirectoryPath(directoryPath),shouldCreateParent=directoryPath!==basePath&&!sys.directoryExists(basePath);shouldCreateParent&&recursiveCreateDirectory(basePath,sys),(shouldCreateParent||!sys.directoryExists(directoryPath))&&sys.createDirectory(directoryPath)}var sys;if("undefined"!=typeof ChakraHost?sys=getChakraSystem():"undefined"!=typeof WScript&&"function"==typeof ActiveXObject?sys=getWScriptSystem():"undefined"!=typeof process&&process.nextTick&&!process.browser&&"undefined"!=typeof require&&(sys=getNodeSystem()),sys){var originalWriteFile_1=sys.writeFile;sys.writeFile=function(path,data,writeBom){var directoryPath=ts.getDirectoryPath(ts.normalizeSlashes(path));directoryPath&&!sys.directoryExists(directoryPath)&&recursiveCreateDirectory(directoryPath,sys),originalWriteFile_1.call(sys,path,data,writeBom)}}return sys}()}(ts||(ts={}));var ts;!function(ts){ts.Diagnostics={Unterminated_string_literal:{code:1002,category:ts.DiagnosticCategory.Error,key:"Unterminated_string_literal_1002",message:"Unterminated string literal."},Identifier_expected:{code:1003,category:ts.DiagnosticCategory.Error,key:"Identifier_expected_1003",message:"Identifier expected."},_0_expected:{code:1005,category:ts.DiagnosticCategory.Error,key:"_0_expected_1005",message:"'{0}' expected."},A_file_cannot_have_a_reference_to_itself:{code:1006,category:ts.DiagnosticCategory.Error,key:"A_file_cannot_have_a_reference_to_itself_1006",message:"A file cannot have a reference to itself."},Trailing_comma_not_allowed:{code:1009,category:ts.DiagnosticCategory.Error,key:"Trailing_comma_not_allowed_1009",message:"Trailing comma not allowed."},Asterisk_Slash_expected:{code:1010,category:ts.DiagnosticCategory.Error,key:"Asterisk_Slash_expected_1010",message:"'*/' expected."},Unexpected_token:{code:1012,category:ts.DiagnosticCategory.Error,key:"Unexpected_token_1012",message:"Unexpected token."},A_rest_parameter_must_be_last_in_a_parameter_list:{code:1014,category:ts.DiagnosticCategory.Error,key:"A_rest_parameter_must_be_last_in_a_parameter_list_1014",message:"A rest parameter must be last in a parameter list."},Parameter_cannot_have_question_mark_and_initializer:{code:1015,category:ts.DiagnosticCategory.Error,key:"Parameter_cannot_have_question_mark_and_initializer_1015",message:"Parameter cannot have question mark and initializer."},A_required_parameter_cannot_follow_an_optional_parameter:{code:1016,category:ts.DiagnosticCategory.Error,key:"A_required_parameter_cannot_follow_an_optional_parameter_1016",message:"A required parameter cannot follow an optional parameter."},An_index_signature_cannot_have_a_rest_parameter:{code:1017,category:ts.DiagnosticCategory.Error,key:"An_index_signature_cannot_have_a_rest_parameter_1017",message:"An index signature cannot have a rest parameter."},An_index_signature_parameter_cannot_have_an_accessibility_modifier:{code:1018,category:ts.DiagnosticCategory.Error,key:"An_index_signature_parameter_cannot_have_an_accessibility_modifier_1018",message:"An index signature parameter cannot have an accessibility modifier."},An_index_signature_parameter_cannot_have_a_question_mark:{code:1019,category:ts.DiagnosticCategory.Error,key:"An_index_signature_parameter_cannot_have_a_question_mark_1019",message:"An index signature parameter cannot have a question mark."},An_index_signature_parameter_cannot_have_an_initializer:{code:1020,category:ts.DiagnosticCategory.Error,key:"An_index_signature_parameter_cannot_have_an_initializer_1020",message:"An index signature parameter cannot have an initializer."},An_index_signature_must_have_a_type_annotation:{code:1021,category:ts.DiagnosticCategory.Error,key:"An_index_signature_must_have_a_type_annotation_1021",message:"An index signature must have a type annotation."},An_index_signature_parameter_must_have_a_type_annotation:{code:1022,category:ts.DiagnosticCategory.Error,key:"An_index_signature_parameter_must_have_a_type_annotation_1022",message:"An index signature parameter must have a type annotation."},An_index_signature_parameter_type_must_be_string_or_number:{code:1023,category:ts.DiagnosticCategory.Error,key:"An_index_signature_parameter_type_must_be_string_or_number_1023",message:"An index signature parameter type must be 'string' or 'number'."},readonly_modifier_can_only_appear_on_a_property_declaration_or_index_signature:{code:1024,category:ts.DiagnosticCategory.Error,key:"readonly_modifier_can_only_appear_on_a_property_declaration_or_index_signature_1024",message:"'readonly' modifier can only appear on a property declaration or index signature."},Accessibility_modifier_already_seen:{code:1028,category:ts.DiagnosticCategory.Error,key:"Accessibility_modifier_already_seen_1028",message:"Accessibility modifier already seen."},_0_modifier_must_precede_1_modifier:{code:1029,category:ts.DiagnosticCategory.Error,key:"_0_modifier_must_precede_1_modifier_1029",message:"'{0}' modifier must precede '{1}' modifier."},_0_modifier_already_seen:{code:1030,category:ts.DiagnosticCategory.Error,key:"_0_modifier_already_seen_1030",message:"'{0}' modifier already seen."},_0_modifier_cannot_appear_on_a_class_element:{code:1031,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_appear_on_a_class_element_1031",message:"'{0}' modifier cannot appear on a class element."},super_must_be_followed_by_an_argument_list_or_member_access:{code:1034,category:ts.DiagnosticCategory.Error,key:"super_must_be_followed_by_an_argument_list_or_member_access_1034",message:"'super' must be followed by an argument list or member access."},Only_ambient_modules_can_use_quoted_names:{code:1035,category:ts.DiagnosticCategory.Error,key:"Only_ambient_modules_can_use_quoted_names_1035",message:"Only ambient modules can use quoted names."},Statements_are_not_allowed_in_ambient_contexts:{code:1036,category:ts.DiagnosticCategory.Error,key:"Statements_are_not_allowed_in_ambient_contexts_1036",message:"Statements are not allowed in ambient contexts."},A_declare_modifier_cannot_be_used_in_an_already_ambient_context:{code:1038,category:ts.DiagnosticCategory.Error,key:"A_declare_modifier_cannot_be_used_in_an_already_ambient_context_1038",message:"A 'declare' modifier cannot be used in an already ambient context."},Initializers_are_not_allowed_in_ambient_contexts:{code:1039,category:ts.DiagnosticCategory.Error,key:"Initializers_are_not_allowed_in_ambient_contexts_1039",message:"Initializers are not allowed in ambient contexts."},_0_modifier_cannot_be_used_in_an_ambient_context:{code:1040,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_be_used_in_an_ambient_context_1040",message:"'{0}' modifier cannot be used in an ambient context."},_0_modifier_cannot_be_used_with_a_class_declaration:{code:1041,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_be_used_with_a_class_declaration_1041",message:"'{0}' modifier cannot be used with a class declaration."},_0_modifier_cannot_be_used_here:{code:1042,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_be_used_here_1042",message:"'{0}' modifier cannot be used here."},_0_modifier_cannot_appear_on_a_data_property:{code:1043,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_appear_on_a_data_property_1043",message:"'{0}' modifier cannot appear on a data property."},_0_modifier_cannot_appear_on_a_module_or_namespace_element:{code:1044,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_appear_on_a_module_or_namespace_element_1044",message:"'{0}' modifier cannot appear on a module or namespace element."},A_0_modifier_cannot_be_used_with_an_interface_declaration:{code:1045,category:ts.DiagnosticCategory.Error,key:"A_0_modifier_cannot_be_used_with_an_interface_declaration_1045",message:"A '{0}' modifier cannot be used with an interface declaration."},A_declare_modifier_is_required_for_a_top_level_declaration_in_a_d_ts_file:{code:1046,category:ts.DiagnosticCategory.Error,key:"A_declare_modifier_is_required_for_a_top_level_declaration_in_a_d_ts_file_1046",message:"A 'declare' modifier is required for a top level declaration in a .d.ts file."},A_rest_parameter_cannot_be_optional:{code:1047,category:ts.DiagnosticCategory.Error,key:"A_rest_parameter_cannot_be_optional_1047",message:"A rest parameter cannot be optional."},A_rest_parameter_cannot_have_an_initializer:{code:1048,category:ts.DiagnosticCategory.Error,key:"A_rest_parameter_cannot_have_an_initializer_1048",message:"A rest parameter cannot have an initializer."},A_set_accessor_must_have_exactly_one_parameter:{code:1049,category:ts.DiagnosticCategory.Error,key:"A_set_accessor_must_have_exactly_one_parameter_1049",message:"A 'set' accessor must have exactly one parameter."},A_set_accessor_cannot_have_an_optional_parameter:{code:1051,category:ts.DiagnosticCategory.Error,key:"A_set_accessor_cannot_have_an_optional_parameter_1051",message:"A 'set' accessor cannot have an optional parameter."},A_set_accessor_parameter_cannot_have_an_initializer:{code:1052,category:ts.DiagnosticCategory.Error,key:"A_set_accessor_parameter_cannot_have_an_initializer_1052",message:"A 'set' accessor parameter cannot have an initializer."},A_set_accessor_cannot_have_rest_parameter:{code:1053,category:ts.DiagnosticCategory.Error,key:"A_set_accessor_cannot_have_rest_parameter_1053",message:"A 'set' accessor cannot have rest parameter."},A_get_accessor_cannot_have_parameters:{code:1054,category:ts.DiagnosticCategory.Error,key:"A_get_accessor_cannot_have_parameters_1054",message:"A 'get' accessor cannot have parameters."},Type_0_is_not_a_valid_async_function_return_type:{code:1055,category:ts.DiagnosticCategory.Error,key:"Type_0_is_not_a_valid_async_function_return_type_1055",message:"Type '{0}' is not a valid async function return type."},Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher:{code:1056,category:ts.DiagnosticCategory.Error,key:"Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher_1056",message:"Accessors are only available when targeting ECMAScript 5 and higher."},An_async_function_or_method_must_have_a_valid_awaitable_return_type:{code:1057,category:ts.DiagnosticCategory.Error,key:"An_async_function_or_method_must_have_a_valid_awaitable_return_type_1057",message:"An async function or method must have a valid awaitable return type."},Operand_for_await_does_not_have_a_valid_callable_then_member:{code:1058,category:ts.DiagnosticCategory.Error,key:"Operand_for_await_does_not_have_a_valid_callable_then_member_1058",message:"Operand for 'await' does not have a valid callable 'then' member."},Return_expression_in_async_function_does_not_have_a_valid_callable_then_member:{code:1059,category:ts.DiagnosticCategory.Error,key:"Return_expression_in_async_function_does_not_have_a_valid_callable_then_member_1059",message:"Return expression in async function does not have a valid callable 'then' member."},Expression_body_for_async_arrow_function_does_not_have_a_valid_callable_then_member:{code:1060,category:ts.DiagnosticCategory.Error,key:"Expression_body_for_async_arrow_function_does_not_have_a_valid_callable_then_member_1060",message:"Expression body for async arrow function does not have a valid callable 'then' member."},Enum_member_must_have_initializer:{code:1061,category:ts.DiagnosticCategory.Error,key:"Enum_member_must_have_initializer_1061",message:"Enum member must have initializer."},_0_is_referenced_directly_or_indirectly_in_the_fulfillment_callback_of_its_own_then_method:{code:1062,category:ts.DiagnosticCategory.Error,key:"_0_is_referenced_directly_or_indirectly_in_the_fulfillment_callback_of_its_own_then_method_1062",message:"{0} is referenced directly or indirectly in the fulfillment callback of its own 'then' method."},An_export_assignment_cannot_be_used_in_a_namespace:{code:1063,category:ts.DiagnosticCategory.Error,key:"An_export_assignment_cannot_be_used_in_a_namespace_1063",message:"An export assignment cannot be used in a namespace."},The_return_type_of_an_async_function_or_method_must_be_the_global_Promise_T_type:{code:1064,category:ts.DiagnosticCategory.Error,key:"The_return_type_of_an_async_function_or_method_must_be_the_global_Promise_T_type_1064",message:"The return type of an async function or method must be the global Promise<T> type."},In_ambient_enum_declarations_member_initializer_must_be_constant_expression:{code:1066,category:ts.DiagnosticCategory.Error,key:"In_ambient_enum_declarations_member_initializer_must_be_constant_expression_1066",message:"In ambient enum declarations member initializer must be constant expression."},Unexpected_token_A_constructor_method_accessor_or_property_was_expected:{code:1068,category:ts.DiagnosticCategory.Error,key:"Unexpected_token_A_constructor_method_accessor_or_property_was_expected_1068",message:"Unexpected token. A constructor, method, accessor, or property was expected."},_0_modifier_cannot_appear_on_a_type_member:{code:1070,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_appear_on_a_type_member_1070",message:"'{0}' modifier cannot appear on a type member."},_0_modifier_cannot_appear_on_an_index_signature:{code:1071,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_appear_on_an_index_signature_1071",message:"'{0}' modifier cannot appear on an index signature."},A_0_modifier_cannot_be_used_with_an_import_declaration:{code:1079,category:ts.DiagnosticCategory.Error,key:"A_0_modifier_cannot_be_used_with_an_import_declaration_1079",message:"A '{0}' modifier cannot be used with an import declaration."},Invalid_reference_directive_syntax:{code:1084,category:ts.DiagnosticCategory.Error,key:"Invalid_reference_directive_syntax_1084",message:"Invalid 'reference' directive syntax."},Octal_literals_are_not_available_when_targeting_ECMAScript_5_and_higher:{code:1085,category:ts.DiagnosticCategory.Error,key:"Octal_literals_are_not_available_when_targeting_ECMAScript_5_and_higher_1085",message:"Octal literals are not available when targeting ECMAScript 5 and higher."},An_accessor_cannot_be_declared_in_an_ambient_context:{code:1086,category:ts.DiagnosticCategory.Error,key:"An_accessor_cannot_be_declared_in_an_ambient_context_1086",message:"An accessor cannot be declared in an ambient context."},_0_modifier_cannot_appear_on_a_constructor_declaration:{code:1089,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_appear_on_a_constructor_declaration_1089",message:"'{0}' modifier cannot appear on a constructor declaration."},_0_modifier_cannot_appear_on_a_parameter:{code:1090,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_appear_on_a_parameter_1090",message:"'{0}' modifier cannot appear on a parameter."},Only_a_single_variable_declaration_is_allowed_in_a_for_in_statement:{code:1091,category:ts.DiagnosticCategory.Error,key:"Only_a_single_variable_declaration_is_allowed_in_a_for_in_statement_1091",message:"Only a single variable declaration is allowed in a 'for...in' statement."},Type_parameters_cannot_appear_on_a_constructor_declaration:{code:1092,category:ts.DiagnosticCategory.Error,key:"Type_parameters_cannot_appear_on_a_constructor_declaration_1092",message:"Type parameters cannot appear on a constructor declaration."},Type_annotation_cannot_appear_on_a_constructor_declaration:{code:1093,category:ts.DiagnosticCategory.Error,key:"Type_annotation_cannot_appear_on_a_constructor_declaration_1093",message:"Type annotation cannot appear on a constructor declaration."},An_accessor_cannot_have_type_parameters:{code:1094,category:ts.DiagnosticCategory.Error,key:"An_accessor_cannot_have_type_parameters_1094",message:"An accessor cannot have type parameters."},A_set_accessor_cannot_have_a_return_type_annotation:{code:1095,category:ts.DiagnosticCategory.Error,key:"A_set_accessor_cannot_have_a_return_type_annotation_1095",message:"A 'set' accessor cannot have a return type annotation."},An_index_signature_must_have_exactly_one_parameter:{code:1096,category:ts.DiagnosticCategory.Error,key:"An_index_signature_must_have_exactly_one_parameter_1096",message:"An index signature must have exactly one parameter."},_0_list_cannot_be_empty:{code:1097,category:ts.DiagnosticCategory.Error,key:"_0_list_cannot_be_empty_1097",message:"'{0}' list cannot be empty."},Type_parameter_list_cannot_be_empty:{code:1098,category:ts.DiagnosticCategory.Error,key:"Type_parameter_list_cannot_be_empty_1098",message:"Type parameter list cannot be empty."},Type_argument_list_cannot_be_empty:{code:1099,category:ts.DiagnosticCategory.Error,key:"Type_argument_list_cannot_be_empty_1099",message:"Type argument list cannot be empty."},Invalid_use_of_0_in_strict_mode:{code:1100,category:ts.DiagnosticCategory.Error,key:"Invalid_use_of_0_in_strict_mode_1100",message:"Invalid use of '{0}' in strict mode."},with_statements_are_not_allowed_in_strict_mode:{code:1101,category:ts.DiagnosticCategory.Error,key:"with_statements_are_not_allowed_in_strict_mode_1101",message:"'with' statements are not allowed in strict mode."},delete_cannot_be_called_on_an_identifier_in_strict_mode:{code:1102,category:ts.DiagnosticCategory.Error,key:"delete_cannot_be_called_on_an_identifier_in_strict_mode_1102",message:"'delete' cannot be called on an identifier in strict mode."},A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement:{code:1104,category:ts.DiagnosticCategory.Error,key:"A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement_1104",message:"A 'continue' statement can only be used within an enclosing iteration statement."},A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement:{code:1105,category:ts.DiagnosticCategory.Error,key:"A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement_1105",message:"A 'break' statement can only be used within an enclosing iteration or switch statement."},Jump_target_cannot_cross_function_boundary:{code:1107,category:ts.DiagnosticCategory.Error,key:"Jump_target_cannot_cross_function_boundary_1107",message:"Jump target cannot cross function boundary."},A_return_statement_can_only_be_used_within_a_function_body:{code:1108,category:ts.DiagnosticCategory.Error,key:"A_return_statement_can_only_be_used_within_a_function_body_1108",message:"A 'return' statement can only be used within a function body."},Expression_expected:{code:1109,category:ts.DiagnosticCategory.Error,key:"Expression_expected_1109",message:"Expression expected."},Type_expected:{code:1110,category:ts.DiagnosticCategory.Error,key:"Type_expected_1110",message:"Type expected."},A_default_clause_cannot_appear_more_than_once_in_a_switch_statement:{code:1113,category:ts.DiagnosticCategory.Error,key:"A_default_clause_cannot_appear_more_than_once_in_a_switch_statement_1113",message:"A 'default' clause cannot appear more than once in a 'switch' statement."},Duplicate_label_0:{code:1114,category:ts.DiagnosticCategory.Error,key:"Duplicate_label_0_1114",message:"Duplicate label '{0}'"},A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement:{
code:1115,category:ts.DiagnosticCategory.Error,key:"A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement_1115",message:"A 'continue' statement can only jump to a label of an enclosing iteration statement."},A_break_statement_can_only_jump_to_a_label_of_an_enclosing_statement:{code:1116,category:ts.DiagnosticCategory.Error,key:"A_break_statement_can_only_jump_to_a_label_of_an_enclosing_statement_1116",message:"A 'break' statement can only jump to a label of an enclosing statement."},An_object_literal_cannot_have_multiple_properties_with_the_same_name_in_strict_mode:{code:1117,category:ts.DiagnosticCategory.Error,key:"An_object_literal_cannot_have_multiple_properties_with_the_same_name_in_strict_mode_1117",message:"An object literal cannot have multiple properties with the same name in strict mode."},An_object_literal_cannot_have_multiple_get_Slashset_accessors_with_the_same_name:{code:1118,category:ts.DiagnosticCategory.Error,key:"An_object_literal_cannot_have_multiple_get_Slashset_accessors_with_the_same_name_1118",message:"An object literal cannot have multiple get/set accessors with the same name."},An_object_literal_cannot_have_property_and_accessor_with_the_same_name:{code:1119,category:ts.DiagnosticCategory.Error,key:"An_object_literal_cannot_have_property_and_accessor_with_the_same_name_1119",message:"An object literal cannot have property and accessor with the same name."},An_export_assignment_cannot_have_modifiers:{code:1120,category:ts.DiagnosticCategory.Error,key:"An_export_assignment_cannot_have_modifiers_1120",message:"An export assignment cannot have modifiers."},Octal_literals_are_not_allowed_in_strict_mode:{code:1121,category:ts.DiagnosticCategory.Error,key:"Octal_literals_are_not_allowed_in_strict_mode_1121",message:"Octal literals are not allowed in strict mode."},A_tuple_type_element_list_cannot_be_empty:{code:1122,category:ts.DiagnosticCategory.Error,key:"A_tuple_type_element_list_cannot_be_empty_1122",message:"A tuple type element list cannot be empty."},Variable_declaration_list_cannot_be_empty:{code:1123,category:ts.DiagnosticCategory.Error,key:"Variable_declaration_list_cannot_be_empty_1123",message:"Variable declaration list cannot be empty."},Digit_expected:{code:1124,category:ts.DiagnosticCategory.Error,key:"Digit_expected_1124",message:"Digit expected."},Hexadecimal_digit_expected:{code:1125,category:ts.DiagnosticCategory.Error,key:"Hexadecimal_digit_expected_1125",message:"Hexadecimal digit expected."},Unexpected_end_of_text:{code:1126,category:ts.DiagnosticCategory.Error,key:"Unexpected_end_of_text_1126",message:"Unexpected end of text."},Invalid_character:{code:1127,category:ts.DiagnosticCategory.Error,key:"Invalid_character_1127",message:"Invalid character."},Declaration_or_statement_expected:{code:1128,category:ts.DiagnosticCategory.Error,key:"Declaration_or_statement_expected_1128",message:"Declaration or statement expected."},Statement_expected:{code:1129,category:ts.DiagnosticCategory.Error,key:"Statement_expected_1129",message:"Statement expected."},case_or_default_expected:{code:1130,category:ts.DiagnosticCategory.Error,key:"case_or_default_expected_1130",message:"'case' or 'default' expected."},Property_or_signature_expected:{code:1131,category:ts.DiagnosticCategory.Error,key:"Property_or_signature_expected_1131",message:"Property or signature expected."},Enum_member_expected:{code:1132,category:ts.DiagnosticCategory.Error,key:"Enum_member_expected_1132",message:"Enum member expected."},Variable_declaration_expected:{code:1134,category:ts.DiagnosticCategory.Error,key:"Variable_declaration_expected_1134",message:"Variable declaration expected."},Argument_expression_expected:{code:1135,category:ts.DiagnosticCategory.Error,key:"Argument_expression_expected_1135",message:"Argument expression expected."},Property_assignment_expected:{code:1136,category:ts.DiagnosticCategory.Error,key:"Property_assignment_expected_1136",message:"Property assignment expected."},Expression_or_comma_expected:{code:1137,category:ts.DiagnosticCategory.Error,key:"Expression_or_comma_expected_1137",message:"Expression or comma expected."},Parameter_declaration_expected:{code:1138,category:ts.DiagnosticCategory.Error,key:"Parameter_declaration_expected_1138",message:"Parameter declaration expected."},Type_parameter_declaration_expected:{code:1139,category:ts.DiagnosticCategory.Error,key:"Type_parameter_declaration_expected_1139",message:"Type parameter declaration expected."},Type_argument_expected:{code:1140,category:ts.DiagnosticCategory.Error,key:"Type_argument_expected_1140",message:"Type argument expected."},String_literal_expected:{code:1141,category:ts.DiagnosticCategory.Error,key:"String_literal_expected_1141",message:"String literal expected."},Line_break_not_permitted_here:{code:1142,category:ts.DiagnosticCategory.Error,key:"Line_break_not_permitted_here_1142",message:"Line break not permitted here."},or_expected:{code:1144,category:ts.DiagnosticCategory.Error,key:"or_expected_1144",message:"'{' or ';' expected."},Declaration_expected:{code:1146,category:ts.DiagnosticCategory.Error,key:"Declaration_expected_1146",message:"Declaration expected."},Import_declarations_in_a_namespace_cannot_reference_a_module:{code:1147,category:ts.DiagnosticCategory.Error,key:"Import_declarations_in_a_namespace_cannot_reference_a_module_1147",message:"Import declarations in a namespace cannot reference a module."},Cannot_use_imports_exports_or_module_augmentations_when_module_is_none:{code:1148,category:ts.DiagnosticCategory.Error,key:"Cannot_use_imports_exports_or_module_augmentations_when_module_is_none_1148",message:"Cannot use imports, exports, or module augmentations when '--module' is 'none'."},File_name_0_differs_from_already_included_file_name_1_only_in_casing:{code:1149,category:ts.DiagnosticCategory.Error,key:"File_name_0_differs_from_already_included_file_name_1_only_in_casing_1149",message:"File name '{0}' differs from already included file name '{1}' only in casing"},new_T_cannot_be_used_to_create_an_array_Use_new_Array_T_instead:{code:1150,category:ts.DiagnosticCategory.Error,key:"new_T_cannot_be_used_to_create_an_array_Use_new_Array_T_instead_1150",message:"'new T[]' cannot be used to create an array. Use 'new Array<T>()' instead."},const_declarations_must_be_initialized:{code:1155,category:ts.DiagnosticCategory.Error,key:"const_declarations_must_be_initialized_1155",message:"'const' declarations must be initialized"},const_declarations_can_only_be_declared_inside_a_block:{code:1156,category:ts.DiagnosticCategory.Error,key:"const_declarations_can_only_be_declared_inside_a_block_1156",message:"'const' declarations can only be declared inside a block."},let_declarations_can_only_be_declared_inside_a_block:{code:1157,category:ts.DiagnosticCategory.Error,key:"let_declarations_can_only_be_declared_inside_a_block_1157",message:"'let' declarations can only be declared inside a block."},Unterminated_template_literal:{code:1160,category:ts.DiagnosticCategory.Error,key:"Unterminated_template_literal_1160",message:"Unterminated template literal."},Unterminated_regular_expression_literal:{code:1161,category:ts.DiagnosticCategory.Error,key:"Unterminated_regular_expression_literal_1161",message:"Unterminated regular expression literal."},An_object_member_cannot_be_declared_optional:{code:1162,category:ts.DiagnosticCategory.Error,key:"An_object_member_cannot_be_declared_optional_1162",message:"An object member cannot be declared optional."},A_yield_expression_is_only_allowed_in_a_generator_body:{code:1163,category:ts.DiagnosticCategory.Error,key:"A_yield_expression_is_only_allowed_in_a_generator_body_1163",message:"A 'yield' expression is only allowed in a generator body."},Computed_property_names_are_not_allowed_in_enums:{code:1164,category:ts.DiagnosticCategory.Error,key:"Computed_property_names_are_not_allowed_in_enums_1164",message:"Computed property names are not allowed in enums."},A_computed_property_name_in_an_ambient_context_must_directly_refer_to_a_built_in_symbol:{code:1165,category:ts.DiagnosticCategory.Error,key:"A_computed_property_name_in_an_ambient_context_must_directly_refer_to_a_built_in_symbol_1165",message:"A computed property name in an ambient context must directly refer to a built-in symbol."},A_computed_property_name_in_a_class_property_declaration_must_directly_refer_to_a_built_in_symbol:{code:1166,category:ts.DiagnosticCategory.Error,key:"A_computed_property_name_in_a_class_property_declaration_must_directly_refer_to_a_built_in_symbol_1166",message:"A computed property name in a class property declaration must directly refer to a built-in symbol."},A_computed_property_name_in_a_method_overload_must_directly_refer_to_a_built_in_symbol:{code:1168,category:ts.DiagnosticCategory.Error,key:"A_computed_property_name_in_a_method_overload_must_directly_refer_to_a_built_in_symbol_1168",message:"A computed property name in a method overload must directly refer to a built-in symbol."},A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol:{code:1169,category:ts.DiagnosticCategory.Error,key:"A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol_1169",message:"A computed property name in an interface must directly refer to a built-in symbol."},A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol:{code:1170,category:ts.DiagnosticCategory.Error,key:"A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol_1170",message:"A computed property name in a type literal must directly refer to a built-in symbol."},A_comma_expression_is_not_allowed_in_a_computed_property_name:{code:1171,category:ts.DiagnosticCategory.Error,key:"A_comma_expression_is_not_allowed_in_a_computed_property_name_1171",message:"A comma expression is not allowed in a computed property name."},extends_clause_already_seen:{code:1172,category:ts.DiagnosticCategory.Error,key:"extends_clause_already_seen_1172",message:"'extends' clause already seen."},extends_clause_must_precede_implements_clause:{code:1173,category:ts.DiagnosticCategory.Error,key:"extends_clause_must_precede_implements_clause_1173",message:"'extends' clause must precede 'implements' clause."},Classes_can_only_extend_a_single_class:{code:1174,category:ts.DiagnosticCategory.Error,key:"Classes_can_only_extend_a_single_class_1174",message:"Classes can only extend a single class."},implements_clause_already_seen:{code:1175,category:ts.DiagnosticCategory.Error,key:"implements_clause_already_seen_1175",message:"'implements' clause already seen."},Interface_declaration_cannot_have_implements_clause:{code:1176,category:ts.DiagnosticCategory.Error,key:"Interface_declaration_cannot_have_implements_clause_1176",message:"Interface declaration cannot have 'implements' clause."},Binary_digit_expected:{code:1177,category:ts.DiagnosticCategory.Error,key:"Binary_digit_expected_1177",message:"Binary digit expected."},Octal_digit_expected:{code:1178,category:ts.DiagnosticCategory.Error,key:"Octal_digit_expected_1178",message:"Octal digit expected."},Unexpected_token_expected:{code:1179,category:ts.DiagnosticCategory.Error,key:"Unexpected_token_expected_1179",message:"Unexpected token. '{' expected."},Property_destructuring_pattern_expected:{code:1180,category:ts.DiagnosticCategory.Error,key:"Property_destructuring_pattern_expected_1180",message:"Property destructuring pattern expected."},Array_element_destructuring_pattern_expected:{code:1181,category:ts.DiagnosticCategory.Error,key:"Array_element_destructuring_pattern_expected_1181",message:"Array element destructuring pattern expected."},A_destructuring_declaration_must_have_an_initializer:{code:1182,category:ts.DiagnosticCategory.Error,key:"A_destructuring_declaration_must_have_an_initializer_1182",message:"A destructuring declaration must have an initializer."},An_implementation_cannot_be_declared_in_ambient_contexts:{code:1183,category:ts.DiagnosticCategory.Error,key:"An_implementation_cannot_be_declared_in_ambient_contexts_1183",message:"An implementation cannot be declared in ambient contexts."},Modifiers_cannot_appear_here:{code:1184,category:ts.DiagnosticCategory.Error,key:"Modifiers_cannot_appear_here_1184",message:"Modifiers cannot appear here."},Merge_conflict_marker_encountered:{code:1185,category:ts.DiagnosticCategory.Error,key:"Merge_conflict_marker_encountered_1185",message:"Merge conflict marker encountered."},A_rest_element_cannot_have_an_initializer:{code:1186,category:ts.DiagnosticCategory.Error,key:"A_rest_element_cannot_have_an_initializer_1186",message:"A rest element cannot have an initializer."},A_parameter_property_may_not_be_declared_using_a_binding_pattern:{code:1187,category:ts.DiagnosticCategory.Error,key:"A_parameter_property_may_not_be_declared_using_a_binding_pattern_1187",message:"A parameter property may not be declared using a binding pattern."},Only_a_single_variable_declaration_is_allowed_in_a_for_of_statement:{code:1188,category:ts.DiagnosticCategory.Error,key:"Only_a_single_variable_declaration_is_allowed_in_a_for_of_statement_1188",message:"Only a single variable declaration is allowed in a 'for...of' statement."},The_variable_declaration_of_a_for_in_statement_cannot_have_an_initializer:{code:1189,category:ts.DiagnosticCategory.Error,key:"The_variable_declaration_of_a_for_in_statement_cannot_have_an_initializer_1189",message:"The variable declaration of a 'for...in' statement cannot have an initializer."},The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer:{code:1190,category:ts.DiagnosticCategory.Error,key:"The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer_1190",message:"The variable declaration of a 'for...of' statement cannot have an initializer."},An_import_declaration_cannot_have_modifiers:{code:1191,category:ts.DiagnosticCategory.Error,key:"An_import_declaration_cannot_have_modifiers_1191",message:"An import declaration cannot have modifiers."},Module_0_has_no_default_export:{code:1192,category:ts.DiagnosticCategory.Error,key:"Module_0_has_no_default_export_1192",message:"Module '{0}' has no default export."},An_export_declaration_cannot_have_modifiers:{code:1193,category:ts.DiagnosticCategory.Error,key:"An_export_declaration_cannot_have_modifiers_1193",message:"An export declaration cannot have modifiers."},Export_declarations_are_not_permitted_in_a_namespace:{code:1194,category:ts.DiagnosticCategory.Error,key:"Export_declarations_are_not_permitted_in_a_namespace_1194",message:"Export declarations are not permitted in a namespace."},Catch_clause_variable_name_must_be_an_identifier:{code:1195,category:ts.DiagnosticCategory.Error,key:"Catch_clause_variable_name_must_be_an_identifier_1195",message:"Catch clause variable name must be an identifier."},Catch_clause_variable_cannot_have_a_type_annotation:{code:1196,category:ts.DiagnosticCategory.Error,key:"Catch_clause_variable_cannot_have_a_type_annotation_1196",message:"Catch clause variable cannot have a type annotation."},Catch_clause_variable_cannot_have_an_initializer:{code:1197,category:ts.DiagnosticCategory.Error,key:"Catch_clause_variable_cannot_have_an_initializer_1197",message:"Catch clause variable cannot have an initializer."},An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive:{code:1198,category:ts.DiagnosticCategory.Error,key:"An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive_1198",message:"An extended Unicode escape value must be between 0x0 and 0x10FFFF inclusive."},Unterminated_Unicode_escape_sequence:{code:1199,category:ts.DiagnosticCategory.Error,key:"Unterminated_Unicode_escape_sequence_1199",message:"Unterminated Unicode escape sequence."},Line_terminator_not_permitted_before_arrow:{code:1200,category:ts.DiagnosticCategory.Error,key:"Line_terminator_not_permitted_before_arrow_1200",message:"Line terminator not permitted before arrow."},Import_assignment_cannot_be_used_when_targeting_ECMAScript_2015_modules_Consider_using_import_Asterisk_as_ns_from_mod_import_a_from_mod_import_d_from_mod_or_another_module_format_instead:{code:1202,category:ts.DiagnosticCategory.Error,key:"Import_assignment_cannot_be_used_when_targeting_ECMAScript_2015_modules_Consider_using_import_Asteri_1202",message:"Import assignment cannot be used when targeting ECMAScript 2015 modules. Consider using 'import * as ns from \"mod\"', 'import {a} from \"mod\"', 'import d from \"mod\"', or another module format instead."},Export_assignment_cannot_be_used_when_targeting_ECMAScript_2015_modules_Consider_using_export_default_or_another_module_format_instead:{code:1203,category:ts.DiagnosticCategory.Error,key:"Export_assignment_cannot_be_used_when_targeting_ECMAScript_2015_modules_Consider_using_export_defaul_1203",message:"Export assignment cannot be used when targeting ECMAScript 2015 modules. Consider using 'export default' or another module format instead."},Decorators_are_not_valid_here:{code:1206,category:ts.DiagnosticCategory.Error,key:"Decorators_are_not_valid_here_1206",message:"Decorators are not valid here."},Decorators_cannot_be_applied_to_multiple_get_Slashset_accessors_of_the_same_name:{code:1207,category:ts.DiagnosticCategory.Error,key:"Decorators_cannot_be_applied_to_multiple_get_Slashset_accessors_of_the_same_name_1207",message:"Decorators cannot be applied to multiple get/set accessors of the same name."},Cannot_compile_namespaces_when_the_isolatedModules_flag_is_provided:{code:1208,category:ts.DiagnosticCategory.Error,key:"Cannot_compile_namespaces_when_the_isolatedModules_flag_is_provided_1208",message:"Cannot compile namespaces when the '--isolatedModules' flag is provided."},Ambient_const_enums_are_not_allowed_when_the_isolatedModules_flag_is_provided:{code:1209,category:ts.DiagnosticCategory.Error,key:"Ambient_const_enums_are_not_allowed_when_the_isolatedModules_flag_is_provided_1209",message:"Ambient const enums are not allowed when the '--isolatedModules' flag is provided."},Invalid_use_of_0_Class_definitions_are_automatically_in_strict_mode:{code:1210,category:ts.DiagnosticCategory.Error,key:"Invalid_use_of_0_Class_definitions_are_automatically_in_strict_mode_1210",message:"Invalid use of '{0}'. Class definitions are automatically in strict mode."},A_class_declaration_without_the_default_modifier_must_have_a_name:{code:1211,category:ts.DiagnosticCategory.Error,key:"A_class_declaration_without_the_default_modifier_must_have_a_name_1211",message:"A class declaration without the 'default' modifier must have a name"},Identifier_expected_0_is_a_reserved_word_in_strict_mode:{code:1212,category:ts.DiagnosticCategory.Error,key:"Identifier_expected_0_is_a_reserved_word_in_strict_mode_1212",message:"Identifier expected. '{0}' is a reserved word in strict mode"},Identifier_expected_0_is_a_reserved_word_in_strict_mode_Class_definitions_are_automatically_in_strict_mode:{code:1213,category:ts.DiagnosticCategory.Error,key:"Identifier_expected_0_is_a_reserved_word_in_strict_mode_Class_definitions_are_automatically_in_stric_1213",message:"Identifier expected. '{0}' is a reserved word in strict mode. Class definitions are automatically in strict mode."},Identifier_expected_0_is_a_reserved_word_in_strict_mode_Modules_are_automatically_in_strict_mode:{code:1214,category:ts.DiagnosticCategory.Error,key:"Identifier_expected_0_is_a_reserved_word_in_strict_mode_Modules_are_automatically_in_strict_mode_1214",message:"Identifier expected. '{0}' is a reserved word in strict mode. Modules are automatically in strict mode."},Invalid_use_of_0_Modules_are_automatically_in_strict_mode:{code:1215,category:ts.DiagnosticCategory.Error,key:"Invalid_use_of_0_Modules_are_automatically_in_strict_mode_1215",message:"Invalid use of '{0}'. Modules are automatically in strict mode."},Export_assignment_is_not_supported_when_module_flag_is_system:{code:1218,category:ts.DiagnosticCategory.Error,key:"Export_assignment_is_not_supported_when_module_flag_is_system_1218",message:"Export assignment is not supported when '--module' flag is 'system'."},Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Set_the_experimentalDecorators_option_to_remove_this_warning:{code:1219,category:ts.DiagnosticCategory.Error,key:"Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Set_t_1219",message:"Experimental support for decorators is a feature that is subject to change in a future release. Set the 'experimentalDecorators' option to remove this warning."},Generators_are_only_available_when_targeting_ECMAScript_2015_or_higher:{code:1220,category:ts.DiagnosticCategory.Error,key:"Generators_are_only_available_when_targeting_ECMAScript_2015_or_higher_1220",message:"Generators are only available when targeting ECMAScript 2015 or higher."},Generators_are_not_allowed_in_an_ambient_context:{code:1221,category:ts.DiagnosticCategory.Error,key:"Generators_are_not_allowed_in_an_ambient_context_1221",message:"Generators are not allowed in an ambient context."},An_overload_signature_cannot_be_declared_as_a_generator:{code:1222,category:ts.DiagnosticCategory.Error,key:"An_overload_signature_cannot_be_declared_as_a_generator_1222",message:"An overload signature cannot be declared as a generator."},_0_tag_already_specified:{code:1223,category:ts.DiagnosticCategory.Error,key:"_0_tag_already_specified_1223",message:"'{0}' tag already specified."},Signature_0_must_have_a_type_predicate:{code:1224,category:ts.DiagnosticCategory.Error,key:"Signature_0_must_have_a_type_predicate_1224",message:"Signature '{0}' must have a type predicate."},Cannot_find_parameter_0:{code:1225,category:ts.DiagnosticCategory.Error,key:"Cannot_find_parameter_0_1225",message:"Cannot find parameter '{0}'."},Type_predicate_0_is_not_assignable_to_1:{code:1226,category:ts.DiagnosticCategory.Error,key:"Type_predicate_0_is_not_assignable_to_1_1226",message:"Type predicate '{0}' is not assignable to '{1}'."},Parameter_0_is_not_in_the_same_position_as_parameter_1:{code:1227,category:ts.DiagnosticCategory.Error,key:"Parameter_0_is_not_in_the_same_position_as_parameter_1_1227",message:"Parameter '{0}' is not in the same position as parameter '{1}'."},A_type_predicate_is_only_allowed_in_return_type_position_for_functions_and_methods:{code:1228,category:ts.DiagnosticCategory.Error,key:"A_type_predicate_is_only_allowed_in_return_type_position_for_functions_and_methods_1228",message:"A type predicate is only allowed in return type position for functions and methods."},A_type_predicate_cannot_reference_a_rest_parameter:{code:1229,category:ts.DiagnosticCategory.Error,key:"A_type_predicate_cannot_reference_a_rest_parameter_1229",message:"A type predicate cannot reference a rest parameter."},A_type_predicate_cannot_reference_element_0_in_a_binding_pattern:{code:1230,category:ts.DiagnosticCategory.Error,key:"A_type_predicate_cannot_reference_element_0_in_a_binding_pattern_1230",message:"A type predicate cannot reference element '{0}' in a binding pattern."},An_export_assignment_can_only_be_used_in_a_module:{code:1231,category:ts.DiagnosticCategory.Error,key:"An_export_assignment_can_only_be_used_in_a_module_1231",message:"An export assignment can only be used in a module."},An_import_declaration_can_only_be_used_in_a_namespace_or_module:{code:1232,category:ts.DiagnosticCategory.Error,key:"An_import_declaration_can_only_be_used_in_a_namespace_or_module_1232",message:"An import declaration can only be used in a namespace or module."},An_export_declaration_can_only_be_used_in_a_module:{code:1233,category:ts.DiagnosticCategory.Error,key:"An_export_declaration_can_only_be_used_in_a_module_1233",message:"An export declaration can only be used in a module."},An_ambient_module_declaration_is_only_allowed_at_the_top_level_in_a_file:{code:1234,category:ts.DiagnosticCategory.Error,key:"An_ambient_module_declaration_is_only_allowed_at_the_top_level_in_a_file_1234",message:"An ambient module declaration is only allowed at the top level in a file."},A_namespace_declaration_is_only_allowed_in_a_namespace_or_module:{code:1235,category:ts.DiagnosticCategory.Error,key:"A_namespace_declaration_is_only_allowed_in_a_namespace_or_module_1235",message:"A namespace declaration is only allowed in a namespace or module."},The_return_type_of_a_property_decorator_function_must_be_either_void_or_any:{code:1236,category:ts.DiagnosticCategory.Error,key:"The_return_type_of_a_property_decorator_function_must_be_either_void_or_any_1236",message:"The return type of a property decorator function must be either 'void' or 'any'."},The_return_type_of_a_parameter_decorator_function_must_be_either_void_or_any:{code:1237,category:ts.DiagnosticCategory.Error,key:"The_return_type_of_a_parameter_decorator_function_must_be_either_void_or_any_1237",message:"The return type of a parameter decorator function must be either 'void' or 'any'."},Unable_to_resolve_signature_of_class_decorator_when_called_as_an_expression:{code:1238,category:ts.DiagnosticCategory.Error,key:"Unable_to_resolve_signature_of_class_decorator_when_called_as_an_expression_1238",message:"Unable to resolve signature of class decorator when called as an expression."},Unable_to_resolve_signature_of_parameter_decorator_when_called_as_an_expression:{code:1239,category:ts.DiagnosticCategory.Error,key:"Unable_to_resolve_signature_of_parameter_decorator_when_called_as_an_expression_1239",message:"Unable to resolve signature of parameter decorator when called as an expression."},Unable_to_resolve_signature_of_property_decorator_when_called_as_an_expression:{code:1240,category:ts.DiagnosticCategory.Error,key:"Unable_to_resolve_signature_of_property_decorator_when_called_as_an_expression_1240",message:"Unable to resolve signature of property decorator when called as an expression."},Unable_to_resolve_signature_of_method_decorator_when_called_as_an_expression:{code:1241,category:ts.DiagnosticCategory.Error,key:"Unable_to_resolve_signature_of_method_decorator_when_called_as_an_expression_1241",message:"Unable to resolve signature of method decorator when called as an expression."},abstract_modifier_can_only_appear_on_a_class_method_or_property_declaration:{code:1242,category:ts.DiagnosticCategory.Error,key:"abstract_modifier_can_only_appear_on_a_class_method_or_property_declaration_1242",message:"'abstract' modifier can only appear on a class, method, or property declaration."},_0_modifier_cannot_be_used_with_1_modifier:{code:1243,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_be_used_with_1_modifier_1243",message:"'{0}' modifier cannot be used with '{1}' modifier."},Abstract_methods_can_only_appear_within_an_abstract_class:{code:1244,category:ts.DiagnosticCategory.Error,key:"Abstract_methods_can_only_appear_within_an_abstract_class_1244",message:"Abstract methods can only appear within an abstract class."},Method_0_cannot_have_an_implementation_because_it_is_marked_abstract:{code:1245,category:ts.DiagnosticCategory.Error,key:"Method_0_cannot_have_an_implementation_because_it_is_marked_abstract_1245",message:"Method '{0}' cannot have an implementation because it is marked abstract."},An_interface_property_cannot_have_an_initializer:{code:1246,category:ts.DiagnosticCategory.Error,key:"An_interface_property_cannot_have_an_initializer_1246",message:"An interface property cannot have an initializer."},A_type_literal_property_cannot_have_an_initializer:{code:1247,category:ts.DiagnosticCategory.Error,key:"A_type_literal_property_cannot_have_an_initializer_1247",message:"A type literal property cannot have an initializer."},A_class_member_cannot_have_the_0_keyword:{code:1248,category:ts.DiagnosticCategory.Error,key:"A_class_member_cannot_have_the_0_keyword_1248",message:"A class member cannot have the '{0}' keyword."},A_decorator_can_only_decorate_a_method_implementation_not_an_overload:{code:1249,category:ts.DiagnosticCategory.Error,key:"A_decorator_can_only_decorate_a_method_implementation_not_an_overload_1249",message:"A decorator can only decorate a method implementation, not an overload."},Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5:{code:1250,category:ts.DiagnosticCategory.Error,key:"Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_1250",message:"Function declarations are not allowed inside blocks in strict mode when targeting 'ES3' or 'ES5'."},Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_Class_definitions_are_automatically_in_strict_mode:{code:1251,category:ts.DiagnosticCategory.Error,key:"Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_Class_d_1251",message:"Function declarations are not allowed inside blocks in strict mode when targeting 'ES3' or 'ES5'. Class definitions are automatically in strict mode."},Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_Modules_are_automatically_in_strict_mode:{code:1252,category:ts.DiagnosticCategory.Error,key:"Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_Modules_1252",message:"Function declarations are not allowed inside blocks in strict mode when targeting 'ES3' or 'ES5'. Modules are automatically in strict mode."},_0_tag_cannot_be_used_independently_as_a_top_level_JSDoc_tag:{code:1253,category:ts.DiagnosticCategory.Error,key:"_0_tag_cannot_be_used_independently_as_a_top_level_JSDoc_tag_1253",message:"'{0}' tag cannot be used independently as a top level JSDoc tag."},with_statements_are_not_allowed_in_an_async_function_block:{code:1300,category:ts.DiagnosticCategory.Error,key:"with_statements_are_not_allowed_in_an_async_function_block_1300",message:"'with' statements are not allowed in an async function block."},await_expression_is_only_allowed_within_an_async_function:{code:1308,category:ts.DiagnosticCategory.Error,key:"await_expression_is_only_allowed_within_an_async_function_1308",message:"'await' expression is only allowed within an async function."},Async_functions_are_only_available_when_targeting_ECMAScript_2015_or_higher:{code:1311,category:ts.DiagnosticCategory.Error,key:"Async_functions_are_only_available_when_targeting_ECMAScript_2015_or_higher_1311",message:"Async functions are only available when targeting ECMAScript 2015 or higher."},can_only_be_used_in_an_object_literal_property_inside_a_destructuring_assignment:{code:1312,category:ts.DiagnosticCategory.Error,key:"can_only_be_used_in_an_object_literal_property_inside_a_destructuring_assignment_1312",message:"'=' can only be used in an object literal property inside a destructuring assignment."},The_body_of_an_if_statement_cannot_be_the_empty_statement:{code:1313,category:ts.DiagnosticCategory.Error,key:"The_body_of_an_if_statement_cannot_be_the_empty_statement_1313",message:"The body of an 'if' statement cannot be the empty statement."},Global_module_exports_may_only_appear_in_module_files:{code:1314,category:ts.DiagnosticCategory.Error,key:"Global_module_exports_may_only_appear_in_module_files_1314",message:"Global module exports may only appear in module files."},Global_module_exports_may_only_appear_in_declaration_files:{code:1315,category:ts.DiagnosticCategory.Error,key:"Global_module_exports_may_only_appear_in_declaration_files_1315",message:"Global module exports may only appear in declaration files."},Global_module_exports_may_only_appear_at_top_level:{code:1316,category:ts.DiagnosticCategory.Error,key:"Global_module_exports_may_only_appear_at_top_level_1316",message:"Global module exports may only appear at top level."},A_parameter_property_cannot_be_declared_using_a_rest_parameter:{code:1317,category:ts.DiagnosticCategory.Error,key:"A_parameter_property_cannot_be_declared_using_a_rest_parameter_1317",message:"A parameter property cannot be declared using a rest parameter."},Duplicate_identifier_0:{code:2300,category:ts.DiagnosticCategory.Error,
key:"Duplicate_identifier_0_2300",message:"Duplicate identifier '{0}'."},Initializer_of_instance_member_variable_0_cannot_reference_identifier_1_declared_in_the_constructor:{code:2301,category:ts.DiagnosticCategory.Error,key:"Initializer_of_instance_member_variable_0_cannot_reference_identifier_1_declared_in_the_constructor_2301",message:"Initializer of instance member variable '{0}' cannot reference identifier '{1}' declared in the constructor."},Static_members_cannot_reference_class_type_parameters:{code:2302,category:ts.DiagnosticCategory.Error,key:"Static_members_cannot_reference_class_type_parameters_2302",message:"Static members cannot reference class type parameters."},Circular_definition_of_import_alias_0:{code:2303,category:ts.DiagnosticCategory.Error,key:"Circular_definition_of_import_alias_0_2303",message:"Circular definition of import alias '{0}'."},Cannot_find_name_0:{code:2304,category:ts.DiagnosticCategory.Error,key:"Cannot_find_name_0_2304",message:"Cannot find name '{0}'."},Module_0_has_no_exported_member_1:{code:2305,category:ts.DiagnosticCategory.Error,key:"Module_0_has_no_exported_member_1_2305",message:"Module '{0}' has no exported member '{1}'."},File_0_is_not_a_module:{code:2306,category:ts.DiagnosticCategory.Error,key:"File_0_is_not_a_module_2306",message:"File '{0}' is not a module."},Cannot_find_module_0:{code:2307,category:ts.DiagnosticCategory.Error,key:"Cannot_find_module_0_2307",message:"Cannot find module '{0}'."},Module_0_has_already_exported_a_member_named_1_Consider_explicitly_re_exporting_to_resolve_the_ambiguity:{code:2308,category:ts.DiagnosticCategory.Error,key:"Module_0_has_already_exported_a_member_named_1_Consider_explicitly_re_exporting_to_resolve_the_ambig_2308",message:"Module {0} has already exported a member named '{1}'. Consider explicitly re-exporting to resolve the ambiguity."},An_export_assignment_cannot_be_used_in_a_module_with_other_exported_elements:{code:2309,category:ts.DiagnosticCategory.Error,key:"An_export_assignment_cannot_be_used_in_a_module_with_other_exported_elements_2309",message:"An export assignment cannot be used in a module with other exported elements."},Type_0_recursively_references_itself_as_a_base_type:{code:2310,category:ts.DiagnosticCategory.Error,key:"Type_0_recursively_references_itself_as_a_base_type_2310",message:"Type '{0}' recursively references itself as a base type."},A_class_may_only_extend_another_class:{code:2311,category:ts.DiagnosticCategory.Error,key:"A_class_may_only_extend_another_class_2311",message:"A class may only extend another class."},An_interface_may_only_extend_a_class_or_another_interface:{code:2312,category:ts.DiagnosticCategory.Error,key:"An_interface_may_only_extend_a_class_or_another_interface_2312",message:"An interface may only extend a class or another interface."},Type_parameter_0_has_a_circular_constraint:{code:2313,category:ts.DiagnosticCategory.Error,key:"Type_parameter_0_has_a_circular_constraint_2313",message:"Type parameter '{0}' has a circular constraint."},Generic_type_0_requires_1_type_argument_s:{code:2314,category:ts.DiagnosticCategory.Error,key:"Generic_type_0_requires_1_type_argument_s_2314",message:"Generic type '{0}' requires {1} type argument(s)."},Type_0_is_not_generic:{code:2315,category:ts.DiagnosticCategory.Error,key:"Type_0_is_not_generic_2315",message:"Type '{0}' is not generic."},Global_type_0_must_be_a_class_or_interface_type:{code:2316,category:ts.DiagnosticCategory.Error,key:"Global_type_0_must_be_a_class_or_interface_type_2316",message:"Global type '{0}' must be a class or interface type."},Global_type_0_must_have_1_type_parameter_s:{code:2317,category:ts.DiagnosticCategory.Error,key:"Global_type_0_must_have_1_type_parameter_s_2317",message:"Global type '{0}' must have {1} type parameter(s)."},Cannot_find_global_type_0:{code:2318,category:ts.DiagnosticCategory.Error,key:"Cannot_find_global_type_0_2318",message:"Cannot find global type '{0}'."},Named_property_0_of_types_1_and_2_are_not_identical:{code:2319,category:ts.DiagnosticCategory.Error,key:"Named_property_0_of_types_1_and_2_are_not_identical_2319",message:"Named property '{0}' of types '{1}' and '{2}' are not identical."},Interface_0_cannot_simultaneously_extend_types_1_and_2:{code:2320,category:ts.DiagnosticCategory.Error,key:"Interface_0_cannot_simultaneously_extend_types_1_and_2_2320",message:"Interface '{0}' cannot simultaneously extend types '{1}' and '{2}'."},Excessive_stack_depth_comparing_types_0_and_1:{code:2321,category:ts.DiagnosticCategory.Error,key:"Excessive_stack_depth_comparing_types_0_and_1_2321",message:"Excessive stack depth comparing types '{0}' and '{1}'."},Type_0_is_not_assignable_to_type_1:{code:2322,category:ts.DiagnosticCategory.Error,key:"Type_0_is_not_assignable_to_type_1_2322",message:"Type '{0}' is not assignable to type '{1}'."},Cannot_redeclare_exported_variable_0:{code:2323,category:ts.DiagnosticCategory.Error,key:"Cannot_redeclare_exported_variable_0_2323",message:"Cannot redeclare exported variable '{0}'."},Property_0_is_missing_in_type_1:{code:2324,category:ts.DiagnosticCategory.Error,key:"Property_0_is_missing_in_type_1_2324",message:"Property '{0}' is missing in type '{1}'."},Property_0_is_private_in_type_1_but_not_in_type_2:{code:2325,category:ts.DiagnosticCategory.Error,key:"Property_0_is_private_in_type_1_but_not_in_type_2_2325",message:"Property '{0}' is private in type '{1}' but not in type '{2}'."},Types_of_property_0_are_incompatible:{code:2326,category:ts.DiagnosticCategory.Error,key:"Types_of_property_0_are_incompatible_2326",message:"Types of property '{0}' are incompatible."},Property_0_is_optional_in_type_1_but_required_in_type_2:{code:2327,category:ts.DiagnosticCategory.Error,key:"Property_0_is_optional_in_type_1_but_required_in_type_2_2327",message:"Property '{0}' is optional in type '{1}' but required in type '{2}'."},Types_of_parameters_0_and_1_are_incompatible:{code:2328,category:ts.DiagnosticCategory.Error,key:"Types_of_parameters_0_and_1_are_incompatible_2328",message:"Types of parameters '{0}' and '{1}' are incompatible."},Index_signature_is_missing_in_type_0:{code:2329,category:ts.DiagnosticCategory.Error,key:"Index_signature_is_missing_in_type_0_2329",message:"Index signature is missing in type '{0}'."},Index_signatures_are_incompatible:{code:2330,category:ts.DiagnosticCategory.Error,key:"Index_signatures_are_incompatible_2330",message:"Index signatures are incompatible."},this_cannot_be_referenced_in_a_module_or_namespace_body:{code:2331,category:ts.DiagnosticCategory.Error,key:"this_cannot_be_referenced_in_a_module_or_namespace_body_2331",message:"'this' cannot be referenced in a module or namespace body."},this_cannot_be_referenced_in_current_location:{code:2332,category:ts.DiagnosticCategory.Error,key:"this_cannot_be_referenced_in_current_location_2332",message:"'this' cannot be referenced in current location."},this_cannot_be_referenced_in_constructor_arguments:{code:2333,category:ts.DiagnosticCategory.Error,key:"this_cannot_be_referenced_in_constructor_arguments_2333",message:"'this' cannot be referenced in constructor arguments."},this_cannot_be_referenced_in_a_static_property_initializer:{code:2334,category:ts.DiagnosticCategory.Error,key:"this_cannot_be_referenced_in_a_static_property_initializer_2334",message:"'this' cannot be referenced in a static property initializer."},super_can_only_be_referenced_in_a_derived_class:{code:2335,category:ts.DiagnosticCategory.Error,key:"super_can_only_be_referenced_in_a_derived_class_2335",message:"'super' can only be referenced in a derived class."},super_cannot_be_referenced_in_constructor_arguments:{code:2336,category:ts.DiagnosticCategory.Error,key:"super_cannot_be_referenced_in_constructor_arguments_2336",message:"'super' cannot be referenced in constructor arguments."},Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors:{code:2337,category:ts.DiagnosticCategory.Error,key:"Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors_2337",message:"Super calls are not permitted outside constructors or in nested functions inside constructors."},super_property_access_is_permitted_only_in_a_constructor_member_function_or_member_accessor_of_a_derived_class:{code:2338,category:ts.DiagnosticCategory.Error,key:"super_property_access_is_permitted_only_in_a_constructor_member_function_or_member_accessor_of_a_der_2338",message:"'super' property access is permitted only in a constructor, member function, or member accessor of a derived class."},Property_0_does_not_exist_on_type_1:{code:2339,category:ts.DiagnosticCategory.Error,key:"Property_0_does_not_exist_on_type_1_2339",message:"Property '{0}' does not exist on type '{1}'."},Only_public_and_protected_methods_of_the_base_class_are_accessible_via_the_super_keyword:{code:2340,category:ts.DiagnosticCategory.Error,key:"Only_public_and_protected_methods_of_the_base_class_are_accessible_via_the_super_keyword_2340",message:"Only public and protected methods of the base class are accessible via the 'super' keyword."},Property_0_is_private_and_only_accessible_within_class_1:{code:2341,category:ts.DiagnosticCategory.Error,key:"Property_0_is_private_and_only_accessible_within_class_1_2341",message:"Property '{0}' is private and only accessible within class '{1}'."},An_index_expression_argument_must_be_of_type_string_number_symbol_or_any:{code:2342,category:ts.DiagnosticCategory.Error,key:"An_index_expression_argument_must_be_of_type_string_number_symbol_or_any_2342",message:"An index expression argument must be of type 'string', 'number', 'symbol', or 'any'."},Type_0_does_not_satisfy_the_constraint_1:{code:2344,category:ts.DiagnosticCategory.Error,key:"Type_0_does_not_satisfy_the_constraint_1_2344",message:"Type '{0}' does not satisfy the constraint '{1}'."},Argument_of_type_0_is_not_assignable_to_parameter_of_type_1:{code:2345,category:ts.DiagnosticCategory.Error,key:"Argument_of_type_0_is_not_assignable_to_parameter_of_type_1_2345",message:"Argument of type '{0}' is not assignable to parameter of type '{1}'."},Supplied_parameters_do_not_match_any_signature_of_call_target:{code:2346,category:ts.DiagnosticCategory.Error,key:"Supplied_parameters_do_not_match_any_signature_of_call_target_2346",message:"Supplied parameters do not match any signature of call target."},Untyped_function_calls_may_not_accept_type_arguments:{code:2347,category:ts.DiagnosticCategory.Error,key:"Untyped_function_calls_may_not_accept_type_arguments_2347",message:"Untyped function calls may not accept type arguments."},Value_of_type_0_is_not_callable_Did_you_mean_to_include_new:{code:2348,category:ts.DiagnosticCategory.Error,key:"Value_of_type_0_is_not_callable_Did_you_mean_to_include_new_2348",message:"Value of type '{0}' is not callable. Did you mean to include 'new'?"},Cannot_invoke_an_expression_whose_type_lacks_a_call_signature:{code:2349,category:ts.DiagnosticCategory.Error,key:"Cannot_invoke_an_expression_whose_type_lacks_a_call_signature_2349",message:"Cannot invoke an expression whose type lacks a call signature."},Only_a_void_function_can_be_called_with_the_new_keyword:{code:2350,category:ts.DiagnosticCategory.Error,key:"Only_a_void_function_can_be_called_with_the_new_keyword_2350",message:"Only a void function can be called with the 'new' keyword."},Cannot_use_new_with_an_expression_whose_type_lacks_a_call_or_construct_signature:{code:2351,category:ts.DiagnosticCategory.Error,key:"Cannot_use_new_with_an_expression_whose_type_lacks_a_call_or_construct_signature_2351",message:"Cannot use 'new' with an expression whose type lacks a call or construct signature."},Type_0_cannot_be_converted_to_type_1:{code:2352,category:ts.DiagnosticCategory.Error,key:"Type_0_cannot_be_converted_to_type_1_2352",message:"Type '{0}' cannot be converted to type '{1}'."},Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1:{code:2353,category:ts.DiagnosticCategory.Error,key:"Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1_2353",message:"Object literal may only specify known properties, and '{0}' does not exist in type '{1}'."},No_best_common_type_exists_among_return_expressions:{code:2354,category:ts.DiagnosticCategory.Error,key:"No_best_common_type_exists_among_return_expressions_2354",message:"No best common type exists among return expressions."},A_function_whose_declared_type_is_neither_void_nor_any_must_return_a_value:{code:2355,category:ts.DiagnosticCategory.Error,key:"A_function_whose_declared_type_is_neither_void_nor_any_must_return_a_value_2355",message:"A function whose declared type is neither 'void' nor 'any' must return a value."},An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type:{code:2356,category:ts.DiagnosticCategory.Error,key:"An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type_2356",message:"An arithmetic operand must be of type 'any', 'number' or an enum type."},The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_property_or_indexer:{code:2357,category:ts.DiagnosticCategory.Error,key:"The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_property_or_indexer_2357",message:"The operand of an increment or decrement operator must be a variable, property or indexer."},The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_parameter:{code:2358,category:ts.DiagnosticCategory.Error,key:"The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_paramete_2358",message:"The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter."},The_right_hand_side_of_an_instanceof_expression_must_be_of_type_any_or_of_a_type_assignable_to_the_Function_interface_type:{code:2359,category:ts.DiagnosticCategory.Error,key:"The_right_hand_side_of_an_instanceof_expression_must_be_of_type_any_or_of_a_type_assignable_to_the_F_2359",message:"The right-hand side of an 'instanceof' expression must be of type 'any' or of a type assignable to the 'Function' interface type."},The_left_hand_side_of_an_in_expression_must_be_of_type_any_string_number_or_symbol:{code:2360,category:ts.DiagnosticCategory.Error,key:"The_left_hand_side_of_an_in_expression_must_be_of_type_any_string_number_or_symbol_2360",message:"The left-hand side of an 'in' expression must be of type 'any', 'string', 'number', or 'symbol'."},The_right_hand_side_of_an_in_expression_must_be_of_type_any_an_object_type_or_a_type_parameter:{code:2361,category:ts.DiagnosticCategory.Error,key:"The_right_hand_side_of_an_in_expression_must_be_of_type_any_an_object_type_or_a_type_parameter_2361",message:"The right-hand side of an 'in' expression must be of type 'any', an object type or a type parameter"},The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type:{code:2362,category:ts.DiagnosticCategory.Error,key:"The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type_2362",message:"The left-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type."},The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type:{code:2363,category:ts.DiagnosticCategory.Error,key:"The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type_2363",message:"The right-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type."},Invalid_left_hand_side_of_assignment_expression:{code:2364,category:ts.DiagnosticCategory.Error,key:"Invalid_left_hand_side_of_assignment_expression_2364",message:"Invalid left-hand side of assignment expression."},Operator_0_cannot_be_applied_to_types_1_and_2:{code:2365,category:ts.DiagnosticCategory.Error,key:"Operator_0_cannot_be_applied_to_types_1_and_2_2365",message:"Operator '{0}' cannot be applied to types '{1}' and '{2}'."},Function_lacks_ending_return_statement_and_return_type_does_not_include_undefined:{code:2366,category:ts.DiagnosticCategory.Error,key:"Function_lacks_ending_return_statement_and_return_type_does_not_include_undefined_2366",message:"Function lacks ending return statement and return type does not include 'undefined'."},Type_parameter_name_cannot_be_0:{code:2368,category:ts.DiagnosticCategory.Error,key:"Type_parameter_name_cannot_be_0_2368",message:"Type parameter name cannot be '{0}'"},A_parameter_property_is_only_allowed_in_a_constructor_implementation:{code:2369,category:ts.DiagnosticCategory.Error,key:"A_parameter_property_is_only_allowed_in_a_constructor_implementation_2369",message:"A parameter property is only allowed in a constructor implementation."},A_rest_parameter_must_be_of_an_array_type:{code:2370,category:ts.DiagnosticCategory.Error,key:"A_rest_parameter_must_be_of_an_array_type_2370",message:"A rest parameter must be of an array type."},A_parameter_initializer_is_only_allowed_in_a_function_or_constructor_implementation:{code:2371,category:ts.DiagnosticCategory.Error,key:"A_parameter_initializer_is_only_allowed_in_a_function_or_constructor_implementation_2371",message:"A parameter initializer is only allowed in a function or constructor implementation."},Parameter_0_cannot_be_referenced_in_its_initializer:{code:2372,category:ts.DiagnosticCategory.Error,key:"Parameter_0_cannot_be_referenced_in_its_initializer_2372",message:"Parameter '{0}' cannot be referenced in its initializer."},Initializer_of_parameter_0_cannot_reference_identifier_1_declared_after_it:{code:2373,category:ts.DiagnosticCategory.Error,key:"Initializer_of_parameter_0_cannot_reference_identifier_1_declared_after_it_2373",message:"Initializer of parameter '{0}' cannot reference identifier '{1}' declared after it."},Duplicate_string_index_signature:{code:2374,category:ts.DiagnosticCategory.Error,key:"Duplicate_string_index_signature_2374",message:"Duplicate string index signature."},Duplicate_number_index_signature:{code:2375,category:ts.DiagnosticCategory.Error,key:"Duplicate_number_index_signature_2375",message:"Duplicate number index signature."},A_super_call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_initialized_properties_or_has_parameter_properties:{code:2376,category:ts.DiagnosticCategory.Error,key:"A_super_call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_initialized_proper_2376",message:"A 'super' call must be the first statement in the constructor when a class contains initialized properties or has parameter properties."},Constructors_for_derived_classes_must_contain_a_super_call:{code:2377,category:ts.DiagnosticCategory.Error,key:"Constructors_for_derived_classes_must_contain_a_super_call_2377",message:"Constructors for derived classes must contain a 'super' call."},A_get_accessor_must_return_a_value:{code:2378,category:ts.DiagnosticCategory.Error,key:"A_get_accessor_must_return_a_value_2378",message:"A 'get' accessor must return a value."},Getter_and_setter_accessors_do_not_agree_in_visibility:{code:2379,category:ts.DiagnosticCategory.Error,key:"Getter_and_setter_accessors_do_not_agree_in_visibility_2379",message:"Getter and setter accessors do not agree in visibility."},get_and_set_accessor_must_have_the_same_type:{code:2380,category:ts.DiagnosticCategory.Error,key:"get_and_set_accessor_must_have_the_same_type_2380",message:"'get' and 'set' accessor must have the same type."},A_signature_with_an_implementation_cannot_use_a_string_literal_type:{code:2381,category:ts.DiagnosticCategory.Error,key:"A_signature_with_an_implementation_cannot_use_a_string_literal_type_2381",message:"A signature with an implementation cannot use a string literal type."},Specialized_overload_signature_is_not_assignable_to_any_non_specialized_signature:{code:2382,category:ts.DiagnosticCategory.Error,key:"Specialized_overload_signature_is_not_assignable_to_any_non_specialized_signature_2382",message:"Specialized overload signature is not assignable to any non-specialized signature."},Overload_signatures_must_all_be_exported_or_non_exported:{code:2383,category:ts.DiagnosticCategory.Error,key:"Overload_signatures_must_all_be_exported_or_non_exported_2383",message:"Overload signatures must all be exported or non-exported."},Overload_signatures_must_all_be_ambient_or_non_ambient:{code:2384,category:ts.DiagnosticCategory.Error,key:"Overload_signatures_must_all_be_ambient_or_non_ambient_2384",message:"Overload signatures must all be ambient or non-ambient."},Overload_signatures_must_all_be_public_private_or_protected:{code:2385,category:ts.DiagnosticCategory.Error,key:"Overload_signatures_must_all_be_public_private_or_protected_2385",message:"Overload signatures must all be public, private or protected."},Overload_signatures_must_all_be_optional_or_required:{code:2386,category:ts.DiagnosticCategory.Error,key:"Overload_signatures_must_all_be_optional_or_required_2386",message:"Overload signatures must all be optional or required."},Function_overload_must_be_static:{code:2387,category:ts.DiagnosticCategory.Error,key:"Function_overload_must_be_static_2387",message:"Function overload must be static."},Function_overload_must_not_be_static:{code:2388,category:ts.DiagnosticCategory.Error,key:"Function_overload_must_not_be_static_2388",message:"Function overload must not be static."},Function_implementation_name_must_be_0:{code:2389,category:ts.DiagnosticCategory.Error,key:"Function_implementation_name_must_be_0_2389",message:"Function implementation name must be '{0}'."},Constructor_implementation_is_missing:{code:2390,category:ts.DiagnosticCategory.Error,key:"Constructor_implementation_is_missing_2390",message:"Constructor implementation is missing."},Function_implementation_is_missing_or_not_immediately_following_the_declaration:{code:2391,category:ts.DiagnosticCategory.Error,key:"Function_implementation_is_missing_or_not_immediately_following_the_declaration_2391",message:"Function implementation is missing or not immediately following the declaration."},Multiple_constructor_implementations_are_not_allowed:{code:2392,category:ts.DiagnosticCategory.Error,key:"Multiple_constructor_implementations_are_not_allowed_2392",message:"Multiple constructor implementations are not allowed."},Duplicate_function_implementation:{code:2393,category:ts.DiagnosticCategory.Error,key:"Duplicate_function_implementation_2393",message:"Duplicate function implementation."},Overload_signature_is_not_compatible_with_function_implementation:{code:2394,category:ts.DiagnosticCategory.Error,key:"Overload_signature_is_not_compatible_with_function_implementation_2394",message:"Overload signature is not compatible with function implementation."},Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local:{code:2395,category:ts.DiagnosticCategory.Error,key:"Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local_2395",message:"Individual declarations in merged declaration '{0}' must be all exported or all local."},Duplicate_identifier_arguments_Compiler_uses_arguments_to_initialize_rest_parameters:{code:2396,category:ts.DiagnosticCategory.Error,key:"Duplicate_identifier_arguments_Compiler_uses_arguments_to_initialize_rest_parameters_2396",message:"Duplicate identifier 'arguments'. Compiler uses 'arguments' to initialize rest parameters."},Declaration_name_conflicts_with_built_in_global_identifier_0:{code:2397,category:ts.DiagnosticCategory.Error,key:"Declaration_name_conflicts_with_built_in_global_identifier_0_2397",message:"Declaration name conflicts with built-in global identifier '{0}'."},Duplicate_identifier_this_Compiler_uses_variable_declaration_this_to_capture_this_reference:{code:2399,category:ts.DiagnosticCategory.Error,key:"Duplicate_identifier_this_Compiler_uses_variable_declaration_this_to_capture_this_reference_2399",message:"Duplicate identifier '_this'. Compiler uses variable declaration '_this' to capture 'this' reference."},Expression_resolves_to_variable_declaration_this_that_compiler_uses_to_capture_this_reference:{code:2400,category:ts.DiagnosticCategory.Error,key:"Expression_resolves_to_variable_declaration_this_that_compiler_uses_to_capture_this_reference_2400",message:"Expression resolves to variable declaration '_this' that compiler uses to capture 'this' reference."},Duplicate_identifier_super_Compiler_uses_super_to_capture_base_class_reference:{code:2401,category:ts.DiagnosticCategory.Error,key:"Duplicate_identifier_super_Compiler_uses_super_to_capture_base_class_reference_2401",message:"Duplicate identifier '_super'. Compiler uses '_super' to capture base class reference."},Expression_resolves_to_super_that_compiler_uses_to_capture_base_class_reference:{code:2402,category:ts.DiagnosticCategory.Error,key:"Expression_resolves_to_super_that_compiler_uses_to_capture_base_class_reference_2402",message:"Expression resolves to '_super' that compiler uses to capture base class reference."},Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_type_2:{code:2403,category:ts.DiagnosticCategory.Error,key:"Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_t_2403",message:"Subsequent variable declarations must have the same type.  Variable '{0}' must be of type '{1}', but here has type '{2}'."},The_left_hand_side_of_a_for_in_statement_cannot_use_a_type_annotation:{code:2404,category:ts.DiagnosticCategory.Error,key:"The_left_hand_side_of_a_for_in_statement_cannot_use_a_type_annotation_2404",message:"The left-hand side of a 'for...in' statement cannot use a type annotation."},The_left_hand_side_of_a_for_in_statement_must_be_of_type_string_or_any:{code:2405,category:ts.DiagnosticCategory.Error,key:"The_left_hand_side_of_a_for_in_statement_must_be_of_type_string_or_any_2405",message:"The left-hand side of a 'for...in' statement must be of type 'string' or 'any'."},Invalid_left_hand_side_in_for_in_statement:{code:2406,category:ts.DiagnosticCategory.Error,key:"Invalid_left_hand_side_in_for_in_statement_2406",message:"Invalid left-hand side in 'for...in' statement."},The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter:{code:2407,category:ts.DiagnosticCategory.Error,key:"The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter_2407",message:"The right-hand side of a 'for...in' statement must be of type 'any', an object type or a type parameter."},Setters_cannot_return_a_value:{code:2408,category:ts.DiagnosticCategory.Error,key:"Setters_cannot_return_a_value_2408",message:"Setters cannot return a value."},Return_type_of_constructor_signature_must_be_assignable_to_the_instance_type_of_the_class:{code:2409,category:ts.DiagnosticCategory.Error,key:"Return_type_of_constructor_signature_must_be_assignable_to_the_instance_type_of_the_class_2409",message:"Return type of constructor signature must be assignable to the instance type of the class"},All_symbols_within_a_with_block_will_be_resolved_to_any:{code:2410,category:ts.DiagnosticCategory.Error,key:"All_symbols_within_a_with_block_will_be_resolved_to_any_2410",message:"All symbols within a 'with' block will be resolved to 'any'."},Property_0_of_type_1_is_not_assignable_to_string_index_type_2:{code:2411,category:ts.DiagnosticCategory.Error,key:"Property_0_of_type_1_is_not_assignable_to_string_index_type_2_2411",message:"Property '{0}' of type '{1}' is not assignable to string index type '{2}'."},Property_0_of_type_1_is_not_assignable_to_numeric_index_type_2:{code:2412,category:ts.DiagnosticCategory.Error,key:"Property_0_of_type_1_is_not_assignable_to_numeric_index_type_2_2412",message:"Property '{0}' of type '{1}' is not assignable to numeric index type '{2}'."},Numeric_index_type_0_is_not_assignable_to_string_index_type_1:{code:2413,category:ts.DiagnosticCategory.Error,key:"Numeric_index_type_0_is_not_assignable_to_string_index_type_1_2413",message:"Numeric index type '{0}' is not assignable to string index type '{1}'."},Class_name_cannot_be_0:{code:2414,category:ts.DiagnosticCategory.Error,key:"Class_name_cannot_be_0_2414",message:"Class name cannot be '{0}'"},Class_0_incorrectly_extends_base_class_1:{code:2415,category:ts.DiagnosticCategory.Error,key:"Class_0_incorrectly_extends_base_class_1_2415",message:"Class '{0}' incorrectly extends base class '{1}'."},Class_static_side_0_incorrectly_extends_base_class_static_side_1:{code:2417,category:ts.DiagnosticCategory.Error,key:"Class_static_side_0_incorrectly_extends_base_class_static_side_1_2417",message:"Class static side '{0}' incorrectly extends base class static side '{1}'."},Class_0_incorrectly_implements_interface_1:{code:2420,category:ts.DiagnosticCategory.Error,key:"Class_0_incorrectly_implements_interface_1_2420",message:"Class '{0}' incorrectly implements interface '{1}'."},A_class_may_only_implement_another_class_or_interface:{code:2422,category:ts.DiagnosticCategory.Error,key:"A_class_may_only_implement_another_class_or_interface_2422",message:"A class may only implement another class or interface."},Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_accessor:{code:2423,category:ts.DiagnosticCategory.Error,key:"Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_access_2423",message:"Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member accessor."},Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_property:{code:2424,category:ts.DiagnosticCategory.Error,key:"Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_proper_2424",message:"Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member property."},Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_function:{code:2425,category:ts.DiagnosticCategory.Error,key:"Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_functi_2425",message:"Class '{0}' defines instance member property '{1}', but extended class '{2}' defines it as instance member function."},Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_function:{code:2426,category:ts.DiagnosticCategory.Error,key:"Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_functi_2426",message:"Class '{0}' defines instance member accessor '{1}', but extended class '{2}' defines it as instance member function."},Interface_name_cannot_be_0:{code:2427,category:ts.DiagnosticCategory.Error,key:"Interface_name_cannot_be_0_2427",message:"Interface name cannot be '{0}'"},All_declarations_of_0_must_have_identical_type_parameters:{code:2428,category:ts.DiagnosticCategory.Error,key:"All_declarations_of_0_must_have_identical_type_parameters_2428",message:"All declarations of '{0}' must have identical type parameters."},Interface_0_incorrectly_extends_interface_1:{code:2430,category:ts.DiagnosticCategory.Error,key:"Interface_0_incorrectly_extends_interface_1_2430",message:"Interface '{0}' incorrectly extends interface '{1}'."},Enum_name_cannot_be_0:{code:2431,category:ts.DiagnosticCategory.Error,key:"Enum_name_cannot_be_0_2431",message:"Enum name cannot be '{0}'"},In_an_enum_with_multiple_declarations_only_one_declaration_can_omit_an_initializer_for_its_first_enum_element:{code:2432,category:ts.DiagnosticCategory.Error,key:"In_an_enum_with_multiple_declarations_only_one_declaration_can_omit_an_initializer_for_its_first_enu_2432",message:"In an enum with multiple declarations, only one declaration can omit an initializer for its first enum element."},A_namespace_declaration_cannot_be_in_a_different_file_from_a_class_or_function_with_which_it_is_merged:{code:2433,category:ts.DiagnosticCategory.Error,key:"A_namespace_declaration_cannot_be_in_a_different_file_from_a_class_or_function_with_which_it_is_merg_2433",
message:"A namespace declaration cannot be in a different file from a class or function with which it is merged"},A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged:{code:2434,category:ts.DiagnosticCategory.Error,key:"A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged_2434",message:"A namespace declaration cannot be located prior to a class or function with which it is merged"},Ambient_modules_cannot_be_nested_in_other_modules_or_namespaces:{code:2435,category:ts.DiagnosticCategory.Error,key:"Ambient_modules_cannot_be_nested_in_other_modules_or_namespaces_2435",message:"Ambient modules cannot be nested in other modules or namespaces."},Ambient_module_declaration_cannot_specify_relative_module_name:{code:2436,category:ts.DiagnosticCategory.Error,key:"Ambient_module_declaration_cannot_specify_relative_module_name_2436",message:"Ambient module declaration cannot specify relative module name."},Module_0_is_hidden_by_a_local_declaration_with_the_same_name:{code:2437,category:ts.DiagnosticCategory.Error,key:"Module_0_is_hidden_by_a_local_declaration_with_the_same_name_2437",message:"Module '{0}' is hidden by a local declaration with the same name"},Import_name_cannot_be_0:{code:2438,category:ts.DiagnosticCategory.Error,key:"Import_name_cannot_be_0_2438",message:"Import name cannot be '{0}'"},Import_or_export_declaration_in_an_ambient_module_declaration_cannot_reference_module_through_relative_module_name:{code:2439,category:ts.DiagnosticCategory.Error,key:"Import_or_export_declaration_in_an_ambient_module_declaration_cannot_reference_module_through_relati_2439",message:"Import or export declaration in an ambient module declaration cannot reference module through relative module name."},Import_declaration_conflicts_with_local_declaration_of_0:{code:2440,category:ts.DiagnosticCategory.Error,key:"Import_declaration_conflicts_with_local_declaration_of_0_2440",message:"Import declaration conflicts with local declaration of '{0}'"},Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module:{code:2441,category:ts.DiagnosticCategory.Error,key:"Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module_2441",message:"Duplicate identifier '{0}'. Compiler reserves name '{1}' in top level scope of a module."},Types_have_separate_declarations_of_a_private_property_0:{code:2442,category:ts.DiagnosticCategory.Error,key:"Types_have_separate_declarations_of_a_private_property_0_2442",message:"Types have separate declarations of a private property '{0}'."},Property_0_is_protected_but_type_1_is_not_a_class_derived_from_2:{code:2443,category:ts.DiagnosticCategory.Error,key:"Property_0_is_protected_but_type_1_is_not_a_class_derived_from_2_2443",message:"Property '{0}' is protected but type '{1}' is not a class derived from '{2}'."},Property_0_is_protected_in_type_1_but_public_in_type_2:{code:2444,category:ts.DiagnosticCategory.Error,key:"Property_0_is_protected_in_type_1_but_public_in_type_2_2444",message:"Property '{0}' is protected in type '{1}' but public in type '{2}'."},Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses:{code:2445,category:ts.DiagnosticCategory.Error,key:"Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses_2445",message:"Property '{0}' is protected and only accessible within class '{1}' and its subclasses."},Property_0_is_protected_and_only_accessible_through_an_instance_of_class_1:{code:2446,category:ts.DiagnosticCategory.Error,key:"Property_0_is_protected_and_only_accessible_through_an_instance_of_class_1_2446",message:"Property '{0}' is protected and only accessible through an instance of class '{1}'."},The_0_operator_is_not_allowed_for_boolean_types_Consider_using_1_instead:{code:2447,category:ts.DiagnosticCategory.Error,key:"The_0_operator_is_not_allowed_for_boolean_types_Consider_using_1_instead_2447",message:"The '{0}' operator is not allowed for boolean types. Consider using '{1}' instead."},Block_scoped_variable_0_used_before_its_declaration:{code:2448,category:ts.DiagnosticCategory.Error,key:"Block_scoped_variable_0_used_before_its_declaration_2448",message:"Block-scoped variable '{0}' used before its declaration."},The_operand_of_an_increment_or_decrement_operator_cannot_be_a_constant_or_a_read_only_property:{code:2449,category:ts.DiagnosticCategory.Error,key:"The_operand_of_an_increment_or_decrement_operator_cannot_be_a_constant_or_a_read_only_property_2449",message:"The operand of an increment or decrement operator cannot be a constant or a read-only property."},Left_hand_side_of_assignment_expression_cannot_be_a_constant_or_a_read_only_property:{code:2450,category:ts.DiagnosticCategory.Error,key:"Left_hand_side_of_assignment_expression_cannot_be_a_constant_or_a_read_only_property_2450",message:"Left-hand side of assignment expression cannot be a constant or a read-only property."},Cannot_redeclare_block_scoped_variable_0:{code:2451,category:ts.DiagnosticCategory.Error,key:"Cannot_redeclare_block_scoped_variable_0_2451",message:"Cannot redeclare block-scoped variable '{0}'."},An_enum_member_cannot_have_a_numeric_name:{code:2452,category:ts.DiagnosticCategory.Error,key:"An_enum_member_cannot_have_a_numeric_name_2452",message:"An enum member cannot have a numeric name."},The_type_argument_for_type_parameter_0_cannot_be_inferred_from_the_usage_Consider_specifying_the_type_arguments_explicitly:{code:2453,category:ts.DiagnosticCategory.Error,key:"The_type_argument_for_type_parameter_0_cannot_be_inferred_from_the_usage_Consider_specifying_the_typ_2453",message:"The type argument for type parameter '{0}' cannot be inferred from the usage. Consider specifying the type arguments explicitly."},Variable_0_is_used_before_being_assigned:{code:2454,category:ts.DiagnosticCategory.Error,key:"Variable_0_is_used_before_being_assigned_2454",message:"Variable '{0}' is used before being assigned."},Type_argument_candidate_1_is_not_a_valid_type_argument_because_it_is_not_a_supertype_of_candidate_0:{code:2455,category:ts.DiagnosticCategory.Error,key:"Type_argument_candidate_1_is_not_a_valid_type_argument_because_it_is_not_a_supertype_of_candidate_0_2455",message:"Type argument candidate '{1}' is not a valid type argument because it is not a supertype of candidate '{0}'."},Type_alias_0_circularly_references_itself:{code:2456,category:ts.DiagnosticCategory.Error,key:"Type_alias_0_circularly_references_itself_2456",message:"Type alias '{0}' circularly references itself."},Type_alias_name_cannot_be_0:{code:2457,category:ts.DiagnosticCategory.Error,key:"Type_alias_name_cannot_be_0_2457",message:"Type alias name cannot be '{0}'"},An_AMD_module_cannot_have_multiple_name_assignments:{code:2458,category:ts.DiagnosticCategory.Error,key:"An_AMD_module_cannot_have_multiple_name_assignments_2458",message:"An AMD module cannot have multiple name assignments."},Type_0_has_no_property_1_and_no_string_index_signature:{code:2459,category:ts.DiagnosticCategory.Error,key:"Type_0_has_no_property_1_and_no_string_index_signature_2459",message:"Type '{0}' has no property '{1}' and no string index signature."},Type_0_has_no_property_1:{code:2460,category:ts.DiagnosticCategory.Error,key:"Type_0_has_no_property_1_2460",message:"Type '{0}' has no property '{1}'."},Type_0_is_not_an_array_type:{code:2461,category:ts.DiagnosticCategory.Error,key:"Type_0_is_not_an_array_type_2461",message:"Type '{0}' is not an array type."},A_rest_element_must_be_last_in_an_array_destructuring_pattern:{code:2462,category:ts.DiagnosticCategory.Error,key:"A_rest_element_must_be_last_in_an_array_destructuring_pattern_2462",message:"A rest element must be last in an array destructuring pattern"},A_binding_pattern_parameter_cannot_be_optional_in_an_implementation_signature:{code:2463,category:ts.DiagnosticCategory.Error,key:"A_binding_pattern_parameter_cannot_be_optional_in_an_implementation_signature_2463",message:"A binding pattern parameter cannot be optional in an implementation signature."},A_computed_property_name_must_be_of_type_string_number_symbol_or_any:{code:2464,category:ts.DiagnosticCategory.Error,key:"A_computed_property_name_must_be_of_type_string_number_symbol_or_any_2464",message:"A computed property name must be of type 'string', 'number', 'symbol', or 'any'."},this_cannot_be_referenced_in_a_computed_property_name:{code:2465,category:ts.DiagnosticCategory.Error,key:"this_cannot_be_referenced_in_a_computed_property_name_2465",message:"'this' cannot be referenced in a computed property name."},super_cannot_be_referenced_in_a_computed_property_name:{code:2466,category:ts.DiagnosticCategory.Error,key:"super_cannot_be_referenced_in_a_computed_property_name_2466",message:"'super' cannot be referenced in a computed property name."},A_computed_property_name_cannot_reference_a_type_parameter_from_its_containing_type:{code:2467,category:ts.DiagnosticCategory.Error,key:"A_computed_property_name_cannot_reference_a_type_parameter_from_its_containing_type_2467",message:"A computed property name cannot reference a type parameter from its containing type."},Cannot_find_global_value_0:{code:2468,category:ts.DiagnosticCategory.Error,key:"Cannot_find_global_value_0_2468",message:"Cannot find global value '{0}'."},The_0_operator_cannot_be_applied_to_type_symbol:{code:2469,category:ts.DiagnosticCategory.Error,key:"The_0_operator_cannot_be_applied_to_type_symbol_2469",message:"The '{0}' operator cannot be applied to type 'symbol'."},Symbol_reference_does_not_refer_to_the_global_Symbol_constructor_object:{code:2470,category:ts.DiagnosticCategory.Error,key:"Symbol_reference_does_not_refer_to_the_global_Symbol_constructor_object_2470",message:"'Symbol' reference does not refer to the global Symbol constructor object."},A_computed_property_name_of_the_form_0_must_be_of_type_symbol:{code:2471,category:ts.DiagnosticCategory.Error,key:"A_computed_property_name_of_the_form_0_must_be_of_type_symbol_2471",message:"A computed property name of the form '{0}' must be of type 'symbol'."},Spread_operator_in_new_expressions_is_only_available_when_targeting_ECMAScript_5_and_higher:{code:2472,category:ts.DiagnosticCategory.Error,key:"Spread_operator_in_new_expressions_is_only_available_when_targeting_ECMAScript_5_and_higher_2472",message:"Spread operator in 'new' expressions is only available when targeting ECMAScript 5 and higher."},Enum_declarations_must_all_be_const_or_non_const:{code:2473,category:ts.DiagnosticCategory.Error,key:"Enum_declarations_must_all_be_const_or_non_const_2473",message:"Enum declarations must all be const or non-const."},In_const_enum_declarations_member_initializer_must_be_constant_expression:{code:2474,category:ts.DiagnosticCategory.Error,key:"In_const_enum_declarations_member_initializer_must_be_constant_expression_2474",message:"In 'const' enum declarations member initializer must be constant expression."},const_enums_can_only_be_used_in_property_or_index_access_expressions_or_the_right_hand_side_of_an_import_declaration_or_export_assignment:{code:2475,category:ts.DiagnosticCategory.Error,key:"const_enums_can_only_be_used_in_property_or_index_access_expressions_or_the_right_hand_side_of_an_im_2475",message:"'const' enums can only be used in property or index access expressions or the right hand side of an import declaration or export assignment."},A_const_enum_member_can_only_be_accessed_using_a_string_literal:{code:2476,category:ts.DiagnosticCategory.Error,key:"A_const_enum_member_can_only_be_accessed_using_a_string_literal_2476",message:"A const enum member can only be accessed using a string literal."},const_enum_member_initializer_was_evaluated_to_a_non_finite_value:{code:2477,category:ts.DiagnosticCategory.Error,key:"const_enum_member_initializer_was_evaluated_to_a_non_finite_value_2477",message:"'const' enum member initializer was evaluated to a non-finite value."},const_enum_member_initializer_was_evaluated_to_disallowed_value_NaN:{code:2478,category:ts.DiagnosticCategory.Error,key:"const_enum_member_initializer_was_evaluated_to_disallowed_value_NaN_2478",message:"'const' enum member initializer was evaluated to disallowed value 'NaN'."},Property_0_does_not_exist_on_const_enum_1:{code:2479,category:ts.DiagnosticCategory.Error,key:"Property_0_does_not_exist_on_const_enum_1_2479",message:"Property '{0}' does not exist on 'const' enum '{1}'."},let_is_not_allowed_to_be_used_as_a_name_in_let_or_const_declarations:{code:2480,category:ts.DiagnosticCategory.Error,key:"let_is_not_allowed_to_be_used_as_a_name_in_let_or_const_declarations_2480",message:"'let' is not allowed to be used as a name in 'let' or 'const' declarations."},Cannot_initialize_outer_scoped_variable_0_in_the_same_scope_as_block_scoped_declaration_1:{code:2481,category:ts.DiagnosticCategory.Error,key:"Cannot_initialize_outer_scoped_variable_0_in_the_same_scope_as_block_scoped_declaration_1_2481",message:"Cannot initialize outer scoped variable '{0}' in the same scope as block scoped declaration '{1}'."},The_left_hand_side_of_a_for_of_statement_cannot_use_a_type_annotation:{code:2483,category:ts.DiagnosticCategory.Error,key:"The_left_hand_side_of_a_for_of_statement_cannot_use_a_type_annotation_2483",message:"The left-hand side of a 'for...of' statement cannot use a type annotation."},Export_declaration_conflicts_with_exported_declaration_of_0:{code:2484,category:ts.DiagnosticCategory.Error,key:"Export_declaration_conflicts_with_exported_declaration_of_0_2484",message:"Export declaration conflicts with exported declaration of '{0}'"},The_left_hand_side_of_a_for_of_statement_cannot_be_a_constant_or_a_read_only_property:{code:2485,category:ts.DiagnosticCategory.Error,key:"The_left_hand_side_of_a_for_of_statement_cannot_be_a_constant_or_a_read_only_property_2485",message:"The left-hand side of a 'for...of' statement cannot be a constant or a read-only property."},The_left_hand_side_of_a_for_in_statement_cannot_be_a_constant_or_a_read_only_property:{code:2486,category:ts.DiagnosticCategory.Error,key:"The_left_hand_side_of_a_for_in_statement_cannot_be_a_constant_or_a_read_only_property_2486",message:"The left-hand side of a 'for...in' statement cannot be a constant or a read-only property."},Invalid_left_hand_side_in_for_of_statement:{code:2487,category:ts.DiagnosticCategory.Error,key:"Invalid_left_hand_side_in_for_of_statement_2487",message:"Invalid left-hand side in 'for...of' statement."},Type_must_have_a_Symbol_iterator_method_that_returns_an_iterator:{code:2488,category:ts.DiagnosticCategory.Error,key:"Type_must_have_a_Symbol_iterator_method_that_returns_an_iterator_2488",message:"Type must have a '[Symbol.iterator]()' method that returns an iterator."},An_iterator_must_have_a_next_method:{code:2489,category:ts.DiagnosticCategory.Error,key:"An_iterator_must_have_a_next_method_2489",message:"An iterator must have a 'next()' method."},The_type_returned_by_the_next_method_of_an_iterator_must_have_a_value_property:{code:2490,category:ts.DiagnosticCategory.Error,key:"The_type_returned_by_the_next_method_of_an_iterator_must_have_a_value_property_2490",message:"The type returned by the 'next()' method of an iterator must have a 'value' property."},The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern:{code:2491,category:ts.DiagnosticCategory.Error,key:"The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern_2491",message:"The left-hand side of a 'for...in' statement cannot be a destructuring pattern."},Cannot_redeclare_identifier_0_in_catch_clause:{code:2492,category:ts.DiagnosticCategory.Error,key:"Cannot_redeclare_identifier_0_in_catch_clause_2492",message:"Cannot redeclare identifier '{0}' in catch clause"},Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2:{code:2493,category:ts.DiagnosticCategory.Error,key:"Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2_2493",message:"Tuple type '{0}' with length '{1}' cannot be assigned to tuple with length '{2}'."},Using_a_string_in_a_for_of_statement_is_only_supported_in_ECMAScript_5_and_higher:{code:2494,category:ts.DiagnosticCategory.Error,key:"Using_a_string_in_a_for_of_statement_is_only_supported_in_ECMAScript_5_and_higher_2494",message:"Using a string in a 'for...of' statement is only supported in ECMAScript 5 and higher."},Type_0_is_not_an_array_type_or_a_string_type:{code:2495,category:ts.DiagnosticCategory.Error,key:"Type_0_is_not_an_array_type_or_a_string_type_2495",message:"Type '{0}' is not an array type or a string type."},The_arguments_object_cannot_be_referenced_in_an_arrow_function_in_ES3_and_ES5_Consider_using_a_standard_function_expression:{code:2496,category:ts.DiagnosticCategory.Error,key:"The_arguments_object_cannot_be_referenced_in_an_arrow_function_in_ES3_and_ES5_Consider_using_a_stand_2496",message:"The 'arguments' object cannot be referenced in an arrow function in ES3 and ES5. Consider using a standard function expression."},Module_0_resolves_to_a_non_module_entity_and_cannot_be_imported_using_this_construct:{code:2497,category:ts.DiagnosticCategory.Error,key:"Module_0_resolves_to_a_non_module_entity_and_cannot_be_imported_using_this_construct_2497",message:"Module '{0}' resolves to a non-module entity and cannot be imported using this construct."},Module_0_uses_export_and_cannot_be_used_with_export_Asterisk:{code:2498,category:ts.DiagnosticCategory.Error,key:"Module_0_uses_export_and_cannot_be_used_with_export_Asterisk_2498",message:"Module '{0}' uses 'export =' and cannot be used with 'export *'."},An_interface_can_only_extend_an_identifier_Slashqualified_name_with_optional_type_arguments:{code:2499,category:ts.DiagnosticCategory.Error,key:"An_interface_can_only_extend_an_identifier_Slashqualified_name_with_optional_type_arguments_2499",message:"An interface can only extend an identifier/qualified-name with optional type arguments."},A_class_can_only_implement_an_identifier_Slashqualified_name_with_optional_type_arguments:{code:2500,category:ts.DiagnosticCategory.Error,key:"A_class_can_only_implement_an_identifier_Slashqualified_name_with_optional_type_arguments_2500",message:"A class can only implement an identifier/qualified-name with optional type arguments."},A_rest_element_cannot_contain_a_binding_pattern:{code:2501,category:ts.DiagnosticCategory.Error,key:"A_rest_element_cannot_contain_a_binding_pattern_2501",message:"A rest element cannot contain a binding pattern."},_0_is_referenced_directly_or_indirectly_in_its_own_type_annotation:{code:2502,category:ts.DiagnosticCategory.Error,key:"_0_is_referenced_directly_or_indirectly_in_its_own_type_annotation_2502",message:"'{0}' is referenced directly or indirectly in its own type annotation."},Cannot_find_namespace_0:{code:2503,category:ts.DiagnosticCategory.Error,key:"Cannot_find_namespace_0_2503",message:"Cannot find namespace '{0}'."},No_best_common_type_exists_among_yield_expressions:{code:2504,category:ts.DiagnosticCategory.Error,key:"No_best_common_type_exists_among_yield_expressions_2504",message:"No best common type exists among yield expressions."},A_generator_cannot_have_a_void_type_annotation:{code:2505,category:ts.DiagnosticCategory.Error,key:"A_generator_cannot_have_a_void_type_annotation_2505",message:"A generator cannot have a 'void' type annotation."},_0_is_referenced_directly_or_indirectly_in_its_own_base_expression:{code:2506,category:ts.DiagnosticCategory.Error,key:"_0_is_referenced_directly_or_indirectly_in_its_own_base_expression_2506",message:"'{0}' is referenced directly or indirectly in its own base expression."},Type_0_is_not_a_constructor_function_type:{code:2507,category:ts.DiagnosticCategory.Error,key:"Type_0_is_not_a_constructor_function_type_2507",message:"Type '{0}' is not a constructor function type."},No_base_constructor_has_the_specified_number_of_type_arguments:{code:2508,category:ts.DiagnosticCategory.Error,key:"No_base_constructor_has_the_specified_number_of_type_arguments_2508",message:"No base constructor has the specified number of type arguments."},Base_constructor_return_type_0_is_not_a_class_or_interface_type:{code:2509,category:ts.DiagnosticCategory.Error,key:"Base_constructor_return_type_0_is_not_a_class_or_interface_type_2509",message:"Base constructor return type '{0}' is not a class or interface type."},Base_constructors_must_all_have_the_same_return_type:{code:2510,category:ts.DiagnosticCategory.Error,key:"Base_constructors_must_all_have_the_same_return_type_2510",message:"Base constructors must all have the same return type."},Cannot_create_an_instance_of_the_abstract_class_0:{code:2511,category:ts.DiagnosticCategory.Error,key:"Cannot_create_an_instance_of_the_abstract_class_0_2511",message:"Cannot create an instance of the abstract class '{0}'."},Overload_signatures_must_all_be_abstract_or_non_abstract:{code:2512,category:ts.DiagnosticCategory.Error,key:"Overload_signatures_must_all_be_abstract_or_non_abstract_2512",message:"Overload signatures must all be abstract or non-abstract."},Abstract_method_0_in_class_1_cannot_be_accessed_via_super_expression:{code:2513,category:ts.DiagnosticCategory.Error,key:"Abstract_method_0_in_class_1_cannot_be_accessed_via_super_expression_2513",message:"Abstract method '{0}' in class '{1}' cannot be accessed via super expression."},Classes_containing_abstract_methods_must_be_marked_abstract:{code:2514,category:ts.DiagnosticCategory.Error,key:"Classes_containing_abstract_methods_must_be_marked_abstract_2514",message:"Classes containing abstract methods must be marked abstract."},Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_class_2:{code:2515,category:ts.DiagnosticCategory.Error,key:"Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_class_2_2515",message:"Non-abstract class '{0}' does not implement inherited abstract member '{1}' from class '{2}'."},All_declarations_of_an_abstract_method_must_be_consecutive:{code:2516,category:ts.DiagnosticCategory.Error,key:"All_declarations_of_an_abstract_method_must_be_consecutive_2516",message:"All declarations of an abstract method must be consecutive."},Cannot_assign_an_abstract_constructor_type_to_a_non_abstract_constructor_type:{code:2517,category:ts.DiagnosticCategory.Error,key:"Cannot_assign_an_abstract_constructor_type_to_a_non_abstract_constructor_type_2517",message:"Cannot assign an abstract constructor type to a non-abstract constructor type."},A_this_based_type_guard_is_not_compatible_with_a_parameter_based_type_guard:{code:2518,category:ts.DiagnosticCategory.Error,key:"A_this_based_type_guard_is_not_compatible_with_a_parameter_based_type_guard_2518",message:"A 'this'-based type guard is not compatible with a parameter-based type guard."},Duplicate_identifier_0_Compiler_uses_declaration_1_to_support_async_functions:{code:2520,category:ts.DiagnosticCategory.Error,key:"Duplicate_identifier_0_Compiler_uses_declaration_1_to_support_async_functions_2520",message:"Duplicate identifier '{0}'. Compiler uses declaration '{1}' to support async functions."},Expression_resolves_to_variable_declaration_0_that_compiler_uses_to_support_async_functions:{code:2521,category:ts.DiagnosticCategory.Error,key:"Expression_resolves_to_variable_declaration_0_that_compiler_uses_to_support_async_functions_2521",message:"Expression resolves to variable declaration '{0}' that compiler uses to support async functions."},The_arguments_object_cannot_be_referenced_in_an_async_arrow_function_Consider_using_a_standard_async_function_expression:{code:2522,category:ts.DiagnosticCategory.Error,key:"The_arguments_object_cannot_be_referenced_in_an_async_arrow_function_Consider_using_a_standard_async_2522",message:"The 'arguments' object cannot be referenced in an async arrow function. Consider using a standard async function expression."},yield_expressions_cannot_be_used_in_a_parameter_initializer:{code:2523,category:ts.DiagnosticCategory.Error,key:"yield_expressions_cannot_be_used_in_a_parameter_initializer_2523",message:"'yield' expressions cannot be used in a parameter initializer."},await_expressions_cannot_be_used_in_a_parameter_initializer:{code:2524,category:ts.DiagnosticCategory.Error,key:"await_expressions_cannot_be_used_in_a_parameter_initializer_2524",message:"'await' expressions cannot be used in a parameter initializer."},Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value:{code:2525,category:ts.DiagnosticCategory.Error,key:"Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value_2525",message:"Initializer provides no value for this binding element and the binding element has no default value."},A_this_type_is_available_only_in_a_non_static_member_of_a_class_or_interface:{code:2526,category:ts.DiagnosticCategory.Error,key:"A_this_type_is_available_only_in_a_non_static_member_of_a_class_or_interface_2526",message:"A 'this' type is available only in a non-static member of a class or interface."},The_inferred_type_of_0_references_an_inaccessible_this_type_A_type_annotation_is_necessary:{code:2527,category:ts.DiagnosticCategory.Error,key:"The_inferred_type_of_0_references_an_inaccessible_this_type_A_type_annotation_is_necessary_2527",message:"The inferred type of '{0}' references an inaccessible 'this' type. A type annotation is necessary."},A_module_cannot_have_multiple_default_exports:{code:2528,category:ts.DiagnosticCategory.Error,key:"A_module_cannot_have_multiple_default_exports_2528",message:"A module cannot have multiple default exports."},Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module_containing_async_functions:{code:2529,category:ts.DiagnosticCategory.Error,key:"Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module_containing_async_func_2529",message:"Duplicate identifier '{0}'. Compiler reserves name '{1}' in top level scope of a module containing async functions."},Property_0_is_incompatible_with_index_signature:{code:2530,category:ts.DiagnosticCategory.Error,key:"Property_0_is_incompatible_with_index_signature_2530",message:"Property '{0}' is incompatible with index signature."},Object_is_possibly_null:{code:2531,category:ts.DiagnosticCategory.Error,key:"Object_is_possibly_null_2531",message:"Object is possibly 'null'."},Object_is_possibly_undefined:{code:2532,category:ts.DiagnosticCategory.Error,key:"Object_is_possibly_undefined_2532",message:"Object is possibly 'undefined'."},Object_is_possibly_null_or_undefined:{code:2533,category:ts.DiagnosticCategory.Error,key:"Object_is_possibly_null_or_undefined_2533",message:"Object is possibly 'null' or 'undefined'."},A_function_returning_never_cannot_have_a_reachable_end_point:{code:2534,category:ts.DiagnosticCategory.Error,key:"A_function_returning_never_cannot_have_a_reachable_end_point_2534",message:"A function returning 'never' cannot have a reachable end point."},Enum_type_0_has_members_with_initializers_that_are_not_literals:{code:2535,category:ts.DiagnosticCategory.Error,key:"Enum_type_0_has_members_with_initializers_that_are_not_literals_2535",message:"Enum type '{0}' has members with initializers that are not literals."},JSX_element_attributes_type_0_may_not_be_a_union_type:{code:2600,category:ts.DiagnosticCategory.Error,key:"JSX_element_attributes_type_0_may_not_be_a_union_type_2600",message:"JSX element attributes type '{0}' may not be a union type."},The_return_type_of_a_JSX_element_constructor_must_return_an_object_type:{code:2601,category:ts.DiagnosticCategory.Error,key:"The_return_type_of_a_JSX_element_constructor_must_return_an_object_type_2601",message:"The return type of a JSX element constructor must return an object type."},JSX_element_implicitly_has_type_any_because_the_global_type_JSX_Element_does_not_exist:{code:2602,category:ts.DiagnosticCategory.Error,key:"JSX_element_implicitly_has_type_any_because_the_global_type_JSX_Element_does_not_exist_2602",message:"JSX element implicitly has type 'any' because the global type 'JSX.Element' does not exist."},Property_0_in_type_1_is_not_assignable_to_type_2:{code:2603,category:ts.DiagnosticCategory.Error,key:"Property_0_in_type_1_is_not_assignable_to_type_2_2603",message:"Property '{0}' in type '{1}' is not assignable to type '{2}'"},JSX_element_type_0_does_not_have_any_construct_or_call_signatures:{code:2604,category:ts.DiagnosticCategory.Error,key:"JSX_element_type_0_does_not_have_any_construct_or_call_signatures_2604",message:"JSX element type '{0}' does not have any construct or call signatures."},JSX_element_type_0_is_not_a_constructor_function_for_JSX_elements:{code:2605,category:ts.DiagnosticCategory.Error,key:"JSX_element_type_0_is_not_a_constructor_function_for_JSX_elements_2605",message:"JSX element type '{0}' is not a constructor function for JSX elements."},Property_0_of_JSX_spread_attribute_is_not_assignable_to_target_property:{code:2606,category:ts.DiagnosticCategory.Error,key:"Property_0_of_JSX_spread_attribute_is_not_assignable_to_target_property_2606",message:"Property '{0}' of JSX spread attribute is not assignable to target property."},JSX_element_class_does_not_support_attributes_because_it_does_not_have_a_0_property:{code:2607,category:ts.DiagnosticCategory.Error,key:"JSX_element_class_does_not_support_attributes_because_it_does_not_have_a_0_property_2607",message:"JSX element class does not support attributes because it does not have a '{0}' property"},The_global_type_JSX_0_may_not_have_more_than_one_property:{code:2608,category:ts.DiagnosticCategory.Error,key:"The_global_type_JSX_0_may_not_have_more_than_one_property_2608",message:"The global type 'JSX.{0}' may not have more than one property"},Cannot_emit_namespaced_JSX_elements_in_React:{code:2650,category:ts.DiagnosticCategory.Error,key:"Cannot_emit_namespaced_JSX_elements_in_React_2650",message:"Cannot emit namespaced JSX elements in React"},A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_members_defined_in_other_enums:{code:2651,category:ts.DiagnosticCategory.Error,key:"A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_memb_2651",message:"A member initializer in a enum declaration cannot reference members declared after it, including members defined in other enums."},Merged_declaration_0_cannot_include_a_default_export_declaration_Consider_adding_a_separate_export_default_0_declaration_instead:{code:2652,category:ts.DiagnosticCategory.Error,key:"Merged_declaration_0_cannot_include_a_default_export_declaration_Consider_adding_a_separate_export_d_2652",message:"Merged declaration '{0}' cannot include a default export declaration. Consider adding a separate 'export default {0}' declaration instead."},Non_abstract_class_expression_does_not_implement_inherited_abstract_member_0_from_class_1:{code:2653,category:ts.DiagnosticCategory.Error,key:"Non_abstract_class_expression_does_not_implement_inherited_abstract_member_0_from_class_1_2653",message:"Non-abstract class expression does not implement inherited abstract member '{0}' from class '{1}'."},Exported_external_package_typings_file_cannot_contain_tripleslash_references_Please_contact_the_package_author_to_update_the_package_definition:{code:2654,category:ts.DiagnosticCategory.Error,key:"Exported_external_package_typings_file_cannot_contain_tripleslash_references_Please_contact_the_pack_2654",message:"Exported external package typings file cannot contain tripleslash references. Please contact the package author to update the package definition."},Exported_external_package_typings_file_0_is_not_a_module_Please_contact_the_package_author_to_update_the_package_definition:{code:2656,category:ts.DiagnosticCategory.Error,key:"Exported_external_package_typings_file_0_is_not_a_module_Please_contact_the_package_author_to_update_2656",message:"Exported external package typings file '{0}' is not a module. Please contact the package author to update the package definition."},JSX_expressions_must_have_one_parent_element:{
code:2657,category:ts.DiagnosticCategory.Error,key:"JSX_expressions_must_have_one_parent_element_2657",message:"JSX expressions must have one parent element"},Type_0_provides_no_match_for_the_signature_1:{code:2658,category:ts.DiagnosticCategory.Error,key:"Type_0_provides_no_match_for_the_signature_1_2658",message:"Type '{0}' provides no match for the signature '{1}'"},super_is_only_allowed_in_members_of_object_literal_expressions_when_option_target_is_ES2015_or_higher:{code:2659,category:ts.DiagnosticCategory.Error,key:"super_is_only_allowed_in_members_of_object_literal_expressions_when_option_target_is_ES2015_or_highe_2659",message:"'super' is only allowed in members of object literal expressions when option 'target' is 'ES2015' or higher."},super_can_only_be_referenced_in_members_of_derived_classes_or_object_literal_expressions:{code:2660,category:ts.DiagnosticCategory.Error,key:"super_can_only_be_referenced_in_members_of_derived_classes_or_object_literal_expressions_2660",message:"'super' can only be referenced in members of derived classes or object literal expressions."},Cannot_export_0_Only_local_declarations_can_be_exported_from_a_module:{code:2661,category:ts.DiagnosticCategory.Error,key:"Cannot_export_0_Only_local_declarations_can_be_exported_from_a_module_2661",message:"Cannot export '{0}'. Only local declarations can be exported from a module."},Cannot_find_name_0_Did_you_mean_the_static_member_1_0:{code:2662,category:ts.DiagnosticCategory.Error,key:"Cannot_find_name_0_Did_you_mean_the_static_member_1_0_2662",message:"Cannot find name '{0}'. Did you mean the static member '{1}.{0}'?"},Cannot_find_name_0_Did_you_mean_the_instance_member_this_0:{code:2663,category:ts.DiagnosticCategory.Error,key:"Cannot_find_name_0_Did_you_mean_the_instance_member_this_0_2663",message:"Cannot find name '{0}'. Did you mean the instance member 'this.{0}'?"},Invalid_module_name_in_augmentation_module_0_cannot_be_found:{code:2664,category:ts.DiagnosticCategory.Error,key:"Invalid_module_name_in_augmentation_module_0_cannot_be_found_2664",message:"Invalid module name in augmentation, module '{0}' cannot be found."},Exports_and_export_assignments_are_not_permitted_in_module_augmentations:{code:2666,category:ts.DiagnosticCategory.Error,key:"Exports_and_export_assignments_are_not_permitted_in_module_augmentations_2666",message:"Exports and export assignments are not permitted in module augmentations."},Imports_are_not_permitted_in_module_augmentations_Consider_moving_them_to_the_enclosing_external_module:{code:2667,category:ts.DiagnosticCategory.Error,key:"Imports_are_not_permitted_in_module_augmentations_Consider_moving_them_to_the_enclosing_external_mod_2667",message:"Imports are not permitted in module augmentations. Consider moving them to the enclosing external module."},export_modifier_cannot_be_applied_to_ambient_modules_and_module_augmentations_since_they_are_always_visible:{code:2668,category:ts.DiagnosticCategory.Error,key:"export_modifier_cannot_be_applied_to_ambient_modules_and_module_augmentations_since_they_are_always__2668",message:"'export' modifier cannot be applied to ambient modules and module augmentations since they are always visible."},Augmentations_for_the_global_scope_can_only_be_directly_nested_in_external_modules_or_ambient_module_declarations:{code:2669,category:ts.DiagnosticCategory.Error,key:"Augmentations_for_the_global_scope_can_only_be_directly_nested_in_external_modules_or_ambient_module_2669",message:"Augmentations for the global scope can only be directly nested in external modules or ambient module declarations."},Augmentations_for_the_global_scope_should_have_declare_modifier_unless_they_appear_in_already_ambient_context:{code:2670,category:ts.DiagnosticCategory.Error,key:"Augmentations_for_the_global_scope_should_have_declare_modifier_unless_they_appear_in_already_ambien_2670",message:"Augmentations for the global scope should have 'declare' modifier unless they appear in already ambient context."},Cannot_augment_module_0_because_it_resolves_to_a_non_module_entity:{code:2671,category:ts.DiagnosticCategory.Error,key:"Cannot_augment_module_0_because_it_resolves_to_a_non_module_entity_2671",message:"Cannot augment module '{0}' because it resolves to a non-module entity."},Cannot_assign_a_0_constructor_type_to_a_1_constructor_type:{code:2672,category:ts.DiagnosticCategory.Error,key:"Cannot_assign_a_0_constructor_type_to_a_1_constructor_type_2672",message:"Cannot assign a '{0}' constructor type to a '{1}' constructor type."},Constructor_of_class_0_is_private_and_only_accessible_within_the_class_declaration:{code:2673,category:ts.DiagnosticCategory.Error,key:"Constructor_of_class_0_is_private_and_only_accessible_within_the_class_declaration_2673",message:"Constructor of class '{0}' is private and only accessible within the class declaration."},Constructor_of_class_0_is_protected_and_only_accessible_within_the_class_declaration:{code:2674,category:ts.DiagnosticCategory.Error,key:"Constructor_of_class_0_is_protected_and_only_accessible_within_the_class_declaration_2674",message:"Constructor of class '{0}' is protected and only accessible within the class declaration."},Cannot_extend_a_class_0_Class_constructor_is_marked_as_private:{code:2675,category:ts.DiagnosticCategory.Error,key:"Cannot_extend_a_class_0_Class_constructor_is_marked_as_private_2675",message:"Cannot extend a class '{0}'. Class constructor is marked as private."},Accessors_must_both_be_abstract_or_non_abstract:{code:2676,category:ts.DiagnosticCategory.Error,key:"Accessors_must_both_be_abstract_or_non_abstract_2676",message:"Accessors must both be abstract or non-abstract."},A_type_predicate_s_type_must_be_assignable_to_its_parameter_s_type:{code:2677,category:ts.DiagnosticCategory.Error,key:"A_type_predicate_s_type_must_be_assignable_to_its_parameter_s_type_2677",message:"A type predicate's type must be assignable to its parameter's type."},Type_0_is_not_comparable_to_type_1:{code:2678,category:ts.DiagnosticCategory.Error,key:"Type_0_is_not_comparable_to_type_1_2678",message:"Type '{0}' is not comparable to type '{1}'."},A_function_that_is_called_with_the_new_keyword_cannot_have_a_this_type_that_is_void:{code:2679,category:ts.DiagnosticCategory.Error,key:"A_function_that_is_called_with_the_new_keyword_cannot_have_a_this_type_that_is_void_2679",message:"A function that is called with the 'new' keyword cannot have a 'this' type that is 'void'."},A_this_parameter_must_be_the_first_parameter:{code:2680,category:ts.DiagnosticCategory.Error,key:"A_this_parameter_must_be_the_first_parameter_2680",message:"A 'this' parameter must be the first parameter."},A_constructor_cannot_have_a_this_parameter:{code:2681,category:ts.DiagnosticCategory.Error,key:"A_constructor_cannot_have_a_this_parameter_2681",message:"A constructor cannot have a 'this' parameter."},get_and_set_accessor_must_have_the_same_this_type:{code:2682,category:ts.DiagnosticCategory.Error,key:"get_and_set_accessor_must_have_the_same_this_type_2682",message:"'get' and 'set' accessor must have the same 'this' type."},this_implicitly_has_type_any_because_it_does_not_have_a_type_annotation:{code:2683,category:ts.DiagnosticCategory.Error,key:"this_implicitly_has_type_any_because_it_does_not_have_a_type_annotation_2683",message:"'this' implicitly has type 'any' because it does not have a type annotation."},The_this_context_of_type_0_is_not_assignable_to_method_s_this_of_type_1:{code:2684,category:ts.DiagnosticCategory.Error,key:"The_this_context_of_type_0_is_not_assignable_to_method_s_this_of_type_1_2684",message:"The 'this' context of type '{0}' is not assignable to method's 'this' of type '{1}'."},The_this_types_of_each_signature_are_incompatible:{code:2685,category:ts.DiagnosticCategory.Error,key:"The_this_types_of_each_signature_are_incompatible_2685",message:"The 'this' types of each signature are incompatible."},Identifier_0_must_be_imported_from_a_module:{code:2686,category:ts.DiagnosticCategory.Error,key:"Identifier_0_must_be_imported_from_a_module_2686",message:"Identifier '{0}' must be imported from a module"},All_declarations_of_0_must_have_identical_modifiers:{code:2687,category:ts.DiagnosticCategory.Error,key:"All_declarations_of_0_must_have_identical_modifiers_2687",message:"All declarations of '{0}' must have identical modifiers."},Cannot_find_type_definition_file_for_0:{code:2688,category:ts.DiagnosticCategory.Error,key:"Cannot_find_type_definition_file_for_0_2688",message:"Cannot find type definition file for '{0}'."},Cannot_extend_an_interface_0_Did_you_mean_implements:{code:2689,category:ts.DiagnosticCategory.Error,key:"Cannot_extend_an_interface_0_Did_you_mean_implements_2689",message:"Cannot extend an interface '{0}'. Did you mean 'implements'?"},A_class_must_be_declared_after_its_base_class:{code:2690,category:ts.DiagnosticCategory.Error,key:"A_class_must_be_declared_after_its_base_class_2690",message:"A class must be declared after its base class."},An_import_path_cannot_end_with_a_0_extension_Consider_importing_1_instead:{code:2691,category:ts.DiagnosticCategory.Error,key:"An_import_path_cannot_end_with_a_0_extension_Consider_importing_1_instead_2691",message:"An import path cannot end with a '{0}' extension. Consider importing '{1}' instead."},_0_is_a_primitive_but_1_is_a_wrapper_object_Prefer_using_0_when_possible:{code:2692,category:ts.DiagnosticCategory.Error,key:"_0_is_a_primitive_but_1_is_a_wrapper_object_Prefer_using_0_when_possible_2692",message:"'{0}' is a primitive, but '{1}' is a wrapper object. Prefer using '{0}' when possible."},Import_declaration_0_is_using_private_name_1:{code:4e3,category:ts.DiagnosticCategory.Error,key:"Import_declaration_0_is_using_private_name_1_4000",message:"Import declaration '{0}' is using private name '{1}'."},Type_parameter_0_of_exported_class_has_or_is_using_private_name_1:{code:4002,category:ts.DiagnosticCategory.Error,key:"Type_parameter_0_of_exported_class_has_or_is_using_private_name_1_4002",message:"Type parameter '{0}' of exported class has or is using private name '{1}'."},Type_parameter_0_of_exported_interface_has_or_is_using_private_name_1:{code:4004,category:ts.DiagnosticCategory.Error,key:"Type_parameter_0_of_exported_interface_has_or_is_using_private_name_1_4004",message:"Type parameter '{0}' of exported interface has or is using private name '{1}'."},Type_parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1:{code:4006,category:ts.DiagnosticCategory.Error,key:"Type_parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1_4006",message:"Type parameter '{0}' of constructor signature from exported interface has or is using private name '{1}'."},Type_parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1:{code:4008,category:ts.DiagnosticCategory.Error,key:"Type_parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1_4008",message:"Type parameter '{0}' of call signature from exported interface has or is using private name '{1}'."},Type_parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:{code:4010,category:ts.DiagnosticCategory.Error,key:"Type_parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1_4010",message:"Type parameter '{0}' of public static method from exported class has or is using private name '{1}'."},Type_parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:{code:4012,category:ts.DiagnosticCategory.Error,key:"Type_parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1_4012",message:"Type parameter '{0}' of public method from exported class has or is using private name '{1}'."},Type_parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1:{code:4014,category:ts.DiagnosticCategory.Error,key:"Type_parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1_4014",message:"Type parameter '{0}' of method from exported interface has or is using private name '{1}'."},Type_parameter_0_of_exported_function_has_or_is_using_private_name_1:{code:4016,category:ts.DiagnosticCategory.Error,key:"Type_parameter_0_of_exported_function_has_or_is_using_private_name_1_4016",message:"Type parameter '{0}' of exported function has or is using private name '{1}'."},Implements_clause_of_exported_class_0_has_or_is_using_private_name_1:{code:4019,category:ts.DiagnosticCategory.Error,key:"Implements_clause_of_exported_class_0_has_or_is_using_private_name_1_4019",message:"Implements clause of exported class '{0}' has or is using private name '{1}'."},Extends_clause_of_exported_class_0_has_or_is_using_private_name_1:{code:4020,category:ts.DiagnosticCategory.Error,key:"Extends_clause_of_exported_class_0_has_or_is_using_private_name_1_4020",message:"Extends clause of exported class '{0}' has or is using private name '{1}'."},Extends_clause_of_exported_interface_0_has_or_is_using_private_name_1:{code:4022,category:ts.DiagnosticCategory.Error,key:"Extends_clause_of_exported_interface_0_has_or_is_using_private_name_1_4022",message:"Extends clause of exported interface '{0}' has or is using private name '{1}'."},Exported_variable_0_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4023,category:ts.DiagnosticCategory.Error,key:"Exported_variable_0_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named_4023",message:"Exported variable '{0}' has or is using name '{1}' from external module {2} but cannot be named."},Exported_variable_0_has_or_is_using_name_1_from_private_module_2:{code:4024,category:ts.DiagnosticCategory.Error,key:"Exported_variable_0_has_or_is_using_name_1_from_private_module_2_4024",message:"Exported variable '{0}' has or is using name '{1}' from private module '{2}'."},Exported_variable_0_has_or_is_using_private_name_1:{code:4025,category:ts.DiagnosticCategory.Error,key:"Exported_variable_0_has_or_is_using_private_name_1_4025",message:"Exported variable '{0}' has or is using private name '{1}'."},Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4026,category:ts.DiagnosticCategory.Error,key:"Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot__4026",message:"Public static property '{0}' of exported class has or is using name '{1}' from external module {2} but cannot be named."},Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4027,category:ts.DiagnosticCategory.Error,key:"Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2_4027",message:"Public static property '{0}' of exported class has or is using name '{1}' from private module '{2}'."},Public_static_property_0_of_exported_class_has_or_is_using_private_name_1:{code:4028,category:ts.DiagnosticCategory.Error,key:"Public_static_property_0_of_exported_class_has_or_is_using_private_name_1_4028",message:"Public static property '{0}' of exported class has or is using private name '{1}'."},Public_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4029,category:ts.DiagnosticCategory.Error,key:"Public_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_name_4029",message:"Public property '{0}' of exported class has or is using name '{1}' from external module {2} but cannot be named."},Public_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4030,category:ts.DiagnosticCategory.Error,key:"Public_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2_4030",message:"Public property '{0}' of exported class has or is using name '{1}' from private module '{2}'."},Public_property_0_of_exported_class_has_or_is_using_private_name_1:{code:4031,category:ts.DiagnosticCategory.Error,key:"Public_property_0_of_exported_class_has_or_is_using_private_name_1_4031",message:"Public property '{0}' of exported class has or is using private name '{1}'."},Property_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2:{code:4032,category:ts.DiagnosticCategory.Error,key:"Property_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2_4032",message:"Property '{0}' of exported interface has or is using name '{1}' from private module '{2}'."},Property_0_of_exported_interface_has_or_is_using_private_name_1:{code:4033,category:ts.DiagnosticCategory.Error,key:"Property_0_of_exported_interface_has_or_is_using_private_name_1_4033",message:"Property '{0}' of exported interface has or is using private name '{1}'."},Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4034,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_name_1_from_private_4034",message:"Parameter '{0}' of public static property setter from exported class has or is using name '{1}' from private module '{2}'."},Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_private_name_1:{code:4035,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_private_name_1_4035",message:"Parameter '{0}' of public static property setter from exported class has or is using private name '{1}'."},Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4036,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_4036",message:"Parameter '{0}' of public property setter from exported class has or is using name '{1}' from private module '{2}'."},Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_private_name_1:{code:4037,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_private_name_1_4037",message:"Parameter '{0}' of public property setter from exported class has or is using private name '{1}'."},Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:{code:4038,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_externa_4038",message:"Return type of public static property getter from exported class has or is using name '{0}' from external module {1} but cannot be named."},Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:{code:4039,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_private_4039",message:"Return type of public static property getter from exported class has or is using name '{0}' from private module '{1}'."},Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_name_0:{code:4040,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_name_0_4040",message:"Return type of public static property getter from exported class has or is using private name '{0}'."},Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:{code:4041,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_external_modul_4041",message:"Return type of public property getter from exported class has or is using name '{0}' from external module {1} but cannot be named."},Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:{code:4042,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_4042",message:"Return type of public property getter from exported class has or is using name '{0}' from private module '{1}'."},Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_name_0:{code:4043,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_name_0_4043",message:"Return type of public property getter from exported class has or is using private name '{0}'."},Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:{code:4044,category:ts.DiagnosticCategory.Error,key:"Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_name_0_from_private_mod_4044",message:"Return type of constructor signature from exported interface has or is using name '{0}' from private module '{1}'."},Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_0:{code:4045,category:ts.DiagnosticCategory.Error,key:"Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_0_4045",message:"Return type of constructor signature from exported interface has or is using private name '{0}'."},Return_type_of_call_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:{code:4046,category:ts.DiagnosticCategory.Error,key:"Return_type_of_call_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1_4046",message:"Return type of call signature from exported interface has or is using name '{0}' from private module '{1}'."},Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_name_0:{code:4047,category:ts.DiagnosticCategory.Error,key:"Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_name_0_4047",message:"Return type of call signature from exported interface has or is using private name '{0}'."},Return_type_of_index_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:{code:4048,category:ts.DiagnosticCategory.Error,key:"Return_type_of_index_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1_4048",message:"Return type of index signature from exported interface has or is using name '{0}' from private module '{1}'."},Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_name_0:{code:4049,category:ts.DiagnosticCategory.Error,key:"Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_name_0_4049",message:"Return type of index signature from exported interface has or is using private name '{0}'."},Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:{code:4050,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_external_module__4050",message:"Return type of public static method from exported class has or is using name '{0}' from external module {1} but cannot be named."},Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:{code:4051,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_private_module_1_4051",message:"Return type of public static method from exported class has or is using name '{0}' from private module '{1}'."},Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_name_0:{code:4052,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_name_0_4052",message:"Return type of public static method from exported class has or is using private name '{0}'."},Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:{code:4053,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_c_4053",message:"Return type of public method from exported class has or is using name '{0}' from external module {1} but cannot be named."},Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:{code:4054,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_private_module_1_4054",message:"Return type of public method from exported class has or is using name '{0}' from private module '{1}'."},Return_type_of_public_method_from_exported_class_has_or_is_using_private_name_0:{code:4055,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_method_from_exported_class_has_or_is_using_private_name_0_4055",message:"Return type of public method from exported class has or is using private name '{0}'."},Return_type_of_method_from_exported_interface_has_or_is_using_name_0_from_private_module_1:{code:4056,category:ts.DiagnosticCategory.Error,key:"Return_type_of_method_from_exported_interface_has_or_is_using_name_0_from_private_module_1_4056",message:"Return type of method from exported interface has or is using name '{0}' from private module '{1}'."},Return_type_of_method_from_exported_interface_has_or_is_using_private_name_0:{code:4057,category:ts.DiagnosticCategory.Error,key:"Return_type_of_method_from_exported_interface_has_or_is_using_private_name_0_4057",message:"Return type of method from exported interface has or is using private name '{0}'."},Return_type_of_exported_function_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:{code:4058,category:ts.DiagnosticCategory.Error,key:"Return_type_of_exported_function_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named_4058",message:"Return type of exported function has or is using name '{0}' from external module {1} but cannot be named."},Return_type_of_exported_function_has_or_is_using_name_0_from_private_module_1:{code:4059,category:ts.DiagnosticCategory.Error,key:"Return_type_of_exported_function_has_or_is_using_name_0_from_private_module_1_4059",message:"Return type of exported function has or is using name '{0}' from private module '{1}'."},Return_type_of_exported_function_has_or_is_using_private_name_0:{code:4060,category:ts.DiagnosticCategory.Error,key:"Return_type_of_exported_function_has_or_is_using_private_name_0_4060",message:"Return type of exported function has or is using private name '{0}'."},Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4061,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_can_4061",message:"Parameter '{0}' of constructor from exported class has or is using name '{1}' from external module {2} but cannot be named."},Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4062,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_private_module_2_4062",message:"Parameter '{0}' of constructor from exported class has or is using name '{1}' from private module '{2}'."},Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_name_1:{code:4063,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_name_1_4063",message:"Parameter '{0}' of constructor from exported class has or is using private name '{1}'."},Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:{code:4064,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_name_1_from_private_mod_4064",message:"Parameter '{0}' of constructor signature from exported interface has or is using name '{1}' from private module '{2}'."},Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1:{code:4065,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1_4065",message:"Parameter '{0}' of constructor signature from exported interface has or is using private name '{1}'."},Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:{code:4066,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2_4066",message:"Parameter '{0}' of call signature from exported interface has or is using name '{1}' from private module '{2}'."},Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1:{code:4067,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1_4067",message:"Parameter '{0}' of call signature from exported interface has or is using private name '{1}'."},Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4068,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_external_module__4068",message:"Parameter '{0}' of public static method from exported class has or is using name '{1}' from external module {2} but cannot be named."},Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4069,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_private_module_2_4069",message:"Parameter '{0}' of public static method from exported class has or is using name '{1}' from private module '{2}'."},Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:{code:4070,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1_4070",message:"Parameter '{0}' of public static method from exported class has or is using private name '{1}'."},Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4071,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_c_4071",message:"Parameter '{0}' of public method from exported class has or is using name '{1}' from external module {2} but cannot be named."},Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4072,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_private_module_2_4072",message:"Parameter '{0}' of public method from exported class has or is using name '{1}' from private module '{2}'."},Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:{code:4073,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1_4073",message:"Parameter '{0}' of public method from exported class has or is using private name '{1}'."},Parameter_0_of_method_from_exported_interface_has_or_is_using_name_1_from_private_module_2:{code:4074,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_method_from_exported_interface_has_or_is_using_name_1_from_private_module_2_4074",message:"Parameter '{0}' of method from exported interface has or is using name '{1}' from private module '{2}'."},Parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1:{code:4075,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1_4075",message:"Parameter '{0}' of method from exported interface has or is using private name '{1}'."
},Parameter_0_of_exported_function_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4076,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_exported_function_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named_4076",message:"Parameter '{0}' of exported function has or is using name '{1}' from external module {2} but cannot be named."},Parameter_0_of_exported_function_has_or_is_using_name_1_from_private_module_2:{code:4077,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_exported_function_has_or_is_using_name_1_from_private_module_2_4077",message:"Parameter '{0}' of exported function has or is using name '{1}' from private module '{2}'."},Parameter_0_of_exported_function_has_or_is_using_private_name_1:{code:4078,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_exported_function_has_or_is_using_private_name_1_4078",message:"Parameter '{0}' of exported function has or is using private name '{1}'."},Exported_type_alias_0_has_or_is_using_private_name_1:{code:4081,category:ts.DiagnosticCategory.Error,key:"Exported_type_alias_0_has_or_is_using_private_name_1_4081",message:"Exported type alias '{0}' has or is using private name '{1}'."},Default_export_of_the_module_has_or_is_using_private_name_0:{code:4082,category:ts.DiagnosticCategory.Error,key:"Default_export_of_the_module_has_or_is_using_private_name_0_4082",message:"Default export of the module has or is using private name '{0}'."},Conflicting_definitions_for_0_found_at_1_and_2_Consider_installing_a_specific_version_of_this_library_to_resolve_the_conflict:{code:4090,category:ts.DiagnosticCategory.Message,key:"Conflicting_definitions_for_0_found_at_1_and_2_Consider_installing_a_specific_version_of_this_librar_4090",message:"Conflicting definitions for '{0}' found at '{1}' and '{2}'. Consider installing a specific version of this library to resolve the conflict."},The_current_host_does_not_support_the_0_option:{code:5001,category:ts.DiagnosticCategory.Error,key:"The_current_host_does_not_support_the_0_option_5001",message:"The current host does not support the '{0}' option."},Cannot_find_the_common_subdirectory_path_for_the_input_files:{code:5009,category:ts.DiagnosticCategory.Error,key:"Cannot_find_the_common_subdirectory_path_for_the_input_files_5009",message:"Cannot find the common subdirectory path for the input files."},File_specification_cannot_end_in_a_recursive_directory_wildcard_Asterisk_Asterisk_Colon_0:{code:5010,category:ts.DiagnosticCategory.Error,key:"File_specification_cannot_end_in_a_recursive_directory_wildcard_Asterisk_Asterisk_Colon_0_5010",message:"File specification cannot end in a recursive directory wildcard ('**'): '{0}'."},File_specification_cannot_contain_multiple_recursive_directory_wildcards_Asterisk_Asterisk_Colon_0:{code:5011,category:ts.DiagnosticCategory.Error,key:"File_specification_cannot_contain_multiple_recursive_directory_wildcards_Asterisk_Asterisk_Colon_0_5011",message:"File specification cannot contain multiple recursive directory wildcards ('**'): '{0}'."},Cannot_read_file_0_Colon_1:{code:5012,category:ts.DiagnosticCategory.Error,key:"Cannot_read_file_0_Colon_1_5012",message:"Cannot read file '{0}': {1}"},Unsupported_file_encoding:{code:5013,category:ts.DiagnosticCategory.Error,key:"Unsupported_file_encoding_5013",message:"Unsupported file encoding."},Failed_to_parse_file_0_Colon_1:{code:5014,category:ts.DiagnosticCategory.Error,key:"Failed_to_parse_file_0_Colon_1_5014",message:"Failed to parse file '{0}': {1}."},Unknown_compiler_option_0:{code:5023,category:ts.DiagnosticCategory.Error,key:"Unknown_compiler_option_0_5023",message:"Unknown compiler option '{0}'."},Compiler_option_0_requires_a_value_of_type_1:{code:5024,category:ts.DiagnosticCategory.Error,key:"Compiler_option_0_requires_a_value_of_type_1_5024",message:"Compiler option '{0}' requires a value of type {1}."},Could_not_write_file_0_Colon_1:{code:5033,category:ts.DiagnosticCategory.Error,key:"Could_not_write_file_0_Colon_1_5033",message:"Could not write file '{0}': {1}"},Option_project_cannot_be_mixed_with_source_files_on_a_command_line:{code:5042,category:ts.DiagnosticCategory.Error,key:"Option_project_cannot_be_mixed_with_source_files_on_a_command_line_5042",message:"Option 'project' cannot be mixed with source files on a command line."},Option_isolatedModules_can_only_be_used_when_either_option_module_is_provided_or_option_target_is_ES2015_or_higher:{code:5047,category:ts.DiagnosticCategory.Error,key:"Option_isolatedModules_can_only_be_used_when_either_option_module_is_provided_or_option_target_is_ES_5047",message:"Option 'isolatedModules' can only be used when either option '--module' is provided or option 'target' is 'ES2015' or higher."},Option_0_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided:{code:5051,category:ts.DiagnosticCategory.Error,key:"Option_0_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided_5051",message:"Option '{0} can only be used when either option '--inlineSourceMap' or option '--sourceMap' is provided."},Option_0_cannot_be_specified_without_specifying_option_1:{code:5052,category:ts.DiagnosticCategory.Error,key:"Option_0_cannot_be_specified_without_specifying_option_1_5052",message:"Option '{0}' cannot be specified without specifying option '{1}'."},Option_0_cannot_be_specified_with_option_1:{code:5053,category:ts.DiagnosticCategory.Error,key:"Option_0_cannot_be_specified_with_option_1_5053",message:"Option '{0}' cannot be specified with option '{1}'."},A_tsconfig_json_file_is_already_defined_at_Colon_0:{code:5054,category:ts.DiagnosticCategory.Error,key:"A_tsconfig_json_file_is_already_defined_at_Colon_0_5054",message:"A 'tsconfig.json' file is already defined at: '{0}'."},Cannot_write_file_0_because_it_would_overwrite_input_file:{code:5055,category:ts.DiagnosticCategory.Error,key:"Cannot_write_file_0_because_it_would_overwrite_input_file_5055",message:"Cannot write file '{0}' because it would overwrite input file."},Cannot_write_file_0_because_it_would_be_overwritten_by_multiple_input_files:{code:5056,category:ts.DiagnosticCategory.Error,key:"Cannot_write_file_0_because_it_would_be_overwritten_by_multiple_input_files_5056",message:"Cannot write file '{0}' because it would be overwritten by multiple input files."},Cannot_find_a_tsconfig_json_file_at_the_specified_directory_Colon_0:{code:5057,category:ts.DiagnosticCategory.Error,key:"Cannot_find_a_tsconfig_json_file_at_the_specified_directory_Colon_0_5057",message:"Cannot find a tsconfig.json file at the specified directory: '{0}'"},The_specified_path_does_not_exist_Colon_0:{code:5058,category:ts.DiagnosticCategory.Error,key:"The_specified_path_does_not_exist_Colon_0_5058",message:"The specified path does not exist: '{0}'"},Invalid_value_for_reactNamespace_0_is_not_a_valid_identifier:{code:5059,category:ts.DiagnosticCategory.Error,key:"Invalid_value_for_reactNamespace_0_is_not_a_valid_identifier_5059",message:"Invalid value for '--reactNamespace'. '{0}' is not a valid identifier."},Option_paths_cannot_be_used_without_specifying_baseUrl_option:{code:5060,category:ts.DiagnosticCategory.Error,key:"Option_paths_cannot_be_used_without_specifying_baseUrl_option_5060",message:"Option 'paths' cannot be used without specifying '--baseUrl' option."},Pattern_0_can_have_at_most_one_Asterisk_character:{code:5061,category:ts.DiagnosticCategory.Error,key:"Pattern_0_can_have_at_most_one_Asterisk_character_5061",message:"Pattern '{0}' can have at most one '*' character"},Substitution_0_in_pattern_1_in_can_have_at_most_one_Asterisk_character:{code:5062,category:ts.DiagnosticCategory.Error,key:"Substitution_0_in_pattern_1_in_can_have_at_most_one_Asterisk_character_5062",message:"Substitution '{0}' in pattern '{1}' in can have at most one '*' character"},Substitutions_for_pattern_0_should_be_an_array:{code:5063,category:ts.DiagnosticCategory.Error,key:"Substitutions_for_pattern_0_should_be_an_array_5063",message:"Substitutions for pattern '{0}' should be an array."},Substitution_0_for_pattern_1_has_incorrect_type_expected_string_got_2:{code:5064,category:ts.DiagnosticCategory.Error,key:"Substitution_0_for_pattern_1_has_incorrect_type_expected_string_got_2_5064",message:"Substitution '{0}' for pattern '{1}' has incorrect type, expected 'string', got '{2}'."},File_specification_cannot_contain_a_parent_directory_that_appears_after_a_recursive_directory_wildcard_Asterisk_Asterisk_Colon_0:{code:5065,category:ts.DiagnosticCategory.Error,key:"File_specification_cannot_contain_a_parent_directory_that_appears_after_a_recursive_directory_wildca_5065",message:"File specification cannot contain a parent directory ('..') that appears after a recursive directory wildcard ('**'): '{0}'."},Substitutions_for_pattern_0_shouldn_t_be_an_empty_array:{code:5066,category:ts.DiagnosticCategory.Error,key:"Substitutions_for_pattern_0_shouldn_t_be_an_empty_array_5066",message:"Substitutions for pattern '{0}' shouldn't be an empty array."},Concatenate_and_emit_output_to_single_file:{code:6001,category:ts.DiagnosticCategory.Message,key:"Concatenate_and_emit_output_to_single_file_6001",message:"Concatenate and emit output to single file."},Generates_corresponding_d_ts_file:{code:6002,category:ts.DiagnosticCategory.Message,key:"Generates_corresponding_d_ts_file_6002",message:"Generates corresponding '.d.ts' file."},Specify_the_location_where_debugger_should_locate_map_files_instead_of_generated_locations:{code:6003,category:ts.DiagnosticCategory.Message,key:"Specify_the_location_where_debugger_should_locate_map_files_instead_of_generated_locations_6003",message:"Specify the location where debugger should locate map files instead of generated locations."},Specify_the_location_where_debugger_should_locate_TypeScript_files_instead_of_source_locations:{code:6004,category:ts.DiagnosticCategory.Message,key:"Specify_the_location_where_debugger_should_locate_TypeScript_files_instead_of_source_locations_6004",message:"Specify the location where debugger should locate TypeScript files instead of source locations."},Watch_input_files:{code:6005,category:ts.DiagnosticCategory.Message,key:"Watch_input_files_6005",message:"Watch input files."},Redirect_output_structure_to_the_directory:{code:6006,category:ts.DiagnosticCategory.Message,key:"Redirect_output_structure_to_the_directory_6006",message:"Redirect output structure to the directory."},Do_not_erase_const_enum_declarations_in_generated_code:{code:6007,category:ts.DiagnosticCategory.Message,key:"Do_not_erase_const_enum_declarations_in_generated_code_6007",message:"Do not erase const enum declarations in generated code."},Do_not_emit_outputs_if_any_errors_were_reported:{code:6008,category:ts.DiagnosticCategory.Message,key:"Do_not_emit_outputs_if_any_errors_were_reported_6008",message:"Do not emit outputs if any errors were reported."},Do_not_emit_comments_to_output:{code:6009,category:ts.DiagnosticCategory.Message,key:"Do_not_emit_comments_to_output_6009",message:"Do not emit comments to output."},Do_not_emit_outputs:{code:6010,category:ts.DiagnosticCategory.Message,key:"Do_not_emit_outputs_6010",message:"Do not emit outputs."},Allow_default_imports_from_modules_with_no_default_export_This_does_not_affect_code_emit_just_typechecking:{code:6011,category:ts.DiagnosticCategory.Message,key:"Allow_default_imports_from_modules_with_no_default_export_This_does_not_affect_code_emit_just_typech_6011",message:"Allow default imports from modules with no default export. This does not affect code emit, just typechecking."},Skip_type_checking_of_declaration_files:{code:6012,category:ts.DiagnosticCategory.Message,key:"Skip_type_checking_of_declaration_files_6012",message:"Skip type checking of declaration files."},Specify_ECMAScript_target_version_Colon_ES3_default_ES5_or_ES2015:{code:6015,category:ts.DiagnosticCategory.Message,key:"Specify_ECMAScript_target_version_Colon_ES3_default_ES5_or_ES2015_6015",message:"Specify ECMAScript target version: 'ES3' (default), 'ES5', or 'ES2015'"},Specify_module_code_generation_Colon_commonjs_amd_system_umd_or_es2015:{code:6016,category:ts.DiagnosticCategory.Message,key:"Specify_module_code_generation_Colon_commonjs_amd_system_umd_or_es2015_6016",message:"Specify module code generation: 'commonjs', 'amd', 'system', 'umd' or 'es2015'"},Print_this_message:{code:6017,category:ts.DiagnosticCategory.Message,key:"Print_this_message_6017",message:"Print this message."},Print_the_compiler_s_version:{code:6019,category:ts.DiagnosticCategory.Message,key:"Print_the_compiler_s_version_6019",message:"Print the compiler's version."},Compile_the_project_in_the_given_directory:{code:6020,category:ts.DiagnosticCategory.Message,key:"Compile_the_project_in_the_given_directory_6020",message:"Compile the project in the given directory."},Syntax_Colon_0:{code:6023,category:ts.DiagnosticCategory.Message,key:"Syntax_Colon_0_6023",message:"Syntax: {0}"},options:{code:6024,category:ts.DiagnosticCategory.Message,key:"options_6024",message:"options"},file:{code:6025,category:ts.DiagnosticCategory.Message,key:"file_6025",message:"file"},Examples_Colon_0:{code:6026,category:ts.DiagnosticCategory.Message,key:"Examples_Colon_0_6026",message:"Examples: {0}"},Options_Colon:{code:6027,category:ts.DiagnosticCategory.Message,key:"Options_Colon_6027",message:"Options:"},Version_0:{code:6029,category:ts.DiagnosticCategory.Message,key:"Version_0_6029",message:"Version {0}"},Insert_command_line_options_and_files_from_a_file:{code:6030,category:ts.DiagnosticCategory.Message,key:"Insert_command_line_options_and_files_from_a_file_6030",message:"Insert command line options and files from a file."},File_change_detected_Starting_incremental_compilation:{code:6032,category:ts.DiagnosticCategory.Message,key:"File_change_detected_Starting_incremental_compilation_6032",message:"File change detected. Starting incremental compilation..."},KIND:{code:6034,category:ts.DiagnosticCategory.Message,key:"KIND_6034",message:"KIND"},FILE:{code:6035,category:ts.DiagnosticCategory.Message,key:"FILE_6035",message:"FILE"},VERSION:{code:6036,category:ts.DiagnosticCategory.Message,key:"VERSION_6036",message:"VERSION"},LOCATION:{code:6037,category:ts.DiagnosticCategory.Message,key:"LOCATION_6037",message:"LOCATION"},DIRECTORY:{code:6038,category:ts.DiagnosticCategory.Message,key:"DIRECTORY_6038",message:"DIRECTORY"},Compilation_complete_Watching_for_file_changes:{code:6042,category:ts.DiagnosticCategory.Message,key:"Compilation_complete_Watching_for_file_changes_6042",message:"Compilation complete. Watching for file changes."},Generates_corresponding_map_file:{code:6043,category:ts.DiagnosticCategory.Message,key:"Generates_corresponding_map_file_6043",message:"Generates corresponding '.map' file."},Compiler_option_0_expects_an_argument:{code:6044,category:ts.DiagnosticCategory.Error,key:"Compiler_option_0_expects_an_argument_6044",message:"Compiler option '{0}' expects an argument."},Unterminated_quoted_string_in_response_file_0:{code:6045,category:ts.DiagnosticCategory.Error,key:"Unterminated_quoted_string_in_response_file_0_6045",message:"Unterminated quoted string in response file '{0}'."},Argument_for_0_option_must_be_Colon_1:{code:6046,category:ts.DiagnosticCategory.Error,key:"Argument_for_0_option_must_be_Colon_1_6046",message:"Argument for '{0}' option must be: {1}"},Locale_must_be_of_the_form_language_or_language_territory_For_example_0_or_1:{code:6048,category:ts.DiagnosticCategory.Error,key:"Locale_must_be_of_the_form_language_or_language_territory_For_example_0_or_1_6048",message:"Locale must be of the form <language> or <language>-<territory>. For example '{0}' or '{1}'."},Unsupported_locale_0:{code:6049,category:ts.DiagnosticCategory.Error,key:"Unsupported_locale_0_6049",message:"Unsupported locale '{0}'."},Unable_to_open_file_0:{code:6050,category:ts.DiagnosticCategory.Error,key:"Unable_to_open_file_0_6050",message:"Unable to open file '{0}'."},Corrupted_locale_file_0:{code:6051,category:ts.DiagnosticCategory.Error,key:"Corrupted_locale_file_0_6051",message:"Corrupted locale file {0}."},Raise_error_on_expressions_and_declarations_with_an_implied_any_type:{code:6052,category:ts.DiagnosticCategory.Message,key:"Raise_error_on_expressions_and_declarations_with_an_implied_any_type_6052",message:"Raise error on expressions and declarations with an implied 'any' type."},File_0_not_found:{code:6053,category:ts.DiagnosticCategory.Error,key:"File_0_not_found_6053",message:"File '{0}' not found."},File_0_has_unsupported_extension_The_only_supported_extensions_are_1:{code:6054,category:ts.DiagnosticCategory.Error,key:"File_0_has_unsupported_extension_The_only_supported_extensions_are_1_6054",message:"File '{0}' has unsupported extension. The only supported extensions are {1}."},Suppress_noImplicitAny_errors_for_indexing_objects_lacking_index_signatures:{code:6055,category:ts.DiagnosticCategory.Message,key:"Suppress_noImplicitAny_errors_for_indexing_objects_lacking_index_signatures_6055",message:"Suppress noImplicitAny errors for indexing objects lacking index signatures."},Do_not_emit_declarations_for_code_that_has_an_internal_annotation:{code:6056,category:ts.DiagnosticCategory.Message,key:"Do_not_emit_declarations_for_code_that_has_an_internal_annotation_6056",message:"Do not emit declarations for code that has an '@internal' annotation."},Specify_the_root_directory_of_input_files_Use_to_control_the_output_directory_structure_with_outDir:{code:6058,category:ts.DiagnosticCategory.Message,key:"Specify_the_root_directory_of_input_files_Use_to_control_the_output_directory_structure_with_outDir_6058",message:"Specify the root directory of input files. Use to control the output directory structure with --outDir."},File_0_is_not_under_rootDir_1_rootDir_is_expected_to_contain_all_source_files:{code:6059,category:ts.DiagnosticCategory.Error,key:"File_0_is_not_under_rootDir_1_rootDir_is_expected_to_contain_all_source_files_6059",message:"File '{0}' is not under 'rootDir' '{1}'. 'rootDir' is expected to contain all source files."},Specify_the_end_of_line_sequence_to_be_used_when_emitting_files_Colon_CRLF_dos_or_LF_unix:{code:6060,category:ts.DiagnosticCategory.Message,key:"Specify_the_end_of_line_sequence_to_be_used_when_emitting_files_Colon_CRLF_dos_or_LF_unix_6060",message:"Specify the end of line sequence to be used when emitting files: 'CRLF' (dos) or 'LF' (unix)."},NEWLINE:{code:6061,category:ts.DiagnosticCategory.Message,key:"NEWLINE_6061",message:"NEWLINE"},Option_0_can_only_be_specified_in_tsconfig_json_file:{code:6064,category:ts.DiagnosticCategory.Error,key:"Option_0_can_only_be_specified_in_tsconfig_json_file_6064",message:"Option '{0}' can only be specified in 'tsconfig.json' file."},Enables_experimental_support_for_ES7_decorators:{code:6065,category:ts.DiagnosticCategory.Message,key:"Enables_experimental_support_for_ES7_decorators_6065",message:"Enables experimental support for ES7 decorators."},Enables_experimental_support_for_emitting_type_metadata_for_decorators:{code:6066,category:ts.DiagnosticCategory.Message,key:"Enables_experimental_support_for_emitting_type_metadata_for_decorators_6066",message:"Enables experimental support for emitting type metadata for decorators."},Enables_experimental_support_for_ES7_async_functions:{code:6068,category:ts.DiagnosticCategory.Message,key:"Enables_experimental_support_for_ES7_async_functions_6068",message:"Enables experimental support for ES7 async functions."},Specify_module_resolution_strategy_Colon_node_Node_js_or_classic_TypeScript_pre_1_6:{code:6069,category:ts.DiagnosticCategory.Message,key:"Specify_module_resolution_strategy_Colon_node_Node_js_or_classic_TypeScript_pre_1_6_6069",message:"Specify module resolution strategy: 'node' (Node.js) or 'classic' (TypeScript pre-1.6)."},Initializes_a_TypeScript_project_and_creates_a_tsconfig_json_file:{code:6070,category:ts.DiagnosticCategory.Message,key:"Initializes_a_TypeScript_project_and_creates_a_tsconfig_json_file_6070",message:"Initializes a TypeScript project and creates a tsconfig.json file."},Successfully_created_a_tsconfig_json_file:{code:6071,category:ts.DiagnosticCategory.Message,key:"Successfully_created_a_tsconfig_json_file_6071",message:"Successfully created a tsconfig.json file."},Suppress_excess_property_checks_for_object_literals:{code:6072,category:ts.DiagnosticCategory.Message,key:"Suppress_excess_property_checks_for_object_literals_6072",message:"Suppress excess property checks for object literals."},Stylize_errors_and_messages_using_color_and_context_experimental:{code:6073,category:ts.DiagnosticCategory.Message,key:"Stylize_errors_and_messages_using_color_and_context_experimental_6073",message:"Stylize errors and messages using color and context. (experimental)"},Do_not_report_errors_on_unused_labels:{code:6074,category:ts.DiagnosticCategory.Message,key:"Do_not_report_errors_on_unused_labels_6074",message:"Do not report errors on unused labels."},Report_error_when_not_all_code_paths_in_function_return_a_value:{code:6075,category:ts.DiagnosticCategory.Message,key:"Report_error_when_not_all_code_paths_in_function_return_a_value_6075",message:"Report error when not all code paths in function return a value."},Report_errors_for_fallthrough_cases_in_switch_statement:{code:6076,category:ts.DiagnosticCategory.Message,key:"Report_errors_for_fallthrough_cases_in_switch_statement_6076",message:"Report errors for fallthrough cases in switch statement."},Do_not_report_errors_on_unreachable_code:{code:6077,category:ts.DiagnosticCategory.Message,key:"Do_not_report_errors_on_unreachable_code_6077",message:"Do not report errors on unreachable code."},Disallow_inconsistently_cased_references_to_the_same_file:{code:6078,category:ts.DiagnosticCategory.Message,key:"Disallow_inconsistently_cased_references_to_the_same_file_6078",message:"Disallow inconsistently-cased references to the same file."},Specify_library_files_to_be_included_in_the_compilation_Colon:{code:6079,category:ts.DiagnosticCategory.Message,key:"Specify_library_files_to_be_included_in_the_compilation_Colon_6079",message:"Specify library files to be included in the compilation: "},Specify_JSX_code_generation_Colon_preserve_or_react:{code:6080,category:ts.DiagnosticCategory.Message,key:"Specify_JSX_code_generation_Colon_preserve_or_react_6080",message:"Specify JSX code generation: 'preserve' or 'react'"},Only_amd_and_system_modules_are_supported_alongside_0:{code:6082,category:ts.DiagnosticCategory.Error,key:"Only_amd_and_system_modules_are_supported_alongside_0_6082",message:"Only 'amd' and 'system' modules are supported alongside --{0}."},Base_directory_to_resolve_non_absolute_module_names:{code:6083,category:ts.DiagnosticCategory.Message,key:"Base_directory_to_resolve_non_absolute_module_names_6083",message:"Base directory to resolve non-absolute module names."},Specify_the_object_invoked_for_createElement_and_spread_when_targeting_react_JSX_emit:{code:6084,category:ts.DiagnosticCategory.Message,key:"Specify_the_object_invoked_for_createElement_and_spread_when_targeting_react_JSX_emit_6084",message:"Specify the object invoked for createElement and __spread when targeting 'react' JSX emit"},Enable_tracing_of_the_name_resolution_process:{code:6085,category:ts.DiagnosticCategory.Message,key:"Enable_tracing_of_the_name_resolution_process_6085",message:"Enable tracing of the name resolution process."},Resolving_module_0_from_1:{code:6086,category:ts.DiagnosticCategory.Message,key:"Resolving_module_0_from_1_6086",message:"======== Resolving module '{0}' from '{1}'. ========"},Explicitly_specified_module_resolution_kind_Colon_0:{code:6087,category:ts.DiagnosticCategory.Message,key:"Explicitly_specified_module_resolution_kind_Colon_0_6087",message:"Explicitly specified module resolution kind: '{0}'."},Module_resolution_kind_is_not_specified_using_0:{code:6088,category:ts.DiagnosticCategory.Message,key:"Module_resolution_kind_is_not_specified_using_0_6088",message:"Module resolution kind is not specified, using '{0}'."},Module_name_0_was_successfully_resolved_to_1:{code:6089,category:ts.DiagnosticCategory.Message,key:"Module_name_0_was_successfully_resolved_to_1_6089",message:"======== Module name '{0}' was successfully resolved to '{1}'. ========"},Module_name_0_was_not_resolved:{code:6090,category:ts.DiagnosticCategory.Message,key:"Module_name_0_was_not_resolved_6090",message:"======== Module name '{0}' was not resolved. ========"},paths_option_is_specified_looking_for_a_pattern_to_match_module_name_0:{code:6091,category:ts.DiagnosticCategory.Message,key:"paths_option_is_specified_looking_for_a_pattern_to_match_module_name_0_6091",message:"'paths' option is specified, looking for a pattern to match module name '{0}'."},Module_name_0_matched_pattern_1:{code:6092,category:ts.DiagnosticCategory.Message,key:"Module_name_0_matched_pattern_1_6092",message:"Module name '{0}', matched pattern '{1}'."},Trying_substitution_0_candidate_module_location_Colon_1:{code:6093,category:ts.DiagnosticCategory.Message,key:"Trying_substitution_0_candidate_module_location_Colon_1_6093",message:"Trying substitution '{0}', candidate module location: '{1}'."},Resolving_module_name_0_relative_to_base_url_1_2:{code:6094,category:ts.DiagnosticCategory.Message,key:"Resolving_module_name_0_relative_to_base_url_1_2_6094",message:"Resolving module name '{0}' relative to base url '{1}' - '{2}'."},Loading_module_as_file_Slash_folder_candidate_module_location_0:{code:6095,category:ts.DiagnosticCategory.Message,key:"Loading_module_as_file_Slash_folder_candidate_module_location_0_6095",message:"Loading module as file / folder, candidate module location '{0}'."},File_0_does_not_exist:{code:6096,category:ts.DiagnosticCategory.Message,key:"File_0_does_not_exist_6096",message:"File '{0}' does not exist."},File_0_exist_use_it_as_a_name_resolution_result:{code:6097,category:ts.DiagnosticCategory.Message,key:"File_0_exist_use_it_as_a_name_resolution_result_6097",message:"File '{0}' exist - use it as a name resolution result."},Loading_module_0_from_node_modules_folder:{code:6098,category:ts.DiagnosticCategory.Message,key:"Loading_module_0_from_node_modules_folder_6098",message:"Loading module '{0}' from 'node_modules' folder."},Found_package_json_at_0:{code:6099,category:ts.DiagnosticCategory.Message,key:"Found_package_json_at_0_6099",message:"Found 'package.json' at '{0}'."},package_json_does_not_have_types_field:{code:6100,category:ts.DiagnosticCategory.Message,key:"package_json_does_not_have_types_field_6100",message:"'package.json' does not have 'types' field."},package_json_has_0_field_1_that_references_2:{code:6101,category:ts.DiagnosticCategory.Message,key:"package_json_has_0_field_1_that_references_2_6101",message:"'package.json' has '{0}' field '{1}' that references '{2}'."},Allow_javascript_files_to_be_compiled:{code:6102,category:ts.DiagnosticCategory.Message,key:"Allow_javascript_files_to_be_compiled_6102",message:"Allow javascript files to be compiled."},Option_0_should_have_array_of_strings_as_a_value:{code:6103,category:ts.DiagnosticCategory.Error,key:"Option_0_should_have_array_of_strings_as_a_value_6103",message:"Option '{0}' should have array of strings as a value."},Checking_if_0_is_the_longest_matching_prefix_for_1_2:{code:6104,category:ts.DiagnosticCategory.Message,key:"Checking_if_0_is_the_longest_matching_prefix_for_1_2_6104",message:"Checking if '{0}' is the longest matching prefix for '{1}' - '{2}'."},Expected_type_of_0_field_in_package_json_to_be_string_got_1:{code:6105,category:ts.DiagnosticCategory.Message,key:"Expected_type_of_0_field_in_package_json_to_be_string_got_1_6105",message:"Expected type of '{0}' field in 'package.json' to be 'string', got '{1}'."},baseUrl_option_is_set_to_0_using_this_value_to_resolve_non_relative_module_name_1:{code:6106,category:ts.DiagnosticCategory.Message,key:"baseUrl_option_is_set_to_0_using_this_value_to_resolve_non_relative_module_name_1_6106",message:"'baseUrl' option is set to '{0}', using this value to resolve non-relative module name '{1}'"},rootDirs_option_is_set_using_it_to_resolve_relative_module_name_0:{code:6107,category:ts.DiagnosticCategory.Message,key:"rootDirs_option_is_set_using_it_to_resolve_relative_module_name_0_6107",message:"'rootDirs' option is set, using it to resolve relative module name '{0}'"},Longest_matching_prefix_for_0_is_1:{code:6108,category:ts.DiagnosticCategory.Message,key:"Longest_matching_prefix_for_0_is_1_6108",message:"Longest matching prefix for '{0}' is '{1}'"},Loading_0_from_the_root_dir_1_candidate_location_2:{code:6109,category:ts.DiagnosticCategory.Message,key:"Loading_0_from_the_root_dir_1_candidate_location_2_6109",message:"Loading '{0}' from the root dir '{1}', candidate location '{2}'"},Trying_other_entries_in_rootDirs:{code:6110,category:ts.DiagnosticCategory.Message,key:"Trying_other_entries_in_rootDirs_6110",message:"Trying other entries in 'rootDirs'"},Module_resolution_using_rootDirs_has_failed:{code:6111,category:ts.DiagnosticCategory.Message,key:"Module_resolution_using_rootDirs_has_failed_6111",message:"Module resolution using 'rootDirs' has failed"},Do_not_emit_use_strict_directives_in_module_output:{code:6112,category:ts.DiagnosticCategory.Message,key:"Do_not_emit_use_strict_directives_in_module_output_6112",message:"Do not emit 'use strict' directives in module output."},Enable_strict_null_checks:{code:6113,category:ts.DiagnosticCategory.Message,key:"Enable_strict_null_checks_6113",message:"Enable strict null checks."},Unknown_option_excludes_Did_you_mean_exclude:{code:6114,category:ts.DiagnosticCategory.Error,key:"Unknown_option_excludes_Did_you_mean_exclude_6114",message:"Unknown option 'excludes'. Did you mean 'exclude'?"},Raise_error_on_this_expressions_with_an_implied_any_type:{code:6115,category:ts.DiagnosticCategory.Message,key:"Raise_error_on_this_expressions_with_an_implied_any_type_6115",message:"Raise error on 'this' expressions with an implied 'any' type."},Resolving_type_reference_directive_0_containing_file_1_root_directory_2:{code:6116,category:ts.DiagnosticCategory.Message,key:"Resolving_type_reference_directive_0_containing_file_1_root_directory_2_6116",message:"======== Resolving type reference directive '{0}', containing file '{1}', root directory '{2}'. ========"},Resolving_using_primary_search_paths:{code:6117,category:ts.DiagnosticCategory.Message,key:"Resolving_using_primary_search_paths_6117",message:"Resolving using primary search paths..."},Resolving_from_node_modules_folder:{code:6118,category:ts.DiagnosticCategory.Message,key:"Resolving_from_node_modules_folder_6118",message:"Resolving from node_modules folder..."},Type_reference_directive_0_was_successfully_resolved_to_1_primary_Colon_2:{code:6119,category:ts.DiagnosticCategory.Message,key:"Type_reference_directive_0_was_successfully_resolved_to_1_primary_Colon_2_6119",message:"======== Type reference directive '{0}' was successfully resolved to '{1}', primary: {2}. ========"},Type_reference_directive_0_was_not_resolved:{code:6120,category:ts.DiagnosticCategory.Message,key:"Type_reference_directive_0_was_not_resolved_6120",message:"======== Type reference directive '{0}' was not resolved. ========"},Resolving_with_primary_search_path_0:{code:6121,category:ts.DiagnosticCategory.Message,key:"Resolving_with_primary_search_path_0_6121",message:"Resolving with primary search path '{0}'"},Root_directory_cannot_be_determined_skipping_primary_search_paths:{code:6122,category:ts.DiagnosticCategory.Message,key:"Root_directory_cannot_be_determined_skipping_primary_search_paths_6122",message:"Root directory cannot be determined, skipping primary search paths."},Resolving_type_reference_directive_0_containing_file_1_root_directory_not_set:{code:6123,category:ts.DiagnosticCategory.Message,key:"Resolving_type_reference_directive_0_containing_file_1_root_directory_not_set_6123",message:"======== Resolving type reference directive '{0}', containing file '{1}', root directory not set. ========"
},Type_declaration_files_to_be_included_in_compilation:{code:6124,category:ts.DiagnosticCategory.Message,key:"Type_declaration_files_to_be_included_in_compilation_6124",message:"Type declaration files to be included in compilation."},Looking_up_in_node_modules_folder_initial_location_0:{code:6125,category:ts.DiagnosticCategory.Message,key:"Looking_up_in_node_modules_folder_initial_location_0_6125",message:"Looking up in 'node_modules' folder, initial location '{0}'"},Containing_file_is_not_specified_and_root_directory_cannot_be_determined_skipping_lookup_in_node_modules_folder:{code:6126,category:ts.DiagnosticCategory.Message,key:"Containing_file_is_not_specified_and_root_directory_cannot_be_determined_skipping_lookup_in_node_mod_6126",message:"Containing file is not specified and root directory cannot be determined, skipping lookup in 'node_modules' folder."},Resolving_type_reference_directive_0_containing_file_not_set_root_directory_1:{code:6127,category:ts.DiagnosticCategory.Message,key:"Resolving_type_reference_directive_0_containing_file_not_set_root_directory_1_6127",message:"======== Resolving type reference directive '{0}', containing file not set, root directory '{1}'. ========"},Resolving_type_reference_directive_0_containing_file_not_set_root_directory_not_set:{code:6128,category:ts.DiagnosticCategory.Message,key:"Resolving_type_reference_directive_0_containing_file_not_set_root_directory_not_set_6128",message:"======== Resolving type reference directive '{0}', containing file not set, root directory not set. ========"},The_config_file_0_found_doesn_t_contain_any_source_files:{code:6129,category:ts.DiagnosticCategory.Error,key:"The_config_file_0_found_doesn_t_contain_any_source_files_6129",message:"The config file '{0}' found doesn't contain any source files."},Resolving_real_path_for_0_result_1:{code:6130,category:ts.DiagnosticCategory.Message,key:"Resolving_real_path_for_0_result_1_6130",message:"Resolving real path for '{0}', result '{1}'"},Cannot_compile_modules_using_option_0_unless_the_module_flag_is_amd_or_system:{code:6131,category:ts.DiagnosticCategory.Error,key:"Cannot_compile_modules_using_option_0_unless_the_module_flag_is_amd_or_system_6131",message:"Cannot compile modules using option '{0}' unless the '--module' flag is 'amd' or 'system'."},File_name_0_has_a_1_extension_stripping_it:{code:6132,category:ts.DiagnosticCategory.Message,key:"File_name_0_has_a_1_extension_stripping_it_6132",message:"File name '{0}' has a '{1}' extension - stripping it"},_0_is_declared_but_never_used:{code:6133,category:ts.DiagnosticCategory.Error,key:"_0_is_declared_but_never_used_6133",message:"'{0}' is declared but never used."},Report_errors_on_unused_locals:{code:6134,category:ts.DiagnosticCategory.Message,key:"Report_errors_on_unused_locals_6134",message:"Report errors on unused locals."},Report_errors_on_unused_parameters:{code:6135,category:ts.DiagnosticCategory.Message,key:"Report_errors_on_unused_parameters_6135",message:"Report errors on unused parameters."},The_maximum_dependency_depth_to_search_under_node_modules_and_load_JavaScript_files:{code:6136,category:ts.DiagnosticCategory.Message,key:"The_maximum_dependency_depth_to_search_under_node_modules_and_load_JavaScript_files_6136",message:"The maximum dependency depth to search under node_modules and load JavaScript files"},No_types_specified_in_package_json_but_allowJs_is_set_so_returning_main_value_of_0:{code:6137,category:ts.DiagnosticCategory.Message,key:"No_types_specified_in_package_json_but_allowJs_is_set_so_returning_main_value_of_0_6137",message:"No types specified in 'package.json' but 'allowJs' is set, so returning 'main' value of '{0}'"},Property_0_is_declared_but_never_used:{code:6138,category:ts.DiagnosticCategory.Error,key:"Property_0_is_declared_but_never_used_6138",message:"Property '{0}' is declared but never used."},Auto_discovery_for_typings_is_enabled_in_project_0_Running_extra_resolution_pass_for_module_1_using_cache_location_2:{code:6139,category:ts.DiagnosticCategory.Error,key:"Auto_discovery_for_typings_is_enabled_in_project_0_Running_extra_resolution_pass_for_module_1_using__6139",message:"Auto discovery for typings is enabled in project '{0}'. Running extra resolution pass for module '{1}' using cache location '{2}'."},Variable_0_implicitly_has_an_1_type:{code:7005,category:ts.DiagnosticCategory.Error,key:"Variable_0_implicitly_has_an_1_type_7005",message:"Variable '{0}' implicitly has an '{1}' type."},Parameter_0_implicitly_has_an_1_type:{code:7006,category:ts.DiagnosticCategory.Error,key:"Parameter_0_implicitly_has_an_1_type_7006",message:"Parameter '{0}' implicitly has an '{1}' type."},Member_0_implicitly_has_an_1_type:{code:7008,category:ts.DiagnosticCategory.Error,key:"Member_0_implicitly_has_an_1_type_7008",message:"Member '{0}' implicitly has an '{1}' type."},new_expression_whose_target_lacks_a_construct_signature_implicitly_has_an_any_type:{code:7009,category:ts.DiagnosticCategory.Error,key:"new_expression_whose_target_lacks_a_construct_signature_implicitly_has_an_any_type_7009",message:"'new' expression, whose target lacks a construct signature, implicitly has an 'any' type."},_0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type:{code:7010,category:ts.DiagnosticCategory.Error,key:"_0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type_7010",message:"'{0}', which lacks return-type annotation, implicitly has an '{1}' return type."},Function_expression_which_lacks_return_type_annotation_implicitly_has_an_0_return_type:{code:7011,category:ts.DiagnosticCategory.Error,key:"Function_expression_which_lacks_return_type_annotation_implicitly_has_an_0_return_type_7011",message:"Function expression, which lacks return-type annotation, implicitly has an '{0}' return type."},Construct_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type:{code:7013,category:ts.DiagnosticCategory.Error,key:"Construct_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type_7013",message:"Construct signature, which lacks return-type annotation, implicitly has an 'any' return type."},Element_implicitly_has_an_any_type_because_index_expression_is_not_of_type_number:{code:7015,category:ts.DiagnosticCategory.Error,key:"Element_implicitly_has_an_any_type_because_index_expression_is_not_of_type_number_7015",message:"Element implicitly has an 'any' type because index expression is not of type 'number'."},Index_signature_of_object_type_implicitly_has_an_any_type:{code:7017,category:ts.DiagnosticCategory.Error,key:"Index_signature_of_object_type_implicitly_has_an_any_type_7017",message:"Index signature of object type implicitly has an 'any' type."},Object_literal_s_property_0_implicitly_has_an_1_type:{code:7018,category:ts.DiagnosticCategory.Error,key:"Object_literal_s_property_0_implicitly_has_an_1_type_7018",message:"Object literal's property '{0}' implicitly has an '{1}' type."},Rest_parameter_0_implicitly_has_an_any_type:{code:7019,category:ts.DiagnosticCategory.Error,key:"Rest_parameter_0_implicitly_has_an_any_type_7019",message:"Rest parameter '{0}' implicitly has an 'any[]' type."},Call_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type:{code:7020,category:ts.DiagnosticCategory.Error,key:"Call_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type_7020",message:"Call signature, which lacks return-type annotation, implicitly has an 'any' return type."},_0_implicitly_has_type_any_because_it_does_not_have_a_type_annotation_and_is_referenced_directly_or_indirectly_in_its_own_initializer:{code:7022,category:ts.DiagnosticCategory.Error,key:"_0_implicitly_has_type_any_because_it_does_not_have_a_type_annotation_and_is_referenced_directly_or__7022",message:"'{0}' implicitly has type 'any' because it does not have a type annotation and is referenced directly or indirectly in its own initializer."},_0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions:{code:7023,category:ts.DiagnosticCategory.Error,key:"_0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_reference_7023",message:"'{0}' implicitly has return type 'any' because it does not have a return type annotation and is referenced directly or indirectly in one of its return expressions."},Function_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions:{code:7024,category:ts.DiagnosticCategory.Error,key:"Function_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_ref_7024",message:"Function implicitly has return type 'any' because it does not have a return type annotation and is referenced directly or indirectly in one of its return expressions."},Generator_implicitly_has_type_0_because_it_does_not_yield_any_values_Consider_supplying_a_return_type:{code:7025,category:ts.DiagnosticCategory.Error,key:"Generator_implicitly_has_type_0_because_it_does_not_yield_any_values_Consider_supplying_a_return_typ_7025",message:"Generator implicitly has type '{0}' because it does not yield any values. Consider supplying a return type."},JSX_element_implicitly_has_type_any_because_no_interface_JSX_0_exists:{code:7026,category:ts.DiagnosticCategory.Error,key:"JSX_element_implicitly_has_type_any_because_no_interface_JSX_0_exists_7026",message:"JSX element implicitly has type 'any' because no interface 'JSX.{0}' exists"},Unreachable_code_detected:{code:7027,category:ts.DiagnosticCategory.Error,key:"Unreachable_code_detected_7027",message:"Unreachable code detected."},Unused_label:{code:7028,category:ts.DiagnosticCategory.Error,key:"Unused_label_7028",message:"Unused label."},Fallthrough_case_in_switch:{code:7029,category:ts.DiagnosticCategory.Error,key:"Fallthrough_case_in_switch_7029",message:"Fallthrough case in switch."},Not_all_code_paths_return_a_value:{code:7030,category:ts.DiagnosticCategory.Error,key:"Not_all_code_paths_return_a_value_7030",message:"Not all code paths return a value."},Binding_element_0_implicitly_has_an_1_type:{code:7031,category:ts.DiagnosticCategory.Error,key:"Binding_element_0_implicitly_has_an_1_type_7031",message:"Binding element '{0}' implicitly has an '{1}' type."},Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_parameter_type_annotation:{code:7032,category:ts.DiagnosticCategory.Error,key:"Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_parameter_type_annotation_7032",message:"Property '{0}' implicitly has type 'any', because its set accessor lacks a parameter type annotation."},Property_0_implicitly_has_type_any_because_its_get_accessor_lacks_a_return_type_annotation:{code:7033,category:ts.DiagnosticCategory.Error,key:"Property_0_implicitly_has_type_any_because_its_get_accessor_lacks_a_return_type_annotation_7033",message:"Property '{0}' implicitly has type 'any', because its get accessor lacks a return type annotation."},You_cannot_rename_this_element:{code:8e3,category:ts.DiagnosticCategory.Error,key:"You_cannot_rename_this_element_8000",message:"You cannot rename this element."},You_cannot_rename_elements_that_are_defined_in_the_standard_TypeScript_library:{code:8001,category:ts.DiagnosticCategory.Error,key:"You_cannot_rename_elements_that_are_defined_in_the_standard_TypeScript_library_8001",message:"You cannot rename elements that are defined in the standard TypeScript library."},import_can_only_be_used_in_a_ts_file:{code:8002,category:ts.DiagnosticCategory.Error,key:"import_can_only_be_used_in_a_ts_file_8002",message:"'import ... =' can only be used in a .ts file."},export_can_only_be_used_in_a_ts_file:{code:8003,category:ts.DiagnosticCategory.Error,key:"export_can_only_be_used_in_a_ts_file_8003",message:"'export=' can only be used in a .ts file."},type_parameter_declarations_can_only_be_used_in_a_ts_file:{code:8004,category:ts.DiagnosticCategory.Error,key:"type_parameter_declarations_can_only_be_used_in_a_ts_file_8004",message:"'type parameter declarations' can only be used in a .ts file."},implements_clauses_can_only_be_used_in_a_ts_file:{code:8005,category:ts.DiagnosticCategory.Error,key:"implements_clauses_can_only_be_used_in_a_ts_file_8005",message:"'implements clauses' can only be used in a .ts file."},interface_declarations_can_only_be_used_in_a_ts_file:{code:8006,category:ts.DiagnosticCategory.Error,key:"interface_declarations_can_only_be_used_in_a_ts_file_8006",message:"'interface declarations' can only be used in a .ts file."},module_declarations_can_only_be_used_in_a_ts_file:{code:8007,category:ts.DiagnosticCategory.Error,key:"module_declarations_can_only_be_used_in_a_ts_file_8007",message:"'module declarations' can only be used in a .ts file."},type_aliases_can_only_be_used_in_a_ts_file:{code:8008,category:ts.DiagnosticCategory.Error,key:"type_aliases_can_only_be_used_in_a_ts_file_8008",message:"'type aliases' can only be used in a .ts file."},_0_can_only_be_used_in_a_ts_file:{code:8009,category:ts.DiagnosticCategory.Error,key:"_0_can_only_be_used_in_a_ts_file_8009",message:"'{0}' can only be used in a .ts file."},types_can_only_be_used_in_a_ts_file:{code:8010,category:ts.DiagnosticCategory.Error,key:"types_can_only_be_used_in_a_ts_file_8010",message:"'types' can only be used in a .ts file."},type_arguments_can_only_be_used_in_a_ts_file:{code:8011,category:ts.DiagnosticCategory.Error,key:"type_arguments_can_only_be_used_in_a_ts_file_8011",message:"'type arguments' can only be used in a .ts file."},parameter_modifiers_can_only_be_used_in_a_ts_file:{code:8012,category:ts.DiagnosticCategory.Error,key:"parameter_modifiers_can_only_be_used_in_a_ts_file_8012",message:"'parameter modifiers' can only be used in a .ts file."},enum_declarations_can_only_be_used_in_a_ts_file:{code:8015,category:ts.DiagnosticCategory.Error,key:"enum_declarations_can_only_be_used_in_a_ts_file_8015",message:"'enum declarations' can only be used in a .ts file."},type_assertion_expressions_can_only_be_used_in_a_ts_file:{code:8016,category:ts.DiagnosticCategory.Error,key:"type_assertion_expressions_can_only_be_used_in_a_ts_file_8016",message:"'type assertion expressions' can only be used in a .ts file."},Only_identifiers_Slashqualified_names_with_optional_type_arguments_are_currently_supported_in_a_class_extends_clauses:{code:9002,category:ts.DiagnosticCategory.Error,key:"Only_identifiers_Slashqualified_names_with_optional_type_arguments_are_currently_supported_in_a_clas_9002",message:"Only identifiers/qualified-names with optional type arguments are currently supported in a class 'extends' clauses."},class_expressions_are_not_currently_supported:{code:9003,category:ts.DiagnosticCategory.Error,key:"class_expressions_are_not_currently_supported_9003",message:"'class' expressions are not currently supported."},JSX_attributes_must_only_be_assigned_a_non_empty_expression:{code:17e3,category:ts.DiagnosticCategory.Error,key:"JSX_attributes_must_only_be_assigned_a_non_empty_expression_17000",message:"JSX attributes must only be assigned a non-empty 'expression'."},JSX_elements_cannot_have_multiple_attributes_with_the_same_name:{code:17001,category:ts.DiagnosticCategory.Error,key:"JSX_elements_cannot_have_multiple_attributes_with_the_same_name_17001",message:"JSX elements cannot have multiple attributes with the same name."},Expected_corresponding_JSX_closing_tag_for_0:{code:17002,category:ts.DiagnosticCategory.Error,key:"Expected_corresponding_JSX_closing_tag_for_0_17002",message:"Expected corresponding JSX closing tag for '{0}'."},JSX_attribute_expected:{code:17003,category:ts.DiagnosticCategory.Error,key:"JSX_attribute_expected_17003",message:"JSX attribute expected."},Cannot_use_JSX_unless_the_jsx_flag_is_provided:{code:17004,category:ts.DiagnosticCategory.Error,key:"Cannot_use_JSX_unless_the_jsx_flag_is_provided_17004",message:"Cannot use JSX unless the '--jsx' flag is provided."},A_constructor_cannot_contain_a_super_call_when_its_class_extends_null:{code:17005,category:ts.DiagnosticCategory.Error,key:"A_constructor_cannot_contain_a_super_call_when_its_class_extends_null_17005",message:"A constructor cannot contain a 'super' call when its class extends 'null'"},An_unary_expression_with_the_0_operator_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses:{code:17006,category:ts.DiagnosticCategory.Error,key:"An_unary_expression_with_the_0_operator_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_ex_17006",message:"An unary expression with the '{0}' operator is not allowed in the left-hand side of an exponentiation expression. Consider enclosing the expression in parentheses."},A_type_assertion_expression_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses:{code:17007,category:ts.DiagnosticCategory.Error,key:"A_type_assertion_expression_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Con_17007",message:"A type assertion expression is not allowed in the left-hand side of an exponentiation expression. Consider enclosing the expression in parentheses."},JSX_element_0_has_no_corresponding_closing_tag:{code:17008,category:ts.DiagnosticCategory.Error,key:"JSX_element_0_has_no_corresponding_closing_tag_17008",message:"JSX element '{0}' has no corresponding closing tag."},super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class:{code:17009,category:ts.DiagnosticCategory.Error,key:"super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class_17009",message:"'super' must be called before accessing 'this' in the constructor of a derived class."},Unknown_typing_option_0:{code:17010,category:ts.DiagnosticCategory.Error,key:"Unknown_typing_option_0_17010",message:"Unknown typing option '{0}'."}}}(ts||(ts={}));var ts;!function(ts){function tokenIsIdentifierOrKeyword(token){return token>=69}function lookupInUnicodeMap(code,map){if(code<map[0])return!1;for(var mid,lo=0,hi=map.length;hi>lo+1;){if(mid=lo+(hi-lo)/2,mid-=mid%2,map[mid]<=code&&code<=map[mid+1])return!0;code<map[mid]?hi=mid:lo=mid+2}return!1}function isUnicodeIdentifierStart(code,languageVersion){return languageVersion>=1?lookupInUnicodeMap(code,unicodeES5IdentifierStart):lookupInUnicodeMap(code,unicodeES3IdentifierStart)}function isUnicodeIdentifierPart(code,languageVersion){return languageVersion>=1?lookupInUnicodeMap(code,unicodeES5IdentifierPart):lookupInUnicodeMap(code,unicodeES3IdentifierPart)}function makeReverseMap(source){var result=[];for(var name_4 in source)result[source[name_4]]=name_4;return result}function tokenToString(t){return tokenStrings[t]}function stringToToken(s){return textToToken[s]}function computeLineStarts(text){for(var result=new Array,pos=0,lineStart=0;pos<text.length;){var ch=text.charCodeAt(pos);switch(pos++,ch){case 13:10===text.charCodeAt(pos)&&pos++;case 10:result.push(lineStart),lineStart=pos;break;default:ch>127&&isLineBreak(ch)&&(result.push(lineStart),lineStart=pos)}}return result.push(lineStart),result}function getPositionOfLineAndCharacter(sourceFile,line,character){return computePositionOfLineAndCharacter(getLineStarts(sourceFile),line,character)}function computePositionOfLineAndCharacter(lineStarts,line,character){return ts.Debug.assert(line>=0&&line<lineStarts.length),lineStarts[line]+character}function getLineStarts(sourceFile){return sourceFile.lineMap||(sourceFile.lineMap=computeLineStarts(sourceFile.text))}function computeLineAndCharacterOfPosition(lineStarts,position){var lineNumber=ts.binarySearch(lineStarts,position);return 0>lineNumber&&(lineNumber=~lineNumber-1,ts.Debug.assert(-1!==lineNumber,"position cannot precede the beginning of the file")),{line:lineNumber,character:position-lineStarts[lineNumber]}}function getLineAndCharacterOfPosition(sourceFile,position){return computeLineAndCharacterOfPosition(getLineStarts(sourceFile),position)}function isWhiteSpace(ch){return isWhiteSpaceSingleLine(ch)||isLineBreak(ch)}function isWhiteSpaceSingleLine(ch){return 32===ch||9===ch||11===ch||12===ch||160===ch||133===ch||5760===ch||ch>=8192&&8203>=ch||8239===ch||8287===ch||12288===ch||65279===ch}function isLineBreak(ch){return 10===ch||13===ch||8232===ch||8233===ch}function isDigit(ch){return ch>=48&&57>=ch}function isOctalDigit(ch){return ch>=48&&55>=ch}function couldStartTrivia(text,pos){var ch=text.charCodeAt(pos);switch(ch){case 13:case 10:case 9:case 11:case 12:case 32:case 47:case 60:case 61:case 62:return!0;case 35:return 0===pos;default:return ch>127}}function skipTrivia(text,pos,stopAfterLineBreak,stopAtComments){if(void 0===stopAtComments&&(stopAtComments=!1),!(pos>=0))return pos;for(;;){var ch=text.charCodeAt(pos);switch(ch){case 13:10===text.charCodeAt(pos+1)&&pos++;case 10:if(pos++,stopAfterLineBreak)return pos;continue;case 9:case 11:case 12:case 32:pos++;continue;case 47:if(stopAtComments)break;if(47===text.charCodeAt(pos+1)){for(pos+=2;pos<text.length&&!isLineBreak(text.charCodeAt(pos));)pos++;continue}if(42===text.charCodeAt(pos+1)){for(pos+=2;pos<text.length;){if(42===text.charCodeAt(pos)&&47===text.charCodeAt(pos+1)){pos+=2;break}pos++}continue}break;case 60:case 61:case 62:if(isConflictMarkerTrivia(text,pos)){pos=scanConflictMarkerTrivia(text,pos);continue}break;case 35:if(0===pos&&isShebangTrivia(text,pos)){pos=scanShebangTrivia(text,pos);continue}break;default:if(ch>127&&isWhiteSpace(ch)){pos++;continue}}return pos}}function isConflictMarkerTrivia(text,pos){if(ts.Debug.assert(pos>=0),0===pos||isLineBreak(text.charCodeAt(pos-1))){var ch=text.charCodeAt(pos);if(pos+mergeConflictMarkerLength<text.length){for(var i=0,n=mergeConflictMarkerLength;n>i;i++)if(text.charCodeAt(pos+i)!==ch)return!1;return 61===ch||32===text.charCodeAt(pos+mergeConflictMarkerLength)}}return!1}function scanConflictMarkerTrivia(text,pos,error){error&&error(ts.Diagnostics.Merge_conflict_marker_encountered,mergeConflictMarkerLength);var ch=text.charCodeAt(pos),len=text.length;if(60===ch||62===ch)for(;len>pos&&!isLineBreak(text.charCodeAt(pos));)pos++;else for(ts.Debug.assert(61===ch);len>pos;){var ch_1=text.charCodeAt(pos);if(62===ch_1&&isConflictMarkerTrivia(text,pos))break;pos++}return pos}function isShebangTrivia(text,pos){return ts.Debug.assert(0===pos),shebangTriviaRegex.test(text)}function scanShebangTrivia(text,pos){var shebang=shebangTriviaRegex.exec(text)[0];return pos+=shebang.length}function getCommentRanges(text,pos,trailing){for(var result,collecting=trailing||0===pos;pos<text.length;){var ch=text.charCodeAt(pos);switch(ch){case 13:10===text.charCodeAt(pos+1)&&pos++;case 10:if(pos++,trailing)return result;collecting=!0,result&&result.length&&(ts.lastOrUndefined(result).hasTrailingNewLine=!0);continue;case 9:case 11:case 12:case 32:pos++;continue;case 47:var nextChar=text.charCodeAt(pos+1),hasTrailingNewLine=!1;if(47===nextChar||42===nextChar){var kind=47===nextChar?2:3,startPos=pos;if(pos+=2,47===nextChar)for(;pos<text.length;){if(isLineBreak(text.charCodeAt(pos))){hasTrailingNewLine=!0;break}pos++}else for(;pos<text.length;){if(42===text.charCodeAt(pos)&&47===text.charCodeAt(pos+1)){pos+=2;break}pos++}collecting&&(result||(result=[]),result.push({pos:startPos,end:pos,hasTrailingNewLine:hasTrailingNewLine,kind:kind}));continue}break;default:if(ch>127&&isWhiteSpace(ch)){result&&result.length&&isLineBreak(ch)&&(ts.lastOrUndefined(result).hasTrailingNewLine=!0),pos++;continue}}return result}return result}function getLeadingCommentRanges(text,pos){return getCommentRanges(text,pos,!1)}function getTrailingCommentRanges(text,pos){return getCommentRanges(text,pos,!0)}function getShebang(text){return shebangTriviaRegex.test(text)?shebangTriviaRegex.exec(text)[0]:void 0}function isIdentifierStart(ch,languageVersion){return ch>=65&&90>=ch||ch>=97&&122>=ch||36===ch||95===ch||ch>127&&isUnicodeIdentifierStart(ch,languageVersion)}function isIdentifierPart(ch,languageVersion){return ch>=65&&90>=ch||ch>=97&&122>=ch||ch>=48&&57>=ch||36===ch||95===ch||ch>127&&isUnicodeIdentifierPart(ch,languageVersion)}function isIdentifier(name,languageVersion){if(!isIdentifierStart(name.charCodeAt(0),languageVersion))return!1;for(var i=1,n=name.length;n>i;i++)if(!isIdentifierPart(name.charCodeAt(i),languageVersion))return!1;return!0}function createScanner(languageVersion,skipTrivia,languageVariant,text,onError,start,length){function error(message,length){onError&&onError(message,length||0)}function scanNumber(){for(var start=pos;isDigit(text.charCodeAt(pos));)pos++;if(46===text.charCodeAt(pos))for(pos++;isDigit(text.charCodeAt(pos));)pos++;var end=pos;if(69===text.charCodeAt(pos)||101===text.charCodeAt(pos))if(pos++,(43===text.charCodeAt(pos)||45===text.charCodeAt(pos))&&pos++,isDigit(text.charCodeAt(pos))){for(pos++;isDigit(text.charCodeAt(pos));)pos++;end=pos}else error(ts.Diagnostics.Digit_expected);return""+ +text.substring(start,end)}function scanOctalDigits(){for(var start=pos;isOctalDigit(text.charCodeAt(pos));)pos++;return+text.substring(start,pos)}function scanExactNumberOfHexDigits(count){return scanHexDigits(count,!1)}function scanMinimumNumberOfHexDigits(count){return scanHexDigits(count,!0)}function scanHexDigits(minCount,scanAsManyAsPossible){for(var digits=0,value=0;minCount>digits||scanAsManyAsPossible;){var ch=text.charCodeAt(pos);if(ch>=48&&57>=ch)value=16*value+ch-48;else if(ch>=65&&70>=ch)value=16*value+ch-65+10;else{if(!(ch>=97&&102>=ch))break;value=16*value+ch-97+10}pos++,digits++}return minCount>digits&&(value=-1),value}function scanString(){var quote=text.charCodeAt(pos);pos++;for(var result="",start=pos;;){if(pos>=end){result+=text.substring(start,pos),tokenIsUnterminated=!0,error(ts.Diagnostics.Unterminated_string_literal);break}var ch=text.charCodeAt(pos);if(ch===quote){result+=text.substring(start,pos),pos++;break}if(92!==ch){if(isLineBreak(ch)){result+=text.substring(start,pos),tokenIsUnterminated=!0,error(ts.Diagnostics.Unterminated_string_literal);break}pos++}else result+=text.substring(start,pos),result+=scanEscapeSequence(),start=pos}return result}function scanTemplateAndSetTokenValue(){var startedWithBacktick=96===text.charCodeAt(pos);pos++;for(var resultingToken,start=pos,contents="";;){if(pos>=end){contents+=text.substring(start,pos),tokenIsUnterminated=!0,error(ts.Diagnostics.Unterminated_template_literal),resultingToken=startedWithBacktick?11:14;break}var currChar=text.charCodeAt(pos);if(96===currChar){contents+=text.substring(start,pos),pos++,resultingToken=startedWithBacktick?11:14;break}if(36===currChar&&end>pos+1&&123===text.charCodeAt(pos+1)){contents+=text.substring(start,pos),pos+=2,resultingToken=startedWithBacktick?12:13;break}92!==currChar?13!==currChar?pos++:(contents+=text.substring(start,pos),pos++,end>pos&&10===text.charCodeAt(pos)&&pos++,contents+="\n",start=pos):(contents+=text.substring(start,pos),contents+=scanEscapeSequence(),start=pos)}return ts.Debug.assert(void 0!==resultingToken),tokenValue=contents,resultingToken}function scanEscapeSequence(){if(pos++,pos>=end)return error(ts.Diagnostics.Unexpected_end_of_text),"";var ch=text.charCodeAt(pos);switch(pos++,ch){case 48:return"\x00";case 98:return"\b";case 116:return"	";case 110:return"\n";case 118:return"";case 102:return"\f";case 114:return"\r";case 39:return"'";case 34:return'"';case 117:return end>pos&&123===text.charCodeAt(pos)?(hasExtendedUnicodeEscape=!0,pos++,scanExtendedUnicodeEscape()):scanHexadecimalEscape(4);case 120:return scanHexadecimalEscape(2);case 13:end>pos&&10===text.charCodeAt(pos)&&pos++;case 10:case 8232:case 8233:return"";default:return String.fromCharCode(ch)}}function scanHexadecimalEscape(numDigits){var escapedValue=scanExactNumberOfHexDigits(numDigits);return escapedValue>=0?String.fromCharCode(escapedValue):(error(ts.Diagnostics.Hexadecimal_digit_expected),"")}function scanExtendedUnicodeEscape(){var escapedValue=scanMinimumNumberOfHexDigits(1),isInvalidExtendedEscape=!1;return 0>escapedValue?(error(ts.Diagnostics.Hexadecimal_digit_expected),isInvalidExtendedEscape=!0):escapedValue>1114111&&(error(ts.Diagnostics.An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive),isInvalidExtendedEscape=!0),pos>=end?(error(ts.Diagnostics.Unexpected_end_of_text),isInvalidExtendedEscape=!0):125===text.charCodeAt(pos)?pos++:(error(ts.Diagnostics.Unterminated_Unicode_escape_sequence),isInvalidExtendedEscape=!0),isInvalidExtendedEscape?"":utf16EncodeAsString(escapedValue)}function utf16EncodeAsString(codePoint){if(ts.Debug.assert(codePoint>=0&&1114111>=codePoint),65535>=codePoint)return String.fromCharCode(codePoint);var codeUnit1=Math.floor((codePoint-65536)/1024)+55296,codeUnit2=(codePoint-65536)%1024+56320;return String.fromCharCode(codeUnit1,codeUnit2)}function peekUnicodeEscape(){if(end>pos+5&&117===text.charCodeAt(pos+1)){var start_1=pos;pos+=2;var value=scanExactNumberOfHexDigits(4);return pos=start_1,value}return-1}function scanIdentifierParts(){for(var result="",start=pos;end>pos;){var ch=text.charCodeAt(pos);if(isIdentifierPart(ch,languageVersion))pos++;else{if(92!==ch)break;if(ch=peekUnicodeEscape(),!(ch>=0&&isIdentifierPart(ch,languageVersion)))break;result+=text.substring(start,pos),result+=String.fromCharCode(ch),pos+=6,start=pos}}return result+=text.substring(start,pos)}function getIdentifierToken(){var len=tokenValue.length;if(len>=2&&11>=len){var ch=tokenValue.charCodeAt(0);if(ch>=97&&122>=ch&&hasOwnProperty.call(textToToken,tokenValue))return token=textToToken[tokenValue]}return token=69}function scanBinaryOrOctalDigits(base){ts.Debug.assert(2!==base||8!==base,"Expected either base 2 or base 8");for(var value=0,numberOfDigits=0;;){var ch=text.charCodeAt(pos),valueOfCh=ch-48;if(!isDigit(ch)||valueOfCh>=base)break;value=value*base+valueOfCh,pos++,numberOfDigits++}return 0===numberOfDigits?-1:value}function scan(){for(startPos=pos,hasExtendedUnicodeEscape=!1,precedingLineBreak=!1,tokenIsUnterminated=!1;;){if(tokenPos=pos,pos>=end)return token=1;var ch=text.charCodeAt(pos);if(35===ch&&0===pos&&isShebangTrivia(text,pos)){if(pos=scanShebangTrivia(text,pos),skipTrivia)continue;return token=6}switch(ch){case 10:case 13:if(precedingLineBreak=!0,skipTrivia){pos++;continue}return 13===ch&&end>pos+1&&10===text.charCodeAt(pos+1)?pos+=2:pos++,token=4;case 9:case 11:case 12:case 32:if(skipTrivia){pos++;continue}for(;end>pos&&isWhiteSpaceSingleLine(text.charCodeAt(pos));)pos++;return token=5;case 33:return 61===text.charCodeAt(pos+1)?61===text.charCodeAt(pos+2)?(pos+=3,token=33):(pos+=2,token=31):(pos++,token=49);case 34:case 39:return tokenValue=scanString(),token=9;case 96:return token=scanTemplateAndSetTokenValue();case 37:return 61===text.charCodeAt(pos+1)?(pos+=2,token=62):(pos++,token=40);case 38:return 38===text.charCodeAt(pos+1)?(pos+=2,token=51):61===text.charCodeAt(pos+1)?(pos+=2,token=66):(pos++,token=46);case 40:return pos++,token=17;case 41:return pos++,token=18;case 42:return 61===text.charCodeAt(pos+1)?(pos+=2,token=59):42===text.charCodeAt(pos+1)?61===text.charCodeAt(pos+2)?(pos+=3,token=60):(pos+=2,token=38):(pos++,token=37);case 43:return 43===text.charCodeAt(pos+1)?(pos+=2,token=41):61===text.charCodeAt(pos+1)?(pos+=2,token=57):(pos++,token=35);case 44:return pos++,token=24;case 45:return 45===text.charCodeAt(pos+1)?(pos+=2,token=42):61===text.charCodeAt(pos+1)?(pos+=2,token=58):(pos++,token=36);case 46:return isDigit(text.charCodeAt(pos+1))?(tokenValue=scanNumber(),token=8):46===text.charCodeAt(pos+1)&&46===text.charCodeAt(pos+2)?(pos+=3,token=22):(pos++,token=21);case 47:if(47===text.charCodeAt(pos+1)){for(pos+=2;end>pos&&!isLineBreak(text.charCodeAt(pos));)pos++;if(skipTrivia)continue;return token=2}if(42===text.charCodeAt(pos+1)){pos+=2;for(var commentClosed=!1;end>pos;){var ch_2=text.charCodeAt(pos);if(42===ch_2&&47===text.charCodeAt(pos+1)){pos+=2,commentClosed=!0;break}isLineBreak(ch_2)&&(precedingLineBreak=!0),pos++}if(commentClosed||error(ts.Diagnostics.Asterisk_Slash_expected),
skipTrivia)continue;return tokenIsUnterminated=!commentClosed,token=3}return 61===text.charCodeAt(pos+1)?(pos+=2,token=61):(pos++,token=39);case 48:if(end>pos+2&&(88===text.charCodeAt(pos+1)||120===text.charCodeAt(pos+1))){pos+=2;var value=scanMinimumNumberOfHexDigits(1);return 0>value&&(error(ts.Diagnostics.Hexadecimal_digit_expected),value=0),tokenValue=""+value,token=8}if(end>pos+2&&(66===text.charCodeAt(pos+1)||98===text.charCodeAt(pos+1))){pos+=2;var value=scanBinaryOrOctalDigits(2);return 0>value&&(error(ts.Diagnostics.Binary_digit_expected),value=0),tokenValue=""+value,token=8}if(end>pos+2&&(79===text.charCodeAt(pos+1)||111===text.charCodeAt(pos+1))){pos+=2;var value=scanBinaryOrOctalDigits(8);return 0>value&&(error(ts.Diagnostics.Octal_digit_expected),value=0),tokenValue=""+value,token=8}if(end>pos+1&&isOctalDigit(text.charCodeAt(pos+1)))return tokenValue=""+scanOctalDigits(),token=8;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return tokenValue=scanNumber(),token=8;case 58:return pos++,token=54;case 59:return pos++,token=23;case 60:if(isConflictMarkerTrivia(text,pos)){if(pos=scanConflictMarkerTrivia(text,pos,error),skipTrivia)continue;return token=7}return 60===text.charCodeAt(pos+1)?61===text.charCodeAt(pos+2)?(pos+=3,token=63):(pos+=2,token=43):61===text.charCodeAt(pos+1)?(pos+=2,token=28):1===languageVariant&&47===text.charCodeAt(pos+1)&&42!==text.charCodeAt(pos+2)?(pos+=2,token=26):(pos++,token=25);case 61:if(isConflictMarkerTrivia(text,pos)){if(pos=scanConflictMarkerTrivia(text,pos,error),skipTrivia)continue;return token=7}return 61===text.charCodeAt(pos+1)?61===text.charCodeAt(pos+2)?(pos+=3,token=32):(pos+=2,token=30):62===text.charCodeAt(pos+1)?(pos+=2,token=34):(pos++,token=56);case 62:if(isConflictMarkerTrivia(text,pos)){if(pos=scanConflictMarkerTrivia(text,pos,error),skipTrivia)continue;return token=7}return pos++,token=27;case 63:return pos++,token=53;case 91:return pos++,token=19;case 93:return pos++,token=20;case 94:return 61===text.charCodeAt(pos+1)?(pos+=2,token=68):(pos++,token=48);case 123:return pos++,token=15;case 124:return 124===text.charCodeAt(pos+1)?(pos+=2,token=52):61===text.charCodeAt(pos+1)?(pos+=2,token=67):(pos++,token=47);case 125:return pos++,token=16;case 126:return pos++,token=50;case 64:return pos++,token=55;case 92:var cookedChar=peekUnicodeEscape();return cookedChar>=0&&isIdentifierStart(cookedChar,languageVersion)?(pos+=6,tokenValue=String.fromCharCode(cookedChar)+scanIdentifierParts(),token=getIdentifierToken()):(error(ts.Diagnostics.Invalid_character),pos++,token=0);default:if(isIdentifierStart(ch,languageVersion)){for(pos++;end>pos&&isIdentifierPart(ch=text.charCodeAt(pos),languageVersion);)pos++;return tokenValue=text.substring(tokenPos,pos),92===ch&&(tokenValue+=scanIdentifierParts()),token=getIdentifierToken()}if(isWhiteSpaceSingleLine(ch)){pos++;continue}if(isLineBreak(ch)){precedingLineBreak=!0,pos++;continue}return error(ts.Diagnostics.Invalid_character),pos++,token=0}}}function reScanGreaterToken(){if(27===token){if(62===text.charCodeAt(pos))return 62===text.charCodeAt(pos+1)?61===text.charCodeAt(pos+2)?(pos+=3,token=65):(pos+=2,token=45):61===text.charCodeAt(pos+1)?(pos+=2,token=64):(pos++,token=44);if(61===text.charCodeAt(pos))return pos++,token=29}return token}function reScanSlashToken(){if(39===token||61===token){for(var p=tokenPos+1,inEscape=!1,inCharacterClass=!1;;){if(p>=end){tokenIsUnterminated=!0,error(ts.Diagnostics.Unterminated_regular_expression_literal);break}var ch=text.charCodeAt(p);if(isLineBreak(ch)){tokenIsUnterminated=!0,error(ts.Diagnostics.Unterminated_regular_expression_literal);break}if(inEscape)inEscape=!1;else{if(47===ch&&!inCharacterClass){p++;break}91===ch?inCharacterClass=!0:92===ch?inEscape=!0:93===ch&&(inCharacterClass=!1)}p++}for(;end>p&&isIdentifierPart(text.charCodeAt(p),languageVersion);)p++;pos=p,tokenValue=text.substring(tokenPos,pos),token=10}return token}function reScanTemplateToken(){return ts.Debug.assert(16===token,"'reScanTemplateToken' should only be called on a '}'"),pos=tokenPos,token=scanTemplateAndSetTokenValue()}function reScanJsxToken(){return pos=tokenPos=startPos,token=scanJsxToken()}function scanJsxToken(){if(startPos=tokenPos=pos,pos>=end)return token=1;var char=text.charCodeAt(pos);if(60===char)return 47===text.charCodeAt(pos+1)?(pos+=2,token=26):(pos++,token=25);if(123===char)return pos++,token=15;for(;end>pos&&(pos++,char=text.charCodeAt(pos),123!==char&&60!==char););return token=244}function scanJsxIdentifier(){if(tokenIsIdentifierOrKeyword(token)){for(var firstCharPosition=pos;end>pos;){var ch=text.charCodeAt(pos);if(45!==ch&&(firstCharPosition===pos?!isIdentifierStart(ch,languageVersion):!isIdentifierPart(ch,languageVersion)))break;pos++}tokenValue+=text.substr(firstCharPosition,pos-firstCharPosition)}return token}function scanJSDocToken(){if(pos>=end)return token=1;startPos=pos;for(var ch=text.charCodeAt(pos);end>pos&&(ch=text.charCodeAt(pos),isWhiteSpaceSingleLine(ch));)pos++;switch(tokenPos=pos,ch){case 64:return pos+=1,token=55;case 10:case 13:return pos+=1,token=4;case 42:return pos+=1,token=37;case 123:return pos+=1,token=15;case 125:return pos+=1,token=16;case 91:return pos+=1,token=19;case 93:return pos+=1,token=20;case 61:return pos+=1,token=56;case 44:return pos+=1,token=24}if(isIdentifierStart(ch,2)){for(pos++;isIdentifierPart(text.charCodeAt(pos),2)&&end>pos;)pos++;return token=69}return pos+=1,token=0}function speculationHelper(callback,isLookahead){var savePos=pos,saveStartPos=startPos,saveTokenPos=tokenPos,saveToken=token,saveTokenValue=tokenValue,savePrecedingLineBreak=precedingLineBreak,result=callback();return(!result||isLookahead)&&(pos=savePos,startPos=saveStartPos,tokenPos=saveTokenPos,token=saveToken,tokenValue=saveTokenValue,precedingLineBreak=savePrecedingLineBreak),result}function scanRange(start,length,callback){var saveEnd=end,savePos=pos,saveStartPos=startPos,saveTokenPos=tokenPos,saveToken=token,savePrecedingLineBreak=precedingLineBreak,saveTokenValue=tokenValue,saveHasExtendedUnicodeEscape=hasExtendedUnicodeEscape,saveTokenIsUnterminated=tokenIsUnterminated;setText(text,start,length);var result=callback();return end=saveEnd,pos=savePos,startPos=saveStartPos,tokenPos=saveTokenPos,token=saveToken,precedingLineBreak=savePrecedingLineBreak,tokenValue=saveTokenValue,hasExtendedUnicodeEscape=saveHasExtendedUnicodeEscape,tokenIsUnterminated=saveTokenIsUnterminated,result}function lookAhead(callback){return speculationHelper(callback,!0)}function tryScan(callback){return speculationHelper(callback,!1)}function getText(){return text}function setText(newText,start,length){text=newText||"",end=void 0===length?text.length:start+length,setTextPos(start||0)}function setOnError(errorCallback){onError=errorCallback}function setScriptTarget(scriptTarget){languageVersion=scriptTarget}function setLanguageVariant(variant){languageVariant=variant}function setTextPos(textPos){ts.Debug.assert(textPos>=0),pos=textPos,startPos=textPos,tokenPos=textPos,token=0,precedingLineBreak=!1,tokenValue=void 0,hasExtendedUnicodeEscape=!1,tokenIsUnterminated=!1}void 0===languageVariant&&(languageVariant=0);var pos,end,startPos,tokenPos,token,tokenValue,precedingLineBreak,hasExtendedUnicodeEscape,tokenIsUnterminated;return setText(text,start,length),{getStartPos:function(){return startPos},getTextPos:function(){return pos},getToken:function(){return token},getTokenPos:function(){return tokenPos},getTokenText:function(){return text.substring(tokenPos,pos)},getTokenValue:function(){return tokenValue},hasExtendedUnicodeEscape:function(){return hasExtendedUnicodeEscape},hasPrecedingLineBreak:function(){return precedingLineBreak},isIdentifier:function(){return 69===token||token>105},isReservedWord:function(){return token>=70&&105>=token},isUnterminated:function(){return tokenIsUnterminated},reScanGreaterToken:reScanGreaterToken,reScanSlashToken:reScanSlashToken,reScanTemplateToken:reScanTemplateToken,scanJsxIdentifier:scanJsxIdentifier,reScanJsxToken:reScanJsxToken,scanJsxToken:scanJsxToken,scanJSDocToken:scanJSDocToken,scan:scan,getText:getText,setText:setText,setScriptTarget:setScriptTarget,setLanguageVariant:setLanguageVariant,setOnError:setOnError,setTextPos:setTextPos,tryScan:tryScan,lookAhead:lookAhead,scanRange:scanRange}}ts.tokenIsIdentifierOrKeyword=tokenIsIdentifierOrKeyword;var textToToken=ts.createMap({abstract:115,any:117,as:116,boolean:120,break:70,case:71,catch:72,class:73,continue:75,const:74,constructor:121,debugger:76,declare:122,default:77,delete:78,do:79,else:80,enum:81,export:82,extends:83,false:84,finally:85,for:86,from:136,function:87,get:123,if:88,implements:106,import:89,in:90,instanceof:91,interface:107,is:124,let:108,module:125,namespace:126,never:127,new:92,null:93,number:130,package:109,private:110,protected:111,public:112,readonly:128,require:129,global:137,return:94,set:131,static:113,string:132,super:95,switch:96,symbol:133,this:97,throw:98,true:99,try:100,type:134,typeof:101,undefined:135,var:102,void:103,while:104,with:105,yield:114,async:118,await:119,of:138,"{":15,"}":16,"(":17,")":18,"[":19,"]":20,".":21,"...":22,";":23,",":24,"<":25,">":27,"<=":28,">=":29,"==":30,"!=":31,"===":32,"!==":33,"=>":34,"+":35,"-":36,"**":38,"*":37,"/":39,"%":40,"++":41,"--":42,"<<":43,"</":26,">>":44,">>>":45,"&":46,"|":47,"^":48,"!":49,"~":50,"&&":51,"||":52,"?":53,":":54,"=":56,"+=":57,"-=":58,"*=":59,"**=":60,"/=":61,"%=":62,"<<=":63,">>=":64,">>>=":65,"&=":66,"|=":67,"^=":68,"@":55}),unicodeES3IdentifierStart=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1569,1594,1600,1610,1649,1747,1749,1749,1765,1766,1786,1788,1808,1808,1810,1836,1920,1957,2309,2361,2365,2365,2384,2384,2392,2401,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2784,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2877,2877,2908,2909,2911,2913,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3294,3294,3296,3297,3333,3340,3342,3344,3346,3368,3370,3385,3424,3425,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3805,3840,3840,3904,3911,3913,3946,3976,3979,4096,4129,4131,4135,4137,4138,4176,4181,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6067,6176,6263,6272,6312,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8319,8319,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12329,12337,12341,12344,12346,12353,12436,12445,12446,12449,12538,12540,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65138,65140,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],unicodeES3IdentifierPart=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,768,846,864,866,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1155,1158,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1425,1441,1443,1465,1467,1469,1471,1471,1473,1474,1476,1476,1488,1514,1520,1522,1569,1594,1600,1621,1632,1641,1648,1747,1749,1756,1759,1768,1770,1773,1776,1788,1808,1836,1840,1866,1920,1968,2305,2307,2309,2361,2364,2381,2384,2388,2392,2403,2406,2415,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2492,2494,2500,2503,2504,2507,2509,2519,2519,2524,2525,2527,2531,2534,2545,2562,2562,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2649,2652,2654,2654,2662,2676,2689,2691,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2784,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2876,2883,2887,2888,2891,2893,2902,2903,2908,2909,2911,2913,2918,2927,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3006,3010,3014,3016,3018,3021,3031,3031,3047,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3134,3140,3142,3144,3146,3149,3157,3158,3168,3169,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3262,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3297,3302,3311,3330,3331,3333,3340,3342,3344,3346,3368,3370,3385,3390,3395,3398,3400,3402,3405,3415,3415,3424,3425,3430,3439,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3805,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3946,3953,3972,3974,3979,3984,3991,3993,4028,4038,4038,4096,4129,4131,4135,4137,4138,4140,4146,4150,4153,4160,4169,4176,4185,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,4969,4977,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6099,6112,6121,6160,6169,6176,6263,6272,6313,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8255,8256,8319,8319,8400,8412,8417,8417,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12335,12337,12341,12344,12346,12353,12436,12441,12442,12445,12446,12449,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65056,65059,65075,65076,65101,65103,65136,65138,65140,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65381,65470,65474,65479,65482,65487,65490,65495,65498,65500],unicodeES5IdentifierStart=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2208,2208,2210,2220,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],unicodeES5IdentifierPart=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1319,1329,1366,1369,1369,1377,1415,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1520,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2048,2093,2112,2139,2208,2208,2210,2220,2276,2302,2304,2403,2406,2415,2417,2423,2425,2431,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3140,3142,3144,3146,3149,3157,3158,3160,3161,3168,3171,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3299,3302,3311,3313,3314,3330,3331,3333,3340,3342,3344,3346,3386,3389,3396,3398,3400,3402,3406,3415,3415,3424,3427,3430,3439,3450,3455,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5908,5920,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6160,6169,6176,6263,6272,6314,6320,6389,6400,6428,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6617,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6912,6987,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7376,7378,7380,7414,7424,7654,7676,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8204,8205,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,11823,11823,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12442,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42647,42655,42737,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43047,43072,43123,43136,43204,43216,43225,43232,43255,43259,43259,43264,43309,43312,43347,43360,43388,43392,43456,43471,43481,43520,43574,43584,43597,43600,43609,43616,43638,43642,43643,43648,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65062,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500];ts.isUnicodeIdentifierStart=isUnicodeIdentifierStart;var tokenStrings=makeReverseMap(textToToken);ts.tokenToString=tokenToString,ts.stringToToken=stringToToken,ts.computeLineStarts=computeLineStarts,ts.getPositionOfLineAndCharacter=getPositionOfLineAndCharacter,ts.computePositionOfLineAndCharacter=computePositionOfLineAndCharacter,ts.getLineStarts=getLineStarts,ts.computeLineAndCharacterOfPosition=computeLineAndCharacterOfPosition,ts.getLineAndCharacterOfPosition=getLineAndCharacterOfPosition;var hasOwnProperty=Object.prototype.hasOwnProperty;ts.isWhiteSpace=isWhiteSpace,ts.isWhiteSpaceSingleLine=isWhiteSpaceSingleLine,ts.isLineBreak=isLineBreak,ts.isOctalDigit=isOctalDigit,ts.couldStartTrivia=couldStartTrivia,ts.skipTrivia=skipTrivia;var mergeConflictMarkerLength="<<<<<<<".length,shebangTriviaRegex=/^#!.*/;ts.getLeadingCommentRanges=getLeadingCommentRanges,ts.getTrailingCommentRanges=getTrailingCommentRanges,ts.getShebang=getShebang,ts.isIdentifierStart=isIdentifierStart,ts.isIdentifierPart=isIdentifierPart,ts.isIdentifier=isIdentifier,ts.createScanner=createScanner}(ts||(ts={}));var ts;!function(ts){function getDeclarationOfKind(symbol,kind){var declarations=symbol.declarations;if(declarations)for(var _i=0,declarations_1=declarations;_i<declarations_1.length;_i++){var declaration=declarations_1[_i];if(declaration.kind===kind)return declaration}return void 0}function getSingleLineStringWriter(){if(0===stringWriters.length){var str_1="",writeText=function(text){return str_1+=text};return{string:function(){return str_1},writeKeyword:writeText,writeOperator:writeText,writePunctuation:writeText,writeSpace:writeText,writeStringLiteral:writeText,writeParameter:writeText,writeSymbol:writeText,writeLine:function(){return str_1+=" "},increaseIndent:function(){},decreaseIndent:function(){},clear:function(){return str_1=""},trackSymbol:function(){},reportInaccessibleThisError:function(){}}}return stringWriters.pop()}function releaseStringWriter(writer){writer.clear(),stringWriters.push(writer)}function getFullWidth(node){return node.end-node.pos}function arrayIsEqualTo(array1,array2,equaler){if(!array1||!array2)return array1===array2;if(array1.length!==array2.length)return!1;for(var i=0;i<array1.length;i++){var equals=equaler?equaler(array1[i],array2[i]):array1[i]===array2[i];if(!equals)return!1}return!0}function hasResolvedModule(sourceFile,moduleNameText){return!(!sourceFile.resolvedModules||!sourceFile.resolvedModules[moduleNameText])}function getResolvedModule(sourceFile,moduleNameText){return hasResolvedModule(sourceFile,moduleNameText)?sourceFile.resolvedModules[moduleNameText]:void 0}function setResolvedModule(sourceFile,moduleNameText,resolvedModule){sourceFile.resolvedModules||(sourceFile.resolvedModules=ts.createMap()),sourceFile.resolvedModules[moduleNameText]=resolvedModule}function setResolvedTypeReferenceDirective(sourceFile,typeReferenceDirectiveName,resolvedTypeReferenceDirective){sourceFile.resolvedTypeReferenceDirectiveNames||(sourceFile.resolvedTypeReferenceDirectiveNames=ts.createMap()),sourceFile.resolvedTypeReferenceDirectiveNames[typeReferenceDirectiveName]=resolvedTypeReferenceDirective}function moduleResolutionIsEqualTo(oldResolution,newResolution){return oldResolution.resolvedFileName===newResolution.resolvedFileName&&oldResolution.isExternalLibraryImport===newResolution.isExternalLibraryImport}function typeDirectiveIsEqualTo(oldResolution,newResolution){return oldResolution.resolvedFileName===newResolution.resolvedFileName&&oldResolution.primary===newResolution.primary}function hasChangesInResolutions(names,newResolutions,oldResolutions,comparer){if(names.length!==newResolutions.length)return!1;for(var i=0;i<names.length;i++){var newResolution=newResolutions[i],oldResolution=oldResolutions&&oldResolutions[names[i]],changed=oldResolution?!newResolution||!comparer(oldResolution,newResolution):newResolution;if(changed)return!0}return!1}function containsParseError(node){return aggregateChildData(node),0!==(268435456&node.flags)}function aggregateChildData(node){if(!(536870912&node.flags)){var thisNodeOrAnySubNodesHasError=0!==(67108864&node.flags)||ts.forEachChild(node,containsParseError);thisNodeOrAnySubNodesHasError&&(node.flags|=268435456),node.flags|=536870912}}function getSourceFileOfNode(node){for(;node&&256!==node.kind;)node=node.parent;return node}function isStatementWithLocals(node){switch(node.kind){case 199:case 227:case 206:case 207:case 208:return!0}return!1}function getStartPositionOfLine(line,sourceFile){return ts.Debug.assert(line>=0),ts.getLineStarts(sourceFile)[line]}function nodePosToString(node){var file=getSourceFileOfNode(node),loc=ts.getLineAndCharacterOfPosition(file,node.pos);return file.fileName+"("+(loc.line+1)+","+(loc.character+1)+")"}function getStartPosOfNode(node){return node.pos}function getEndLinePosition(line,sourceFile){ts.Debug.assert(line>=0);var lineStarts=ts.getLineStarts(sourceFile),lineIndex=line,sourceText=sourceFile.text;if(lineIndex+1===lineStarts.length)return sourceText.length-1;var start=lineStarts[lineIndex],pos=lineStarts[lineIndex+1]-1;for(ts.Debug.assert(ts.isLineBreak(sourceText.charCodeAt(pos)));pos>=start&&ts.isLineBreak(sourceText.charCodeAt(pos));)pos--;return pos}function nodeIsMissing(node){return node?node.pos===node.end&&node.pos>=0&&1!==node.kind:!0}function nodeIsPresent(node){return!nodeIsMissing(node)}function getTokenPosOfNode(node,sourceFile,includeJsDocComment){return nodeIsMissing(node)?node.pos:isJSDocNode(node)?ts.skipTrivia((sourceFile||getSourceFileOfNode(node)).text,node.pos,!1,!0):includeJsDocComment&&node.jsDocComments&&node.jsDocComments.length>0?getTokenPosOfNode(node.jsDocComments[0]):286===node.kind&&node._children.length>0?getTokenPosOfNode(node._children[0],sourceFile,includeJsDocComment):ts.skipTrivia((sourceFile||getSourceFileOfNode(node)).text,node.pos)}function isJSDocNode(node){return node.kind>=257&&node.kind<=282}function isJSDocTag(node){return node.kind>=273&&node.kind<=285}function getNonDecoratorTokenPosOfNode(node,sourceFile){return nodeIsMissing(node)||!node.decorators?getTokenPosOfNode(node,sourceFile):ts.skipTrivia((sourceFile||getSourceFileOfNode(node)).text,node.decorators.end)}function getSourceTextOfNodeFromSourceFile(sourceFile,node,includeTrivia){if(void 0===includeTrivia&&(includeTrivia=!1),nodeIsMissing(node))return"";var text=sourceFile.text;return text.substring(includeTrivia?node.pos:ts.skipTrivia(text,node.pos),node.end)}function getTextOfNodeFromSourceText(sourceText,node){return nodeIsMissing(node)?"":sourceText.substring(ts.skipTrivia(sourceText,node.pos),node.end)}function getTextOfNode(node,includeTrivia){return void 0===includeTrivia&&(includeTrivia=!1),getSourceTextOfNodeFromSourceFile(getSourceFileOfNode(node),node,includeTrivia)}function escapeIdentifier(identifier){return identifier.length>=2&&95===identifier.charCodeAt(0)&&95===identifier.charCodeAt(1)?"_"+identifier:identifier}function unescapeIdentifier(identifier){return identifier.length>=3&&95===identifier.charCodeAt(0)&&95===identifier.charCodeAt(1)&&95===identifier.charCodeAt(2)?identifier.substr(1):identifier}function makeIdentifierFromModuleName(moduleName){return ts.getBaseFileName(moduleName).replace(/^(\d)/,"_$1").replace(/\W/g,"_")}function isBlockOrCatchScoped(declaration){return 0!==(3072&getCombinedNodeFlags(declaration))||isCatchClauseVariableDeclaration(declaration)}function isAmbientModule(node){return node&&225===node.kind&&(9===node.name.kind||isGlobalScopeAugmentation(node))}function isShorthandAmbientModuleSymbol(moduleSymbol){return isShorthandAmbientModule(moduleSymbol.valueDeclaration)}function isShorthandAmbientModule(node){return 225===node.kind&&!node.body}function isBlockScopedContainerTopLevel(node){return 256===node.kind||225===node.kind||isFunctionLike(node)||isFunctionBlock(node)}function isGlobalScopeAugmentation(module){return!!(131072&module.flags)}function isExternalModuleAugmentation(node){if(!node||!isAmbientModule(node))return!1;
switch(node.parent.kind){case 256:return ts.isExternalModule(node.parent);case 226:return isAmbientModule(node.parent.parent)&&!ts.isExternalModule(node.parent.parent.parent)}return!1}function getEnclosingBlockScopeContainer(node){for(var current=node.parent;current;){if(isFunctionLike(current))return current;switch(current.kind){case 256:case 227:case 252:case 225:case 206:case 207:case 208:return current;case 199:if(!isFunctionLike(current.parent))return current}current=current.parent}}function isCatchClauseVariableDeclaration(declaration){return declaration&&218===declaration.kind&&declaration.parent&&252===declaration.parent.kind}function declarationNameToString(name){return 0===getFullWidth(name)?"(Missing)":getTextOfNode(name)}function createDiagnosticForNode(node,message,arg0,arg1,arg2){var sourceFile=getSourceFileOfNode(node),span=getErrorSpanForNode(sourceFile,node);return ts.createFileDiagnostic(sourceFile,span.start,span.length,message,arg0,arg1,arg2)}function createDiagnosticForNodeFromMessageChain(node,messageChain){var sourceFile=getSourceFileOfNode(node),span=getErrorSpanForNode(sourceFile,node);return{file:sourceFile,start:span.start,length:span.length,code:messageChain.code,category:messageChain.category,messageText:messageChain.next?messageChain:messageChain.messageText}}function getSpanOfTokenAtPosition(sourceFile,pos){var scanner=ts.createScanner(sourceFile.languageVersion,!0,sourceFile.languageVariant,sourceFile.text,void 0,pos);scanner.scan();var start=scanner.getTokenPos();return ts.createTextSpanFromBounds(start,scanner.getTextPos())}function getErrorSpanForArrowFunction(sourceFile,node){var pos=ts.skipTrivia(sourceFile.text,node.pos);if(node.body&&199===node.body.kind){var startLine=ts.getLineAndCharacterOfPosition(sourceFile,node.body.pos).line,endLine=ts.getLineAndCharacterOfPosition(sourceFile,node.body.end).line;if(endLine>startLine)return ts.createTextSpan(pos,getEndLinePosition(startLine,sourceFile)-pos+1)}return ts.createTextSpanFromBounds(pos,node.end)}function getErrorSpanForNode(sourceFile,node){var errorNode=node;switch(node.kind){case 256:var pos_1=ts.skipTrivia(sourceFile.text,0,!1);return pos_1===sourceFile.text.length?ts.createTextSpan(0,0):getSpanOfTokenAtPosition(sourceFile,pos_1);case 218:case 169:case 221:case 192:case 222:case 225:case 224:case 255:case 220:case 179:case 147:case 149:case 150:case 223:errorNode=node.name;break;case 180:return getErrorSpanForArrowFunction(sourceFile,node)}if(void 0===errorNode)return getSpanOfTokenAtPosition(sourceFile,node.pos);var pos=nodeIsMissing(errorNode)?errorNode.pos:ts.skipTrivia(sourceFile.text,errorNode.pos);return ts.createTextSpanFromBounds(pos,errorNode.end)}function isExternalOrCommonJsModule(file){return void 0!==(file.externalModuleIndicator||file.commonJsModuleIndicator)}function isDeclarationFile(file){return file.isDeclarationFile}function isConstEnumDeclaration(node){return 224===node.kind&&isConst(node)}function walkUpBindingElementsAndPatterns(node){for(;node&&(169===node.kind||isBindingPattern(node));)node=node.parent;return node}function getCombinedNodeFlags(node){node=walkUpBindingElementsAndPatterns(node);var flags=node.flags;return 218===node.kind&&(node=node.parent),node&&219===node.kind&&(flags|=node.flags,node=node.parent),node&&200===node.kind&&(flags|=node.flags),flags}function isConst(node){return!!(2048&getCombinedNodeFlags(node))}function isLet(node){return!!(1024&getCombinedNodeFlags(node))}function isSuperCallExpression(n){return 174===n.kind&&95===n.expression.kind}function isPrologueDirective(node){return 202===node.kind&&9===node.expression.kind}function getLeadingCommentRangesOfNode(node,sourceFileOfNode){return ts.getLeadingCommentRanges(sourceFileOfNode.text,node.pos)}function getLeadingCommentRangesOfNodeFromText(node,text){return ts.getLeadingCommentRanges(text,node.pos)}function getJsDocComments(node,sourceFileOfNode){return getJsDocCommentsFromText(node,sourceFileOfNode.text)}function getJsDocCommentsFromText(node,text){function isJsDocComment(comment){return 42===text.charCodeAt(comment.pos+1)&&42===text.charCodeAt(comment.pos+2)&&47!==text.charCodeAt(comment.pos+3)}var commentRanges=142===node.kind||141===node.kind||179===node.kind||180===node.kind?ts.concatenate(ts.getTrailingCommentRanges(text,node.pos),ts.getLeadingCommentRanges(text,node.pos)):getLeadingCommentRangesOfNodeFromText(node,text);return ts.filter(commentRanges,isJsDocComment)}function isTypeNode(node){if(154<=node.kind&&node.kind<=166)return!0;switch(node.kind){case 117:case 130:case 132:case 120:case 133:case 135:case 127:return!0;case 103:return 183!==node.parent.kind;case 194:return!isExpressionWithTypeArgumentsInClassExtendsClause(node);case 69:139===node.parent.kind&&node.parent.right===node?node=node.parent:172===node.parent.kind&&node.parent.name===node&&(node=node.parent),ts.Debug.assert(69===node.kind||139===node.kind||172===node.kind,"'node' was expected to be a qualified name, identifier or property access in 'isTypeNode'.");case 139:case 172:case 97:var parent_1=node.parent;if(158===parent_1.kind)return!1;if(154<=parent_1.kind&&parent_1.kind<=166)return!0;switch(parent_1.kind){case 194:return!isExpressionWithTypeArgumentsInClassExtendsClause(parent_1);case 141:return node===parent_1.constraint;case 145:case 144:case 142:case 218:return node===parent_1.type;case 220:case 179:case 180:case 148:case 147:case 146:case 149:case 150:return node===parent_1.type;case 151:case 152:case 153:return node===parent_1.type;case 177:return node===parent_1.type;case 174:case 175:return parent_1.typeArguments&&ts.indexOf(parent_1.typeArguments,node)>=0;case 176:return!1}}return!1}function forEachReturnStatement(body,visitor){function traverse(node){switch(node.kind){case 211:return visitor(node);case 227:case 199:case 203:case 204:case 205:case 206:case 207:case 208:case 212:case 213:case 249:case 250:case 214:case 216:case 252:return ts.forEachChild(node,traverse)}}return traverse(body)}function forEachYieldExpression(body,visitor){function traverse(node){switch(node.kind){case 190:visitor(node);var operand=node.expression;operand&&traverse(operand);case 224:case 222:case 225:case 223:case 221:case 192:return;default:if(isFunctionLike(node)){var name_5=node.name;if(name_5&&140===name_5.kind)return void traverse(name_5.expression)}else isTypeNode(node)||ts.forEachChild(node,traverse)}}return traverse(body)}function isVariableLike(node){if(node)switch(node.kind){case 169:case 255:case 142:case 253:case 145:case 144:case 254:case 218:return!0}return!1}function isAccessor(node){return node&&(149===node.kind||150===node.kind)}function isClassLike(node){return node&&(221===node.kind||192===node.kind)}function isFunctionLike(node){return node&&isFunctionLikeKind(node.kind)}function isFunctionLikeKind(kind){switch(kind){case 148:case 179:case 220:case 180:case 147:case 146:case 149:case 150:case 151:case 152:case 153:case 156:case 157:return!0}return!1}function introducesArgumentsExoticObject(node){switch(node.kind){case 147:case 146:case 148:case 149:case 150:case 220:case 179:return!0}return!1}function isIterationStatement(node,lookInLabeledStatements){switch(node.kind){case 206:case 207:case 208:case 204:case 205:return!0;case 214:return lookInLabeledStatements&&isIterationStatement(node.statement,lookInLabeledStatements)}return!1}function isFunctionBlock(node){return node&&199===node.kind&&isFunctionLike(node.parent)}function isObjectLiteralMethod(node){return node&&147===node.kind&&171===node.parent.kind}function isIdentifierTypePredicate(predicate){return predicate&&1===predicate.kind}function isThisTypePredicate(predicate){return predicate&&0===predicate.kind}function getContainingFunction(node){for(;;)if(node=node.parent,!node||isFunctionLike(node))return node}function getContainingClass(node){for(;;)if(node=node.parent,!node||isClassLike(node))return node}function getThisContainer(node,includeArrowFunctions){for(;;){if(node=node.parent,!node)return void 0;switch(node.kind){case 140:if(isClassLike(node.parent.parent))return node;node=node.parent;break;case 143:142===node.parent.kind&&isClassElement(node.parent.parent)?node=node.parent.parent:isClassElement(node.parent)&&(node=node.parent);break;case 180:if(!includeArrowFunctions)continue;case 220:case 179:case 225:case 145:case 144:case 147:case 146:case 148:case 149:case 150:case 151:case 152:case 153:case 224:case 256:return node}}}function getSuperContainer(node,stopOnFunctions){for(;;){if(node=node.parent,!node)return node;switch(node.kind){case 140:node=node.parent;break;case 220:case 179:case 180:if(!stopOnFunctions)continue;case 145:case 144:case 147:case 146:case 148:case 149:case 150:return node;case 143:142===node.parent.kind&&isClassElement(node.parent.parent)?node=node.parent.parent:isClassElement(node.parent)&&(node=node.parent)}}}function getImmediatelyInvokedFunctionExpression(func){if(179===func.kind||180===func.kind){for(var prev=func,parent_2=func.parent;178===parent_2.kind;)prev=parent_2,parent_2=parent_2.parent;if(174===parent_2.kind&&parent_2.expression===prev)return parent_2}}function isSuperPropertyOrElementAccess(node){return(172===node.kind||173===node.kind)&&95===node.expression.kind}function getEntityNameFromTypeNode(node){if(node)switch(node.kind){case 155:return node.typeName;case 194:return ts.Debug.assert(isEntityNameExpression(node.expression)),node.expression;case 69:case 139:return node}return void 0}function getInvokedExpression(node){return 176===node.kind?node.tag:node.expression}function nodeCanBeDecorated(node){switch(node.kind){case 221:return!0;case 145:return 221===node.parent.kind;case 149:case 150:case 147:return void 0!==node.body&&221===node.parent.kind;case 142:return void 0!==node.parent.body&&(148===node.parent.kind||147===node.parent.kind||150===node.parent.kind)&&221===node.parent.parent.kind}return!1}function nodeIsDecorated(node){return void 0!==node.decorators&&nodeCanBeDecorated(node)}function isPropertyAccessExpression(node){return 172===node.kind}function isElementAccessExpression(node){return 173===node.kind}function isJSXTagName(node){var parent=node.parent;return 243===parent.kind||242===parent.kind||245===parent.kind?parent.tagName===node:!1}function isExpression(node){switch(node.kind){case 97:case 95:case 93:case 99:case 84:case 10:case 170:case 171:case 172:case 173:case 174:case 175:case 176:case 195:case 177:case 196:case 178:case 179:case 192:case 180:case 183:case 181:case 182:case 185:case 186:case 187:case 188:case 191:case 189:case 11:case 193:case 241:case 242:case 190:case 184:return!0;case 139:for(;139===node.parent.kind;)node=node.parent;return 158===node.parent.kind||isJSXTagName(node);case 69:if(158===node.parent.kind||isJSXTagName(node))return!0;case 8:case 9:case 97:var parent_3=node.parent;switch(parent_3.kind){case 218:case 142:case 145:case 144:case 255:case 253:case 169:return parent_3.initializer===node;case 202:case 203:case 204:case 205:case 211:case 212:case 213:case 249:case 215:case 213:return parent_3.expression===node;case 206:var forStatement=parent_3;return forStatement.initializer===node&&219!==forStatement.initializer.kind||forStatement.condition===node||forStatement.incrementor===node;case 207:case 208:var forInStatement=parent_3;return forInStatement.initializer===node&&219!==forInStatement.initializer.kind||forInStatement.expression===node;case 177:case 195:return node===parent_3.expression;case 197:return node===parent_3.expression;case 140:return node===parent_3.expression;case 143:case 248:case 247:return!0;case 194:return parent_3.expression===node&&isExpressionWithTypeArgumentsInClassExtendsClause(parent_3);default:if(isExpression(parent_3))return!0}}return!1}function isInstantiatedModule(node,preserveConstEnums){var moduleState=ts.getModuleInstanceState(node);return 1===moduleState||preserveConstEnums&&2===moduleState}function isExternalModuleImportEqualsDeclaration(node){return 229===node.kind&&240===node.moduleReference.kind}function getExternalModuleImportEqualsDeclarationExpression(node){return ts.Debug.assert(isExternalModuleImportEqualsDeclaration(node)),node.moduleReference.expression}function isInternalModuleImportEqualsDeclaration(node){return 229===node.kind&&240!==node.moduleReference.kind}function isSourceFileJavaScript(file){return isInJavaScriptFile(file)}function isInJavaScriptFile(node){return node&&!!(134217728&node.flags)}function isRequireCall(expression,checkArgumentIsStringLiteral){var isRequire=174===expression.kind&&69===expression.expression.kind&&"require"===expression.expression.text&&1===expression.arguments.length;return isRequire&&(!checkArgumentIsStringLiteral||9===expression.arguments[0].kind)}function isSingleOrDoubleQuote(charCode){return 39===charCode||34===charCode}function isDeclarationOfFunctionExpression(s){if(s.valueDeclaration&&218===s.valueDeclaration.kind){var declaration=s.valueDeclaration;return declaration.initializer&&179===declaration.initializer.kind}return!1}function getSpecialPropertyAssignmentKind(expression){if(!isInJavaScriptFile(expression))return 0;if(187!==expression.kind)return 0;var expr=expression;if(56!==expr.operatorToken.kind||172!==expr.left.kind)return 0;var lhs=expr.left;if(69===lhs.expression.kind){var lhsId=lhs.expression;if("exports"===lhsId.text)return 1;if("module"===lhsId.text&&"exports"===lhs.name.text)return 2}else{if(97===lhs.expression.kind)return 4;if(172===lhs.expression.kind){var innerPropertyAccess=lhs.expression;if(69===innerPropertyAccess.expression.kind){var innerPropertyAccessIdentifier=innerPropertyAccess.expression;if("module"===innerPropertyAccessIdentifier.text&&"exports"===innerPropertyAccess.name.text)return 1;if("prototype"===innerPropertyAccess.name.text)return 3}}}return 0}function getExternalModuleName(node){if(230===node.kind)return node.moduleSpecifier;if(229===node.kind){var reference=node.moduleReference;if(240===reference.kind)return reference.expression}return 236===node.kind?node.moduleSpecifier:225===node.kind&&9===node.name.kind?node.name:void 0}function hasQuestionToken(node){if(node)switch(node.kind){case 142:case 147:case 146:case 254:case 253:case 145:case 144:return void 0!==node.questionToken}return!1}function isJSDocConstructSignature(node){return 269===node.kind&&node.parameters.length>0&&271===node.parameters[0].type.kind}function getJSDocTag(node,kind,checkParentVariableStatement){if(!node)return void 0;var jsDocComments=getJSDocComments(node,checkParentVariableStatement);if(!jsDocComments)return void 0;for(var _i=0,jsDocComments_1=jsDocComments;_i<jsDocComments_1.length;_i++)for(var jsDocComment=jsDocComments_1[_i],_a=0,_b=jsDocComment.tags;_a<_b.length;_a++){var tag=_b[_a];if(tag.kind===kind)return tag}}function getJSDocComments(node,checkParentVariableStatement){if(node.jsDocComments)return node.jsDocComments;if(checkParentVariableStatement){var isInitializerOfVariableDeclarationInStatement=218===node.parent.kind&&node.parent.initializer===node&&200===node.parent.parent.parent.kind,variableStatementNode=isInitializerOfVariableDeclarationInStatement?node.parent.parent.parent:void 0;if(variableStatementNode)return variableStatementNode.jsDocComments;var parent_4=node.parent,isSourceOfAssignmentExpressionStatement=parent_4&&parent_4.parent&&187===parent_4.kind&&56===parent_4.operatorToken.kind&&202===parent_4.parent.kind;if(isSourceOfAssignmentExpressionStatement)return parent_4.parent.jsDocComments;var isPropertyAssignmentExpression=parent_4&&253===parent_4.kind;if(isPropertyAssignmentExpression)return parent_4.jsDocComments}return void 0}function getJSDocTypeTag(node){return getJSDocTag(node,277,!1)}function getJSDocReturnTag(node){return getJSDocTag(node,276,!0)}function getJSDocTemplateTag(node){return getJSDocTag(node,278,!1)}function getCorrespondingJSDocParameterTag(parameter){if(parameter.name&&69===parameter.name.kind){var parameterName=parameter.name.text,jsDocComments=getJSDocComments(parameter.parent,!0);if(jsDocComments)for(var _i=0,jsDocComments_2=jsDocComments;_i<jsDocComments_2.length;_i++)for(var jsDocComment=jsDocComments_2[_i],_a=0,_b=jsDocComment.tags;_a<_b.length;_a++){var tag=_b[_a];if(275===tag.kind){var parameterTag=tag,name_6=parameterTag.preParameterName||parameterTag.postParameterName;if(name_6.text===parameterName)return parameterTag}}}return void 0}function hasRestParameter(s){return isRestParameter(ts.lastOrUndefined(s.parameters))}function hasDeclaredRestParameter(s){return isDeclaredRestParam(ts.lastOrUndefined(s.parameters))}function isRestParameter(node){if(node&&134217728&node.flags){if(node.type&&270===node.type.kind)return!0;var paramTag=getCorrespondingJSDocParameterTag(node);if(paramTag&&paramTag.typeExpression)return 270===paramTag.typeExpression.type.kind}return isDeclaredRestParam(node)}function isDeclaredRestParam(node){return node&&void 0!==node.dotDotDotToken}function isLiteralKind(kind){return kind>=8&&11>=kind}function isTextualLiteralKind(kind){return 9===kind||11===kind}function isTemplateLiteralKind(kind){return kind>=11&&14>=kind}function isBindingPattern(node){return!!node&&(168===node.kind||167===node.kind)}function isAssignmentTarget(node){for(;178===node.parent.kind;)node=node.parent;for(;;){var parent_5=node.parent;if(170!==parent_5.kind&&191!==parent_5.kind){if(253!==parent_5.kind&&254!==parent_5.kind)return 187===parent_5.kind&&isAssignmentOperator(parent_5.operatorToken.kind)&&parent_5.left===node||(207===parent_5.kind||208===parent_5.kind)&&parent_5.initializer===node;node=parent_5.parent}else node=parent_5}}function isNodeDescendentOf(node,ancestor){for(;node;){if(node===ancestor)return!0;node=node.parent}return!1}function isInAmbientContext(node){for(;node;){if(2&node.flags||256===node.kind&&node.isDeclarationFile)return!0;node=node.parent}return!1}function isDeclaration(node){switch(node.kind){case 180:case 169:case 221:case 192:case 148:case 224:case 255:case 238:case 220:case 179:case 149:case 231:case 229:case 234:case 222:case 147:case 146:case 225:case 232:case 228:case 142:case 253:case 145:case 144:case 150:case 254:case 223:case 141:case 218:case 279:return!0}return!1}function isStatement(n){switch(n.kind){case 210:case 209:case 217:case 204:case 202:case 201:case 207:case 208:case 206:case 203:case 214:case 211:case 213:case 215:case 216:case 200:case 205:case 212:case 235:return!0;default:return!1}}function isClassElement(n){switch(n.kind){case 148:case 145:case 147:case 149:case 150:case 146:case 153:return!0;default:return!1}}function isDeclarationName(name){if(69!==name.kind&&9!==name.kind&&8!==name.kind)return!1;var parent=name.parent;return 234!==parent.kind&&238!==parent.kind||!parent.propertyName?isDeclaration(parent)?parent.name===name:!1:!0}function isLiteralComputedPropertyDeclarationName(node){return(9===node.kind||8===node.kind)&&140===node.parent.kind&&isDeclaration(node.parent.parent)}function isIdentifierName(node){var parent=node.parent;switch(parent.kind){case 145:case 144:case 147:case 146:case 149:case 150:case 255:case 253:case 172:return parent.name===node;case 139:if(parent.right===node){for(;139===parent.kind;)parent=parent.parent;return 158===parent.kind}return!1;case 169:case 234:return parent.propertyName===node;case 238:return!0}return!1}function isAliasSymbolDeclaration(node){return 229===node.kind||228===node.kind||231===node.kind&&!!node.name||232===node.kind||234===node.kind||238===node.kind||235===node.kind&&exportAssignmentIsAlias(node)}function exportAssignmentIsAlias(node){return isEntityNameExpression(node.expression)}function getClassExtendsHeritageClauseElement(node){var heritageClause=getHeritageClause(node.heritageClauses,83);return heritageClause&&heritageClause.types.length>0?heritageClause.types[0]:void 0}function getClassImplementsHeritageClauseElements(node){var heritageClause=getHeritageClause(node.heritageClauses,106);return heritageClause?heritageClause.types:void 0}function getInterfaceBaseTypeNodes(node){var heritageClause=getHeritageClause(node.heritageClauses,83);return heritageClause?heritageClause.types:void 0}function getHeritageClause(clauses,kind){if(clauses)for(var _i=0,clauses_1=clauses;_i<clauses_1.length;_i++){var clause=clauses_1[_i];if(clause.token===kind)return clause}return void 0}function tryResolveScriptReference(host,sourceFile,reference){if(!host.getCompilerOptions().noResolve){var referenceFileName=ts.isRootedDiskPath(reference.fileName)?reference.fileName:ts.combinePaths(ts.getDirectoryPath(sourceFile.fileName),reference.fileName);return host.getSourceFile(referenceFileName)}}function getAncestor(node,kind){for(;node;){if(node.kind===kind)return node;node=node.parent}return void 0}function getFileReferenceFromReferencePath(comment,commentRange){var simpleReferenceRegEx=/^\/\/\/\s*<reference\s+/gim,isNoDefaultLibRegEx=/^(\/\/\/\s*<reference\s+no-default-lib\s*=\s*)('|")(.+?)\2\s*\/>/gim;if(simpleReferenceRegEx.test(comment)){if(isNoDefaultLibRegEx.test(comment))return{isNoDefaultLib:!0};var refMatchResult=ts.fullTripleSlashReferencePathRegEx.exec(comment),refLibResult=!refMatchResult&&ts.fullTripleSlashReferenceTypeReferenceDirectiveRegEx.exec(comment);if(refMatchResult||refLibResult){var start=commentRange.pos,end=commentRange.end;return{fileReference:{pos:start,end:end,fileName:(refMatchResult||refLibResult)[3]},isNoDefaultLib:!1,isTypeReferenceDirective:!!refLibResult}}return{diagnosticMessage:ts.Diagnostics.Invalid_reference_directive_syntax,isNoDefaultLib:!1}}return void 0}function isKeyword(token){return token>=70&&138>=token}function isTrivia(token){return token>=2&&7>=token}function isAsyncFunctionLike(node){return isFunctionLike(node)&&0!==(256&node.flags)&&!isAccessor(node)}function isStringOrNumericLiteral(kind){return 9===kind||8===kind}function hasDynamicName(declaration){return declaration.name&&isDynamicName(declaration.name)}function isDynamicName(name){return 140===name.kind&&!isStringOrNumericLiteral(name.expression.kind)&&!isWellKnownSymbolSyntactically(name.expression)}function isWellKnownSymbolSyntactically(node){return isPropertyAccessExpression(node)&&isESSymbolIdentifier(node.expression)}function getPropertyNameForPropertyNameNode(name){if(69===name.kind||9===name.kind||8===name.kind||142===name.kind)return name.text;if(140===name.kind){var nameExpression=name.expression;if(isWellKnownSymbolSyntactically(nameExpression)){var rightHandSideName=nameExpression.name.text;return getPropertyNameForKnownSymbolName(rightHandSideName)}if(9===nameExpression.kind||8===nameExpression.kind)return nameExpression.text}return void 0}function getPropertyNameForKnownSymbolName(symbolName){return"__@"+symbolName}function isESSymbolIdentifier(node){return 69===node.kind&&"Symbol"===node.text}function isModifierKind(token){switch(token){case 115:case 118:case 74:case 122:case 77:case 82:case 112:case 110:case 111:case 128:case 113:return!0}return!1}function isParameterDeclaration(node){var root=getRootDeclaration(node);return 142===root.kind}function getRootDeclaration(node){for(;169===node.kind;)node=node.parent.parent;return node}function nodeStartsNewLexicalEnvironment(n){return isFunctionLike(n)||225===n.kind||256===n.kind}function cloneNode(node,location,flags,parent){var clone=void 0!==location?ts.createNode(node.kind,location.pos,location.end):createSynthesizedNode(node.kind);for(var key in node)!clone.hasOwnProperty(key)&&node.hasOwnProperty(key)&&(clone[key]=node[key]);return void 0!==flags&&(clone.flags=flags),void 0!==parent&&(clone.parent=parent),clone}function cloneEntityName(node,parent){var clone=cloneNode(node,node,node.flags,parent);if(isQualifiedName(clone)){var left=clone.left,right=clone.right;clone.left=cloneEntityName(left,clone),clone.right=cloneNode(right,right,right.flags,parent)}return clone}function isQualifiedName(node){return 139===node.kind}function nodeIsSynthesized(node){return-1===node.pos}function createSynthesizedNode(kind,startsOnNewLine){var node=ts.createNode(kind,-1,-1);return node.startsOnNewLine=startsOnNewLine,node}function createSynthesizedNodeArray(){var array=[];return array.pos=-1,array.end=-1,array}function createDiagnosticCollection(){function getModificationCount(){return modificationCount}function reattachFileDiagnostics(newFile){var diagnostics=fileDiagnostics[newFile.fileName];if(diagnostics)for(var _i=0,diagnostics_1=diagnostics;_i<diagnostics_1.length;_i++){var diagnostic=diagnostics_1[_i];diagnostic.file=newFile}}function add(diagnostic){var diagnostics;diagnostic.file?(diagnostics=fileDiagnostics[diagnostic.file.fileName],diagnostics||(diagnostics=[],fileDiagnostics[diagnostic.file.fileName]=diagnostics)):diagnostics=nonFileDiagnostics,diagnostics.push(diagnostic),diagnosticsModified=!0,modificationCount++}function getGlobalDiagnostics(){return sortAndDeduplicate(),nonFileDiagnostics}function getDiagnostics(fileName){function pushDiagnostic(d){allDiagnostics.push(d)}if(sortAndDeduplicate(),fileName)return fileDiagnostics[fileName]||[];var allDiagnostics=[];ts.forEach(nonFileDiagnostics,pushDiagnostic);for(var key in fileDiagnostics)ts.forEach(fileDiagnostics[key],pushDiagnostic);return ts.sortAndDeduplicateDiagnostics(allDiagnostics)}function sortAndDeduplicate(){if(diagnosticsModified){diagnosticsModified=!1,nonFileDiagnostics=ts.sortAndDeduplicateDiagnostics(nonFileDiagnostics);for(var key in fileDiagnostics)fileDiagnostics[key]=ts.sortAndDeduplicateDiagnostics(fileDiagnostics[key])}}var nonFileDiagnostics=[],fileDiagnostics=ts.createMap(),diagnosticsModified=!1,modificationCount=0;return{add:add,getGlobalDiagnostics:getGlobalDiagnostics,getDiagnostics:getDiagnostics,getModificationCount:getModificationCount,reattachFileDiagnostics:reattachFileDiagnostics}}function escapeString(s){function getReplacement(c){return escapedCharsMap[c]||get16BitUnicodeEscapeSequence(c.charCodeAt(0))}return s=escapedCharsRegExp.test(s)?s.replace(escapedCharsRegExp,getReplacement):s}function isIntrinsicJsxName(name){var ch=name.substr(0,1);return ch.toLowerCase()===ch}function get16BitUnicodeEscapeSequence(charCode){var hexCharCode=charCode.toString(16).toUpperCase(),paddedHexCode=("0000"+hexCharCode).slice(-4);return"\\u"+paddedHexCode}function escapeNonAsciiCharacters(s){return nonAsciiCharacters.test(s)?s.replace(nonAsciiCharacters,function(c){return get16BitUnicodeEscapeSequence(c.charCodeAt(0))}):s}function getIndentString(level){return void 0===indentStrings[level]&&(indentStrings[level]=getIndentString(level-1)+indentStrings[1]),indentStrings[level]}function getIndentSize(){return indentStrings[1].length}function createTextWriter(newLine){function write(s){s&&s.length&&(lineStart&&(output+=getIndentString(indent),lineStart=!1),output+=s)}function reset(){output="",indent=0,lineStart=!0,lineCount=0,linePos=0}function rawWrite(s){void 0!==s&&(lineStart&&(lineStart=!1),output+=s)}function writeLiteral(s){if(s&&s.length){write(s);var lineStartsOfS=ts.computeLineStarts(s);lineStartsOfS.length>1&&(lineCount=lineCount+lineStartsOfS.length-1,linePos=output.length-s.length+ts.lastOrUndefined(lineStartsOfS))}}function writeLine(){lineStart||(output+=newLine,lineCount++,linePos=output.length,lineStart=!0)}function writeTextOfNode(text,node){write(getTextOfNodeFromSourceText(text,node))}var output,indent,lineStart,lineCount,linePos;return reset(),{write:write,rawWrite:rawWrite,writeTextOfNode:writeTextOfNode,writeLiteral:writeLiteral,writeLine:writeLine,increaseIndent:function(){indent++},decreaseIndent:function(){indent--},getIndent:function(){return indent},getTextPos:function(){return output.length},getLine:function(){return lineCount+1},getColumn:function(){return lineStart?indent*getIndentSize()+1:output.length-linePos+1},getText:function(){return output},reset:reset}}function getExternalModuleNameFromPath(host,fileName){var getCanonicalFileName=function(f){return host.getCanonicalFileName(f)},dir=ts.toPath(host.getCommonSourceDirectory(),host.getCurrentDirectory(),getCanonicalFileName),filePath=ts.getNormalizedAbsolutePath(fileName,host.getCurrentDirectory()),relativePath=ts.getRelativePathToDirectoryOrUrl(dir,filePath,dir,getCanonicalFileName,!1);return ts.removeFileExtension(relativePath)}function getOwnEmitOutputFilePath(sourceFile,host,extension){var emitOutputFilePathWithoutExtension,compilerOptions=host.getCompilerOptions();return emitOutputFilePathWithoutExtension=compilerOptions.outDir?ts.removeFileExtension(getSourceFilePathInNewDir(sourceFile,host,compilerOptions.outDir)):ts.removeFileExtension(sourceFile.fileName),emitOutputFilePathWithoutExtension+extension}function getDeclarationEmitOutputFilePath(sourceFile,host){var options=host.getCompilerOptions(),outputDir=options.declarationDir||options.outDir,path=outputDir?getSourceFilePathInNewDir(sourceFile,host,outputDir):sourceFile.fileName;return ts.removeFileExtension(path)+".d.ts"}function forEachExpectedEmitFile(host,action,targetSourceFile,emitOnlyDtsFiles){function onSingleFileEmit(host,sourceFile){var extension=".js";1===options.jsx&&(isSourceFileJavaScript(sourceFile)?ts.fileExtensionIs(sourceFile.fileName,".jsx")&&(extension=".jsx"):1===sourceFile.languageVariant&&(extension=".jsx"));var jsFilePath=getOwnEmitOutputFilePath(sourceFile,host,extension),declarationFilePath=isSourceFileJavaScript(sourceFile)||!emitOnlyDtsFiles&&!options.declaration?void 0:getDeclarationEmitOutputFilePath(sourceFile,host),emitFileNames={jsFilePath:jsFilePath,sourceMapFilePath:getSourceMapFilePath(jsFilePath,options),declarationFilePath:declarationFilePath};action(emitFileNames,[sourceFile],!1,emitOnlyDtsFiles)}function onBundledEmit(host){var bundledSources=ts.filter(host.getSourceFiles(),function(sourceFile){return!(isDeclarationFile(sourceFile)||host.isSourceFileFromExternalLibrary(sourceFile)||ts.isExternalModule(sourceFile)&&!ts.getEmitModuleKind(options))});if(bundledSources.length){var jsFilePath=options.outFile||options.out,emitFileNames={jsFilePath:jsFilePath,sourceMapFilePath:getSourceMapFilePath(jsFilePath,options),declarationFilePath:options.declaration?ts.removeFileExtension(jsFilePath)+".d.ts":void 0};action(emitFileNames,bundledSources,!0,emitOnlyDtsFiles)}}function getSourceMapFilePath(jsFilePath,options){return options.sourceMap?jsFilePath+".map":void 0}var options=host.getCompilerOptions();if(options.outFile||options.out)onBundledEmit(host);else for(var sourceFiles=void 0===targetSourceFile?host.getSourceFiles():[targetSourceFile],_i=0,sourceFiles_1=sourceFiles;_i<sourceFiles_1.length;_i++){var sourceFile=sourceFiles_1[_i];isDeclarationFile(sourceFile)||host.isSourceFileFromExternalLibrary(sourceFile)||onSingleFileEmit(host,sourceFile)}}function getSourceFilePathInNewDir(sourceFile,host,newDirPath){var sourceFilePath=ts.getNormalizedAbsolutePath(sourceFile.fileName,host.getCurrentDirectory()),commonSourceDirectory=host.getCommonSourceDirectory(),isSourceFileInCommonSourceDirectory=0===host.getCanonicalFileName(sourceFilePath).indexOf(host.getCanonicalFileName(commonSourceDirectory));return sourceFilePath=isSourceFileInCommonSourceDirectory?sourceFilePath.substring(commonSourceDirectory.length):sourceFilePath,ts.combinePaths(newDirPath,sourceFilePath)}function writeFile(host,diagnostics,fileName,data,writeByteOrderMark,sourceFiles){host.writeFile(fileName,data,writeByteOrderMark,function(hostErrorMessage){diagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Could_not_write_file_0_Colon_1,fileName,hostErrorMessage))},sourceFiles)}function getLineOfLocalPosition(currentSourceFile,pos){return ts.getLineAndCharacterOfPosition(currentSourceFile,pos).line}function getLineOfLocalPositionFromLineMap(lineMap,pos){return ts.computeLineAndCharacterOfPosition(lineMap,pos).line}function getFirstConstructorWithBody(node){return ts.forEach(node.members,function(member){return 148===member.kind&&nodeIsPresent(member.body)?member:void 0})}function getSetAccessorTypeAnnotationNode(accessor){if(accessor&&accessor.parameters.length>0){var hasThis=2===accessor.parameters.length&&69===accessor.parameters[0].name.kind&&97===accessor.parameters[0].name.originalKeywordKind;
return accessor.parameters[hasThis?1:0].type}}function getAllAccessorDeclarations(declarations,accessor){var firstAccessor,secondAccessor,getAccessor,setAccessor;return hasDynamicName(accessor)?(firstAccessor=accessor,149===accessor.kind?getAccessor=accessor:150===accessor.kind?setAccessor=accessor:ts.Debug.fail("Accessor has wrong kind")):ts.forEach(declarations,function(member){if((149===member.kind||150===member.kind)&&(32&member.flags)===(32&accessor.flags)){var memberName=getPropertyNameForPropertyNameNode(member.name),accessorName=getPropertyNameForPropertyNameNode(accessor.name);memberName===accessorName&&(firstAccessor?secondAccessor||(secondAccessor=member):firstAccessor=member,149!==member.kind||getAccessor||(getAccessor=member),150!==member.kind||setAccessor||(setAccessor=member))}}),{firstAccessor:firstAccessor,secondAccessor:secondAccessor,getAccessor:getAccessor,setAccessor:setAccessor}}function emitNewLineBeforeLeadingComments(lineMap,writer,node,leadingComments){leadingComments&&leadingComments.length&&node.pos!==leadingComments[0].pos&&getLineOfLocalPositionFromLineMap(lineMap,node.pos)!==getLineOfLocalPositionFromLineMap(lineMap,leadingComments[0].pos)&&writer.writeLine()}function emitComments(text,lineMap,writer,comments,trailingSeparator,newLine,writeComment){var emitLeadingSpace=!trailingSeparator;ts.forEach(comments,function(comment){emitLeadingSpace&&(writer.write(" "),emitLeadingSpace=!1),writeComment(text,lineMap,writer,comment,newLine),comment.hasTrailingNewLine?writer.writeLine():trailingSeparator?writer.write(" "):emitLeadingSpace=!0})}function emitDetachedComments(text,lineMap,writer,writeComment,node,newLine,removeComments){function isPinnedComment(comment){return 42===text.charCodeAt(comment.pos+1)&&33===text.charCodeAt(comment.pos+2)}var leadingComments,currentDetachedCommentInfo;if(removeComments?0===node.pos&&(leadingComments=ts.filter(ts.getLeadingCommentRanges(text,node.pos),isPinnedComment)):leadingComments=ts.getLeadingCommentRanges(text,node.pos),leadingComments){for(var detachedComments=[],lastComment=void 0,_i=0,leadingComments_1=leadingComments;_i<leadingComments_1.length;_i++){var comment=leadingComments_1[_i];if(lastComment){var lastCommentLine=getLineOfLocalPositionFromLineMap(lineMap,lastComment.end),commentLine=getLineOfLocalPositionFromLineMap(lineMap,comment.pos);if(commentLine>=lastCommentLine+2)break}detachedComments.push(comment),lastComment=comment}if(detachedComments.length){var lastCommentLine=getLineOfLocalPositionFromLineMap(lineMap,ts.lastOrUndefined(detachedComments).end),nodeLine=getLineOfLocalPositionFromLineMap(lineMap,ts.skipTrivia(text,node.pos));nodeLine>=lastCommentLine+2&&(emitNewLineBeforeLeadingComments(lineMap,writer,node,leadingComments),emitComments(text,lineMap,writer,detachedComments,!0,newLine,writeComment),currentDetachedCommentInfo={nodePos:node.pos,detachedCommentEndPos:ts.lastOrUndefined(detachedComments).end})}}return currentDetachedCommentInfo}function writeCommentRange(text,lineMap,writer,comment,newLine){if(42===text.charCodeAt(comment.pos+1))for(var firstCommentLineAndCharacter=ts.computeLineAndCharacterOfPosition(lineMap,comment.pos),lineCount=lineMap.length,firstCommentLineIndent=void 0,pos=comment.pos,currentLine=firstCommentLineAndCharacter.line;pos<comment.end;currentLine++){var nextLineStart=currentLine+1===lineCount?text.length+1:lineMap[currentLine+1];if(pos!==comment.pos){void 0===firstCommentLineIndent&&(firstCommentLineIndent=calculateIndent(text,lineMap[firstCommentLineAndCharacter.line],comment.pos));var currentWriterIndentSpacing=writer.getIndent()*getIndentSize(),spacesToEmit=currentWriterIndentSpacing-firstCommentLineIndent+calculateIndent(text,pos,nextLineStart);if(spacesToEmit>0){var numberOfSingleSpacesToEmit=spacesToEmit%getIndentSize(),indentSizeSpaceString=getIndentString((spacesToEmit-numberOfSingleSpacesToEmit)/getIndentSize());for(writer.rawWrite(indentSizeSpaceString);numberOfSingleSpacesToEmit;)writer.rawWrite(" "),numberOfSingleSpacesToEmit--}else writer.rawWrite("")}writeTrimmedCurrentLine(text,comment,writer,newLine,pos,nextLineStart),pos=nextLineStart}else writer.write(text.substring(comment.pos,comment.end))}function writeTrimmedCurrentLine(text,comment,writer,newLine,pos,nextLineStart){var end=Math.min(comment.end,nextLineStart-1),currentLineText=text.substring(pos,end).replace(/^\s+|\s+$/g,"");currentLineText?(writer.write(currentLineText),end!==comment.end&&writer.writeLine()):writer.writeLiteral(newLine)}function calculateIndent(text,pos,end){for(var currentLineIndent=0;end>pos&&ts.isWhiteSpaceSingleLine(text.charCodeAt(pos));pos++)9===text.charCodeAt(pos)?currentLineIndent+=getIndentSize()-currentLineIndent%getIndentSize():currentLineIndent++;return currentLineIndent}function modifierToFlag(token){switch(token){case 113:return 32;case 112:return 4;case 111:return 16;case 110:return 8;case 115:return 128;case 82:return 1;case 122:return 2;case 74:return 2048;case 77:return 512;case 118:return 256;case 128:return 64}return 0}function isLeftHandSideExpression(expr){if(expr)switch(expr.kind){case 172:case 173:case 175:case 174:case 196:case 241:case 242:case 176:case 170:case 178:case 171:case 192:case 179:case 69:case 10:case 8:case 9:case 11:case 189:case 84:case 93:case 97:case 99:case 95:return!0}return!1}function isAssignmentOperator(token){return token>=56&&68>=token}function isExpressionWithTypeArgumentsInClassExtendsClause(node){return 194===node.kind&&83===node.parent.token&&isClassLike(node.parent.parent)}function isEntityNameExpression(node){return 69===node.kind||172===node.kind&&isEntityNameExpression(node.expression)}function isRightSideOfQualifiedNameOrPropertyAccess(node){return 139===node.parent.kind&&node.parent.right===node||172===node.parent.kind&&node.parent.name===node}function isEmptyObjectLiteralOrArrayLiteral(expression){var kind=expression.kind;return 171===kind?0===expression.properties.length:170===kind?0===expression.elements.length:!1}function getLocalSymbolForExportDefault(symbol){return symbol&&symbol.valueDeclaration&&512&symbol.valueDeclaration.flags?symbol.valueDeclaration.localSymbol:void 0}function tryExtractTypeScriptExtension(fileName){return ts.find(ts.supportedTypescriptExtensionsForExtractExtension,function(extension){return ts.fileExtensionIs(fileName,extension)})}function getExpandedCharCodes(input){for(var output=[],length=input.length,i=0;length>i;i++){var charCode=input.charCodeAt(i);128>charCode?output.push(charCode):2048>charCode?(output.push(charCode>>6|192),output.push(63&charCode|128)):65536>charCode?(output.push(charCode>>12|224),output.push(charCode>>6&63|128),output.push(63&charCode|128)):131072>charCode?(output.push(charCode>>18|240),output.push(charCode>>12&63|128),output.push(charCode>>6&63|128),output.push(63&charCode|128)):ts.Debug.assert(!1,"Unexpected code point")}return output}function stringifyFallback(value){return void 0===value?void 0:stringifyValue(value)}function stringifyValue(value){return"string"==typeof value?'"'+escapeString(value)+'"':"number"==typeof value?isFinite(value)?String(value):"null":"boolean"==typeof value?value?"true":"false":"object"==typeof value&&value?ts.isArray(value)?cycleCheck(stringifyArray,value):cycleCheck(stringifyObject,value):"null"}function cycleCheck(cb,value){ts.Debug.assert(!value.hasOwnProperty("__cycle"),"Converting circular structure to JSON"),value.__cycle=!0;var result=cb(value);return delete value.__cycle,result}function stringifyArray(value){return"["+ts.reduceLeft(value,stringifyElement,"")+"]"}function stringifyElement(memo,value){return(memo?memo+",":memo)+stringifyValue(value)}function stringifyObject(value){return"{"+ts.reduceOwnProperties(value,stringifyProperty,"")+"}"}function stringifyProperty(memo,value,key){return void 0===value||"function"==typeof value||"__cycle"===key?memo:(memo?memo+",":memo)+('"'+escapeString(key)+'":'+stringifyValue(value))}function convertToBase64(input){for(var byte1,byte2,byte3,byte4,result="",charCodes=getExpandedCharCodes(input),i=0,length=charCodes.length;length>i;)byte1=charCodes[i]>>2,byte2=(3&charCodes[i])<<4|charCodes[i+1]>>4,byte3=(15&charCodes[i+1])<<2|charCodes[i+2]>>6,byte4=63&charCodes[i+2],i+1>=length?byte3=byte4=64:i+2>=length&&(byte4=64),result+=base64Digits.charAt(byte1)+base64Digits.charAt(byte2)+base64Digits.charAt(byte3)+base64Digits.charAt(byte4),i+=3;return result}function convertToRelativePath(absoluteOrRelativePath,basePath,getCanonicalFileName){return ts.isRootedDiskPath(absoluteOrRelativePath)?ts.getRelativePathToDirectoryOrUrl(basePath,absoluteOrRelativePath,basePath,getCanonicalFileName,!1):absoluteOrRelativePath}function getNewLineCharacter(options){return 0===options.newLine?carriageReturnLineFeed:1===options.newLine?lineFeed:ts.sys?ts.sys.newLine:carriageReturnLineFeed}function isWatchSet(options){return options.watch&&options.hasOwnProperty("watch")}ts.getDeclarationOfKind=getDeclarationOfKind;var stringWriters=[];ts.getSingleLineStringWriter=getSingleLineStringWriter,ts.releaseStringWriter=releaseStringWriter,ts.getFullWidth=getFullWidth,ts.arrayIsEqualTo=arrayIsEqualTo,ts.hasResolvedModule=hasResolvedModule,ts.getResolvedModule=getResolvedModule,ts.setResolvedModule=setResolvedModule,ts.setResolvedTypeReferenceDirective=setResolvedTypeReferenceDirective,ts.moduleResolutionIsEqualTo=moduleResolutionIsEqualTo,ts.typeDirectiveIsEqualTo=typeDirectiveIsEqualTo,ts.hasChangesInResolutions=hasChangesInResolutions,ts.containsParseError=containsParseError,ts.getSourceFileOfNode=getSourceFileOfNode,ts.isStatementWithLocals=isStatementWithLocals,ts.getStartPositionOfLine=getStartPositionOfLine,ts.nodePosToString=nodePosToString,ts.getStartPosOfNode=getStartPosOfNode,ts.getEndLinePosition=getEndLinePosition,ts.nodeIsMissing=nodeIsMissing,ts.nodeIsPresent=nodeIsPresent,ts.getTokenPosOfNode=getTokenPosOfNode,ts.isJSDocNode=isJSDocNode,ts.isJSDocTag=isJSDocTag,ts.getNonDecoratorTokenPosOfNode=getNonDecoratorTokenPosOfNode,ts.getSourceTextOfNodeFromSourceFile=getSourceTextOfNodeFromSourceFile,ts.getTextOfNodeFromSourceText=getTextOfNodeFromSourceText,ts.getTextOfNode=getTextOfNode,ts.escapeIdentifier=escapeIdentifier,ts.unescapeIdentifier=unescapeIdentifier,ts.makeIdentifierFromModuleName=makeIdentifierFromModuleName,ts.isBlockOrCatchScoped=isBlockOrCatchScoped,ts.isAmbientModule=isAmbientModule,ts.isShorthandAmbientModuleSymbol=isShorthandAmbientModuleSymbol,ts.isBlockScopedContainerTopLevel=isBlockScopedContainerTopLevel,ts.isGlobalScopeAugmentation=isGlobalScopeAugmentation,ts.isExternalModuleAugmentation=isExternalModuleAugmentation,ts.getEnclosingBlockScopeContainer=getEnclosingBlockScopeContainer,ts.isCatchClauseVariableDeclaration=isCatchClauseVariableDeclaration,ts.declarationNameToString=declarationNameToString,ts.createDiagnosticForNode=createDiagnosticForNode,ts.createDiagnosticForNodeFromMessageChain=createDiagnosticForNodeFromMessageChain,ts.getSpanOfTokenAtPosition=getSpanOfTokenAtPosition,ts.getErrorSpanForNode=getErrorSpanForNode,ts.isExternalOrCommonJsModule=isExternalOrCommonJsModule,ts.isDeclarationFile=isDeclarationFile,ts.isConstEnumDeclaration=isConstEnumDeclaration,ts.getCombinedNodeFlags=getCombinedNodeFlags,ts.isConst=isConst,ts.isLet=isLet,ts.isSuperCallExpression=isSuperCallExpression,ts.isPrologueDirective=isPrologueDirective,ts.getLeadingCommentRangesOfNode=getLeadingCommentRangesOfNode,ts.getLeadingCommentRangesOfNodeFromText=getLeadingCommentRangesOfNodeFromText,ts.getJsDocComments=getJsDocComments,ts.getJsDocCommentsFromText=getJsDocCommentsFromText,ts.fullTripleSlashReferencePathRegEx=/^(\/\/\/\s*<reference\s+path\s*=\s*)('|")(.+?)\2.*?\/>/,ts.fullTripleSlashReferenceTypeReferenceDirectiveRegEx=/^(\/\/\/\s*<reference\s+types\s*=\s*)('|")(.+?)\2.*?\/>/,ts.fullTripleSlashAMDReferencePathRegEx=/^(\/\/\/\s*<amd-dependency\s+path\s*=\s*)('|")(.+?)\2.*?\/>/,ts.isTypeNode=isTypeNode,ts.forEachReturnStatement=forEachReturnStatement,ts.forEachYieldExpression=forEachYieldExpression,ts.isVariableLike=isVariableLike,ts.isAccessor=isAccessor,ts.isClassLike=isClassLike,ts.isFunctionLike=isFunctionLike,ts.isFunctionLikeKind=isFunctionLikeKind,ts.introducesArgumentsExoticObject=introducesArgumentsExoticObject,ts.isIterationStatement=isIterationStatement,ts.isFunctionBlock=isFunctionBlock,ts.isObjectLiteralMethod=isObjectLiteralMethod,ts.isIdentifierTypePredicate=isIdentifierTypePredicate,ts.isThisTypePredicate=isThisTypePredicate,ts.getContainingFunction=getContainingFunction,ts.getContainingClass=getContainingClass,ts.getThisContainer=getThisContainer,ts.getSuperContainer=getSuperContainer,ts.getImmediatelyInvokedFunctionExpression=getImmediatelyInvokedFunctionExpression,ts.isSuperPropertyOrElementAccess=isSuperPropertyOrElementAccess,ts.getEntityNameFromTypeNode=getEntityNameFromTypeNode,ts.getInvokedExpression=getInvokedExpression,ts.nodeCanBeDecorated=nodeCanBeDecorated,ts.nodeIsDecorated=nodeIsDecorated,ts.isPropertyAccessExpression=isPropertyAccessExpression,ts.isElementAccessExpression=isElementAccessExpression,ts.isJSXTagName=isJSXTagName,ts.isExpression=isExpression,ts.isInstantiatedModule=isInstantiatedModule,ts.isExternalModuleImportEqualsDeclaration=isExternalModuleImportEqualsDeclaration,ts.getExternalModuleImportEqualsDeclarationExpression=getExternalModuleImportEqualsDeclarationExpression,ts.isInternalModuleImportEqualsDeclaration=isInternalModuleImportEqualsDeclaration,ts.isSourceFileJavaScript=isSourceFileJavaScript,ts.isInJavaScriptFile=isInJavaScriptFile,ts.isRequireCall=isRequireCall,ts.isSingleOrDoubleQuote=isSingleOrDoubleQuote,ts.isDeclarationOfFunctionExpression=isDeclarationOfFunctionExpression,ts.getSpecialPropertyAssignmentKind=getSpecialPropertyAssignmentKind,ts.getExternalModuleName=getExternalModuleName,ts.hasQuestionToken=hasQuestionToken,ts.isJSDocConstructSignature=isJSDocConstructSignature,ts.getJSDocTypeTag=getJSDocTypeTag,ts.getJSDocReturnTag=getJSDocReturnTag,ts.getJSDocTemplateTag=getJSDocTemplateTag,ts.getCorrespondingJSDocParameterTag=getCorrespondingJSDocParameterTag,ts.hasRestParameter=hasRestParameter,ts.hasDeclaredRestParameter=hasDeclaredRestParameter,ts.isRestParameter=isRestParameter,ts.isDeclaredRestParam=isDeclaredRestParam,ts.isLiteralKind=isLiteralKind,ts.isTextualLiteralKind=isTextualLiteralKind,ts.isTemplateLiteralKind=isTemplateLiteralKind,ts.isBindingPattern=isBindingPattern,ts.isAssignmentTarget=isAssignmentTarget,ts.isNodeDescendentOf=isNodeDescendentOf,ts.isInAmbientContext=isInAmbientContext,ts.isDeclaration=isDeclaration,ts.isStatement=isStatement,ts.isClassElement=isClassElement,ts.isDeclarationName=isDeclarationName,ts.isLiteralComputedPropertyDeclarationName=isLiteralComputedPropertyDeclarationName,ts.isIdentifierName=isIdentifierName,ts.isAliasSymbolDeclaration=isAliasSymbolDeclaration,ts.exportAssignmentIsAlias=exportAssignmentIsAlias,ts.getClassExtendsHeritageClauseElement=getClassExtendsHeritageClauseElement,ts.getClassImplementsHeritageClauseElements=getClassImplementsHeritageClauseElements,ts.getInterfaceBaseTypeNodes=getInterfaceBaseTypeNodes,ts.getHeritageClause=getHeritageClause,ts.tryResolveScriptReference=tryResolveScriptReference,ts.getAncestor=getAncestor,ts.getFileReferenceFromReferencePath=getFileReferenceFromReferencePath,ts.isKeyword=isKeyword,ts.isTrivia=isTrivia,ts.isAsyncFunctionLike=isAsyncFunctionLike,ts.isStringOrNumericLiteral=isStringOrNumericLiteral,ts.hasDynamicName=hasDynamicName,ts.isDynamicName=isDynamicName,ts.isWellKnownSymbolSyntactically=isWellKnownSymbolSyntactically,ts.getPropertyNameForPropertyNameNode=getPropertyNameForPropertyNameNode,ts.getPropertyNameForKnownSymbolName=getPropertyNameForKnownSymbolName,ts.isESSymbolIdentifier=isESSymbolIdentifier,ts.isModifierKind=isModifierKind,ts.isParameterDeclaration=isParameterDeclaration,ts.getRootDeclaration=getRootDeclaration,ts.nodeStartsNewLexicalEnvironment=nodeStartsNewLexicalEnvironment,ts.cloneNode=cloneNode,ts.cloneEntityName=cloneEntityName,ts.isQualifiedName=isQualifiedName,ts.nodeIsSynthesized=nodeIsSynthesized,ts.createSynthesizedNode=createSynthesizedNode,ts.createSynthesizedNodeArray=createSynthesizedNodeArray,ts.createDiagnosticCollection=createDiagnosticCollection;var escapedCharsRegExp=/[\\\"\u0000-\u001f\t\v\f\b\r\n\u2028\u2029\u0085]/g,escapedCharsMap=ts.createMap({"\x00":"\\0","	":"\\t","":"\\v","\f":"\\f","\b":"\\b","\r":"\\r","\n":"\\n","\\":"\\\\",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029","":"\\u0085"});ts.escapeString=escapeString,ts.isIntrinsicJsxName=isIntrinsicJsxName;var nonAsciiCharacters=/[^\u0000-\u007F]/g;ts.escapeNonAsciiCharacters=escapeNonAsciiCharacters;var indentStrings=["","    "];ts.getIndentString=getIndentString,ts.getIndentSize=getIndentSize,ts.createTextWriter=createTextWriter,ts.getExternalModuleNameFromPath=getExternalModuleNameFromPath,ts.getOwnEmitOutputFilePath=getOwnEmitOutputFilePath,ts.getDeclarationEmitOutputFilePath=getDeclarationEmitOutputFilePath,ts.forEachExpectedEmitFile=forEachExpectedEmitFile,ts.getSourceFilePathInNewDir=getSourceFilePathInNewDir,ts.writeFile=writeFile,ts.getLineOfLocalPosition=getLineOfLocalPosition,ts.getLineOfLocalPositionFromLineMap=getLineOfLocalPositionFromLineMap,ts.getFirstConstructorWithBody=getFirstConstructorWithBody,ts.getSetAccessorTypeAnnotationNode=getSetAccessorTypeAnnotationNode,ts.getAllAccessorDeclarations=getAllAccessorDeclarations,ts.emitNewLineBeforeLeadingComments=emitNewLineBeforeLeadingComments,ts.emitComments=emitComments,ts.emitDetachedComments=emitDetachedComments,ts.writeCommentRange=writeCommentRange,ts.modifierToFlag=modifierToFlag,ts.isLeftHandSideExpression=isLeftHandSideExpression,ts.isAssignmentOperator=isAssignmentOperator,ts.isExpressionWithTypeArgumentsInClassExtendsClause=isExpressionWithTypeArgumentsInClassExtendsClause,ts.isEntityNameExpression=isEntityNameExpression,ts.isRightSideOfQualifiedNameOrPropertyAccess=isRightSideOfQualifiedNameOrPropertyAccess,ts.isEmptyObjectLiteralOrArrayLiteral=isEmptyObjectLiteralOrArrayLiteral,ts.getLocalSymbolForExportDefault=getLocalSymbolForExportDefault,ts.tryExtractTypeScriptExtension=tryExtractTypeScriptExtension,ts.stringify="undefined"!=typeof JSON&&JSON.stringify?JSON.stringify:stringifyFallback;var base64Digits="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";ts.convertToBase64=convertToBase64,ts.convertToRelativePath=convertToRelativePath;var carriageReturnLineFeed="\r\n",lineFeed="\n";ts.getNewLineCharacter=getNewLineCharacter,ts.isWatchSet=isWatchSet}(ts||(ts={}));var ts;!function(ts){function getDefaultLibFileName(options){return 2===options.target?"lib.es6.d.ts":"lib.d.ts"}function textSpanEnd(span){return span.start+span.length}function textSpanIsEmpty(span){return 0===span.length}function textSpanContainsPosition(span,position){return position>=span.start&&position<textSpanEnd(span)}function textSpanContainsTextSpan(span,other){return other.start>=span.start&&textSpanEnd(other)<=textSpanEnd(span)}function textSpanOverlapsWith(span,other){var overlapStart=Math.max(span.start,other.start),overlapEnd=Math.min(textSpanEnd(span),textSpanEnd(other));return overlapEnd>overlapStart}function textSpanOverlap(span1,span2){var overlapStart=Math.max(span1.start,span2.start),overlapEnd=Math.min(textSpanEnd(span1),textSpanEnd(span2));return overlapEnd>overlapStart?createTextSpanFromBounds(overlapStart,overlapEnd):void 0}function textSpanIntersectsWithTextSpan(span,other){return other.start<=textSpanEnd(span)&&textSpanEnd(other)>=span.start}function textSpanIntersectsWith(span,start,length){var end=start+length;return start<=textSpanEnd(span)&&end>=span.start}function decodedTextSpanIntersectsWith(start1,length1,start2,length2){var end1=start1+length1,end2=start2+length2;return end1>=start2&&end2>=start1}function textSpanIntersectsWithPosition(span,position){return position<=textSpanEnd(span)&&position>=span.start}function textSpanIntersection(span1,span2){var intersectStart=Math.max(span1.start,span2.start),intersectEnd=Math.min(textSpanEnd(span1),textSpanEnd(span2));return intersectEnd>=intersectStart?createTextSpanFromBounds(intersectStart,intersectEnd):void 0}function createTextSpan(start,length){if(0>start)throw new Error("start < 0");if(0>length)throw new Error("length < 0");return{start:start,length:length}}function createTextSpanFromBounds(start,end){return createTextSpan(start,end-start)}function textChangeRangeNewSpan(range){return createTextSpan(range.span.start,range.newLength)}function textChangeRangeIsUnchanged(range){return textSpanIsEmpty(range.span)&&0===range.newLength}function createTextChangeRange(span,newLength){if(0>newLength)throw new Error("newLength < 0");return{span:span,newLength:newLength}}function collapseTextChangeRangesAcrossMultipleVersions(changes){if(0===changes.length)return ts.unchangedTextChangeRange;if(1===changes.length)return changes[0];for(var change0=changes[0],oldStartN=change0.span.start,oldEndN=textSpanEnd(change0.span),newEndN=oldStartN+change0.newLength,i=1;i<changes.length;i++){var nextChange=changes[i],oldStart1=oldStartN,oldEnd1=oldEndN,newEnd1=newEndN,oldStart2=nextChange.span.start,oldEnd2=textSpanEnd(nextChange.span),newEnd2=oldStart2+nextChange.newLength;oldStartN=Math.min(oldStart1,oldStart2),oldEndN=Math.max(oldEnd1,oldEnd1+(oldEnd2-newEnd1)),newEndN=Math.max(newEnd2,newEnd2+(newEnd1-oldEnd2))}return createTextChangeRange(createTextSpanFromBounds(oldStartN,oldEndN),newEndN-oldStartN)}function getTypeParameterOwner(d){if(d&&141===d.kind)for(var current=d;current;current=current.parent)if(ts.isFunctionLike(current)||ts.isClassLike(current)||222===current.kind)return current}function isParameterPropertyDeclaration(node){return 92&node.flags&&148===node.parent.kind&&ts.isClassLike(node.parent.parent)}ts.getDefaultLibFileName=getDefaultLibFileName,ts.textSpanEnd=textSpanEnd,ts.textSpanIsEmpty=textSpanIsEmpty,ts.textSpanContainsPosition=textSpanContainsPosition,ts.textSpanContainsTextSpan=textSpanContainsTextSpan,ts.textSpanOverlapsWith=textSpanOverlapsWith,ts.textSpanOverlap=textSpanOverlap,ts.textSpanIntersectsWithTextSpan=textSpanIntersectsWithTextSpan,ts.textSpanIntersectsWith=textSpanIntersectsWith,ts.decodedTextSpanIntersectsWith=decodedTextSpanIntersectsWith,ts.textSpanIntersectsWithPosition=textSpanIntersectsWithPosition,ts.textSpanIntersection=textSpanIntersection,ts.createTextSpan=createTextSpan,ts.createTextSpanFromBounds=createTextSpanFromBounds,ts.textChangeRangeNewSpan=textChangeRangeNewSpan,ts.textChangeRangeIsUnchanged=textChangeRangeIsUnchanged,ts.createTextChangeRange=createTextChangeRange,ts.unchangedTextChangeRange=createTextChangeRange(createTextSpan(0,0),0),ts.collapseTextChangeRangesAcrossMultipleVersions=collapseTextChangeRangesAcrossMultipleVersions,ts.getTypeParameterOwner=getTypeParameterOwner,ts.isParameterPropertyDeclaration=isParameterPropertyDeclaration}(ts||(ts={}));var ts;!function(ts){function createNode(kind,pos,end){return 256===kind?new(SourceFileConstructor||(SourceFileConstructor=ts.objectAllocator.getSourceFileConstructor()))(kind,pos,end):69===kind?new(IdentifierConstructor||(IdentifierConstructor=ts.objectAllocator.getIdentifierConstructor()))(kind,pos,end):139>kind?new(TokenConstructor||(TokenConstructor=ts.objectAllocator.getTokenConstructor()))(kind,pos,end):new(NodeConstructor||(NodeConstructor=ts.objectAllocator.getNodeConstructor()))(kind,pos,end)}function visitNode(cbNode,node){return node?cbNode(node):void 0}function visitNodeArray(cbNodes,nodes){return nodes?cbNodes(nodes):void 0}function visitEachNode(cbNode,nodes){if(nodes)for(var _i=0,nodes_1=nodes;_i<nodes_1.length;_i++){var node=nodes_1[_i],result=cbNode(node);if(result)return result}}function forEachChild(node,cbNode,cbNodeArray){if(node){var visitNodes=cbNodeArray?visitNodeArray:visitEachNode,cbNodes=cbNodeArray||cbNode;switch(node.kind){case 139:return visitNode(cbNode,node.left)||visitNode(cbNode,node.right);case 141:return visitNode(cbNode,node.name)||visitNode(cbNode,node.constraint)||visitNode(cbNode,node.expression);case 254:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNode(cbNode,node.questionToken)||visitNode(cbNode,node.equalsToken)||visitNode(cbNode,node.objectAssignmentInitializer);case 142:case 145:case 144:case 253:case 218:case 169:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.propertyName)||visitNode(cbNode,node.dotDotDotToken)||visitNode(cbNode,node.name)||visitNode(cbNode,node.questionToken)||visitNode(cbNode,node.type)||visitNode(cbNode,node.initializer);case 156:case 157:case 151:case 152:case 153:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNodes(cbNodes,node.typeParameters)||visitNodes(cbNodes,node.parameters)||visitNode(cbNode,node.type);case 147:case 146:case 148:case 149:case 150:case 179:case 220:case 180:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.asteriskToken)||visitNode(cbNode,node.name)||visitNode(cbNode,node.questionToken)||visitNodes(cbNodes,node.typeParameters)||visitNodes(cbNodes,node.parameters)||visitNode(cbNode,node.type)||visitNode(cbNode,node.equalsGreaterThanToken)||visitNode(cbNode,node.body);case 155:return visitNode(cbNode,node.typeName)||visitNodes(cbNodes,node.typeArguments);case 154:return visitNode(cbNode,node.parameterName)||visitNode(cbNode,node.type);case 158:return visitNode(cbNode,node.exprName);case 159:return visitNodes(cbNodes,node.members);case 160:return visitNode(cbNode,node.elementType);case 161:return visitNodes(cbNodes,node.elementTypes);case 162:case 163:return visitNodes(cbNodes,node.types);case 164:return visitNode(cbNode,node.type);case 166:return visitNode(cbNode,node.literal);case 167:case 168:return visitNodes(cbNodes,node.elements);case 170:return visitNodes(cbNodes,node.elements);case 171:return visitNodes(cbNodes,node.properties);case 172:return visitNode(cbNode,node.expression)||visitNode(cbNode,node.name);case 173:return visitNode(cbNode,node.expression)||visitNode(cbNode,node.argumentExpression);case 174:case 175:return visitNode(cbNode,node.expression)||visitNodes(cbNodes,node.typeArguments)||visitNodes(cbNodes,node.arguments);case 176:return visitNode(cbNode,node.tag)||visitNode(cbNode,node.template);case 177:return visitNode(cbNode,node.type)||visitNode(cbNode,node.expression);case 178:return visitNode(cbNode,node.expression);case 181:return visitNode(cbNode,node.expression);case 182:return visitNode(cbNode,node.expression);case 183:return visitNode(cbNode,node.expression);case 185:return visitNode(cbNode,node.operand);case 190:return visitNode(cbNode,node.asteriskToken)||visitNode(cbNode,node.expression);case 184:return visitNode(cbNode,node.expression);case 186:return visitNode(cbNode,node.operand);case 187:return visitNode(cbNode,node.left)||visitNode(cbNode,node.operatorToken)||visitNode(cbNode,node.right);case 195:return visitNode(cbNode,node.expression)||visitNode(cbNode,node.type);case 196:return visitNode(cbNode,node.expression);case 188:return visitNode(cbNode,node.condition)||visitNode(cbNode,node.questionToken)||visitNode(cbNode,node.whenTrue)||visitNode(cbNode,node.colonToken)||visitNode(cbNode,node.whenFalse);case 191:return visitNode(cbNode,node.expression);case 199:case 226:return visitNodes(cbNodes,node.statements);case 256:return visitNodes(cbNodes,node.statements)||visitNode(cbNode,node.endOfFileToken);case 200:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.declarationList);case 219:return visitNodes(cbNodes,node.declarations);case 202:return visitNode(cbNode,node.expression);case 203:return visitNode(cbNode,node.expression)||visitNode(cbNode,node.thenStatement)||visitNode(cbNode,node.elseStatement);case 204:return visitNode(cbNode,node.statement)||visitNode(cbNode,node.expression);case 205:return visitNode(cbNode,node.expression)||visitNode(cbNode,node.statement);case 206:return visitNode(cbNode,node.initializer)||visitNode(cbNode,node.condition)||visitNode(cbNode,node.incrementor)||visitNode(cbNode,node.statement);case 207:return visitNode(cbNode,node.initializer)||visitNode(cbNode,node.expression)||visitNode(cbNode,node.statement);case 208:return visitNode(cbNode,node.initializer)||visitNode(cbNode,node.expression)||visitNode(cbNode,node.statement);case 209:case 210:return visitNode(cbNode,node.label);case 211:return visitNode(cbNode,node.expression);case 212:return visitNode(cbNode,node.expression)||visitNode(cbNode,node.statement);case 213:return visitNode(cbNode,node.expression)||visitNode(cbNode,node.caseBlock);case 227:return visitNodes(cbNodes,node.clauses);case 249:return visitNode(cbNode,node.expression)||visitNodes(cbNodes,node.statements);case 250:return visitNodes(cbNodes,node.statements);case 214:return visitNode(cbNode,node.label)||visitNode(cbNode,node.statement);case 215:return visitNode(cbNode,node.expression);case 216:return visitNode(cbNode,node.tryBlock)||visitNode(cbNode,node.catchClause)||visitNode(cbNode,node.finallyBlock);case 252:return visitNode(cbNode,node.variableDeclaration)||visitNode(cbNode,node.block);case 143:return visitNode(cbNode,node.expression);case 221:case 192:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNodes(cbNodes,node.typeParameters)||visitNodes(cbNodes,node.heritageClauses)||visitNodes(cbNodes,node.members);case 222:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNodes(cbNodes,node.typeParameters)||visitNodes(cbNodes,node.heritageClauses)||visitNodes(cbNodes,node.members);case 223:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNodes(cbNodes,node.typeParameters)||visitNode(cbNode,node.type);case 224:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNodes(cbNodes,node.members);case 255:return visitNode(cbNode,node.name)||visitNode(cbNode,node.initializer);case 225:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNode(cbNode,node.body);case 229:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNode(cbNode,node.moduleReference);case 230:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.importClause)||visitNode(cbNode,node.moduleSpecifier);case 231:return visitNode(cbNode,node.name)||visitNode(cbNode,node.namedBindings);case 228:return visitNode(cbNode,node.name);case 232:return visitNode(cbNode,node.name);case 233:case 237:return visitNodes(cbNodes,node.elements);case 236:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.exportClause)||visitNode(cbNode,node.moduleSpecifier);case 234:case 238:return visitNode(cbNode,node.propertyName)||visitNode(cbNode,node.name);case 235:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.expression);case 189:return visitNode(cbNode,node.head)||visitNodes(cbNodes,node.templateSpans);case 197:return visitNode(cbNode,node.expression)||visitNode(cbNode,node.literal);case 140:return visitNode(cbNode,node.expression);case 251:return visitNodes(cbNodes,node.types);case 194:return visitNode(cbNode,node.expression)||visitNodes(cbNodes,node.typeArguments);case 240:return visitNode(cbNode,node.expression);case 239:return visitNodes(cbNodes,node.decorators);case 241:return visitNode(cbNode,node.openingElement)||visitNodes(cbNodes,node.children)||visitNode(cbNode,node.closingElement);case 242:case 243:return visitNode(cbNode,node.tagName)||visitNodes(cbNodes,node.attributes);case 246:return visitNode(cbNode,node.name)||visitNode(cbNode,node.initializer);
case 247:return visitNode(cbNode,node.expression);case 248:return visitNode(cbNode,node.expression);case 245:return visitNode(cbNode,node.tagName);case 257:return visitNode(cbNode,node.type);case 261:return visitNodes(cbNodes,node.types);case 262:return visitNodes(cbNodes,node.types);case 260:return visitNode(cbNode,node.elementType);case 264:return visitNode(cbNode,node.type);case 263:return visitNode(cbNode,node.type);case 265:return visitNodes(cbNodes,node.members);case 267:return visitNode(cbNode,node.name)||visitNodes(cbNodes,node.typeArguments);case 268:return visitNode(cbNode,node.type);case 269:return visitNodes(cbNodes,node.parameters)||visitNode(cbNode,node.type);case 270:return visitNode(cbNode,node.type);case 271:return visitNode(cbNode,node.type);case 272:return visitNode(cbNode,node.type);case 266:return visitNode(cbNode,node.name)||visitNode(cbNode,node.type);case 273:return visitNodes(cbNodes,node.tags);case 275:return visitNode(cbNode,node.preParameterName)||visitNode(cbNode,node.typeExpression)||visitNode(cbNode,node.postParameterName);case 276:return visitNode(cbNode,node.typeExpression);case 277:return visitNode(cbNode,node.typeExpression);case 278:return visitNodes(cbNodes,node.typeParameters);case 279:return visitNode(cbNode,node.typeExpression)||visitNode(cbNode,node.name)||visitNode(cbNode,node.jsDocTypeLiteral);case 281:return visitNodes(cbNodes,node.jsDocPropertyTags);case 280:return visitNode(cbNode,node.typeExpression)||visitNode(cbNode,node.name);case 282:return visitNode(cbNode,node.literal)}}}function createSourceFile(fileName,sourceText,languageVersion,setParentNodes,scriptKind){void 0===setParentNodes&&(setParentNodes=!1),ts.performance.mark("beforeParse");var result=Parser.parseSourceFile(fileName,sourceText,languageVersion,void 0,setParentNodes,scriptKind);return ts.performance.mark("afterParse"),ts.performance.measure("Parse","beforeParse","afterParse"),result}function isExternalModule(file){return void 0!==file.externalModuleIndicator}function updateSourceFile(sourceFile,newText,textChangeRange,aggressiveChecks){return IncrementalParser.updateSourceFile(sourceFile,newText,textChangeRange,aggressiveChecks)}function parseIsolatedJSDocComment(content,start,length){var result=Parser.JSDocParser.parseIsolatedJSDocComment(content,start,length);return result&&result.jsDocComment&&fixupParentReferences(result.jsDocComment),result}function parseJSDocTypeExpressionForTests(content,start,length){return Parser.JSDocParser.parseJSDocTypeExpressionForTests(content,start,length)}function fixupParentReferences(rootNode){function visitNode(n){if(n.parent!==parent){n.parent=parent;var saveParent=parent;if(parent=n,forEachChild(n,visitNode),n.jsDocComments)for(var _i=0,_a=n.jsDocComments;_i<_a.length;_i++){var jsDocComment=_a[_i];jsDocComment.parent=n,parent=jsDocComment,forEachChild(jsDocComment,visitNode)}parent=saveParent}}var parent=rootNode;forEachChild(rootNode,visitNode)}var NodeConstructor,TokenConstructor,IdentifierConstructor,SourceFileConstructor;ts.createNode=createNode,ts.forEachChild=forEachChild,ts.createSourceFile=createSourceFile,ts.isExternalModule=isExternalModule,ts.updateSourceFile=updateSourceFile,ts.parseIsolatedJSDocComment=parseIsolatedJSDocComment,ts.parseJSDocTypeExpressionForTests=parseJSDocTypeExpressionForTests,ts.fixupParentReferences=fixupParentReferences;var Parser;!function(Parser){function parseSourceFile(fileName,_sourceText,languageVersion,_syntaxCursor,setParentNodes,scriptKind){scriptKind=ts.ensureScriptKind(fileName,scriptKind),initializeState(fileName,_sourceText,languageVersion,_syntaxCursor,scriptKind);var result=parseSourceFileWorker(fileName,languageVersion,setParentNodes,scriptKind);return clearState(),result}function getLanguageVariant(scriptKind){return 4===scriptKind||2===scriptKind||1===scriptKind?1:0}function initializeState(fileName,_sourceText,languageVersion,_syntaxCursor,scriptKind){NodeConstructor=ts.objectAllocator.getNodeConstructor(),TokenConstructor=ts.objectAllocator.getTokenConstructor(),IdentifierConstructor=ts.objectAllocator.getIdentifierConstructor(),SourceFileConstructor=ts.objectAllocator.getSourceFileConstructor(),sourceText=_sourceText,syntaxCursor=_syntaxCursor,parseDiagnostics=[],parsingContext=0,identifiers=ts.createMap(),identifierCount=0,nodeCount=0,contextFlags=1===scriptKind||2===scriptKind?134217728:0,parseErrorBeforeNextFinishedNode=!1,scanner.setText(sourceText),scanner.setOnError(scanError),scanner.setScriptTarget(languageVersion),scanner.setLanguageVariant(getLanguageVariant(scriptKind))}function clearState(){scanner.setText(""),scanner.setOnError(void 0),parseDiagnostics=void 0,sourceFile=void 0,identifiers=void 0,syntaxCursor=void 0,sourceText=void 0}function parseSourceFileWorker(fileName,languageVersion,setParentNodes,scriptKind){return sourceFile=createSourceFile(fileName,languageVersion,scriptKind),sourceFile.flags=contextFlags,nextToken(),processReferenceComments(sourceFile),sourceFile.statements=parseList(0,parseStatement),ts.Debug.assert(1===token()),sourceFile.endOfFileToken=parseTokenNode(),setExternalModuleIndicator(sourceFile),sourceFile.nodeCount=nodeCount,sourceFile.identifierCount=identifierCount,sourceFile.identifiers=identifiers,sourceFile.parseDiagnostics=parseDiagnostics,setParentNodes&&fixupParentReferences(sourceFile),sourceFile}function addJSDocComment(node){if(134217728&contextFlags){var comments=ts.getLeadingCommentRangesOfNode(node,sourceFile);if(comments)for(var _i=0,comments_1=comments;_i<comments_1.length;_i++){var comment=comments_1[_i],jsDocComment=JSDocParser.parseJSDocComment(node,comment.pos,comment.end-comment.pos);jsDocComment&&(node.jsDocComments||(node.jsDocComments=[]),node.jsDocComments.push(jsDocComment))}}return node}function createSourceFile(fileName,languageVersion,scriptKind){var sourceFile=new SourceFileConstructor(256,0,sourceText.length);return nodeCount++,sourceFile.text=sourceText,sourceFile.bindDiagnostics=[],sourceFile.languageVersion=languageVersion,sourceFile.fileName=ts.normalizePath(fileName),sourceFile.languageVariant=getLanguageVariant(scriptKind),sourceFile.isDeclarationFile=ts.fileExtensionIs(sourceFile.fileName,".d.ts"),sourceFile.scriptKind=scriptKind,sourceFile}function setContextFlag(val,flag){val?contextFlags|=flag:contextFlags&=~flag}function setDisallowInContext(val){setContextFlag(val,4194304)}function setYieldContext(val){setContextFlag(val,8388608)}function setDecoratorContext(val){setContextFlag(val,16777216)}function setAwaitContext(val){setContextFlag(val,33554432)}function doOutsideOfContext(context,func){var contextFlagsToClear=context&contextFlags;if(contextFlagsToClear){setContextFlag(!1,contextFlagsToClear);var result=func();return setContextFlag(!0,contextFlagsToClear),result}return func()}function doInsideOfContext(context,func){var contextFlagsToSet=context&~contextFlags;if(contextFlagsToSet){setContextFlag(!0,contextFlagsToSet);var result=func();return setContextFlag(!1,contextFlagsToSet),result}return func()}function allowInAnd(func){return doOutsideOfContext(4194304,func)}function disallowInAnd(func){return doInsideOfContext(4194304,func)}function doInYieldContext(func){return doInsideOfContext(8388608,func)}function doInDecoratorContext(func){return doInsideOfContext(16777216,func)}function doInAwaitContext(func){return doInsideOfContext(33554432,func)}function doOutsideOfAwaitContext(func){return doOutsideOfContext(33554432,func)}function doInYieldAndAwaitContext(func){return doInsideOfContext(41943040,func)}function inContext(flags){return 0!==(contextFlags&flags)}function inYieldContext(){return inContext(8388608)}function inDisallowInContext(){return inContext(4194304)}function inDecoratorContext(){return inContext(16777216)}function inAwaitContext(){return inContext(33554432)}function parseErrorAtCurrentToken(message,arg0){var start=scanner.getTokenPos(),length=scanner.getTextPos()-start;parseErrorAtPosition(start,length,message,arg0)}function parseErrorAtPosition(start,length,message,arg0){var lastError=ts.lastOrUndefined(parseDiagnostics);lastError&&start===lastError.start||parseDiagnostics.push(ts.createFileDiagnostic(sourceFile,start,length,message,arg0)),parseErrorBeforeNextFinishedNode=!0}function scanError(message,length){var pos=scanner.getTextPos();parseErrorAtPosition(pos,length||0,message)}function getNodePos(){return scanner.getStartPos()}function getNodeEnd(){return scanner.getStartPos()}function token(){return currentToken}function nextToken(){return currentToken=scanner.scan()}function reScanGreaterToken(){return currentToken=scanner.reScanGreaterToken()}function reScanSlashToken(){return currentToken=scanner.reScanSlashToken()}function reScanTemplateToken(){return currentToken=scanner.reScanTemplateToken()}function scanJsxIdentifier(){return currentToken=scanner.scanJsxIdentifier()}function scanJsxText(){return currentToken=scanner.scanJsxToken()}function speculationHelper(callback,isLookAhead){var saveToken=currentToken,saveParseDiagnosticsLength=parseDiagnostics.length,saveParseErrorBeforeNextFinishedNode=parseErrorBeforeNextFinishedNode,saveContextFlags=contextFlags,result=isLookAhead?scanner.lookAhead(callback):scanner.tryScan(callback);return ts.Debug.assert(saveContextFlags===contextFlags),(!result||isLookAhead)&&(currentToken=saveToken,parseDiagnostics.length=saveParseDiagnosticsLength,parseErrorBeforeNextFinishedNode=saveParseErrorBeforeNextFinishedNode),result}function lookAhead(callback){return speculationHelper(callback,!0)}function tryParse(callback){return speculationHelper(callback,!1)}function isIdentifier(){return 69===token()?!0:114===token()&&inYieldContext()?!1:119===token()&&inAwaitContext()?!1:token()>105}function parseExpected(kind,diagnosticMessage,shouldAdvance){return void 0===shouldAdvance&&(shouldAdvance=!0),token()===kind?(shouldAdvance&&nextToken(),!0):(diagnosticMessage?parseErrorAtCurrentToken(diagnosticMessage):parseErrorAtCurrentToken(ts.Diagnostics._0_expected,ts.tokenToString(kind)),!1)}function parseOptional(t){return token()===t?(nextToken(),!0):!1}function parseOptionalToken(t){return token()===t?parseTokenNode():void 0}function parseExpectedToken(t,reportAtCurrentPosition,diagnosticMessage,arg0){return parseOptionalToken(t)||createMissingNode(t,reportAtCurrentPosition,diagnosticMessage,arg0)}function parseTokenNode(){var node=createNode(token());return nextToken(),finishNode(node)}function canParseSemicolon(){return 23===token()?!0:16===token()||1===token()||scanner.hasPrecedingLineBreak()}function parseSemicolon(){return canParseSemicolon()?(23===token()&&nextToken(),!0):parseExpected(23)}function createNode(kind,pos){return nodeCount++,pos>=0||(pos=scanner.getStartPos()),kind>=139?new NodeConstructor(kind,pos,pos):69===kind?new IdentifierConstructor(kind,pos,pos):new TokenConstructor(kind,pos,pos)}function finishNode(node,end){return node.end=void 0===end?scanner.getStartPos():end,contextFlags&&(node.flags|=contextFlags),parseErrorBeforeNextFinishedNode&&(parseErrorBeforeNextFinishedNode=!1,node.flags|=67108864),node}function createMissingNode(kind,reportAtCurrentPosition,diagnosticMessage,arg0){reportAtCurrentPosition?parseErrorAtPosition(scanner.getStartPos(),0,diagnosticMessage,arg0):parseErrorAtCurrentToken(diagnosticMessage,arg0);var result=createNode(kind,scanner.getStartPos());return result.text="",finishNode(result)}function internIdentifier(text){return text=ts.escapeIdentifier(text),identifiers[text]||(identifiers[text]=text)}function createIdentifier(isIdentifier,diagnosticMessage){if(identifierCount++,isIdentifier){var node=createNode(69);return 69!==token()&&(node.originalKeywordKind=token()),node.text=internIdentifier(scanner.getTokenValue()),nextToken(),finishNode(node)}return createMissingNode(69,!1,diagnosticMessage||ts.Diagnostics.Identifier_expected)}function parseIdentifier(diagnosticMessage){return createIdentifier(isIdentifier(),diagnosticMessage)}function parseIdentifierName(){return createIdentifier(ts.tokenIsIdentifierOrKeyword(token()))}function isLiteralPropertyName(){return ts.tokenIsIdentifierOrKeyword(token())||9===token()||8===token()}function parsePropertyNameWorker(allowComputedPropertyNames){return 9===token()||8===token()?parseLiteralNode(!0):allowComputedPropertyNames&&19===token()?parseComputedPropertyName():parseIdentifierName()}function parsePropertyName(){return parsePropertyNameWorker(!0)}function parseSimplePropertyName(){return parsePropertyNameWorker(!1)}function isSimplePropertyName(){return 9===token()||8===token()||ts.tokenIsIdentifierOrKeyword(token())}function parseComputedPropertyName(){var node=createNode(140);return parseExpected(19),node.expression=allowInAnd(parseExpression),parseExpected(20),finishNode(node)}function parseContextualModifier(t){return token()===t&&tryParse(nextTokenCanFollowModifier)}function nextTokenIsOnSameLineAndCanFollowModifier(){return nextToken(),scanner.hasPrecedingLineBreak()?!1:canFollowModifier()}function nextTokenCanFollowModifier(){return 74===token()?81===nextToken():82===token()?(nextToken(),77===token()?lookAhead(nextTokenIsClassOrFunctionOrAsync):37!==token()&&116!==token()&&15!==token()&&canFollowModifier()):77===token()?nextTokenIsClassOrFunctionOrAsync():113===token()?(nextToken(),canFollowModifier()):nextTokenIsOnSameLineAndCanFollowModifier()}function parseAnyContextualModifier(){return ts.isModifierKind(token())&&tryParse(nextTokenCanFollowModifier)}function canFollowModifier(){return 19===token()||15===token()||37===token()||22===token()||isLiteralPropertyName()}function nextTokenIsClassOrFunctionOrAsync(){return nextToken(),73===token()||87===token()||118===token()&&lookAhead(nextTokenIsFunctionKeywordOnSameLine)}function isListElement(parsingContext,inErrorRecovery){var node=currentNode(parsingContext);if(node)return!0;switch(parsingContext){case 0:case 1:case 3:return!(23===token()&&inErrorRecovery)&&isStartOfStatement();case 2:return 71===token()||77===token();case 4:return lookAhead(isTypeMemberStart);case 5:return lookAhead(isClassMemberStart)||23===token()&&!inErrorRecovery;case 6:return 19===token()||isLiteralPropertyName();case 12:return 19===token()||37===token()||isLiteralPropertyName();case 9:return 19===token()||isLiteralPropertyName();case 7:return 15===token()?lookAhead(isValidHeritageClauseObjectLiteral):inErrorRecovery?isIdentifier()&&!isHeritageClauseExtendsOrImplementsKeyword():isStartOfLeftHandSideExpression()&&!isHeritageClauseExtendsOrImplementsKeyword();case 8:return isIdentifierOrPattern();case 10:return 24===token()||22===token()||isIdentifierOrPattern();case 17:return isIdentifier();case 11:case 15:return 24===token()||22===token()||isStartOfExpression();case 16:return isStartOfParameter();case 18:case 19:return 24===token()||isStartOfType();case 20:return isHeritageClause();case 21:return ts.tokenIsIdentifierOrKeyword(token());case 13:return ts.tokenIsIdentifierOrKeyword(token())||15===token();case 14:return!0;case 22:case 23:case 25:return JSDocParser.isJSDocType();case 24:return isSimplePropertyName()}ts.Debug.fail("Non-exhaustive case in 'isListElement'.")}function isValidHeritageClauseObjectLiteral(){if(ts.Debug.assert(15===token()),16===nextToken()){var next=nextToken();return 24===next||15===next||83===next||106===next}return!0}function nextTokenIsIdentifier(){return nextToken(),isIdentifier()}function nextTokenIsIdentifierOrKeyword(){return nextToken(),ts.tokenIsIdentifierOrKeyword(token())}function isHeritageClauseExtendsOrImplementsKeyword(){return 106===token()||83===token()?lookAhead(nextTokenIsStartOfExpression):!1}function nextTokenIsStartOfExpression(){return nextToken(),isStartOfExpression()}function isListTerminator(kind){if(1===token())return!0;switch(kind){case 1:case 2:case 4:case 5:case 6:case 12:case 9:case 21:return 16===token();case 3:return 16===token()||71===token()||77===token();case 7:return 15===token()||83===token()||106===token();case 8:return isVariableDeclaratorListTerminator();case 17:return 27===token()||17===token()||15===token()||83===token()||106===token();case 11:return 18===token()||23===token();case 15:case 19:case 10:return 20===token();case 16:return 18===token()||20===token();case 18:return 24!==token();case 20:return 15===token()||16===token();case 13:return 27===token()||39===token();case 14:return 25===token()&&lookAhead(nextTokenIsSlash);case 22:return 18===token()||54===token()||16===token();case 23:return 27===token()||16===token();case 25:return 20===token()||16===token();case 24:return 16===token()}}function isVariableDeclaratorListTerminator(){return canParseSemicolon()?!0:isInOrOfKeyword(token())?!0:34===token()?!0:!1}function isInSomeParsingContext(){for(var kind=0;26>kind;kind++)if(parsingContext&1<<kind&&(isListElement(kind,!0)||isListTerminator(kind)))return!0;return!1}function parseList(kind,parseElement){var saveParsingContext=parsingContext;parsingContext|=1<<kind;var result=[];for(result.pos=getNodePos();!isListTerminator(kind);)if(isListElement(kind,!1)){var element=parseListElement(kind,parseElement);result.push(element)}else if(abortParsingListOrMoveToNextToken(kind))break;return result.end=getNodeEnd(),parsingContext=saveParsingContext,result}function parseListElement(parsingContext,parseElement){var node=currentNode(parsingContext);return node?consumeNode(node):parseElement()}function currentNode(parsingContext){if(parseErrorBeforeNextFinishedNode)return void 0;if(!syntaxCursor)return void 0;var node=syntaxCursor.currentNode(scanner.getStartPos());if(ts.nodeIsMissing(node))return void 0;if(node.intersectsChange)return void 0;if(ts.containsParseError(node))return void 0;var nodeContextFlags=197132288&node.flags;return nodeContextFlags!==contextFlags?void 0:canReuseNode(node,parsingContext)?node:void 0}function consumeNode(node){return scanner.setTextPos(node.end),nextToken(),node}function canReuseNode(node,parsingContext){switch(parsingContext){case 5:return isReusableClassMember(node);case 2:return isReusableSwitchClause(node);case 0:case 1:case 3:return isReusableStatement(node);case 6:return isReusableEnumMember(node);case 4:return isReusableTypeMember(node);case 8:return isReusableVariableDeclaration(node);case 16:return isReusableParameter(node);case 20:case 17:case 19:case 18:case 11:case 12:case 7:case 13:case 14:}return!1}function isReusableClassMember(node){if(node)switch(node.kind){case 148:case 153:case 149:case 150:case 145:case 198:return!0;case 147:var methodDeclaration=node,nameIsConstructor=69===methodDeclaration.name.kind&&121===methodDeclaration.name.originalKeywordKind;return!nameIsConstructor}return!1}function isReusableSwitchClause(node){if(node)switch(node.kind){case 249:case 250:return!0}return!1}function isReusableStatement(node){if(node)switch(node.kind){case 220:case 200:case 199:case 203:case 202:case 215:case 211:case 213:case 210:case 209:case 207:case 208:case 206:case 205:case 212:case 201:case 216:case 214:case 204:case 217:case 230:case 229:case 236:case 235:case 225:case 221:case 222:case 224:case 223:return!0}return!1}function isReusableEnumMember(node){return 255===node.kind}function isReusableTypeMember(node){if(node)switch(node.kind){case 152:case 146:case 153:case 144:case 151:return!0}return!1}function isReusableVariableDeclaration(node){if(218!==node.kind)return!1;var variableDeclarator=node;return void 0===variableDeclarator.initializer}function isReusableParameter(node){if(142!==node.kind)return!1;var parameter=node;return void 0===parameter.initializer}function abortParsingListOrMoveToNextToken(kind){return parseErrorAtCurrentToken(parsingContextErrors(kind)),isInSomeParsingContext()?!0:(nextToken(),!1)}function parsingContextErrors(context){switch(context){case 0:return ts.Diagnostics.Declaration_or_statement_expected;case 1:return ts.Diagnostics.Declaration_or_statement_expected;case 2:return ts.Diagnostics.case_or_default_expected;case 3:return ts.Diagnostics.Statement_expected;case 4:return ts.Diagnostics.Property_or_signature_expected;case 5:return ts.Diagnostics.Unexpected_token_A_constructor_method_accessor_or_property_was_expected;case 6:return ts.Diagnostics.Enum_member_expected;case 7:return ts.Diagnostics.Expression_expected;case 8:return ts.Diagnostics.Variable_declaration_expected;case 9:return ts.Diagnostics.Property_destructuring_pattern_expected;case 10:return ts.Diagnostics.Array_element_destructuring_pattern_expected;case 11:return ts.Diagnostics.Argument_expression_expected;case 12:return ts.Diagnostics.Property_assignment_expected;case 15:return ts.Diagnostics.Expression_or_comma_expected;case 16:return ts.Diagnostics.Parameter_declaration_expected;case 17:return ts.Diagnostics.Type_parameter_declaration_expected;case 18:return ts.Diagnostics.Type_argument_expected;case 19:return ts.Diagnostics.Type_expected;case 20:return ts.Diagnostics.Unexpected_token_expected;case 21:return ts.Diagnostics.Identifier_expected;case 13:return ts.Diagnostics.Identifier_expected;case 14:return ts.Diagnostics.Identifier_expected;case 22:return ts.Diagnostics.Parameter_declaration_expected;case 23:return ts.Diagnostics.Type_argument_expected;case 25:return ts.Diagnostics.Type_expected;case 24:return ts.Diagnostics.Property_assignment_expected}}function parseDelimitedList(kind,parseElement,considerSemicolonAsDelimiter){var saveParsingContext=parsingContext;parsingContext|=1<<kind;var result=[];result.pos=getNodePos();for(var commaStart=-1;;)if(isListElement(kind,!1)){if(result.push(parseListElement(kind,parseElement)),commaStart=scanner.getTokenPos(),parseOptional(24))continue;if(commaStart=-1,isListTerminator(kind))break;parseExpected(24),considerSemicolonAsDelimiter&&23===token()&&!scanner.hasPrecedingLineBreak()&&nextToken()}else{if(isListTerminator(kind))break;if(abortParsingListOrMoveToNextToken(kind))break}return commaStart>=0&&(result.hasTrailingComma=!0),result.end=getNodeEnd(),parsingContext=saveParsingContext,result}function createMissingList(){var pos=getNodePos(),result=[];return result.pos=pos,result.end=pos,result}function parseBracketedList(kind,parseElement,open,close){if(parseExpected(open)){var result=parseDelimitedList(kind,parseElement);return parseExpected(close),result}return createMissingList()}function parseEntityName(allowReservedWords,diagnosticMessage){for(var entity=parseIdentifier(diagnosticMessage);parseOptional(21);){var node=createNode(139,entity.pos);node.left=entity,node.right=parseRightSideOfDot(allowReservedWords),entity=finishNode(node)}return entity}function parseRightSideOfDot(allowIdentifierNames){if(scanner.hasPrecedingLineBreak()&&ts.tokenIsIdentifierOrKeyword(token())){var matchesPattern=lookAhead(nextTokenIsIdentifierOrKeywordOnSameLine);if(matchesPattern)return createMissingNode(69,!0,ts.Diagnostics.Identifier_expected)}return allowIdentifierNames?parseIdentifierName():parseIdentifier()}function parseTemplateExpression(){var template=createNode(189);template.head=parseTemplateLiteralFragment(),ts.Debug.assert(12===template.head.kind,"Template head has wrong token kind");var templateSpans=[];templateSpans.pos=getNodePos();do templateSpans.push(parseTemplateSpan());while(13===ts.lastOrUndefined(templateSpans).literal.kind);return templateSpans.end=getNodeEnd(),template.templateSpans=templateSpans,finishNode(template)}function parseTemplateSpan(){var span=createNode(197);span.expression=allowInAnd(parseExpression);var literal;return 16===token()?(reScanTemplateToken(),literal=parseTemplateLiteralFragment()):literal=parseExpectedToken(14,!1,ts.Diagnostics._0_expected,ts.tokenToString(16)),span.literal=literal,finishNode(span)}function parseLiteralNode(internName){return parseLiteralLikeNode(token(),internName)}function parseTemplateLiteralFragment(){return parseLiteralLikeNode(token(),!1)}function parseLiteralLikeNode(kind,internName){var node=createNode(kind),text=scanner.getTokenValue();node.text=internName?internIdentifier(text):text,scanner.hasExtendedUnicodeEscape()&&(node.hasExtendedUnicodeEscape=!0),scanner.isUnterminated()&&(node.isUnterminated=!0);var tokenPos=scanner.getTokenPos();return nextToken(),finishNode(node),8===node.kind&&48===sourceText.charCodeAt(tokenPos)&&ts.isOctalDigit(sourceText.charCodeAt(tokenPos+1))&&(node.isOctalLiteral=!0),node}function parseTypeReference(){var typeName=parseEntityName(!1,ts.Diagnostics.Type_expected),node=createNode(155,typeName.pos);return node.typeName=typeName,scanner.hasPrecedingLineBreak()||25!==token()||(node.typeArguments=parseBracketedList(18,parseType,25,27)),finishNode(node)}function parseThisTypePredicate(lhs){nextToken();var node=createNode(154,lhs.pos);return node.parameterName=lhs,node.type=parseType(),finishNode(node)}function parseThisTypeNode(){var node=createNode(165);return nextToken(),finishNode(node)}function parseTypeQuery(){var node=createNode(158);return parseExpected(101),node.exprName=parseEntityName(!0),finishNode(node)}function parseTypeParameter(){var node=createNode(141);return node.name=parseIdentifier(),parseOptional(83)&&(isStartOfType()||!isStartOfExpression()?node.constraint=parseType():node.expression=parseUnaryExpressionOrHigher()),finishNode(node)}function parseTypeParameters(){return 25===token()?parseBracketedList(17,parseTypeParameter,25,27):void 0}function parseParameterType(){return parseOptional(54)?parseType():void 0}function isStartOfParameter(){return 22===token()||isIdentifierOrPattern()||ts.isModifierKind(token())||55===token()||97===token()}function setModifiers(node,modifiers){modifiers&&(node.flags|=modifiers.flags,node.modifiers=modifiers)}function parseParameter(){var node=createNode(142);return 97===token()?(node.name=createIdentifier(!0,void 0),node.type=parseParameterType(),finishNode(node)):(node.decorators=parseDecorators(),setModifiers(node,parseModifiers()),node.dotDotDotToken=parseOptionalToken(22),node.name=parseIdentifierOrPattern(),0===ts.getFullWidth(node.name)&&0===node.flags&&ts.isModifierKind(token())&&nextToken(),node.questionToken=parseOptionalToken(53),node.type=parseParameterType(),node.initializer=parseBindingElementInitializer(!0),addJSDocComment(finishNode(node)))}function parseBindingElementInitializer(inParameter){return inParameter?parseParameterInitializer():parseNonParameterInitializer()}function parseParameterInitializer(){return parseInitializer(!0)}function fillSignature(returnToken,yieldContext,awaitContext,requireCompleteParameterList,signature){var returnTokenRequired=34===returnToken;signature.typeParameters=parseTypeParameters(),signature.parameters=parseParameterList(yieldContext,awaitContext,requireCompleteParameterList),returnTokenRequired?(parseExpected(returnToken),signature.type=parseTypeOrTypePredicate()):parseOptional(returnToken)&&(signature.type=parseTypeOrTypePredicate())}function parseParameterList(yieldContext,awaitContext,requireCompleteParameterList){if(parseExpected(17)){var savedYieldContext=inYieldContext(),savedAwaitContext=inAwaitContext();setYieldContext(yieldContext),setAwaitContext(awaitContext);var result=parseDelimitedList(16,parseParameter);return setYieldContext(savedYieldContext),setAwaitContext(savedAwaitContext),!parseExpected(18)&&requireCompleteParameterList?void 0:result}return requireCompleteParameterList?void 0:createMissingList()}function parseTypeMemberSemicolon(){parseOptional(24)||parseSemicolon()}function parseSignatureMember(kind){var node=createNode(kind);return 152===kind&&parseExpected(92),fillSignature(54,!1,!1,!1,node),parseTypeMemberSemicolon(),finishNode(node)}function isIndexSignature(){return 19!==token()?!1:lookAhead(isUnambiguouslyIndexSignature)}function isUnambiguouslyIndexSignature(){if(nextToken(),22===token()||20===token())return!0;if(ts.isModifierKind(token())){if(nextToken(),isIdentifier())return!0}else{if(!isIdentifier())return!1;nextToken()}return 54===token()||24===token()?!0:53!==token()?!1:(nextToken(),54===token()||24===token()||20===token())}function parseIndexSignatureDeclaration(fullStart,decorators,modifiers){var node=createNode(153,fullStart);return node.decorators=decorators,setModifiers(node,modifiers),node.parameters=parseBracketedList(16,parseParameter,19,20),node.type=parseTypeAnnotation(),parseTypeMemberSemicolon(),finishNode(node)}function parsePropertyOrMethodSignature(fullStart,modifiers){var name=parsePropertyName(),questionToken=parseOptionalToken(53);if(17===token()||25===token()){var method=createNode(146,fullStart);return setModifiers(method,modifiers),method.name=name,method.questionToken=questionToken,fillSignature(54,!1,!1,!1,method),parseTypeMemberSemicolon(),finishNode(method)}var property=createNode(144,fullStart);return setModifiers(property,modifiers),property.name=name,property.questionToken=questionToken,property.type=parseTypeAnnotation(),56===token()&&(property.initializer=parseNonParameterInitializer()),parseTypeMemberSemicolon(),finishNode(property)}function isTypeMemberStart(){var idToken;if(17===token()||25===token())return!0;for(;ts.isModifierKind(token());)idToken=token(),nextToken();return 19===token()?!0:(isLiteralPropertyName()&&(idToken=token(),nextToken()),idToken?17===token()||25===token()||53===token()||54===token()||24===token()||canParseSemicolon():!1)}function parseTypeMember(){if(17===token()||25===token())return parseSignatureMember(151);if(92===token()&&lookAhead(isStartOfConstructSignature))return parseSignatureMember(152);var fullStart=getNodePos(),modifiers=parseModifiers();return isIndexSignature()?parseIndexSignatureDeclaration(fullStart,void 0,modifiers):parsePropertyOrMethodSignature(fullStart,modifiers)}function isStartOfConstructSignature(){return nextToken(),17===token()||25===token()}function parseTypeLiteral(){var node=createNode(159);return node.members=parseObjectTypeMembers(),finishNode(node)}function parseObjectTypeMembers(){var members;return parseExpected(15)?(members=parseList(4,parseTypeMember),parseExpected(16)):members=createMissingList(),members}function parseTupleType(){var node=createNode(161);return node.elementTypes=parseBracketedList(19,parseType,19,20),finishNode(node)}function parseParenthesizedType(){var node=createNode(164);return parseExpected(17),node.type=parseType(),parseExpected(18),finishNode(node)}function parseFunctionOrConstructorType(kind){var node=createNode(kind);return 157===kind&&parseExpected(92),fillSignature(34,!1,!1,!1,node),finishNode(node)}function parseKeywordAndNoDot(){var node=parseTokenNode();return 21===token()?void 0:node}function parseLiteralTypeNode(){var node=createNode(166);return node.literal=parseSimpleUnaryExpression(),finishNode(node),node}function nextTokenIsNumericLiteral(){return 8===nextToken()}function parseNonArrayType(){switch(token()){case 117:case 132:case 130:case 120:case 133:case 135:case 127:var node=tryParse(parseKeywordAndNoDot);return node||parseTypeReference();case 9:case 8:case 99:case 84:return parseLiteralTypeNode();case 36:return lookAhead(nextTokenIsNumericLiteral)?parseLiteralTypeNode():parseTypeReference();case 103:case 93:return parseTokenNode();case 97:var thisKeyword=parseThisTypeNode();return 124!==token()||scanner.hasPrecedingLineBreak()?thisKeyword:parseThisTypePredicate(thisKeyword);case 101:return parseTypeQuery();case 15:return parseTypeLiteral();case 19:return parseTupleType();case 17:return parseParenthesizedType();default:return parseTypeReference()}}function isStartOfType(){switch(token()){case 117:case 132:case 130:case 120:case 133:case 103:case 135:case 93:case 97:case 101:case 127:case 15:case 19:case 25:case 92:case 9:case 8:case 99:case 84:return!0;case 36:return lookAhead(nextTokenIsNumericLiteral);case 17:return lookAhead(isStartOfParenthesizedOrFunctionType);default:return isIdentifier()}}function isStartOfParenthesizedOrFunctionType(){return nextToken(),18===token()||isStartOfParameter()||isStartOfType()}function parseArrayTypeOrHigher(){for(var type=parseNonArrayType();!scanner.hasPrecedingLineBreak()&&parseOptional(19);){parseExpected(20);var node=createNode(160,type.pos);node.elementType=type,type=finishNode(node);
}return type}function parseUnionOrIntersectionType(kind,parseConstituentType,operator){var type=parseConstituentType();if(token()===operator){var types=[type];for(types.pos=type.pos;parseOptional(operator);)types.push(parseConstituentType());types.end=getNodeEnd();var node=createNode(kind,type.pos);node.types=types,type=finishNode(node)}return type}function parseIntersectionTypeOrHigher(){return parseUnionOrIntersectionType(163,parseArrayTypeOrHigher,46)}function parseUnionTypeOrHigher(){return parseUnionOrIntersectionType(162,parseIntersectionTypeOrHigher,47)}function isStartOfFunctionType(){return 25===token()?!0:17===token()&&lookAhead(isUnambiguouslyStartOfFunctionType)}function skipParameterStart(){if(ts.isModifierKind(token())&&parseModifiers(),isIdentifier()||97===token())return nextToken(),!0;if(19===token()||15===token()){var previousErrorCount=parseDiagnostics.length;return parseIdentifierOrPattern(),previousErrorCount===parseDiagnostics.length}return!1}function isUnambiguouslyStartOfFunctionType(){if(nextToken(),18===token()||22===token())return!0;if(skipParameterStart()){if(54===token()||24===token()||53===token()||56===token())return!0;if(18===token()&&(nextToken(),34===token()))return!0}return!1}function parseTypeOrTypePredicate(){var typePredicateVariable=isIdentifier()&&tryParse(parseTypePredicatePrefix),type=parseType();if(typePredicateVariable){var node=createNode(154,typePredicateVariable.pos);return node.parameterName=typePredicateVariable,node.type=type,finishNode(node)}return type}function parseTypePredicatePrefix(){var id=parseIdentifier();return 124!==token()||scanner.hasPrecedingLineBreak()?void 0:(nextToken(),id)}function parseType(){return doOutsideOfContext(41943040,parseTypeWorker)}function parseTypeWorker(){return isStartOfFunctionType()?parseFunctionOrConstructorType(156):92===token()?parseFunctionOrConstructorType(157):parseUnionTypeOrHigher()}function parseTypeAnnotation(){return parseOptional(54)?parseType():void 0}function isStartOfLeftHandSideExpression(){switch(token()){case 97:case 95:case 93:case 99:case 84:case 8:case 9:case 11:case 12:case 17:case 19:case 15:case 87:case 73:case 92:case 39:case 61:case 69:return!0;default:return isIdentifier()}}function isStartOfExpression(){if(isStartOfLeftHandSideExpression())return!0;switch(token()){case 35:case 36:case 50:case 49:case 78:case 101:case 103:case 41:case 42:case 25:case 119:case 114:return!0;default:return isBinaryOperator()?!0:isIdentifier()}}function isStartOfExpressionStatement(){return 15!==token()&&87!==token()&&73!==token()&&55!==token()&&isStartOfExpression()}function parseExpression(){var saveDecoratorContext=inDecoratorContext();saveDecoratorContext&&setDecoratorContext(!1);for(var operatorToken,expr=parseAssignmentExpressionOrHigher();operatorToken=parseOptionalToken(24);)expr=makeBinaryExpression(expr,operatorToken,parseAssignmentExpressionOrHigher());return saveDecoratorContext&&setDecoratorContext(!0),expr}function parseInitializer(inParameter){return 56!==token()&&(scanner.hasPrecedingLineBreak()||inParameter&&15===token()||!isStartOfExpression())?void 0:(parseExpected(56),parseAssignmentExpressionOrHigher())}function parseAssignmentExpressionOrHigher(){if(isYieldExpression())return parseYieldExpression();var arrowExpression=tryParseParenthesizedArrowFunctionExpression()||tryParseAsyncSimpleArrowFunctionExpression();if(arrowExpression)return arrowExpression;var expr=parseBinaryExpressionOrHigher(0);return 69===expr.kind&&34===token()?parseSimpleArrowFunctionExpression(expr):ts.isLeftHandSideExpression(expr)&&ts.isAssignmentOperator(reScanGreaterToken())?makeBinaryExpression(expr,parseTokenNode(),parseAssignmentExpressionOrHigher()):parseConditionalExpressionRest(expr)}function isYieldExpression(){return 114===token()?inYieldContext()?!0:lookAhead(nextTokenIsIdentifierOrKeywordOrNumberOnSameLine):!1}function nextTokenIsIdentifierOnSameLine(){return nextToken(),!scanner.hasPrecedingLineBreak()&&isIdentifier()}function parseYieldExpression(){var node=createNode(190);return nextToken(),scanner.hasPrecedingLineBreak()||37!==token()&&!isStartOfExpression()?finishNode(node):(node.asteriskToken=parseOptionalToken(37),node.expression=parseAssignmentExpressionOrHigher(),finishNode(node))}function parseSimpleArrowFunctionExpression(identifier,asyncModifier){ts.Debug.assert(34===token(),"parseSimpleArrowFunctionExpression should only have been called if we had a =>");var node;asyncModifier?(node=createNode(180,asyncModifier.pos),setModifiers(node,asyncModifier)):node=createNode(180,identifier.pos);var parameter=createNode(142,identifier.pos);return parameter.name=identifier,finishNode(parameter),node.parameters=[parameter],node.parameters.pos=parameter.pos,node.parameters.end=parameter.end,node.equalsGreaterThanToken=parseExpectedToken(34,!1,ts.Diagnostics._0_expected,"=>"),node.body=parseArrowFunctionExpressionBody(!!asyncModifier),finishNode(node)}function tryParseParenthesizedArrowFunctionExpression(){var triState=isParenthesizedArrowFunctionExpression();if(0===triState)return void 0;var arrowFunction=1===triState?parseParenthesizedArrowFunctionExpressionHead(!0):tryParse(parsePossibleParenthesizedArrowFunctionExpressionHead);if(!arrowFunction)return void 0;var isAsync=!!(256&arrowFunction.flags),lastToken=token();return arrowFunction.equalsGreaterThanToken=parseExpectedToken(34,!1,ts.Diagnostics._0_expected,"=>"),arrowFunction.body=34===lastToken||15===lastToken?parseArrowFunctionExpressionBody(isAsync):parseIdentifier(),finishNode(arrowFunction)}function isParenthesizedArrowFunctionExpression(){return 17===token()||25===token()||118===token()?lookAhead(isParenthesizedArrowFunctionExpressionWorker):34===token()?1:0}function isParenthesizedArrowFunctionExpressionWorker(){if(118===token()){if(nextToken(),scanner.hasPrecedingLineBreak())return 0;if(17!==token()&&25!==token())return 0}var first=token(),second=nextToken();if(17===first){if(18===second){var third=nextToken();switch(third){case 34:case 54:case 15:return 1;default:return 0}}return 19===second||15===second?2:22===second?1:isIdentifier()?54===nextToken()?1:2:0}if(ts.Debug.assert(25===first),!isIdentifier())return 0;if(1===sourceFile.languageVariant){var isArrowFunctionInJsx=lookAhead(function(){var third=nextToken();if(83===third){var fourth=nextToken();switch(fourth){case 56:case 27:return!1;default:return!0}}else if(24===third)return!0;return!1});return isArrowFunctionInJsx?1:0}return 2}function parsePossibleParenthesizedArrowFunctionExpressionHead(){return parseParenthesizedArrowFunctionExpressionHead(!1)}function tryParseAsyncSimpleArrowFunctionExpression(){if(118===token()){var isUnParenthesizedAsyncArrowFunction=lookAhead(isUnParenthesizedAsyncArrowFunctionWorker);if(1===isUnParenthesizedAsyncArrowFunction){var asyncModifier=parseModifiersForArrowFunction(),expr=parseBinaryExpressionOrHigher(0);return parseSimpleArrowFunctionExpression(expr,asyncModifier)}}return void 0}function isUnParenthesizedAsyncArrowFunctionWorker(){if(118===token()){if(nextToken(),scanner.hasPrecedingLineBreak()||34===token())return 0;var expr=parseBinaryExpressionOrHigher(0);if(!scanner.hasPrecedingLineBreak()&&69===expr.kind&&34===token())return 1}return 0}function parseParenthesizedArrowFunctionExpressionHead(allowAmbiguity){var node=createNode(180);setModifiers(node,parseModifiersForArrowFunction());var isAsync=!!(256&node.flags);return fillSignature(54,!1,isAsync,!allowAmbiguity,node),node.parameters&&(allowAmbiguity||34===token()||15===token())?node:void 0}function parseArrowFunctionExpressionBody(isAsync){return 15===token()?parseFunctionBlock(!1,isAsync,!1):23!==token()&&87!==token()&&73!==token()&&isStartOfStatement()&&!isStartOfExpressionStatement()?parseFunctionBlock(!1,isAsync,!0):isAsync?doInAwaitContext(parseAssignmentExpressionOrHigher):doOutsideOfAwaitContext(parseAssignmentExpressionOrHigher)}function parseConditionalExpressionRest(leftOperand){var questionToken=parseOptionalToken(53);if(!questionToken)return leftOperand;var node=createNode(188,leftOperand.pos);return node.condition=leftOperand,node.questionToken=questionToken,node.whenTrue=doOutsideOfContext(disallowInAndDecoratorContext,parseAssignmentExpressionOrHigher),node.colonToken=parseExpectedToken(54,!1,ts.Diagnostics._0_expected,ts.tokenToString(54)),node.whenFalse=parseAssignmentExpressionOrHigher(),finishNode(node)}function parseBinaryExpressionOrHigher(precedence){var leftOperand=parseUnaryExpressionOrHigher();return parseBinaryExpressionRest(precedence,leftOperand)}function isInOrOfKeyword(t){return 90===t||138===t}function parseBinaryExpressionRest(precedence,leftOperand){for(;;){reScanGreaterToken();var newPrecedence=getBinaryOperatorPrecedence(),consumeCurrentOperator=38===token()?newPrecedence>=precedence:newPrecedence>precedence;if(!consumeCurrentOperator)break;if(90===token()&&inDisallowInContext())break;if(116===token()){if(scanner.hasPrecedingLineBreak())break;nextToken(),leftOperand=makeAsExpression(leftOperand,parseType())}else leftOperand=makeBinaryExpression(leftOperand,parseTokenNode(),parseBinaryExpressionOrHigher(newPrecedence))}return leftOperand}function isBinaryOperator(){return inDisallowInContext()&&90===token()?!1:getBinaryOperatorPrecedence()>0}function getBinaryOperatorPrecedence(){switch(token()){case 52:return 1;case 51:return 2;case 47:return 3;case 48:return 4;case 46:return 5;case 30:case 31:case 32:case 33:return 6;case 25:case 27:case 28:case 29:case 91:case 90:case 116:return 7;case 43:case 44:case 45:return 8;case 35:case 36:return 9;case 37:case 39:case 40:return 10;case 38:return 11}return-1}function makeBinaryExpression(left,operatorToken,right){var node=createNode(187,left.pos);return node.left=left,node.operatorToken=operatorToken,node.right=right,finishNode(node)}function makeAsExpression(left,right){var node=createNode(195,left.pos);return node.expression=left,node.type=right,finishNode(node)}function parsePrefixUnaryExpression(){var node=createNode(185);return node.operator=token(),nextToken(),node.operand=parseSimpleUnaryExpression(),finishNode(node)}function parseDeleteExpression(){var node=createNode(181);return nextToken(),node.expression=parseSimpleUnaryExpression(),finishNode(node)}function parseTypeOfExpression(){var node=createNode(182);return nextToken(),node.expression=parseSimpleUnaryExpression(),finishNode(node)}function parseVoidExpression(){var node=createNode(183);return nextToken(),node.expression=parseSimpleUnaryExpression(),finishNode(node)}function isAwaitExpression(){return 119===token()?inAwaitContext()?!0:lookAhead(nextTokenIsIdentifierOnSameLine):!1}function parseAwaitExpression(){var node=createNode(184);return nextToken(),node.expression=parseSimpleUnaryExpression(),finishNode(node)}function parseUnaryExpressionOrHigher(){if(isUpdateExpression()){var incrementExpression=parseIncrementExpression();return 38===token()?parseBinaryExpressionRest(getBinaryOperatorPrecedence(),incrementExpression):incrementExpression}var unaryOperator=token(),simpleUnaryExpression=parseSimpleUnaryExpression();if(38===token()){var start=ts.skipTrivia(sourceText,simpleUnaryExpression.pos);177===simpleUnaryExpression.kind?parseErrorAtPosition(start,simpleUnaryExpression.end-start,ts.Diagnostics.A_type_assertion_expression_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses):parseErrorAtPosition(start,simpleUnaryExpression.end-start,ts.Diagnostics.An_unary_expression_with_the_0_operator_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses,ts.tokenToString(unaryOperator))}return simpleUnaryExpression}function parseSimpleUnaryExpression(){switch(token()){case 35:case 36:case 50:case 49:return parsePrefixUnaryExpression();case 78:return parseDeleteExpression();case 101:return parseTypeOfExpression();case 103:return parseVoidExpression();case 25:return parseTypeAssertion();case 119:if(isAwaitExpression())return parseAwaitExpression();default:return parseIncrementExpression()}}function isUpdateExpression(){switch(token()){case 35:case 36:case 50:case 49:case 78:case 101:case 103:case 119:return!1;case 25:if(1!==sourceFile.languageVariant)return!1;default:return!0}}function parseIncrementExpression(){if(41===token()||42===token()){var node=createNode(185);return node.operator=token(),nextToken(),node.operand=parseLeftHandSideExpressionOrHigher(),finishNode(node)}if(1===sourceFile.languageVariant&&25===token()&&lookAhead(nextTokenIsIdentifierOrKeyword))return parseJsxElementOrSelfClosingElement(!0);var expression=parseLeftHandSideExpressionOrHigher();if(ts.Debug.assert(ts.isLeftHandSideExpression(expression)),(41===token()||42===token())&&!scanner.hasPrecedingLineBreak()){var node=createNode(186,expression.pos);return node.operand=expression,node.operator=token(),nextToken(),finishNode(node)}return expression}function parseLeftHandSideExpressionOrHigher(){var expression=95===token()?parseSuperExpression():parseMemberExpressionOrHigher();return parseCallExpressionRest(expression)}function parseMemberExpressionOrHigher(){var expression=parsePrimaryExpression();return parseMemberExpressionRest(expression)}function parseSuperExpression(){var expression=parseTokenNode();if(17===token()||21===token()||19===token())return expression;var node=createNode(172,expression.pos);return node.expression=expression,parseExpectedToken(21,!1,ts.Diagnostics.super_must_be_followed_by_an_argument_list_or_member_access),node.name=parseRightSideOfDot(!0),finishNode(node)}function tagNamesAreEquivalent(lhs,rhs){return lhs.kind!==rhs.kind?!1:69===lhs.kind?lhs.text===rhs.text:97===lhs.kind?!0:lhs.name.text===rhs.name.text&&tagNamesAreEquivalent(lhs.expression,rhs.expression)}function parseJsxElementOrSelfClosingElement(inExpressionContext){var result,opening=parseJsxOpeningOrSelfClosingElement(inExpressionContext);if(243===opening.kind){var node=createNode(241,opening.pos);node.openingElement=opening,node.children=parseJsxChildren(node.openingElement.tagName),node.closingElement=parseJsxClosingElement(inExpressionContext),tagNamesAreEquivalent(node.openingElement.tagName,node.closingElement.tagName)||parseErrorAtPosition(node.closingElement.pos,node.closingElement.end-node.closingElement.pos,ts.Diagnostics.Expected_corresponding_JSX_closing_tag_for_0,ts.getTextOfNodeFromSourceText(sourceText,node.openingElement.tagName)),result=finishNode(node)}else ts.Debug.assert(242===opening.kind),result=opening;if(inExpressionContext&&25===token()){var invalidElement=tryParse(function(){return parseJsxElementOrSelfClosingElement(!0)});if(invalidElement){parseErrorAtCurrentToken(ts.Diagnostics.JSX_expressions_must_have_one_parent_element);var badNode=createNode(187,result.pos);return badNode.end=invalidElement.end,badNode.left=result,badNode.right=invalidElement,badNode.operatorToken=createMissingNode(24,!1,void 0),badNode.operatorToken.pos=badNode.operatorToken.end=badNode.right.pos,badNode}}return result}function parseJsxText(){var node=createNode(244,scanner.getStartPos());return currentToken=scanner.scanJsxToken(),finishNode(node)}function parseJsxChild(){switch(token()){case 244:return parseJsxText();case 15:return parseJsxExpression(!1);case 25:return parseJsxElementOrSelfClosingElement(!1)}ts.Debug.fail("Unknown JSX child kind "+token())}function parseJsxChildren(openingTagName){var result=[];result.pos=scanner.getStartPos();var saveParsingContext=parsingContext;for(parsingContext|=16384;;){if(currentToken=scanner.reScanJsxToken(),26===token())break;if(1===token()){parseErrorAtPosition(openingTagName.pos,openingTagName.end-openingTagName.pos,ts.Diagnostics.JSX_element_0_has_no_corresponding_closing_tag,ts.getTextOfNodeFromSourceText(sourceText,openingTagName));break}result.push(parseJsxChild())}return result.end=scanner.getTokenPos(),parsingContext=saveParsingContext,result}function parseJsxOpeningOrSelfClosingElement(inExpressionContext){var fullStart=scanner.getStartPos();parseExpected(25);var node,tagName=parseJsxElementName(),attributes=parseList(13,parseJsxAttribute);return 27===token()?(node=createNode(243,fullStart),scanJsxText()):(parseExpected(39),inExpressionContext?parseExpected(27):(parseExpected(27,void 0,!1),scanJsxText()),node=createNode(242,fullStart)),node.tagName=tagName,node.attributes=attributes,finishNode(node)}function parseJsxElementName(){scanJsxIdentifier();for(var expression=97===token()?parseTokenNode():parseIdentifierName();parseOptional(21);){var propertyAccess=createNode(172,expression.pos);propertyAccess.expression=expression,propertyAccess.name=parseRightSideOfDot(!0),expression=finishNode(propertyAccess)}return expression}function parseJsxExpression(inExpressionContext){var node=createNode(248);return parseExpected(15),16!==token()&&(node.expression=parseAssignmentExpressionOrHigher()),inExpressionContext?parseExpected(16):(parseExpected(16,void 0,!1),scanJsxText()),finishNode(node)}function parseJsxAttribute(){if(15===token())return parseJsxSpreadAttribute();scanJsxIdentifier();var node=createNode(246);if(node.name=parseIdentifierName(),parseOptional(56))switch(token()){case 9:node.initializer=parseLiteralNode();break;default:node.initializer=parseJsxExpression(!0)}return finishNode(node)}function parseJsxSpreadAttribute(){var node=createNode(247);return parseExpected(15),parseExpected(22),node.expression=parseExpression(),parseExpected(16),finishNode(node)}function parseJsxClosingElement(inExpressionContext){var node=createNode(245);return parseExpected(26),node.tagName=parseJsxElementName(),inExpressionContext?parseExpected(27):(parseExpected(27,void 0,!1),scanJsxText()),finishNode(node)}function parseTypeAssertion(){var node=createNode(177);return parseExpected(25),node.type=parseType(),parseExpected(27),node.expression=parseSimpleUnaryExpression(),finishNode(node)}function parseMemberExpressionRest(expression){for(;;){var dotToken=parseOptionalToken(21);if(dotToken){var propertyAccess=createNode(172,expression.pos);propertyAccess.expression=expression,propertyAccess.name=parseRightSideOfDot(!0),expression=finishNode(propertyAccess)}else if(49!==token()||scanner.hasPrecedingLineBreak())if(inDecoratorContext()||!parseOptional(19)){if(11!==token()&&12!==token())return expression;var tagExpression=createNode(176,expression.pos);tagExpression.tag=expression,tagExpression.template=11===token()?parseLiteralNode():parseTemplateExpression(),expression=finishNode(tagExpression)}else{var indexedAccess=createNode(173,expression.pos);if(indexedAccess.expression=expression,20!==token()&&(indexedAccess.argumentExpression=allowInAnd(parseExpression),9===indexedAccess.argumentExpression.kind||8===indexedAccess.argumentExpression.kind)){var literal=indexedAccess.argumentExpression;literal.text=internIdentifier(literal.text)}parseExpected(20),expression=finishNode(indexedAccess)}else{nextToken();var nonNullExpression=createNode(196,expression.pos);nonNullExpression.expression=expression,expression=finishNode(nonNullExpression)}}}function parseCallExpressionRest(expression){for(;;)if(expression=parseMemberExpressionRest(expression),25!==token()){if(17!==token())return expression;var callExpr=createNode(174,expression.pos);callExpr.expression=expression,callExpr.arguments=parseArgumentList(),expression=finishNode(callExpr)}else{var typeArguments=tryParse(parseTypeArgumentsInExpression);if(!typeArguments)return expression;var callExpr=createNode(174,expression.pos);callExpr.expression=expression,callExpr.typeArguments=typeArguments,callExpr.arguments=parseArgumentList(),expression=finishNode(callExpr)}}function parseArgumentList(){parseExpected(17);var result=parseDelimitedList(11,parseArgumentExpression);return parseExpected(18),result}function parseTypeArgumentsInExpression(){if(!parseOptional(25))return void 0;var typeArguments=parseDelimitedList(18,parseType);return parseExpected(27)&&typeArguments&&canFollowTypeArgumentsInExpression()?typeArguments:void 0}function canFollowTypeArgumentsInExpression(){switch(token()){case 17:case 21:case 18:case 20:case 54:case 23:case 53:case 30:case 32:case 31:case 33:case 51:case 52:case 48:case 46:case 47:case 16:case 1:return!0;case 24:case 15:default:return!1}}function parsePrimaryExpression(){switch(token()){case 8:case 9:case 11:return parseLiteralNode();case 97:case 95:case 93:case 99:case 84:return parseTokenNode();case 17:return parseParenthesizedExpression();case 19:return parseArrayLiteralExpression();case 15:return parseObjectLiteralExpression();case 118:if(!lookAhead(nextTokenIsFunctionKeywordOnSameLine))break;return parseFunctionExpression();case 73:return parseClassExpression();case 87:return parseFunctionExpression();case 92:return parseNewExpression();case 39:case 61:if(10===reScanSlashToken())return parseLiteralNode();break;case 12:return parseTemplateExpression()}return parseIdentifier(ts.Diagnostics.Expression_expected)}function parseParenthesizedExpression(){var node=createNode(178);return parseExpected(17),node.expression=allowInAnd(parseExpression),parseExpected(18),finishNode(node)}function parseSpreadElement(){var node=createNode(191);return parseExpected(22),node.expression=parseAssignmentExpressionOrHigher(),finishNode(node)}function parseArgumentOrArrayLiteralElement(){return 22===token()?parseSpreadElement():24===token()?createNode(193):parseAssignmentExpressionOrHigher()}function parseArgumentExpression(){return doOutsideOfContext(disallowInAndDecoratorContext,parseArgumentOrArrayLiteralElement)}function parseArrayLiteralExpression(){var node=createNode(170);return parseExpected(19),scanner.hasPrecedingLineBreak()&&(node.multiLine=!0),node.elements=parseDelimitedList(15,parseArgumentOrArrayLiteralElement),parseExpected(20),finishNode(node)}function tryParseAccessorDeclaration(fullStart,decorators,modifiers){return parseContextualModifier(123)?addJSDocComment(parseAccessorDeclaration(149,fullStart,decorators,modifiers)):parseContextualModifier(131)?parseAccessorDeclaration(150,fullStart,decorators,modifiers):void 0}function parseObjectLiteralElement(){var fullStart=scanner.getStartPos(),decorators=parseDecorators(),modifiers=parseModifiers(),accessor=tryParseAccessorDeclaration(fullStart,decorators,modifiers);if(accessor)return accessor;var asteriskToken=parseOptionalToken(37),tokenIsIdentifier=isIdentifier(),propertyName=parsePropertyName(),questionToken=parseOptionalToken(53);if(asteriskToken||17===token()||25===token())return parseMethodDeclaration(fullStart,decorators,modifiers,asteriskToken,propertyName,questionToken);var isShorthandPropertyAssignment=tokenIsIdentifier&&(24===token()||16===token()||56===token());if(isShorthandPropertyAssignment){var shorthandDeclaration=createNode(254,fullStart);shorthandDeclaration.name=propertyName,shorthandDeclaration.questionToken=questionToken;var equalsToken=parseOptionalToken(56);return equalsToken&&(shorthandDeclaration.equalsToken=equalsToken,shorthandDeclaration.objectAssignmentInitializer=allowInAnd(parseAssignmentExpressionOrHigher)),addJSDocComment(finishNode(shorthandDeclaration))}var propertyAssignment=createNode(253,fullStart);return propertyAssignment.modifiers=modifiers,propertyAssignment.name=propertyName,propertyAssignment.questionToken=questionToken,parseExpected(54),propertyAssignment.initializer=allowInAnd(parseAssignmentExpressionOrHigher),addJSDocComment(finishNode(propertyAssignment))}function parseObjectLiteralExpression(){var node=createNode(171);return parseExpected(15),scanner.hasPrecedingLineBreak()&&(node.multiLine=!0),node.properties=parseDelimitedList(12,parseObjectLiteralElement,!0),parseExpected(16),finishNode(node)}function parseFunctionExpression(){var saveDecoratorContext=inDecoratorContext();saveDecoratorContext&&setDecoratorContext(!1);var node=createNode(179);setModifiers(node,parseModifiers()),parseExpected(87),node.asteriskToken=parseOptionalToken(37);var isGenerator=!!node.asteriskToken,isAsync=!!(256&node.flags);return node.name=isGenerator&&isAsync?doInYieldAndAwaitContext(parseOptionalIdentifier):isGenerator?doInYieldContext(parseOptionalIdentifier):isAsync?doInAwaitContext(parseOptionalIdentifier):parseOptionalIdentifier(),fillSignature(54,isGenerator,isAsync,!1,node),node.body=parseFunctionBlock(isGenerator,isAsync,!1),saveDecoratorContext&&setDecoratorContext(!0),addJSDocComment(finishNode(node))}function parseOptionalIdentifier(){return isIdentifier()?parseIdentifier():void 0}function parseNewExpression(){var node=createNode(175);return parseExpected(92),node.expression=parseMemberExpressionOrHigher(),node.typeArguments=tryParse(parseTypeArgumentsInExpression),(node.typeArguments||17===token())&&(node.arguments=parseArgumentList()),finishNode(node)}function parseBlock(ignoreMissingOpenBrace,diagnosticMessage){var node=createNode(199);return parseExpected(15,diagnosticMessage)||ignoreMissingOpenBrace?(node.statements=parseList(1,parseStatement),parseExpected(16)):node.statements=createMissingList(),finishNode(node)}function parseFunctionBlock(allowYield,allowAwait,ignoreMissingOpenBrace,diagnosticMessage){var savedYieldContext=inYieldContext();setYieldContext(allowYield);var savedAwaitContext=inAwaitContext();setAwaitContext(allowAwait);var saveDecoratorContext=inDecoratorContext();saveDecoratorContext&&setDecoratorContext(!1);var block=parseBlock(ignoreMissingOpenBrace,diagnosticMessage);return saveDecoratorContext&&setDecoratorContext(!0),setYieldContext(savedYieldContext),setAwaitContext(savedAwaitContext),block}function parseEmptyStatement(){var node=createNode(201);return parseExpected(23),finishNode(node)}function parseIfStatement(){var node=createNode(203);return parseExpected(88),parseExpected(17),node.expression=allowInAnd(parseExpression),parseExpected(18),node.thenStatement=parseStatement(),node.elseStatement=parseOptional(80)?parseStatement():void 0,finishNode(node)}function parseDoStatement(){var node=createNode(204);return parseExpected(79),node.statement=parseStatement(),parseExpected(104),parseExpected(17),node.expression=allowInAnd(parseExpression),parseExpected(18),parseOptional(23),finishNode(node)}function parseWhileStatement(){var node=createNode(205);return parseExpected(104),parseExpected(17),node.expression=allowInAnd(parseExpression),parseExpected(18),node.statement=parseStatement(),finishNode(node)}function parseForOrForInOrForOfStatement(){var pos=getNodePos();parseExpected(86),parseExpected(17);var initializer=void 0;23!==token()&&(initializer=102===token()||108===token()||74===token()?parseVariableDeclarationList(!0):disallowInAnd(parseExpression));var forOrForInOrForOfStatement;if(parseOptional(90)){var forInStatement=createNode(207,pos);forInStatement.initializer=initializer,forInStatement.expression=allowInAnd(parseExpression),parseExpected(18),forOrForInOrForOfStatement=forInStatement}else if(parseOptional(138)){var forOfStatement=createNode(208,pos);forOfStatement.initializer=initializer,forOfStatement.expression=allowInAnd(parseAssignmentExpressionOrHigher),parseExpected(18),forOrForInOrForOfStatement=forOfStatement}else{var forStatement=createNode(206,pos);forStatement.initializer=initializer,parseExpected(23),23!==token()&&18!==token()&&(forStatement.condition=allowInAnd(parseExpression)),parseExpected(23),18!==token()&&(forStatement.incrementor=allowInAnd(parseExpression)),parseExpected(18),forOrForInOrForOfStatement=forStatement}return forOrForInOrForOfStatement.statement=parseStatement(),finishNode(forOrForInOrForOfStatement)}function parseBreakOrContinueStatement(kind){var node=createNode(kind);return parseExpected(210===kind?70:75),canParseSemicolon()||(node.label=parseIdentifier()),parseSemicolon(),finishNode(node)}function parseReturnStatement(){var node=createNode(211);return parseExpected(94),canParseSemicolon()||(node.expression=allowInAnd(parseExpression)),parseSemicolon(),finishNode(node)}function parseWithStatement(){var node=createNode(212);return parseExpected(105),parseExpected(17),node.expression=allowInAnd(parseExpression),parseExpected(18),node.statement=parseStatement(),finishNode(node)}function parseCaseClause(){var node=createNode(249);return parseExpected(71),node.expression=allowInAnd(parseExpression),parseExpected(54),node.statements=parseList(3,parseStatement),finishNode(node)}function parseDefaultClause(){var node=createNode(250);return parseExpected(77),parseExpected(54),node.statements=parseList(3,parseStatement),finishNode(node)}function parseCaseOrDefaultClause(){return 71===token()?parseCaseClause():parseDefaultClause()}function parseSwitchStatement(){var node=createNode(213);parseExpected(96),parseExpected(17),node.expression=allowInAnd(parseExpression),parseExpected(18);var caseBlock=createNode(227,scanner.getStartPos());return parseExpected(15),caseBlock.clauses=parseList(2,parseCaseOrDefaultClause),parseExpected(16),node.caseBlock=finishNode(caseBlock),finishNode(node)}function parseThrowStatement(){var node=createNode(215);return parseExpected(98),node.expression=scanner.hasPrecedingLineBreak()?void 0:allowInAnd(parseExpression),parseSemicolon(),finishNode(node)}function parseTryStatement(){var node=createNode(216);return parseExpected(100),node.tryBlock=parseBlock(!1),node.catchClause=72===token()?parseCatchClause():void 0,node.catchClause&&85!==token()||(parseExpected(85),node.finallyBlock=parseBlock(!1)),finishNode(node)}function parseCatchClause(){var result=createNode(252);return parseExpected(72),parseExpected(17)&&(result.variableDeclaration=parseVariableDeclaration()),parseExpected(18),result.block=parseBlock(!1),finishNode(result)}function parseDebuggerStatement(){var node=createNode(217);return parseExpected(76),parseSemicolon(),finishNode(node)}function parseExpressionOrLabeledStatement(){var fullStart=scanner.getStartPos(),expression=allowInAnd(parseExpression);if(69===expression.kind&&parseOptional(54)){var labeledStatement=createNode(214,fullStart);return labeledStatement.label=expression,labeledStatement.statement=parseStatement(),addJSDocComment(finishNode(labeledStatement))}var expressionStatement=createNode(202,fullStart);return expressionStatement.expression=expression,parseSemicolon(),addJSDocComment(finishNode(expressionStatement))}function nextTokenIsIdentifierOrKeywordOnSameLine(){return nextToken(),ts.tokenIsIdentifierOrKeyword(token())&&!scanner.hasPrecedingLineBreak()}function nextTokenIsFunctionKeywordOnSameLine(){return nextToken(),87===token()&&!scanner.hasPrecedingLineBreak()}function nextTokenIsIdentifierOrKeywordOrNumberOnSameLine(){return nextToken(),(ts.tokenIsIdentifierOrKeyword(token())||8===token())&&!scanner.hasPrecedingLineBreak()}function isDeclaration(){for(;;)switch(token()){case 102:case 108:case 74:case 87:case 73:case 81:return!0;case 107:case 134:return nextTokenIsIdentifierOnSameLine();case 125:case 126:return nextTokenIsIdentifierOrStringLiteralOnSameLine();case 115:case 118:case 122:case 110:case 111:case 112:case 128:if(nextToken(),scanner.hasPrecedingLineBreak())return!1;continue;case 137:return nextToken(),15===token()||69===token()||82===token();case 89:return nextToken(),9===token()||37===token()||15===token()||ts.tokenIsIdentifierOrKeyword(token());case 82:if(nextToken(),56===token()||37===token()||15===token()||77===token()||116===token())return!0;continue;case 113:nextToken();continue;default:return!1}}function isStartOfDeclaration(){return lookAhead(isDeclaration)}function isStartOfStatement(){switch(token()){case 55:case 23:case 15:case 102:case 108:case 87:case 73:case 81:case 88:case 79:case 104:case 86:case 75:case 70:case 94:case 105:case 96:case 98:case 100:case 76:case 72:case 85:return!0;case 74:case 82:case 89:return isStartOfDeclaration();case 118:case 122:case 107:case 125:case 126:case 134:case 137:return!0;case 112:case 110:case 111:case 113:case 128:return isStartOfDeclaration()||!lookAhead(nextTokenIsIdentifierOrKeywordOnSameLine);default:return isStartOfExpression()}}function nextTokenIsIdentifierOrStartOfDestructuring(){
return nextToken(),isIdentifier()||15===token()||19===token()}function isLetDeclaration(){return lookAhead(nextTokenIsIdentifierOrStartOfDestructuring)}function parseStatement(){switch(token()){case 23:return parseEmptyStatement();case 15:return parseBlock(!1);case 102:return parseVariableStatement(scanner.getStartPos(),void 0,void 0);case 108:if(isLetDeclaration())return parseVariableStatement(scanner.getStartPos(),void 0,void 0);break;case 87:return parseFunctionDeclaration(scanner.getStartPos(),void 0,void 0);case 73:return parseClassDeclaration(scanner.getStartPos(),void 0,void 0);case 88:return parseIfStatement();case 79:return parseDoStatement();case 104:return parseWhileStatement();case 86:return parseForOrForInOrForOfStatement();case 75:return parseBreakOrContinueStatement(209);case 70:return parseBreakOrContinueStatement(210);case 94:return parseReturnStatement();case 105:return parseWithStatement();case 96:return parseSwitchStatement();case 98:return parseThrowStatement();case 100:case 72:case 85:return parseTryStatement();case 76:return parseDebuggerStatement();case 55:return parseDeclaration();case 118:case 107:case 134:case 125:case 126:case 122:case 74:case 81:case 82:case 89:case 110:case 111:case 112:case 115:case 113:case 128:case 137:if(isStartOfDeclaration())return parseDeclaration()}return parseExpressionOrLabeledStatement()}function parseDeclaration(){var fullStart=getNodePos(),decorators=parseDecorators(),modifiers=parseModifiers();switch(token()){case 102:case 108:case 74:return parseVariableStatement(fullStart,decorators,modifiers);case 87:return parseFunctionDeclaration(fullStart,decorators,modifiers);case 73:return parseClassDeclaration(fullStart,decorators,modifiers);case 107:return parseInterfaceDeclaration(fullStart,decorators,modifiers);case 134:return parseTypeAliasDeclaration(fullStart,decorators,modifiers);case 81:return parseEnumDeclaration(fullStart,decorators,modifiers);case 137:case 125:case 126:return parseModuleDeclaration(fullStart,decorators,modifiers);case 89:return parseImportDeclarationOrImportEqualsDeclaration(fullStart,decorators,modifiers);case 82:switch(nextToken(),token()){case 77:case 56:return parseExportAssignment(fullStart,decorators,modifiers);case 116:return parseNamespaceExportDeclaration(fullStart,decorators,modifiers);default:return parseExportDeclaration(fullStart,decorators,modifiers)}default:if(decorators||modifiers){var node=createMissingNode(239,!0,ts.Diagnostics.Declaration_expected);return node.pos=fullStart,node.decorators=decorators,setModifiers(node,modifiers),finishNode(node)}}}function nextTokenIsIdentifierOrStringLiteralOnSameLine(){return nextToken(),!scanner.hasPrecedingLineBreak()&&(isIdentifier()||9===token())}function parseFunctionBlockOrSemicolon(isGenerator,isAsync,diagnosticMessage){return 15!==token()&&canParseSemicolon()?void parseSemicolon():parseFunctionBlock(isGenerator,isAsync,!1,diagnosticMessage)}function parseArrayBindingElement(){if(24===token())return createNode(193);var node=createNode(169);return node.dotDotDotToken=parseOptionalToken(22),node.name=parseIdentifierOrPattern(),node.initializer=parseBindingElementInitializer(!1),finishNode(node)}function parseObjectBindingElement(){var node=createNode(169),tokenIsIdentifier=isIdentifier(),propertyName=parsePropertyName();return tokenIsIdentifier&&54!==token()?node.name=propertyName:(parseExpected(54),node.propertyName=propertyName,node.name=parseIdentifierOrPattern()),node.initializer=parseBindingElementInitializer(!1),finishNode(node)}function parseObjectBindingPattern(){var node=createNode(167);return parseExpected(15),node.elements=parseDelimitedList(9,parseObjectBindingElement),parseExpected(16),finishNode(node)}function parseArrayBindingPattern(){var node=createNode(168);return parseExpected(19),node.elements=parseDelimitedList(10,parseArrayBindingElement),parseExpected(20),finishNode(node)}function isIdentifierOrPattern(){return 15===token()||19===token()||isIdentifier()}function parseIdentifierOrPattern(){return 19===token()?parseArrayBindingPattern():15===token()?parseObjectBindingPattern():parseIdentifier()}function parseVariableDeclaration(){var node=createNode(218);return node.name=parseIdentifierOrPattern(),node.type=parseTypeAnnotation(),isInOrOfKeyword(token())||(node.initializer=parseInitializer(!1)),finishNode(node)}function parseVariableDeclarationList(inForStatementInitializer){var node=createNode(219);switch(token()){case 102:break;case 108:node.flags|=1024;break;case 74:node.flags|=2048;break;default:ts.Debug.fail()}if(nextToken(),138===token()&&lookAhead(canFollowContextualOfKeyword))node.declarations=createMissingList();else{var savedDisallowIn=inDisallowInContext();setDisallowInContext(inForStatementInitializer),node.declarations=parseDelimitedList(8,parseVariableDeclaration),setDisallowInContext(savedDisallowIn)}return finishNode(node)}function canFollowContextualOfKeyword(){return nextTokenIsIdentifier()&&18===nextToken()}function parseVariableStatement(fullStart,decorators,modifiers){var node=createNode(200,fullStart);return node.decorators=decorators,setModifiers(node,modifiers),node.declarationList=parseVariableDeclarationList(!1),parseSemicolon(),addJSDocComment(finishNode(node))}function parseFunctionDeclaration(fullStart,decorators,modifiers){var node=createNode(220,fullStart);node.decorators=decorators,setModifiers(node,modifiers),parseExpected(87),node.asteriskToken=parseOptionalToken(37),node.name=512&node.flags?parseOptionalIdentifier():parseIdentifier();var isGenerator=!!node.asteriskToken,isAsync=!!(256&node.flags);return fillSignature(54,isGenerator,isAsync,!1,node),node.body=parseFunctionBlockOrSemicolon(isGenerator,isAsync,ts.Diagnostics.or_expected),addJSDocComment(finishNode(node))}function parseConstructorDeclaration(pos,decorators,modifiers){var node=createNode(148,pos);return node.decorators=decorators,setModifiers(node,modifiers),parseExpected(121),fillSignature(54,!1,!1,!1,node),node.body=parseFunctionBlockOrSemicolon(!1,!1,ts.Diagnostics.or_expected),addJSDocComment(finishNode(node))}function parseMethodDeclaration(fullStart,decorators,modifiers,asteriskToken,name,questionToken,diagnosticMessage){var method=createNode(147,fullStart);method.decorators=decorators,setModifiers(method,modifiers),method.asteriskToken=asteriskToken,method.name=name,method.questionToken=questionToken;var isGenerator=!!asteriskToken,isAsync=!!(256&method.flags);return fillSignature(54,isGenerator,isAsync,!1,method),method.body=parseFunctionBlockOrSemicolon(isGenerator,isAsync,diagnosticMessage),addJSDocComment(finishNode(method))}function parsePropertyDeclaration(fullStart,decorators,modifiers,name,questionToken){var property=createNode(145,fullStart);return property.decorators=decorators,setModifiers(property,modifiers),property.name=name,property.questionToken=questionToken,property.type=parseTypeAnnotation(),property.initializer=modifiers&&32&modifiers.flags?allowInAnd(parseNonParameterInitializer):doOutsideOfContext(12582912,parseNonParameterInitializer),parseSemicolon(),finishNode(property)}function parsePropertyOrMethodDeclaration(fullStart,decorators,modifiers){var asteriskToken=parseOptionalToken(37),name=parsePropertyName(),questionToken=parseOptionalToken(53);return asteriskToken||17===token()||25===token()?parseMethodDeclaration(fullStart,decorators,modifiers,asteriskToken,name,questionToken,ts.Diagnostics.or_expected):parsePropertyDeclaration(fullStart,decorators,modifiers,name,questionToken)}function parseNonParameterInitializer(){return parseInitializer(!1)}function parseAccessorDeclaration(kind,fullStart,decorators,modifiers){var node=createNode(kind,fullStart);return node.decorators=decorators,setModifiers(node,modifiers),node.name=parsePropertyName(),fillSignature(54,!1,!1,!1,node),node.body=parseFunctionBlockOrSemicolon(!1,!1),finishNode(node)}function isClassMemberModifier(idToken){switch(idToken){case 112:case 110:case 111:case 113:case 128:return!0;default:return!1}}function isClassMemberStart(){var idToken;if(55===token())return!0;for(;ts.isModifierKind(token());){if(idToken=token(),isClassMemberModifier(idToken))return!0;nextToken()}if(37===token())return!0;if(isLiteralPropertyName()&&(idToken=token(),nextToken()),19===token())return!0;if(void 0!==idToken){if(!ts.isKeyword(idToken)||131===idToken||123===idToken)return!0;switch(token()){case 17:case 25:case 54:case 56:case 53:return!0;default:return canParseSemicolon()}}return!1}function parseDecorators(){for(var decorators;;){var decoratorStart=getNodePos();if(!parseOptional(55))break;decorators||(decorators=[],decorators.pos=decoratorStart);var decorator=createNode(143,decoratorStart);decorator.expression=doInDecoratorContext(parseLeftHandSideExpressionOrHigher),decorators.push(finishNode(decorator))}return decorators&&(decorators.end=getNodeEnd()),decorators}function parseModifiers(permitInvalidConstAsModifier){for(var modifiers,flags=0;;){var modifierStart=scanner.getStartPos(),modifierKind=token();if(74===token()&&permitInvalidConstAsModifier){if(!tryParse(nextTokenIsOnSameLineAndCanFollowModifier))break}else if(!parseAnyContextualModifier())break;modifiers||(modifiers=[],modifiers.pos=modifierStart),flags|=ts.modifierToFlag(modifierKind),modifiers.push(finishNode(createNode(modifierKind,modifierStart)))}return modifiers&&(modifiers.flags=flags,modifiers.end=scanner.getStartPos()),modifiers}function parseModifiersForArrowFunction(){var modifiers,flags=0;if(118===token()){var modifierStart=scanner.getStartPos(),modifierKind=token();nextToken(),modifiers=[],modifiers.pos=modifierStart,flags|=ts.modifierToFlag(modifierKind),modifiers.push(finishNode(createNode(modifierKind,modifierStart))),modifiers.flags=flags,modifiers.end=scanner.getStartPos()}return modifiers}function parseClassElement(){if(23===token()){var result=createNode(198);return nextToken(),finishNode(result)}var fullStart=getNodePos(),decorators=parseDecorators(),modifiers=parseModifiers(!0),accessor=tryParseAccessorDeclaration(fullStart,decorators,modifiers);if(accessor)return accessor;if(121===token())return parseConstructorDeclaration(fullStart,decorators,modifiers);if(isIndexSignature())return parseIndexSignatureDeclaration(fullStart,decorators,modifiers);if(ts.tokenIsIdentifierOrKeyword(token())||9===token()||8===token()||37===token()||19===token())return parsePropertyOrMethodDeclaration(fullStart,decorators,modifiers);if(decorators||modifiers){var name_7=createMissingNode(69,!0,ts.Diagnostics.Declaration_expected);return parsePropertyDeclaration(fullStart,decorators,modifiers,name_7,void 0)}ts.Debug.fail("Should not have attempted to parse class member declaration.")}function parseClassExpression(){return parseClassDeclarationOrExpression(scanner.getStartPos(),void 0,void 0,192)}function parseClassDeclaration(fullStart,decorators,modifiers){return parseClassDeclarationOrExpression(fullStart,decorators,modifiers,221)}function parseClassDeclarationOrExpression(fullStart,decorators,modifiers,kind){var node=createNode(kind,fullStart);return node.decorators=decorators,setModifiers(node,modifiers),parseExpected(73),node.name=parseNameOfClassDeclarationOrExpression(),node.typeParameters=parseTypeParameters(),node.heritageClauses=parseHeritageClauses(!0),parseExpected(15)?(node.members=parseClassMembers(),parseExpected(16)):node.members=createMissingList(),finishNode(node)}function parseNameOfClassDeclarationOrExpression(){return isIdentifier()&&!isImplementsClause()?parseIdentifier():void 0}function isImplementsClause(){return 106===token()&&lookAhead(nextTokenIsIdentifierOrKeyword)}function parseHeritageClauses(isClassHeritageClause){return isHeritageClause()?parseList(20,parseHeritageClause):void 0}function parseHeritageClause(){if(83===token()||106===token()){var node=createNode(251);return node.token=token(),nextToken(),node.types=parseDelimitedList(7,parseExpressionWithTypeArguments),finishNode(node)}return void 0}function parseExpressionWithTypeArguments(){var node=createNode(194);return node.expression=parseLeftHandSideExpressionOrHigher(),25===token()&&(node.typeArguments=parseBracketedList(18,parseType,25,27)),finishNode(node)}function isHeritageClause(){return 83===token()||106===token()}function parseClassMembers(){return parseList(5,parseClassElement)}function parseInterfaceDeclaration(fullStart,decorators,modifiers){var node=createNode(222,fullStart);return node.decorators=decorators,setModifiers(node,modifiers),parseExpected(107),node.name=parseIdentifier(),node.typeParameters=parseTypeParameters(),node.heritageClauses=parseHeritageClauses(!1),node.members=parseObjectTypeMembers(),finishNode(node)}function parseTypeAliasDeclaration(fullStart,decorators,modifiers){var node=createNode(223,fullStart);return node.decorators=decorators,setModifiers(node,modifiers),parseExpected(134),node.name=parseIdentifier(),node.typeParameters=parseTypeParameters(),parseExpected(56),node.type=parseType(),parseSemicolon(),finishNode(node)}function parseEnumMember(){var node=createNode(255,scanner.getStartPos());return node.name=parsePropertyName(),node.initializer=allowInAnd(parseNonParameterInitializer),finishNode(node)}function parseEnumDeclaration(fullStart,decorators,modifiers){var node=createNode(224,fullStart);return node.decorators=decorators,setModifiers(node,modifiers),parseExpected(81),node.name=parseIdentifier(),parseExpected(15)?(node.members=parseDelimitedList(6,parseEnumMember),parseExpected(16)):node.members=createMissingList(),finishNode(node)}function parseModuleBlock(){var node=createNode(226,scanner.getStartPos());return parseExpected(15)?(node.statements=parseList(1,parseStatement),parseExpected(16)):node.statements=createMissingList(),finishNode(node)}function parseModuleOrNamespaceDeclaration(fullStart,decorators,modifiers,flags){var node=createNode(225,fullStart),namespaceFlag=4096&flags;return node.decorators=decorators,setModifiers(node,modifiers),node.flags|=flags,node.name=parseIdentifier(),node.body=parseOptional(21)?parseModuleOrNamespaceDeclaration(getNodePos(),void 0,void 0,1|namespaceFlag):parseModuleBlock(),finishNode(node)}function parseAmbientExternalModuleDeclaration(fullStart,decorators,modifiers){var node=createNode(225,fullStart);return node.decorators=decorators,setModifiers(node,modifiers),137===token()?(node.name=parseIdentifier(),node.flags|=131072):node.name=parseLiteralNode(!0),15===token()?node.body=parseModuleBlock():parseSemicolon(),finishNode(node)}function parseModuleDeclaration(fullStart,decorators,modifiers){var flags=modifiers?modifiers.flags:0;if(137===token())return parseAmbientExternalModuleDeclaration(fullStart,decorators,modifiers);if(parseOptional(126))flags|=4096;else if(parseExpected(125),9===token())return parseAmbientExternalModuleDeclaration(fullStart,decorators,modifiers);return parseModuleOrNamespaceDeclaration(fullStart,decorators,modifiers,flags)}function isExternalModuleReference(){return 129===token()&&lookAhead(nextTokenIsOpenParen)}function nextTokenIsOpenParen(){return 17===nextToken()}function nextTokenIsSlash(){return 39===nextToken()}function parseNamespaceExportDeclaration(fullStart,decorators,modifiers){var exportDeclaration=createNode(228,fullStart);return exportDeclaration.decorators=decorators,exportDeclaration.modifiers=modifiers,parseExpected(116),parseExpected(126),exportDeclaration.name=parseIdentifier(),parseExpected(23),finishNode(exportDeclaration)}function parseImportDeclarationOrImportEqualsDeclaration(fullStart,decorators,modifiers){parseExpected(89);var identifier,afterImportPos=scanner.getStartPos();if(isIdentifier()&&(identifier=parseIdentifier(),24!==token()&&136!==token())){var importEqualsDeclaration=createNode(229,fullStart);return importEqualsDeclaration.decorators=decorators,setModifiers(importEqualsDeclaration,modifiers),importEqualsDeclaration.name=identifier,parseExpected(56),importEqualsDeclaration.moduleReference=parseModuleReference(),parseSemicolon(),finishNode(importEqualsDeclaration)}var importDeclaration=createNode(230,fullStart);return importDeclaration.decorators=decorators,setModifiers(importDeclaration,modifiers),(identifier||37===token()||15===token())&&(importDeclaration.importClause=parseImportClause(identifier,afterImportPos),parseExpected(136)),importDeclaration.moduleSpecifier=parseModuleSpecifier(),parseSemicolon(),finishNode(importDeclaration)}function parseImportClause(identifier,fullStart){var importClause=createNode(231,fullStart);return identifier&&(importClause.name=identifier),(!importClause.name||parseOptional(24))&&(importClause.namedBindings=37===token()?parseNamespaceImport():parseNamedImportsOrExports(233)),finishNode(importClause)}function parseModuleReference(){return isExternalModuleReference()?parseExternalModuleReference():parseEntityName(!1)}function parseExternalModuleReference(){var node=createNode(240);return parseExpected(129),parseExpected(17),node.expression=parseModuleSpecifier(),parseExpected(18),finishNode(node)}function parseModuleSpecifier(){if(9===token()){var result=parseLiteralNode();return internIdentifier(result.text),result}return parseExpression()}function parseNamespaceImport(){var namespaceImport=createNode(232);return parseExpected(37),parseExpected(116),namespaceImport.name=parseIdentifier(),finishNode(namespaceImport)}function parseNamedImportsOrExports(kind){var node=createNode(kind);return node.elements=parseBracketedList(21,233===kind?parseImportSpecifier:parseExportSpecifier,15,16),finishNode(node)}function parseExportSpecifier(){return parseImportOrExportSpecifier(238)}function parseImportSpecifier(){return parseImportOrExportSpecifier(234)}function parseImportOrExportSpecifier(kind){var node=createNode(kind),checkIdentifierIsKeyword=ts.isKeyword(token())&&!isIdentifier(),checkIdentifierStart=scanner.getTokenPos(),checkIdentifierEnd=scanner.getTextPos(),identifierName=parseIdentifierName();return 116===token()?(node.propertyName=identifierName,parseExpected(116),checkIdentifierIsKeyword=ts.isKeyword(token())&&!isIdentifier(),checkIdentifierStart=scanner.getTokenPos(),checkIdentifierEnd=scanner.getTextPos(),node.name=parseIdentifierName()):node.name=identifierName,234===kind&&checkIdentifierIsKeyword&&parseErrorAtPosition(checkIdentifierStart,checkIdentifierEnd-checkIdentifierStart,ts.Diagnostics.Identifier_expected),finishNode(node)}function parseExportDeclaration(fullStart,decorators,modifiers){var node=createNode(236,fullStart);return node.decorators=decorators,setModifiers(node,modifiers),parseOptional(37)?(parseExpected(136),node.moduleSpecifier=parseModuleSpecifier()):(node.exportClause=parseNamedImportsOrExports(237),(136===token()||9===token()&&!scanner.hasPrecedingLineBreak())&&(parseExpected(136),node.moduleSpecifier=parseModuleSpecifier())),parseSemicolon(),finishNode(node)}function parseExportAssignment(fullStart,decorators,modifiers){var node=createNode(235,fullStart);return node.decorators=decorators,setModifiers(node,modifiers),parseOptional(56)?node.isExportEquals=!0:parseExpected(77),node.expression=parseAssignmentExpressionOrHigher(),parseSemicolon(),finishNode(node)}function processReferenceComments(sourceFile){for(var amdModuleName,triviaScanner=ts.createScanner(sourceFile.languageVersion,!1,0,sourceText),referencedFiles=[],typeReferenceDirectives=[],amdDependencies=[];;){var kind=triviaScanner.scan();if(2!==kind){if(ts.isTrivia(kind))continue;break}var range={pos:triviaScanner.getTokenPos(),end:triviaScanner.getTextPos(),kind:triviaScanner.getToken()},comment=sourceText.substring(range.pos,range.end),referencePathMatchResult=ts.getFileReferenceFromReferencePath(comment,range);if(referencePathMatchResult){var fileReference=referencePathMatchResult.fileReference;sourceFile.hasNoDefaultLib=referencePathMatchResult.isNoDefaultLib;var diagnosticMessage=referencePathMatchResult.diagnosticMessage;fileReference&&(referencePathMatchResult.isTypeReferenceDirective?typeReferenceDirectives.push(fileReference):referencedFiles.push(fileReference)),diagnosticMessage&&parseDiagnostics.push(ts.createFileDiagnostic(sourceFile,range.pos,range.end-range.pos,diagnosticMessage))}else{var amdModuleNameRegEx=/^\/\/\/\s*<amd-module\s+name\s*=\s*('|")(.+?)\1/gim,amdModuleNameMatchResult=amdModuleNameRegEx.exec(comment);amdModuleNameMatchResult&&(amdModuleName&&parseDiagnostics.push(ts.createFileDiagnostic(sourceFile,range.pos,range.end-range.pos,ts.Diagnostics.An_AMD_module_cannot_have_multiple_name_assignments)),amdModuleName=amdModuleNameMatchResult[2]);var amdDependencyRegEx=/^\/\/\/\s*<amd-dependency\s/gim,pathRegex=/\spath\s*=\s*('|")(.+?)\1/gim,nameRegex=/\sname\s*=\s*('|")(.+?)\1/gim,amdDependencyMatchResult=amdDependencyRegEx.exec(comment);if(amdDependencyMatchResult){var pathMatchResult=pathRegex.exec(comment),nameMatchResult=nameRegex.exec(comment);if(pathMatchResult){var amdDependency={path:pathMatchResult[2],name:nameMatchResult?nameMatchResult[2]:void 0};amdDependencies.push(amdDependency)}}}}sourceFile.referencedFiles=referencedFiles,sourceFile.typeReferenceDirectives=typeReferenceDirectives,sourceFile.amdDependencies=amdDependencies,sourceFile.moduleName=amdModuleName}function setExternalModuleIndicator(sourceFile){sourceFile.externalModuleIndicator=ts.forEach(sourceFile.statements,function(node){return 1&node.flags||229===node.kind&&240===node.moduleReference.kind||230===node.kind||235===node.kind||236===node.kind?node:void 0})}var NodeConstructor,TokenConstructor,IdentifierConstructor,SourceFileConstructor,sourceFile,parseDiagnostics,syntaxCursor,currentToken,sourceText,nodeCount,identifiers,identifierCount,parsingContext,contextFlags,scanner=ts.createScanner(2,!0),disallowInAndDecoratorContext=20971520,parseErrorBeforeNextFinishedNode=!1;Parser.parseSourceFile=parseSourceFile;var ParsingContext;!function(ParsingContext){ParsingContext[ParsingContext.SourceElements=0]="SourceElements",ParsingContext[ParsingContext.BlockStatements=1]="BlockStatements",ParsingContext[ParsingContext.SwitchClauses=2]="SwitchClauses",ParsingContext[ParsingContext.SwitchClauseStatements=3]="SwitchClauseStatements",ParsingContext[ParsingContext.TypeMembers=4]="TypeMembers",ParsingContext[ParsingContext.ClassMembers=5]="ClassMembers",ParsingContext[ParsingContext.EnumMembers=6]="EnumMembers",ParsingContext[ParsingContext.HeritageClauseElement=7]="HeritageClauseElement",ParsingContext[ParsingContext.VariableDeclarations=8]="VariableDeclarations",ParsingContext[ParsingContext.ObjectBindingElements=9]="ObjectBindingElements",ParsingContext[ParsingContext.ArrayBindingElements=10]="ArrayBindingElements",ParsingContext[ParsingContext.ArgumentExpressions=11]="ArgumentExpressions",ParsingContext[ParsingContext.ObjectLiteralMembers=12]="ObjectLiteralMembers",ParsingContext[ParsingContext.JsxAttributes=13]="JsxAttributes",ParsingContext[ParsingContext.JsxChildren=14]="JsxChildren",ParsingContext[ParsingContext.ArrayLiteralMembers=15]="ArrayLiteralMembers",ParsingContext[ParsingContext.Parameters=16]="Parameters",ParsingContext[ParsingContext.TypeParameters=17]="TypeParameters",ParsingContext[ParsingContext.TypeArguments=18]="TypeArguments",ParsingContext[ParsingContext.TupleElementTypes=19]="TupleElementTypes",ParsingContext[ParsingContext.HeritageClauses=20]="HeritageClauses",ParsingContext[ParsingContext.ImportOrExportSpecifiers=21]="ImportOrExportSpecifiers",ParsingContext[ParsingContext.JSDocFunctionParameters=22]="JSDocFunctionParameters",ParsingContext[ParsingContext.JSDocTypeArguments=23]="JSDocTypeArguments",ParsingContext[ParsingContext.JSDocRecordMembers=24]="JSDocRecordMembers",ParsingContext[ParsingContext.JSDocTupleTypes=25]="JSDocTupleTypes",ParsingContext[ParsingContext.Count=26]="Count"}(ParsingContext||(ParsingContext={}));var Tristate;!function(Tristate){Tristate[Tristate.False=0]="False",Tristate[Tristate.True=1]="True",Tristate[Tristate.Unknown=2]="Unknown"}(Tristate||(Tristate={}));var JSDocParser;!function(JSDocParser){function isJSDocType(){switch(token()){case 37:case 53:case 17:case 19:case 49:case 15:case 87:case 22:case 92:case 97:return!0}return ts.tokenIsIdentifierOrKeyword(token())}function parseJSDocTypeExpressionForTests(content,start,length){initializeState("file.js",content,2,void 0,1),scanner.setText(content,start,length),currentToken=scanner.scan();var jsDocTypeExpression=parseJSDocTypeExpression(),diagnostics=parseDiagnostics;return clearState(),jsDocTypeExpression?{jsDocTypeExpression:jsDocTypeExpression,diagnostics:diagnostics}:void 0}function parseJSDocTypeExpression(){var result=createNode(257,scanner.getTokenPos());return parseExpected(15),result.type=parseJSDocTopLevelType(),parseExpected(16),fixupParentReferences(result),finishNode(result)}function parseJSDocTopLevelType(){var type=parseJSDocType();if(47===token()){var unionType=createNode(261,type.pos);unionType.types=parseJSDocTypeList(type),type=finishNode(unionType)}if(56===token()){var optionalType=createNode(268,type.pos);nextToken(),optionalType.type=type,type=finishNode(optionalType)}return type}function parseJSDocType(){for(var type=parseBasicTypeExpression();;)if(19===token()){var arrayType=createNode(260,type.pos);arrayType.elementType=type,nextToken(),parseExpected(20),type=finishNode(arrayType)}else if(53===token()){var nullableType=createNode(263,type.pos);nullableType.type=type,nextToken(),type=finishNode(nullableType)}else{if(49!==token())break;var nonNullableType=createNode(264,type.pos);nonNullableType.type=type,nextToken(),type=finishNode(nonNullableType)}return type}function parseBasicTypeExpression(){switch(token()){case 37:return parseJSDocAllType();case 53:return parseJSDocUnknownOrNullableType();case 17:return parseJSDocUnionType();case 19:return parseJSDocTupleType();case 49:return parseJSDocNonNullableType();case 15:return parseJSDocRecordType();case 87:return parseJSDocFunctionType();case 22:return parseJSDocVariadicType();case 92:return parseJSDocConstructorType();case 97:return parseJSDocThisType();case 117:case 132:case 130:case 120:case 133:case 103:case 93:case 135:case 127:return parseTokenNode();case 9:case 8:case 99:case 84:return parseJSDocLiteralType()}return parseJSDocTypeReference()}function parseJSDocThisType(){var result=createNode(272);return nextToken(),parseExpected(54),result.type=parseJSDocType(),finishNode(result)}function parseJSDocConstructorType(){var result=createNode(271);return nextToken(),parseExpected(54),result.type=parseJSDocType(),finishNode(result)}function parseJSDocVariadicType(){var result=createNode(270);return nextToken(),result.type=parseJSDocType(),finishNode(result)}function parseJSDocFunctionType(){var result=createNode(269);return nextToken(),parseExpected(17),result.parameters=parseDelimitedList(22,parseJSDocParameter),checkForTrailingComma(result.parameters),parseExpected(18),54===token()&&(nextToken(),result.type=parseJSDocType()),finishNode(result)}function parseJSDocParameter(){var parameter=createNode(142);return parameter.type=parseJSDocType(),parseOptional(56)&&(parameter.questionToken=createNode(56)),finishNode(parameter)}function parseJSDocTypeReference(){var result=createNode(267);if(result.name=parseSimplePropertyName(),25===token())result.typeArguments=parseTypeArguments();else for(;parseOptional(21);){if(25===token()){result.typeArguments=parseTypeArguments();break}result.name=parseQualifiedName(result.name)}return finishNode(result)}function parseTypeArguments(){nextToken();var typeArguments=parseDelimitedList(23,parseJSDocType);return checkForTrailingComma(typeArguments),checkForEmptyTypeArgumentList(typeArguments),parseExpected(27),typeArguments}function checkForEmptyTypeArgumentList(typeArguments){if(0===parseDiagnostics.length&&typeArguments&&0===typeArguments.length){var start=typeArguments.pos-"<".length,end=ts.skipTrivia(sourceText,typeArguments.end)+">".length;return parseErrorAtPosition(start,end-start,ts.Diagnostics.Type_argument_list_cannot_be_empty)}}function parseQualifiedName(left){var result=createNode(139,left.pos);return result.left=left,result.right=parseIdentifierName(),finishNode(result)}function parseJSDocRecordType(){var result=createNode(265);return nextToken(),result.members=parseDelimitedList(24,parseJSDocRecordMember),checkForTrailingComma(result.members),parseExpected(16),finishNode(result)}function parseJSDocRecordMember(){var result=createNode(266);return result.name=parseSimplePropertyName(),54===token()&&(nextToken(),result.type=parseJSDocType()),finishNode(result)}function parseJSDocNonNullableType(){var result=createNode(264);return nextToken(),result.type=parseJSDocType(),finishNode(result)}function parseJSDocTupleType(){var result=createNode(262);return nextToken(),result.types=parseDelimitedList(25,parseJSDocType),checkForTrailingComma(result.types),parseExpected(20),finishNode(result)}function checkForTrailingComma(list){if(0===parseDiagnostics.length&&list.hasTrailingComma){var start=list.end-",".length;parseErrorAtPosition(start,",".length,ts.Diagnostics.Trailing_comma_not_allowed)}}function parseJSDocUnionType(){var result=createNode(261);return nextToken(),result.types=parseJSDocTypeList(parseJSDocType()),parseExpected(18),finishNode(result)}function parseJSDocTypeList(firstType){ts.Debug.assert(!!firstType);var types=[];for(types.pos=firstType.pos,types.push(firstType);parseOptional(47);)types.push(parseJSDocType());return types.end=scanner.getStartPos(),types}function parseJSDocAllType(){var result=createNode(258);return nextToken(),finishNode(result)}function parseJSDocLiteralType(){var result=createNode(282);return result.literal=parseLiteralTypeNode(),finishNode(result)}function parseJSDocUnknownOrNullableType(){var pos=scanner.getStartPos();if(nextToken(),24===token()||16===token()||18===token()||27===token()||56===token()||47===token()){var result=createNode(259,pos);return finishNode(result)}var result=createNode(263,pos);return result.type=parseJSDocType(),finishNode(result)}function parseIsolatedJSDocComment(content,start,length){initializeState("file.js",content,2,void 0,1),sourceFile={languageVariant:0,text:content};var jsDocComment=parseJSDocCommentWorker(start,length),diagnostics=parseDiagnostics;return clearState(),jsDocComment?{jsDocComment:jsDocComment,diagnostics:diagnostics}:void 0}function parseJSDocComment(parent,start,length){var saveToken=currentToken,saveParseDiagnosticsLength=parseDiagnostics.length,saveParseErrorBeforeNextFinishedNode=parseErrorBeforeNextFinishedNode,comment=parseJSDocCommentWorker(start,length);return comment&&(comment.parent=parent),currentToken=saveToken,parseDiagnostics.length=saveParseDiagnosticsLength,parseErrorBeforeNextFinishedNode=saveParseErrorBeforeNextFinishedNode,comment}function parseJSDocCommentWorker(start,length){function createJSDocComment(){if(!tags)return void 0;var result=createNode(273,start);return result.tags=tags,finishNode(result,end)}function skipWhitespace(){for(;5===token()||4===token();)nextJSDocToken()}function parseTag(){ts.Debug.assert(55===token());var atToken=createNode(55,scanner.getTokenPos());atToken.end=scanner.getTextPos(),nextJSDocToken();var tagName=parseJSDocIdentifierName();if(tagName){var tag=handleTag(atToken,tagName)||handleUnknownTag(atToken,tagName);addTag(tag)}}function handleTag(atToken,tagName){if(tagName)switch(tagName.text){case"param":return handleParamTag(atToken,tagName);case"return":case"returns":return handleReturnTag(atToken,tagName);case"template":return handleTemplateTag(atToken,tagName);case"type":return handleTypeTag(atToken,tagName);case"typedef":return handleTypedefTag(atToken,tagName)}return void 0}function handleUnknownTag(atToken,tagName){var result=createNode(274,atToken.pos);return result.atToken=atToken,result.tagName=tagName,finishNode(result)}function addTag(tag){tag&&(tags||(tags=[],tags.pos=tag.pos),tags.push(tag),tags.end=tag.end)}function tryParseTypeExpression(){if(15!==token())return void 0;var typeExpression=parseJSDocTypeExpression();return typeExpression}function handleParamTag(atToken,tagName){var typeExpression=tryParseTypeExpression();
skipWhitespace();var name,isBracketed;if(parseOptionalToken(19)?(name=parseJSDocIdentifierName(),isBracketed=!0,parseOptionalToken(56)&&parseExpression(),parseExpected(20)):ts.tokenIsIdentifierOrKeyword(token())&&(name=parseJSDocIdentifierName()),!name)return void parseErrorAtPosition(scanner.getStartPos(),0,ts.Diagnostics.Identifier_expected);var preName,postName;typeExpression?postName=name:preName=name,typeExpression||(typeExpression=tryParseTypeExpression());var result=createNode(275,atToken.pos);return result.atToken=atToken,result.tagName=tagName,result.preParameterName=preName,result.typeExpression=typeExpression,result.postParameterName=postName,result.isBracketed=isBracketed,finishNode(result)}function handleReturnTag(atToken,tagName){ts.forEach(tags,function(t){return 276===t.kind})&&parseErrorAtPosition(tagName.pos,scanner.getTokenPos()-tagName.pos,ts.Diagnostics._0_tag_already_specified,tagName.text);var result=createNode(276,atToken.pos);return result.atToken=atToken,result.tagName=tagName,result.typeExpression=tryParseTypeExpression(),finishNode(result)}function handleTypeTag(atToken,tagName){ts.forEach(tags,function(t){return 277===t.kind})&&parseErrorAtPosition(tagName.pos,scanner.getTokenPos()-tagName.pos,ts.Diagnostics._0_tag_already_specified,tagName.text);var result=createNode(277,atToken.pos);return result.atToken=atToken,result.tagName=tagName,result.typeExpression=tryParseTypeExpression(),finishNode(result)}function handlePropertyTag(atToken,tagName){var typeExpression=tryParseTypeExpression();skipWhitespace();var name=parseJSDocIdentifierName();if(!name)return void parseErrorAtPosition(scanner.getStartPos(),0,ts.Diagnostics.Identifier_expected);var result=createNode(280,atToken.pos);return result.atToken=atToken,result.tagName=tagName,result.name=name,result.typeExpression=typeExpression,finishNode(result)}function handleTypedefTag(atToken,tagName){function scanChildTags(){for(var jsDocTypeLiteral=createNode(281,scanner.getStartPos()),resumePos=scanner.getStartPos(),canParseTag=!0,seenAsterisk=!1,parentTagTerminated=!1;1!==token()&&!parentTagTerminated;)switch(nextJSDocToken(),token()){case 55:canParseTag&&(parentTagTerminated=!tryParseChildTag(jsDocTypeLiteral),parentTagTerminated||(resumePos=scanner.getStartPos())),seenAsterisk=!1;break;case 4:resumePos=scanner.getStartPos()-1,canParseTag=!0,seenAsterisk=!1;break;case 37:seenAsterisk&&(canParseTag=!1),seenAsterisk=!0;break;case 69:canParseTag=!1;case 1:}return scanner.setTextPos(resumePos),finishNode(jsDocTypeLiteral)}var typeExpression=tryParseTypeExpression();skipWhitespace();var typedefTag=createNode(279,atToken.pos);if(typedefTag.atToken=atToken,typedefTag.tagName=tagName,typedefTag.name=parseJSDocIdentifierName(),typedefTag.typeExpression=typeExpression,typeExpression){if(267===typeExpression.type.kind){var jsDocTypeReference=typeExpression.type;if(69===jsDocTypeReference.name.kind){var name_8=jsDocTypeReference.name;"Object"===name_8.text&&(typedefTag.jsDocTypeLiteral=scanChildTags())}}typedefTag.jsDocTypeLiteral||(typedefTag.jsDocTypeLiteral=typeExpression.type)}else typedefTag.jsDocTypeLiteral=scanChildTags();return finishNode(typedefTag)}function tryParseChildTag(parentTag){ts.Debug.assert(55===token());var atToken=createNode(55,scanner.getStartPos());atToken.end=scanner.getTextPos(),nextJSDocToken();var tagName=parseJSDocIdentifierName();if(!tagName)return!1;switch(tagName.text){case"type":return parentTag.jsDocTypeTag?!1:(parentTag.jsDocTypeTag=handleTypeTag(atToken,tagName),!0);case"prop":case"property":parentTag.jsDocPropertyTags||(parentTag.jsDocPropertyTags=[]);var propertyTag=handlePropertyTag(atToken,tagName);return parentTag.jsDocPropertyTags.push(propertyTag),!0}return!1}function handleTemplateTag(atToken,tagName){ts.forEach(tags,function(t){return 278===t.kind})&&parseErrorAtPosition(tagName.pos,scanner.getTokenPos()-tagName.pos,ts.Diagnostics._0_tag_already_specified,tagName.text);var typeParameters=[];for(typeParameters.pos=scanner.getStartPos();;){var name_9=parseJSDocIdentifierName();if(!name_9)return void parseErrorAtPosition(scanner.getStartPos(),0,ts.Diagnostics.Identifier_expected);var typeParameter=createNode(141,name_9.pos);if(typeParameter.name=name_9,finishNode(typeParameter),typeParameters.push(typeParameter),24!==token())break;nextJSDocToken()}var result=createNode(278,atToken.pos);return result.atToken=atToken,result.tagName=tagName,result.typeParameters=typeParameters,finishNode(result),typeParameters.end=result.end,result}function nextJSDocToken(){return currentToken=scanner.scanJSDocToken()}function parseJSDocIdentifierName(){return createJSDocIdentifier(ts.tokenIsIdentifierOrKeyword(token()))}function createJSDocIdentifier(isIdentifier){if(!isIdentifier)return void parseErrorAtCurrentToken(ts.Diagnostics.Identifier_expected);var pos=scanner.getTokenPos(),end=scanner.getTextPos(),result=createNode(69,pos);return result.text=content.substring(pos,end),finishNode(result,end),nextJSDocToken(),result}var content=sourceText;start=start||0;var end=void 0===length?content.length:start+length;length=end-start,ts.Debug.assert(start>=0),ts.Debug.assert(end>=start),ts.Debug.assert(end<=content.length);var tags,result;return 47===content.charCodeAt(start)&&42===content.charCodeAt(start+1)&&42===content.charCodeAt(start+2)&&42!==content.charCodeAt(start+3)&&scanner.scanRange(start+3,length-5,function(){var canParseTag=!0,seenAsterisk=!0;for(nextJSDocToken();1!==token();){switch(token()){case 55:canParseTag&&parseTag(),seenAsterisk=!1;break;case 4:canParseTag=!0,seenAsterisk=!1;break;case 37:seenAsterisk&&(canParseTag=!1),seenAsterisk=!0;break;case 69:canParseTag=!1;break;case 1:}nextJSDocToken()}result=createJSDocComment()}),result}JSDocParser.isJSDocType=isJSDocType,JSDocParser.parseJSDocTypeExpressionForTests=parseJSDocTypeExpressionForTests,JSDocParser.parseJSDocTypeExpression=parseJSDocTypeExpression,JSDocParser.parseIsolatedJSDocComment=parseIsolatedJSDocComment,JSDocParser.parseJSDocComment=parseJSDocComment,JSDocParser.parseJSDocCommentWorker=parseJSDocCommentWorker}(JSDocParser=Parser.JSDocParser||(Parser.JSDocParser={}))}(Parser||(Parser={}));var IncrementalParser;!function(IncrementalParser){function updateSourceFile(sourceFile,newText,textChangeRange,aggressiveChecks){if(aggressiveChecks=aggressiveChecks||ts.Debug.shouldAssert(2),checkChangeRange(sourceFile,newText,textChangeRange,aggressiveChecks),ts.textChangeRangeIsUnchanged(textChangeRange))return sourceFile;if(0===sourceFile.statements.length)return Parser.parseSourceFile(sourceFile.fileName,newText,sourceFile.languageVersion,void 0,!0,sourceFile.scriptKind);var incrementalSourceFile=sourceFile;ts.Debug.assert(!incrementalSourceFile.hasBeenIncrementallyParsed),incrementalSourceFile.hasBeenIncrementallyParsed=!0;var oldText=sourceFile.text,syntaxCursor=createSyntaxCursor(sourceFile),changeRange=extendToAffectedRange(sourceFile,textChangeRange);checkChangeRange(sourceFile,newText,changeRange,aggressiveChecks),ts.Debug.assert(changeRange.span.start<=textChangeRange.span.start),ts.Debug.assert(ts.textSpanEnd(changeRange.span)===ts.textSpanEnd(textChangeRange.span)),ts.Debug.assert(ts.textSpanEnd(ts.textChangeRangeNewSpan(changeRange))===ts.textSpanEnd(ts.textChangeRangeNewSpan(textChangeRange)));var delta=ts.textChangeRangeNewSpan(changeRange).length-changeRange.span.length;updateTokenPositionsAndMarkElements(incrementalSourceFile,changeRange.span.start,ts.textSpanEnd(changeRange.span),ts.textSpanEnd(ts.textChangeRangeNewSpan(changeRange)),delta,oldText,newText,aggressiveChecks);var result=Parser.parseSourceFile(sourceFile.fileName,newText,sourceFile.languageVersion,syntaxCursor,!0,sourceFile.scriptKind);return result}function moveElementEntirelyPastChangeRange(element,isArray,delta,oldText,newText,aggressiveChecks){function visitNode(node){var text="";if(aggressiveChecks&&shouldCheckNode(node)&&(text=oldText.substring(node.pos,node.end)),node._children&&(node._children=void 0),node.pos+=delta,node.end+=delta,aggressiveChecks&&shouldCheckNode(node)&&ts.Debug.assert(text===newText.substring(node.pos,node.end)),forEachChild(node,visitNode,visitArray),node.jsDocComments)for(var _i=0,_a=node.jsDocComments;_i<_a.length;_i++){var jsDocComment=_a[_i];forEachChild(jsDocComment,visitNode,visitArray)}checkNodePositions(node,aggressiveChecks)}function visitArray(array){array._children=void 0,array.pos+=delta,array.end+=delta;for(var _i=0,array_9=array;_i<array_9.length;_i++){var node=array_9[_i];visitNode(node)}}isArray?visitArray(element):visitNode(element)}function shouldCheckNode(node){switch(node.kind){case 9:case 8:case 69:return!0}return!1}function adjustIntersectingElement(element,changeStart,changeRangeOldEnd,changeRangeNewEnd,delta){ts.Debug.assert(element.end>=changeStart,"Adjusting an element that was entirely before the change range"),ts.Debug.assert(element.pos<=changeRangeOldEnd,"Adjusting an element that was entirely after the change range"),ts.Debug.assert(element.pos<=element.end),element.pos=Math.min(element.pos,changeRangeNewEnd),element.end>=changeRangeOldEnd?element.end+=delta:element.end=Math.min(element.end,changeRangeNewEnd),ts.Debug.assert(element.pos<=element.end),element.parent&&(ts.Debug.assert(element.pos>=element.parent.pos),ts.Debug.assert(element.end<=element.parent.end))}function checkNodePositions(node,aggressiveChecks){if(aggressiveChecks){var pos_2=node.pos;forEachChild(node,function(child){ts.Debug.assert(child.pos>=pos_2),pos_2=child.end}),ts.Debug.assert(pos_2<=node.end)}}function updateTokenPositionsAndMarkElements(sourceFile,changeStart,changeRangeOldEnd,changeRangeNewEnd,delta,oldText,newText,aggressiveChecks){function visitNode(child){if(ts.Debug.assert(child.pos<=child.end),child.pos>changeRangeOldEnd)return void moveElementEntirelyPastChangeRange(child,!1,delta,oldText,newText,aggressiveChecks);var fullEnd=child.end;return fullEnd>=changeStart?(child.intersectsChange=!0,child._children=void 0,adjustIntersectingElement(child,changeStart,changeRangeOldEnd,changeRangeNewEnd,delta),forEachChild(child,visitNode,visitArray),void checkNodePositions(child,aggressiveChecks)):void ts.Debug.assert(changeStart>fullEnd)}function visitArray(array){if(ts.Debug.assert(array.pos<=array.end),array.pos>changeRangeOldEnd)return void moveElementEntirelyPastChangeRange(array,!0,delta,oldText,newText,aggressiveChecks);var fullEnd=array.end;if(fullEnd>=changeStart){array.intersectsChange=!0,array._children=void 0,adjustIntersectingElement(array,changeStart,changeRangeOldEnd,changeRangeNewEnd,delta);for(var _i=0,array_10=array;_i<array_10.length;_i++){var node=array_10[_i];visitNode(node)}}else ts.Debug.assert(changeStart>fullEnd)}visitNode(sourceFile)}function extendToAffectedRange(sourceFile,changeRange){for(var maxLookahead=1,start=changeRange.span.start,i=0;start>0&&maxLookahead>=i;i++){var nearestNode=findNearestNodeStartingBeforeOrAtPosition(sourceFile,start);ts.Debug.assert(nearestNode.pos<=start);var position=nearestNode.pos;start=Math.max(0,position-1)}var finalSpan=ts.createTextSpanFromBounds(start,ts.textSpanEnd(changeRange.span)),finalLength=changeRange.newLength+(changeRange.span.start-start);return ts.createTextChangeRange(finalSpan,finalLength)}function findNearestNodeStartingBeforeOrAtPosition(sourceFile,position){function getLastChild(node){for(;;){var lastChild=getLastChildWorker(node);if(!lastChild)return node;node=lastChild}}function getLastChildWorker(node){var last=void 0;return forEachChild(node,function(child){ts.nodeIsPresent(child)&&(last=child)}),last}function visit(child){return ts.nodeIsMissing(child)?void 0:child.pos<=position?(child.pos>=bestResult.pos&&(bestResult=child),position<child.end?(forEachChild(child,visit),!0):(ts.Debug.assert(child.end<=position),void(lastNodeEntirelyBeforePosition=child))):(ts.Debug.assert(child.pos>position),!0)}var lastNodeEntirelyBeforePosition,bestResult=sourceFile;if(forEachChild(sourceFile,visit),lastNodeEntirelyBeforePosition){var lastChildOfLastEntireNodeBeforePosition=getLastChild(lastNodeEntirelyBeforePosition);lastChildOfLastEntireNodeBeforePosition.pos>bestResult.pos&&(bestResult=lastChildOfLastEntireNodeBeforePosition)}return bestResult}function checkChangeRange(sourceFile,newText,textChangeRange,aggressiveChecks){var oldText=sourceFile.text;if(textChangeRange&&(ts.Debug.assert(oldText.length-textChangeRange.span.length+textChangeRange.newLength===newText.length),aggressiveChecks||ts.Debug.shouldAssert(3))){var oldTextPrefix=oldText.substr(0,textChangeRange.span.start),newTextPrefix=newText.substr(0,textChangeRange.span.start);ts.Debug.assert(oldTextPrefix===newTextPrefix);var oldTextSuffix=oldText.substring(ts.textSpanEnd(textChangeRange.span),oldText.length),newTextSuffix=newText.substring(ts.textSpanEnd(ts.textChangeRangeNewSpan(textChangeRange)),newText.length);ts.Debug.assert(oldTextSuffix===newTextSuffix)}}function createSyntaxCursor(sourceFile){function findHighestListElementThatStartsAtPosition(position){function visitNode(node){return position>=node.pos&&position<node.end?(forEachChild(node,visitNode,visitArray),!0):!1}function visitArray(array){if(position>=array.pos&&position<array.end)for(var i=0,n=array.length;n>i;i++){var child=array[i];if(child){if(child.pos===position)return currentArray=array,currentArrayIndex=i,current=child,!0;if(child.pos<position&&position<child.end)return forEachChild(child,visitNode,visitArray),!0}}return!1}currentArray=void 0,currentArrayIndex=-1,current=void 0,forEachChild(sourceFile,visitNode,visitArray)}var currentArray=sourceFile.statements,currentArrayIndex=0;ts.Debug.assert(currentArrayIndex<currentArray.length);var current=currentArray[currentArrayIndex],lastQueriedPosition=-1;return{currentNode:function(position){return position!==lastQueriedPosition&&(current&&current.end===position&&currentArrayIndex<currentArray.length-1&&(currentArrayIndex++,current=currentArray[currentArrayIndex]),current&&current.pos===position||findHighestListElementThatStartsAtPosition(position)),lastQueriedPosition=position,ts.Debug.assert(!current||current.pos===position),current}}}IncrementalParser.updateSourceFile=updateSourceFile;var InvalidPosition;!function(InvalidPosition){InvalidPosition[InvalidPosition.Value=-1]="Value"}(InvalidPosition||(InvalidPosition={}))}(IncrementalParser||(IncrementalParser={}))}(ts||(ts={}));var ts;!function(ts){function tryReadTypesSection(packageJsonPath,baseDirectory,state){function tryReadFromField(fieldName){if(ts.hasProperty(jsonContent,fieldName)){var typesFile=jsonContent[fieldName];if("string"==typeof typesFile){var typesFilePath_1=ts.normalizePath(ts.combinePaths(baseDirectory,typesFile));return state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.package_json_has_0_field_1_that_references_2,fieldName,typesFile,typesFilePath_1),typesFilePath_1}state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.Expected_type_of_0_field_in_package_json_to_be_string_got_1,fieldName,typeof typesFile)}}var jsonContent=ts.readJson(packageJsonPath,state.host),typesFilePath=tryReadFromField("typings")||tryReadFromField("types");if(typesFilePath)return typesFilePath;if(state.compilerOptions.allowJs&&jsonContent.main&&"string"==typeof jsonContent.main){state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.No_types_specified_in_package_json_but_allowJs_is_set_so_returning_main_value_of_0,jsonContent.main);var mainFilePath=ts.normalizePath(ts.combinePaths(baseDirectory,jsonContent.main));return mainFilePath}return void 0}function tryFile(fileName,failedLookupLocation,onlyRecordFailures,state){return!onlyRecordFailures&&state.host.fileExists(fileName)?(state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.File_0_exist_use_it_as_a_name_resolution_result,fileName),fileName):(state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.File_0_does_not_exist,fileName),void failedLookupLocation.push(fileName))}function tryAddingExtensions(candidate,extensions,failedLookupLocation,onlyRecordFailures,state){if(!onlyRecordFailures){var directory=ts.getDirectoryPath(candidate);directory&&(onlyRecordFailures=!directoryProbablyExists(directory,state.host))}return ts.forEach(extensions,function(ext){return!(state.skipTsx&&ts.isJsxOrTsxExtension(ext))&&tryFile(candidate+ext,failedLookupLocation,onlyRecordFailures,state)})}function loadModuleFromFile(candidate,extensions,failedLookupLocation,onlyRecordFailures,state){var resolvedByAddingExtension=tryAddingExtensions(candidate,extensions,failedLookupLocation,onlyRecordFailures,state);if(resolvedByAddingExtension)return resolvedByAddingExtension;if(ts.hasJavaScriptFileExtension(candidate)){var extensionless=ts.removeFileExtension(candidate);if(state.traceEnabled){var extension=candidate.substring(extensionless.length);ts.trace(state.host,ts.Diagnostics.File_name_0_has_a_1_extension_stripping_it,candidate,extension)}return tryAddingExtensions(extensionless,extensions,failedLookupLocation,onlyRecordFailures,state)}}function loadNodeModuleFromDirectory(extensions,candidate,failedLookupLocation,onlyRecordFailures,state){var packageJsonPath=pathToPackageJson(candidate),directoryExists=!onlyRecordFailures&&directoryProbablyExists(candidate,state.host);if(directoryExists&&state.host.fileExists(packageJsonPath)){state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.Found_package_json_at_0,packageJsonPath);var typesFile=tryReadTypesSection(packageJsonPath,candidate,state);if(typesFile){var onlyRecordFailures_1=!directoryProbablyExists(ts.getDirectoryPath(typesFile),state.host),result=tryFile(typesFile,failedLookupLocation,onlyRecordFailures_1,state)||tryAddingExtensions(typesFile,extensions,failedLookupLocation,onlyRecordFailures_1,state);if(result)return result}else state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.package_json_does_not_have_types_field)}else state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.File_0_does_not_exist,packageJsonPath),failedLookupLocation.push(packageJsonPath);return loadModuleFromFile(ts.combinePaths(candidate,"index"),extensions,failedLookupLocation,!directoryExists,state)}function loadModuleFromNodeModulesFolder(moduleName,directory,failedLookupLocations,state){var nodeModulesFolder=ts.combinePaths(directory,"node_modules"),nodeModulesFolderExists=directoryProbablyExists(nodeModulesFolder,state.host),candidate=ts.normalizePath(ts.combinePaths(nodeModulesFolder,moduleName)),supportedExtensions=ts.getSupportedExtensions(state.compilerOptions),result=loadModuleFromFile(candidate,supportedExtensions,failedLookupLocations,!nodeModulesFolderExists,state);return result?result:(result=loadNodeModuleFromDirectory(supportedExtensions,candidate,failedLookupLocations,!nodeModulesFolderExists,state),result?result:void 0)}function loadModuleFromNodeModules(moduleName,directory,failedLookupLocations,state,checkOneLevel){for(directory=ts.normalizeSlashes(directory);;){var baseName=ts.getBaseFileName(directory);if("node_modules"!==baseName){var packageResult=loadModuleFromNodeModulesFolder(moduleName,directory,failedLookupLocations,state);if(packageResult&&ts.hasTypeScriptFileExtension(packageResult))return packageResult;var typesResult=loadModuleFromNodeModulesFolder(ts.combinePaths("@types",moduleName),directory,failedLookupLocations,state);if(typesResult||packageResult)return typesResult||packageResult}var parentPath=ts.getDirectoryPath(directory);if(parentPath===directory||checkOneLevel)break;directory=parentPath}return void 0}function moduleHasNonRelativeName(moduleName){return!(ts.isRootedDiskPath(moduleName)||ts.isExternalModuleNameRelative(moduleName))}function classicNameResolver(moduleName,containingFile,compilerOptions,host){var traceEnabled=ts.isTraceEnabled(compilerOptions,host),state={compilerOptions:compilerOptions,host:host,traceEnabled:traceEnabled,skipTsx:!compilerOptions.jsx},failedLookupLocations=[],supportedExtensions=ts.getSupportedExtensions(compilerOptions),containingDirectory=ts.getDirectoryPath(containingFile),resolvedFileName=tryLoadModuleUsingOptionalResolutionSettings(moduleName,containingDirectory,loadModuleFromFile,failedLookupLocations,supportedExtensions,state);if(resolvedFileName)return ts.createResolvedModule(resolvedFileName,!1,failedLookupLocations);var referencedSourceFile;if(moduleHasNonRelativeName(moduleName))for(;;){var searchName=ts.normalizePath(ts.combinePaths(containingDirectory,moduleName));if(referencedSourceFile=loadModuleFromFile(searchName,supportedExtensions,failedLookupLocations,!1,state))break;var parentPath=ts.getDirectoryPath(containingDirectory);if(parentPath===containingDirectory)break;containingDirectory=parentPath}else{var candidate=ts.normalizePath(ts.combinePaths(containingDirectory,moduleName));referencedSourceFile=loadModuleFromFile(candidate,supportedExtensions,failedLookupLocations,!1,state)}return referencedSourceFile?{resolvedModule:{resolvedFileName:referencedSourceFile},failedLookupLocations:failedLookupLocations}:{resolvedModule:void 0,failedLookupLocations:failedLookupLocations}}function nodeModuleNameResolver(moduleName,containingFile,compilerOptions,host){var containingDirectory=ts.getDirectoryPath(containingFile),supportedExtensions=ts.getSupportedExtensions(compilerOptions),traceEnabled=ts.isTraceEnabled(compilerOptions,host),failedLookupLocations=[],state={compilerOptions:compilerOptions,host:host,traceEnabled:traceEnabled,skipTsx:!1},resolvedFileName=tryLoadModuleUsingOptionalResolutionSettings(moduleName,containingDirectory,nodeLoadModuleByRelativeName,failedLookupLocations,supportedExtensions,state),isExternalLibraryImport=!1;if(!resolvedFileName)if(moduleHasNonRelativeName(moduleName))traceEnabled&&ts.trace(host,ts.Diagnostics.Loading_module_0_from_node_modules_folder,moduleName),resolvedFileName=loadModuleFromNodeModules(moduleName,containingDirectory,failedLookupLocations,state,!1),isExternalLibraryImport=void 0!==resolvedFileName;else{var candidate=ts.normalizePath(ts.combinePaths(containingDirectory,moduleName));resolvedFileName=nodeLoadModuleByRelativeName(candidate,supportedExtensions,failedLookupLocations,!1,state)}if(resolvedFileName&&host.realpath){var originalFileName=resolvedFileName;resolvedFileName=ts.normalizePath(host.realpath(resolvedFileName)),traceEnabled&&ts.trace(host,ts.Diagnostics.Resolving_real_path_for_0_result_1,originalFileName,resolvedFileName)}return ts.createResolvedModule(resolvedFileName,isExternalLibraryImport,failedLookupLocations)}function nodeLoadModuleByRelativeName(candidate,supportedExtensions,failedLookupLocations,onlyRecordFailures,state){state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.Loading_module_as_file_Slash_folder_candidate_module_location_0,candidate);var resolvedFileName=loadModuleFromFile(candidate,supportedExtensions,failedLookupLocations,onlyRecordFailures,state);return resolvedFileName||loadNodeModuleFromDirectory(supportedExtensions,candidate,failedLookupLocations,onlyRecordFailures,state)}function tryLoadModuleUsingRootDirs(moduleName,containingDirectory,loader,failedLookupLocations,supportedExtensions,state){if(!state.compilerOptions.rootDirs)return void 0;state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.rootDirs_option_is_set_using_it_to_resolve_relative_module_name_0,moduleName);for(var matchedRootDir,matchedNormalizedPrefix,candidate=ts.normalizePath(ts.combinePaths(containingDirectory,moduleName)),_i=0,_a=state.compilerOptions.rootDirs;_i<_a.length;_i++){var rootDir=_a[_i],normalizedRoot=ts.normalizePath(rootDir);ts.endsWith(normalizedRoot,ts.directorySeparator)||(normalizedRoot+=ts.directorySeparator);var isLongestMatchingPrefix=ts.startsWith(candidate,normalizedRoot)&&(void 0===matchedNormalizedPrefix||matchedNormalizedPrefix.length<normalizedRoot.length);state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.Checking_if_0_is_the_longest_matching_prefix_for_1_2,normalizedRoot,candidate,isLongestMatchingPrefix),isLongestMatchingPrefix&&(matchedNormalizedPrefix=normalizedRoot,matchedRootDir=rootDir)}if(matchedNormalizedPrefix){state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.Longest_matching_prefix_for_0_is_1,candidate,matchedNormalizedPrefix);var suffix=candidate.substr(matchedNormalizedPrefix.length);state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.Loading_0_from_the_root_dir_1_candidate_location_2,suffix,matchedNormalizedPrefix,candidate);var resolvedFileName=loader(candidate,supportedExtensions,failedLookupLocations,!directoryProbablyExists(containingDirectory,state.host),state);if(resolvedFileName)return resolvedFileName;state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.Trying_other_entries_in_rootDirs);for(var _b=0,_c=state.compilerOptions.rootDirs;_b<_c.length;_b++){var rootDir=_c[_b];if(rootDir!==matchedRootDir){var candidate_1=ts.combinePaths(ts.normalizePath(rootDir),suffix);state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.Loading_0_from_the_root_dir_1_candidate_location_2,suffix,rootDir,candidate_1);var baseDirectory=ts.getDirectoryPath(candidate_1),resolvedFileName_1=loader(candidate_1,supportedExtensions,failedLookupLocations,!directoryProbablyExists(baseDirectory,state.host),state);if(resolvedFileName_1)return resolvedFileName_1}}state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.Module_resolution_using_rootDirs_has_failed)}return void 0}function tryLoadModuleUsingBaseUrl(moduleName,loader,failedLookupLocations,supportedExtensions,state){if(!state.compilerOptions.baseUrl)return void 0;state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.baseUrl_option_is_set_to_0_using_this_value_to_resolve_non_relative_module_name_1,state.compilerOptions.baseUrl,moduleName);var matchedPattern=void 0;if(state.compilerOptions.paths&&(state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.paths_option_is_specified_looking_for_a_pattern_to_match_module_name_0,moduleName),matchedPattern=matchPatternOrExact(ts.getOwnKeys(state.compilerOptions.paths),moduleName)),matchedPattern){var matchedStar="string"==typeof matchedPattern?void 0:matchedText(matchedPattern,moduleName),matchedPatternText="string"==typeof matchedPattern?matchedPattern:patternText(matchedPattern);state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.Module_name_0_matched_pattern_1,moduleName,matchedPatternText);for(var _i=0,_a=state.compilerOptions.paths[matchedPatternText];_i<_a.length;_i++){var subst=_a[_i],path=matchedStar?subst.replace("*",matchedStar):subst,candidate=ts.normalizePath(ts.combinePaths(state.compilerOptions.baseUrl,path));state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.Trying_substitution_0_candidate_module_location_Colon_1,subst,path);var resolvedFileName=loader(candidate,supportedExtensions,failedLookupLocations,!directoryProbablyExists(ts.getDirectoryPath(candidate),state.host),state);if(resolvedFileName)return resolvedFileName}return void 0}var candidate=ts.normalizePath(ts.combinePaths(state.compilerOptions.baseUrl,moduleName));return state.traceEnabled&&ts.trace(state.host,ts.Diagnostics.Resolving_module_name_0_relative_to_base_url_1_2,moduleName,state.compilerOptions.baseUrl,candidate),loader(candidate,supportedExtensions,failedLookupLocations,!directoryProbablyExists(ts.getDirectoryPath(candidate),state.host),state)}function tryLoadModuleUsingOptionalResolutionSettings(moduleName,containingDirectory,loader,failedLookupLocations,supportedExtensions,state){return moduleHasNonRelativeName(moduleName)?tryLoadModuleUsingBaseUrl(moduleName,loader,failedLookupLocations,supportedExtensions,state):tryLoadModuleUsingRootDirs(moduleName,containingDirectory,loader,failedLookupLocations,supportedExtensions,state)}function resolveModuleName(moduleName,containingFile,compilerOptions,host){var traceEnabled=ts.isTraceEnabled(compilerOptions,host);traceEnabled&&ts.trace(host,ts.Diagnostics.Resolving_module_0_from_1,moduleName,containingFile);var moduleResolution=compilerOptions.moduleResolution;void 0===moduleResolution?(moduleResolution=ts.getEmitModuleKind(compilerOptions)===ts.ModuleKind.CommonJS?ts.ModuleResolutionKind.NodeJs:ts.ModuleResolutionKind.Classic,traceEnabled&&ts.trace(host,ts.Diagnostics.Module_resolution_kind_is_not_specified_using_0,ts.ModuleResolutionKind[moduleResolution])):traceEnabled&&ts.trace(host,ts.Diagnostics.Explicitly_specified_module_resolution_kind_Colon_0,ts.ModuleResolutionKind[moduleResolution]);var result;switch(moduleResolution){case ts.ModuleResolutionKind.NodeJs:result=nodeModuleNameResolver(moduleName,containingFile,compilerOptions,host);break;case ts.ModuleResolutionKind.Classic:result=classicNameResolver(moduleName,containingFile,compilerOptions,host)}return traceEnabled&&(result.resolvedModule?ts.trace(host,ts.Diagnostics.Module_name_0_was_successfully_resolved_to_1,moduleName,result.resolvedModule.resolvedFileName):ts.trace(host,ts.Diagnostics.Module_name_0_was_not_resolved,moduleName)),result}function matchPatternOrExact(patternStrings,candidate){for(var patterns=[],_i=0,patternStrings_1=patternStrings;_i<patternStrings_1.length;_i++){var patternString=patternStrings_1[_i],pattern=tryParsePattern(patternString);if(pattern)patterns.push(pattern);else if(patternString===candidate)return patternString}return findBestPatternMatch(patterns,function(_){return _},candidate)}function patternText(_a){var prefix=_a.prefix,suffix=_a.suffix;return prefix+"*"+suffix}function matchedText(pattern,candidate){return ts.Debug.assert(isPatternMatch(pattern,candidate)),candidate.substr(pattern.prefix.length,candidate.length-pattern.suffix.length)}function findBestPatternMatch(values,getPattern,candidate){for(var matchedValue=void 0,longestMatchPrefixLength=-1,_i=0,values_1=values;_i<values_1.length;_i++){var v=values_1[_i],pattern=getPattern(v);isPatternMatch(pattern,candidate)&&pattern.prefix.length>longestMatchPrefixLength&&(longestMatchPrefixLength=pattern.prefix.length,matchedValue=v)}return matchedValue}function isPatternMatch(_a,candidate){var prefix=_a.prefix,suffix=_a.suffix;return candidate.length>=prefix.length+suffix.length&&ts.startsWith(candidate,prefix)&&ts.endsWith(candidate,suffix)}function tryParsePattern(pattern){ts.Debug.assert(ts.hasZeroOrOneAsteriskCharacter(pattern));var indexOfStar=pattern.indexOf("*");return-1===indexOfStar?void 0:{prefix:pattern.substr(0,indexOfStar),suffix:pattern.substr(indexOfStar+1)}}function directoryProbablyExists(directoryName,host){return!host.directoryExists||host.directoryExists(directoryName)}function pathToPackageJson(directory){return ts.combinePaths(directory,"package.json")}ts.loadNodeModuleFromDirectory=loadNodeModuleFromDirectory,ts.loadModuleFromNodeModules=loadModuleFromNodeModules,ts.classicNameResolver=classicNameResolver,ts.nodeModuleNameResolver=nodeModuleNameResolver,ts.resolveModuleName=resolveModuleName,ts.findBestPatternMatch=findBestPatternMatch,ts.tryParsePattern=tryParsePattern,ts.directoryProbablyExists=directoryProbablyExists,ts.pathToPackageJson=pathToPackageJson}(ts||(ts={}));var ts;!function(ts){function getModuleInstanceState(node){if(222===node.kind||223===node.kind)return 0;if(ts.isConstEnumDeclaration(node))return 2;if(230!==node.kind&&229!==node.kind||1&node.flags){if(226===node.kind){var state_1=0;return ts.forEachChild(node,function(n){switch(getModuleInstanceState(n)){case 0:return!1;case 2:return state_1=2,!1;case 1:return state_1=1,!0}}),state_1}if(225===node.kind){var body=node.body;return body?getModuleInstanceState(body):1}return 1}return 0}function bindSourceFile(file,options){ts.performance.mark("beforeBind"),binder(file,options),ts.performance.mark("afterBind"),ts.performance.measure("Bind","beforeBind","afterBind")}function createBinder(){function bindSourceFile(f,opts){file=f,options=opts,languageVersion=ts.getEmitScriptTarget(options),inStrictMode=!!file.externalModuleIndicator,classifiableNames=ts.createMap(),symbolCount=0,Symbol=ts.objectAllocator.getSymbolConstructor(),file.locals||(bind(file),file.symbolCount=symbolCount,file.classifiableNames=classifiableNames),file=void 0,options=void 0,languageVersion=void 0,parent=void 0,container=void 0,blockScopeContainer=void 0,
lastContainer=void 0,seenThisKeyword=!1,currentFlow=void 0,currentBreakTarget=void 0,currentContinueTarget=void 0,currentReturnTarget=void 0,currentTrueTarget=void 0,currentFalseTarget=void 0,activeLabels=void 0,hasExplicitReturn=!1,emitFlags=0}function createSymbol(flags,name){return symbolCount++,new Symbol(flags,name)}function addDeclarationToSymbol(symbol,node,symbolFlags){if(symbol.flags|=symbolFlags,node.symbol=symbol,symbol.declarations||(symbol.declarations=[]),symbol.declarations.push(node),1952&symbolFlags&&!symbol.exports&&(symbol.exports=ts.createMap()),6240&symbolFlags&&!symbol.members&&(symbol.members=ts.createMap()),107455&symbolFlags){var valueDeclaration=symbol.valueDeclaration;(!valueDeclaration||valueDeclaration.kind!==node.kind&&225===valueDeclaration.kind)&&(symbol.valueDeclaration=node)}}function getDeclarationName(node){if(node.name){if(ts.isAmbientModule(node))return ts.isGlobalScopeAugmentation(node)?"__global":'"'+node.name.text+'"';if(140===node.name.kind){var nameExpression=node.name.expression;return ts.isStringOrNumericLiteral(nameExpression.kind)?nameExpression.text:(ts.Debug.assert(ts.isWellKnownSymbolSyntactically(nameExpression)),ts.getPropertyNameForKnownSymbolName(nameExpression.name.text))}return node.name.text}switch(node.kind){case 148:return"__constructor";case 156:case 151:return"__call";case 157:case 152:return"__new";case 153:return"__index";case 236:return"__export";case 235:return node.isExportEquals?"export=":"default";case 187:switch(ts.getSpecialPropertyAssignmentKind(node)){case 2:return"export=";case 1:case 4:return node.left.name.text;case 3:return node.left.expression.name.text}ts.Debug.fail("Unknown binary declaration kind");break;case 220:case 221:return 512&node.flags?"default":void 0;case 269:return ts.isJSDocConstructSignature(node)?"__new":"__call";case 142:ts.Debug.assert(269===node.parent.kind);var functionType=node.parent,index=ts.indexOf(functionType.parameters,node);return"p"+index;case 279:var parentNode=node.parent&&node.parent.parent,nameFromParentNode=void 0;if(parentNode&&200===parentNode.kind&&parentNode.declarationList.declarations.length>0){var nameIdentifier=parentNode.declarationList.declarations[0].name;69===nameIdentifier.kind&&(nameFromParentNode=nameIdentifier.text)}return nameFromParentNode}}function getDisplayName(node){return node.name?ts.declarationNameToString(node.name):getDeclarationName(node)}function declareSymbol(symbolTable,parent,node,includes,excludes){ts.Debug.assert(!ts.hasDynamicName(node));var symbol,isDefaultExport=512&node.flags,name=isDefaultExport&&parent?"default":getDeclarationName(node);if(void 0===name)symbol=createSymbol(0,"__missing");else if(symbol=symbolTable[name]||(symbolTable[name]=createSymbol(0,name)),name&&788448&includes&&(classifiableNames[name]=name),symbol.flags&excludes)if(symbol.isReplaceableByMethod)symbol=symbolTable[name]=createSymbol(0,name);else{node.name&&(node.name.parent=node);var message_1=2&symbol.flags?ts.Diagnostics.Cannot_redeclare_block_scoped_variable_0:ts.Diagnostics.Duplicate_identifier_0;ts.forEach(symbol.declarations,function(declaration){512&declaration.flags&&(message_1=ts.Diagnostics.A_module_cannot_have_multiple_default_exports)}),ts.forEach(symbol.declarations,function(declaration){file.bindDiagnostics.push(ts.createDiagnosticForNode(declaration.name||declaration,message_1,getDisplayName(declaration)))}),file.bindDiagnostics.push(ts.createDiagnosticForNode(node.name||node,message_1,getDisplayName(node))),symbol=createSymbol(0,name)}return addDeclarationToSymbol(symbol,node,includes),symbol.parent=parent,symbol}function declareModuleMember(node,symbolFlags,symbolExcludes){var hasExportModifier=1&ts.getCombinedNodeFlags(node);if(8388608&symbolFlags)return 238===node.kind||229===node.kind&&hasExportModifier?declareSymbol(container.symbol.exports,container.symbol,node,symbolFlags,symbolExcludes):declareSymbol(container.locals,void 0,node,symbolFlags,symbolExcludes);if(!ts.isAmbientModule(node)&&(hasExportModifier||8192&container.flags)){var exportKind=(107455&symbolFlags?1048576:0)|(793064&symbolFlags?2097152:0)|(1920&symbolFlags?4194304:0),local=declareSymbol(container.locals,void 0,node,exportKind,symbolExcludes);return local.exportSymbol=declareSymbol(container.symbol.exports,container.symbol,node,symbolFlags,symbolExcludes),node.localSymbol=local,local}return declareSymbol(container.locals,void 0,node,symbolFlags,symbolExcludes)}function bindContainer(node,containerFlags){var saveContainer=container,savedBlockScopeContainer=blockScopeContainer;if(1&containerFlags?(container=blockScopeContainer=node,32&containerFlags&&(container.locals=ts.createMap()),addToContainerChain(container)):2&containerFlags&&(blockScopeContainer=node,blockScopeContainer.locals=void 0),4&containerFlags){var saveCurrentFlow=currentFlow,saveBreakTarget=currentBreakTarget,saveContinueTarget=currentContinueTarget,saveReturnTarget=currentReturnTarget,saveActiveLabels=activeLabels,saveHasExplicitReturn=hasExplicitReturn,isIIFE=16&containerFlags&&!!ts.getImmediatelyInvokedFunctionExpression(node);isIIFE?currentReturnTarget=createBranchLabel():(currentFlow={flags:2},16&containerFlags&&(currentFlow.container=node),currentReturnTarget=void 0),currentBreakTarget=void 0,currentContinueTarget=void 0,activeLabels=void 0,hasExplicitReturn=!1,bindChildren(node),node.flags&=-4030465,!(1&currentFlow.flags)&&8&containerFlags&&ts.nodeIsPresent(node.body)&&(node.flags|=32768,hasExplicitReturn&&(node.flags|=65536)),256===node.kind&&(node.flags|=emitFlags),isIIFE?(addAntecedent(currentReturnTarget,currentFlow),currentFlow=finishFlowLabel(currentReturnTarget)):currentFlow=saveCurrentFlow,currentBreakTarget=saveBreakTarget,currentContinueTarget=saveContinueTarget,currentReturnTarget=saveReturnTarget,activeLabels=saveActiveLabels,hasExplicitReturn=saveHasExplicitReturn}else 64&containerFlags?(seenThisKeyword=!1,bindChildren(node),node.flags=seenThisKeyword?16384|node.flags:-16385&node.flags):bindChildren(node);container=saveContainer,blockScopeContainer=savedBlockScopeContainer}function bindChildren(node){if(ts.isInJavaScriptFile(node)&&node.jsDocComments)for(var _i=0,_a=node.jsDocComments;_i<_a.length;_i++){var jsDocComment=_a[_i];bind(jsDocComment)}if(checkUnreachable(node))return void ts.forEachChild(node,bind);switch(node.kind){case 205:bindWhileStatement(node);break;case 204:bindDoStatement(node);break;case 206:bindForStatement(node);break;case 207:case 208:bindForInOrForOfStatement(node);break;case 203:bindIfStatement(node);break;case 211:case 215:bindReturnOrThrow(node);break;case 210:case 209:bindBreakOrContinueStatement(node);break;case 216:bindTryStatement(node);break;case 213:bindSwitchStatement(node);break;case 227:bindCaseBlock(node);break;case 249:bindCaseClause(node);break;case 214:bindLabeledStatement(node);break;case 185:bindPrefixUnaryExpressionFlow(node);break;case 187:bindBinaryExpressionFlow(node);break;case 181:bindDeleteExpressionFlow(node);break;case 188:bindConditionalExpressionFlow(node);break;case 218:bindVariableDeclarationFlow(node);break;case 174:bindCallExpressionFlow(node);break;default:ts.forEachChild(node,bind)}}function isNarrowingExpression(expr){switch(expr.kind){case 69:case 97:case 172:return isNarrowableReference(expr);case 174:return hasNarrowableArgument(expr);case 178:return isNarrowingExpression(expr.expression);case 187:return isNarrowingBinaryExpression(expr);case 185:return 49===expr.operator&&isNarrowingExpression(expr.operand)}return!1}function isNarrowableReference(expr){return 69===expr.kind||97===expr.kind||172===expr.kind&&isNarrowableReference(expr.expression)}function hasNarrowableArgument(expr){if(expr.arguments)for(var _i=0,_a=expr.arguments;_i<_a.length;_i++){var argument=_a[_i];if(isNarrowableReference(argument))return!0}return 172===expr.expression.kind&&isNarrowableReference(expr.expression.expression)?!0:!1}function isNarrowingTypeofOperands(expr1,expr2){return 182===expr1.kind&&isNarrowableOperand(expr1.expression)&&9===expr2.kind}function isNarrowingBinaryExpression(expr){switch(expr.operatorToken.kind){case 56:return isNarrowableReference(expr.left);case 30:case 31:case 32:case 33:return isNarrowableOperand(expr.left)||isNarrowableOperand(expr.right)||isNarrowingTypeofOperands(expr.right,expr.left)||isNarrowingTypeofOperands(expr.left,expr.right);case 91:return isNarrowableOperand(expr.left);case 24:return isNarrowingExpression(expr.right)}return!1}function isNarrowableOperand(expr){switch(expr.kind){case 178:return isNarrowableOperand(expr.expression);case 187:switch(expr.operatorToken.kind){case 56:return isNarrowableOperand(expr.left);case 24:return isNarrowableOperand(expr.right)}}return isNarrowableReference(expr)}function createBranchLabel(){return{flags:4,antecedents:void 0}}function createLoopLabel(){return{flags:8,antecedents:void 0}}function setFlowNodeReferenced(flow){flow.flags|=256&flow.flags?512:256}function addAntecedent(label,antecedent){1&antecedent.flags||ts.contains(label.antecedents,antecedent)||((label.antecedents||(label.antecedents=[])).push(antecedent),setFlowNodeReferenced(antecedent))}function createFlowCondition(flags,antecedent,expression){return 1&antecedent.flags?antecedent:expression?99===expression.kind&&64&flags||84===expression.kind&&32&flags?unreachableFlow:isNarrowingExpression(expression)?(setFlowNodeReferenced(antecedent),{flags:flags,expression:expression,antecedent:antecedent}):antecedent:32&flags?antecedent:unreachableFlow}function createFlowSwitchClause(antecedent,switchStatement,clauseStart,clauseEnd){return isNarrowingExpression(switchStatement.expression)?(setFlowNodeReferenced(antecedent),{flags:128,switchStatement:switchStatement,clauseStart:clauseStart,clauseEnd:clauseEnd,antecedent:antecedent}):antecedent}function createFlowAssignment(antecedent,node){return setFlowNodeReferenced(antecedent),{flags:16,antecedent:antecedent,node:node}}function finishFlowLabel(flow){var antecedents=flow.antecedents;return antecedents?1===antecedents.length?antecedents[0]:flow:unreachableFlow}function isStatementCondition(node){var parent=node.parent;switch(parent.kind){case 203:case 205:case 204:return parent.expression===node;case 206:case 188:return parent.condition===node}return!1}function isLogicalExpression(node){for(;;)if(178===node.kind)node=node.expression;else{if(185!==node.kind||49!==node.operator)return 187===node.kind&&(51===node.operatorToken.kind||52===node.operatorToken.kind);node=node.operand}}function isTopLevelLogicalExpression(node){for(;178===node.parent.kind||185===node.parent.kind&&49===node.parent.operator;)node=node.parent;return!isStatementCondition(node)&&!isLogicalExpression(node.parent)}function bindCondition(node,trueTarget,falseTarget){var saveTrueTarget=currentTrueTarget,saveFalseTarget=currentFalseTarget;currentTrueTarget=trueTarget,currentFalseTarget=falseTarget,bind(node),currentTrueTarget=saveTrueTarget,currentFalseTarget=saveFalseTarget,node&&isLogicalExpression(node)||(addAntecedent(trueTarget,createFlowCondition(32,currentFlow,node)),addAntecedent(falseTarget,createFlowCondition(64,currentFlow,node)))}function bindIterativeStatement(node,breakTarget,continueTarget){var saveBreakTarget=currentBreakTarget,saveContinueTarget=currentContinueTarget;currentBreakTarget=breakTarget,currentContinueTarget=continueTarget,bind(node),currentBreakTarget=saveBreakTarget,currentContinueTarget=saveContinueTarget}function bindWhileStatement(node){var preWhileLabel=createLoopLabel(),preBodyLabel=createBranchLabel(),postWhileLabel=createBranchLabel();addAntecedent(preWhileLabel,currentFlow),currentFlow=preWhileLabel,bindCondition(node.expression,preBodyLabel,postWhileLabel),currentFlow=finishFlowLabel(preBodyLabel),bindIterativeStatement(node.statement,postWhileLabel,preWhileLabel),addAntecedent(preWhileLabel,currentFlow),currentFlow=finishFlowLabel(postWhileLabel)}function bindDoStatement(node){var preDoLabel=createLoopLabel(),preConditionLabel=createBranchLabel(),postDoLabel=createBranchLabel();addAntecedent(preDoLabel,currentFlow),currentFlow=preDoLabel,bindIterativeStatement(node.statement,postDoLabel,preConditionLabel),addAntecedent(preConditionLabel,currentFlow),currentFlow=finishFlowLabel(preConditionLabel),bindCondition(node.expression,preDoLabel,postDoLabel),currentFlow=finishFlowLabel(postDoLabel)}function bindForStatement(node){var preLoopLabel=createLoopLabel(),preBodyLabel=createBranchLabel(),postLoopLabel=createBranchLabel();bind(node.initializer),addAntecedent(preLoopLabel,currentFlow),currentFlow=preLoopLabel,bindCondition(node.condition,preBodyLabel,postLoopLabel),currentFlow=finishFlowLabel(preBodyLabel),bindIterativeStatement(node.statement,postLoopLabel,preLoopLabel),bind(node.incrementor),addAntecedent(preLoopLabel,currentFlow),currentFlow=finishFlowLabel(postLoopLabel)}function bindForInOrForOfStatement(node){var preLoopLabel=createLoopLabel(),postLoopLabel=createBranchLabel();addAntecedent(preLoopLabel,currentFlow),currentFlow=preLoopLabel,bind(node.expression),addAntecedent(postLoopLabel,currentFlow),bind(node.initializer),219!==node.initializer.kind&&bindAssignmentTargetFlow(node.initializer),bindIterativeStatement(node.statement,postLoopLabel,preLoopLabel),addAntecedent(preLoopLabel,currentFlow),currentFlow=finishFlowLabel(postLoopLabel)}function bindIfStatement(node){var thenLabel=createBranchLabel(),elseLabel=createBranchLabel(),postIfLabel=createBranchLabel();bindCondition(node.expression,thenLabel,elseLabel),currentFlow=finishFlowLabel(thenLabel),bind(node.thenStatement),addAntecedent(postIfLabel,currentFlow),currentFlow=finishFlowLabel(elseLabel),bind(node.elseStatement),addAntecedent(postIfLabel,currentFlow),currentFlow=finishFlowLabel(postIfLabel)}function bindReturnOrThrow(node){bind(node.expression),211===node.kind&&(hasExplicitReturn=!0,currentReturnTarget&&addAntecedent(currentReturnTarget,currentFlow)),currentFlow=unreachableFlow}function findActiveLabel(name){if(activeLabels)for(var _i=0,activeLabels_1=activeLabels;_i<activeLabels_1.length;_i++){var label=activeLabels_1[_i];if(label.name===name)return label}return void 0}function bindbreakOrContinueFlow(node,breakTarget,continueTarget){var flowLabel=210===node.kind?breakTarget:continueTarget;flowLabel&&(addAntecedent(flowLabel,currentFlow),currentFlow=unreachableFlow)}function bindBreakOrContinueStatement(node){if(bind(node.label),node.label){var activeLabel=findActiveLabel(node.label.text);activeLabel&&(activeLabel.referenced=!0,bindbreakOrContinueFlow(node,activeLabel.breakTarget,activeLabel.continueTarget))}else bindbreakOrContinueFlow(node,currentBreakTarget,currentContinueTarget)}function bindTryStatement(node){var postFinallyLabel=createBranchLabel(),preTryFlow=currentFlow;bind(node.tryBlock),addAntecedent(postFinallyLabel,currentFlow),node.catchClause&&(currentFlow=preTryFlow,bind(node.catchClause),addAntecedent(postFinallyLabel,currentFlow)),node.finallyBlock&&(currentFlow=preTryFlow,bind(node.finallyBlock)),currentFlow=finishFlowLabel(postFinallyLabel)}function bindSwitchStatement(node){var postSwitchLabel=createBranchLabel();bind(node.expression);var saveBreakTarget=currentBreakTarget,savePreSwitchCaseFlow=preSwitchCaseFlow;currentBreakTarget=postSwitchLabel,preSwitchCaseFlow=currentFlow,bind(node.caseBlock),addAntecedent(postSwitchLabel,currentFlow);var hasDefault=ts.forEach(node.caseBlock.clauses,function(c){return 250===c.kind});node.possiblyExhaustive=!hasDefault&&!postSwitchLabel.antecedents,hasDefault||addAntecedent(postSwitchLabel,createFlowSwitchClause(preSwitchCaseFlow,node,0,0)),currentBreakTarget=saveBreakTarget,preSwitchCaseFlow=savePreSwitchCaseFlow,currentFlow=finishFlowLabel(postSwitchLabel)}function bindCaseBlock(node){for(var clauses=node.clauses,fallthroughFlow=unreachableFlow,i=0;i<clauses.length;i++){for(var clauseStart=i;!clauses[i].statements.length&&i+1<clauses.length;)bind(clauses[i]),i++;var preCaseLabel=createBranchLabel();addAntecedent(preCaseLabel,createFlowSwitchClause(preSwitchCaseFlow,node.parent,clauseStart,i+1)),addAntecedent(preCaseLabel,fallthroughFlow),currentFlow=finishFlowLabel(preCaseLabel);var clause=clauses[i];bind(clause),fallthroughFlow=currentFlow,1&currentFlow.flags||i===clauses.length-1||!options.noFallthroughCasesInSwitch||errorOnFirstToken(clause,ts.Diagnostics.Fallthrough_case_in_switch)}}function bindCaseClause(node){var saveCurrentFlow=currentFlow;currentFlow=preSwitchCaseFlow,bind(node.expression),currentFlow=saveCurrentFlow,ts.forEach(node.statements,bind)}function pushActiveLabel(name,breakTarget,continueTarget){var activeLabel={name:name,breakTarget:breakTarget,continueTarget:continueTarget,referenced:!1};return(activeLabels||(activeLabels=[])).push(activeLabel),activeLabel}function popActiveLabel(){activeLabels.pop()}function bindLabeledStatement(node){var preStatementLabel=createLoopLabel(),postStatementLabel=createBranchLabel();bind(node.label),addAntecedent(preStatementLabel,currentFlow);var activeLabel=pushActiveLabel(node.label.text,postStatementLabel,preStatementLabel);bind(node.statement),popActiveLabel(),activeLabel.referenced||options.allowUnusedLabels||file.bindDiagnostics.push(ts.createDiagnosticForNode(node.label,ts.Diagnostics.Unused_label)),addAntecedent(postStatementLabel,currentFlow),currentFlow=finishFlowLabel(postStatementLabel)}function bindDestructuringTargetFlow(node){bindAssignmentTargetFlow(187===node.kind&&56===node.operatorToken.kind?node.left:node)}function bindAssignmentTargetFlow(node){if(isNarrowableReference(node))currentFlow=createFlowAssignment(currentFlow,node);else if(170===node.kind)for(var _i=0,_a=node.elements;_i<_a.length;_i++){var e=_a[_i];191===e.kind?bindAssignmentTargetFlow(e.expression):bindDestructuringTargetFlow(e)}else if(171===node.kind)for(var _b=0,_c=node.properties;_b<_c.length;_b++){var p=_c[_b];253===p.kind?bindDestructuringTargetFlow(p.initializer):254===p.kind&&bindAssignmentTargetFlow(p.name)}}function bindLogicalExpression(node,trueTarget,falseTarget){var preRightLabel=createBranchLabel();51===node.operatorToken.kind?bindCondition(node.left,preRightLabel,falseTarget):bindCondition(node.left,trueTarget,preRightLabel),currentFlow=finishFlowLabel(preRightLabel),bind(node.operatorToken),bindCondition(node.right,trueTarget,falseTarget)}function bindPrefixUnaryExpressionFlow(node){if(49===node.operator){var saveTrueTarget=currentTrueTarget;currentTrueTarget=currentFalseTarget,currentFalseTarget=saveTrueTarget,ts.forEachChild(node,bind),currentFalseTarget=currentTrueTarget,currentTrueTarget=saveTrueTarget}else ts.forEachChild(node,bind)}function bindBinaryExpressionFlow(node){var operator=node.operatorToken.kind;if(51===operator||52===operator)if(isTopLevelLogicalExpression(node)){var postExpressionLabel=createBranchLabel();bindLogicalExpression(node,postExpressionLabel,postExpressionLabel),currentFlow=finishFlowLabel(postExpressionLabel)}else bindLogicalExpression(node,currentTrueTarget,currentFalseTarget);else ts.forEachChild(node,bind),56!==operator||ts.isAssignmentTarget(node)||bindAssignmentTargetFlow(node.left)}function bindDeleteExpressionFlow(node){ts.forEachChild(node,bind),172===node.expression.kind&&bindAssignmentTargetFlow(node.expression)}function bindConditionalExpressionFlow(node){var trueLabel=createBranchLabel(),falseLabel=createBranchLabel(),postExpressionLabel=createBranchLabel();bindCondition(node.condition,trueLabel,falseLabel),currentFlow=finishFlowLabel(trueLabel),bind(node.whenTrue),addAntecedent(postExpressionLabel,currentFlow),currentFlow=finishFlowLabel(falseLabel),bind(node.whenFalse),addAntecedent(postExpressionLabel,currentFlow),currentFlow=finishFlowLabel(postExpressionLabel)}function bindInitializedVariableFlow(node){var name=node.name;if(ts.isBindingPattern(name))for(var _i=0,_a=name.elements;_i<_a.length;_i++){var child=_a[_i];bindInitializedVariableFlow(child)}else currentFlow=createFlowAssignment(currentFlow,node)}function bindVariableDeclarationFlow(node){ts.forEachChild(node,bind),(node.initializer||207===node.parent.parent.kind||208===node.parent.parent.kind)&&bindInitializedVariableFlow(node)}function bindCallExpressionFlow(node){for(var expr=node.expression;178===expr.kind;)expr=expr.expression;179===expr.kind||180===expr.kind?(ts.forEach(node.typeArguments,bind),ts.forEach(node.arguments,bind),bind(node.expression)):ts.forEachChild(node,bind)}function getContainerFlags(node){switch(node.kind){case 192:case 221:case 224:case 171:case 159:case 281:case 265:return 1;case 222:return 65;case 269:case 225:case 223:return 33;case 256:return 37;case 148:case 220:case 147:case 146:case 149:case 150:case 151:case 152:case 153:case 156:case 157:return 45;case 179:case 180:return 61;case 226:return 4;case 145:return node.initializer?4:0;case 252:case 206:case 207:case 208:case 227:return 2;case 199:return ts.isFunctionLike(node.parent)?0:2}return 0}function addToContainerChain(next){lastContainer&&(lastContainer.nextContainer=next),lastContainer=next}function declareSymbolAndAddToSymbolTable(node,symbolFlags,symbolExcludes){return declareSymbolAndAddToSymbolTableWorker(node,symbolFlags,symbolExcludes)}function declareSymbolAndAddToSymbolTableWorker(node,symbolFlags,symbolExcludes){switch(container.kind){case 225:return declareModuleMember(node,symbolFlags,symbolExcludes);case 256:return declareSourceFileMember(node,symbolFlags,symbolExcludes);case 192:case 221:return declareClassMember(node,symbolFlags,symbolExcludes);case 224:return declareSymbol(container.symbol.exports,container.symbol,node,symbolFlags,symbolExcludes);case 159:case 171:case 222:case 265:case 281:return declareSymbol(container.symbol.members,container.symbol,node,symbolFlags,symbolExcludes);case 156:case 157:case 151:case 152:case 153:case 147:case 146:case 148:case 149:case 150:case 220:case 179:case 180:case 269:case 223:return declareSymbol(container.locals,void 0,node,symbolFlags,symbolExcludes)}}function declareClassMember(node,symbolFlags,symbolExcludes){return 32&node.flags?declareSymbol(container.symbol.exports,container.symbol,node,symbolFlags,symbolExcludes):declareSymbol(container.symbol.members,container.symbol,node,symbolFlags,symbolExcludes)}function declareSourceFileMember(node,symbolFlags,symbolExcludes){return ts.isExternalModule(file)?declareModuleMember(node,symbolFlags,symbolExcludes):declareSymbol(file.locals,void 0,node,symbolFlags,symbolExcludes)}function hasExportDeclarations(node){var body=256===node.kind?node:node.body;if(body&&(256===body.kind||226===body.kind))for(var _i=0,_a=body.statements;_i<_a.length;_i++){var stat=_a[_i];if(236===stat.kind||235===stat.kind)return!0}return!1}function setExportContextFlag(node){ts.isInAmbientContext(node)&&!hasExportDeclarations(node)?node.flags|=8192:node.flags&=-8193}function bindModuleDeclaration(node){if(setExportContextFlag(node),ts.isAmbientModule(node))if(1&node.flags&&errorOnFirstToken(node,ts.Diagnostics.export_modifier_cannot_be_applied_to_ambient_modules_and_module_augmentations_since_they_are_always_visible),ts.isExternalModuleAugmentation(node))declareSymbolAndAddToSymbolTable(node,1024,0);else{var pattern=void 0;if(9===node.name.kind){var text=node.name.text;ts.hasZeroOrOneAsteriskCharacter(text)?pattern=ts.tryParsePattern(text):errorOnFirstToken(node.name,ts.Diagnostics.Pattern_0_can_have_at_most_one_Asterisk_character,text)}var symbol=declareSymbolAndAddToSymbolTable(node,512,106639);pattern&&(file.patternAmbientModules||(file.patternAmbientModules=[])).push({pattern:pattern,symbol:symbol})}else{var state=getModuleInstanceState(node);if(0===state)declareSymbolAndAddToSymbolTable(node,1024,0);else if(declareSymbolAndAddToSymbolTable(node,512,106639),304&node.symbol.flags)node.symbol.constEnumOnlyModule=!1;else{var currentModuleIsConstEnumOnly=2===state;void 0===node.symbol.constEnumOnlyModule?node.symbol.constEnumOnlyModule=currentModuleIsConstEnumOnly:node.symbol.constEnumOnlyModule=node.symbol.constEnumOnlyModule&&currentModuleIsConstEnumOnly}}}function bindFunctionOrConstructorType(node){var symbol=createSymbol(131072,getDeclarationName(node));addDeclarationToSymbol(symbol,node,131072);var typeLiteralSymbol=createSymbol(2048,"__type");addDeclarationToSymbol(typeLiteralSymbol,node,2048),typeLiteralSymbol.members=ts.createMap(),typeLiteralSymbol.members[symbol.name]=symbol}function bindObjectLiteralExpression(node){var ElementKind;if(function(ElementKind){ElementKind[ElementKind.Property=1]="Property",ElementKind[ElementKind.Accessor=2]="Accessor"}(ElementKind||(ElementKind={})),inStrictMode)for(var seen=ts.createMap(),_i=0,_a=node.properties;_i<_a.length;_i++){var prop=_a[_i];if(69===prop.name.kind){var identifier=prop.name,currentKind=253===prop.kind||254===prop.kind||147===prop.kind?1:2,existingKind=seen[identifier.text];if(existingKind){if(1===currentKind&&1===existingKind){var span=ts.getErrorSpanForNode(file,identifier);file.bindDiagnostics.push(ts.createFileDiagnostic(file,span.start,span.length,ts.Diagnostics.An_object_literal_cannot_have_multiple_properties_with_the_same_name_in_strict_mode))}}else seen[identifier.text]=currentKind}}return bindAnonymousDeclaration(node,4096,"__object")}function bindAnonymousDeclaration(node,symbolFlags,name){var symbol=createSymbol(symbolFlags,name);addDeclarationToSymbol(symbol,node,symbolFlags)}function bindBlockScopedDeclaration(node,symbolFlags,symbolExcludes){switch(blockScopeContainer.kind){case 225:declareModuleMember(node,symbolFlags,symbolExcludes);break;case 256:if(ts.isExternalModule(container)){declareModuleMember(node,symbolFlags,symbolExcludes);break}default:blockScopeContainer.locals||(blockScopeContainer.locals=ts.createMap(),addToContainerChain(blockScopeContainer)),declareSymbol(blockScopeContainer.locals,void 0,node,symbolFlags,symbolExcludes)}}function bindBlockScopedVariableDeclaration(node){bindBlockScopedDeclaration(node,2,107455)}function checkStrictModeIdentifier(node){inStrictMode&&node.originalKeywordKind>=106&&node.originalKeywordKind<=114&&!ts.isIdentifierName(node)&&!ts.isInAmbientContext(node)&&(file.parseDiagnostics.length||file.bindDiagnostics.push(ts.createDiagnosticForNode(node,getStrictModeIdentifierMessage(node),ts.declarationNameToString(node))))}function getStrictModeIdentifierMessage(node){return ts.getContainingClass(node)?ts.Diagnostics.Identifier_expected_0_is_a_reserved_word_in_strict_mode_Class_definitions_are_automatically_in_strict_mode:file.externalModuleIndicator?ts.Diagnostics.Identifier_expected_0_is_a_reserved_word_in_strict_mode_Modules_are_automatically_in_strict_mode:ts.Diagnostics.Identifier_expected_0_is_a_reserved_word_in_strict_mode}function checkStrictModeBinaryExpression(node){inStrictMode&&ts.isLeftHandSideExpression(node.left)&&ts.isAssignmentOperator(node.operatorToken.kind)&&checkStrictModeEvalOrArguments(node,node.left)}function checkStrictModeCatchClause(node){inStrictMode&&node.variableDeclaration&&checkStrictModeEvalOrArguments(node,node.variableDeclaration.name)}function checkStrictModeDeleteExpression(node){if(inStrictMode&&69===node.expression.kind){var span=ts.getErrorSpanForNode(file,node.expression);file.bindDiagnostics.push(ts.createFileDiagnostic(file,span.start,span.length,ts.Diagnostics.delete_cannot_be_called_on_an_identifier_in_strict_mode))}}function isEvalOrArgumentsIdentifier(node){return 69===node.kind&&("eval"===node.text||"arguments"===node.text)}function checkStrictModeEvalOrArguments(contextNode,name){if(name&&69===name.kind){var identifier=name;if(isEvalOrArgumentsIdentifier(identifier)){var span=ts.getErrorSpanForNode(file,name);file.bindDiagnostics.push(ts.createFileDiagnostic(file,span.start,span.length,getStrictModeEvalOrArgumentsMessage(contextNode),identifier.text))}}}function getStrictModeEvalOrArgumentsMessage(node){return ts.getContainingClass(node)?ts.Diagnostics.Invalid_use_of_0_Class_definitions_are_automatically_in_strict_mode:file.externalModuleIndicator?ts.Diagnostics.Invalid_use_of_0_Modules_are_automatically_in_strict_mode:ts.Diagnostics.Invalid_use_of_0_in_strict_mode}function checkStrictModeFunctionName(node){inStrictMode&&checkStrictModeEvalOrArguments(node,node.name)}function getStrictModeBlockScopeFunctionDeclarationMessage(node){return ts.getContainingClass(node)?ts.Diagnostics.Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_Class_definitions_are_automatically_in_strict_mode:file.externalModuleIndicator?ts.Diagnostics.Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_Modules_are_automatically_in_strict_mode:ts.Diagnostics.Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5}function checkStrictModeFunctionDeclaration(node){if(2>languageVersion&&256!==blockScopeContainer.kind&&225!==blockScopeContainer.kind&&!ts.isFunctionLike(blockScopeContainer)){var errorSpan=ts.getErrorSpanForNode(file,node);file.bindDiagnostics.push(ts.createFileDiagnostic(file,errorSpan.start,errorSpan.length,getStrictModeBlockScopeFunctionDeclarationMessage(node)))}}function checkStrictModeNumericLiteral(node){inStrictMode&&node.isOctalLiteral&&file.bindDiagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.Octal_literals_are_not_allowed_in_strict_mode))}function checkStrictModePostfixUnaryExpression(node){inStrictMode&&checkStrictModeEvalOrArguments(node,node.operand)}function checkStrictModePrefixUnaryExpression(node){inStrictMode&&(41===node.operator||42===node.operator)&&checkStrictModeEvalOrArguments(node,node.operand)}function checkStrictModeWithStatement(node){inStrictMode&&errorOnFirstToken(node,ts.Diagnostics.with_statements_are_not_allowed_in_strict_mode)}function errorOnFirstToken(node,message,arg0,arg1,arg2){var span=ts.getSpanOfTokenAtPosition(file,node.pos);file.bindDiagnostics.push(ts.createFileDiagnostic(file,span.start,span.length,message,arg0,arg1,arg2))}function getDestructuringParameterName(node){return"__"+ts.indexOf(node.parent.parameters,node)}function bind(node){if(node){node.parent=parent;var saveInStrictMode=inStrictMode;if(bindWorker(node),node.kind>138){var saveParent=parent;parent=node;var containerFlags=getContainerFlags(node);0===containerFlags?bindChildren(node):bindContainer(node,containerFlags),parent=saveParent}inStrictMode=saveInStrictMode}}function updateStrictModeStatementList(statements){if(!inStrictMode)for(var _i=0,statements_1=statements;_i<statements_1.length;_i++){var statement=statements_1[_i];if(!ts.isPrologueDirective(statement))return;if(isUseStrictPrologueDirective(statement))return void(inStrictMode=!0)}}function isUseStrictPrologueDirective(node){var nodeText=ts.getTextOfNodeFromSourceText(file.text,node.expression);return'"use strict"'===nodeText||"'use strict'"===nodeText}function bindWorker(node){switch(node.kind){case 69:case 97:return currentFlow&&(ts.isExpression(node)||254===parent.kind)&&(node.flowNode=currentFlow),checkStrictModeIdentifier(node);case 172:currentFlow&&isNarrowableReference(node)&&(node.flowNode=currentFlow);break;case 187:if(ts.isInJavaScriptFile(node)){var specialKind=ts.getSpecialPropertyAssignmentKind(node);switch(specialKind){case 1:bindExportsPropertyAssignment(node);break;case 2:bindModuleExportsAssignment(node);break;case 3:bindPrototypePropertyAssignment(node);break;case 4:bindThisPropertyAssignment(node);break;case 0:break;default:ts.Debug.fail("Unknown special property assignment kind")}}return checkStrictModeBinaryExpression(node);case 252:return checkStrictModeCatchClause(node);case 181:return checkStrictModeDeleteExpression(node);case 8:return checkStrictModeNumericLiteral(node);case 186:return checkStrictModePostfixUnaryExpression(node);case 185:return checkStrictModePrefixUnaryExpression(node);case 212:return checkStrictModeWithStatement(node);case 165:return void(seenThisKeyword=!0);case 154:return checkTypePredicate(node);case 141:return declareSymbolAndAddToSymbolTable(node,262144,530920);case 142:return bindParameter(node);case 218:case 169:return bindVariableDeclarationOrBindingElement(node);
case 145:case 144:case 266:return bindPropertyOrMethodOrAccessor(node,4|(node.questionToken?536870912:0),0);case 280:return bindJSDocProperty(node);case 253:case 254:return bindPropertyOrMethodOrAccessor(node,4,0);case 255:return bindPropertyOrMethodOrAccessor(node,8,900095);case 247:return void(emitFlags|=1073741824);case 151:case 152:case 153:return declareSymbolAndAddToSymbolTable(node,131072,0);case 147:case 146:return bindPropertyOrMethodOrAccessor(node,8192|(node.questionToken?536870912:0),ts.isObjectLiteralMethod(node)?0:99263);case 220:return bindFunctionDeclaration(node);case 148:return declareSymbolAndAddToSymbolTable(node,16384,0);case 149:return bindPropertyOrMethodOrAccessor(node,32768,41919);case 150:return bindPropertyOrMethodOrAccessor(node,65536,74687);case 156:case 157:case 269:return bindFunctionOrConstructorType(node);case 159:case 281:case 265:return bindAnonymousDeclaration(node,2048,"__type");case 171:return bindObjectLiteralExpression(node);case 179:case 180:return bindFunctionExpression(node);case 174:ts.isInJavaScriptFile(node)&&bindCallExpression(node);break;case 192:case 221:return inStrictMode=!0,bindClassLikeDeclaration(node);case 222:return bindBlockScopedDeclaration(node,64,792968);case 279:case 223:return bindBlockScopedDeclaration(node,524288,793064);case 224:return bindEnumDeclaration(node);case 225:return bindModuleDeclaration(node);case 229:case 232:case 234:case 238:return declareSymbolAndAddToSymbolTable(node,8388608,8388608);case 228:return bindNamespaceExportDeclaration(node);case 231:return bindImportClause(node);case 236:return bindExportDeclaration(node);case 235:return bindExportAssignment(node);case 256:return updateStrictModeStatementList(node.statements),bindSourceFileIfExternalModule();case 199:if(!ts.isFunctionLike(node.parent))return;case 226:return updateStrictModeStatementList(node.statements)}}function checkTypePredicate(node){var parameterName=node.parameterName,type=node.type;parameterName&&69===parameterName.kind&&checkStrictModeIdentifier(parameterName),parameterName&&165===parameterName.kind&&(seenThisKeyword=!0),bind(type)}function bindSourceFileIfExternalModule(){setExportContextFlag(file),ts.isExternalModule(file)&&bindSourceFileAsExternalModule()}function bindSourceFileAsExternalModule(){bindAnonymousDeclaration(file,512,'"'+ts.removeFileExtension(file.fileName)+'"')}function bindExportAssignment(node){if(container.symbol&&container.symbol.exports){var flags=235===node.kind&&ts.exportAssignmentIsAlias(node)?8388608:4;declareSymbol(container.symbol.exports,container.symbol,node,flags,8388608)}else bindAnonymousDeclaration(node,8388608,getDeclarationName(node))}function bindNamespaceExportDeclaration(node){if(node.modifiers&&node.modifiers.length&&file.bindDiagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.Modifiers_cannot_appear_here)),256!==node.parent.kind)return void file.bindDiagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.Global_module_exports_may_only_appear_at_top_level));var parent_6=node.parent;return ts.isExternalModule(parent_6)?parent_6.isDeclarationFile?(file.symbol.globalExports=file.symbol.globalExports||ts.createMap(),void declareSymbol(file.symbol.globalExports,file.symbol,node,8388608,8388608)):void file.bindDiagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.Global_module_exports_may_only_appear_in_declaration_files)):void file.bindDiagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.Global_module_exports_may_only_appear_in_module_files))}function bindExportDeclaration(node){container.symbol&&container.symbol.exports?node.exportClause||declareSymbol(container.symbol.exports,container.symbol,node,1073741824,0):bindAnonymousDeclaration(node,1073741824,getDeclarationName(node))}function bindImportClause(node){node.name&&declareSymbolAndAddToSymbolTable(node,8388608,8388608)}function setCommonJsModuleIndicator(node){file.commonJsModuleIndicator||(file.commonJsModuleIndicator=node,bindSourceFileAsExternalModule())}function bindExportsPropertyAssignment(node){setCommonJsModuleIndicator(node),declareSymbol(file.symbol.exports,file.symbol,node.left,7340036,0)}function bindModuleExportsAssignment(node){setCommonJsModuleIndicator(node),declareSymbol(file.symbol.exports,file.symbol,node,7340548,0)}function bindThisPropertyAssignment(node){if(ts.Debug.assert(ts.isInJavaScriptFile(node)),220===container.kind||179===container.kind)container.symbol.members=container.symbol.members||ts.createMap(),declareSymbol(container.symbol.members,container.symbol,node,4,0);else if(148===container.kind){var saveContainer=container;container=container.parent;var symbol=bindPropertyOrMethodOrAccessor(node,4,0);symbol&&(symbol.isReplaceableByMethod=!0),container=saveContainer}}function bindPrototypePropertyAssignment(node){var leftSideOfAssignment=node.left,classPrototype=leftSideOfAssignment.expression,constructorFunction=classPrototype.expression;leftSideOfAssignment.parent=node,constructorFunction.parent=classPrototype,classPrototype.parent=leftSideOfAssignment;var funcSymbol=container.locals[constructorFunction.text];funcSymbol&&(16&funcSymbol.flags||ts.isDeclarationOfFunctionExpression(funcSymbol))&&(funcSymbol.members||(funcSymbol.members=ts.createMap()),declareSymbol(funcSymbol.members,funcSymbol,leftSideOfAssignment,4,0))}function bindCallExpression(node){!file.commonJsModuleIndicator&&ts.isRequireCall(node,!1)&&setCommonJsModuleIndicator(node)}function bindClassLikeDeclaration(node){if(ts.isDeclarationFile(file)||ts.isInAmbientContext(node)||(void 0!==ts.getClassExtendsHeritageClauseElement(node)&&(emitFlags|=262144),ts.nodeIsDecorated(node)&&(emitFlags|=524288)),221===node.kind)bindBlockScopedDeclaration(node,32,899519);else{var bindingName=node.name?node.name.text:"__class";bindAnonymousDeclaration(node,32,bindingName),node.name&&(classifiableNames[node.name.text]=node.name.text)}var symbol=node.symbol,prototypeSymbol=createSymbol(134217732,"prototype");symbol.exports[prototypeSymbol.name]&&(node.name&&(node.name.parent=node),file.bindDiagnostics.push(ts.createDiagnosticForNode(symbol.exports[prototypeSymbol.name].declarations[0],ts.Diagnostics.Duplicate_identifier_0,prototypeSymbol.name))),symbol.exports[prototypeSymbol.name]=prototypeSymbol,prototypeSymbol.parent=symbol}function bindEnumDeclaration(node){return ts.isConst(node)?bindBlockScopedDeclaration(node,128,899967):bindBlockScopedDeclaration(node,256,899327)}function bindVariableDeclarationOrBindingElement(node){inStrictMode&&checkStrictModeEvalOrArguments(node,node.name),ts.isBindingPattern(node.name)||(ts.isBlockOrCatchScoped(node)?bindBlockScopedVariableDeclaration(node):ts.isParameterDeclaration(node)?declareSymbolAndAddToSymbolTable(node,1,107455):declareSymbolAndAddToSymbolTable(node,1,107454))}function bindParameter(node){if(ts.isDeclarationFile(file)||ts.isInAmbientContext(node)||!ts.nodeIsDecorated(node)||(emitFlags|=1572864),inStrictMode&&checkStrictModeEvalOrArguments(node,node.name),ts.isBindingPattern(node.name)?bindAnonymousDeclaration(node,1,getDestructuringParameterName(node)):declareSymbolAndAddToSymbolTable(node,1,107455),ts.isParameterPropertyDeclaration(node)){var classDeclaration=node.parent.parent;declareSymbol(classDeclaration.symbol.members,classDeclaration.symbol,node,4|(node.questionToken?536870912:0),0)}}function bindFunctionDeclaration(node){ts.isDeclarationFile(file)||ts.isInAmbientContext(node)||ts.isAsyncFunctionLike(node)&&(emitFlags|=2097152),checkStrictModeFunctionName(node),inStrictMode?(checkStrictModeFunctionDeclaration(node),bindBlockScopedDeclaration(node,16,106927)):declareSymbolAndAddToSymbolTable(node,16,106927)}function bindFunctionExpression(node){ts.isDeclarationFile(file)||ts.isInAmbientContext(node)||ts.isAsyncFunctionLike(node)&&(emitFlags|=2097152),currentFlow&&(node.flowNode=currentFlow),checkStrictModeFunctionName(node);var bindingName=node.name?node.name.text:"__function";return bindAnonymousDeclaration(node,16,bindingName)}function bindPropertyOrMethodOrAccessor(node,symbolFlags,symbolExcludes){return ts.isDeclarationFile(file)||ts.isInAmbientContext(node)||(ts.isAsyncFunctionLike(node)&&(emitFlags|=2097152),ts.nodeIsDecorated(node)&&(emitFlags|=524288)),ts.hasDynamicName(node)?bindAnonymousDeclaration(node,symbolFlags,"__computed"):declareSymbolAndAddToSymbolTable(node,symbolFlags,symbolExcludes)}function bindJSDocProperty(node){return declareSymbolAndAddToSymbolTable(node,4,0)}function shouldReportErrorOnModuleDeclaration(node){var instanceState=getModuleInstanceState(node);return 1===instanceState||2===instanceState&&options.preserveConstEnums}function checkUnreachable(node){if(!(1&currentFlow.flags))return!1;if(currentFlow===unreachableFlow){var reportError=ts.isStatement(node)&&201!==node.kind||221===node.kind||225===node.kind&&shouldReportErrorOnModuleDeclaration(node)||224===node.kind&&(!ts.isConstEnumDeclaration(node)||options.preserveConstEnums);if(reportError){currentFlow=reportedUnreachableFlow;var reportUnreachableCode=!options.allowUnreachableCode&&!ts.isInAmbientContext(node)&&(200!==node.kind||3072&ts.getCombinedNodeFlags(node.declarationList)||ts.forEach(node.declarationList.declarations,function(d){return d.initializer}));reportUnreachableCode&&errorOnFirstToken(node,ts.Diagnostics.Unreachable_code_detected)}}return!0}var file,options,languageVersion,parent,container,blockScopeContainer,lastContainer,seenThisKeyword,currentFlow,currentBreakTarget,currentContinueTarget,currentReturnTarget,currentTrueTarget,currentFalseTarget,preSwitchCaseFlow,activeLabels,hasExplicitReturn,emitFlags,inStrictMode,Symbol,classifiableNames,symbolCount=0,unreachableFlow={flags:1},reportedUnreachableFlow={flags:1};return bindSourceFile}!function(ModuleInstanceState){ModuleInstanceState[ModuleInstanceState.NonInstantiated=0]="NonInstantiated",ModuleInstanceState[ModuleInstanceState.Instantiated=1]="Instantiated",ModuleInstanceState[ModuleInstanceState.ConstEnumOnly=2]="ConstEnumOnly"}(ts.ModuleInstanceState||(ts.ModuleInstanceState={}));ts.ModuleInstanceState;ts.getModuleInstanceState=getModuleInstanceState;var ContainerFlags;!function(ContainerFlags){ContainerFlags[ContainerFlags.None=0]="None",ContainerFlags[ContainerFlags.IsContainer=1]="IsContainer",ContainerFlags[ContainerFlags.IsBlockScopedContainer=2]="IsBlockScopedContainer",ContainerFlags[ContainerFlags.IsControlFlowContainer=4]="IsControlFlowContainer",ContainerFlags[ContainerFlags.IsFunctionLike=8]="IsFunctionLike",ContainerFlags[ContainerFlags.IsFunctionExpression=16]="IsFunctionExpression",ContainerFlags[ContainerFlags.HasLocals=32]="HasLocals",ContainerFlags[ContainerFlags.IsInterface=64]="IsInterface"}(ContainerFlags||(ContainerFlags={}));var binder=createBinder();ts.bindSourceFile=bindSourceFile}(ts||(ts={}));var ts;!function(ts){function getNodeId(node){return node.id||(node.id=nextNodeId,nextNodeId++),node.id}function getSymbolId(symbol){return symbol.id||(symbol.id=nextSymbolId,nextSymbolId++),symbol.id}function createTypeChecker(host,produceDiagnostics){function getEmitResolver(sourceFile,cancellationToken){return getDiagnostics(sourceFile,cancellationToken),emitResolver}function error(location,message,arg0,arg1,arg2){var diagnostic=location?ts.createDiagnosticForNode(location,message,arg0,arg1,arg2):ts.createCompilerDiagnostic(message,arg0,arg1,arg2);diagnostics.add(diagnostic)}function createSymbol(flags,name){return symbolCount++,new Symbol(flags,name)}function getExcludedSymbolFlags(flags){var result=0;return 2&flags&&(result|=107455),1&flags&&(result|=107454),4&flags&&(result|=0),8&flags&&(result|=900095),16&flags&&(result|=106927),32&flags&&(result|=899519),64&flags&&(result|=792968),256&flags&&(result|=899327),128&flags&&(result|=899967),512&flags&&(result|=106639),8192&flags&&(result|=99263),32768&flags&&(result|=41919),65536&flags&&(result|=74687),262144&flags&&(result|=530920),524288&flags&&(result|=793064),8388608&flags&&(result|=8388608),result}function recordMergedSymbol(target,source){source.mergeId||(source.mergeId=nextMergeId,nextMergeId++),mergedSymbols[source.mergeId]=target}function cloneSymbol(symbol){var result=createSymbol(33554432|symbol.flags,symbol.name);return result.declarations=symbol.declarations.slice(0),result.parent=symbol.parent,symbol.valueDeclaration&&(result.valueDeclaration=symbol.valueDeclaration),symbol.constEnumOnlyModule&&(result.constEnumOnlyModule=!0),symbol.members&&(result.members=ts.cloneMap(symbol.members)),symbol.exports&&(result.exports=ts.cloneMap(symbol.exports)),recordMergedSymbol(result,symbol),result}function mergeSymbol(target,source){if(target.flags&getExcludedSymbolFlags(source.flags)){var message_2=2&target.flags||2&source.flags?ts.Diagnostics.Cannot_redeclare_block_scoped_variable_0:ts.Diagnostics.Duplicate_identifier_0;ts.forEach(source.declarations,function(node){error(node.name?node.name:node,message_2,symbolToString(source))}),ts.forEach(target.declarations,function(node){error(node.name?node.name:node,message_2,symbolToString(source))})}else 512&source.flags&&512&target.flags&&target.constEnumOnlyModule&&!source.constEnumOnlyModule&&(target.constEnumOnlyModule=!1),target.flags|=source.flags,source.valueDeclaration&&(!target.valueDeclaration||225===target.valueDeclaration.kind&&225!==source.valueDeclaration.kind)&&(target.valueDeclaration=source.valueDeclaration),ts.forEach(source.declarations,function(node){target.declarations.push(node)}),source.members&&(target.members||(target.members=ts.createMap()),mergeSymbolTable(target.members,source.members)),source.exports&&(target.exports||(target.exports=ts.createMap()),mergeSymbolTable(target.exports,source.exports)),recordMergedSymbol(target,source)}function mergeSymbolTable(target,source){for(var id in source){var targetSymbol=target[id];targetSymbol?(33554432&targetSymbol.flags||(target[id]=targetSymbol=cloneSymbol(targetSymbol)),mergeSymbol(targetSymbol,source[id])):target[id]=source[id]}}function mergeModuleAugmentation(moduleName){var moduleAugmentation=moduleName.parent;if(moduleAugmentation.symbol.declarations[0]!==moduleAugmentation)return void ts.Debug.assert(moduleAugmentation.symbol.declarations.length>1);if(ts.isGlobalScopeAugmentation(moduleAugmentation))mergeSymbolTable(globals,moduleAugmentation.symbol.exports);else{var moduleNotFoundError=ts.isInAmbientContext(moduleName.parent.parent)?void 0:ts.Diagnostics.Invalid_module_name_in_augmentation_module_0_cannot_be_found,mainModule=resolveExternalModuleNameWorker(moduleName,moduleName,moduleNotFoundError);if(!mainModule)return;mainModule=resolveExternalModuleSymbol(mainModule),1920&mainModule.flags?(mainModule=33554432&mainModule.flags?mainModule:cloneSymbol(mainModule),mergeSymbol(mainModule,moduleAugmentation.symbol)):error(moduleName,ts.Diagnostics.Cannot_augment_module_0_because_it_resolves_to_a_non_module_entity,moduleName.text)}}function addToSymbolTable(target,source,message){function addDeclarationDiagnostic(id,message){return function(declaration){return diagnostics.add(ts.createDiagnosticForNode(declaration,message,id))}}for(var id in source)target[id]?ts.forEach(target[id].declarations,addDeclarationDiagnostic(id,message)):target[id]=source[id]}function getSymbolLinks(symbol){if(67108864&symbol.flags)return symbol;var id=getSymbolId(symbol);return symbolLinks[id]||(symbolLinks[id]={})}function getNodeLinks(node){var nodeId=getNodeId(node);return nodeLinks[nodeId]||(nodeLinks[nodeId]={flags:0})}function isGlobalSourceFile(node){return 256===node.kind&&!ts.isExternalOrCommonJsModule(node)}function getSymbol(symbols,name,meaning){if(meaning){var symbol=symbols[name];if(symbol){if(ts.Debug.assert(0===(16777216&symbol.flags),"Should never get an instantiated symbol here."),symbol.flags&meaning)return symbol;if(8388608&symbol.flags){var target=resolveAlias(symbol);if(target===unknownSymbol||target.flags&meaning)return symbol}}}}function getSymbolsOfParameterPropertyDeclaration(parameter,parameterName){var constructorDeclaration=parameter.parent,classDeclaration=parameter.parent.parent,parameterSymbol=getSymbol(constructorDeclaration.locals,parameterName,107455),propertySymbol=getSymbol(classDeclaration.symbol.members,parameterName,107455);return parameterSymbol&&propertySymbol?[parameterSymbol,propertySymbol]:void ts.Debug.fail("There should exist two symbols, one as property declaration and one as parameter declaration")}function isBlockScopedNameDeclaredBeforeUse(declaration,usage){function isImmediatelyUsedInInitializerOfBlockScopedVariable(declaration,usage){var container=ts.getEnclosingBlockScopeContainer(declaration);switch(declaration.parent.parent.kind){case 200:case 206:case 208:if(isSameScopeDescendentOf(usage,declaration,container))return!0}switch(declaration.parent.parent.kind){case 207:case 208:if(isSameScopeDescendentOf(usage,declaration.parent.parent.expression,container))return!0}return!1}function isUsedInFunctionOrNonStaticProperty(declaration,usage){for(var container=ts.getEnclosingBlockScopeContainer(declaration),current=usage;current;){if(current===container)return!1;if(ts.isFunctionLike(current))return!0;var initializerOfNonStaticProperty=current.parent&&145===current.parent.kind&&0===(32&current.parent.flags)&&current.parent.initializer===current;if(initializerOfNonStaticProperty)return!0;current=current.parent}return!1}var declarationFile=ts.getSourceFileOfNode(declaration),useFile=ts.getSourceFileOfNode(usage);if(declarationFile!==useFile){if(modulekind&&(declarationFile.externalModuleIndicator||useFile.externalModuleIndicator)||!compilerOptions.outFile&&!compilerOptions.out)return!0;var sourceFiles=host.getSourceFiles();return ts.indexOf(sourceFiles,declarationFile)<=ts.indexOf(sourceFiles,useFile)}return declaration.pos<=usage.pos?218!==declaration.kind||!isImmediatelyUsedInInitializerOfBlockScopedVariable(declaration,usage):isUsedInFunctionOrNonStaticProperty(declaration,usage)}function resolveName(location,name,meaning,nameNotFoundMessage,nameArg){var result,lastLocation,propertyWithInvalidInitializer,grandparent,errorLocation=location,isInExternalModule=!1;loop:for(;location;){if(location.locals&&!isGlobalSourceFile(location)&&(result=getSymbol(location.locals,name,meaning))){var useResult=!0;if(ts.isFunctionLike(location)&&lastLocation&&lastLocation!==location.body&&(meaning&result.flags&793064&&273!==lastLocation.kind&&(useResult=262144&result.flags?lastLocation===location.type||142===lastLocation.kind||141===lastLocation.kind:!1),107455&meaning&&1&result.flags&&(useResult=142===lastLocation.kind||lastLocation===location.type&&142===result.valueDeclaration.kind)),useResult)break loop;result=void 0}switch(location.kind){case 256:if(!ts.isExternalOrCommonJsModule(location))break;isInExternalModule=!0;case 225:var moduleExports=getSymbolOfNode(location).exports;if(256===location.kind||ts.isAmbientModule(location)){if(result=moduleExports.default){var localSymbol=ts.getLocalSymbolForExportDefault(result);if(localSymbol&&result.flags&meaning&&localSymbol.name===name)break loop;result=void 0}if(moduleExports[name]&&8388608===moduleExports[name].flags&&ts.getDeclarationOfKind(moduleExports[name],238))break}if(result=getSymbol(moduleExports,name,8914931&meaning))break loop;break;case 224:if(result=getSymbol(getSymbolOfNode(location).exports,name,8&meaning))break loop;break;case 145:case 144:if(ts.isClassLike(location.parent)&&!(32&location.flags)){var ctor=findConstructorDeclaration(location.parent);ctor&&ctor.locals&&getSymbol(ctor.locals,name,107455&meaning)&&(propertyWithInvalidInitializer=location)}break;case 221:case 192:case 222:if(result=getSymbol(getSymbolOfNode(location).members,name,793064&meaning)){if(lastLocation&&32&lastLocation.flags)return void error(errorLocation,ts.Diagnostics.Static_members_cannot_reference_class_type_parameters);break loop}if(192===location.kind&&32&meaning){var className=location.name;if(className&&name===className.text){result=location.symbol;break loop}}break;case 140:if(grandparent=location.parent.parent,(ts.isClassLike(grandparent)||222===grandparent.kind)&&(result=getSymbol(getSymbolOfNode(grandparent).members,name,793064&meaning)))return void error(errorLocation,ts.Diagnostics.A_computed_property_name_cannot_reference_a_type_parameter_from_its_containing_type);break;case 147:case 146:case 148:case 149:case 150:case 220:case 180:if(3&meaning&&"arguments"===name){result=argumentsSymbol;break loop}break;case 179:if(3&meaning&&"arguments"===name){result=argumentsSymbol;break loop}if(16&meaning){var functionName=location.name;if(functionName&&name===functionName.text){result=location.symbol;break loop}}break;case 143:location.parent&&142===location.parent.kind&&(location=location.parent),location.parent&&ts.isClassElement(location.parent)&&(location=location.parent)}lastLocation=location,location=location.parent}if(result&&nameNotFoundMessage&&noUnusedIdentifiers&&(result.isReferenced=!0),result||(result=getSymbol(globals,name,meaning)),!result)return void(nameNotFoundMessage&&(errorLocation&&(checkAndReportErrorForMissingPrefix(errorLocation,name,nameArg)||checkAndReportErrorForExtendingInterface(errorLocation))||error(errorLocation,nameNotFoundMessage,"string"==typeof nameArg?nameArg:ts.declarationNameToString(nameArg))));if(nameNotFoundMessage){if(propertyWithInvalidInitializer){var propertyName=propertyWithInvalidInitializer.name;return void error(errorLocation,ts.Diagnostics.Initializer_of_instance_member_variable_0_cannot_reference_identifier_1_declared_in_the_constructor,ts.declarationNameToString(propertyName),"string"==typeof nameArg?nameArg:ts.declarationNameToString(nameArg))}if(2&meaning){var exportOrLocalSymbol=getExportSymbolOfValueSymbolIfExported(result);2&exportOrLocalSymbol.flags&&checkResolvedBlockScopedVariable(exportOrLocalSymbol,errorLocation)}if(result&&isInExternalModule&&107455===(107455&meaning)){var decls=result.declarations;decls&&1===decls.length&&228===decls[0].kind&&error(errorLocation,ts.Diagnostics.Identifier_0_must_be_imported_from_a_module,name)}}return result}function checkAndReportErrorForMissingPrefix(errorLocation,name,nameArg){if(69===errorLocation.kind&&isTypeReferenceIdentifier(errorLocation)||isInTypeQuery(errorLocation))return!1;for(var container=ts.getThisContainer(errorLocation,!0),location=container;location;){if(ts.isClassLike(location.parent)){var classSymbol=getSymbolOfNode(location.parent);if(!classSymbol)break;var constructorType=getTypeOfSymbol(classSymbol);if(getPropertyOfType(constructorType,name))return error(errorLocation,ts.Diagnostics.Cannot_find_name_0_Did_you_mean_the_static_member_1_0,"string"==typeof nameArg?nameArg:ts.declarationNameToString(nameArg),symbolToString(classSymbol)),!0;if(location===container&&!(32&location.flags)){var instanceType=getDeclaredTypeOfSymbol(classSymbol).thisType;if(getPropertyOfType(instanceType,name))return error(errorLocation,ts.Diagnostics.Cannot_find_name_0_Did_you_mean_the_instance_member_this_0,"string"==typeof nameArg?nameArg:ts.declarationNameToString(nameArg)),!0}}location=location.parent}return!1}function checkAndReportErrorForExtendingInterface(errorLocation){var expression=getEntityNameForExtendingInterface(errorLocation),isError=!(!expression||!resolveEntityName(expression,64,!0));return isError&&error(errorLocation,ts.Diagnostics.Cannot_extend_an_interface_0_Did_you_mean_implements,ts.getTextOfNode(expression)),isError}function getEntityNameForExtendingInterface(node){switch(node.kind){case 69:case 172:return node.parent?getEntityNameForExtendingInterface(node.parent):void 0;case 194:return ts.Debug.assert(ts.isEntityNameExpression(node.expression)),node.expression;default:return void 0}}function checkResolvedBlockScopedVariable(result,errorLocation){ts.Debug.assert(0!==(2&result.flags));var declaration=ts.forEach(result.declarations,function(d){return ts.isBlockOrCatchScoped(d)?d:void 0});ts.Debug.assert(void 0!==declaration,"Block-scoped variable declaration is undefined"),ts.isInAmbientContext(declaration)||isBlockScopedNameDeclaredBeforeUse(ts.getAncestor(declaration,218),errorLocation)||error(errorLocation,ts.Diagnostics.Block_scoped_variable_0_used_before_its_declaration,ts.declarationNameToString(declaration.name))}function isSameScopeDescendentOf(initial,parent,stopAt){if(!parent)return!1;for(var current=initial;current&&current!==stopAt&&!ts.isFunctionLike(current);current=current.parent)if(current===parent)return!0;return!1}function getAnyImportSyntax(node){if(ts.isAliasSymbolDeclaration(node)){if(229===node.kind)return node;for(;node&&230!==node.kind;)node=node.parent;return node}}function getDeclarationOfAliasSymbol(symbol){return ts.forEach(symbol.declarations,function(d){return ts.isAliasSymbolDeclaration(d)?d:void 0})}function getTargetOfImportEqualsDeclaration(node){return 240===node.moduleReference.kind?resolveExternalModuleSymbol(resolveExternalModuleName(node,ts.getExternalModuleImportEqualsDeclarationExpression(node))):getSymbolOfPartOfRightHandSideOfImportEquals(node.moduleReference,node)}function getTargetOfImportClause(node){var moduleSymbol=resolveExternalModuleName(node,node.parent.moduleSpecifier);if(moduleSymbol){var exportDefaultSymbol=ts.isShorthandAmbientModuleSymbol(moduleSymbol)?moduleSymbol:moduleSymbol.exports["export="]?getPropertyOfType(getTypeOfSymbol(moduleSymbol.exports["export="]),"default"):resolveSymbol(moduleSymbol.exports.default);if(exportDefaultSymbol||allowSyntheticDefaultImports){if(!exportDefaultSymbol&&allowSyntheticDefaultImports)return resolveExternalModuleSymbol(moduleSymbol)||resolveSymbol(moduleSymbol)}else error(node.name,ts.Diagnostics.Module_0_has_no_default_export,symbolToString(moduleSymbol));return exportDefaultSymbol}}function getTargetOfNamespaceImport(node){var moduleSpecifier=node.parent.parent.moduleSpecifier;return resolveESModuleSymbol(resolveExternalModuleName(node,moduleSpecifier),moduleSpecifier)}function combineValueAndTypeSymbols(valueSymbol,typeSymbol){if(794600&valueSymbol.flags)return valueSymbol;var result=createSymbol(valueSymbol.flags|typeSymbol.flags,valueSymbol.name);return result.declarations=ts.concatenate(valueSymbol.declarations,typeSymbol.declarations),result.parent=valueSymbol.parent||typeSymbol.parent,valueSymbol.valueDeclaration&&(result.valueDeclaration=valueSymbol.valueDeclaration),typeSymbol.members&&(result.members=typeSymbol.members),valueSymbol.exports&&(result.exports=valueSymbol.exports),result}function getExportOfModule(symbol,name){if(1536&symbol.flags){var exportedSymbol=getExportsOfSymbol(symbol)[name];if(exportedSymbol)return resolveSymbol(exportedSymbol)}}function getPropertyOfVariable(symbol,name){if(3&symbol.flags){var typeAnnotation=symbol.valueDeclaration.type;if(typeAnnotation)return resolveSymbol(getPropertyOfType(getTypeFromTypeNode(typeAnnotation),name))}}function getExternalModuleMember(node,specifier){var moduleSymbol=resolveExternalModuleName(node,node.moduleSpecifier),targetSymbol=resolveESModuleSymbol(moduleSymbol,node.moduleSpecifier);if(targetSymbol){var name_10=specifier.propertyName||specifier.name;if(name_10.text){if(ts.isShorthandAmbientModuleSymbol(moduleSymbol))return moduleSymbol;var symbolFromVariable=void 0;symbolFromVariable=moduleSymbol&&moduleSymbol.exports&&moduleSymbol.exports["export="]?getPropertyOfType(getTypeOfSymbol(targetSymbol),name_10.text):getPropertyOfVariable(targetSymbol,name_10.text),symbolFromVariable=resolveSymbol(symbolFromVariable);var symbolFromModule=getExportOfModule(targetSymbol,name_10.text);!symbolFromModule&&allowSyntheticDefaultImports&&"default"===name_10.text&&(symbolFromModule=resolveExternalModuleSymbol(moduleSymbol)||resolveSymbol(moduleSymbol));var symbol=symbolFromModule&&symbolFromVariable?combineValueAndTypeSymbols(symbolFromVariable,symbolFromModule):symbolFromModule||symbolFromVariable;return symbol||error(name_10,ts.Diagnostics.Module_0_has_no_exported_member_1,getFullyQualifiedName(moduleSymbol),ts.declarationNameToString(name_10)),symbol}}}function getTargetOfImportSpecifier(node){return getExternalModuleMember(node.parent.parent.parent,node)}function getTargetOfNamespaceExportDeclaration(node){return resolveExternalModuleSymbol(node.parent.symbol)}function getTargetOfExportSpecifier(node){return node.parent.parent.moduleSpecifier?getExternalModuleMember(node.parent.parent,node):resolveEntityName(node.propertyName||node.name,901119)}function getTargetOfExportAssignment(node){return resolveEntityName(node.expression,901119)}function getTargetOfAliasDeclaration(node){switch(node.kind){case 229:return getTargetOfImportEqualsDeclaration(node);case 231:return getTargetOfImportClause(node);case 232:return getTargetOfNamespaceImport(node);case 234:return getTargetOfImportSpecifier(node);case 238:return getTargetOfExportSpecifier(node);case 235:return getTargetOfExportAssignment(node);case 228:return getTargetOfNamespaceExportDeclaration(node)}}function resolveSymbol(symbol){return symbol&&8388608&symbol.flags&&!(901119&symbol.flags)?resolveAlias(symbol):symbol}function resolveAlias(symbol){ts.Debug.assert(0!==(8388608&symbol.flags),"Should only get Alias here.");var links=getSymbolLinks(symbol);if(links.target)links.target===resolvingSymbol&&(links.target=unknownSymbol);else{links.target=resolvingSymbol;var node=getDeclarationOfAliasSymbol(symbol);ts.Debug.assert(!!node);var target=getTargetOfAliasDeclaration(node);links.target===resolvingSymbol?links.target=target||unknownSymbol:error(node,ts.Diagnostics.Circular_definition_of_import_alias_0,symbolToString(symbol))}return links.target}function markExportAsReferenced(node){var symbol=getSymbolOfNode(node),target=resolveAlias(symbol);if(target){var markAlias=target===unknownSymbol||107455&target.flags&&!isConstEnumOrConstEnumOnlyModule(target);markAlias&&markAliasSymbolAsReferenced(symbol)}}function markAliasSymbolAsReferenced(symbol){var links=getSymbolLinks(symbol);if(!links.referenced){links.referenced=!0;var node=getDeclarationOfAliasSymbol(symbol);ts.Debug.assert(!!node),235===node.kind?checkExpressionCached(node.expression):238===node.kind?checkExpressionCached(node.propertyName||node.name):ts.isInternalModuleImportEqualsDeclaration(node)&&checkExpressionCached(node.moduleReference)}}function getSymbolOfPartOfRightHandSideOfImportEquals(entityName,importDeclaration,dontResolveAlias){return 69===entityName.kind&&ts.isRightSideOfQualifiedNameOrPropertyAccess(entityName)&&(entityName=entityName.parent),69===entityName.kind||139===entityName.parent.kind?resolveEntityName(entityName,1920,!1,dontResolveAlias):(ts.Debug.assert(229===entityName.parent.kind),resolveEntityName(entityName,901119,!1,dontResolveAlias))}function getFullyQualifiedName(symbol){return symbol.parent?getFullyQualifiedName(symbol.parent)+"."+symbolToString(symbol):symbolToString(symbol)}function resolveEntityName(name,meaning,ignoreErrors,dontResolveAlias){if(ts.nodeIsMissing(name))return void 0;var symbol;if(69===name.kind){var message=1920===meaning?ts.Diagnostics.Cannot_find_namespace_0:ts.Diagnostics.Cannot_find_name_0;if(symbol=resolveName(name,name.text,meaning,ignoreErrors?void 0:message,name),!symbol)return void 0}else if(139===name.kind||172===name.kind){var left=139===name.kind?name.left:name.expression,right=139===name.kind?name.right:name.name,namespace=resolveEntityName(left,1920,ignoreErrors);if(!namespace||ts.nodeIsMissing(right))return void 0;if(namespace===unknownSymbol)return namespace;if(symbol=getSymbol(getExportsOfSymbol(namespace),right.text,meaning),!symbol)return void(ignoreErrors||error(right,ts.Diagnostics.Module_0_has_no_exported_member_1,getFullyQualifiedName(namespace),ts.declarationNameToString(right)))}else ts.Debug.fail("Unknown entity name kind.");return ts.Debug.assert(0===(16777216&symbol.flags),"Should never get an instantiated symbol here."),symbol.flags&meaning||dontResolveAlias?symbol:resolveAlias(symbol)}function resolveExternalModuleName(location,moduleReferenceExpression){return resolveExternalModuleNameWorker(location,moduleReferenceExpression,ts.Diagnostics.Cannot_find_module_0);
}function resolveExternalModuleNameWorker(location,moduleReferenceExpression,moduleNotFoundError){if(9===moduleReferenceExpression.kind){var moduleReferenceLiteral=moduleReferenceExpression,moduleName=ts.escapeIdentifier(moduleReferenceLiteral.text);if(void 0!==moduleName){var isRelative=ts.isExternalModuleNameRelative(moduleName);if(!isRelative){var symbol=getSymbol(globals,'"'+moduleName+'"',512);if(symbol)return getMergedSymbol(symbol)}var resolvedModule=ts.getResolvedModule(ts.getSourceFileOfNode(location),moduleReferenceLiteral.text),sourceFile=resolvedModule&&host.getSourceFile(resolvedModule.resolvedFileName);if(sourceFile)return sourceFile.symbol?getMergedSymbol(sourceFile.symbol):void(moduleNotFoundError&&error(moduleReferenceLiteral,ts.Diagnostics.File_0_is_not_a_module,sourceFile.fileName));if(patternAmbientModules){var pattern=ts.findBestPatternMatch(patternAmbientModules,function(_){return _.pattern},moduleName);if(pattern)return getMergedSymbol(pattern.symbol)}if(moduleNotFoundError){var tsExtension=ts.tryExtractTypeScriptExtension(moduleName);if(tsExtension){var diag=ts.Diagnostics.An_import_path_cannot_end_with_a_0_extension_Consider_importing_1_instead;error(moduleReferenceLiteral,diag,tsExtension,ts.removeExtension(moduleName,tsExtension))}else error(moduleReferenceLiteral,moduleNotFoundError,moduleName)}return void 0}}}function resolveExternalModuleSymbol(moduleSymbol){return moduleSymbol&&getMergedSymbol(resolveSymbol(moduleSymbol.exports["export="]))||moduleSymbol}function resolveESModuleSymbol(moduleSymbol,moduleReferenceExpression){var symbol=resolveExternalModuleSymbol(moduleSymbol);return!symbol||1539&symbol.flags||(error(moduleReferenceExpression,ts.Diagnostics.Module_0_resolves_to_a_non_module_entity_and_cannot_be_imported_using_this_construct,symbolToString(moduleSymbol)),symbol=void 0),symbol}function hasExportAssignmentSymbol(moduleSymbol){return void 0!==moduleSymbol.exports["export="]}function getExportsOfModuleAsArray(moduleSymbol){return symbolsToArray(getExportsOfModule(moduleSymbol))}function getExportsOfSymbol(symbol){return 1536&symbol.flags?getExportsOfModule(symbol):symbol.exports||emptySymbols}function getExportsOfModule(moduleSymbol){var links=getSymbolLinks(moduleSymbol);return links.resolvedExports||(links.resolvedExports=getExportsForModule(moduleSymbol))}function extendExportSymbols(target,source,lookupTable,exportNode){for(var id in source)"default"===id||target[id]?lookupTable&&exportNode&&"default"!==id&&target[id]&&resolveSymbol(target[id])!==resolveSymbol(source[id])&&(lookupTable[id].exportsWithDuplicate?lookupTable[id].exportsWithDuplicate.push(exportNode):lookupTable[id].exportsWithDuplicate=[exportNode]):(target[id]=source[id],lookupTable&&exportNode&&(lookupTable[id]={specifierText:ts.getTextOfNode(exportNode.moduleSpecifier)}))}function getExportsForModule(moduleSymbol){function visit(symbol){if(symbol&&1952&symbol.flags&&!ts.contains(visitedSymbols,symbol)){visitedSymbols.push(symbol);var symbols=ts.cloneMap(symbol.exports),exportStars=symbol.exports.__export;if(exportStars){for(var nestedSymbols=ts.createMap(),lookupTable=ts.createMap(),_i=0,_a=exportStars.declarations;_i<_a.length;_i++){var node=_a[_i],resolvedModule=resolveExternalModuleName(node,node.moduleSpecifier),exportedSymbols=visit(resolvedModule);extendExportSymbols(nestedSymbols,exportedSymbols,lookupTable,node)}for(var id in lookupTable){var exportsWithDuplicate=lookupTable[id].exportsWithDuplicate;if("export="!==id&&exportsWithDuplicate&&exportsWithDuplicate.length&&!symbols[id])for(var _b=0,exportsWithDuplicate_1=exportsWithDuplicate;_b<exportsWithDuplicate_1.length;_b++){var node=exportsWithDuplicate_1[_b];diagnostics.add(ts.createDiagnosticForNode(node,ts.Diagnostics.Module_0_has_already_exported_a_member_named_1_Consider_explicitly_re_exporting_to_resolve_the_ambiguity,lookupTable[id].specifierText,id))}}extendExportSymbols(symbols,nestedSymbols)}return symbols}}var visitedSymbols=[];return visit(moduleSymbol)||moduleSymbol.exports}function getMergedSymbol(symbol){var merged;return symbol&&symbol.mergeId&&(merged=mergedSymbols[symbol.mergeId])?merged:symbol}function getSymbolOfNode(node){return getMergedSymbol(node.symbol)}function getParentOfSymbol(symbol){return getMergedSymbol(symbol.parent)}function getExportSymbolOfValueSymbolIfExported(symbol){return symbol&&0!==(1048576&symbol.flags)?getMergedSymbol(symbol.exportSymbol):symbol}function symbolIsValue(symbol){return 16777216&symbol.flags?symbolIsValue(getSymbolLinks(symbol).target):107455&symbol.flags?!0:8388608&symbol.flags?0!==(107455&resolveAlias(symbol).flags):!1}function findConstructorDeclaration(node){for(var members=node.members,_i=0,members_1=members;_i<members_1.length;_i++){var member=members_1[_i];if(148===member.kind&&ts.nodeIsPresent(member.body))return member}}function createType(flags){var result=new Type(checker,flags);return typeCount++,result.id=typeCount,result}function createIntrinsicType(kind,intrinsicName){var type=createType(kind);return type.intrinsicName=intrinsicName,type}function createBooleanType(trueFalseTypes){var type=getUnionType(trueFalseTypes);return type.flags|=8,type.intrinsicName="boolean",type}function createObjectType(kind,symbol){var type=createType(kind);return type.symbol=symbol,type}function isReservedMemberName(name){return 95===name.charCodeAt(0)&&95===name.charCodeAt(1)&&95!==name.charCodeAt(2)&&64!==name.charCodeAt(2)}function getNamedMembers(members){var result;for(var id in members)if(!isReservedMemberName(id)){result||(result=[]);var symbol=members[id];symbolIsValue(symbol)&&result.push(symbol)}return result||emptyArray}function setObjectTypeMembers(type,members,callSignatures,constructSignatures,stringIndexInfo,numberIndexInfo){return type.members=members,type.properties=getNamedMembers(members),type.callSignatures=callSignatures,type.constructSignatures=constructSignatures,stringIndexInfo&&(type.stringIndexInfo=stringIndexInfo),numberIndexInfo&&(type.numberIndexInfo=numberIndexInfo),type}function createAnonymousType(symbol,members,callSignatures,constructSignatures,stringIndexInfo,numberIndexInfo){return setObjectTypeMembers(createObjectType(2097152,symbol),members,callSignatures,constructSignatures,stringIndexInfo,numberIndexInfo)}function forEachSymbolTableInScope(enclosingDeclaration,callback){for(var result,location_1=enclosingDeclaration;location_1;location_1=location_1.parent){if(location_1.locals&&!isGlobalSourceFile(location_1)&&(result=callback(location_1.locals)))return result;switch(location_1.kind){case 256:if(!ts.isExternalOrCommonJsModule(location_1))break;case 225:if(result=callback(getSymbolOfNode(location_1).exports))return result}}return callback(globals)}function getQualifiedLeftMeaning(rightMeaning){return 107455===rightMeaning?107455:1920}function getAccessibleSymbolChain(symbol,enclosingDeclaration,meaning,useOnlyExternalAliasing){function getAccessibleSymbolChainFromSymbolTable(symbols){function canQualifySymbol(symbolFromSymbolTable,meaning){if(!needsQualification(symbolFromSymbolTable,enclosingDeclaration,meaning))return!0;var accessibleParent=getAccessibleSymbolChain(symbolFromSymbolTable.parent,enclosingDeclaration,getQualifiedLeftMeaning(meaning),useOnlyExternalAliasing);return!!accessibleParent}function isAccessible(symbolFromSymbolTable,resolvedAliasSymbol){return symbol===(resolvedAliasSymbol||symbolFromSymbolTable)?!ts.forEach(symbolFromSymbolTable.declarations,hasExternalModuleSymbol)&&canQualifySymbol(symbolFromSymbolTable,meaning):void 0}return isAccessible(symbols[symbol.name])?[symbol]:ts.forEachProperty(symbols,function(symbolFromSymbolTable){if(8388608&symbolFromSymbolTable.flags&&"export="!==symbolFromSymbolTable.name&&!ts.getDeclarationOfKind(symbolFromSymbolTable,238)&&(!useOnlyExternalAliasing||ts.forEach(symbolFromSymbolTable.declarations,ts.isExternalModuleImportEqualsDeclaration))){var resolvedImportedSymbol=resolveAlias(symbolFromSymbolTable);if(isAccessible(symbolFromSymbolTable,resolveAlias(symbolFromSymbolTable)))return[symbolFromSymbolTable];var accessibleSymbolsFromExports=resolvedImportedSymbol.exports?getAccessibleSymbolChainFromSymbolTable(resolvedImportedSymbol.exports):void 0;if(accessibleSymbolsFromExports&&canQualifySymbol(symbolFromSymbolTable,getQualifiedLeftMeaning(meaning)))return[symbolFromSymbolTable].concat(accessibleSymbolsFromExports)}})}return symbol&&!isPropertyOrMethodDeclarationSymbol(symbol)?forEachSymbolTableInScope(enclosingDeclaration,getAccessibleSymbolChainFromSymbolTable):void 0}function needsQualification(symbol,enclosingDeclaration,meaning){var qualify=!1;return forEachSymbolTableInScope(enclosingDeclaration,function(symbolTable){var symbolFromSymbolTable=symbolTable[symbol.name];return symbolFromSymbolTable?symbolFromSymbolTable===symbol?!0:(symbolFromSymbolTable=8388608&symbolFromSymbolTable.flags&&!ts.getDeclarationOfKind(symbolFromSymbolTable,238)?resolveAlias(symbolFromSymbolTable):symbolFromSymbolTable,symbolFromSymbolTable.flags&meaning?(qualify=!0,!0):!1):!1}),qualify}function isPropertyOrMethodDeclarationSymbol(symbol){if(symbol.declarations&&symbol.declarations.length){for(var _i=0,_a=symbol.declarations;_i<_a.length;_i++){var declaration=_a[_i];switch(declaration.kind){case 145:case 147:case 149:case 150:continue;default:return!1}}return!0}return!1}function isSymbolAccessible(symbol,enclosingDeclaration,meaning,shouldComputeAliasesToMakeVisible){function getExternalModuleContainer(declaration){for(;declaration;declaration=declaration.parent)if(hasExternalModuleSymbol(declaration))return getSymbolOfNode(declaration)}if(symbol&&enclosingDeclaration&&!(262144&symbol.flags)){for(var initialSymbol=symbol,meaningToLook=meaning;symbol;){var accessibleSymbolChain=getAccessibleSymbolChain(symbol,enclosingDeclaration,meaningToLook,!1);if(accessibleSymbolChain){var hasAccessibleDeclarations=hasVisibleDeclarations(accessibleSymbolChain[0],shouldComputeAliasesToMakeVisible);return hasAccessibleDeclarations?hasAccessibleDeclarations:{accessibility:1,errorSymbolName:symbolToString(initialSymbol,enclosingDeclaration,meaning),errorModuleName:symbol!==initialSymbol?symbolToString(symbol,enclosingDeclaration,1920):void 0}}meaningToLook=getQualifiedLeftMeaning(meaning),symbol=getParentOfSymbol(symbol)}var symbolExternalModule=ts.forEach(initialSymbol.declarations,getExternalModuleContainer);if(symbolExternalModule){var enclosingExternalModule=getExternalModuleContainer(enclosingDeclaration);if(symbolExternalModule!==enclosingExternalModule)return{accessibility:2,errorSymbolName:symbolToString(initialSymbol,enclosingDeclaration,meaning),errorModuleName:symbolToString(symbolExternalModule)}}return{accessibility:1,errorSymbolName:symbolToString(initialSymbol,enclosingDeclaration,meaning)}}return{accessibility:0}}function hasExternalModuleSymbol(declaration){return ts.isAmbientModule(declaration)||256===declaration.kind&&ts.isExternalOrCommonJsModule(declaration)}function hasVisibleDeclarations(symbol,shouldComputeAliasToMakeVisible){function getIsDeclarationVisible(declaration){if(!isDeclarationVisible(declaration)){var anyImportSyntax=getAnyImportSyntax(declaration);return!anyImportSyntax||1&anyImportSyntax.flags||!isDeclarationVisible(anyImportSyntax.parent)?!1:(shouldComputeAliasToMakeVisible&&(getNodeLinks(declaration).isVisible=!0,aliasesToMakeVisible?ts.contains(aliasesToMakeVisible,anyImportSyntax)||aliasesToMakeVisible.push(anyImportSyntax):aliasesToMakeVisible=[anyImportSyntax]),!0)}return!0}var aliasesToMakeVisible;return ts.forEach(symbol.declarations,function(declaration){return!getIsDeclarationVisible(declaration)})?void 0:{accessibility:0,aliasesToMakeVisible:aliasesToMakeVisible}}function isEntityNameVisible(entityName,enclosingDeclaration){var meaning;meaning=158===entityName.parent.kind||ts.isExpressionWithTypeArgumentsInClassExtendsClause(entityName.parent)?1156031:139===entityName.kind||172===entityName.kind||229===entityName.parent.kind?1920:793064;var firstIdentifier=getFirstIdentifier(entityName),symbol=resolveName(enclosingDeclaration,firstIdentifier.text,meaning,void 0,void 0);return symbol&&hasVisibleDeclarations(symbol,!0)||{accessibility:1,errorSymbolName:ts.getTextOfNode(firstIdentifier),errorNode:firstIdentifier}}function writeKeyword(writer,kind){writer.writeKeyword(ts.tokenToString(kind))}function writePunctuation(writer,kind){writer.writePunctuation(ts.tokenToString(kind))}function writeSpace(writer){writer.writeSpace(" ")}function symbolToString(symbol,enclosingDeclaration,meaning){var writer=ts.getSingleLineStringWriter();getSymbolDisplayBuilder().buildSymbolDisplay(symbol,writer,enclosingDeclaration,meaning);var result=writer.string();return ts.releaseStringWriter(writer),result}function signatureToString(signature,enclosingDeclaration,flags,kind){var writer=ts.getSingleLineStringWriter();getSymbolDisplayBuilder().buildSignatureDisplay(signature,writer,enclosingDeclaration,flags,kind);var result=writer.string();return ts.releaseStringWriter(writer),result}function typeToString(type,enclosingDeclaration,flags){var writer=ts.getSingleLineStringWriter();getSymbolDisplayBuilder().buildTypeDisplay(type,writer,enclosingDeclaration,flags);var result=writer.string();ts.releaseStringWriter(writer);var maxLength=compilerOptions.noErrorTruncation||4&flags?void 0:100;return maxLength&&result.length>=maxLength&&(result=result.substr(0,maxLength-"...".length)+"..."),result}function typePredicateToString(typePredicate,enclosingDeclaration,flags){var writer=ts.getSingleLineStringWriter();getSymbolDisplayBuilder().buildTypePredicateDisplay(typePredicate,writer,enclosingDeclaration,flags);var result=writer.string();return ts.releaseStringWriter(writer),result}function formatUnionTypes(types){for(var result=[],flags=0,i=0;i<types.length;i++){var t=types[i];if(flags|=t.flags,!(6144&t.flags)){if(384&t.flags){var baseType=128&t.flags?booleanType:t.baseType,count=baseType.types.length;if(i+count<=types.length&&types[i+count-1]===baseType.types[count-1]){result.push(baseType),i+=count-1;continue}}result.push(t)}}return 4096&flags&&result.push(nullType),2048&flags&&result.push(undefinedType),result||types}function visibilityToString(flags){return 8===flags?"private":16===flags?"protected":"public"}function getTypeAliasForTypeLiteral(type){if(type.symbol&&2048&type.symbol.flags){for(var node=type.symbol.declarations[0].parent;164===node.kind;)node=node.parent;if(223===node.kind)return getSymbolOfNode(node)}return void 0}function isTopLevelInExternalModuleAugmentation(node){return node&&node.parent&&226===node.parent.kind&&ts.isExternalModuleAugmentation(node.parent.parent)}function getSymbolDisplayBuilder(){function getNameOfSymbol(symbol){if(symbol.declarations&&symbol.declarations.length){var declaration=symbol.declarations[0];if(declaration.name)return ts.declarationNameToString(declaration.name);switch(declaration.kind){case 192:return"(Anonymous class)";case 179:case 180:return"(Anonymous function)"}}return symbol.name}function appendSymbolNameOnly(symbol,writer){writer.writeSymbol(getNameOfSymbol(symbol),symbol)}function appendPropertyOrElementAccessForSymbol(symbol,writer){var symbolName=getNameOfSymbol(symbol),firstChar=symbolName.charCodeAt(0),needsElementAccess=!ts.isIdentifierStart(firstChar,languageVersion);needsElementAccess?(writePunctuation(writer,19),ts.isSingleOrDoubleQuote(firstChar)?writer.writeStringLiteral(symbolName):writer.writeSymbol(symbolName,symbol),writePunctuation(writer,20)):(writePunctuation(writer,21),writer.writeSymbol(symbolName,symbol))}function buildSymbolDisplay(symbol,writer,enclosingDeclaration,meaning,flags,typeFlags){function appendParentTypeArgumentsAndSymbolName(symbol){parentSymbol?(1&flags&&(16777216&symbol.flags?buildDisplayForTypeArgumentsAndDelimiters(getTypeParametersOfClassOrInterface(parentSymbol),symbol.mapper,writer,enclosingDeclaration):buildTypeParameterDisplayFromSymbol(parentSymbol,writer,enclosingDeclaration)),appendPropertyOrElementAccessForSymbol(symbol,writer)):appendSymbolNameOnly(symbol,writer),parentSymbol=symbol}function walkSymbol(symbol,meaning){if(symbol){var accessibleSymbolChain=getAccessibleSymbolChain(symbol,enclosingDeclaration,meaning,!!(2&flags));if((!accessibleSymbolChain||needsQualification(accessibleSymbolChain[0],enclosingDeclaration,1===accessibleSymbolChain.length?meaning:getQualifiedLeftMeaning(meaning)))&&walkSymbol(getParentOfSymbol(accessibleSymbolChain?accessibleSymbolChain[0]:symbol),getQualifiedLeftMeaning(meaning)),accessibleSymbolChain)for(var _i=0,accessibleSymbolChain_1=accessibleSymbolChain;_i<accessibleSymbolChain_1.length;_i++){var accessibleSymbol=accessibleSymbolChain_1[_i];appendParentTypeArgumentsAndSymbolName(accessibleSymbol)}else{if(!parentSymbol&&ts.forEach(symbol.declarations,hasExternalModuleSymbol))return;if(2048&symbol.flags||4096&symbol.flags)return;appendParentTypeArgumentsAndSymbolName(symbol)}}}var parentSymbol;writer.trackSymbol(symbol,enclosingDeclaration,meaning);var isTypeParameter=262144&symbol.flags,typeFormatFlag=128&typeFlags;return isTypeParameter||!enclosingDeclaration&&!typeFormatFlag?appendParentTypeArgumentsAndSymbolName(symbol):void walkSymbol(symbol,meaning)}function buildTypeDisplay(type,writer,enclosingDeclaration,globalFlags,symbolStack){function writeType(type,flags){var nextFlags=-513&flags;if(16015&type.flags)writer.writeKeyword(16&globalFlags||!isTypeAny(type)?type.intrinsicName:"any");else if(268435456&type.flags)inObjectTypeLiteral&&writer.reportInaccessibleThisError(),writer.writeKeyword("this");else if(131072&type.flags)writeTypeReference(type,nextFlags);else if(256&type.flags)buildSymbolDisplay(getParentOfSymbol(type.symbol),writer,enclosingDeclaration,793064,0,nextFlags),writePunctuation(writer,21),appendSymbolNameOnly(type.symbol,writer);else if(114704&type.flags)buildSymbolDisplay(type.symbol,writer,enclosingDeclaration,793064,0,nextFlags);else if(512&flags||!(2097152&type.flags&&!type.target||1572864&type.flags)||!type.aliasSymbol||0!==isSymbolAccessible(type.aliasSymbol,enclosingDeclaration,793064,!1).accessibility)1572864&type.flags?writeUnionOrIntersectionType(type,nextFlags):2097152&type.flags?writeAnonymousType(type,nextFlags):32&type.flags?writer.writeStringLiteral('"'+ts.escapeString(type.text)+'"'):64&type.flags?writer.writeStringLiteral(type.text):(writePunctuation(writer,15),writeSpace(writer),writePunctuation(writer,22),writeSpace(writer),writePunctuation(writer,16));else{var typeArguments=type.aliasTypeArguments;writeSymbolTypeReference(type.aliasSymbol,typeArguments,0,typeArguments?typeArguments.length:0,nextFlags)}}function writeTypeList(types,delimiter){for(var i=0;i<types.length;i++)i>0&&(24!==delimiter&&writeSpace(writer),writePunctuation(writer,delimiter),writeSpace(writer)),writeType(types[i],24===delimiter?0:64)}function writeSymbolTypeReference(symbol,typeArguments,pos,end,flags){if((32&symbol.flags||!isReservedMemberName(symbol.name))&&buildSymbolDisplay(symbol,writer,enclosingDeclaration,793064,0,flags),end>pos){for(writePunctuation(writer,25),writeType(typeArguments[pos],256),pos++;end>pos;)writePunctuation(writer,24),writeSpace(writer),writeType(typeArguments[pos],0),pos++;writePunctuation(writer,27)}}function writeTypeReference(type,flags){var typeArguments=type.typeArguments||emptyArray;if(type.target!==globalArrayType||1&flags)if(262144&type.target.flags)writePunctuation(writer,19),writeTypeList(type.typeArguments.slice(0,getTypeReferenceArity(type)),24),writePunctuation(writer,20);else{var outerTypeParameters=type.target.outerTypeParameters,i=0;if(outerTypeParameters)for(var length_1=outerTypeParameters.length;length_1>i;){var start=i,parent_7=getParentSymbolOfTypeParameter(outerTypeParameters[i]);do i++;while(length_1>i&&getParentSymbolOfTypeParameter(outerTypeParameters[i])===parent_7);ts.rangeEquals(outerTypeParameters,typeArguments,start,i)||(writeSymbolTypeReference(parent_7,typeArguments,start,i,flags),writePunctuation(writer,21))}var typeParameterCount=(type.target.typeParameters||emptyArray).length;writeSymbolTypeReference(type.symbol,typeArguments,i,typeParameterCount,flags)}else writeType(typeArguments[0],64),writePunctuation(writer,19),writePunctuation(writer,20)}function writeUnionOrIntersectionType(type,flags){64&flags&&writePunctuation(writer,17),524288&type.flags?writeTypeList(formatUnionTypes(type.types),47):writeTypeList(type.types,46),64&flags&&writePunctuation(writer,18)}function writeAnonymousType(type,flags){function shouldWriteTypeOfFunctionSymbol(){var isStaticMethodSymbol=!!(8192&symbol.flags&&ts.forEach(symbol.declarations,function(declaration){return 32&declaration.flags})),isNonLocalFunctionSymbol=!!(16&symbol.flags)&&(symbol.parent||ts.forEach(symbol.declarations,function(declaration){return 256===declaration.parent.kind||226===declaration.parent.kind}));return isStaticMethodSymbol||isNonLocalFunctionSymbol?!!(2&flags)||ts.contains(symbolStack,symbol):void 0}var symbol=type.symbol;if(symbol)if(928&symbol.flags)writeTypeOfSymbol(type,flags);else if(shouldWriteTypeOfFunctionSymbol())writeTypeOfSymbol(type,flags);else if(ts.contains(symbolStack,symbol)){var typeAlias=getTypeAliasForTypeLiteral(type);typeAlias?buildSymbolDisplay(typeAlias,writer,enclosingDeclaration,793064,0,flags):writeKeyword(writer,117)}else symbolStack||(symbolStack=[]),symbolStack.push(symbol),writeLiteralType(type,flags),symbolStack.pop();else writeLiteralType(type,flags)}function writeTypeOfSymbol(type,typeFormatFlags){writeKeyword(writer,101),writeSpace(writer),buildSymbolDisplay(type.symbol,writer,enclosingDeclaration,107455,0,typeFormatFlags)}function writeIndexSignature(info,keyword){info&&(info.isReadonly&&(writeKeyword(writer,128),writeSpace(writer)),writePunctuation(writer,19),writer.writeParameter(info.declaration?ts.declarationNameToString(info.declaration.parameters[0].name):"x"),writePunctuation(writer,54),writeSpace(writer),writeKeyword(writer,keyword),writePunctuation(writer,20),writePunctuation(writer,54),writeSpace(writer),writeType(info.type,0),writePunctuation(writer,23),writer.writeLine())}function writePropertyWithModifiers(prop){isReadonlySymbol(prop)&&(writeKeyword(writer,128),writeSpace(writer)),buildSymbolDisplay(prop,writer),536870912&prop.flags&&writePunctuation(writer,53)}function shouldAddParenthesisAroundFunctionType(callSignature,flags){if(64&flags)return!0;if(256&flags){var typeParameters=callSignature.target&&32&flags?callSignature.target.typeParameters:callSignature.typeParameters;return typeParameters&&0!==typeParameters.length}return!1}function writeLiteralType(type,flags){var resolved=resolveStructuredTypeMembers(type);if(!resolved.properties.length&&!resolved.stringIndexInfo&&!resolved.numberIndexInfo){if(!resolved.callSignatures.length&&!resolved.constructSignatures.length)return writePunctuation(writer,15),void writePunctuation(writer,16);if(1===resolved.callSignatures.length&&!resolved.constructSignatures.length){var parenthesizeSignature=shouldAddParenthesisAroundFunctionType(resolved.callSignatures[0],flags);return parenthesizeSignature&&writePunctuation(writer,17),buildSignatureDisplay(resolved.callSignatures[0],writer,enclosingDeclaration,8|globalFlagsToPass,void 0,symbolStack),void(parenthesizeSignature&&writePunctuation(writer,18))}if(1===resolved.constructSignatures.length&&!resolved.callSignatures.length)return 64&flags&&writePunctuation(writer,17),writeKeyword(writer,92),writeSpace(writer),buildSignatureDisplay(resolved.constructSignatures[0],writer,enclosingDeclaration,8|globalFlagsToPass,void 0,symbolStack),void(64&flags&&writePunctuation(writer,18))}var saveInObjectTypeLiteral=inObjectTypeLiteral;inObjectTypeLiteral=!0,writePunctuation(writer,15),writer.writeLine(),writer.increaseIndent();for(var _i=0,_a=resolved.callSignatures;_i<_a.length;_i++){var signature=_a[_i];buildSignatureDisplay(signature,writer,enclosingDeclaration,globalFlagsToPass,void 0,symbolStack),writePunctuation(writer,23),writer.writeLine()}for(var _b=0,_c=resolved.constructSignatures;_b<_c.length;_b++){var signature=_c[_b];buildSignatureDisplay(signature,writer,enclosingDeclaration,globalFlagsToPass,1,symbolStack),writePunctuation(writer,23),writer.writeLine()}writeIndexSignature(resolved.stringIndexInfo,132),writeIndexSignature(resolved.numberIndexInfo,130);for(var _d=0,_e=resolved.properties;_d<_e.length;_d++){var p=_e[_d],t=getTypeOfSymbol(p);if(8208&p.flags&&!getPropertiesOfObjectType(t).length)for(var signatures=getSignaturesOfType(t,0),_f=0,signatures_1=signatures;_f<signatures_1.length;_f++){var signature=signatures_1[_f];writePropertyWithModifiers(p),buildSignatureDisplay(signature,writer,enclosingDeclaration,globalFlagsToPass,void 0,symbolStack),writePunctuation(writer,23),writer.writeLine()}else writePropertyWithModifiers(p),writePunctuation(writer,54),writeSpace(writer),writeType(t,0),writePunctuation(writer,23),writer.writeLine()}writer.decreaseIndent(),writePunctuation(writer,16),inObjectTypeLiteral=saveInObjectTypeLiteral}var globalFlagsToPass=16&globalFlags,inObjectTypeLiteral=!1;return writeType(type,globalFlags)}function buildTypeParameterDisplayFromSymbol(symbol,writer,enclosingDeclaration,flags){var targetSymbol=getTargetSymbol(symbol);(32&targetSymbol.flags||64&targetSymbol.flags||524288&targetSymbol.flags)&&buildDisplayForTypeParametersAndDelimiters(getLocalTypeParametersOfClassOrInterfaceOrTypeAlias(symbol),writer,enclosingDeclaration,flags)}function buildTypeParameterDisplay(tp,writer,enclosingDeclaration,flags,symbolStack){appendSymbolNameOnly(tp.symbol,writer);var constraint=getConstraintOfTypeParameter(tp);constraint&&(writeSpace(writer),writeKeyword(writer,83),writeSpace(writer),buildTypeDisplay(constraint,writer,enclosingDeclaration,flags,symbolStack))}function buildParameterDisplay(p,writer,enclosingDeclaration,flags,symbolStack){var parameterNode=p.valueDeclaration;ts.isRestParameter(parameterNode)&&writePunctuation(writer,22),ts.isBindingPattern(parameterNode.name)?buildBindingPatternDisplay(parameterNode.name,writer,enclosingDeclaration,flags,symbolStack):appendSymbolNameOnly(p,writer),isOptionalParameter(parameterNode)&&writePunctuation(writer,53),writePunctuation(writer,54),writeSpace(writer),buildTypeDisplay(getTypeOfSymbol(p),writer,enclosingDeclaration,flags,symbolStack)}function buildBindingPatternDisplay(bindingPattern,writer,enclosingDeclaration,flags,symbolStack){if(167===bindingPattern.kind)writePunctuation(writer,15),buildDisplayForCommaSeparatedList(bindingPattern.elements,writer,function(e){return buildBindingElementDisplay(e,writer,enclosingDeclaration,flags,symbolStack)}),writePunctuation(writer,16);else if(168===bindingPattern.kind){writePunctuation(writer,19);var elements=bindingPattern.elements;buildDisplayForCommaSeparatedList(elements,writer,function(e){return buildBindingElementDisplay(e,writer,enclosingDeclaration,flags,symbolStack)}),elements&&elements.hasTrailingComma&&writePunctuation(writer,24),writePunctuation(writer,20)}}function buildBindingElementDisplay(bindingElement,writer,enclosingDeclaration,flags,symbolStack){193!==bindingElement.kind&&(ts.Debug.assert(169===bindingElement.kind),bindingElement.propertyName&&(writer.writeSymbol(ts.getTextOfNode(bindingElement.propertyName),bindingElement.symbol),writePunctuation(writer,54),writeSpace(writer)),ts.isBindingPattern(bindingElement.name)?buildBindingPatternDisplay(bindingElement.name,writer,enclosingDeclaration,flags,symbolStack):(bindingElement.dotDotDotToken&&writePunctuation(writer,22),appendSymbolNameOnly(bindingElement.symbol,writer)))}function buildDisplayForTypeParametersAndDelimiters(typeParameters,writer,enclosingDeclaration,flags,symbolStack){typeParameters&&typeParameters.length&&(writePunctuation(writer,25),buildDisplayForCommaSeparatedList(typeParameters,writer,function(p){return buildTypeParameterDisplay(p,writer,enclosingDeclaration,flags,symbolStack)}),writePunctuation(writer,27))}function buildDisplayForCommaSeparatedList(list,writer,action){for(var i=0;i<list.length;i++)i>0&&(writePunctuation(writer,24),writeSpace(writer)),action(list[i])}function buildDisplayForTypeArgumentsAndDelimiters(typeParameters,mapper,writer,enclosingDeclaration,flags,symbolStack){if(typeParameters&&typeParameters.length){writePunctuation(writer,25);for(var flags_1=256,i=0;i<typeParameters.length;i++)i>0&&(writePunctuation(writer,24),writeSpace(writer),flags_1=0),buildTypeDisplay(mapper(typeParameters[i]),writer,enclosingDeclaration,flags_1);writePunctuation(writer,27)}}function buildDisplayForParametersAndDelimiters(thisParameter,parameters,writer,enclosingDeclaration,flags,symbolStack){writePunctuation(writer,17),thisParameter&&buildParameterDisplay(thisParameter,writer,enclosingDeclaration,flags,symbolStack);for(var i=0;i<parameters.length;i++)(i>0||thisParameter)&&(writePunctuation(writer,24),writeSpace(writer)),buildParameterDisplay(parameters[i],writer,enclosingDeclaration,flags,symbolStack);writePunctuation(writer,18)}function buildTypePredicateDisplay(predicate,writer,enclosingDeclaration,flags,symbolStack){ts.isIdentifierTypePredicate(predicate)?writer.writeParameter(predicate.parameterName):writeKeyword(writer,97),writeSpace(writer),writeKeyword(writer,124),writeSpace(writer),buildTypeDisplay(predicate.type,writer,enclosingDeclaration,flags,symbolStack)}function buildReturnTypeDisplay(signature,writer,enclosingDeclaration,flags,symbolStack){if(8&flags?(writeSpace(writer),writePunctuation(writer,34)):writePunctuation(writer,54),writeSpace(writer),signature.typePredicate)buildTypePredicateDisplay(signature.typePredicate,writer,enclosingDeclaration,flags,symbolStack);else{var returnType=getReturnTypeOfSignature(signature);buildTypeDisplay(returnType,writer,enclosingDeclaration,flags,symbolStack)}}function buildSignatureDisplay(signature,writer,enclosingDeclaration,flags,kind,symbolStack){1===kind&&(writeKeyword(writer,92),writeSpace(writer)),signature.target&&32&flags?buildDisplayForTypeArgumentsAndDelimiters(signature.target.typeParameters,signature.mapper,writer,enclosingDeclaration):buildDisplayForTypeParametersAndDelimiters(signature.typeParameters,writer,enclosingDeclaration,flags,symbolStack),buildDisplayForParametersAndDelimiters(signature.thisParameter,signature.parameters,writer,enclosingDeclaration,flags,symbolStack),buildReturnTypeDisplay(signature,writer,enclosingDeclaration,flags,symbolStack)}return _displayBuilder||(_displayBuilder={buildSymbolDisplay:buildSymbolDisplay,buildTypeDisplay:buildTypeDisplay,buildTypeParameterDisplay:buildTypeParameterDisplay,buildTypePredicateDisplay:buildTypePredicateDisplay,buildParameterDisplay:buildParameterDisplay,buildDisplayForParametersAndDelimiters:buildDisplayForParametersAndDelimiters,buildDisplayForTypeParametersAndDelimiters:buildDisplayForTypeParametersAndDelimiters,buildTypeParameterDisplayFromSymbol:buildTypeParameterDisplayFromSymbol,buildSignatureDisplay:buildSignatureDisplay,buildReturnTypeDisplay:buildReturnTypeDisplay})}function isDeclarationVisible(node){function determineIfDeclarationIsVisible(){switch(node.kind){case 169:return isDeclarationVisible(node.parent.parent);case 218:if(ts.isBindingPattern(node.name)&&!node.name.elements.length)return!1;case 225:case 221:case 222:case 223:case 220:case 224:case 229:if(ts.isExternalModuleAugmentation(node))return!0;var parent_8=getDeclarationContainer(node);return 1&ts.getCombinedNodeFlags(node)||229!==node.kind&&256!==parent_8.kind&&ts.isInAmbientContext(parent_8)?isDeclarationVisible(parent_8):isGlobalSourceFile(parent_8);case 145:case 144:case 149:case 150:case 147:case 146:if(24&node.flags)return!1;case 148:case 152:case 151:case 153:case 142:case 226:case 156:case 157:case 159:case 155:case 160:case 161:case 162:case 163:case 164:return isDeclarationVisible(node.parent);case 231:case 232:case 234:return!1;case 141:case 256:return!0;case 235:return!1;default:return!1}}if(node){var links=getNodeLinks(node);return void 0===links.isVisible&&(links.isVisible=!!determineIfDeclarationIsVisible()),
links.isVisible}return!1}function collectLinkedAliases(node){function buildVisibleNodeList(declarations){ts.forEach(declarations,function(declaration){getNodeLinks(declaration).isVisible=!0;var resultNode=getAnyImportSyntax(declaration)||declaration;if(ts.contains(result,resultNode)||result.push(resultNode),ts.isInternalModuleImportEqualsDeclaration(declaration)){var internalModuleReference=declaration.moduleReference,firstIdentifier=getFirstIdentifier(internalModuleReference),importSymbol=resolveName(declaration,firstIdentifier.text,901119,void 0,void 0);importSymbol&&buildVisibleNodeList(importSymbol.declarations)}})}var exportSymbol;if(node.parent&&235===node.parent.kind)exportSymbol=resolveName(node.parent,node.text,9289727,ts.Diagnostics.Cannot_find_name_0,node);else if(238===node.parent.kind){var exportSpecifier=node.parent;exportSymbol=exportSpecifier.parent.parent.moduleSpecifier?getExternalModuleMember(exportSpecifier.parent.parent,exportSpecifier):resolveEntityName(exportSpecifier.propertyName||exportSpecifier.name,9289727)}var result=[];return exportSymbol&&buildVisibleNodeList(exportSymbol.declarations),result}function pushTypeResolution(target,propertyName){var resolutionCycleStartIndex=findResolutionCycleStartIndex(target,propertyName);if(resolutionCycleStartIndex>=0){for(var length_2=resolutionTargets.length,i=resolutionCycleStartIndex;length_2>i;i++)resolutionResults[i]=!1;return!1}return resolutionTargets.push(target),resolutionResults.push(!0),resolutionPropertyNames.push(propertyName),!0}function findResolutionCycleStartIndex(target,propertyName){for(var i=resolutionTargets.length-1;i>=0;i--){if(hasType(resolutionTargets[i],resolutionPropertyNames[i]))return-1;if(resolutionTargets[i]===target&&resolutionPropertyNames[i]===propertyName)return i}return-1}function hasType(target,propertyName){return 0===propertyName?getSymbolLinks(target).type:2===propertyName?getSymbolLinks(target).declaredType:1===propertyName?(ts.Debug.assert(!!(32768&target.flags)),target.resolvedBaseConstructorType):3===propertyName?target.resolvedReturnType:void ts.Debug.fail("Unhandled TypeSystemPropertyName "+propertyName)}function popTypeResolution(){return resolutionTargets.pop(),resolutionPropertyNames.pop(),resolutionResults.pop()}function getDeclarationContainer(node){for(node=ts.getRootDeclaration(node);node;)switch(node.kind){case 218:case 219:case 234:case 233:case 232:case 231:node=node.parent;break;default:return node.parent}}function getTypeOfPrototypeProperty(prototype){var classType=getDeclaredTypeOfSymbol(getParentOfSymbol(prototype));return classType.typeParameters?createTypeReference(classType,ts.map(classType.typeParameters,function(_){return anyType})):classType}function getTypeOfPropertyOfType(type,name){var prop=getPropertyOfType(type,name);return prop?getTypeOfSymbol(prop):void 0}function isTypeAny(type){return type&&0!==(1&type.flags)}function isTypeNever(type){return type&&0!==(8192&type.flags)}function getTypeForBindingElementParent(node){var symbol=getSymbolOfNode(node);return symbol&&getSymbolLinks(symbol).type||getTypeForVariableLikeDeclaration(node,!1)}function getTextOfPropertyName(name){switch(name.kind){case 69:return name.text;case 9:case 8:return name.text;case 140:if(ts.isStringOrNumericLiteral(name.expression.kind))return name.expression.text}return void 0}function isComputedNonLiteralName(name){return 140===name.kind&&!ts.isStringOrNumericLiteral(name.expression.kind)}function getTypeForBindingElement(declaration){var pattern=declaration.parent,parentType=getTypeForBindingElementParent(pattern.parent);if(parentType===unknownType)return unknownType;if(!parentType||isTypeAny(parentType))return declaration.initializer?checkExpressionCached(declaration.initializer):parentType;var type;if(167===pattern.kind){var name_11=declaration.propertyName||declaration.name;if(isComputedNonLiteralName(name_11))return anyType;declaration.initializer&&getContextualType(declaration.initializer);var text=getTextOfPropertyName(name_11);if(type=getTypeOfPropertyOfType(parentType,text)||isNumericLiteralName(text)&&getIndexTypeOfType(parentType,1)||getIndexTypeOfType(parentType,0),!type)return error(name_11,ts.Diagnostics.Type_0_has_no_property_1_and_no_string_index_signature,typeToString(parentType),ts.declarationNameToString(name_11)),unknownType}else{var elementType=checkIteratedTypeOrElementType(parentType,pattern,!1);if(declaration.dotDotDotToken)type=createArrayType(elementType);else{var propName=""+ts.indexOf(pattern.elements,declaration);if(type=isTupleLikeType(parentType)?getTypeOfPropertyOfType(parentType,propName):elementType,!type)return isTupleType(parentType)?error(declaration,ts.Diagnostics.Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2,typeToString(parentType),getTypeReferenceArity(parentType),pattern.elements.length):error(declaration,ts.Diagnostics.Type_0_has_no_property_1,typeToString(parentType),propName),unknownType}}return!strictNullChecks||!declaration.initializer||2048&getFalsyFlags(checkExpressionCached(declaration.initializer))||(type=getTypeWithFacts(type,131072)),declaration.initializer?getUnionType([type,checkExpressionCached(declaration.initializer)],!0):type}function getTypeForVariableLikeDeclarationFromJSDocComment(declaration){var jsDocType=getJSDocTypeForVariableLikeDeclarationFromJSDocComment(declaration);return jsDocType?getTypeFromTypeNode(jsDocType):void 0}function getJSDocTypeForVariableLikeDeclarationFromJSDocComment(declaration){var typeTag=ts.getJSDocTypeTag(declaration);if(typeTag&&typeTag.typeExpression)return typeTag.typeExpression.type;if(218===declaration.kind&&219===declaration.parent.kind&&200===declaration.parent.parent.kind){var annotation=ts.getJSDocTypeTag(declaration.parent.parent);if(annotation&&annotation.typeExpression)return annotation.typeExpression.type}else if(142===declaration.kind){var paramTag=ts.getCorrespondingJSDocParameterTag(declaration);if(paramTag&&paramTag.typeExpression)return paramTag.typeExpression.type}return void 0}function addOptionality(type,optional){return strictNullChecks&&optional?includeFalsyTypes(type,2048):type}function getTypeForVariableLikeDeclaration(declaration,includeOptionality){if(134217728&declaration.flags){var type=getTypeForVariableLikeDeclarationFromJSDocComment(declaration);if(type&&type!==unknownType)return type}if(207===declaration.parent.parent.kind)return stringType;if(208===declaration.parent.parent.kind)return checkRightHandSideOfForOf(declaration.parent.parent.expression)||anyType;if(ts.isBindingPattern(declaration.parent))return getTypeForBindingElement(declaration);if(declaration.type)return addOptionality(getTypeFromTypeNode(declaration.type),declaration.questionToken&&includeOptionality);if(142===declaration.kind){var func=declaration.parent;if(150===func.kind&&!ts.hasDynamicName(func)){var getter=ts.getDeclarationOfKind(declaration.parent.symbol,149);if(getter){var getterSignature=getSignatureFromDeclaration(getter),thisParameter=getAccessorThisParameter(func);return thisParameter&&declaration===thisParameter?(ts.Debug.assert(!thisParameter.type),getTypeOfSymbol(getterSignature.thisParameter)):getReturnTypeOfSignature(getterSignature)}}var type=void 0;if("this"===declaration.symbol.name){var thisParameter=getContextualThisParameter(func);type=thisParameter?getTypeOfSymbol(thisParameter):void 0}else type=getContextuallyTypedParameterType(declaration);if(type)return addOptionality(type,declaration.questionToken&&includeOptionality)}return declaration.initializer?addOptionality(checkExpressionCached(declaration.initializer),declaration.questionToken&&includeOptionality):254===declaration.kind?checkIdentifier(declaration.name):ts.isBindingPattern(declaration.name)?getTypeFromBindingPattern(declaration.name,!1,!0):void 0}function getTypeFromBindingElement(element,includePatternInType,reportErrors){return element.initializer?checkExpressionCached(element.initializer):ts.isBindingPattern(element.name)?getTypeFromBindingPattern(element.name,includePatternInType,reportErrors):(reportErrors&&compilerOptions.noImplicitAny&&!declarationBelongsToPrivateAmbientMember(element)&&reportImplicitAnyError(element,anyType),anyType)}function getTypeFromObjectBindingPattern(pattern,includePatternInType,reportErrors){var members=ts.createMap(),hasComputedProperties=!1;ts.forEach(pattern.elements,function(e){var name=e.propertyName||e.name;if(isComputedNonLiteralName(name))return void(hasComputedProperties=!0);var text=getTextOfPropertyName(name),flags=67108868|(e.initializer?536870912:0),symbol=createSymbol(flags,text);symbol.type=getTypeFromBindingElement(e,includePatternInType,reportErrors),symbol.bindingElement=e,members[symbol.name]=symbol});var result=createAnonymousType(void 0,members,emptyArray,emptyArray,void 0,void 0);return includePatternInType&&(result.pattern=pattern),hasComputedProperties&&(result.flags|=536870912),result}function getTypeFromArrayBindingPattern(pattern,includePatternInType,reportErrors){var elements=pattern.elements;if(0===elements.length||elements[elements.length-1].dotDotDotToken)return languageVersion>=2?createIterableType(anyType):anyArrayType;var elementTypes=ts.map(elements,function(e){return 193===e.kind?anyType:getTypeFromBindingElement(e,includePatternInType,reportErrors)}),result=createTupleType(elementTypes);return includePatternInType&&(result=cloneTypeReference(result),result.pattern=pattern),result}function getTypeFromBindingPattern(pattern,includePatternInType,reportErrors){return 167===pattern.kind?getTypeFromObjectBindingPattern(pattern,includePatternInType,reportErrors):getTypeFromArrayBindingPattern(pattern,includePatternInType,reportErrors)}function getWidenedTypeForVariableLikeDeclaration(declaration,reportErrors){var type=getTypeForVariableLikeDeclaration(declaration,!0);return type?(reportErrors&&reportErrorsFromWidening(declaration,type),253===declaration.kind?type:getWidenedType(type)):(type=declaration.dotDotDotToken?anyArrayType:anyType,reportErrors&&compilerOptions.noImplicitAny&&(declarationBelongsToPrivateAmbientMember(declaration)||reportImplicitAnyError(declaration,type)),type)}function declarationBelongsToPrivateAmbientMember(declaration){var root=ts.getRootDeclaration(declaration),memberDeclaration=142===root.kind?root.parent:root;return isPrivateWithinAmbient(memberDeclaration)}function getTypeOfVariableOrParameterOrProperty(symbol){var links=getSymbolLinks(symbol);if(!links.type){if(134217728&symbol.flags)return links.type=getTypeOfPrototypeProperty(symbol);var declaration=symbol.valueDeclaration;if(252===declaration.parent.kind)return links.type=anyType;if(235===declaration.kind)return links.type=checkExpression(declaration.expression);if(134217728&declaration.flags&&280===declaration.kind&&declaration.typeExpression)return links.type=getTypeFromTypeNode(declaration.typeExpression.type);if(!pushTypeResolution(symbol,0))return unknownType;var type=void 0;if(187===declaration.kind||172===declaration.kind&&187===declaration.parent.kind){if(134217728&declaration.flags){var typeTag=ts.getJSDocTypeTag(declaration.parent);if(typeTag&&typeTag.typeExpression)return links.type=getTypeFromTypeNode(typeTag.typeExpression.type)}var declaredTypes=ts.map(symbol.declarations,function(decl){return checkExpressionCached(187===decl.kind?decl.right:decl.parent.right)});type=getUnionType(declaredTypes,!0)}else type=getWidenedTypeForVariableLikeDeclaration(declaration,!0);popTypeResolution()||(symbol.valueDeclaration.type?(type=unknownType,error(symbol.valueDeclaration,ts.Diagnostics._0_is_referenced_directly_or_indirectly_in_its_own_type_annotation,symbolToString(symbol))):(type=anyType,compilerOptions.noImplicitAny&&error(symbol.valueDeclaration,ts.Diagnostics._0_implicitly_has_type_any_because_it_does_not_have_a_type_annotation_and_is_referenced_directly_or_indirectly_in_its_own_initializer,symbolToString(symbol)))),links.type=type}return links.type}function getAnnotatedAccessorType(accessor){if(accessor){if(149===accessor.kind)return accessor.type&&getTypeFromTypeNode(accessor.type);var setterTypeAnnotation=ts.getSetAccessorTypeAnnotationNode(accessor);return setterTypeAnnotation&&getTypeFromTypeNode(setterTypeAnnotation)}return void 0}function getAnnotatedAccessorThisParameter(accessor){var parameter=getAccessorThisParameter(accessor);return parameter&&parameter.symbol}function getThisTypeOfDeclaration(declaration){return getThisTypeOfSignature(getSignatureFromDeclaration(declaration))}function getTypeOfAccessors(symbol){var links=getSymbolLinks(symbol);if(!links.type){var getter=ts.getDeclarationOfKind(symbol,149),setter=ts.getDeclarationOfKind(symbol,150);if(getter&&134217728&getter.flags){var jsDocType=getTypeForVariableLikeDeclarationFromJSDocComment(getter);if(jsDocType)return links.type=jsDocType}if(!pushTypeResolution(symbol,0))return unknownType;var type=void 0,getterReturnType=getAnnotatedAccessorType(getter);if(getterReturnType)type=getterReturnType;else{var setterParameterType=getAnnotatedAccessorType(setter);setterParameterType?type=setterParameterType:getter&&getter.body?type=getReturnTypeFromBody(getter):(compilerOptions.noImplicitAny&&(setter?error(setter,ts.Diagnostics.Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_parameter_type_annotation,symbolToString(symbol)):(ts.Debug.assert(!!getter,"there must existed getter as we are current checking either setter or getter in this function"),error(getter,ts.Diagnostics.Property_0_implicitly_has_type_any_because_its_get_accessor_lacks_a_return_type_annotation,symbolToString(symbol)))),type=anyType)}if(!popTypeResolution()&&(type=anyType,compilerOptions.noImplicitAny)){var getter_1=ts.getDeclarationOfKind(symbol,149);error(getter_1,ts.Diagnostics._0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions,symbolToString(symbol))}links.type=type}return links.type}function getTypeOfFuncClassEnumModule(symbol){var links=getSymbolLinks(symbol);if(!links.type)if(225===symbol.valueDeclaration.kind&&ts.isShorthandAmbientModuleSymbol(symbol))links.type=anyType;else{var type=createObjectType(2097152,symbol);links.type=strictNullChecks&&536870912&symbol.flags?includeFalsyTypes(type,2048):type}return links.type}function getTypeOfEnumMember(symbol){var links=getSymbolLinks(symbol);return links.type||(links.type=getDeclaredTypeOfEnum(getParentOfSymbol(symbol))),links.type}function getTypeOfAlias(symbol){var links=getSymbolLinks(symbol);if(!links.type){var targetSymbol=resolveAlias(symbol);links.type=107455&targetSymbol.flags?getTypeOfSymbol(targetSymbol):unknownType}return links.type}function getTypeOfInstantiatedSymbol(symbol){var links=getSymbolLinks(symbol);return links.type||(links.type=instantiateType(getTypeOfSymbol(links.target),links.mapper)),links.type}function getTypeOfSymbol(symbol){return 16777216&symbol.flags?getTypeOfInstantiatedSymbol(symbol):7&symbol.flags?getTypeOfVariableOrParameterOrProperty(symbol):9136&symbol.flags?getTypeOfFuncClassEnumModule(symbol):8&symbol.flags?getTypeOfEnumMember(symbol):98304&symbol.flags?getTypeOfAccessors(symbol):8388608&symbol.flags?getTypeOfAlias(symbol):unknownType}function getTargetType(type){return 131072&type.flags?type.target:type}function hasBaseType(type,checkBase){function check(type){var target=getTargetType(type);return target===checkBase||ts.forEach(getBaseTypes(target),check)}return check(type)}function appendTypeParameters(typeParameters,declarations){for(var _i=0,declarations_2=declarations;_i<declarations_2.length;_i++){var declaration=declarations_2[_i],tp=getDeclaredTypeOfTypeParameter(getSymbolOfNode(declaration));typeParameters?ts.contains(typeParameters,tp)||typeParameters.push(tp):typeParameters=[tp]}return typeParameters}function appendOuterTypeParameters(typeParameters,node){for(;;){if(node=node.parent,!node)return typeParameters;if(221===node.kind||192===node.kind||220===node.kind||179===node.kind||147===node.kind||180===node.kind){var declarations=node.typeParameters;if(declarations)return appendTypeParameters(appendOuterTypeParameters(typeParameters,node),declarations)}}}function getOuterTypeParametersOfClassOrInterface(symbol){var declaration=32&symbol.flags?symbol.valueDeclaration:ts.getDeclarationOfKind(symbol,222);return appendOuterTypeParameters(void 0,declaration)}function getLocalTypeParametersOfClassOrInterfaceOrTypeAlias(symbol){for(var result,_i=0,_a=symbol.declarations;_i<_a.length;_i++){var node=_a[_i];if(222===node.kind||221===node.kind||192===node.kind||223===node.kind){var declaration=node;declaration.typeParameters&&(result=appendTypeParameters(result,declaration.typeParameters))}}return result}function getTypeParametersOfClassOrInterface(symbol){return ts.concatenate(getOuterTypeParametersOfClassOrInterface(symbol),getLocalTypeParametersOfClassOrInterfaceOrTypeAlias(symbol))}function isConstructorType(type){return 2588672&type.flags&&getSignaturesOfType(type,1).length>0}function getBaseTypeNodeOfClass(type){return ts.getClassExtendsHeritageClauseElement(type.symbol.valueDeclaration)}function getConstructorsForTypeArguments(type,typeArgumentNodes){var typeArgCount=typeArgumentNodes?typeArgumentNodes.length:0;return ts.filter(getSignaturesOfType(type,1),function(sig){return(sig.typeParameters?sig.typeParameters.length:0)===typeArgCount})}function getInstantiatedConstructorsForTypeArguments(type,typeArgumentNodes){var signatures=getConstructorsForTypeArguments(type,typeArgumentNodes);if(typeArgumentNodes){var typeArguments_1=ts.map(typeArgumentNodes,getTypeFromTypeNode);signatures=ts.map(signatures,function(sig){return getSignatureInstantiation(sig,typeArguments_1)})}return signatures}function getBaseConstructorTypeOfClass(type){if(!type.resolvedBaseConstructorType){var baseTypeNode=getBaseTypeNodeOfClass(type);if(!baseTypeNode)return type.resolvedBaseConstructorType=undefinedType;if(!pushTypeResolution(type,1))return unknownType;var baseConstructorType=checkExpression(baseTypeNode.expression);if(2588672&baseConstructorType.flags&&resolveStructuredTypeMembers(baseConstructorType),!popTypeResolution())return error(type.symbol.valueDeclaration,ts.Diagnostics._0_is_referenced_directly_or_indirectly_in_its_own_base_expression,symbolToString(type.symbol)),type.resolvedBaseConstructorType=unknownType;if(baseConstructorType!==unknownType&&baseConstructorType!==nullWideningType&&!isConstructorType(baseConstructorType))return error(baseTypeNode.expression,ts.Diagnostics.Type_0_is_not_a_constructor_function_type,typeToString(baseConstructorType)),type.resolvedBaseConstructorType=unknownType;type.resolvedBaseConstructorType=baseConstructorType}return type.resolvedBaseConstructorType}function getBaseTypes(type){return type.resolvedBaseTypes||(262144&type.flags?type.resolvedBaseTypes=[createArrayType(getUnionType(type.typeParameters))]:96&type.symbol.flags?(32&type.symbol.flags&&resolveBaseTypesOfClass(type),64&type.symbol.flags&&resolveBaseTypesOfInterface(type)):ts.Debug.fail("type must be class or interface")),type.resolvedBaseTypes}function resolveBaseTypesOfClass(type){type.resolvedBaseTypes=type.resolvedBaseTypes||emptyArray;var baseConstructorType=getBaseConstructorTypeOfClass(type);if(2588672&baseConstructorType.flags){var baseType,baseTypeNode=getBaseTypeNodeOfClass(type),originalBaseType=baseConstructorType&&baseConstructorType.symbol?getDeclaredTypeOfSymbol(baseConstructorType.symbol):void 0;if(baseConstructorType.symbol&&32&baseConstructorType.symbol.flags&&areAllOuterTypeParametersApplied(originalBaseType))baseType=getTypeFromClassOrInterfaceReference(baseTypeNode,baseConstructorType.symbol);else{var constructors=getInstantiatedConstructorsForTypeArguments(baseConstructorType,baseTypeNode.typeArguments);if(!constructors.length)return void error(baseTypeNode.expression,ts.Diagnostics.No_base_constructor_has_the_specified_number_of_type_arguments);baseType=getReturnTypeOfSignature(constructors[0])}if(baseType!==unknownType)return 98304&getTargetType(baseType).flags?type===baseType||hasBaseType(baseType,type)?void error(type.symbol.valueDeclaration,ts.Diagnostics.Type_0_recursively_references_itself_as_a_base_type,typeToString(type,void 0,1)):void(type.resolvedBaseTypes===emptyArray?type.resolvedBaseTypes=[baseType]:type.resolvedBaseTypes.push(baseType)):void error(baseTypeNode.expression,ts.Diagnostics.Base_constructor_return_type_0_is_not_a_class_or_interface_type,typeToString(baseType))}}function areAllOuterTypeParametersApplied(type){var outerTypeParameters=type.outerTypeParameters;if(outerTypeParameters){var last=outerTypeParameters.length-1,typeArguments=type.typeArguments;return outerTypeParameters[last].symbol!==typeArguments[last].symbol}return!0}function resolveBaseTypesOfInterface(type){type.resolvedBaseTypes=type.resolvedBaseTypes||emptyArray;for(var _i=0,_a=type.symbol.declarations;_i<_a.length;_i++){var declaration=_a[_i];if(222===declaration.kind&&ts.getInterfaceBaseTypeNodes(declaration))for(var _b=0,_c=ts.getInterfaceBaseTypeNodes(declaration);_b<_c.length;_b++){var node=_c[_b],baseType=getTypeFromTypeNode(node);baseType!==unknownType&&(98304&getTargetType(baseType).flags?type===baseType||hasBaseType(baseType,type)?error(declaration,ts.Diagnostics.Type_0_recursively_references_itself_as_a_base_type,typeToString(type,void 0,1)):type.resolvedBaseTypes===emptyArray?type.resolvedBaseTypes=[baseType]:type.resolvedBaseTypes.push(baseType):error(node,ts.Diagnostics.An_interface_may_only_extend_a_class_or_another_interface))}}}function isIndependentInterface(symbol){for(var _i=0,_a=symbol.declarations;_i<_a.length;_i++){var declaration=_a[_i];if(222===declaration.kind){if(16384&declaration.flags)return!1;var baseTypeNodes=ts.getInterfaceBaseTypeNodes(declaration);if(baseTypeNodes)for(var _b=0,baseTypeNodes_1=baseTypeNodes;_b<baseTypeNodes_1.length;_b++){var node=baseTypeNodes_1[_b];if(ts.isEntityNameExpression(node.expression)){var baseSymbol=resolveEntityName(node.expression,793064,!0);if(!baseSymbol||!(64&baseSymbol.flags)||getDeclaredTypeOfClassOrInterface(baseSymbol).thisType)return!1}}}}return!0}function getDeclaredTypeOfClassOrInterface(symbol){var links=getSymbolLinks(symbol);if(!links.declaredType){var kind=32&symbol.flags?32768:65536,type=links.declaredType=createObjectType(kind,symbol),outerTypeParameters=getOuterTypeParametersOfClassOrInterface(symbol),localTypeParameters=getLocalTypeParametersOfClassOrInterfaceOrTypeAlias(symbol);(outerTypeParameters||localTypeParameters||32768===kind||!isIndependentInterface(symbol))&&(type.flags|=131072,type.typeParameters=ts.concatenate(outerTypeParameters,localTypeParameters),type.outerTypeParameters=outerTypeParameters,type.localTypeParameters=localTypeParameters,type.instantiations=ts.createMap(),type.instantiations[getTypeListId(type.typeParameters)]=type,type.target=type,type.typeArguments=type.typeParameters,type.thisType=createType(268451840),type.thisType.symbol=symbol,type.thisType.constraint=type)}return links.declaredType}function getDeclaredTypeOfTypeAlias(symbol){var links=getSymbolLinks(symbol);if(!links.declaredType){if(!pushTypeResolution(symbol,2))return unknownType;var typeParameters=getLocalTypeParametersOfClassOrInterfaceOrTypeAlias(symbol),declaration=ts.getDeclarationOfKind(symbol,279),type=void 0;declaration?type=getTypeFromTypeNode(declaration.jsDocTypeLiteral?declaration.jsDocTypeLiteral:declaration.typeExpression.type):(declaration=ts.getDeclarationOfKind(symbol,223),type=getTypeFromTypeNode(declaration.type,symbol,typeParameters)),popTypeResolution()?(links.typeParameters=typeParameters,typeParameters&&(links.instantiations=ts.createMap(),links.instantiations[getTypeListId(links.typeParameters)]=type)):(type=unknownType,error(declaration.name,ts.Diagnostics.Type_alias_0_circularly_references_itself,symbolToString(symbol))),links.declaredType=type}return links.declaredType}function isLiteralEnumMember(symbol,member){var expr=member.initializer;return expr?8===expr.kind||185===expr.kind&&36===expr.operator&&8===expr.operand.kind||69===expr.kind&&!!symbol.exports[expr.text]:!ts.isInAmbientContext(member)}function enumHasLiteralMembers(symbol){for(var _i=0,_a=symbol.declarations;_i<_a.length;_i++){var declaration=_a[_i];if(224===declaration.kind)for(var _b=0,_c=declaration.members;_b<_c.length;_b++){var member=_c[_b];if(!isLiteralEnumMember(symbol,member))return!1}}return!0}function getDeclaredTypeOfEnum(symbol){var links=getSymbolLinks(symbol);if(!links.declaredType){var enumType=links.declaredType=createType(16);if(enumType.symbol=symbol,enumHasLiteralMembers(symbol)){for(var memberTypeList=[],memberTypes=ts.createMap(),_i=0,_a=enumType.symbol.declarations;_i<_a.length;_i++){var declaration=_a[_i];if(224===declaration.kind){computeEnumMemberValues(declaration);for(var _b=0,_c=declaration.members;_b<_c.length;_b++){var member=_c[_b],memberSymbol=getSymbolOfNode(member),value=getEnumMemberValue(member);if(!memberTypes[value]){var memberType=memberTypes[value]=createType(256);memberType.symbol=memberSymbol,memberType.baseType=enumType,memberType.text=""+value,memberTypeList.push(memberType)}}}}enumType.memberTypes=memberTypes,memberTypeList.length>1&&(enumType.flags|=524288,enumType.types=memberTypeList,unionTypes[getTypeListId(memberTypeList)]=enumType)}}return links.declaredType}function getDeclaredTypeOfEnumMember(symbol){var links=getSymbolLinks(symbol);if(!links.declaredType){var enumType=getDeclaredTypeOfEnum(getParentOfSymbol(symbol));links.declaredType=524288&enumType.flags?enumType.memberTypes[getEnumMemberValue(symbol.valueDeclaration)]:enumType}return links.declaredType}function getDeclaredTypeOfTypeParameter(symbol){var links=getSymbolLinks(symbol);if(!links.declaredType){var type=createType(16384);type.symbol=symbol,ts.getDeclarationOfKind(symbol,141).constraint||(type.constraint=noConstraintType),links.declaredType=type}return links.declaredType}function getDeclaredTypeOfAlias(symbol){var links=getSymbolLinks(symbol);return links.declaredType||(links.declaredType=getDeclaredTypeOfSymbol(resolveAlias(symbol))),links.declaredType}function getDeclaredTypeOfSymbol(symbol){return ts.Debug.assert(0===(16777216&symbol.flags)),96&symbol.flags?getDeclaredTypeOfClassOrInterface(symbol):524288&symbol.flags?getDeclaredTypeOfTypeAlias(symbol):262144&symbol.flags?getDeclaredTypeOfTypeParameter(symbol):384&symbol.flags?getDeclaredTypeOfEnum(symbol):8&symbol.flags?getDeclaredTypeOfEnumMember(symbol):8388608&symbol.flags?getDeclaredTypeOfAlias(symbol):unknownType}function isIndependentTypeReference(node){if(node.typeArguments)for(var _i=0,_a=node.typeArguments;_i<_a.length;_i++){var typeNode=_a[_i];if(!isIndependentType(typeNode))return!1}return!0}function isIndependentType(node){switch(node.kind){case 117:case 132:case 130:case 120:case 133:case 103:case 135:case 93:case 127:case 166:return!0;case 160:return isIndependentType(node.elementType);case 155:return isIndependentTypeReference(node)}return!1}function isIndependentVariableLikeDeclaration(node){return node.type&&isIndependentType(node.type)||!node.type&&!node.initializer}function isIndependentFunctionLikeDeclaration(node){if(!(148===node.kind||node.type&&isIndependentType(node.type)))return!1;for(var _i=0,_a=node.parameters;_i<_a.length;_i++){var parameter=_a[_i];if(!isIndependentVariableLikeDeclaration(parameter))return!1}return!0}function isIndependentMember(symbol){if(symbol.declarations&&1===symbol.declarations.length){var declaration=symbol.declarations[0];if(declaration)switch(declaration.kind){case 145:case 144:return isIndependentVariableLikeDeclaration(declaration);case 147:case 146:case 148:return isIndependentFunctionLikeDeclaration(declaration)}}return!1}function createSymbolTable(symbols){for(var result=ts.createMap(),_i=0,symbols_1=symbols;_i<symbols_1.length;_i++){var symbol=symbols_1[_i];result[symbol.name]=symbol}return result}function createInstantiatedSymbolTable(symbols,mapper,mappingThisOnly){for(var result=ts.createMap(),_i=0,symbols_2=symbols;_i<symbols_2.length;_i++){var symbol=symbols_2[_i];result[symbol.name]=mappingThisOnly&&isIndependentMember(symbol)?symbol:instantiateSymbol(symbol,mapper)}return result}function addInheritedMembers(symbols,baseSymbols){for(var _i=0,baseSymbols_1=baseSymbols;_i<baseSymbols_1.length;_i++){var s=baseSymbols_1[_i];symbols[s.name]||(symbols[s.name]=s)}}function resolveDeclaredMembers(type){if(!type.declaredProperties){var symbol=type.symbol;type.declaredProperties=getNamedMembers(symbol.members),type.declaredCallSignatures=getSignaturesOfSymbol(symbol.members.__call),type.declaredConstructSignatures=getSignaturesOfSymbol(symbol.members.__new),type.declaredStringIndexInfo=getIndexInfoOfSymbol(symbol,0),type.declaredNumberIndexInfo=getIndexInfoOfSymbol(symbol,1)}return type}function getTypeWithThisArgument(type,thisArgument){return 131072&type.flags?createTypeReference(type.target,ts.concatenate(type.typeArguments,[thisArgument||type.target.thisType])):type}function resolveObjectTypeMembers(type,source,typeParameters,typeArguments){var mapper,members,callSignatures,constructSignatures,stringIndexInfo,numberIndexInfo;ts.rangeEquals(typeParameters,typeArguments,0,typeParameters.length)?(mapper=identityMapper,members=source.symbol?source.symbol.members:createSymbolTable(source.declaredProperties),callSignatures=source.declaredCallSignatures,constructSignatures=source.declaredConstructSignatures,stringIndexInfo=source.declaredStringIndexInfo,numberIndexInfo=source.declaredNumberIndexInfo):(mapper=createTypeMapper(typeParameters,typeArguments),members=createInstantiatedSymbolTable(source.declaredProperties,mapper,1===typeParameters.length),callSignatures=instantiateList(source.declaredCallSignatures,mapper,instantiateSignature),constructSignatures=instantiateList(source.declaredConstructSignatures,mapper,instantiateSignature),stringIndexInfo=instantiateIndexInfo(source.declaredStringIndexInfo,mapper),numberIndexInfo=instantiateIndexInfo(source.declaredNumberIndexInfo,mapper));var baseTypes=getBaseTypes(source);if(baseTypes.length){source.symbol&&members===source.symbol.members&&(members=createSymbolTable(source.declaredProperties));for(var thisArgument=ts.lastOrUndefined(typeArguments),_i=0,baseTypes_1=baseTypes;_i<baseTypes_1.length;_i++){var baseType=baseTypes_1[_i],instantiatedBaseType=thisArgument?getTypeWithThisArgument(instantiateType(baseType,mapper),thisArgument):baseType;addInheritedMembers(members,getPropertiesOfObjectType(instantiatedBaseType)),callSignatures=ts.concatenate(callSignatures,getSignaturesOfType(instantiatedBaseType,0)),constructSignatures=ts.concatenate(constructSignatures,getSignaturesOfType(instantiatedBaseType,1)),stringIndexInfo=stringIndexInfo||getIndexInfoOfType(instantiatedBaseType,0),numberIndexInfo=numberIndexInfo||getIndexInfoOfType(instantiatedBaseType,1)}}setObjectTypeMembers(type,members,callSignatures,constructSignatures,stringIndexInfo,numberIndexInfo)}function resolveClassOrInterfaceMembers(type){resolveObjectTypeMembers(type,resolveDeclaredMembers(type),emptyArray,emptyArray)}function resolveTypeReferenceMembers(type){var source=resolveDeclaredMembers(type.target),typeParameters=ts.concatenate(source.typeParameters,[source.thisType]),typeArguments=type.typeArguments&&type.typeArguments.length===typeParameters.length?type.typeArguments:ts.concatenate(type.typeArguments,[type]);resolveObjectTypeMembers(type,source,typeParameters,typeArguments)}function createSignature(declaration,typeParameters,thisParameter,parameters,resolvedReturnType,typePredicate,minArgumentCount,hasRestParameter,hasLiteralTypes){var sig=new Signature(checker);return sig.declaration=declaration,sig.typeParameters=typeParameters,sig.parameters=parameters,sig.thisParameter=thisParameter,sig.resolvedReturnType=resolvedReturnType,sig.typePredicate=typePredicate,sig.minArgumentCount=minArgumentCount,sig.hasRestParameter=hasRestParameter,sig.hasLiteralTypes=hasLiteralTypes,sig}function cloneSignature(sig){
return createSignature(sig.declaration,sig.typeParameters,sig.thisParameter,sig.parameters,sig.resolvedReturnType,sig.typePredicate,sig.minArgumentCount,sig.hasRestParameter,sig.hasLiteralTypes)}function getDefaultConstructSignatures(classType){var baseConstructorType=getBaseConstructorTypeOfClass(classType),baseSignatures=getSignaturesOfType(baseConstructorType,1);if(0===baseSignatures.length)return[createSignature(void 0,classType.localTypeParameters,void 0,emptyArray,classType,void 0,0,!1,!1)];for(var baseTypeNode=getBaseTypeNodeOfClass(classType),typeArguments=ts.map(baseTypeNode.typeArguments,getTypeFromTypeNode),typeArgCount=typeArguments?typeArguments.length:0,result=[],_i=0,baseSignatures_1=baseSignatures;_i<baseSignatures_1.length;_i++){var baseSig=baseSignatures_1[_i],typeParamCount=baseSig.typeParameters?baseSig.typeParameters.length:0;if(typeParamCount===typeArgCount){var sig=typeParamCount?getSignatureInstantiation(baseSig,typeArguments):cloneSignature(baseSig);sig.typeParameters=classType.localTypeParameters,sig.resolvedReturnType=classType,result.push(sig)}}return result}function findMatchingSignature(signatureList,signature,partialMatch,ignoreThisTypes,ignoreReturnTypes){for(var _i=0,signatureList_1=signatureList;_i<signatureList_1.length;_i++){var s=signatureList_1[_i];if(compareSignaturesIdentical(s,signature,partialMatch,ignoreThisTypes,ignoreReturnTypes,compareTypesIdentical))return s}}function findMatchingSignatures(signatureLists,signature,listIndex){if(signature.typeParameters){if(listIndex>0)return void 0;for(var i=1;i<signatureLists.length;i++)if(!findMatchingSignature(signatureLists[i],signature,!1,!1,!1))return void 0;return[signature]}for(var result=void 0,i=0;i<signatureLists.length;i++){var match=i===listIndex?signature:findMatchingSignature(signatureLists[i],signature,!0,!0,!0);if(!match)return void 0;ts.contains(result,match)||(result||(result=[])).push(match)}return result}function getUnionSignatures(types,kind){for(var signatureLists=ts.map(types,function(t){return getSignaturesOfType(t,kind)}),result=void 0,i=0;i<signatureLists.length;i++)for(var _i=0,_a=signatureLists[i];_i<_a.length;_i++){var signature=_a[_i];if(!result||!findMatchingSignature(result,signature,!1,!0,!0)){var unionSignatures=findMatchingSignatures(signatureLists,signature,i);if(unionSignatures){var s=signature;if(unionSignatures.length>1){if(s=cloneSignature(signature),ts.forEach(unionSignatures,function(sig){return sig.thisParameter})){var thisType=getUnionType(ts.map(unionSignatures,function(sig){return getTypeOfSymbol(sig.thisParameter)||anyType}),!0);s.thisParameter=createTransientSymbol(signature.thisParameter,thisType)}s.resolvedReturnType=void 0,s.unionSignatures=unionSignatures}(result||(result=[])).push(s)}}}return result||emptyArray}function getUnionIndexInfo(types,kind){for(var indexTypes=[],isAnyReadonly=!1,_i=0,types_1=types;_i<types_1.length;_i++){var type=types_1[_i],indexInfo=getIndexInfoOfType(type,kind);if(!indexInfo)return void 0;indexTypes.push(indexInfo.type),isAnyReadonly=isAnyReadonly||indexInfo.isReadonly}return createIndexInfo(getUnionType(indexTypes,!0),isAnyReadonly)}function resolveUnionTypeMembers(type){var callSignatures=getUnionSignatures(type.types,0),constructSignatures=getUnionSignatures(type.types,1),stringIndexInfo=getUnionIndexInfo(type.types,0),numberIndexInfo=getUnionIndexInfo(type.types,1);setObjectTypeMembers(type,emptySymbols,callSignatures,constructSignatures,stringIndexInfo,numberIndexInfo)}function intersectTypes(type1,type2){return type1?type2?getIntersectionType([type1,type2]):type1:type2}function intersectIndexInfos(info1,info2){return info1?info2?createIndexInfo(getIntersectionType([info1.type,info2.type]),info1.isReadonly&&info2.isReadonly):info1:info2}function resolveIntersectionTypeMembers(type){for(var callSignatures=emptyArray,constructSignatures=emptyArray,stringIndexInfo=void 0,numberIndexInfo=void 0,_i=0,_a=type.types;_i<_a.length;_i++){var t=_a[_i];callSignatures=ts.concatenate(callSignatures,getSignaturesOfType(t,0)),constructSignatures=ts.concatenate(constructSignatures,getSignaturesOfType(t,1)),stringIndexInfo=intersectIndexInfos(stringIndexInfo,getIndexInfoOfType(t,0)),numberIndexInfo=intersectIndexInfos(numberIndexInfo,getIndexInfoOfType(t,1))}setObjectTypeMembers(type,emptySymbols,callSignatures,constructSignatures,stringIndexInfo,numberIndexInfo)}function resolveAnonymousTypeMembers(type){var symbol=type.symbol;if(type.target){var members=createInstantiatedSymbolTable(getPropertiesOfObjectType(type.target),type.mapper,!1),callSignatures=instantiateList(getSignaturesOfType(type.target,0),type.mapper,instantiateSignature),constructSignatures=instantiateList(getSignaturesOfType(type.target,1),type.mapper,instantiateSignature),stringIndexInfo=instantiateIndexInfo(getIndexInfoOfType(type.target,0),type.mapper),numberIndexInfo=instantiateIndexInfo(getIndexInfoOfType(type.target,1),type.mapper);setObjectTypeMembers(type,members,callSignatures,constructSignatures,stringIndexInfo,numberIndexInfo)}else if(2048&symbol.flags){var members=symbol.members,callSignatures=getSignaturesOfSymbol(members.__call),constructSignatures=getSignaturesOfSymbol(members.__new),stringIndexInfo=getIndexInfoOfSymbol(symbol,0),numberIndexInfo=getIndexInfoOfSymbol(symbol,1);setObjectTypeMembers(type,members,callSignatures,constructSignatures,stringIndexInfo,numberIndexInfo)}else{var members=emptySymbols,constructSignatures=emptyArray;if(1952&symbol.flags&&(members=getExportsOfSymbol(symbol)),32&symbol.flags){var classType=getDeclaredTypeOfClassOrInterface(symbol);constructSignatures=getSignaturesOfSymbol(symbol.members.__constructor),constructSignatures.length||(constructSignatures=getDefaultConstructSignatures(classType));var baseConstructorType=getBaseConstructorTypeOfClass(classType);2588672&baseConstructorType.flags&&(members=createSymbolTable(getNamedMembers(members)),addInheritedMembers(members,getPropertiesOfObjectType(baseConstructorType)))}var numberIndexInfo=384&symbol.flags?enumNumberIndexInfo:void 0;setObjectTypeMembers(type,members,emptyArray,constructSignatures,void 0,numberIndexInfo),8208&symbol.flags&&(type.callSignatures=getSignaturesOfSymbol(symbol))}}function resolveStructuredTypeMembers(type){return type.members||(131072&type.flags?resolveTypeReferenceMembers(type):98304&type.flags?resolveClassOrInterfaceMembers(type):2097152&type.flags?resolveAnonymousTypeMembers(type):524288&type.flags?resolveUnionTypeMembers(type):1048576&type.flags&&resolveIntersectionTypeMembers(type)),type}function getPropertiesOfObjectType(type){return 2588672&type.flags?resolveStructuredTypeMembers(type).properties:emptyArray}function getPropertyOfObjectType(type,name){if(2588672&type.flags){var resolved=resolveStructuredTypeMembers(type),symbol=resolved.members[name];if(symbol&&symbolIsValue(symbol))return symbol}}function getPropertiesOfUnionOrIntersectionType(type){for(var _i=0,_a=type.types;_i<_a.length;_i++){for(var current=_a[_i],_b=0,_c=getPropertiesOfType(current);_b<_c.length;_b++){var prop=_c[_b];getPropertyOfUnionOrIntersectionType(type,prop.name)}if(524288&type.flags)break}return type.resolvedProperties?symbolsToArray(type.resolvedProperties):emptyArray}function getPropertiesOfType(type){return type=getApparentType(type),1572864&type.flags?getPropertiesOfUnionOrIntersectionType(type):getPropertiesOfObjectType(type)}function getApparentTypeOfTypeParameter(type){if(!type.resolvedApparentType){for(var constraintType=getConstraintOfTypeParameter(type);constraintType&&16384&constraintType.flags;)constraintType=getConstraintOfTypeParameter(constraintType);type.resolvedApparentType=getTypeWithThisArgument(constraintType||emptyObjectType,type)}return type.resolvedApparentType}function getApparentType(type){return 16384&type.flags&&(type=getApparentTypeOfTypeParameter(type)),34&type.flags?type=globalStringType:340&type.flags?type=globalNumberType:136&type.flags?type=globalBooleanType:512&type.flags&&(type=getGlobalESSymbolType()),type}function createUnionOrIntersectionProperty(containingType,name){for(var props,types=containingType.types,commonFlags=1048576&containingType.flags?536870912:0,isReadonly=!1,_i=0,types_2=types;_i<types_2.length;_i++){var current=types_2[_i],type=getApparentType(current);if(type!==unknownType){var prop=getPropertyOfType(type,name);if(!prop||24&getDeclarationFlagsFromSymbol(prop)){if(524288&containingType.flags)return void 0}else commonFlags&=prop.flags,props?ts.contains(props,prop)||props.push(prop):props=[prop],isReadonlySymbol(prop)&&(isReadonly=!0)}}if(!props)return void 0;if(1===props.length)return props[0];for(var propTypes=[],declarations=[],commonType=void 0,hasCommonType=!0,_a=0,props_1=props;_a<props_1.length;_a++){var prop=props_1[_a];prop.declarations&&ts.addRange(declarations,prop.declarations);var type=getTypeOfSymbol(prop);commonType?type!==commonType&&(hasCommonType=!1):commonType=type,propTypes.push(getTypeOfSymbol(prop))}var result=createSymbol(335544324|commonFlags,name);return result.containingType=containingType,result.hasCommonType=hasCommonType,result.declarations=declarations,result.isReadonly=isReadonly,result.type=524288&containingType.flags?getUnionType(propTypes):getIntersectionType(propTypes),result}function getPropertyOfUnionOrIntersectionType(type,name){var properties=type.resolvedProperties||(type.resolvedProperties=ts.createMap()),property=properties[name];return property||(property=createUnionOrIntersectionProperty(type,name),property&&(properties[name]=property)),property}function getPropertyOfType(type,name){if(type=getApparentType(type),2588672&type.flags){var resolved=resolveStructuredTypeMembers(type),symbol=resolved.members[name];if(symbol&&symbolIsValue(symbol))return symbol;if(resolved===anyFunctionType||resolved.callSignatures.length||resolved.constructSignatures.length){var symbol_1=getPropertyOfObjectType(globalFunctionType,name);if(symbol_1)return symbol_1}return getPropertyOfObjectType(globalObjectType,name)}return 1572864&type.flags?getPropertyOfUnionOrIntersectionType(type,name):void 0}function getSignaturesOfStructuredType(type,kind){if(4161536&type.flags){var resolved=resolveStructuredTypeMembers(type);return 0===kind?resolved.callSignatures:resolved.constructSignatures}return emptyArray}function getSignaturesOfType(type,kind){return getSignaturesOfStructuredType(getApparentType(type),kind)}function getIndexInfoOfStructuredType(type,kind){if(4161536&type.flags){var resolved=resolveStructuredTypeMembers(type);return 0===kind?resolved.stringIndexInfo:resolved.numberIndexInfo}}function getIndexTypeOfStructuredType(type,kind){var info=getIndexInfoOfStructuredType(type,kind);return info&&info.type}function getIndexInfoOfType(type,kind){return getIndexInfoOfStructuredType(getApparentType(type),kind)}function getIndexTypeOfType(type,kind){return getIndexTypeOfStructuredType(getApparentType(type),kind)}function getImplicitIndexTypeOfType(type,kind){if(isObjectLiteralType(type)){for(var propTypes=[],_i=0,_a=getPropertiesOfType(type);_i<_a.length;_i++){var prop=_a[_i];(0===kind||isNumericLiteralName(prop.name))&&propTypes.push(getTypeOfSymbol(prop))}if(propTypes.length)return getUnionType(propTypes,!0)}return void 0}function getTypeParametersFromJSDocTemplate(declaration){if(134217728&declaration.flags){var templateTag=ts.getJSDocTemplateTag(declaration);if(templateTag)return getTypeParametersFromDeclaration(templateTag.typeParameters)}return void 0}function getTypeParametersFromDeclaration(typeParameterDeclarations){var result=[];return ts.forEach(typeParameterDeclarations,function(node){var tp=getDeclaredTypeOfTypeParameter(node.symbol);ts.contains(result,tp)||result.push(tp)}),result}function symbolsToArray(symbols){var result=[];for(var id in symbols)isReservedMemberName(id)||result.push(symbols[id]);return result}function isJSDocOptionalParameter(node){if(134217728&node.flags){if(node.type&&268===node.type.kind)return!0;var paramTag=ts.getCorrespondingJSDocParameterTag(node);if(paramTag){if(paramTag.isBracketed)return!0;if(paramTag.typeExpression)return 268===paramTag.typeExpression.type.kind}}}function isOptionalParameter(node){if(ts.hasQuestionToken(node)||isJSDocOptionalParameter(node))return!0;if(node.initializer){var signatureDeclaration=node.parent,signature=getSignatureFromDeclaration(signatureDeclaration),parameterIndex=ts.indexOf(signatureDeclaration.parameters,node);return ts.Debug.assert(parameterIndex>=0),parameterIndex>=signature.minArgumentCount}return!1}function createTypePredicateFromTypePredicateNode(node){if(69===node.parameterName.kind){var parameterName=node.parameterName;return{kind:1,parameterName:parameterName?parameterName.text:void 0,parameterIndex:parameterName?getTypePredicateParameterIndex(node.parent.parameters,parameterName):void 0,type:getTypeFromTypeNode(node.type)}}return{kind:0,type:getTypeFromTypeNode(node.type)}}function getSignatureFromDeclaration(declaration){var links=getNodeLinks(declaration);if(!links.resolvedSignature){for(var parameters=[],hasLiteralTypes=!1,minArgumentCount=-1,thisParameter=void 0,hasThisParameter=void 0,isJSConstructSignature=ts.isJSDocConstructSignature(declaration),i=isJSConstructSignature?1:0,n=declaration.parameters.length;n>i;i++){var param=declaration.parameters[i],paramSymbol=param.symbol;if(paramSymbol&&4&paramSymbol.flags&&!ts.isBindingPattern(param.name)){var resolvedSymbol=resolveName(param,paramSymbol.name,107455,void 0,void 0);paramSymbol=resolvedSymbol}0===i&&"this"===paramSymbol.name?(hasThisParameter=!0,thisParameter=param.symbol):parameters.push(paramSymbol),param.type&&166===param.type.kind&&(hasLiteralTypes=!0),param.initializer||param.questionToken||param.dotDotDotToken||isJSDocOptionalParameter(param)?0>minArgumentCount&&(minArgumentCount=i-(hasThisParameter?1:0)):minArgumentCount=-1}if(!(149!==declaration.kind&&150!==declaration.kind||ts.hasDynamicName(declaration)||hasThisParameter&&thisParameter)){var otherKind=149===declaration.kind?150:149,other=ts.getDeclarationOfKind(declaration.symbol,otherKind);other&&(thisParameter=getAnnotatedAccessorThisParameter(other))}0>minArgumentCount&&(minArgumentCount=declaration.parameters.length-(hasThisParameter?1:0)),isJSConstructSignature&&minArgumentCount--,!thisParameter&&ts.isObjectLiteralMethod(declaration)&&(thisParameter=getContextualThisParameter(declaration));var classType=148===declaration.kind?getDeclaredTypeOfClassOrInterface(getMergedSymbol(declaration.parent.symbol)):void 0,typeParameters=classType?classType.localTypeParameters:declaration.typeParameters?getTypeParametersFromDeclaration(declaration.typeParameters):getTypeParametersFromJSDocTemplate(declaration),returnType=getSignatureReturnTypeFromDeclaration(declaration,minArgumentCount,isJSConstructSignature,classType),typePredicate=declaration.type&&154===declaration.type.kind?createTypePredicateFromTypePredicateNode(declaration.type):void 0;links.resolvedSignature=createSignature(declaration,typeParameters,thisParameter,parameters,returnType,typePredicate,minArgumentCount,ts.hasRestParameter(declaration),hasLiteralTypes)}return links.resolvedSignature}function getSignatureReturnTypeFromDeclaration(declaration,minArgumentCount,isJSConstructSignature,classType){if(isJSConstructSignature)return getTypeFromTypeNode(declaration.parameters[0].type);if(classType)return classType;if(declaration.type)return getTypeFromTypeNode(declaration.type);if(134217728&declaration.flags){var type=getReturnTypeFromJSDocComment(declaration);if(type&&type!==unknownType)return type}if(149===declaration.kind&&!ts.hasDynamicName(declaration)){var setter=ts.getDeclarationOfKind(declaration.symbol,150);return getAnnotatedAccessorType(setter)}return ts.nodeIsMissing(declaration.body)?anyType:void 0}function getSignaturesOfSymbol(symbol){if(!symbol)return emptyArray;for(var result=[],i=0,len=symbol.declarations.length;len>i;i++){var node=symbol.declarations[i];switch(node.kind){case 156:case 157:case 220:case 147:case 146:case 148:case 151:case 152:case 153:case 149:case 150:case 179:case 180:case 269:if(i>0&&node.body){var previous=symbol.declarations[i-1];if(node.parent===previous.parent&&node.kind===previous.kind&&node.pos===previous.end)break}result.push(getSignatureFromDeclaration(node))}}return result}function resolveExternalModuleTypeByLiteral(name){var moduleSym=resolveExternalModuleName(name,name);if(moduleSym){var resolvedModuleSymbol=resolveExternalModuleSymbol(moduleSym);if(resolvedModuleSymbol)return getTypeOfSymbol(resolvedModuleSymbol)}return anyType}function getThisTypeOfSignature(signature){return signature.thisParameter?getTypeOfSymbol(signature.thisParameter):void 0}function getReturnTypeOfSignature(signature){if(!signature.resolvedReturnType){if(!pushTypeResolution(signature,3))return unknownType;var type=void 0;if(type=signature.target?instantiateType(getReturnTypeOfSignature(signature.target),signature.mapper):signature.unionSignatures?getUnionType(ts.map(signature.unionSignatures,getReturnTypeOfSignature),!0):getReturnTypeFromBody(signature.declaration),!popTypeResolution()&&(type=anyType,compilerOptions.noImplicitAny)){var declaration=signature.declaration;declaration.name?error(declaration.name,ts.Diagnostics._0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions,ts.declarationNameToString(declaration.name)):error(declaration,ts.Diagnostics.Function_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions)}signature.resolvedReturnType=type}return signature.resolvedReturnType}function getRestTypeOfSignature(signature){if(signature.hasRestParameter){var type=getTypeOfSymbol(ts.lastOrUndefined(signature.parameters));if(131072&type.flags&&type.target===globalArrayType)return type.typeArguments[0]}return anyType}function getSignatureInstantiation(signature,typeArguments){return instantiateSignature(signature,createTypeMapper(signature.typeParameters,typeArguments),!0)}function getErasedSignature(signature){return signature.typeParameters?(signature.erasedSignatureCache||(signature.erasedSignatureCache=instantiateSignature(signature,createTypeEraser(signature.typeParameters),!0)),signature.erasedSignatureCache):signature}function getOrCreateTypeFromSignature(signature){if(!signature.isolatedSignatureType){var isConstructor=148===signature.declaration.kind||152===signature.declaration.kind,type=createObjectType(2097152);type.members=emptySymbols,type.properties=emptyArray,type.callSignatures=isConstructor?emptyArray:[signature],type.constructSignatures=isConstructor?[signature]:emptyArray,signature.isolatedSignatureType=type}return signature.isolatedSignatureType}function getIndexSymbol(symbol){return symbol.members.__index}function getIndexDeclarationOfSymbol(symbol,kind){var syntaxKind=1===kind?130:132,indexSymbol=getIndexSymbol(symbol);if(indexSymbol)for(var _i=0,_a=indexSymbol.declarations;_i<_a.length;_i++){var decl=_a[_i],node=decl;if(1===node.parameters.length){var parameter=node.parameters[0];if(parameter&&parameter.type&&parameter.type.kind===syntaxKind)return node}}return void 0}function createIndexInfo(type,isReadonly,declaration){return{type:type,isReadonly:isReadonly,declaration:declaration}}function getIndexInfoOfSymbol(symbol,kind){var declaration=getIndexDeclarationOfSymbol(symbol,kind);return declaration?createIndexInfo(declaration.type?getTypeFromTypeNode(declaration.type):anyType,0!==(64&declaration.flags),declaration):void 0}function getConstraintDeclaration(type){return ts.getDeclarationOfKind(type.symbol,141).constraint}function hasConstraintReferenceTo(type,target){for(var checked;type&&!(268435456&type.flags)&&16384&type.flags&&!ts.contains(checked,type);){if(type===target)return!0;(checked||(checked=[])).push(type);var constraintDeclaration=getConstraintDeclaration(type);type=constraintDeclaration&&getTypeFromTypeNode(constraintDeclaration)}return!1}function getConstraintOfTypeParameter(typeParameter){if(!typeParameter.constraint)if(typeParameter.target){var targetConstraint=getConstraintOfTypeParameter(typeParameter.target);typeParameter.constraint=targetConstraint?instantiateType(targetConstraint,typeParameter.mapper):noConstraintType}else{var constraintDeclaration=getConstraintDeclaration(typeParameter),constraint=getTypeFromTypeNode(constraintDeclaration);hasConstraintReferenceTo(constraint,typeParameter)&&(error(constraintDeclaration,ts.Diagnostics.Type_parameter_0_has_a_circular_constraint,typeToString(typeParameter)),constraint=unknownType),typeParameter.constraint=constraint}return typeParameter.constraint===noConstraintType?void 0:typeParameter.constraint}function getParentSymbolOfTypeParameter(typeParameter){return getSymbolOfNode(ts.getDeclarationOfKind(typeParameter.symbol,141).parent)}function getTypeListId(types){var result="";if(types)for(var length_3=types.length,i=0;length_3>i;){for(var startId=types[i].id,count=1;length_3>i+count&&types[i+count].id===startId+count;)count++;result.length&&(result+=","),result+=startId,count>1&&(result+=":"+count),i+=count}return result}function getPropagatingFlagsOfTypes(types,excludeKinds){for(var result=0,_i=0,types_3=types;_i<types_3.length;_i++){var type=types_3[_i];type.flags&excludeKinds||(result|=type.flags)}return 234881024&result}function createTypeReference(target,typeArguments){var id=getTypeListId(typeArguments),type=target.instantiations[id];if(!type){var propagatedFlags=typeArguments?getPropagatingFlagsOfTypes(typeArguments,0):0,flags=131072|propagatedFlags;type=target.instantiations[id]=createObjectType(flags,target.symbol),type.target=target,type.typeArguments=typeArguments}return type}function cloneTypeReference(source){var type=createObjectType(source.flags,source.symbol);return type.target=source.target,type.typeArguments=source.typeArguments,type}function getTypeReferenceArity(type){return type.target.typeParameters?type.target.typeParameters.length:0}function getTypeFromClassOrInterfaceReference(node,symbol){var type=getDeclaredTypeOfSymbol(getMergedSymbol(symbol)),typeParameters=type.localTypeParameters;return typeParameters?node.typeArguments&&node.typeArguments.length===typeParameters.length?createTypeReference(type,ts.concatenate(type.outerTypeParameters,ts.map(node.typeArguments,getTypeFromTypeNode))):(error(node,ts.Diagnostics.Generic_type_0_requires_1_type_argument_s,typeToString(type,void 0,1),typeParameters.length),unknownType):node.typeArguments?(error(node,ts.Diagnostics.Type_0_is_not_generic,typeToString(type)),unknownType):type}function getTypeFromTypeAliasReference(node,symbol){var type=getDeclaredTypeOfSymbol(symbol),links=getSymbolLinks(symbol),typeParameters=links.typeParameters;if(typeParameters){if(!node.typeArguments||node.typeArguments.length!==typeParameters.length)return error(node,ts.Diagnostics.Generic_type_0_requires_1_type_argument_s,symbolToString(symbol),typeParameters.length),unknownType;var typeArguments=ts.map(node.typeArguments,getTypeFromTypeNode),id=getTypeListId(typeArguments);return links.instantiations[id]||(links.instantiations[id]=instantiateType(type,createTypeMapper(typeParameters,typeArguments)))}return node.typeArguments?(error(node,ts.Diagnostics.Type_0_is_not_generic,symbolToString(symbol)),unknownType):type}function getTypeFromNonGenericTypeReference(node,symbol){return node.typeArguments?(error(node,ts.Diagnostics.Type_0_is_not_generic,symbolToString(symbol)),unknownType):getDeclaredTypeOfSymbol(symbol)}function getTypeReferenceName(node){switch(node.kind){case 155:return node.typeName;case 267:return node.name;case 194:var expr=node.expression;if(ts.isEntityNameExpression(expr))return expr}return void 0}function resolveTypeReferenceName(node,typeReferenceName){return typeReferenceName?resolveEntityName(typeReferenceName,793064)||unknownSymbol:unknownSymbol}function getTypeReferenceType(node,symbol){return symbol===unknownSymbol?unknownType:96&symbol.flags?getTypeFromClassOrInterfaceReference(node,symbol):524288&symbol.flags?getTypeFromTypeAliasReference(node,symbol):107455&symbol.flags&&267===node.kind?getTypeOfSymbol(symbol):getTypeFromNonGenericTypeReference(node,symbol)}function getTypeFromTypeReference(node){var links=getNodeLinks(node);if(!links.resolvedType){var symbol=void 0,type=void 0;if(267===node.kind){var typeReferenceName=getTypeReferenceName(node);symbol=resolveTypeReferenceName(node,typeReferenceName),type=getTypeReferenceType(node,symbol)}else{var typeNameOrExpression=155===node.kind?node.typeName:ts.isEntityNameExpression(node.expression)?node.expression:void 0;symbol=typeNameOrExpression&&resolveEntityName(typeNameOrExpression,793064)||unknownSymbol,type=symbol===unknownSymbol?unknownType:96&symbol.flags?getTypeFromClassOrInterfaceReference(node,symbol):524288&symbol.flags?getTypeFromTypeAliasReference(node,symbol):getTypeFromNonGenericTypeReference(node,symbol)}links.resolvedSymbol=symbol,links.resolvedType=type}return links.resolvedType}function getTypeFromTypeQueryNode(node){var links=getNodeLinks(node);return links.resolvedType||(links.resolvedType=getWidenedType(checkExpression(node.exprName))),links.resolvedType}function getTypeOfGlobalSymbol(symbol,arity){function getTypeDeclaration(symbol){for(var declarations=symbol.declarations,_i=0,declarations_3=declarations;_i<declarations_3.length;_i++){var declaration=declarations_3[_i];switch(declaration.kind){case 221:case 222:case 224:return declaration}}}if(!symbol)return arity?emptyGenericType:emptyObjectType;var type=getDeclaredTypeOfSymbol(symbol);return 2588672&type.flags?(type.typeParameters?type.typeParameters.length:0)!==arity?(error(getTypeDeclaration(symbol),ts.Diagnostics.Global_type_0_must_have_1_type_parameter_s,symbol.name,arity),arity?emptyGenericType:emptyObjectType):type:(error(getTypeDeclaration(symbol),ts.Diagnostics.Global_type_0_must_be_a_class_or_interface_type,symbol.name),arity?emptyGenericType:emptyObjectType)}function getGlobalValueSymbol(name){return getGlobalSymbol(name,107455,ts.Diagnostics.Cannot_find_global_value_0)}function getGlobalTypeSymbol(name){return getGlobalSymbol(name,793064,ts.Diagnostics.Cannot_find_global_type_0)}function getGlobalSymbol(name,meaning,diagnostic){return resolveName(void 0,name,meaning,diagnostic,name)}function getGlobalType(name,arity){return void 0===arity&&(arity=0),getTypeOfGlobalSymbol(getGlobalTypeSymbol(name),arity)}function getExportedTypeFromNamespace(namespace,name){var namespaceSymbol=getGlobalSymbol(namespace,1920,void 0),typeSymbol=namespaceSymbol&&getSymbol(namespaceSymbol.exports,name,793064);return typeSymbol&&getDeclaredTypeOfSymbol(typeSymbol)}function createTypedPropertyDescriptorType(propertyType){var globalTypedPropertyDescriptorType=getGlobalTypedPropertyDescriptorType();return globalTypedPropertyDescriptorType!==emptyGenericType?createTypeReference(globalTypedPropertyDescriptorType,[propertyType]):emptyObjectType}function createTypeFromGenericGlobalType(genericGlobalType,typeArguments){return genericGlobalType!==emptyGenericType?createTypeReference(genericGlobalType,typeArguments):emptyObjectType}function createIterableType(elementType){return createTypeFromGenericGlobalType(getGlobalIterableType(),[elementType])}function createIterableIteratorType(elementType){return createTypeFromGenericGlobalType(getGlobalIterableIteratorType(),[elementType])}function createArrayType(elementType){return createTypeFromGenericGlobalType(globalArrayType,[elementType])}function getTypeFromArrayTypeNode(node){var links=getNodeLinks(node);return links.resolvedType||(links.resolvedType=createArrayType(getTypeFromTypeNode(node.elementType))),links.resolvedType}function createTupleTypeOfArity(arity){for(var typeParameters=[],properties=[],i=0;arity>i;i++){var typeParameter=createType(16384);typeParameters.push(typeParameter);var property=createSymbol(67108868,""+i);property.type=typeParameter,properties.push(property)}var type=createObjectType(393216);return type.typeParameters=typeParameters,type.outerTypeParameters=void 0,type.localTypeParameters=typeParameters,type.instantiations=ts.createMap(),type.instantiations[getTypeListId(type.typeParameters)]=type,type.target=type,type.typeArguments=type.typeParameters,type.thisType=createType(268451840),type.thisType.constraint=type,type.declaredProperties=properties,type.declaredCallSignatures=emptyArray,type.declaredConstructSignatures=emptyArray,type.declaredStringIndexInfo=void 0,type.declaredNumberIndexInfo=void 0,type}function getTupleTypeOfArity(arity){return tupleTypes[arity]||(tupleTypes[arity]=createTupleTypeOfArity(arity))}function createTupleType(elementTypes){return createTypeReference(getTupleTypeOfArity(elementTypes.length),elementTypes)}function getTypeFromTupleTypeNode(node){var links=getNodeLinks(node);return links.resolvedType||(links.resolvedType=createTupleType(ts.map(node.elementTypes,getTypeFromTypeNode))),links.resolvedType}function binarySearchTypes(types,type){for(var low=0,high=types.length-1,typeId=type.id;high>=low;){var middle=low+(high-low>>1),id=types[middle].id;if(id===typeId)return middle;id>typeId?high=middle-1:low=middle+1}return~low}function containsType(types,type){return binarySearchTypes(types,type)>=0}function addTypeToUnion(typeSet,type){if(524288&type.flags)addTypesToUnion(typeSet,type.types);else if(1&type.flags)typeSet.containsAny=!0;else if(!strictNullChecks&&6144&type.flags)2048&type.flags&&(typeSet.containsUndefined=!0),4096&type.flags&&(typeSet.containsNull=!0),33554432&type.flags||(typeSet.containsNonWideningType=!0);else if(!(8192&type.flags)){var len=typeSet.length,index=len&&type.id>typeSet[len-1].id?~len:binarySearchTypes(typeSet,type);0>index&&(2097152&type.flags&&type.symbol&&8208&type.symbol.flags&&containsIdenticalType(typeSet,type)||typeSet.splice(~index,0,type))}}function addTypesToUnion(typeSet,types){for(var _i=0,types_4=types;_i<types_4.length;_i++){var type=types_4[_i];addTypeToUnion(typeSet,type)}}function containsIdenticalType(types,type){for(var _i=0,types_5=types;_i<types_5.length;_i++){var t=types_5[_i];if(isTypeIdenticalTo(t,type))return!0}return!1}function isSubtypeOfAny(candidate,types){for(var i=0,len=types.length;len>i;i++)if(candidate!==types[i]&&isTypeSubtypeOf(candidate,types[i]))return!0;return!1}function isSetOfLiteralsFromSameEnum(types){var first=types[0];if(256&first.flags){for(var firstEnum=getParentOfSymbol(first.symbol),i=1;i<types.length;i++){var other=types[i];if(!(256&other.flags)||firstEnum!==getParentOfSymbol(other.symbol))return!1}return!0}return!1}function removeSubtypes(types){if(0!==types.length&&!isSetOfLiteralsFromSameEnum(types))for(var i=types.length;i>0;)i--,isSubtypeOfAny(types[i],types)&&types.splice(i,1)}function getUnionType(types,subtypeReduction,aliasSymbol,aliasTypeArguments){if(0===types.length)return neverType;if(1===types.length)return types[0];var typeSet=[];return addTypesToUnion(typeSet,types),typeSet.containsAny?anyType:(subtypeReduction&&removeSubtypes(typeSet),0===typeSet.length?typeSet.containsNull?typeSet.containsNonWideningType?nullType:nullWideningType:typeSet.containsUndefined?typeSet.containsNonWideningType?undefinedType:undefinedWideningType:neverType:getUnionTypeFromSortedList(typeSet,aliasSymbol,aliasTypeArguments))}function getUnionTypeFromSortedList(types,aliasSymbol,aliasTypeArguments){if(0===types.length)return neverType;if(1===types.length)return types[0];var id=getTypeListId(types),type=unionTypes[id];if(!type){var propagatedFlags=getPropagatingFlagsOfTypes(types,6144);type=unionTypes[id]=createObjectType(524288|propagatedFlags),type.types=types,type.aliasSymbol=aliasSymbol,type.aliasTypeArguments=aliasTypeArguments}return type}function getTypeFromUnionTypeNode(node,aliasSymbol,aliasTypeArguments){var links=getNodeLinks(node);return links.resolvedType||(links.resolvedType=getUnionType(ts.map(node.types,getTypeFromTypeNode),!1,aliasSymbol,aliasTypeArguments)),links.resolvedType;
}function addTypeToIntersection(typeSet,type){1048576&type.flags?addTypesToIntersection(typeSet,type.types):1&type.flags?typeSet.containsAny=!0:8192&type.flags||!strictNullChecks&&6144&type.flags||ts.contains(typeSet,type)||typeSet.push(type)}function addTypesToIntersection(typeSet,types){for(var _i=0,types_6=types;_i<types_6.length;_i++){var type=types_6[_i];addTypeToIntersection(typeSet,type)}}function getIntersectionType(types,aliasSymbol,aliasTypeArguments){if(0===types.length)return emptyObjectType;var typeSet=[];if(addTypesToIntersection(typeSet,types),typeSet.containsAny)return anyType;if(1===typeSet.length)return typeSet[0];var id=getTypeListId(typeSet),type=intersectionTypes[id];if(!type){var propagatedFlags=getPropagatingFlagsOfTypes(typeSet,6144);type=intersectionTypes[id]=createObjectType(1048576|propagatedFlags),type.types=typeSet,type.aliasSymbol=aliasSymbol,type.aliasTypeArguments=aliasTypeArguments}return type}function getTypeFromIntersectionTypeNode(node,aliasSymbol,aliasTypeArguments){var links=getNodeLinks(node);return links.resolvedType||(links.resolvedType=getIntersectionType(ts.map(node.types,getTypeFromTypeNode),aliasSymbol,aliasTypeArguments)),links.resolvedType}function getTypeFromTypeLiteralOrFunctionOrConstructorTypeNode(node,aliasSymbol,aliasTypeArguments){var links=getNodeLinks(node);if(!links.resolvedType){var type=createObjectType(2097152,node.symbol);type.aliasSymbol=aliasSymbol,type.aliasTypeArguments=aliasTypeArguments,links.resolvedType=type}return links.resolvedType}function createLiteralType(flags,text){var type=createType(flags);return type.text=text,type}function getLiteralTypeForText(flags,text){var map=32&flags?stringLiteralTypes:numericLiteralTypes;return map[text]||(map[text]=createLiteralType(flags,text))}function getTypeFromLiteralTypeNode(node){var links=getNodeLinks(node);return links.resolvedType||(links.resolvedType=checkExpression(node.literal)),links.resolvedType}function getTypeFromJSDocVariadicType(node){var links=getNodeLinks(node);if(!links.resolvedType){var type=getTypeFromTypeNode(node.type);links.resolvedType=type?createArrayType(type):unknownType}return links.resolvedType}function getTypeFromJSDocTupleType(node){var links=getNodeLinks(node);if(!links.resolvedType){var types=ts.map(node.types,getTypeFromTypeNode);links.resolvedType=createTupleType(types)}return links.resolvedType}function getThisType(node){var container=ts.getThisContainer(node,!1),parent=container&&container.parent;return!parent||!ts.isClassLike(parent)&&222!==parent.kind||32&container.flags||148===container.kind&&!ts.isNodeDescendentOf(node,container.body)?(error(node,ts.Diagnostics.A_this_type_is_available_only_in_a_non_static_member_of_a_class_or_interface),unknownType):getDeclaredTypeOfClassOrInterface(getSymbolOfNode(parent)).thisType}function getTypeFromThisTypeNode(node){var links=getNodeLinks(node);return links.resolvedType||(links.resolvedType=getThisType(node)),links.resolvedType}function getTypeFromTypeNode(node,aliasSymbol,aliasTypeArguments){switch(node.kind){case 117:case 258:case 259:return anyType;case 132:return stringType;case 130:return numberType;case 120:return booleanType;case 133:return esSymbolType;case 103:return voidType;case 135:return undefinedType;case 93:return nullType;case 127:return neverType;case 283:return nullType;case 284:return undefinedType;case 285:return neverType;case 165:case 97:return getTypeFromThisTypeNode(node);case 166:return getTypeFromLiteralTypeNode(node);case 282:return getTypeFromLiteralTypeNode(node.literal);case 155:case 267:return getTypeFromTypeReference(node);case 154:return booleanType;case 194:return getTypeFromTypeReference(node);case 158:return getTypeFromTypeQueryNode(node);case 160:case 260:return getTypeFromArrayTypeNode(node);case 161:return getTypeFromTupleTypeNode(node);case 162:case 261:return getTypeFromUnionTypeNode(node,aliasSymbol,aliasTypeArguments);case 163:return getTypeFromIntersectionTypeNode(node,aliasSymbol,aliasTypeArguments);case 164:case 263:case 264:case 271:case 272:case 268:return getTypeFromTypeNode(node.type);case 156:case 157:case 159:case 281:case 269:case 265:return getTypeFromTypeLiteralOrFunctionOrConstructorTypeNode(node,aliasSymbol,aliasTypeArguments);case 69:case 139:var symbol=getSymbolAtLocation(node);return symbol&&getDeclaredTypeOfSymbol(symbol);case 262:return getTypeFromJSDocTupleType(node);case 270:return getTypeFromJSDocVariadicType(node);default:return unknownType}}function instantiateList(items,mapper,instantiator){if(items&&items.length){for(var result=[],_i=0,items_1=items;_i<items_1.length;_i++){var v=items_1[_i];result.push(instantiator(v,mapper))}return result}return items}function createUnaryTypeMapper(source,target){return function(t){return t===source?target:t}}function createBinaryTypeMapper(source1,target1,source2,target2){return function(t){return t===source1?target1:t===source2?target2:t}}function createArrayTypeMapper(sources,targets){return function(t){for(var i=0;i<sources.length;i++)if(t===sources[i])return targets?targets[i]:anyType;return t}}function createTypeMapper(sources,targets){var count=sources.length,mapper=1==count?createUnaryTypeMapper(sources[0],targets?targets[0]:anyType):2==count?createBinaryTypeMapper(sources[0],targets?targets[0]:anyType,sources[1],targets?targets[1]:anyType):createArrayTypeMapper(sources,targets);return mapper.mappedTypes=sources,mapper.targetTypes=targets,mapper}function createTypeEraser(sources){return createTypeMapper(sources,void 0)}function getInferenceMapper(context){if(!context.mapper){var mapper=function(t){for(var typeParameters=context.typeParameters,i=0;i<typeParameters.length;i++)if(t===typeParameters[i])return context.inferences[i].isFixed=!0,getInferredType(context,i);return t};mapper.mappedTypes=context.typeParameters,mapper.context=context,context.mapper=mapper}return context.mapper}function identityMapper(type){return type}function combineTypeMappers(mapper1,mapper2){var mapper=function(t){return instantiateType(mapper1(t),mapper2)};return mapper.mappedTypes=mapper1.mappedTypes,mapper}function cloneTypeParameter(typeParameter){var result=createType(16384);return result.symbol=typeParameter.symbol,result.target=typeParameter,result}function cloneTypePredicate(predicate,mapper){return ts.isIdentifierTypePredicate(predicate)?{kind:1,parameterName:predicate.parameterName,parameterIndex:predicate.parameterIndex,type:instantiateType(predicate.type,mapper)}:{kind:0,type:instantiateType(predicate.type,mapper)}}function instantiateSignature(signature,mapper,eraseTypeParameters){var freshTypeParameters,freshTypePredicate;if(signature.typeParameters&&!eraseTypeParameters){freshTypeParameters=ts.map(signature.typeParameters,cloneTypeParameter),mapper=combineTypeMappers(createTypeMapper(signature.typeParameters,freshTypeParameters),mapper);for(var _i=0,freshTypeParameters_1=freshTypeParameters;_i<freshTypeParameters_1.length;_i++){var tp=freshTypeParameters_1[_i];tp.mapper=mapper}}signature.typePredicate&&(freshTypePredicate=cloneTypePredicate(signature.typePredicate,mapper));var result=createSignature(signature.declaration,freshTypeParameters,signature.thisParameter&&instantiateSymbol(signature.thisParameter,mapper),instantiateList(signature.parameters,mapper,instantiateSymbol),instantiateType(signature.resolvedReturnType,mapper),freshTypePredicate,signature.minArgumentCount,signature.hasRestParameter,signature.hasLiteralTypes);return result.target=signature,result.mapper=mapper,result}function instantiateSymbol(symbol,mapper){if(16777216&symbol.flags){var links=getSymbolLinks(symbol);symbol=links.target,mapper=combineTypeMappers(links.mapper,mapper)}var result=createSymbol(83886080|symbol.flags,symbol.name);return result.declarations=symbol.declarations,result.parent=symbol.parent,result.target=symbol,result.mapper=mapper,symbol.valueDeclaration&&(result.valueDeclaration=symbol.valueDeclaration),result}function instantiateAnonymousType(type,mapper){if(mapper.instantiations){var cachedType=mapper.instantiations[type.id];if(cachedType)return cachedType}else mapper.instantiations=[];var result=createObjectType(6291456,type.symbol);return result.target=type,result.mapper=mapper,result.aliasSymbol=type.aliasSymbol,result.aliasTypeArguments=mapper.targetTypes,mapper.instantiations[type.id]=result,result}function isSymbolInScopeOfMappedTypeParameter(symbol,mapper){for(var mappedTypes=mapper.mappedTypes,node=symbol.declarations[0].parent;node;){switch(node.kind){case 156:case 157:case 220:case 147:case 146:case 148:case 151:case 152:case 153:case 149:case 150:case 179:case 180:case 221:case 192:case 222:case 223:var declaration=node;if(declaration.typeParameters)for(var _i=0,_a=declaration.typeParameters;_i<_a.length;_i++){var d=_a[_i];if(ts.contains(mappedTypes,getDeclaredTypeOfTypeParameter(getSymbolOfNode(d))))return!0}if(ts.isClassLike(node)||222===node.kind){var thisType=getDeclaredTypeOfClassOrInterface(getSymbolOfNode(node)).thisType;if(thisType&&ts.contains(mappedTypes,thisType))return!0}break;case 225:case 256:return!1}node=node.parent}return!1}function instantiateType(type,mapper){if(type&&mapper!==identityMapper){if(16384&type.flags)return mapper(type);if(2097152&type.flags)return type.symbol&&14384&type.symbol.flags&&(4194304&type.flags||isSymbolInScopeOfMappedTypeParameter(type.symbol,mapper))?instantiateAnonymousType(type,mapper):type;if(131072&type.flags)return createTypeReference(type.target,instantiateList(type.typeArguments,mapper,instantiateType));if(524288&type.flags&&!(8190&type.flags))return getUnionType(instantiateList(type.types,mapper,instantiateType),!1,type.aliasSymbol,mapper.targetTypes);if(1048576&type.flags)return getIntersectionType(instantiateList(type.types,mapper,instantiateType),type.aliasSymbol,mapper.targetTypes)}return type}function instantiateIndexInfo(info,mapper){return info&&createIndexInfo(instantiateType(info.type,mapper),info.isReadonly,info.declaration)}function isContextSensitive(node){switch(ts.Debug.assert(147!==node.kind||ts.isObjectLiteralMethod(node)),node.kind){case 179:case 180:return isContextSensitiveFunctionLikeDeclaration(node);case 171:return ts.forEach(node.properties,isContextSensitive);case 170:return ts.forEach(node.elements,isContextSensitive);case 188:return isContextSensitive(node.whenTrue)||isContextSensitive(node.whenFalse);case 187:return 52===node.operatorToken.kind&&(isContextSensitive(node.left)||isContextSensitive(node.right));case 253:return isContextSensitive(node.initializer);case 147:case 146:return isContextSensitiveFunctionLikeDeclaration(node);case 178:return isContextSensitive(node.expression)}return!1}function isContextSensitiveFunctionLikeDeclaration(node){var areAllParametersUntyped=!ts.forEach(node.parameters,function(p){return p.type}),isNullaryArrow=180===node.kind&&!node.parameters.length;return!node.typeParameters&&areAllParametersUntyped&&!isNullaryArrow}function isContextSensitiveFunctionOrObjectLiteralMethod(func){return(isFunctionExpressionOrArrowFunction(func)||ts.isObjectLiteralMethod(func))&&isContextSensitiveFunctionLikeDeclaration(func)}function getTypeWithoutSignatures(type){if(2588672&type.flags){var resolved=resolveStructuredTypeMembers(type);if(resolved.constructSignatures.length){var result=createObjectType(2097152,type.symbol);result.members=resolved.members,result.properties=resolved.properties,result.callSignatures=emptyArray,result.constructSignatures=emptyArray,type=result}}return type}function isTypeIdenticalTo(source,target){return isTypeRelatedTo(source,target,identityRelation)}function compareTypesIdentical(source,target){return isTypeRelatedTo(source,target,identityRelation)?-1:0}function compareTypesAssignable(source,target){return isTypeRelatedTo(source,target,assignableRelation)?-1:0}function isTypeSubtypeOf(source,target){return isTypeRelatedTo(source,target,subtypeRelation)}function isTypeAssignableTo(source,target){return isTypeRelatedTo(source,target,assignableRelation)}function isTypeInstanceOf(source,target){return source===target||isTypeSubtypeOf(source,target)&&!isTypeIdenticalTo(source,target)}function isTypeComparableTo(source,target){return isTypeRelatedTo(source,target,comparableRelation)}function areTypesComparable(type1,type2){return isTypeComparableTo(type1,type2)||isTypeComparableTo(type2,type1)}function checkTypeSubtypeOf(source,target,errorNode,headMessage,containingMessageChain){return checkTypeRelatedTo(source,target,subtypeRelation,errorNode,headMessage,containingMessageChain)}function checkTypeAssignableTo(source,target,errorNode,headMessage,containingMessageChain){return checkTypeRelatedTo(source,target,assignableRelation,errorNode,headMessage,containingMessageChain)}function checkTypeComparableTo(source,target,errorNode,headMessage,containingMessageChain){return checkTypeRelatedTo(source,target,comparableRelation,errorNode,headMessage,containingMessageChain)}function isSignatureAssignableTo(source,target,ignoreReturnTypes){return 0!==compareSignaturesRelated(source,target,ignoreReturnTypes,!1,void 0,compareTypesAssignable)}function compareSignaturesRelated(source,target,ignoreReturnTypes,reportErrors,errorReporter,compareTypes){if(source===target)return-1;if(!target.hasRestParameter&&source.minArgumentCount>target.parameters.length)return 0;source=getErasedSignature(source),target=getErasedSignature(target);var result=-1,sourceThisType=getThisTypeOfSignature(source);if(sourceThisType&&sourceThisType!==voidType){var targetThisType=getThisTypeOfSignature(target);if(targetThisType){var related=compareTypes(sourceThisType,targetThisType,!1)||compareTypes(targetThisType,sourceThisType,reportErrors);if(!related)return reportErrors&&errorReporter(ts.Diagnostics.The_this_types_of_each_signature_are_incompatible),0;result&=related}}for(var sourceMax=getNumNonRestParameters(source),targetMax=getNumNonRestParameters(target),checkCount=getNumParametersToCheckForSignatureRelatability(source,sourceMax,target,targetMax),sourceParams=source.parameters,targetParams=target.parameters,i=0;checkCount>i;i++){var s=sourceMax>i?getTypeOfParameter(sourceParams[i]):getRestTypeOfSignature(source),t=targetMax>i?getTypeOfParameter(targetParams[i]):getRestTypeOfSignature(target),related=compareTypes(s,t,!1)||compareTypes(t,s,reportErrors);if(!related)return reportErrors&&errorReporter(ts.Diagnostics.Types_of_parameters_0_and_1_are_incompatible,sourceParams[sourceMax>i?i:sourceMax].name,targetParams[targetMax>i?i:targetMax].name),0;result&=related}if(!ignoreReturnTypes){var targetReturnType=getReturnTypeOfSignature(target);if(targetReturnType===voidType)return result;var sourceReturnType=getReturnTypeOfSignature(source);if(target.typePredicate){if(source.typePredicate)result&=compareTypePredicateRelatedTo(source.typePredicate,target.typePredicate,reportErrors,errorReporter,compareTypes);else if(ts.isIdentifierTypePredicate(target.typePredicate))return reportErrors&&errorReporter(ts.Diagnostics.Signature_0_must_have_a_type_predicate,signatureToString(source)),0}else result&=compareTypes(sourceReturnType,targetReturnType,reportErrors)}return result}function compareTypePredicateRelatedTo(source,target,reportErrors,errorReporter,compareTypes){if(source.kind!==target.kind)return reportErrors&&(errorReporter(ts.Diagnostics.A_this_based_type_guard_is_not_compatible_with_a_parameter_based_type_guard),errorReporter(ts.Diagnostics.Type_predicate_0_is_not_assignable_to_1,typePredicateToString(source),typePredicateToString(target))),0;if(1===source.kind){var sourceIdentifierPredicate=source,targetIdentifierPredicate=target;if(sourceIdentifierPredicate.parameterIndex!==targetIdentifierPredicate.parameterIndex)return reportErrors&&(errorReporter(ts.Diagnostics.Parameter_0_is_not_in_the_same_position_as_parameter_1,sourceIdentifierPredicate.parameterName,targetIdentifierPredicate.parameterName),errorReporter(ts.Diagnostics.Type_predicate_0_is_not_assignable_to_1,typePredicateToString(source),typePredicateToString(target))),0}var related=compareTypes(source.type,target.type,reportErrors);return 0===related&&reportErrors&&errorReporter(ts.Diagnostics.Type_predicate_0_is_not_assignable_to_1,typePredicateToString(source),typePredicateToString(target)),related}function isImplementationCompatibleWithOverload(implementation,overload){var erasedSource=getErasedSignature(implementation),erasedTarget=getErasedSignature(overload),sourceReturnType=getReturnTypeOfSignature(erasedSource),targetReturnType=getReturnTypeOfSignature(erasedTarget);return targetReturnType===voidType||isTypeRelatedTo(targetReturnType,sourceReturnType,assignableRelation)||isTypeRelatedTo(sourceReturnType,targetReturnType,assignableRelation)?isSignatureAssignableTo(erasedSource,erasedTarget,!0):!1}function getNumNonRestParameters(signature){var numParams=signature.parameters.length;return signature.hasRestParameter?numParams-1:numParams}function getNumParametersToCheckForSignatureRelatability(source,sourceNonRestParamCount,target,targetNonRestParamCount){return source.hasRestParameter===target.hasRestParameter?source.hasRestParameter?Math.max(sourceNonRestParamCount,targetNonRestParamCount)+1:Math.min(sourceNonRestParamCount,targetNonRestParamCount):source.hasRestParameter?targetNonRestParamCount:sourceNonRestParamCount}function isEnumTypeRelatedTo(source,target,errorReporter){if(source===target)return!0;var id=source.id+","+target.id;if(void 0!==enumRelation[id])return enumRelation[id];if(!(source.symbol.name===target.symbol.name&&256&source.symbol.flags&&256&target.symbol.flags&&(524288&source.flags)===(524288&target.flags)))return enumRelation[id]=!1;for(var targetEnumType=getTypeOfSymbol(target.symbol),_i=0,_a=getPropertiesOfType(getTypeOfSymbol(source.symbol));_i<_a.length;_i++){var property=_a[_i];if(8&property.flags){var targetProperty=getPropertyOfType(targetEnumType,property.name);if(!(targetProperty&&8&targetProperty.flags))return errorReporter&&errorReporter(ts.Diagnostics.Property_0_is_missing_in_type_1,property.name,typeToString(target,void 0,128)),enumRelation[id]=!1}}return enumRelation[id]=!0}function isSimpleTypeRelatedTo(source,target,relation,errorReporter){if(8192&target.flags)return!1;if(1&target.flags||8192&source.flags)return!0;if(34&source.flags&&2&target.flags)return!0;if(340&source.flags&&4&target.flags)return!0;if(136&source.flags&&8&target.flags)return!0;if(256&source.flags&&16&target.flags&&source.baseType===target)return!0;if(16&source.flags&&16&target.flags&&isEnumTypeRelatedTo(source,target,errorReporter))return!0;if(2048&source.flags&&(!strictNullChecks||3072&target.flags))return!0;if(4096&source.flags&&(!strictNullChecks||4096&target.flags))return!0;if(relation===assignableRelation||relation===comparableRelation){if(1&source.flags)return!0;if(4&source.flags|64&source.flags&&272&target.flags)return!0;if(256&source.flags&&256&target.flags&&source.text===target.text&&isEnumTypeRelatedTo(source.baseType,target.baseType,errorReporter))return!0;if(256&source.flags&&16&target.flags&&isEnumTypeRelatedTo(target,source.baseType,errorReporter))return!0}return!1}function isTypeRelatedTo(source,target,relation){if(source===target||relation!==identityRelation&&isSimpleTypeRelatedTo(source,target,relation))return!0;if(2588672&source.flags&&2588672&target.flags){var id=relation!==identityRelation||source.id<target.id?source.id+","+target.id:target.id+","+source.id,related=relation[id];if(void 0!==related)return 1===related}return 4177920&source.flags||4177920&target.flags?checkTypeRelatedTo(source,target,relation,void 0,void 0,void 0):!1}function checkTypeRelatedTo(source,target,relation,errorNode,headMessage,containingMessageChain){function reportError(message,arg0,arg1,arg2){ts.Debug.assert(!!errorNode),errorInfo=ts.chainDiagnosticMessages(errorInfo,message,arg0,arg1,arg2)}function reportRelationError(message,source,target){var sourceType=typeToString(source),targetType=typeToString(target);sourceType===targetType&&(sourceType=typeToString(source,void 0,128),targetType=typeToString(target,void 0,128)),message||(message=relation===comparableRelation?ts.Diagnostics.Type_0_is_not_comparable_to_type_1:ts.Diagnostics.Type_0_is_not_assignable_to_type_1),reportError(message,sourceType,targetType)}function tryElaborateErrorsForPrimitivesAndObjects(source,target){var sourceType=typeToString(source),targetType=typeToString(target);(globalStringType===source&&stringType===target||globalNumberType===source&&numberType===target||globalBooleanType===source&&booleanType===target||getGlobalESSymbolType()===source&&esSymbolType===target)&&reportError(ts.Diagnostics._0_is_a_primitive_but_1_is_a_wrapper_object_Prefer_using_0_when_possible,targetType,sourceType)}function isRelatedTo(source,target,reportErrors,headMessage){var result;if(source===target)return-1;if(relation===identityRelation)return isIdenticalTo(source,target);if(isSimpleTypeRelatedTo(source,target,relation,reportErrors?reportError:void 0))return-1;if(16777216&source.flags){if(hasExcessProperties(source,target,reportErrors))return reportErrors&&reportRelationError(headMessage,source,target),0;1572864&target.flags&&(source=getRegularTypeOfObjectLiteral(source))}var saveErrorInfo=errorInfo;if(524288&source.flags){if(result=relation===comparableRelation?someTypeRelatedToType(source,target,reportErrors&&!(8190&source.flags)):eachTypeRelatedToType(source,target,reportErrors&&!(8190&source.flags)))return result}else if(1048576&target.flags){if(result=typeRelatedToEachType(source,target,reportErrors))return result}else{if(1048576&source.flags&&(result=someTypeRelatedToType(source,target,!1)))return result;if(524288&target.flags&&(result=typeRelatedToSomeType(source,target,reportErrors&&!(8190&source.flags)&&!(8190&target.flags))))return result}if(16384&source.flags){var constraint=getConstraintOfTypeParameter(source);(!constraint||1&constraint.flags)&&(constraint=emptyObjectType),constraint=getTypeWithThisArgument(constraint,source);var reportConstraintErrors=reportErrors&&constraint!==emptyObjectType;if(result=isRelatedTo(constraint,target,reportConstraintErrors))return errorInfo=saveErrorInfo,result}else{if(131072&source.flags&&131072&target.flags&&source.target===target.target&&(result=typeArgumentsRelatedTo(source,target,reportErrors)))return result;var apparentSource=getApparentType(source);if(3637248&apparentSource.flags&&2588672&target.flags){var reportStructuralErrors=reportErrors&&errorInfo===saveErrorInfo&&!(8190&source.flags);if(result=objectTypeRelatedTo(apparentSource,source,target,reportStructuralErrors))return errorInfo=saveErrorInfo,result}}return reportErrors&&(2588672&source.flags&&8190&target.flags&&tryElaborateErrorsForPrimitivesAndObjects(source,target),reportRelationError(headMessage,source,target)),0}function isIdenticalTo(source,target){var result;return 2588672&source.flags&&2588672&target.flags?131072&source.flags&&131072&target.flags&&source.target===target.target&&(result=typeArgumentsRelatedTo(source,target,!1))?result:objectTypeRelatedTo(source,source,target,!1):(524288&source.flags&&524288&target.flags||1048576&source.flags&&1048576&target.flags)&&(result=eachTypeRelatedToSomeType(source,target,!1))&&(result&=eachTypeRelatedToSomeType(target,source,!1))?result:0}function isKnownProperty(type,name){if(2588672&type.flags){var resolved=resolveStructuredTypeMembers(type);if((relation===assignableRelation||relation===comparableRelation)&&(type===globalObjectType||isEmptyObjectType(resolved))||resolved.stringIndexInfo||resolved.numberIndexInfo&&isNumericLiteralName(name)||getPropertyOfType(type,name))return!0}else if(1572864&type.flags)for(var _i=0,_a=type.types;_i<_a.length;_i++){var t=_a[_i];if(isKnownProperty(t,name))return!0}return!1}function isEmptyObjectType(t){return 0===t.properties.length&&0===t.callSignatures.length&&0===t.constructSignatures.length&&!t.stringIndexInfo&&!t.numberIndexInfo}function hasExcessProperties(source,target,reportErrors){if(!(536870912&target.flags)&&maybeTypeOfKind(target,2588672))for(var _i=0,_a=getPropertiesOfObjectType(source);_i<_a.length;_i++){var prop=_a[_i];if(!isKnownProperty(target,prop.name))return reportErrors&&(ts.Debug.assert(!!errorNode),errorNode=prop.valueDeclaration,reportError(ts.Diagnostics.Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1,symbolToString(prop),typeToString(target))),!0}return!1}function eachTypeRelatedToSomeType(source,target,reportErrors){for(var result=-1,sourceTypes=source.types,_i=0,sourceTypes_1=sourceTypes;_i<sourceTypes_1.length;_i++){var sourceType=sourceTypes_1[_i],related=typeRelatedToSomeType(sourceType,target,!1);if(!related)return 0;result&=related}return result}function typeRelatedToSomeType(source,target,reportErrors){var targetTypes=target.types;if(524288&target.flags&&containsType(targetTypes,source))return-1;for(var len=targetTypes.length,i=0;len>i;i++){var related=isRelatedTo(source,targetTypes[i],reportErrors&&i===len-1);if(related)return related}return 0}function typeRelatedToEachType(source,target,reportErrors){for(var result=-1,targetTypes=target.types,_i=0,targetTypes_1=targetTypes;_i<targetTypes_1.length;_i++){var targetType=targetTypes_1[_i],related=isRelatedTo(source,targetType,reportErrors);if(!related)return 0;result&=related}return result}function someTypeRelatedToType(source,target,reportErrors){var sourceTypes=source.types;if(524288&source.flags&&containsType(sourceTypes,target))return-1;for(var len=sourceTypes.length,i=0;len>i;i++){var related=isRelatedTo(sourceTypes[i],target,reportErrors&&i===len-1);if(related)return related}return 0}function eachTypeRelatedToType(source,target,reportErrors){for(var result=-1,sourceTypes=source.types,_i=0,sourceTypes_2=sourceTypes;_i<sourceTypes_2.length;_i++){var sourceType=sourceTypes_2[_i],related=isRelatedTo(sourceType,target,reportErrors);if(!related)return 0;result&=related}return result}function typeArgumentsRelatedTo(source,target,reportErrors){var sources=source.typeArguments||emptyArray,targets=target.typeArguments||emptyArray;if(sources.length!==targets.length&&relation===identityRelation)return 0;for(var length=sources.length<=targets.length?sources.length:targets.length,result=-1,i=0;length>i;i++){var related=isRelatedTo(sources[i],targets[i],reportErrors);if(!related)return 0;result&=related}return result}function objectTypeRelatedTo(source,originalSource,target,reportErrors){if(overflow)return 0;var id=relation!==identityRelation||source.id<target.id?source.id+","+target.id:target.id+","+source.id,related=relation[id];if(void 0!==related){if(!reportErrors||2!==related)return 1===related?-1:0;relation[id]=3}if(depth>0){for(var i=0;depth>i;i++)if(maybeStack[i][id])return 1;if(100===depth)return overflow=!0,0}else sourceStack=[],targetStack=[],maybeStack=[],expandingFlags=0;sourceStack[depth]=source,targetStack[depth]=target,maybeStack[depth]=ts.createMap(),maybeStack[depth][id]=1,depth++;var saveExpandingFlags=expandingFlags;1&expandingFlags||!isDeeplyNestedGeneric(source,sourceStack,depth)||(expandingFlags|=1),2&expandingFlags||!isDeeplyNestedGeneric(target,targetStack,depth)||(expandingFlags|=2);var result;if(3===expandingFlags?result=1:(result=propertiesRelatedTo(source,target,reportErrors),result&&(result&=signaturesRelatedTo(source,target,0,reportErrors),result&&(result&=signaturesRelatedTo(source,target,1,reportErrors),result&&(result&=indexTypesRelatedTo(source,originalSource,target,0,reportErrors),result&&(result&=indexTypesRelatedTo(source,originalSource,target,1,reportErrors)))))),expandingFlags=saveExpandingFlags,depth--,result){var maybeCache=maybeStack[depth],destinationCache=-1===result||0===depth?relation:maybeStack[depth-1];ts.copyProperties(maybeCache,destinationCache)}else relation[id]=reportErrors?3:2;return result}function propertiesRelatedTo(source,target,reportErrors){if(relation===identityRelation)return propertiesIdenticalTo(source,target);for(var result=-1,properties=getPropertiesOfObjectType(target),requireOptionalProperties=relation===subtypeRelation&&!(8388608&source.flags),_i=0,properties_1=properties;_i<properties_1.length;_i++){var targetProp=properties_1[_i],sourceProp=getPropertyOfType(source,targetProp.name);if(sourceProp!==targetProp)if(sourceProp){if(!(134217728&targetProp.flags)){var sourcePropFlags=getDeclarationFlagsFromSymbol(sourceProp),targetPropFlags=getDeclarationFlagsFromSymbol(targetProp);if(8&sourcePropFlags||8&targetPropFlags){if(sourceProp.valueDeclaration!==targetProp.valueDeclaration)return reportErrors&&(8&sourcePropFlags&&8&targetPropFlags?reportError(ts.Diagnostics.Types_have_separate_declarations_of_a_private_property_0,symbolToString(targetProp)):reportError(ts.Diagnostics.Property_0_is_private_in_type_1_but_not_in_type_2,symbolToString(targetProp),typeToString(8&sourcePropFlags?source:target),typeToString(8&sourcePropFlags?target:source))),0}else if(16&targetPropFlags){var sourceDeclaredInClass=sourceProp.parent&&32&sourceProp.parent.flags,sourceClass=sourceDeclaredInClass?getDeclaredTypeOfSymbol(getParentOfSymbol(sourceProp)):void 0,targetClass=getDeclaredTypeOfSymbol(getParentOfSymbol(targetProp));if(!sourceClass||!hasBaseType(sourceClass,targetClass))return reportErrors&&reportError(ts.Diagnostics.Property_0_is_protected_but_type_1_is_not_a_class_derived_from_2,symbolToString(targetProp),typeToString(sourceClass||source),typeToString(targetClass)),0}else if(16&sourcePropFlags)return reportErrors&&reportError(ts.Diagnostics.Property_0_is_protected_in_type_1_but_public_in_type_2,symbolToString(targetProp),typeToString(source),typeToString(target)),0;var related=isRelatedTo(getTypeOfSymbol(sourceProp),getTypeOfSymbol(targetProp),reportErrors);if(!related)return reportErrors&&reportError(ts.Diagnostics.Types_of_property_0_are_incompatible,symbolToString(targetProp)),0;if(result&=related,536870912&sourceProp.flags&&!(536870912&targetProp.flags))return reportErrors&&reportError(ts.Diagnostics.Property_0_is_optional_in_type_1_but_required_in_type_2,symbolToString(targetProp),typeToString(source),typeToString(target)),0}}else if(!(536870912&targetProp.flags)||requireOptionalProperties)return reportErrors&&reportError(ts.Diagnostics.Property_0_is_missing_in_type_1,symbolToString(targetProp),typeToString(source)),0}return result}function propertiesIdenticalTo(source,target){if(!(2588672&source.flags&&2588672&target.flags))return 0;var sourceProperties=getPropertiesOfObjectType(source),targetProperties=getPropertiesOfObjectType(target);if(sourceProperties.length!==targetProperties.length)return 0;for(var result=-1,_i=0,sourceProperties_1=sourceProperties;_i<sourceProperties_1.length;_i++){var sourceProp=sourceProperties_1[_i],targetProp=getPropertyOfObjectType(target,sourceProp.name);if(!targetProp)return 0;var related=compareProperties(sourceProp,targetProp,isRelatedTo);if(!related)return 0;result&=related}return result}function signaturesRelatedTo(source,target,kind,reportErrors){if(relation===identityRelation)return signaturesIdenticalTo(source,target,kind);if(target===anyFunctionType||source===anyFunctionType)return-1;var sourceSignatures=getSignaturesOfType(source,kind),targetSignatures=getSignaturesOfType(target,kind);if(1===kind&&sourceSignatures.length&&targetSignatures.length){if(isAbstractConstructorType(source)&&!isAbstractConstructorType(target))return reportErrors&&reportError(ts.Diagnostics.Cannot_assign_an_abstract_constructor_type_to_a_non_abstract_constructor_type),0;if(!constructorVisibilitiesAreCompatible(sourceSignatures[0],targetSignatures[0],reportErrors))return 0}var result=-1,saveErrorInfo=errorInfo;outer:for(var _i=0,targetSignatures_1=targetSignatures;_i<targetSignatures_1.length;_i++){for(var t=targetSignatures_1[_i],shouldElaborateErrors=reportErrors,_a=0,sourceSignatures_1=sourceSignatures;_a<sourceSignatures_1.length;_a++){var s=sourceSignatures_1[_a],related=signatureRelatedTo(s,t,shouldElaborateErrors);if(related){result&=related,errorInfo=saveErrorInfo;continue outer}shouldElaborateErrors=!1}return shouldElaborateErrors&&reportError(ts.Diagnostics.Type_0_provides_no_match_for_the_signature_1,typeToString(source),signatureToString(t,void 0,void 0,kind)),
0}return result}function signatureRelatedTo(source,target,reportErrors){return compareSignaturesRelated(source,target,!1,reportErrors,reportError,isRelatedTo)}function signaturesIdenticalTo(source,target,kind){var sourceSignatures=getSignaturesOfType(source,kind),targetSignatures=getSignaturesOfType(target,kind);if(sourceSignatures.length!==targetSignatures.length)return 0;for(var result=-1,i=0,len=sourceSignatures.length;len>i;i++){var related=compareSignaturesIdentical(sourceSignatures[i],targetSignatures[i],!1,!1,!1,isRelatedTo);if(!related)return 0;result&=related}return result}function eachPropertyRelatedTo(source,target,kind,reportErrors){for(var result=-1,_i=0,_a=getPropertiesOfObjectType(source);_i<_a.length;_i++){var prop=_a[_i];if(0===kind||isNumericLiteralName(prop.name)){var related=isRelatedTo(getTypeOfSymbol(prop),target,reportErrors);if(!related)return reportErrors&&reportError(ts.Diagnostics.Property_0_is_incompatible_with_index_signature,symbolToString(prop)),0;result&=related}}return result}function indexInfoRelatedTo(sourceInfo,targetInfo,reportErrors){var related=isRelatedTo(sourceInfo.type,targetInfo.type,reportErrors);return!related&&reportErrors&&reportError(ts.Diagnostics.Index_signatures_are_incompatible),related}function indexTypesRelatedTo(source,originalSource,target,kind,reportErrors){if(relation===identityRelation)return indexTypesIdenticalTo(source,target,kind);var targetInfo=getIndexInfoOfType(target,kind);if(!targetInfo||1&targetInfo.type.flags&&!(8190&originalSource.flags))return-1;var sourceInfo=getIndexInfoOfType(source,kind)||1===kind&&getIndexInfoOfType(source,0);if(sourceInfo)return indexInfoRelatedTo(sourceInfo,targetInfo,reportErrors);if(isObjectLiteralType(source)){var related=-1;if(0===kind){var sourceNumberInfo=getIndexInfoOfType(source,1);sourceNumberInfo&&(related=indexInfoRelatedTo(sourceNumberInfo,targetInfo,reportErrors))}return related&&(related&=eachPropertyRelatedTo(source,targetInfo.type,kind,reportErrors)),related}return reportErrors&&reportError(ts.Diagnostics.Index_signature_is_missing_in_type_0,typeToString(source)),0}function indexTypesIdenticalTo(source,target,indexKind){var targetInfo=getIndexInfoOfType(target,indexKind),sourceInfo=getIndexInfoOfType(source,indexKind);return sourceInfo||targetInfo?sourceInfo&&targetInfo&&sourceInfo.isReadonly===targetInfo.isReadonly?isRelatedTo(sourceInfo.type,targetInfo.type):0:-1}function constructorVisibilitiesAreCompatible(sourceSignature,targetSignature,reportErrors){if(!sourceSignature.declaration||!targetSignature.declaration)return!0;var sourceAccessibility=24&sourceSignature.declaration.flags,targetAccessibility=24&targetSignature.declaration.flags;return 8===targetAccessibility?!0:16===targetAccessibility&&8!==sourceAccessibility?!0:16===targetAccessibility||sourceAccessibility?(reportErrors&&reportError(ts.Diagnostics.Cannot_assign_a_0_constructor_type_to_a_1_constructor_type,visibilityToString(sourceAccessibility),visibilityToString(targetAccessibility)),!1):!0}var errorInfo,sourceStack,targetStack,maybeStack,expandingFlags,depth=0,overflow=!1;ts.Debug.assert(relation!==identityRelation||!errorNode,"no error reporting in identity checking");var result=isRelatedTo(source,target,!!errorNode,headMessage);return overflow?error(errorNode,ts.Diagnostics.Excessive_stack_depth_comparing_types_0_and_1,typeToString(source),typeToString(target)):errorInfo&&(containingMessageChain&&(errorInfo=ts.concatenateDiagnosticMessageChains(containingMessageChain,errorInfo)),diagnostics.add(ts.createDiagnosticForNodeFromMessageChain(errorNode,errorInfo))),0!==result}function isAbstractConstructorType(type){if(2097152&type.flags){var symbol=type.symbol;if(symbol&&32&symbol.flags){var declaration=getClassLikeDeclarationOfSymbol(symbol);if(declaration&&128&declaration.flags)return!0}}return!1}function isDeeplyNestedGeneric(type,stack,depth){if(4325376&type.flags&&depth>=5)for(var symbol=type.symbol,count=0,i=0;depth>i;i++){var t=stack[i];if(4325376&t.flags&&t.symbol===symbol&&(count++,count>=5))return!0}return!1}function isPropertyIdenticalTo(sourceProp,targetProp){return 0!==compareProperties(sourceProp,targetProp,compareTypesIdentical)}function compareProperties(sourceProp,targetProp,compareTypes){if(sourceProp===targetProp)return-1;var sourcePropAccessibility=24&getDeclarationFlagsFromSymbol(sourceProp),targetPropAccessibility=24&getDeclarationFlagsFromSymbol(targetProp);if(sourcePropAccessibility!==targetPropAccessibility)return 0;if(sourcePropAccessibility){if(getTargetSymbol(sourceProp)!==getTargetSymbol(targetProp))return 0}else if((536870912&sourceProp.flags)!==(536870912&targetProp.flags))return 0;return isReadonlySymbol(sourceProp)!==isReadonlySymbol(targetProp)?0:compareTypes(getTypeOfSymbol(sourceProp),getTypeOfSymbol(targetProp))}function isMatchingSignature(source,target,partialMatch){if(source.parameters.length===target.parameters.length&&source.minArgumentCount===target.minArgumentCount&&source.hasRestParameter===target.hasRestParameter)return!0;var sourceRestCount=source.hasRestParameter?1:0,targetRestCount=target.hasRestParameter?1:0;return partialMatch&&source.minArgumentCount<=target.minArgumentCount&&(sourceRestCount>targetRestCount||sourceRestCount===targetRestCount&&source.parameters.length>=target.parameters.length)?!0:!1}function compareSignaturesIdentical(source,target,partialMatch,ignoreThisTypes,ignoreReturnTypes,compareTypes){if(source===target)return-1;if(!isMatchingSignature(source,target,partialMatch))return 0;if((source.typeParameters?source.typeParameters.length:0)!==(target.typeParameters?target.typeParameters.length:0))return 0;source=getErasedSignature(source),target=getErasedSignature(target);var result=-1;if(!ignoreThisTypes){var sourceThisType=getThisTypeOfSignature(source);if(sourceThisType){var targetThisType=getThisTypeOfSignature(target);if(targetThisType){var related=compareTypes(sourceThisType,targetThisType);if(!related)return 0;result&=related}}}for(var targetLen=target.parameters.length,i=0;targetLen>i;i++){var s=isRestParameterIndex(source,i)?getRestTypeOfSignature(source):getTypeOfParameter(source.parameters[i]),t=isRestParameterIndex(target,i)?getRestTypeOfSignature(target):getTypeOfParameter(target.parameters[i]),related=compareTypes(s,t);if(!related)return 0;result&=related}return ignoreReturnTypes||(result&=compareTypes(getReturnTypeOfSignature(source),getReturnTypeOfSignature(target))),result}function isRestParameterIndex(signature,parameterIndex){return signature.hasRestParameter&&parameterIndex>=signature.parameters.length-1}function isSupertypeOfEach(candidate,types){for(var _i=0,types_7=types;_i<types_7.length;_i++){var t=types_7[_i];if(candidate!==t&&!isTypeSubtypeOf(t,candidate))return!1}return!0}function getCommonSupertype(types){if(!strictNullChecks)return ts.forEach(types,function(t){return isSupertypeOfEach(t,types)?t:void 0});var primaryTypes=ts.filter(types,function(t){return!(6144&t.flags)});if(!primaryTypes.length)return getUnionType(types,!0);var supertype=ts.forEach(primaryTypes,function(t){return isSupertypeOfEach(t,primaryTypes)?t:void 0});return supertype&&includeFalsyTypes(supertype,6144&getFalsyFlagsOfTypes(types))}function reportNoCommonSupertypeError(types,errorLocation,errorMessageChainHead){for(var bestSupertype,bestSupertypeDownfallType,bestSupertypeScore=0,i=0;i<types.length;i++){for(var score=0,downfallType=void 0,j=0;j<types.length;j++)isTypeSubtypeOf(types[j],types[i])?score++:downfallType||(downfallType=types[j]);if(ts.Debug.assert(!!downfallType,"If there is no common supertype, each type should have a downfallType"),score>bestSupertypeScore&&(bestSupertype=types[i],bestSupertypeDownfallType=downfallType,bestSupertypeScore=score),bestSupertypeScore===types.length-1)break}checkTypeSubtypeOf(bestSupertypeDownfallType,bestSupertype,errorLocation,ts.Diagnostics.Type_argument_candidate_1_is_not_a_valid_type_argument_because_it_is_not_a_supertype_of_candidate_0,errorMessageChainHead)}function isArrayType(type){return 131072&type.flags&&type.target===globalArrayType}function isArrayLikeType(type){return 131072&type.flags&&(type.target===globalArrayType||type.target===globalReadonlyArrayType)||!(6144&type.flags)&&isTypeAssignableTo(type,anyReadonlyArrayType)}function isTupleLikeType(type){return!!getPropertyOfType(type,"0")}function isUnitType(type){return 0!==(6624&type.flags)}function isUnitUnionType(type){return 8&type.flags?!0:524288&type.flags?16&type.flags?!0:!ts.forEach(type.types,function(t){return!isUnitType(t)}):isUnitType(type)}function getBaseTypeOfUnitType(type){return 32&type.flags?stringType:64&type.flags?numberType:128&type.flags?booleanType:256&type.flags?type.baseType:524288&type.flags&&!(16&type.flags)?getUnionType(ts.map(type.types,getBaseTypeOfUnitType)):type}function isTupleType(type){return!!(131072&type.flags&&262144&type.target.flags)}function getFalsyFlagsOfTypes(types){for(var result=0,_i=0,types_8=types;_i<types_8.length;_i++){var t=types_8[_i];result|=getFalsyFlags(t)}return result}function getFalsyFlags(type){return 524288&type.flags?getFalsyFlagsOfTypes(type.types):32&type.flags?type===emptyStringType?32:0:64&type.flags?type===zeroType?64:0:128&type.flags?type===falseType?128:0:7406&type.flags}function includeFalsyTypes(type,flags){if((getFalsyFlags(type)&flags)===flags)return type;var types=[type];return 34&flags&&types.push(emptyStringType),340&flags&&types.push(zeroType),136&flags&&types.push(falseType),1024&flags&&types.push(voidType),2048&flags&&types.push(undefinedType),4096&flags&&types.push(nullType),getUnionType(types,!0)}function removeDefinitelyFalsyTypes(type){return 7392&getFalsyFlags(type)?filterType(type,function(t){return!(7392&getFalsyFlags(t))}):type}function getNonNullableType(type){return strictNullChecks?getTypeWithFacts(type,524288):type}function isObjectLiteralType(type){return type.symbol&&0!==(6144&type.symbol.flags)&&0===getSignaturesOfType(type,0).length&&0===getSignaturesOfType(type,1).length}function createTransientSymbol(source,type){var symbol=createSymbol(67108864|source.flags,source.name);return symbol.declarations=source.declarations,symbol.parent=source.parent,symbol.type=type,symbol.target=source,source.valueDeclaration&&(symbol.valueDeclaration=source.valueDeclaration),symbol}function transformTypeOfMembers(type,f){for(var members=ts.createMap(),_i=0,_a=getPropertiesOfObjectType(type);_i<_a.length;_i++){var property=_a[_i],original=getTypeOfSymbol(property),updated=f(original);members[property.name]=updated===original?property:createTransientSymbol(property,updated)}return members}function getRegularTypeOfObjectLiteral(type){if(!(16777216&type.flags))return type;var regularType=type.regularType;if(regularType)return regularType;var resolved=type,members=transformTypeOfMembers(type,getRegularTypeOfObjectLiteral),regularNew=createAnonymousType(resolved.symbol,members,resolved.callSignatures,resolved.constructSignatures,resolved.stringIndexInfo,resolved.numberIndexInfo);return regularNew.flags=-16777217&resolved.flags,type.regularType=regularNew,regularNew}function getWidenedTypeOfObjectLiteral(type){var members=transformTypeOfMembers(type,function(prop){var widened=getWidenedType(prop);return prop===widened?prop:widened}),stringIndexInfo=getIndexInfoOfType(type,0),numberIndexInfo=getIndexInfoOfType(type,1);return createAnonymousType(type.symbol,members,emptyArray,emptyArray,stringIndexInfo&&createIndexInfo(getWidenedType(stringIndexInfo.type),stringIndexInfo.isReadonly),numberIndexInfo&&createIndexInfo(getWidenedType(numberIndexInfo.type),numberIndexInfo.isReadonly))}function getWidenedConstituentType(type){return 6144&type.flags?type:getWidenedType(type)}function getWidenedType(type){if(100663296&type.flags){if(6144&type.flags)return anyType;if(8388608&type.flags)return getWidenedTypeOfObjectLiteral(type);if(524288&type.flags)return getUnionType(ts.map(type.types,getWidenedConstituentType));if(isArrayType(type)||isTupleType(type))return createTypeReference(type.target,ts.map(type.typeArguments,getWidenedType))}return type}function reportWideningErrorsInType(type){var errorReported=!1;if(524288&type.flags)for(var _i=0,_a=type.types;_i<_a.length;_i++){var t=_a[_i];reportWideningErrorsInType(t)&&(errorReported=!0)}if(isArrayType(type)||isTupleType(type))for(var _b=0,_c=type.typeArguments;_b<_c.length;_b++){var t=_c[_b];reportWideningErrorsInType(t)&&(errorReported=!0)}if(8388608&type.flags)for(var _d=0,_e=getPropertiesOfObjectType(type);_d<_e.length;_d++){var p=_e[_d],t=getTypeOfSymbol(p);33554432&t.flags&&(reportWideningErrorsInType(t)||error(p.valueDeclaration,ts.Diagnostics.Object_literal_s_property_0_implicitly_has_an_1_type,p.name,typeToString(getWidenedType(t))),errorReported=!0)}return errorReported}function reportImplicitAnyError(declaration,type){var diagnostic,typeAsString=typeToString(getWidenedType(type));switch(declaration.kind){case 145:case 144:diagnostic=ts.Diagnostics.Member_0_implicitly_has_an_1_type;break;case 142:diagnostic=declaration.dotDotDotToken?ts.Diagnostics.Rest_parameter_0_implicitly_has_an_any_type:ts.Diagnostics.Parameter_0_implicitly_has_an_1_type;break;case 169:diagnostic=ts.Diagnostics.Binding_element_0_implicitly_has_an_1_type;break;case 220:case 147:case 146:case 149:case 150:case 179:case 180:if(!declaration.name)return void error(declaration,ts.Diagnostics.Function_expression_which_lacks_return_type_annotation_implicitly_has_an_0_return_type,typeAsString);diagnostic=ts.Diagnostics._0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type;break;default:diagnostic=ts.Diagnostics.Variable_0_implicitly_has_an_1_type}error(declaration,diagnostic,ts.declarationNameToString(declaration.name),typeAsString)}function reportErrorsFromWidening(declaration,type){produceDiagnostics&&compilerOptions.noImplicitAny&&33554432&type.flags&&(reportWideningErrorsInType(type)||reportImplicitAnyError(declaration,type))}function forEachMatchingParameterType(source,target,callback){var count,sourceMax=source.parameters.length,targetMax=target.parameters.length;count=source.hasRestParameter&&target.hasRestParameter?Math.max(sourceMax,targetMax):source.hasRestParameter?targetMax:target.hasRestParameter?sourceMax:Math.min(sourceMax,targetMax);for(var i=0;count>i;i++)callback(getTypeAtPosition(source,i),getTypeAtPosition(target,i))}function createInferenceContext(typeParameters,inferUnionTypes){var inferences=ts.map(typeParameters,createTypeInferencesObject);return{typeParameters:typeParameters,inferUnionTypes:inferUnionTypes,inferences:inferences,inferredTypes:new Array(typeParameters.length)}}function createTypeInferencesObject(){return{primary:void 0,secondary:void 0,isFixed:!1}}function couldContainTypeParameters(type){return!!(16384&type.flags||131072&type.flags&&ts.forEach(type.typeArguments,couldContainTypeParameters)||2097152&type.flags&&type.symbol&&10272&type.symbol.flags||1572864&type.flags&&couldUnionOrIntersectionContainTypeParameters(type))}function couldUnionOrIntersectionContainTypeParameters(type){return void 0===type.couldContainTypeParameters&&(type.couldContainTypeParameters=ts.forEach(type.types,couldContainTypeParameters)),type.couldContainTypeParameters}function inferTypes(context,source,target){function isInProcess(source,target){for(var i=0;depth>i;i++)if(source===sourceStack[i]&&target===targetStack[i])return!0;return!1}function inferFromTypes(source,target){if(couldContainTypeParameters(target)){if(524288&source.flags&&524288&target.flags&&!(16&source.flags&&16&target.flags)||1048576&source.flags&&1048576&target.flags){if(source===target){for(var _i=0,_a=source.types;_i<_a.length;_i++){var t=_a[_i];inferFromTypes(t,t)}return}for(var matchingTypes=void 0,_b=0,_c=target.types;_b<_c.length;_b++){var t=_c[_b];typeIdenticalToSomeType(t,source.types)&&((matchingTypes||(matchingTypes=[])).push(t),inferFromTypes(t,t))}matchingTypes&&(source=removeTypesFromUnionOrIntersection(source,matchingTypes),target=removeTypesFromUnionOrIntersection(target,matchingTypes))}if(16384&target.flags){if(134217728&source.flags)return;for(var typeParameters=context.typeParameters,i=0;i<typeParameters.length;i++)if(target===typeParameters[i]){var inferences=context.inferences[i];if(!inferences.isFixed){var candidates=inferiority?inferences.secondary||(inferences.secondary=[]):inferences.primary||(inferences.primary=[]);ts.contains(candidates,source)||candidates.push(source)}return}}else if(131072&source.flags&&131072&target.flags&&source.target===target.target)for(var sourceTypes=source.typeArguments||emptyArray,targetTypes=target.typeArguments||emptyArray,count=sourceTypes.length<targetTypes.length?sourceTypes.length:targetTypes.length,i=0;count>i;i++)inferFromTypes(sourceTypes[i],targetTypes[i]);else if(1572864&target.flags){for(var targetTypes=target.types,typeParameterCount=0,typeParameter=void 0,_d=0,targetTypes_2=targetTypes;_d<targetTypes_2.length;_d++){var t=targetTypes_2[_d];16384&t.flags&&ts.contains(context.typeParameters,t)?(typeParameter=t,typeParameterCount++):inferFromTypes(source,t)}1===typeParameterCount&&(inferiority++,inferFromTypes(source,typeParameter),inferiority--)}else if(1572864&source.flags)for(var sourceTypes=source.types,_e=0,sourceTypes_3=sourceTypes;_e<sourceTypes_3.length;_e++){var sourceType=sourceTypes_3[_e];inferFromTypes(sourceType,target)}else if(source=getApparentType(source),2588672&source.flags){if(isInProcess(source,target))return;if(isDeeplyNestedGeneric(source,sourceStack,depth)&&isDeeplyNestedGeneric(target,targetStack,depth))return;var key=source.id+","+target.id;if(visited[key])return;visited[key]=!0,0===depth&&(sourceStack=[],targetStack=[]),sourceStack[depth]=source,targetStack[depth]=target,depth++,inferFromProperties(source,target),inferFromSignatures(source,target,0),inferFromSignatures(source,target,1),inferFromIndexTypes(source,target),depth--}}}function inferFromProperties(source,target){for(var properties=getPropertiesOfObjectType(target),_i=0,properties_2=properties;_i<properties_2.length;_i++){var targetProp=properties_2[_i],sourceProp=getPropertyOfObjectType(source,targetProp.name);sourceProp&&inferFromTypes(getTypeOfSymbol(sourceProp),getTypeOfSymbol(targetProp))}}function inferFromSignatures(source,target,kind){for(var sourceSignatures=getSignaturesOfType(source,kind),targetSignatures=getSignaturesOfType(target,kind),sourceLen=sourceSignatures.length,targetLen=targetSignatures.length,len=targetLen>sourceLen?sourceLen:targetLen,i=0;len>i;i++)inferFromSignature(getErasedSignature(sourceSignatures[sourceLen-len+i]),getErasedSignature(targetSignatures[targetLen-len+i]))}function inferFromSignature(source,target){forEachMatchingParameterType(source,target,inferFromTypes),source.typePredicate&&target.typePredicate&&source.typePredicate.kind===target.typePredicate.kind?inferFromTypes(source.typePredicate.type,target.typePredicate.type):inferFromTypes(getReturnTypeOfSignature(source),getReturnTypeOfSignature(target))}function inferFromIndexTypes(source,target){var targetStringIndexType=getIndexTypeOfType(target,0);if(targetStringIndexType){var sourceIndexType=getIndexTypeOfType(source,0)||getImplicitIndexTypeOfType(source,0);sourceIndexType&&inferFromTypes(sourceIndexType,targetStringIndexType)}var targetNumberIndexType=getIndexTypeOfType(target,1);if(targetNumberIndexType){var sourceIndexType=getIndexTypeOfType(source,1)||getIndexTypeOfType(source,0)||getImplicitIndexTypeOfType(source,1);sourceIndexType&&inferFromTypes(sourceIndexType,targetNumberIndexType)}}var sourceStack,targetStack,depth=0,inferiority=0,visited=ts.createMap();inferFromTypes(source,target)}function typeIdenticalToSomeType(type,types){for(var _i=0,types_9=types;_i<types_9.length;_i++){var t=types_9[_i];if(isTypeIdenticalTo(t,type))return!0}return!1}function removeTypesFromUnionOrIntersection(type,typesToRemove){for(var reducedTypes=[],_i=0,_a=type.types;_i<_a.length;_i++){var t=_a[_i];typeIdenticalToSomeType(t,typesToRemove)||reducedTypes.push(t)}return 524288&type.flags?getUnionType(reducedTypes):getIntersectionType(reducedTypes)}function getInferenceCandidates(context,index){var inferences=context.inferences[index];return inferences.primary||inferences.secondary||emptyArray}function getInferredType(context,index){var inferenceSucceeded,inferredType=context.inferredTypes[index];if(!inferredType){var inferences=getInferenceCandidates(context,index);if(inferences.length){var unionOrSuperType=context.inferUnionTypes?getUnionType(inferences,!0):getCommonSupertype(inferences);inferredType=unionOrSuperType?getWidenedType(unionOrSuperType):unknownType,inferenceSucceeded=!!unionOrSuperType}else inferredType=emptyObjectType,inferenceSucceeded=!0;if(context.inferredTypes[index]=inferredType,inferenceSucceeded){var constraint=getConstraintOfTypeParameter(context.typeParameters[index]);if(constraint){var instantiatedConstraint=instantiateType(constraint,getInferenceMapper(context));isTypeAssignableTo(inferredType,getTypeWithThisArgument(instantiatedConstraint,inferredType))||(context.inferredTypes[index]=inferredType=instantiatedConstraint)}}else(void 0===context.failedTypeParameterIndex||context.failedTypeParameterIndex>index)&&(context.failedTypeParameterIndex=index)}return inferredType}function getInferredTypes(context){for(var i=0;i<context.inferredTypes.length;i++)getInferredType(context,i);return context.inferredTypes}function getResolvedSymbol(node){var links=getNodeLinks(node);return links.resolvedSymbol||(links.resolvedSymbol=!ts.nodeIsMissing(node)&&resolveName(node,node.text,1156031,ts.Diagnostics.Cannot_find_name_0,node)||unknownSymbol),links.resolvedSymbol}function isInTypeQuery(node){for(;node;)switch(node.kind){case 158:return!0;case 69:case 139:node=node.parent;continue;default:return!1}ts.Debug.fail("should not get here")}function getFlowCacheKey(node){if(69===node.kind){var symbol=getResolvedSymbol(node);return symbol!==unknownSymbol?""+getSymbolId(symbol):void 0}if(97===node.kind)return"0";if(172===node.kind){var key=getFlowCacheKey(node.expression);return key&&key+"."+node.name.text}return void 0}function isMatchingReference(source,target){switch(source.kind){case 69:return 69===target.kind&&getResolvedSymbol(source)===getResolvedSymbol(target)||(218===target.kind||169===target.kind)&&getExportSymbolOfValueSymbolIfExported(getResolvedSymbol(source))===getSymbolOfNode(target);case 97:return 97===target.kind;case 172:return 172===target.kind&&source.name.text===target.name.text&&isMatchingReference(source.expression,target.expression)}return!1}function containsMatchingReference(source,target){for(;172===source.kind;)if(source=source.expression,isMatchingReference(source,target))return!0;return!1}function containsMatchingReferenceDiscriminant(source,target){return 172===target.kind&&containsMatchingReference(source,target.expression)&&isDiscriminantProperty(getDeclaredTypeOfReference(target.expression),target.name.text)}function getDeclaredTypeOfReference(expr){if(69===expr.kind)return getTypeOfSymbol(getResolvedSymbol(expr));if(172===expr.kind){var type=getDeclaredTypeOfReference(expr.expression);return type&&getTypeOfPropertyOfType(type,expr.name.text)}return void 0}function isDiscriminantProperty(type,name){if(type&&524288&type.flags){var prop=getPropertyOfType(type,name);if(!prop){var filteredType=getTypeWithFacts(type,4194304);filteredType!==type&&524288&filteredType.flags&&(prop=getPropertyOfType(filteredType,name))}if(prop&&268435456&prop.flags)return void 0===prop.isDiscriminantProperty&&(prop.isDiscriminantProperty=!prop.hasCommonType&&isUnitUnionType(getTypeOfSymbol(prop))),prop.isDiscriminantProperty}return!1}function isOrContainsMatchingReference(source,target){return isMatchingReference(source,target)||containsMatchingReference(source,target)}function hasMatchingArgument(callExpression,reference){if(callExpression.arguments)for(var _i=0,_a=callExpression.arguments;_i<_a.length;_i++){var argument=_a[_i];if(isOrContainsMatchingReference(reference,argument))return!0}return 172===callExpression.expression.kind&&isOrContainsMatchingReference(reference,callExpression.expression.expression)?!0:!1}function getFlowNodeId(flow){return flow.id||(flow.id=nextFlowId,nextFlowId++),flow.id}function typeMaybeAssignableTo(source,target){if(!(524288&source.flags))return isTypeAssignableTo(source,target);for(var _i=0,_a=source.types;_i<_a.length;_i++){var t=_a[_i];if(isTypeAssignableTo(t,target))return!0}return!1}function getAssignmentReducedType(declaredType,assignedType){if(declaredType!==assignedType){var reducedType=filterType(declaredType,function(t){return typeMaybeAssignableTo(assignedType,t)});if(reducedType!==neverType)return reducedType}return declaredType}function getTypeFactsOfTypes(types){for(var result=0,_i=0,types_10=types;_i<types_10.length;_i++){var t=types_10[_i];result|=getTypeFacts(t)}return result}function isFunctionObjectType(type){var resolved=resolveStructuredTypeMembers(type);return!!(resolved.callSignatures.length||resolved.constructSignatures.length||resolved.members.bind&&isTypeSubtypeOf(type,globalFunctionType))}function getTypeFacts(type){var flags=type.flags;if(2&flags)return strictNullChecks?4079361:4194049;if(32&flags)return strictNullChecks?type===emptyStringType?3030785:1982209:type===emptyStringType?3145473:4194049;if(20&flags)return strictNullChecks?4079234:4193922;if(320&flags){var isZero=type===zeroType||256&type.flags&&"0"===type.text;return strictNullChecks?isZero?3030658:1982082:isZero?3145346:4193922}if(8&flags)return strictNullChecks?4078980:4193668;if(136&flags)return strictNullChecks?type===falseType?3030404:1981828:type===falseType?3145092:4193668;if(2588672&flags)return isFunctionObjectType(type)?strictNullChecks?6164448:8376288:strictNullChecks?6166480:8378320;if(3072&flags)return 2457472;if(4096&flags)return 2340752;if(512&flags)return strictNullChecks?1981320:4193160;if(16384&flags){var constraint=getConstraintOfTypeParameter(type);return getTypeFacts(constraint||emptyObjectType)}return 1572864&flags?getTypeFactsOfTypes(type.types):8388607}function getTypeWithFacts(type,include){return filterType(type,function(t){return 0!==(getTypeFacts(t)&include)})}function getTypeWithDefault(type,defaultExpression){if(defaultExpression){var defaultType=checkExpression(defaultExpression);return getUnionType([getTypeWithFacts(type,131072),defaultType])}return type}function getTypeOfDestructuredProperty(type,name){var text=getTextOfPropertyName(name);return getTypeOfPropertyOfType(type,text)||isNumericLiteralName(text)&&getIndexTypeOfType(type,1)||getIndexTypeOfType(type,0)||unknownType}function getTypeOfDestructuredArrayElement(type,index){return isTupleLikeType(type)&&getTypeOfPropertyOfType(type,""+index)||checkIteratedTypeOrElementType(type,void 0,!1)||unknownType}function getTypeOfDestructuredSpreadElement(type){return createArrayType(checkIteratedTypeOrElementType(type,void 0,!1)||unknownType)}function getAssignedTypeOfBinaryExpression(node){return 170===node.parent.kind||253===node.parent.kind?getTypeWithDefault(getAssignedType(node),node.right):checkExpression(node.right)}function getAssignedTypeOfArrayLiteralElement(node,element){return getTypeOfDestructuredArrayElement(getAssignedType(node),ts.indexOf(node.elements,element))}function getAssignedTypeOfSpreadElement(node){return getTypeOfDestructuredSpreadElement(getAssignedType(node.parent))}function getAssignedTypeOfPropertyAssignment(node){return getTypeOfDestructuredProperty(getAssignedType(node.parent),node.name)}function getAssignedTypeOfShorthandPropertyAssignment(node){return getTypeWithDefault(getAssignedTypeOfPropertyAssignment(node),node.objectAssignmentInitializer)}function getAssignedType(node){var parent=node.parent;switch(parent.kind){case 207:return stringType;case 208:return checkRightHandSideOfForOf(parent.expression)||unknownType;case 187:return getAssignedTypeOfBinaryExpression(parent);case 181:return undefinedType;case 170:return getAssignedTypeOfArrayLiteralElement(parent,node);case 191:return getAssignedTypeOfSpreadElement(parent);case 253:return getAssignedTypeOfPropertyAssignment(parent);case 254:return getAssignedTypeOfShorthandPropertyAssignment(parent)}return unknownType}function getInitialTypeOfBindingElement(node){var pattern=node.parent,parentType=getInitialType(pattern.parent),type=167===pattern.kind?getTypeOfDestructuredProperty(parentType,node.propertyName||node.name):node.dotDotDotToken?getTypeOfDestructuredSpreadElement(parentType):getTypeOfDestructuredArrayElement(parentType,ts.indexOf(pattern.elements,node));return getTypeWithDefault(type,node.initializer)}function getTypeOfInitializer(node){var links=getNodeLinks(node);return links.resolvedType||checkExpression(node)}function getInitialTypeOfVariableDeclaration(node){return node.initializer?getTypeOfInitializer(node.initializer):207===node.parent.parent.kind?stringType:208===node.parent.parent.kind?checkRightHandSideOfForOf(node.parent.parent.expression)||unknownType:unknownType}function getInitialType(node){return 218===node.kind?getInitialTypeOfVariableDeclaration(node):getInitialTypeOfBindingElement(node)}function getInitialOrAssignedType(node){return 218===node.kind||169===node.kind?getInitialType(node):getAssignedType(node)}function getReferenceCandidate(node){switch(node.kind){case 178:return getReferenceCandidate(node.expression);case 187:switch(node.operatorToken.kind){case 56:return getReferenceCandidate(node.left);case 24:return getReferenceCandidate(node.right)}}return node}function getTypeOfSwitchClause(clause){if(249===clause.kind){var caseType=checkExpression(clause.expression);return isUnitType(caseType)?caseType:void 0}return neverType}function getSwitchClauseTypes(switchStatement){var links=getNodeLinks(switchStatement);if(!links.switchTypes){var types=ts.map(switchStatement.caseBlock.clauses,getTypeOfSwitchClause);links.switchTypes=ts.contains(types,void 0)?emptyArray:types}return links.switchTypes}function eachTypeContainedIn(source,types){return 524288&source.flags?!ts.forEach(source.types,function(t){return!ts.contains(types,t)}):ts.contains(types,source)}function isTypeSubsetOf(source,target){return source===target||524288&target.flags&&isTypeSubsetOfUnion(source,target)}function isTypeSubsetOfUnion(source,target){if(524288&source.flags){for(var _i=0,_a=source.types;_i<_a.length;_i++){var t=_a[_i];if(!containsType(target.types,t))return!1}return!0}return 256&source.flags&&16&target.flags&&source.baseType===target?!0:containsType(target.types,source)}function filterType(type,f){if(524288&type.flags){var types=type.types,filtered=ts.filter(types,f);return filtered===types?type:getUnionTypeFromSortedList(filtered)}return f(type)?type:neverType}function isIncomplete(flowType){return 0===flowType.flags}function getTypeFromFlowType(flowType){return 0===flowType.flags?flowType.type:flowType}function createFlowType(type,incomplete){return incomplete?{flags:0,type:type}:type}function getFlowTypeOfReference(reference,declaredType,assumeInitialized,flowContainer){function getTypeAtFlowNode(flow){for(;;){if(512&flow.flags)for(var i=visitedFlowStart;visitedFlowCount>i;i++)if(visitedFlowNodes[i]===flow)return visitedFlowTypes[i];var type=void 0;if(16&flow.flags){if(type=getTypeAtFlowAssignment(flow),!type){flow=flow.antecedent;continue}}else if(96&flow.flags)type=getTypeAtFlowCondition(flow);else if(128&flow.flags)type=getTypeAtSwitchClause(flow);else if(12&flow.flags){if(1===flow.antecedents.length){flow=flow.antecedents[0];continue}type=4&flow.flags?getTypeAtFlowBranchLabel(flow):getTypeAtFlowLoopLabel(flow)}else if(2&flow.flags){var container=flow.container;if(container&&container!==flowContainer&&172!==reference.kind){flow=container.flowNode;continue}type=initialType}else type=declaredType;return 512&flow.flags&&(visitedFlowNodes[visitedFlowCount]=flow,visitedFlowTypes[visitedFlowCount]=type,visitedFlowCount++),type}}function getTypeAtFlowAssignment(flow){var node=flow.node;return isMatchingReference(reference,node)?524288&declaredType.flags?getAssignmentReducedType(declaredType,getInitialOrAssignedType(node)):declaredType:containsMatchingReference(reference,node)?declaredType:void 0;
}function getTypeAtFlowCondition(flow){var flowType=getTypeAtFlowNode(flow.antecedent),type=getTypeFromFlowType(flowType);if(type!==neverType){var assumeTrue=0!==(32&flow.flags);type=narrowType(type,flow.expression,assumeTrue),type===neverType&&isIncomplete(flowType)&&(type=narrowType(declaredType,flow.expression,assumeTrue))}return createFlowType(type,isIncomplete(flowType))}function getTypeAtSwitchClause(flow){var flowType=getTypeAtFlowNode(flow.antecedent),type=getTypeFromFlowType(flowType),expr=flow.switchStatement.expression;return isMatchingReference(reference,expr)?type=narrowTypeBySwitchOnDiscriminant(type,flow.switchStatement,flow.clauseStart,flow.clauseEnd):isMatchingReferenceDiscriminant(expr)&&(type=narrowTypeByDiscriminant(type,expr,function(t){return narrowTypeBySwitchOnDiscriminant(t,flow.switchStatement,flow.clauseStart,flow.clauseEnd)})),createFlowType(type,isIncomplete(flowType))}function getTypeAtFlowBranchLabel(flow){for(var antecedentTypes=[],subtypeReduction=!1,seenIncomplete=!1,_i=0,_a=flow.antecedents;_i<_a.length;_i++){var antecedent=_a[_i],flowType=getTypeAtFlowNode(antecedent),type=getTypeFromFlowType(flowType);if(type===declaredType&&declaredType===initialType)return type;ts.contains(antecedentTypes,type)||antecedentTypes.push(type),isTypeSubsetOf(type,declaredType)||(subtypeReduction=!0),isIncomplete(flowType)&&(seenIncomplete=!0)}return createFlowType(getUnionType(antecedentTypes,subtypeReduction),seenIncomplete)}function getTypeAtFlowLoopLabel(flow){var id=getFlowNodeId(flow),cache=flowLoopCaches[id]||(flowLoopCaches[id]=ts.createMap());if(key||(key=getFlowCacheKey(reference)),cache[key])return cache[key];for(var i=flowLoopStart;flowLoopCount>i;i++)if(flowLoopNodes[i]===flow&&flowLoopKeys[i]===key)return createFlowType(getUnionType(flowLoopTypes[i]),!0);var firstAntecedentType,antecedentTypes=[],subtypeReduction=!1;flowLoopNodes[flowLoopCount]=flow,flowLoopKeys[flowLoopCount]=key,flowLoopTypes[flowLoopCount]=antecedentTypes;for(var _i=0,_a=flow.antecedents;_i<_a.length;_i++){var antecedent=_a[_i];flowLoopCount++;var flowType=getTypeAtFlowNode(antecedent);flowLoopCount--,firstAntecedentType||(firstAntecedentType=flowType);var type=getTypeFromFlowType(flowType);if(cache[key])return cache[key];if(ts.contains(antecedentTypes,type)||antecedentTypes.push(type),isTypeSubsetOf(type,declaredType)||(subtypeReduction=!0),type===declaredType)break}var result=getUnionType(antecedentTypes,subtypeReduction);return isIncomplete(firstAntecedentType)?createFlowType(result,!0):cache[key]=result}function isMatchingReferenceDiscriminant(expr){return 172===expr.kind&&524288&declaredType.flags&&isMatchingReference(reference,expr.expression)&&isDiscriminantProperty(declaredType,expr.name.text)}function narrowTypeByDiscriminant(type,propAccess,narrowType){var propName=propAccess.name.text,propType=getTypeOfPropertyOfType(type,propName),narrowedPropType=propType&&narrowType(propType);return propType===narrowedPropType?type:filterType(type,function(t){return isTypeComparableTo(getTypeOfPropertyOfType(t,propName),narrowedPropType)})}function narrowTypeByTruthiness(type,expr,assumeTrue){return isMatchingReference(reference,expr)?getTypeWithFacts(type,assumeTrue?1048576:2097152):isMatchingReferenceDiscriminant(expr)?narrowTypeByDiscriminant(type,expr,function(t){return getTypeWithFacts(t,assumeTrue?1048576:2097152)}):containsMatchingReferenceDiscriminant(reference,expr)?declaredType:type}function narrowTypeByBinaryExpression(type,expr,assumeTrue){switch(expr.operatorToken.kind){case 56:return narrowTypeByTruthiness(type,expr.left,assumeTrue);case 30:case 31:case 32:case 33:var operator_1=expr.operatorToken.kind,left_1=getReferenceCandidate(expr.left),right_1=getReferenceCandidate(expr.right);if(182===left_1.kind&&9===right_1.kind)return narrowTypeByTypeof(type,left_1,operator_1,right_1,assumeTrue);if(182===right_1.kind&&9===left_1.kind)return narrowTypeByTypeof(type,right_1,operator_1,left_1,assumeTrue);if(isMatchingReference(reference,left_1))return narrowTypeByEquality(type,operator_1,right_1,assumeTrue);if(isMatchingReference(reference,right_1))return narrowTypeByEquality(type,operator_1,left_1,assumeTrue);if(isMatchingReferenceDiscriminant(left_1))return narrowTypeByDiscriminant(type,left_1,function(t){return narrowTypeByEquality(t,operator_1,right_1,assumeTrue)});if(isMatchingReferenceDiscriminant(right_1))return narrowTypeByDiscriminant(type,right_1,function(t){return narrowTypeByEquality(t,operator_1,left_1,assumeTrue)});if(containsMatchingReferenceDiscriminant(reference,left_1)||containsMatchingReferenceDiscriminant(reference,right_1))return declaredType;break;case 91:return narrowTypeByInstanceof(type,expr,assumeTrue);case 24:return narrowType(type,expr.right,assumeTrue)}return type}function narrowTypeByEquality(type,operator,value,assumeTrue){if(1&type.flags)return type;(31===operator||33===operator)&&(assumeTrue=!assumeTrue);var valueType=checkExpression(value);if(6144&valueType.flags){if(!strictNullChecks)return type;var doubleEquals=30===operator||31===operator,facts=doubleEquals?assumeTrue?65536:524288:93===value.kind?assumeTrue?32768:262144:assumeTrue?16384:131072;return getTypeWithFacts(type,facts)}if(2589191&type.flags)return type;if(assumeTrue){var narrowedType=filterType(type,function(t){return areTypesComparable(t,valueType)});return narrowedType!==neverType?narrowedType:type}return isUnitType(valueType)?filterType(type,function(t){return t!==valueType}):type}function narrowTypeByTypeof(type,typeOfExpr,operator,literal,assumeTrue){var target=getReferenceCandidate(typeOfExpr.expression);if(!isMatchingReference(reference,target))return containsMatchingReference(reference,target)?declaredType:type;if((31===operator||33===operator)&&(assumeTrue=!assumeTrue),assumeTrue&&!(524288&type.flags)){var targetType=typeofTypesByName[literal.text];if(targetType&&isTypeSubtypeOf(targetType,type))return targetType}var facts=assumeTrue?typeofEQFacts[literal.text]||64:typeofNEFacts[literal.text]||8192;return getTypeWithFacts(type,facts)}function narrowTypeBySwitchOnDiscriminant(type,switchStatement,clauseStart,clauseEnd){var switchTypes=getSwitchClauseTypes(switchStatement);if(!switchTypes.length)return type;var clauseTypes=switchTypes.slice(clauseStart,clauseEnd),hasDefaultClause=clauseStart===clauseEnd||ts.contains(clauseTypes,neverType),discriminantType=getUnionType(clauseTypes),caseType=discriminantType===neverType?neverType:filterType(type,function(t){return isTypeComparableTo(discriminantType,t)});if(!hasDefaultClause)return caseType;var defaultType=filterType(type,function(t){return!(isUnitType(t)&&ts.contains(switchTypes,t))});return caseType===neverType?defaultType:getUnionType([caseType,defaultType])}function narrowTypeByInstanceof(type,expr,assumeTrue){var left=getReferenceCandidate(expr.left);if(!isMatchingReference(reference,left))return containsMatchingReference(reference,left)?declaredType:type;var rightType=checkExpression(expr.right);if(!isTypeSubtypeOf(rightType,globalFunctionType))return type;var targetType,prototypeProperty=getPropertyOfType(rightType,"prototype");if(prototypeProperty){var prototypePropertyType=getTypeOfSymbol(prototypeProperty);isTypeAny(prototypePropertyType)||(targetType=prototypePropertyType)}if(isTypeAny(type)&&(targetType===globalObjectType||targetType===globalFunctionType))return type;if(!targetType){var constructSignatures=void 0;65536&rightType.flags?constructSignatures=resolveDeclaredMembers(rightType).declaredConstructSignatures:2097152&rightType.flags&&(constructSignatures=getSignaturesOfType(rightType,1)),constructSignatures&&constructSignatures.length&&(targetType=getUnionType(ts.map(constructSignatures,function(signature){return getReturnTypeOfSignature(getErasedSignature(signature))})))}return targetType?getNarrowedType(type,targetType,assumeTrue):type}function getNarrowedType(type,candidate,assumeTrue){if(!assumeTrue)return filterType(type,function(t){return!isTypeInstanceOf(t,candidate)});if(524288&type.flags){var assignableType=filterType(type,function(t){return isTypeInstanceOf(t,candidate)});if(assignableType!==neverType)return assignableType}var targetType=16384&type.flags?getApparentType(type):type;return isTypeSubtypeOf(candidate,type)?candidate:isTypeAssignableTo(type,candidate)?type:isTypeAssignableTo(candidate,targetType)?candidate:getIntersectionType([type,candidate])}function narrowTypeByTypePredicate(type,callExpression,assumeTrue){if(!hasMatchingArgument(callExpression,reference))return type;var signature=getResolvedSignature(callExpression),predicate=signature.typePredicate;if(!predicate)return type;if(isTypeAny(type)&&(predicate.type===globalObjectType||predicate.type===globalFunctionType))return type;if(ts.isIdentifierTypePredicate(predicate)){var predicateArgument=callExpression.arguments[predicate.parameterIndex];if(predicateArgument){if(isMatchingReference(reference,predicateArgument))return getNarrowedType(type,predicate.type,assumeTrue);if(containsMatchingReference(reference,predicateArgument))return declaredType}}else{var invokedExpression=skipParenthesizedNodes(callExpression.expression);if(173===invokedExpression.kind||172===invokedExpression.kind){var accessExpression=invokedExpression,possibleReference=skipParenthesizedNodes(accessExpression.expression);if(isMatchingReference(reference,possibleReference))return getNarrowedType(type,predicate.type,assumeTrue);if(containsMatchingReference(reference,possibleReference))return declaredType}}return type}function narrowType(type,expr,assumeTrue){switch(expr.kind){case 69:case 97:case 172:return narrowTypeByTruthiness(type,expr,assumeTrue);case 174:return narrowTypeByTypePredicate(type,expr,assumeTrue);case 178:return narrowType(type,expr.expression,assumeTrue);case 187:return narrowTypeByBinaryExpression(type,expr,assumeTrue);case 185:if(49===expr.operator)return narrowType(type,expr.operand,!assumeTrue)}return type}var key;if(!reference.flowNode||assumeInitialized&&!(4178943&declaredType.flags))return declaredType;var initialType=assumeInitialized?declaredType:includeFalsyTypes(declaredType,2048),visitedFlowStart=visitedFlowCount,result=getTypeFromFlowType(getTypeAtFlowNode(reference.flowNode));return visitedFlowCount=visitedFlowStart,196===reference.parent.kind&&getTypeWithFacts(result,524288)===neverType?declaredType:result}function getTypeOfSymbolAtLocation(symbol,location){if(69===location.kind&&(ts.isRightSideOfQualifiedNameOrPropertyAccess(location)&&(location=location.parent),ts.isExpression(location)&&!ts.isAssignmentTarget(location))){var type=checkExpression(location);if(getExportSymbolOfValueSymbolIfExported(getNodeLinks(location).resolvedSymbol)===symbol)return type}return getTypeOfSymbol(symbol)}function skipParenthesizedNodes(expression){for(;178===expression.kind;)expression=expression.expression;return expression}function getControlFlowContainer(node){for(;;)if(node=node.parent,ts.isFunctionLike(node)&&!ts.getImmediatelyInvokedFunctionExpression(node)||226===node.kind||256===node.kind||145===node.kind)return node}function isParameterAssigned(symbol){var func=ts.getRootDeclaration(symbol.valueDeclaration).parent,links=getNodeLinks(func);return 4194304&links.flags||(links.flags|=4194304,hasParentWithAssignmentsMarked(func)||markParameterAssignments(func)),symbol.isAssigned||!1}function hasParentWithAssignmentsMarked(node){for(;;){if(node=node.parent,!node)return!1;if(ts.isFunctionLike(node)&&4194304&getNodeLinks(node).flags)return!0}}function markParameterAssignments(node){if(69===node.kind){if(ts.isAssignmentTarget(node)){var symbol=getResolvedSymbol(node);symbol.valueDeclaration&&142===ts.getRootDeclaration(symbol.valueDeclaration).kind&&(symbol.isAssigned=!0)}}else ts.forEachChild(node,markParameterAssignments)}function checkIdentifier(node){var symbol=getResolvedSymbol(node);if(symbol===argumentsSymbol){var container=ts.getContainingFunction(node);180===container.kind&&2>languageVersion&&error(node,ts.Diagnostics.The_arguments_object_cannot_be_referenced_in_an_arrow_function_in_ES3_and_ES5_Consider_using_a_standard_function_expression),33554432&node.flags&&(getNodeLinks(container).flags|=8192)}8388608&symbol.flags&&!isInTypeQuery(node)&&!isConstEnumOrConstEnumOnlyModule(resolveAlias(symbol))&&markAliasSymbolAsReferenced(symbol);var localOrExportSymbol=getExportSymbolOfValueSymbolIfExported(symbol);if(2===languageVersion&&32&localOrExportSymbol.flags&&221===localOrExportSymbol.valueDeclaration.kind&&ts.nodeIsDecorated(localOrExportSymbol.valueDeclaration))for(var container=ts.getContainingClass(node);void 0!==container;){if(container===localOrExportSymbol.valueDeclaration&&container.name!==node){getNodeLinks(container).flags|=524288,getNodeLinks(node).flags|=1048576;break}container=ts.getContainingClass(container)}checkCollisionWithCapturedSuperVariable(node,node),checkCollisionWithCapturedThisVariable(node,node),checkNestedBlockScopedBinding(node,symbol);var type=getTypeOfSymbol(localOrExportSymbol),declaration=localOrExportSymbol.valueDeclaration;if(!(3&localOrExportSymbol.flags)||ts.isAssignmentTarget(node)||!declaration)return type;for(var isParameter=142===ts.getRootDeclaration(declaration).kind,declarationContainer=getControlFlowContainer(declaration),flowContainer=getControlFlowContainer(node),isOuterVariable=flowContainer!==declarationContainer;flowContainer!==declarationContainer&&(179===flowContainer.kind||180===flowContainer.kind)&&(isReadonlySymbol(localOrExportSymbol)||isParameter&&!isParameterAssigned(localOrExportSymbol));)flowContainer=getControlFlowContainer(flowContainer);var assumeInitialized=!strictNullChecks||0!==(1&type.flags)||isParameter||isOuterVariable||ts.isInAmbientContext(declaration),flowType=getFlowTypeOfReference(node,type,assumeInitialized,flowContainer);return assumeInitialized||2048&getFalsyFlags(type)||!(2048&getFalsyFlags(flowType))?flowType:(error(node,ts.Diagnostics.Variable_0_is_used_before_being_assigned,symbolToString(symbol)),type)}function isInsideFunction(node,threshold){for(var current=node;current&&current!==threshold;){if(ts.isFunctionLike(current))return!0;current=current.parent}return!1}function checkNestedBlockScopedBinding(node,symbol){if(!(languageVersion>=2||0===(34&symbol.flags)||252===symbol.valueDeclaration.parent.kind)){for(var container=ts.getEnclosingBlockScopeContainer(symbol.valueDeclaration),usedInFunction=isInsideFunction(node.parent,container),current=container,containedInIterationStatement=!1;current&&!ts.nodeStartsNewLexicalEnvironment(current);){if(ts.isIterationStatement(current,!1)){containedInIterationStatement=!0;break}current=current.parent}containedInIterationStatement&&(usedInFunction&&(getNodeLinks(current).flags|=65536),206===container.kind&&ts.getAncestor(symbol.valueDeclaration,219).parent===container&&isAssignedInBodyOfForStatement(node,container)&&(getNodeLinks(symbol.valueDeclaration).flags|=2097152),getNodeLinks(symbol.valueDeclaration).flags|=262144),usedInFunction&&(getNodeLinks(symbol.valueDeclaration).flags|=131072)}}function isAssignedInBodyOfForStatement(node,container){for(var current=node;178===current.parent.kind;)current=current.parent;var isAssigned=!1;if(ts.isAssignmentTarget(current))isAssigned=!0;else if(185===current.parent.kind||186===current.parent.kind){var expr=current.parent;isAssigned=41===expr.operator||42===expr.operator}if(!isAssigned)return!1;for(;current!==container;){if(current===container.statement)return!0;current=current.parent}return!1}function captureLexicalThis(node,container){if(getNodeLinks(node).flags|=2,145===container.kind||148===container.kind){var classNode=container.parent;getNodeLinks(classNode).flags|=4}else getNodeLinks(container).flags|=4}function findFirstSuperCall(n){return ts.isSuperCallExpression(n)?n:ts.isFunctionLike(n)?void 0:ts.forEachChild(n,findFirstSuperCall)}function getSuperCallInConstructor(constructor){var links=getNodeLinks(constructor);return void 0===links.hasSuperCall&&(links.superCall=findFirstSuperCall(constructor.body),links.hasSuperCall=links.superCall?!0:!1),links.superCall}function classDeclarationExtendsNull(classDecl){var classSymbol=getSymbolOfNode(classDecl),classInstanceType=getDeclaredTypeOfSymbol(classSymbol),baseConstructorType=getBaseConstructorTypeOfClass(classInstanceType);return baseConstructorType===nullWideningType}function checkThisExpression(node){var container=ts.getThisContainer(node,!0),needToCaptureLexicalThis=!1;if(148===container.kind){var containingClassDecl=container.parent,baseTypeNode=ts.getClassExtendsHeritageClauseElement(containingClassDecl);if(baseTypeNode&&!classDeclarationExtendsNull(containingClassDecl)){var superCall=getSuperCallInConstructor(container);(!superCall||superCall.end>node.pos)&&error(node,ts.Diagnostics.super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class)}}switch(180===container.kind&&(container=ts.getThisContainer(container,!1),needToCaptureLexicalThis=2>languageVersion),container.kind){case 225:error(node,ts.Diagnostics.this_cannot_be_referenced_in_a_module_or_namespace_body);break;case 224:error(node,ts.Diagnostics.this_cannot_be_referenced_in_current_location);break;case 148:isInConstructorArgumentInitializer(node,container)&&error(node,ts.Diagnostics.this_cannot_be_referenced_in_constructor_arguments);break;case 145:case 144:32&container.flags&&error(node,ts.Diagnostics.this_cannot_be_referenced_in_a_static_property_initializer);break;case 140:error(node,ts.Diagnostics.this_cannot_be_referenced_in_a_computed_property_name)}if(needToCaptureLexicalThis&&captureLexicalThis(node,container),ts.isFunctionLike(container)&&(!isInParameterInitializerBeforeContainingFunction(node)||getFunctionLikeThisParameter(container))){if(179===container.kind&&ts.isInJavaScriptFile(container.parent)&&3===ts.getSpecialPropertyAssignmentKind(container.parent)){var className=container.parent.left.expression.expression,classSymbol=checkExpression(className).symbol;if(classSymbol&&classSymbol.members&&16&classSymbol.flags)return getInferredClassType(classSymbol)}var thisType=getThisTypeOfDeclaration(container);if(thisType)return thisType}if(ts.isClassLike(container.parent)){var symbol=getSymbolOfNode(container.parent),type=32&container.flags?getTypeOfSymbol(symbol):getDeclaredTypeOfSymbol(symbol).thisType;return getFlowTypeOfReference(node,type,!0,void 0)}if(ts.isInJavaScriptFile(node)){var type=getTypeForThisExpressionFromJSDoc(container);if(type&&type!==unknownType)return type}return compilerOptions.noImplicitThis&&error(node,ts.Diagnostics.this_implicitly_has_type_any_because_it_does_not_have_a_type_annotation),anyType}function getTypeForThisExpressionFromJSDoc(node){var typeTag=ts.getJSDocTypeTag(node);if(typeTag&&typeTag.typeExpression&&typeTag.typeExpression.type&&269===typeTag.typeExpression.type.kind){var jsDocFunctionType=typeTag.typeExpression.type;if(jsDocFunctionType.parameters.length>0&&272===jsDocFunctionType.parameters[0].type.kind)return getTypeFromTypeNode(jsDocFunctionType.parameters[0].type)}}function isInConstructorArgumentInitializer(node,constructorDecl){for(var n=node;n&&n!==constructorDecl;n=n.parent)if(142===n.kind)return!0;return!1}function checkSuperExpression(node){function isLegalUsageOfSuperExpression(container){return container?isCallExpression?148===container.kind:ts.isClassLike(container.parent)||171===container.parent.kind?32&container.flags?147===container.kind||146===container.kind||149===container.kind||150===container.kind:147===container.kind||146===container.kind||149===container.kind||150===container.kind||145===container.kind||144===container.kind||148===container.kind:!1:!1}var isCallExpression=174===node.parent.kind&&node.parent.expression===node,container=ts.getSuperContainer(node,!0),needToCaptureLexicalThis=!1;if(!isCallExpression)for(;container&&180===container.kind;)container=ts.getSuperContainer(container,!0),needToCaptureLexicalThis=2>languageVersion;var canUseSuperExpression=isLegalUsageOfSuperExpression(container),nodeCheckFlag=0;if(!canUseSuperExpression){for(var current=node;current&&current!==container&&140!==current.kind;)current=current.parent;return current&&140===current.kind?error(node,ts.Diagnostics.super_cannot_be_referenced_in_a_computed_property_name):isCallExpression?error(node,ts.Diagnostics.Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors):container&&container.parent&&(ts.isClassLike(container.parent)||171===container.parent.kind)?error(node,ts.Diagnostics.super_property_access_is_permitted_only_in_a_constructor_member_function_or_member_accessor_of_a_derived_class):error(node,ts.Diagnostics.super_can_only_be_referenced_in_members_of_derived_classes_or_object_literal_expressions),unknownType}if(nodeCheckFlag=32&container.flags||isCallExpression?512:256,getNodeLinks(node).flags|=nodeCheckFlag,147===container.kind&&256&container.flags&&(ts.isSuperPropertyOrElementAccess(node.parent)&&ts.isAssignmentTarget(node.parent)?getNodeLinks(container).flags|=4096:getNodeLinks(container).flags|=2048),needToCaptureLexicalThis&&captureLexicalThis(node.parent,container),171===container.parent.kind)return 2>languageVersion?(error(node,ts.Diagnostics.super_is_only_allowed_in_members_of_object_literal_expressions_when_option_target_is_ES2015_or_higher),unknownType):anyType;var classLikeDeclaration=container.parent,classType=getDeclaredTypeOfSymbol(getSymbolOfNode(classLikeDeclaration)),baseClassType=classType&&getBaseTypes(classType)[0];return baseClassType?148===container.kind&&isInConstructorArgumentInitializer(node,container)?(error(node,ts.Diagnostics.super_cannot_be_referenced_in_constructor_arguments),unknownType):512===nodeCheckFlag?getBaseConstructorTypeOfClass(classType):getTypeWithThisArgument(baseClassType,classType.thisType):(ts.getClassExtendsHeritageClauseElement(classLikeDeclaration)||error(node,ts.Diagnostics.super_can_only_be_referenced_in_a_derived_class),unknownType)}function getContextualThisParameter(func){if(isContextSensitiveFunctionOrObjectLiteralMethod(func)&&180!==func.kind){var contextualSignature=getContextualSignature(func);if(contextualSignature)return contextualSignature.thisParameter}return void 0}function getContextuallyTypedParameterType(parameter){var func=parameter.parent;if(isContextSensitiveFunctionOrObjectLiteralMethod(func)){var iife=ts.getImmediatelyInvokedFunctionExpression(func);if(iife){var indexOfParameter=ts.indexOf(func.parameters,parameter);if(iife.arguments&&indexOfParameter<iife.arguments.length){if(parameter.dotDotDotToken){for(var restTypes=[],i=indexOfParameter;i<iife.arguments.length;i++)restTypes.push(getTypeOfExpression(iife.arguments[i]));return createArrayType(getUnionType(restTypes))}var links=getNodeLinks(iife),cached=links.resolvedSignature;links.resolvedSignature=anySignature;var type=checkExpression(iife.arguments[indexOfParameter]);return links.resolvedSignature=cached,type}}var contextualSignature=getContextualSignature(func);if(contextualSignature){var funcHasRestParameters=ts.hasRestParameter(func),len=func.parameters.length-(funcHasRestParameters?1:0),indexOfParameter=ts.indexOf(func.parameters,parameter);if(len>indexOfParameter)return getTypeAtPosition(contextualSignature,indexOfParameter);if(funcHasRestParameters&&indexOfParameter===func.parameters.length-1&&isRestParameterIndex(contextualSignature,func.parameters.length-1))return getTypeOfSymbol(ts.lastOrUndefined(contextualSignature.parameters))}}return void 0}function getContextualTypeForInitializerExpression(node){var declaration=node.parent;if(node===declaration.initializer){if(declaration.type)return getTypeFromTypeNode(declaration.type);if(142===declaration.kind){var type=getContextuallyTypedParameterType(declaration);if(type)return type}if(ts.isBindingPattern(declaration.name))return getTypeFromBindingPattern(declaration.name,!0,!1);if(ts.isBindingPattern(declaration.parent)){var parentDeclaration=declaration.parent.parent,name_12=declaration.propertyName||declaration.name;if(ts.isVariableLike(parentDeclaration)&&parentDeclaration.type&&!ts.isBindingPattern(name_12)){var text=getTextOfPropertyName(name_12);if(text)return getTypeOfPropertyOfType(getTypeFromTypeNode(parentDeclaration.type),text)}}}return void 0}function getContextualTypeForReturnExpression(node){var func=ts.getContainingFunction(node);if(ts.isAsyncFunctionLike(func)){var contextualReturnType=getContextualReturnType(func);return contextualReturnType?getPromisedType(contextualReturnType):void 0}return func&&!func.asteriskToken?getContextualReturnType(func):void 0}function getContextualTypeForYieldOperand(node){var func=ts.getContainingFunction(node);if(func){var contextualReturnType=getContextualReturnType(func);if(contextualReturnType)return node.asteriskToken?contextualReturnType:getElementTypeOfIterableIterator(contextualReturnType)}return void 0}function isInParameterInitializerBeforeContainingFunction(node){for(;node.parent&&!ts.isFunctionLike(node.parent);){if(142===node.parent.kind&&node.parent.initializer===node)return!0;node=node.parent}return!1}function getContextualReturnType(functionDecl){if(functionDecl.type||148===functionDecl.kind||149===functionDecl.kind&&ts.getSetAccessorTypeAnnotationNode(ts.getDeclarationOfKind(functionDecl.symbol,150)))return getReturnTypeOfSignature(getSignatureFromDeclaration(functionDecl));var signature=getContextualSignatureForFunctionLikeDeclaration(functionDecl);return signature?getReturnTypeOfSignature(signature):void 0}function getContextualTypeForArgument(callTarget,arg){var args=getEffectiveCallArguments(callTarget),argIndex=ts.indexOf(args,arg);if(argIndex>=0){var signature=getResolvedOrAnySignature(callTarget);return getTypeAtPosition(signature,argIndex)}return void 0}function getContextualTypeForSubstitutionExpression(template,substitutionExpression){return 176===template.parent.kind?getContextualTypeForArgument(template.parent,substitutionExpression):void 0}function getContextualTypeForBinaryOperand(node){var binaryExpression=node.parent,operator=binaryExpression.operatorToken.kind;if(operator>=56&&68>=operator){if(0!==ts.getSpecialPropertyAssignmentKind(binaryExpression))return void 0;if(node===binaryExpression.right)return checkExpression(binaryExpression.left)}else{if(52===operator){var type=getContextualType(binaryExpression);return type||node!==binaryExpression.right||(type=checkExpression(binaryExpression.left)),type}if((51===operator||24===operator)&&node===binaryExpression.right)return getContextualType(binaryExpression)}return void 0}function applyToContextualType(type,mapper){if(!(524288&type.flags))return mapper(type);for(var mappedType,mappedTypes,types=type.types,_i=0,types_11=types;_i<types_11.length;_i++){var current=types_11[_i],t=mapper(current);t&&(mappedType?mappedTypes?mappedTypes.push(t):mappedTypes=[mappedType,t]:mappedType=t)}return mappedTypes?getUnionType(mappedTypes):mappedType}function getTypeOfPropertyOfContextualType(type,name){return applyToContextualType(type,function(t){var prop=4161536&t.flags?getPropertyOfType(t,name):void 0;return prop?getTypeOfSymbol(prop):void 0})}function getIndexTypeOfContextualType(type,kind){return applyToContextualType(type,function(t){return getIndexTypeOfStructuredType(t,kind)})}function contextualTypeIsTupleLikeType(type){return!!(524288&type.flags?ts.forEach(type.types,isTupleLikeType):isTupleLikeType(type))}function getContextualTypeForObjectLiteralMethod(node){return ts.Debug.assert(ts.isObjectLiteralMethod(node)),isInsideWithStatementBody(node)?void 0:getContextualTypeForObjectLiteralElement(node)}function getContextualTypeForObjectLiteralElement(element){var objectLiteral=element.parent,type=getApparentTypeOfContextualType(objectLiteral);if(type){if(!ts.hasDynamicName(element)){var symbolName=getSymbolOfNode(element).name,propertyType=getTypeOfPropertyOfContextualType(type,symbolName);if(propertyType)return propertyType}return isNumericName(element.name)&&getIndexTypeOfContextualType(type,1)||getIndexTypeOfContextualType(type,0)}return void 0}function getContextualTypeForElementExpression(node){var arrayLiteral=node.parent,type=getApparentTypeOfContextualType(arrayLiteral);if(type){var index=ts.indexOf(arrayLiteral.elements,node);return getTypeOfPropertyOfContextualType(type,""+index)||getIndexTypeOfContextualType(type,1)||(languageVersion>=2?getElementTypeOfIterable(type,void 0):void 0)}return void 0}function getContextualTypeForConditionalOperand(node){var conditional=node.parent;return node===conditional.whenTrue||node===conditional.whenFalse?getContextualType(conditional):void 0}function getContextualTypeForJsxAttribute(attribute){var kind=attribute.kind,jsxElement=attribute.parent,attrsType=getJsxElementAttributesType(jsxElement);return 246===attribute.kind?!attrsType||isTypeAny(attrsType)?void 0:getTypeOfPropertyOfType(attrsType,attribute.name.text):247===attribute.kind?attrsType:void ts.Debug.fail("Expected JsxAttribute or JsxSpreadAttribute, got ts.SyntaxKind["+kind+"]")}function getApparentTypeOfContextualType(node){var type=getContextualType(node);return type&&getApparentType(type)}function getContextualType(node){if(isInsideWithStatementBody(node))return void 0;if(node.contextualType)return node.contextualType;var parent=node.parent;switch(parent.kind){case 218:case 142:case 145:case 144:case 169:return getContextualTypeForInitializerExpression(node);case 180:case 211:return getContextualTypeForReturnExpression(node);case 190:return getContextualTypeForYieldOperand(parent);case 174:case 175:return getContextualTypeForArgument(parent,node);case 177:case 195:return getTypeFromTypeNode(parent.type);case 187:return getContextualTypeForBinaryOperand(node);case 253:return getContextualTypeForObjectLiteralElement(parent);case 170:return getContextualTypeForElementExpression(node);case 188:return getContextualTypeForConditionalOperand(node);case 197:return ts.Debug.assert(189===parent.parent.kind),getContextualTypeForSubstitutionExpression(parent.parent,node);case 178:return getContextualType(parent);case 248:return getContextualType(parent);case 246:case 247:return getContextualTypeForJsxAttribute(parent)}return void 0}function isLiteralTypeLocation(node){var parent=node.parent;switch(parent.kind){case 187:switch(parent.operatorToken.kind){case 32:case 33:case 30:case 31:return!0}break;case 188:return(node===parent.whenTrue||node===parent.whenFalse)&&isLiteralTypeLocation(parent);case 178:return isLiteralTypeLocation(parent);case 249:case 166:return!0}return!1}function getNonGenericSignature(type){var signatures=getSignaturesOfStructuredType(type,0);if(1===signatures.length){var signature=signatures[0];if(!signature.typeParameters)return signature}}function isFunctionExpressionOrArrowFunction(node){return 179===node.kind||180===node.kind}function getContextualSignatureForFunctionLikeDeclaration(node){return isFunctionExpressionOrArrowFunction(node)||ts.isObjectLiteralMethod(node)?getContextualSignature(node):void 0}function getContextualTypeForFunctionLikeDeclaration(node){return ts.isObjectLiteralMethod(node)?getContextualTypeForObjectLiteralMethod(node):getApparentTypeOfContextualType(node)}function getContextualSignature(node){ts.Debug.assert(147!==node.kind||ts.isObjectLiteralMethod(node));var type=getContextualTypeForFunctionLikeDeclaration(node);if(!type)return void 0;if(!(524288&type.flags))return getNonGenericSignature(type);for(var signatureList,types=type.types,_i=0,types_12=types;_i<types_12.length;_i++){var current=types_12[_i],signature=getNonGenericSignature(current);if(signature)if(signatureList){if(!compareSignaturesIdentical(signatureList[0],signature,!1,!0,!0,compareTypesIdentical))return void 0;signatureList.push(signature)}else signatureList=[signature]}var result;return signatureList&&(result=cloneSignature(signatureList[0]),result.resolvedReturnType=void 0,result.unionSignatures=signatureList),result}function isInferentialContext(mapper){return mapper&&mapper.context}function checkSpreadElementExpression(node,contextualMapper){
var arrayOrIterableType=checkExpressionCached(node.expression,contextualMapper);return checkIteratedTypeOrElementType(arrayOrIterableType,node.expression,!1)}function hasDefaultValue(node){return 169===node.kind&&!!node.initializer||187===node.kind&&56===node.operatorToken.kind}function checkArrayLiteral(node,contextualMapper){for(var elements=node.elements,hasSpreadElement=!1,elementTypes=[],inDestructuringPattern=ts.isAssignmentTarget(node),_i=0,elements_1=elements;_i<elements_1.length;_i++){var e=elements_1[_i];if(inDestructuringPattern&&191===e.kind){var restArrayType=checkExpression(e.expression,contextualMapper),restElementType=getIndexTypeOfType(restArrayType,1)||(languageVersion>=2?getElementTypeOfIterable(restArrayType,void 0):void 0);restElementType&&elementTypes.push(restElementType)}else{var type=checkExpression(e,contextualMapper);elementTypes.push(type)}hasSpreadElement=hasSpreadElement||191===e.kind}if(!hasSpreadElement){if(inDestructuringPattern&&elementTypes.length){var type=cloneTypeReference(createTupleType(elementTypes));return type.pattern=node,type}var contextualType=getApparentTypeOfContextualType(node);if(contextualType&&contextualTypeIsTupleLikeType(contextualType)){var pattern=contextualType.pattern;if(pattern&&(168===pattern.kind||170===pattern.kind))for(var patternElements=pattern.elements,i=elementTypes.length;i<patternElements.length;i++){var patternElement=patternElements[i];hasDefaultValue(patternElement)?elementTypes.push(contextualType.typeArguments[i]):(193!==patternElement.kind&&error(patternElement,ts.Diagnostics.Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value),elementTypes.push(unknownType))}if(elementTypes.length)return createTupleType(elementTypes)}}return createArrayType(elementTypes.length?getUnionType(elementTypes,!0):strictNullChecks?neverType:undefinedWideningType)}function isNumericName(name){return 140===name.kind?isNumericComputedName(name):isNumericLiteralName(name.text)}function isNumericComputedName(name){return isTypeAnyOrAllConstituentTypesHaveKind(checkComputedPropertyName(name),340)}function isTypeAnyOrAllConstituentTypesHaveKind(type,kind){return isTypeAny(type)||isTypeOfKind(type,kind)}function isNumericLiteralName(name){return(+name).toString()===name}function checkComputedPropertyName(node){var links=getNodeLinks(node.expression);return links.resolvedType||(links.resolvedType=checkExpression(node.expression),isTypeAnyOrAllConstituentTypesHaveKind(links.resolvedType,886)?checkThatExpressionIsProperSymbolReference(node.expression,links.resolvedType,!0):error(node,ts.Diagnostics.A_computed_property_name_must_be_of_type_string_number_symbol_or_any)),links.resolvedType}function getObjectLiteralIndexInfo(node,properties,kind){for(var propTypes=[],i=0;i<properties.length;i++)(0===kind||isNumericName(node.properties[i].name))&&propTypes.push(getTypeOfSymbol(properties[i]));var unionType=propTypes.length?getUnionType(propTypes,!0):undefinedType;return createIndexInfo(unionType,!1)}function checkObjectLiteral(node,contextualMapper){var inDestructuringPattern=ts.isAssignmentTarget(node);checkGrammarObjectLiteralExpression(node,inDestructuringPattern);for(var propertiesTable=ts.createMap(),propertiesArray=[],contextualType=getApparentTypeOfContextualType(node),contextualTypeHasPattern=contextualType&&contextualType.pattern&&(167===contextualType.pattern.kind||171===contextualType.pattern.kind),typeFlags=0,patternWithComputedProperties=!1,hasComputedStringProperty=!1,hasComputedNumberProperty=!1,_i=0,_a=node.properties;_i<_a.length;_i++){var memberDecl=_a[_i],member=memberDecl.symbol;if(253===memberDecl.kind||254===memberDecl.kind||ts.isObjectLiteralMethod(memberDecl)){var type=void 0;253===memberDecl.kind?type=checkPropertyAssignment(memberDecl,contextualMapper):147===memberDecl.kind?type=checkObjectLiteralMethod(memberDecl,contextualMapper):(ts.Debug.assert(254===memberDecl.kind),type=checkExpression(memberDecl.name,contextualMapper)),typeFlags|=type.flags;var prop=createSymbol(67108868|member.flags,member.name);if(inDestructuringPattern){var isOptional=253===memberDecl.kind&&hasDefaultValue(memberDecl.initializer)||254===memberDecl.kind&&memberDecl.objectAssignmentInitializer;isOptional&&(prop.flags|=536870912),ts.hasDynamicName(memberDecl)&&(patternWithComputedProperties=!0)}else if(contextualTypeHasPattern&&!(536870912&contextualType.flags)){var impliedProp=getPropertyOfType(contextualType,member.name);impliedProp?prop.flags|=536870912&impliedProp.flags:compilerOptions.suppressExcessPropertyErrors||error(memberDecl.name,ts.Diagnostics.Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1,symbolToString(member),typeToString(contextualType))}prop.declarations=member.declarations,prop.parent=member.parent,member.valueDeclaration&&(prop.valueDeclaration=member.valueDeclaration),prop.type=type,prop.target=member,member=prop}else ts.Debug.assert(149===memberDecl.kind||150===memberDecl.kind),checkAccessorDeclaration(memberDecl);ts.hasDynamicName(memberDecl)?isNumericName(memberDecl.name)?hasComputedNumberProperty=!0:hasComputedStringProperty=!0:propertiesTable[member.name]=member,propertiesArray.push(member)}if(contextualTypeHasPattern)for(var _b=0,_c=getPropertiesOfType(contextualType);_b<_c.length;_b++){var prop=_c[_b];propertiesTable[prop.name]||(536870912&prop.flags||error(prop.valueDeclaration||prop.bindingElement,ts.Diagnostics.Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value),propertiesTable[prop.name]=prop,propertiesArray.push(prop))}var stringIndexInfo=hasComputedStringProperty?getObjectLiteralIndexInfo(node,propertiesArray,0):void 0,numberIndexInfo=hasComputedNumberProperty?getObjectLiteralIndexInfo(node,propertiesArray,1):void 0,result=createAnonymousType(node.symbol,propertiesTable,emptyArray,emptyArray,stringIndexInfo,numberIndexInfo),freshObjectLiteralFlag=compilerOptions.suppressExcessPropertyErrors?0:16777216;return result.flags|=75497472|freshObjectLiteralFlag|234881024&typeFlags|(patternWithComputedProperties?536870912:0),inDestructuringPattern&&(result.pattern=node),result}function checkJsxSelfClosingElement(node){return checkJsxOpeningLikeElement(node),jsxElementType||anyType}function checkJsxElement(node){checkJsxOpeningLikeElement(node.openingElement),isJsxIntrinsicIdentifier(node.closingElement.tagName)?getIntrinsicTagSymbol(node.closingElement):checkExpression(node.closingElement.tagName);for(var _i=0,_a=node.children;_i<_a.length;_i++){var child=_a[_i];switch(child.kind){case 248:checkJsxExpression(child);break;case 241:checkJsxElement(child);break;case 242:checkJsxSelfClosingElement(child)}}return jsxElementType||anyType}function isUnhyphenatedJsxName(name){return name.indexOf("-")<0}function isJsxIntrinsicIdentifier(tagName){return 172===tagName.kind||97===tagName.kind?!1:ts.isIntrinsicJsxName(tagName.text)}function checkJsxAttribute(node,elementAttributesType,nameTable){var correspondingPropType=void 0;if(elementAttributesType===emptyObjectType&&isUnhyphenatedJsxName(node.name.text))error(node.parent,ts.Diagnostics.JSX_element_class_does_not_support_attributes_because_it_does_not_have_a_0_property,getJsxElementPropertiesName());else if(elementAttributesType&&!isTypeAny(elementAttributesType)){var correspondingPropSymbol=getPropertyOfType(elementAttributesType,node.name.text);if(correspondingPropType=correspondingPropSymbol&&getTypeOfSymbol(correspondingPropSymbol),isUnhyphenatedJsxName(node.name.text)){var attributeType=getTypeOfPropertyOfType(elementAttributesType,getTextOfPropertyName(node.name))||getIndexTypeOfType(elementAttributesType,0);if(attributeType)correspondingPropType=attributeType;else if(!correspondingPropType)return error(node.name,ts.Diagnostics.Property_0_does_not_exist_on_type_1,node.name.text,typeToString(elementAttributesType)),unknownType}}var exprType;return exprType=node.initializer?checkExpression(node.initializer):booleanType,correspondingPropType&&checkTypeAssignableTo(exprType,correspondingPropType,node),nameTable[node.name.text]=!0,exprType}function checkJsxSpreadAttribute(node,elementAttributesType,nameTable){for(var type=checkExpression(node.expression),props=getPropertiesOfType(type),_i=0,props_2=props;_i<props_2.length;_i++){var prop=props_2[_i];if(!nameTable[prop.name]){var targetPropSym=getPropertyOfType(elementAttributesType,prop.name);if(targetPropSym){var msg=ts.chainDiagnosticMessages(void 0,ts.Diagnostics.Property_0_of_JSX_spread_attribute_is_not_assignable_to_target_property,prop.name);checkTypeAssignableTo(getTypeOfSymbol(prop),getTypeOfSymbol(targetPropSym),node,void 0,msg)}nameTable[prop.name]=!0}}return type}function getJsxType(name){return void 0===jsxTypes[name]?jsxTypes[name]=getExportedTypeFromNamespace(JsxNames.JSX,name)||unknownType:jsxTypes[name]}function getIntrinsicTagSymbol(node){var links=getNodeLinks(node);if(!links.resolvedSymbol){var intrinsicElementsType=getJsxType(JsxNames.IntrinsicElements);if(intrinsicElementsType!==unknownType){var intrinsicProp=getPropertyOfType(intrinsicElementsType,node.tagName.text);if(intrinsicProp)return links.jsxFlags|=1,links.resolvedSymbol=intrinsicProp;var indexSignatureType=getIndexTypeOfType(intrinsicElementsType,0);return indexSignatureType?(links.jsxFlags|=2,links.resolvedSymbol=intrinsicElementsType.symbol):(error(node,ts.Diagnostics.Property_0_does_not_exist_on_type_1,node.tagName.text,"JSX."+JsxNames.IntrinsicElements),links.resolvedSymbol=unknownSymbol)}return compilerOptions.noImplicitAny&&error(node,ts.Diagnostics.JSX_element_implicitly_has_type_any_because_no_interface_JSX_0_exists,JsxNames.IntrinsicElements),links.resolvedSymbol=unknownSymbol}return links.resolvedSymbol}function getJsxElementInstanceType(node,valueType){if(ts.Debug.assert(!(524288&valueType.flags)),isTypeAny(valueType))return anyType;var signatures=getSignaturesOfType(valueType,1);return 0===signatures.length&&(signatures=getSignaturesOfType(valueType,0),0===signatures.length)?(error(node.tagName,ts.Diagnostics.JSX_element_type_0_does_not_have_any_construct_or_call_signatures,ts.getTextOfNode(node.tagName)),unknownType):getUnionType(signatures.map(getReturnTypeOfSignature),!0)}function getJsxElementPropertiesName(){var jsxNamespace=getGlobalSymbol(JsxNames.JSX,1920,void 0),attribsPropTypeSym=jsxNamespace&&getSymbol(jsxNamespace.exports,JsxNames.ElementAttributesPropertyNameContainer,793064),attribPropType=attribsPropTypeSym&&getDeclaredTypeOfSymbol(attribsPropTypeSym),attribProperties=attribPropType&&getPropertiesOfType(attribPropType);return attribProperties?0===attribProperties.length?"":1===attribProperties.length?attribProperties[0].name:void error(attribsPropTypeSym.declarations[0],ts.Diagnostics.The_global_type_JSX_0_may_not_have_more_than_one_property,JsxNames.ElementAttributesPropertyNameContainer):void 0}function getResolvedJsxType(node,elemType,elemClassType){if(elemType||(elemType=checkExpression(node.tagName)),524288&elemType.flags){var types=elemType.types;return getUnionType(types.map(function(type){return getResolvedJsxType(node,type,elemClassType)}),!0)}if(2&elemType.flags)return anyType;if(32&elemType.flags){var intrinsicElementsType=getJsxType(JsxNames.IntrinsicElements);if(intrinsicElementsType!==unknownType){var stringLiteralTypeName=elemType.text,intrinsicProp=getPropertyOfType(intrinsicElementsType,stringLiteralTypeName);if(intrinsicProp)return getTypeOfSymbol(intrinsicProp);var indexSignatureType=getIndexTypeOfType(intrinsicElementsType,0);if(indexSignatureType)return indexSignatureType;error(node,ts.Diagnostics.Property_0_does_not_exist_on_type_1,stringLiteralTypeName,"JSX."+JsxNames.IntrinsicElements)}return anyType}var elemInstanceType=getJsxElementInstanceType(node,elemType);if((!elemClassType||!isTypeAssignableTo(elemInstanceType,elemClassType))&&jsxElementType){var callSignatures=elemType&&getSignaturesOfType(elemType,0),callSignature=callSignatures&&callSignatures.length>0&&callSignatures[0],callReturnType=callSignature&&getReturnTypeOfSignature(callSignature),paramType=callReturnType&&(0===callSignature.parameters.length?emptyObjectType:getTypeOfSymbol(callSignature.parameters[0]));if(callReturnType&&isTypeAssignableTo(callReturnType,jsxElementType)){var intrinsicAttributes=getJsxType(JsxNames.IntrinsicAttributes);return intrinsicAttributes!==unknownType&&(paramType=intersectTypes(intrinsicAttributes,paramType)),paramType}}if(elemClassType&&checkTypeRelatedTo(elemInstanceType,elemClassType,assignableRelation,node,ts.Diagnostics.JSX_element_type_0_is_not_a_constructor_function_for_JSX_elements),isTypeAny(elemInstanceType))return elemInstanceType;var propsName=getJsxElementPropertiesName();if(void 0===propsName)return anyType;if(""===propsName)return elemInstanceType;var attributesType=getTypeOfPropertyOfType(elemInstanceType,propsName);if(attributesType){if(isTypeAny(attributesType)||attributesType===unknownType)return attributesType;if(524288&attributesType.flags)return error(node.tagName,ts.Diagnostics.JSX_element_attributes_type_0_may_not_be_a_union_type,typeToString(attributesType)),anyType;var apparentAttributesType=attributesType,intrinsicClassAttribs=getJsxType(JsxNames.IntrinsicClassAttributes);if(intrinsicClassAttribs!==unknownType){var typeParams=getLocalTypeParametersOfClassOrInterfaceOrTypeAlias(intrinsicClassAttribs.symbol);typeParams?1===typeParams.length&&(apparentAttributesType=intersectTypes(createTypeReference(intrinsicClassAttribs,[elemInstanceType]),apparentAttributesType)):apparentAttributesType=intersectTypes(attributesType,intrinsicClassAttribs)}var intrinsicAttribs=getJsxType(JsxNames.IntrinsicAttributes);return intrinsicAttribs!==unknownType&&(apparentAttributesType=intersectTypes(intrinsicAttribs,apparentAttributesType)),apparentAttributesType}return emptyObjectType}function getJsxElementAttributesType(node){var links=getNodeLinks(node);if(!links.resolvedJsxType){if(isJsxIntrinsicIdentifier(node.tagName)){var symbol=getIntrinsicTagSymbol(node);return 1&links.jsxFlags?links.resolvedJsxType=getTypeOfSymbol(symbol):2&links.jsxFlags?links.resolvedJsxType=getIndexInfoOfSymbol(symbol,0).type:links.resolvedJsxType=unknownType}var elemClassType=getJsxGlobalElementClassType();return links.resolvedJsxType=getResolvedJsxType(node,void 0,elemClassType)}return links.resolvedJsxType}function getJsxAttributePropertySymbol(attrib){var attributesType=getJsxElementAttributesType(attrib.parent),prop=getPropertyOfType(attributesType,attrib.name.text);return prop||unknownSymbol}function getJsxGlobalElementClassType(){return jsxElementClassType||(jsxElementClassType=getExportedTypeFromNamespace(JsxNames.JSX,JsxNames.ElementClass)),jsxElementClassType}function getJsxIntrinsicTagNames(){var intrinsics=getJsxType(JsxNames.IntrinsicElements);return intrinsics?getPropertiesOfType(intrinsics):emptyArray}function checkJsxPreconditions(errorNode){0===(compilerOptions.jsx||0)&&error(errorNode,ts.Diagnostics.Cannot_use_JSX_unless_the_jsx_flag_is_provided),void 0===jsxElementType&&compilerOptions.noImplicitAny&&error(errorNode,ts.Diagnostics.JSX_element_implicitly_has_type_any_because_the_global_type_JSX_Element_does_not_exist)}function checkJsxOpeningLikeElement(node){checkGrammarJsxElement(node),checkJsxPreconditions(node);var reactRefErr=2===compilerOptions.jsx?ts.Diagnostics.Cannot_find_name_0:void 0,reactNamespace=compilerOptions.reactNamespace?compilerOptions.reactNamespace:"React",reactSym=resolveName(node.tagName,reactNamespace,107455,reactRefErr,reactNamespace);reactSym&&(getSymbolLinks(reactSym).referenced=!0);for(var targetAttributesType=getJsxElementAttributesType(node),nameTable=ts.createMap(),sawSpreadedAny=!1,i=node.attributes.length-1;i>=0;i--)if(246===node.attributes[i].kind)checkJsxAttribute(node.attributes[i],targetAttributesType,nameTable);else{ts.Debug.assert(247===node.attributes[i].kind);var spreadType=checkJsxSpreadAttribute(node.attributes[i],targetAttributesType,nameTable);isTypeAny(spreadType)&&(sawSpreadedAny=!0)}if(targetAttributesType&&!sawSpreadedAny)for(var targetProperties=getPropertiesOfType(targetAttributesType),i=0;i<targetProperties.length;i++)536870912&targetProperties[i].flags||nameTable[targetProperties[i].name]||error(node,ts.Diagnostics.Property_0_is_missing_in_type_1,targetProperties[i].name,typeToString(targetAttributesType))}function checkJsxExpression(node){return node.expression?checkExpression(node.expression):unknownType}function getDeclarationKindFromSymbol(s){return s.valueDeclaration?s.valueDeclaration.kind:145}function getDeclarationFlagsFromSymbol(s){return s.valueDeclaration?ts.getCombinedNodeFlags(s.valueDeclaration):134217728&s.flags?36:0}function checkClassPropertyAccess(node,left,type,prop){var flags=getDeclarationFlagsFromSymbol(prop),declaringClass=getDeclaredTypeOfSymbol(getParentOfSymbol(prop)),errorNode=172===node.kind||218===node.kind?node.name:node.right;if(95===left.kind){if(2>languageVersion&&147!==getDeclarationKindFromSymbol(prop))return error(errorNode,ts.Diagnostics.Only_public_and_protected_methods_of_the_base_class_are_accessible_via_the_super_keyword),!1;if(128&flags)return error(errorNode,ts.Diagnostics.Abstract_method_0_in_class_1_cannot_be_accessed_via_super_expression,symbolToString(prop),typeToString(declaringClass)),!1}if(!(24&flags))return!0;if(8&flags){var declaringClassDeclaration=getClassLikeDeclarationOfSymbol(getParentOfSymbol(prop));return isNodeWithinClass(node,declaringClassDeclaration)?!0:(error(errorNode,ts.Diagnostics.Property_0_is_private_and_only_accessible_within_class_1,symbolToString(prop),typeToString(declaringClass)),!1)}if(95===left.kind)return!0;var enclosingClass=forEachEnclosingClass(node,function(enclosingDeclaration){var enclosingClass=getDeclaredTypeOfSymbol(getSymbolOfNode(enclosingDeclaration));return hasBaseType(enclosingClass,declaringClass)?enclosingClass:void 0});return enclosingClass?32&flags?!0:(268435456&type.flags&&(type=getConstraintOfTypeParameter(type)),98304&getTargetType(type).flags&&hasBaseType(type,enclosingClass)?!0:(error(errorNode,ts.Diagnostics.Property_0_is_protected_and_only_accessible_through_an_instance_of_class_1,symbolToString(prop),typeToString(enclosingClass)),!1)):(error(errorNode,ts.Diagnostics.Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses,symbolToString(prop),typeToString(declaringClass)),!1)}function checkNonNullExpression(node){var type=checkExpression(node);if(strictNullChecks){var kind=6144&getFalsyFlags(type);return kind&&error(node,2048&kind?4096&kind?ts.Diagnostics.Object_is_possibly_null_or_undefined:ts.Diagnostics.Object_is_possibly_undefined:ts.Diagnostics.Object_is_possibly_null),getNonNullableType(type)}return type}function checkPropertyAccessExpression(node){return checkPropertyAccessExpressionOrQualifiedName(node,node.expression,node.name)}function checkQualifiedName(node){return checkPropertyAccessExpressionOrQualifiedName(node,node.left,node.right)}function checkPropertyAccessExpressionOrQualifiedName(node,left,right){var type=checkNonNullExpression(left);if(isTypeAny(type))return type;var apparentType=getApparentType(getWidenedType(type));if(apparentType===unknownType||16384&type.flags&&isTypeAny(apparentType))return apparentType;var prop=getPropertyOfType(apparentType,right.text);if(!prop)return right.text&&!checkAndReportErrorForExtendingInterface(node)&&error(right,ts.Diagnostics.Property_0_does_not_exist_on_type_1,ts.declarationNameToString(right),typeToString(268435456&type.flags?apparentType:type)),unknownType;noUnusedIdentifiers&&106500&prop.flags&&prop.valueDeclaration&&8&prop.valueDeclaration.flags&&(16777216&prop.flags?getSymbolLinks(prop).target.isReferenced=!0:prop.isReferenced=!0),getNodeLinks(node).resolvedSymbol=prop,prop.parent&&32&prop.parent.flags&&checkClassPropertyAccess(node,left,apparentType,prop);var propType=getTypeOfSymbol(prop);return 8&prop.flags&&isLiteralContextForType(node,propType)&&(propType=getDeclaredTypeOfSymbol(prop)),172===node.kind&&!ts.isAssignmentTarget(node)&&(98311&prop.flags||8192&prop.flags&&524288&propType.flags)?getFlowTypeOfReference(node,propType,!0,void 0):propType}function isValidPropertyAccess(node,propertyName){var left=172===node.kind?node.expression:node.left,type=checkExpression(left);if(type!==unknownType&&!isTypeAny(type)){var prop=getPropertyOfType(getWidenedType(type),propertyName);if(prop&&prop.parent&&32&prop.parent.flags)return checkClassPropertyAccess(node,left,type,prop)}return!0}function getForInVariableSymbol(node){var initializer=node.initializer;if(219===initializer.kind){var variable=initializer.declarations[0];if(variable&&!ts.isBindingPattern(variable.name))return getSymbolOfNode(variable)}else if(69===initializer.kind)return getResolvedSymbol(initializer);return void 0}function hasNumericPropertyNames(type){return getIndexTypeOfType(type,1)&&!getIndexTypeOfType(type,0)}function isForInVariableForNumericPropertyNames(expr){var e=skipParenthesizedNodes(expr);if(69===e.kind){var symbol=getResolvedSymbol(e);if(3&symbol.flags)for(var child=expr,node=expr.parent;node;){if(207===node.kind&&child===node.statement&&getForInVariableSymbol(node)===symbol&&hasNumericPropertyNames(checkExpression(node.expression)))return!0;child=node,node=node.parent}}return!1}function checkIndexedAccess(node){if(!node.argumentExpression){var sourceFile=ts.getSourceFileOfNode(node);if(175===node.parent.kind&&node.parent.expression===node){var start=ts.skipTrivia(sourceFile.text,node.expression.end),end=node.end;grammarErrorAtPos(sourceFile,start,end-start,ts.Diagnostics.new_T_cannot_be_used_to_create_an_array_Use_new_Array_T_instead)}else{var start=node.end-"]".length,end=node.end;grammarErrorAtPos(sourceFile,start,end-start,ts.Diagnostics.Expression_expected)}}var objectType=getApparentType(checkNonNullExpression(node.expression)),indexType=node.argumentExpression?checkExpression(node.argumentExpression):unknownType;if(objectType===unknownType)return unknownType;var isConstEnum=isConstEnumObjectType(objectType);if(isConstEnum&&(!node.argumentExpression||9!==node.argumentExpression.kind))return error(node.argumentExpression,ts.Diagnostics.A_const_enum_member_can_only_be_accessed_using_a_string_literal),unknownType;if(node.argumentExpression){var name_13=getPropertyNameForIndexedAccess(node.argumentExpression,indexType);if(void 0!==name_13){var prop=getPropertyOfType(objectType,name_13);if(prop)return getNodeLinks(node).resolvedSymbol=prop,getTypeOfSymbol(prop);if(isConstEnum)return error(node.argumentExpression,ts.Diagnostics.Property_0_does_not_exist_on_const_enum_1,name_13,symbolToString(objectType.symbol)),unknownType}}var allowedNullableFlags=strictNullChecks?0:6144;if(isTypeAnyOrAllConstituentTypesHaveKind(indexType,886|allowedNullableFlags)){if(isTypeAnyOrAllConstituentTypesHaveKind(indexType,340|allowedNullableFlags)||isForInVariableForNumericPropertyNames(node.argumentExpression)){var numberIndexInfo=getIndexInfoOfType(objectType,1);if(numberIndexInfo)return getNodeLinks(node).resolvedIndexInfo=numberIndexInfo,numberIndexInfo.type}var stringIndexInfo=getIndexInfoOfType(objectType,0);return stringIndexInfo?(getNodeLinks(node).resolvedIndexInfo=stringIndexInfo,stringIndexInfo.type):(!compilerOptions.noImplicitAny||compilerOptions.suppressImplicitAnyIndexErrors||isTypeAny(objectType)||error(node,getIndexTypeOfType(objectType,1)?ts.Diagnostics.Element_implicitly_has_an_any_type_because_index_expression_is_not_of_type_number:ts.Diagnostics.Index_signature_of_object_type_implicitly_has_an_any_type),anyType)}return error(node,ts.Diagnostics.An_index_expression_argument_must_be_of_type_string_number_symbol_or_any),unknownType}function getPropertyNameForIndexedAccess(indexArgumentExpression,indexArgumentType){if(9===indexArgumentExpression.kind||8===indexArgumentExpression.kind)return indexArgumentExpression.text;if(173===indexArgumentExpression.kind||172===indexArgumentExpression.kind){var value=getConstantValue(indexArgumentExpression);if(void 0!==value)return value.toString()}if(checkThatExpressionIsProperSymbolReference(indexArgumentExpression,indexArgumentType,!1)){var rightHandSideName=indexArgumentExpression.name.text;return ts.getPropertyNameForKnownSymbolName(rightHandSideName)}return void 0}function checkThatExpressionIsProperSymbolReference(expression,expressionType,reportError){if(expressionType===unknownType)return!1;if(!ts.isWellKnownSymbolSyntactically(expression))return!1;if(0===(512&expressionType.flags))return reportError&&error(expression,ts.Diagnostics.A_computed_property_name_of_the_form_0_must_be_of_type_symbol,ts.getTextOfNode(expression)),!1;var leftHandSide=expression.expression,leftHandSideSymbol=getResolvedSymbol(leftHandSide);if(!leftHandSideSymbol)return!1;var globalESSymbol=getGlobalESSymbolConstructorSymbol();return globalESSymbol?leftHandSideSymbol!==globalESSymbol?(reportError&&error(leftHandSide,ts.Diagnostics.Symbol_reference_does_not_refer_to_the_global_Symbol_constructor_object),!1):!0:!1}function resolveUntypedCall(node){return 176===node.kind?checkExpression(node.template):143!==node.kind&&ts.forEach(node.arguments,function(argument){checkExpression(argument)}),anySignature}function resolveErrorCall(node){return resolveUntypedCall(node),unknownSignature}function reorderCandidates(signatures,result){var lastParent,lastSymbol,index,spliceIndex,cutoffIndex=0,specializedIndex=-1;ts.Debug.assert(!result.length);for(var _i=0,signatures_2=signatures;_i<signatures_2.length;_i++){var signature=signatures_2[_i],symbol=signature.declaration&&getSymbolOfNode(signature.declaration),parent_9=signature.declaration&&signature.declaration.parent;lastSymbol&&symbol!==lastSymbol?(index=cutoffIndex=result.length,lastParent=parent_9):lastParent&&parent_9===lastParent?index++:(lastParent=parent_9,index=cutoffIndex),lastSymbol=symbol,signature.hasLiteralTypes?(specializedIndex++,spliceIndex=specializedIndex,cutoffIndex++):spliceIndex=index,result.splice(spliceIndex,0,signature)}}function getSpreadArgumentIndex(args){for(var i=0;i<args.length;i++){var arg=args[i];if(arg&&191===arg.kind)return i}return-1}function hasCorrectArity(node,args,signature,signatureHelpTrailingComma){void 0===signatureHelpTrailingComma&&(signatureHelpTrailingComma=!1);var argCount,typeArguments,callIsIncomplete,isDecorator,spreadArgIndex=-1;if(176===node.kind){var tagExpression=node;if(argCount=args.length,typeArguments=void 0,189===tagExpression.template.kind){var templateExpression=tagExpression.template,lastSpan=ts.lastOrUndefined(templateExpression.templateSpans);ts.Debug.assert(void 0!==lastSpan),callIsIncomplete=ts.nodeIsMissing(lastSpan.literal)||!!lastSpan.literal.isUnterminated}else{var templateLiteral=tagExpression.template;ts.Debug.assert(11===templateLiteral.kind),callIsIncomplete=!!templateLiteral.isUnterminated}}else if(143===node.kind)isDecorator=!0,typeArguments=void 0,argCount=getEffectiveArgumentCount(node,void 0,signature);else{var callExpression=node;if(!callExpression.arguments)return ts.Debug.assert(175===callExpression.kind),0===signature.minArgumentCount;argCount=signatureHelpTrailingComma?args.length+1:args.length,callIsIncomplete=callExpression.arguments.end===callExpression.end,typeArguments=callExpression.typeArguments,spreadArgIndex=getSpreadArgumentIndex(args)}var hasRightNumberOfTypeArgs=!typeArguments||signature.typeParameters&&typeArguments.length===signature.typeParameters.length;if(!hasRightNumberOfTypeArgs)return!1;if(spreadArgIndex>=0)return isRestParameterIndex(signature,spreadArgIndex);if(!signature.hasRestParameter&&argCount>signature.parameters.length)return!1;var hasEnoughArguments=argCount>=signature.minArgumentCount;return callIsIncomplete||hasEnoughArguments}function getSingleCallSignature(type){if(2588672&type.flags){var resolved=resolveStructuredTypeMembers(type);if(1===resolved.callSignatures.length&&0===resolved.constructSignatures.length&&0===resolved.properties.length&&!resolved.stringIndexInfo&&!resolved.numberIndexInfo)return resolved.callSignatures[0]}return void 0}function instantiateSignatureInContextOf(signature,contextualSignature,contextualMapper){var context=createInferenceContext(signature.typeParameters,!0);return forEachMatchingParameterType(contextualSignature,signature,function(source,target){inferTypes(context,instantiateType(source,contextualMapper),target)}),getSignatureInstantiation(signature,getInferredTypes(context))}function inferTypeArguments(node,signature,args,excludeArgument,context){for(var typeParameters=signature.typeParameters,inferenceMapper=getInferenceMapper(context),i=0;i<typeParameters.length;i++)context.inferences[i].isFixed||(context.inferredTypes[i]=void 0);void 0===context.failedTypeParameterIndex||context.inferences[context.failedTypeParameterIndex].isFixed||(context.failedTypeParameterIndex=void 0);var thisType=getThisTypeOfSignature(signature);if(thisType){var thisArgumentNode=getThisArgumentOfCall(node),thisArgumentType=thisArgumentNode?checkExpression(thisArgumentNode):voidType;inferTypes(context,thisArgumentType,thisType)}for(var argCount=getEffectiveArgumentCount(node,args,signature),i=0;argCount>i;i++){var arg=getEffectiveArgument(node,args,i);if(void 0===arg||193!==arg.kind){var paramType=getTypeAtPosition(signature,i),argType=getEffectiveArgumentType(node,i,arg);if(void 0===argType){var mapper=excludeArgument&&void 0!==excludeArgument[i]?identityMapper:inferenceMapper;argType=checkExpressionWithContextualType(arg,paramType,mapper)}inferTypes(context,argType,paramType)}}if(excludeArgument)for(var i=0;argCount>i;i++)if(excludeArgument[i]===!1){var arg=args[i],paramType=getTypeAtPosition(signature,i);inferTypes(context,checkExpressionWithContextualType(arg,paramType,inferenceMapper),paramType)}getInferredTypes(context)}function checkTypeArguments(signature,typeArgumentNodes,typeArgumentTypes,reportErrors,headMessage){for(var mapper,typeParameters=signature.typeParameters,typeArgumentsAreAssignable=!0,i=0;i<typeParameters.length;i++)if(typeArgumentsAreAssignable){var constraint=getConstraintOfTypeParameter(typeParameters[i]);if(constraint){var errorInfo=void 0,typeArgumentHeadMessage=ts.Diagnostics.Type_0_does_not_satisfy_the_constraint_1;reportErrors&&headMessage&&(errorInfo=ts.chainDiagnosticMessages(errorInfo,typeArgumentHeadMessage),typeArgumentHeadMessage=headMessage),mapper||(mapper=createTypeMapper(typeParameters,typeArgumentTypes));var typeArgument=typeArgumentTypes[i];typeArgumentsAreAssignable=checkTypeAssignableTo(typeArgument,getTypeWithThisArgument(instantiateType(constraint,mapper),typeArgument),reportErrors?typeArgumentNodes[i]:void 0,typeArgumentHeadMessage,errorInfo)}}return typeArgumentsAreAssignable}function checkApplicableSignature(node,args,signature,relation,excludeArgument,reportErrors){var thisType=getThisTypeOfSignature(signature);if(thisType&&thisType!==voidType&&175!==node.kind){var thisArgumentNode=getThisArgumentOfCall(node),thisArgumentType=thisArgumentNode?checkExpression(thisArgumentNode):voidType,errorNode=reportErrors?thisArgumentNode||node:void 0,headMessage_1=ts.Diagnostics.The_this_context_of_type_0_is_not_assignable_to_method_s_this_of_type_1;if(!checkTypeRelatedTo(thisArgumentType,getThisTypeOfSignature(signature),relation,errorNode,headMessage_1))return!1}for(var headMessage=ts.Diagnostics.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1,argCount=getEffectiveArgumentCount(node,args,signature),i=0;argCount>i;i++){var arg=getEffectiveArgument(node,args,i);if(void 0===arg||193!==arg.kind){var paramType=getTypeAtPosition(signature,i),argType=getEffectiveArgumentType(node,i,arg);void 0===argType&&(argType=checkExpressionWithContextualType(arg,paramType,excludeArgument&&excludeArgument[i]?identityMapper:void 0));var errorNode=reportErrors?getEffectiveArgumentErrorNode(node,i,arg):void 0;if(!checkTypeRelatedTo(argType,paramType,relation,errorNode,headMessage))return!1}}return!0}function getThisArgumentOfCall(node){if(174===node.kind){var callee=node.expression;
if(172===callee.kind)return callee.expression;if(173===callee.kind)return callee.expression}}function getEffectiveCallArguments(node){var args;if(176===node.kind){var template=node.template;args=[void 0],189===template.kind&&ts.forEach(template.templateSpans,function(span){args.push(span.expression)})}else{if(143===node.kind)return void 0;args=node.arguments||emptyArray}return args}function getEffectiveArgumentCount(node,args,signature){if(143!==node.kind)return args.length;switch(node.parent.kind){case 221:case 192:return 1;case 145:return 2;case 147:case 149:case 150:return 0===languageVersion?2:signature.parameters.length>=3?3:2;case 142:return 3}}function getEffectiveDecoratorFirstArgumentType(node){if(221===node.kind){var classSymbol=getSymbolOfNode(node);return getTypeOfSymbol(classSymbol)}if(142===node.kind&&(node=node.parent,148===node.kind)){var classSymbol=getSymbolOfNode(node);return getTypeOfSymbol(classSymbol)}return 145===node.kind||147===node.kind||149===node.kind||150===node.kind?getParentTypeOfClassElement(node):(ts.Debug.fail("Unsupported decorator target."),unknownType)}function getEffectiveDecoratorSecondArgumentType(node){if(221===node.kind)return ts.Debug.fail("Class decorators should not have a second synthetic argument."),unknownType;if(142===node.kind&&(node=node.parent,148===node.kind))return anyType;if(145===node.kind||147===node.kind||149===node.kind||150===node.kind){var element=node;switch(element.name.kind){case 69:case 8:case 9:return getLiteralTypeForText(32,element.name.text);case 140:var nameType=checkComputedPropertyName(element.name);return isTypeOfKind(nameType,512)?nameType:stringType;default:return ts.Debug.fail("Unsupported property name."),unknownType}}return ts.Debug.fail("Unsupported decorator target."),unknownType}function getEffectiveDecoratorThirdArgumentType(node){if(221===node.kind)return ts.Debug.fail("Class decorators should not have a third synthetic argument."),unknownType;if(142===node.kind)return numberType;if(145===node.kind)return ts.Debug.fail("Property decorators should not have a third synthetic argument."),unknownType;if(147===node.kind||149===node.kind||150===node.kind){var propertyType=getTypeOfNode(node);return createTypedPropertyDescriptorType(propertyType)}return ts.Debug.fail("Unsupported decorator target."),unknownType}function getEffectiveDecoratorArgumentType(node,argIndex){return 0===argIndex?getEffectiveDecoratorFirstArgumentType(node.parent):1===argIndex?getEffectiveDecoratorSecondArgumentType(node.parent):2===argIndex?getEffectiveDecoratorThirdArgumentType(node.parent):(ts.Debug.fail("Decorators should not have a fourth synthetic argument."),unknownType)}function getEffectiveArgumentType(node,argIndex,arg){return 143===node.kind?getEffectiveDecoratorArgumentType(node,argIndex):0===argIndex&&176===node.kind?getGlobalTemplateStringsArrayType():void 0}function getEffectiveArgument(node,args,argIndex){return 143===node.kind||0===argIndex&&176===node.kind?void 0:args[argIndex]}function getEffectiveArgumentErrorNode(node,argIndex,arg){return 143===node.kind?node.expression:0===argIndex&&176===node.kind?node.template:arg}function resolveCall(node,signatures,candidatesOutArray,headMessage){function reportError(message,arg0,arg1,arg2){var errorInfo;errorInfo=ts.chainDiagnosticMessages(errorInfo,message,arg0,arg1,arg2),headMessage&&(errorInfo=ts.chainDiagnosticMessages(errorInfo,headMessage)),diagnostics.add(ts.createDiagnosticForNodeFromMessageChain(node,errorInfo))}function chooseOverload(candidates,relation,signatureHelpTrailingComma){void 0===signatureHelpTrailingComma&&(signatureHelpTrailingComma=!1);for(var _i=0,candidates_2=candidates;_i<candidates_2.length;_i++){var originalCandidate=candidates_2[_i];if(hasCorrectArity(node,args,originalCandidate,signatureHelpTrailingComma)){for(var candidate=void 0,typeArgumentsAreValid=void 0,inferenceContext=originalCandidate.typeParameters?createInferenceContext(originalCandidate.typeParameters,!1):void 0;;){if(candidate=originalCandidate,candidate.typeParameters){var typeArgumentTypes=void 0;if(typeArguments?(typeArgumentTypes=ts.map(typeArguments,getTypeFromTypeNode),typeArgumentsAreValid=checkTypeArguments(candidate,typeArguments,typeArgumentTypes,!1)):(inferTypeArguments(node,candidate,args,excludeArgument,inferenceContext),typeArgumentsAreValid=void 0===inferenceContext.failedTypeParameterIndex,typeArgumentTypes=inferenceContext.inferredTypes),!typeArgumentsAreValid)break;candidate=getSignatureInstantiation(candidate,typeArgumentTypes)}if(!checkApplicableSignature(node,args,candidate,relation,excludeArgument,!1))break;var index=excludeArgument?ts.indexOf(excludeArgument,!0):-1;if(0>index)return candidate;excludeArgument[index]=!1}if(originalCandidate.typeParameters){var instantiatedCandidate=candidate;typeArgumentsAreValid?candidateForArgumentError=instantiatedCandidate:(candidateForTypeArgumentError=originalCandidate,typeArguments||(resultOfFailedInference=inferenceContext))}else ts.Debug.assert(originalCandidate===candidate),candidateForArgumentError=originalCandidate}}return void 0}var typeArguments,isTaggedTemplate=176===node.kind,isDecorator=143===node.kind;isTaggedTemplate||isDecorator||(typeArguments=node.typeArguments,95!==node.expression.kind&&ts.forEach(typeArguments,checkSourceElement));var candidates=candidatesOutArray||[];if(reorderCandidates(signatures,candidates),!candidates.length)return reportError(ts.Diagnostics.Supplied_parameters_do_not_match_any_signature_of_call_target),resolveErrorCall(node);var excludeArgument,args=getEffectiveCallArguments(node);if(!isDecorator)for(var i=isTaggedTemplate?1:0;i<args.length;i++)isContextSensitive(args[i])&&(excludeArgument||(excludeArgument=new Array(args.length)),excludeArgument[i]=!0);var candidateForArgumentError,candidateForTypeArgumentError,resultOfFailedInference,result,signatureHelpTrailingComma=candidatesOutArray&&174===node.kind&&node.arguments.hasTrailingComma;if(candidates.length>1&&(result=chooseOverload(candidates,subtypeRelation,signatureHelpTrailingComma)),result||(candidateForArgumentError=void 0,candidateForTypeArgumentError=void 0,resultOfFailedInference=void 0,result=chooseOverload(candidates,assignableRelation,signatureHelpTrailingComma)),result)return result;if(candidateForArgumentError)checkApplicableSignature(node,args,candidateForArgumentError,assignableRelation,void 0,!0);else if(candidateForTypeArgumentError)if(isTaggedTemplate||isDecorator||!typeArguments){ts.Debug.assert(resultOfFailedInference.failedTypeParameterIndex>=0);var failedTypeParameter=candidateForTypeArgumentError.typeParameters[resultOfFailedInference.failedTypeParameterIndex],inferenceCandidates=getInferenceCandidates(resultOfFailedInference,resultOfFailedInference.failedTypeParameterIndex),diagnosticChainHead=ts.chainDiagnosticMessages(void 0,ts.Diagnostics.The_type_argument_for_type_parameter_0_cannot_be_inferred_from_the_usage_Consider_specifying_the_type_arguments_explicitly,typeToString(failedTypeParameter));headMessage&&(diagnosticChainHead=ts.chainDiagnosticMessages(diagnosticChainHead,headMessage)),reportNoCommonSupertypeError(inferenceCandidates,node.expression||node.tag,diagnosticChainHead)}else{var typeArguments_2=node.typeArguments;checkTypeArguments(candidateForTypeArgumentError,typeArguments_2,ts.map(typeArguments_2,getTypeFromTypeNode),!0,headMessage)}else reportError(ts.Diagnostics.Supplied_parameters_do_not_match_any_signature_of_call_target);if(!produceDiagnostics)for(var _i=0,candidates_1=candidates;_i<candidates_1.length;_i++){var candidate=candidates_1[_i];if(hasCorrectArity(node,args,candidate))return candidate.typeParameters&&typeArguments&&(candidate=getSignatureInstantiation(candidate,ts.map(typeArguments,getTypeFromTypeNode))),candidate}return resolveErrorCall(node)}function resolveCallExpression(node,candidatesOutArray){if(95===node.expression.kind){var superType=checkSuperExpression(node.expression);if(superType!==unknownType){var baseTypeNode=ts.getClassExtendsHeritageClauseElement(ts.getContainingClass(node));if(baseTypeNode){var baseConstructors=getInstantiatedConstructorsForTypeArguments(superType,baseTypeNode.typeArguments);return resolveCall(node,baseConstructors,candidatesOutArray)}}return resolveUntypedCall(node)}var funcType=checkNonNullExpression(node.expression),apparentType=getApparentType(funcType);if(apparentType===unknownType)return resolveErrorCall(node);var callSignatures=getSignaturesOfType(apparentType,0),constructSignatures=getSignaturesOfType(apparentType,1);return isUntypedFunctionCall(funcType,apparentType,callSignatures.length,constructSignatures.length)?(funcType!==unknownType&&node.typeArguments&&error(node,ts.Diagnostics.Untyped_function_calls_may_not_accept_type_arguments),resolveUntypedCall(node)):callSignatures.length?resolveCall(node,callSignatures,candidatesOutArray):(constructSignatures.length?error(node,ts.Diagnostics.Value_of_type_0_is_not_callable_Did_you_mean_to_include_new,typeToString(funcType)):error(node,ts.Diagnostics.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature),resolveErrorCall(node))}function isUntypedFunctionCall(funcType,apparentFuncType,numCallSignatures,numConstructSignatures){return isTypeAny(funcType)?!0:isTypeAny(apparentFuncType)&&16384&funcType.flags?!0:numCallSignatures||numConstructSignatures?!1:524288&funcType.flags?!1:isTypeAssignableTo(funcType,globalFunctionType)}function resolveNewExpression(node,candidatesOutArray){if(node.arguments&&1>languageVersion){var spreadIndex=getSpreadArgumentIndex(node.arguments);spreadIndex>=0&&error(node.arguments[spreadIndex],ts.Diagnostics.Spread_operator_in_new_expressions_is_only_available_when_targeting_ECMAScript_5_and_higher)}var expressionType=checkNonNullExpression(node.expression);if(expressionType=getApparentType(expressionType),expressionType===unknownType)return resolveErrorCall(node);var valueDecl=expressionType.symbol&&getClassLikeDeclarationOfSymbol(expressionType.symbol);if(valueDecl&&128&valueDecl.flags)return error(node,ts.Diagnostics.Cannot_create_an_instance_of_the_abstract_class_0,ts.declarationNameToString(valueDecl.name)),resolveErrorCall(node);if(isTypeAny(expressionType))return node.typeArguments&&error(node,ts.Diagnostics.Untyped_function_calls_may_not_accept_type_arguments),resolveUntypedCall(node);var constructSignatures=getSignaturesOfType(expressionType,1);if(constructSignatures.length)return isConstructorAccessible(node,constructSignatures[0])?resolveCall(node,constructSignatures,candidatesOutArray):resolveErrorCall(node);var callSignatures=getSignaturesOfType(expressionType,0);if(callSignatures.length){var signature=resolveCall(node,callSignatures,candidatesOutArray);return getReturnTypeOfSignature(signature)!==voidType&&error(node,ts.Diagnostics.Only_a_void_function_can_be_called_with_the_new_keyword),getThisTypeOfSignature(signature)===voidType&&error(node,ts.Diagnostics.A_function_that_is_called_with_the_new_keyword_cannot_have_a_this_type_that_is_void),signature}return error(node,ts.Diagnostics.Cannot_use_new_with_an_expression_whose_type_lacks_a_call_or_construct_signature),resolveErrorCall(node)}function isConstructorAccessible(node,signature){if(!signature||!signature.declaration)return!0;var declaration=signature.declaration,flags=declaration.flags;if(!(24&flags))return!0;var declaringClassDeclaration=getClassLikeDeclarationOfSymbol(declaration.parent.symbol),declaringClass=getDeclaredTypeOfSymbol(declaration.parent.symbol);if(!isNodeWithinClass(node,declaringClassDeclaration)){var containingClass=ts.getContainingClass(node);if(containingClass){var containingType=getTypeOfNode(containingClass),baseTypes=getBaseTypes(containingType);if(baseTypes.length){var baseType=baseTypes[0];if(16&flags&&baseType.symbol===declaration.parent.symbol)return!0}}return 8&flags&&error(node,ts.Diagnostics.Constructor_of_class_0_is_private_and_only_accessible_within_the_class_declaration,typeToString(declaringClass)),16&flags&&error(node,ts.Diagnostics.Constructor_of_class_0_is_protected_and_only_accessible_within_the_class_declaration,typeToString(declaringClass)),!1}return!0}function resolveTaggedTemplateExpression(node,candidatesOutArray){var tagType=checkExpression(node.tag),apparentType=getApparentType(tagType);if(apparentType===unknownType)return resolveErrorCall(node);var callSignatures=getSignaturesOfType(apparentType,0),constructSignatures=getSignaturesOfType(apparentType,1);return isUntypedFunctionCall(tagType,apparentType,callSignatures.length,constructSignatures.length)?resolveUntypedCall(node):callSignatures.length?resolveCall(node,callSignatures,candidatesOutArray):(error(node,ts.Diagnostics.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature),resolveErrorCall(node))}function getDiagnosticHeadMessageForDecoratorResolution(node){switch(node.parent.kind){case 221:case 192:return ts.Diagnostics.Unable_to_resolve_signature_of_class_decorator_when_called_as_an_expression;case 142:return ts.Diagnostics.Unable_to_resolve_signature_of_parameter_decorator_when_called_as_an_expression;case 145:return ts.Diagnostics.Unable_to_resolve_signature_of_property_decorator_when_called_as_an_expression;case 147:case 149:case 150:return ts.Diagnostics.Unable_to_resolve_signature_of_method_decorator_when_called_as_an_expression}}function resolveDecorator(node,candidatesOutArray){var funcType=checkExpression(node.expression),apparentType=getApparentType(funcType);if(apparentType===unknownType)return resolveErrorCall(node);var callSignatures=getSignaturesOfType(apparentType,0),constructSignatures=getSignaturesOfType(apparentType,1);if(isUntypedFunctionCall(funcType,apparentType,callSignatures.length,constructSignatures.length))return resolveUntypedCall(node);var headMessage=getDiagnosticHeadMessageForDecoratorResolution(node);if(!callSignatures.length){var errorInfo=void 0;return errorInfo=ts.chainDiagnosticMessages(errorInfo,ts.Diagnostics.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature),errorInfo=ts.chainDiagnosticMessages(errorInfo,headMessage),diagnostics.add(ts.createDiagnosticForNodeFromMessageChain(node,errorInfo)),resolveErrorCall(node)}return resolveCall(node,callSignatures,candidatesOutArray,headMessage)}function resolveSignature(node,candidatesOutArray){switch(node.kind){case 174:return resolveCallExpression(node,candidatesOutArray);case 175:return resolveNewExpression(node,candidatesOutArray);case 176:return resolveTaggedTemplateExpression(node,candidatesOutArray);case 143:return resolveDecorator(node,candidatesOutArray)}ts.Debug.fail("Branch in 'resolveSignature' should be unreachable.")}function getResolvedSignature(node,candidatesOutArray){var links=getNodeLinks(node),cached=links.resolvedSignature;if(cached&&cached!==resolvingSignature&&!candidatesOutArray)return cached;links.resolvedSignature=resolvingSignature;var result=resolveSignature(node,candidatesOutArray);return links.resolvedSignature=flowLoopStart===flowLoopCount?result:cached,result}function getResolvedOrAnySignature(node){return getNodeLinks(node).resolvedSignature===resolvingSignature?resolvingSignature:getResolvedSignature(node)}function getInferredClassType(symbol){var links=getSymbolLinks(symbol);return links.inferredClassType||(links.inferredClassType=createAnonymousType(symbol,symbol.members,emptyArray,emptyArray,void 0,void 0)),links.inferredClassType}function checkCallExpression(node){checkGrammarTypeArguments(node,node.typeArguments)||checkGrammarArguments(node,node.arguments);var signature=getResolvedSignature(node);if(95===node.expression.kind)return voidType;if(175===node.kind){var declaration=signature.declaration;if(declaration&&148!==declaration.kind&&152!==declaration.kind&&157!==declaration.kind&&!ts.isJSDocConstructSignature(declaration)){var funcSymbol=69===node.expression.kind?getResolvedSymbol(node.expression):checkExpression(node.expression).symbol;return funcSymbol&&funcSymbol.members&&(16&funcSymbol.flags||ts.isDeclarationOfFunctionExpression(funcSymbol))?getInferredClassType(funcSymbol):(compilerOptions.noImplicitAny&&error(node,ts.Diagnostics.new_expression_whose_target_lacks_a_construct_signature_implicitly_has_an_any_type),anyType)}}return ts.isInJavaScriptFile(node)&&ts.isRequireCall(node,!0)?resolveExternalModuleTypeByLiteral(node.arguments[0]):getReturnTypeOfSignature(signature)}function checkTaggedTemplateExpression(node){return getReturnTypeOfSignature(getResolvedSignature(node))}function checkAssertion(node){var exprType=getRegularTypeOfObjectLiteral(checkExpression(node.expression));checkSourceElement(node.type);var targetType=getTypeFromTypeNode(node.type);if(produceDiagnostics&&targetType!==unknownType){var widenedType=getWidenedType(exprType);isTypeComparableTo(targetType,widenedType)||checkTypeComparableTo(exprType,targetType,node,ts.Diagnostics.Type_0_cannot_be_converted_to_type_1)}return targetType}function checkNonNullAssertion(node){return getNonNullableType(checkExpression(node.expression))}function getTypeOfParameter(symbol){var type=getTypeOfSymbol(symbol);if(strictNullChecks){var declaration=symbol.valueDeclaration;if(declaration&&declaration.initializer)return includeFalsyTypes(type,2048)}return type}function getTypeAtPosition(signature,pos){return signature.hasRestParameter?pos<signature.parameters.length-1?getTypeOfParameter(signature.parameters[pos]):getRestTypeOfSignature(signature):pos<signature.parameters.length?getTypeOfParameter(signature.parameters[pos]):anyType}function assignContextualParameterTypes(signature,context,mapper){var len=signature.parameters.length-(signature.hasRestParameter?1:0);context.thisParameter&&(signature.thisParameter||(signature.thisParameter=createTransientSymbol(context.thisParameter,void 0)),assignTypeToParameterAndFixTypeParameters(signature.thisParameter,getTypeOfSymbol(context.thisParameter),mapper));for(var i=0;len>i;i++){var parameter=signature.parameters[i],contextualParameterType=getTypeAtPosition(context,i);assignTypeToParameterAndFixTypeParameters(parameter,contextualParameterType,mapper)}if(signature.hasRestParameter&&isRestParameterIndex(context,signature.parameters.length-1)){var parameter=ts.lastOrUndefined(signature.parameters),contextualParameterType=getTypeOfSymbol(ts.lastOrUndefined(context.parameters));assignTypeToParameterAndFixTypeParameters(parameter,contextualParameterType,mapper)}}function assignBindingElementTypes(node){if(ts.isBindingPattern(node.name))for(var _i=0,_a=node.name.elements;_i<_a.length;_i++){var element=_a[_i];193!==element.kind&&(69===element.name.kind&&(getSymbolLinks(getSymbolOfNode(element)).type=getTypeForBindingElement(element)),assignBindingElementTypes(element))}}function assignTypeToParameterAndFixTypeParameters(parameter,contextualType,mapper){var links=getSymbolLinks(parameter);links.type?isInferentialContext(mapper)&&inferTypes(mapper.context,links.type,instantiateType(contextualType,mapper)):(links.type=instantiateType(contextualType,mapper),links.type!==emptyObjectType||167!==parameter.valueDeclaration.name.kind&&168!==parameter.valueDeclaration.name.kind||(links.type=getTypeFromBindingPattern(parameter.valueDeclaration.name)),assignBindingElementTypes(parameter.valueDeclaration))}function getReturnTypeFromJSDocComment(func){var returnTag=ts.getJSDocReturnTag(func);return returnTag&&returnTag.typeExpression?getTypeFromTypeNode(returnTag.typeExpression.type):void 0}function createPromiseType(promisedType){var globalPromiseType=getGlobalPromiseType();return globalPromiseType!==emptyGenericType?(promisedType=getAwaitedType(promisedType),createTypeReference(globalPromiseType,[promisedType])):emptyObjectType}function createPromiseReturnType(func,promisedType){var promiseType=createPromiseType(promisedType);return promiseType===emptyObjectType?(error(func,ts.Diagnostics.An_async_function_or_method_must_have_a_valid_awaitable_return_type),unknownType):promiseType}function getReturnTypeFromBody(func,contextualMapper){var contextualSignature=getContextualSignatureForFunctionLikeDeclaration(func);if(!func.body)return unknownType;var type,isAsync=ts.isAsyncFunctionLike(func);if(199!==func.body.kind)type=checkExpressionCached(func.body,contextualMapper),isAsync&&(type=checkAwaitedType(type,func,ts.Diagnostics.Return_expression_in_async_function_does_not_have_a_valid_callable_then_member));else{var types=void 0,funcIsGenerator=!!func.asteriskToken;if(funcIsGenerator){if(types=checkAndAggregateYieldOperandTypes(func,contextualMapper),0===types.length){var iterableIteratorAny=createIterableIteratorType(anyType);return compilerOptions.noImplicitAny&&error(func.asteriskToken,ts.Diagnostics.Generator_implicitly_has_type_0_because_it_does_not_yield_any_values_Consider_supplying_a_return_type,typeToString(iterableIteratorAny)),iterableIteratorAny}}else{if(types=checkAndAggregateReturnExpressionTypes(func,contextualMapper),!types)return isAsync?createPromiseReturnType(func,neverType):neverType;if(0===types.length)return isAsync?createPromiseReturnType(func,voidType):voidType}if(type=contextualSignature?getUnionType(types,!0):getCommonSupertype(types),!type)return funcIsGenerator?(error(func,ts.Diagnostics.No_best_common_type_exists_among_yield_expressions),createIterableIteratorType(unknownType)):(error(func,ts.Diagnostics.No_best_common_type_exists_among_return_expressions),isAsync?createPromiseReturnType(func,getUnionType(types,!0)):getUnionType(types,!0));funcIsGenerator&&(type=createIterableIteratorType(type))}contextualSignature||reportErrorsFromWidening(func,type);var widenedType=getWidenedType(type);return isAsync?createPromiseReturnType(func,widenedType):widenedType}function checkAndAggregateYieldOperandTypes(func,contextualMapper){var aggregatedTypes=[];return ts.forEachYieldExpression(func.body,function(yieldExpression){var expr=yieldExpression.expression;if(expr){var type=checkExpressionCached(expr,contextualMapper);yieldExpression.asteriskToken&&(type=checkElementTypeOfIterable(type,yieldExpression.expression)),ts.contains(aggregatedTypes,type)||aggregatedTypes.push(type)}}),aggregatedTypes}function isExhaustiveSwitchStatement(node){if(!node.possiblyExhaustive)return!1;var type=checkExpression(node.expression);if(!isUnitUnionType(type))return!1;var switchTypes=getSwitchClauseTypes(node);return switchTypes.length?eachTypeContainedIn(type,switchTypes):!1}function functionHasImplicitReturn(func){if(!(32768&func.flags))return!1;var lastStatement=ts.lastOrUndefined(func.body.statements);return lastStatement&&213===lastStatement.kind&&isExhaustiveSwitchStatement(lastStatement)?!1:!0}function checkAndAggregateReturnExpressionTypes(func,contextualMapper){var isAsync=ts.isAsyncFunctionLike(func),aggregatedTypes=[],hasReturnWithNoExpression=functionHasImplicitReturn(func),hasReturnOfTypeNever=!1;return ts.forEachReturnStatement(func.body,function(returnStatement){var expr=returnStatement.expression;if(expr){var type=checkExpressionCached(expr,contextualMapper);isAsync&&(type=checkAwaitedType(type,func,ts.Diagnostics.Return_expression_in_async_function_does_not_have_a_valid_callable_then_member)),type===neverType?hasReturnOfTypeNever=!0:ts.contains(aggregatedTypes,type)||aggregatedTypes.push(type)}else hasReturnWithNoExpression=!0}),0!==aggregatedTypes.length||hasReturnWithNoExpression||!hasReturnOfTypeNever&&179!==func.kind&&180!==func.kind?(strictNullChecks&&aggregatedTypes.length&&hasReturnWithNoExpression&&(ts.contains(aggregatedTypes,undefinedType)||aggregatedTypes.push(undefinedType)),aggregatedTypes):void 0}function checkAllCodePathsInNonVoidFunctionReturnOrThrow(func,returnType){if(produceDiagnostics&&(!returnType||!maybeTypeOfKind(returnType,1025))&&!ts.nodeIsMissing(func.body)&&199===func.body.kind&&functionHasImplicitReturn(func)){var hasExplicitReturn=65536&func.flags;if(returnType===neverType)error(func.type,ts.Diagnostics.A_function_returning_never_cannot_have_a_reachable_end_point);else if(returnType&&!hasExplicitReturn)error(func.type,ts.Diagnostics.A_function_whose_declared_type_is_neither_void_nor_any_must_return_a_value);else if(returnType&&strictNullChecks&&!isTypeAssignableTo(undefinedType,returnType))error(func.type,ts.Diagnostics.Function_lacks_ending_return_statement_and_return_type_does_not_include_undefined);else if(compilerOptions.noImplicitReturns){if(!returnType){if(!hasExplicitReturn)return;var inferredReturnType=getReturnTypeOfSignature(getSignatureFromDeclaration(func));if(isUnwrappedReturnTypeVoidOrAny(func,inferredReturnType))return}error(func.type||func,ts.Diagnostics.Not_all_code_paths_return_a_value)}}}function checkFunctionExpressionOrObjectLiteralMethod(node,contextualMapper){ts.Debug.assert(147!==node.kind||ts.isObjectLiteralMethod(node));var hasGrammarError=checkGrammarFunctionLikeDeclaration(node);if(hasGrammarError||179!==node.kind||checkGrammarForGenerator(node),contextualMapper===identityMapper&&isContextSensitive(node))return checkNodeDeferred(node),anyFunctionType;var links=getNodeLinks(node),type=getTypeOfSymbol(node.symbol),contextSensitive=isContextSensitive(node),mightFixTypeParameters=contextSensitive&&isInferentialContext(contextualMapper);if(mightFixTypeParameters||!(1024&links.flags)){var contextualSignature=getContextualSignature(node),contextChecked=!!(1024&links.flags);if(mightFixTypeParameters||!contextChecked){if(links.flags|=1024,contextualSignature){var signature=getSignaturesOfType(type,0)[0];if(contextSensitive&&assignContextualParameterTypes(signature,contextualSignature,contextualMapper||identityMapper),mightFixTypeParameters||!node.type&&!signature.resolvedReturnType){var returnType=getReturnTypeFromBody(node,contextualMapper);signature.resolvedReturnType||(signature.resolvedReturnType=returnType)}}contextChecked||(checkSignatureDeclaration(node),checkNodeDeferred(node))}}return produceDiagnostics&&147!==node.kind&&146!==node.kind&&(checkCollisionWithCapturedSuperVariable(node,node.name),checkCollisionWithCapturedThisVariable(node,node.name)),type}function checkFunctionExpressionOrObjectLiteralMethodDeferred(node){ts.Debug.assert(147!==node.kind||ts.isObjectLiteralMethod(node));var isAsync=ts.isAsyncFunctionLike(node),returnOrPromisedType=node.type&&(isAsync?checkAsyncFunctionReturnType(node):getTypeFromTypeNode(node.type));if(node.asteriskToken||checkAllCodePathsInNonVoidFunctionReturnOrThrow(node,returnOrPromisedType),node.body){if(node.type||getReturnTypeOfSignature(getSignatureFromDeclaration(node)),199===node.body.kind)checkSourceElement(node.body);else{var exprType=checkExpression(node.body);if(returnOrPromisedType)if(isAsync){var awaitedType=checkAwaitedType(exprType,node.body,ts.Diagnostics.Expression_body_for_async_arrow_function_does_not_have_a_valid_callable_then_member);checkTypeAssignableTo(awaitedType,returnOrPromisedType,node.body)}else checkTypeAssignableTo(exprType,returnOrPromisedType,node.body)}registerForUnusedIdentifiersCheck(node)}}function checkArithmeticOperandType(operand,type,diagnostic){return isTypeAnyOrAllConstituentTypesHaveKind(type,340)?!0:(error(operand,diagnostic),!1)}function isReadonlySymbol(symbol){return symbol.isReadonly||4&symbol.flags&&0!==(64&getDeclarationFlagsFromSymbol(symbol))||3&symbol.flags&&0!==(2048&getDeclarationFlagsFromSymbol(symbol))||98304&symbol.flags&&!(65536&symbol.flags)||0!==(8&symbol.flags)}function isReferenceToReadonlyEntity(expr,symbol){if(isReadonlySymbol(symbol)){if(4&symbol.flags&&(172===expr.kind||173===expr.kind)&&97===expr.expression.kind){var func=ts.getContainingFunction(expr);return func&&148===func.kind?!(func.parent===symbol.valueDeclaration.parent||func===symbol.valueDeclaration.parent):!0}return!0}return!1}function isReferenceThroughNamespaceImport(expr){if(172===expr.kind||173===expr.kind){var node=skipParenthesizedNodes(expr.expression);if(69===node.kind){var symbol=getNodeLinks(node).resolvedSymbol;if(8388608&symbol.flags){var declaration=getDeclarationOfAliasSymbol(symbol);return declaration&&232===declaration.kind}}}return!1}function checkReferenceExpression(expr,invalidReferenceMessage,constantVariableMessage){var node=skipParenthesizedNodes(expr);if(69!==node.kind&&172!==node.kind&&173!==node.kind)return error(expr,invalidReferenceMessage),!1;var links=getNodeLinks(node),symbol=getExportSymbolOfValueSymbolIfExported(links.resolvedSymbol);if(symbol){if(symbol!==unknownSymbol&&symbol!==argumentsSymbol){if(69===node.kind&&!(3&symbol.flags))return error(expr,invalidReferenceMessage),!1;if(isReferenceToReadonlyEntity(node,symbol)||isReferenceThroughNamespaceImport(node))return error(expr,constantVariableMessage),!1}}else if(173===node.kind&&links.resolvedIndexInfo&&links.resolvedIndexInfo.isReadonly)return error(expr,constantVariableMessage),!1;return!0}function checkDeleteExpression(node){return checkExpression(node.expression),booleanType}function checkTypeOfExpression(node){return checkExpression(node.expression),stringType}function checkVoidExpression(node){return checkExpression(node.expression),undefinedWideningType}function checkAwaitExpression(node){produceDiagnostics&&(33554432&node.flags||grammarErrorOnFirstToken(node,ts.Diagnostics.await_expression_is_only_allowed_within_an_async_function),isInParameterInitializerBeforeContainingFunction(node)&&error(node,ts.Diagnostics.await_expressions_cannot_be_used_in_a_parameter_initializer));var operandType=checkExpression(node.expression);return checkAwaitedType(operandType,node)}function checkPrefixUnaryExpression(node){var operandType=checkExpression(node.operand);if(36===node.operator&&8===node.operand.kind&&isLiteralContextForType(node,numberType))return getLiteralTypeForText(64,""+-node.operand.text);switch(node.operator){case 35:case 36:case 50:return maybeTypeOfKind(operandType,512)&&error(node.operand,ts.Diagnostics.The_0_operator_cannot_be_applied_to_type_symbol,ts.tokenToString(node.operator)),numberType;case 49:var facts=3145728&getTypeFacts(operandType);return 1048576===facts?falseType:2097152===facts?trueType:booleanType;case 41:case 42:var ok=checkArithmeticOperandType(node.operand,getNonNullableType(operandType),ts.Diagnostics.An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type);return ok&&checkReferenceExpression(node.operand,ts.Diagnostics.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_property_or_indexer,ts.Diagnostics.The_operand_of_an_increment_or_decrement_operator_cannot_be_a_constant_or_a_read_only_property),numberType}return unknownType}function checkPostfixUnaryExpression(node){var operandType=checkExpression(node.operand),ok=checkArithmeticOperandType(node.operand,getNonNullableType(operandType),ts.Diagnostics.An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type);return ok&&checkReferenceExpression(node.operand,ts.Diagnostics.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_property_or_indexer,ts.Diagnostics.The_operand_of_an_increment_or_decrement_operator_cannot_be_a_constant_or_a_read_only_property),numberType}function maybeTypeOfKind(type,kind){if(type.flags&kind)return!0;if(1572864&type.flags)for(var types=type.types,_i=0,types_13=types;_i<types_13.length;_i++){var t=types_13[_i];if(maybeTypeOfKind(t,kind))return!0}return!1}function isTypeOfKind(type,kind){if(type.flags&kind)return!0;if(524288&type.flags){for(var types=type.types,_i=0,types_14=types;_i<types_14.length;_i++){var t=types_14[_i];if(!isTypeOfKind(t,kind))return!1}return!0}if(1048576&type.flags)for(var types=type.types,_a=0,types_15=types;_a<types_15.length;_a++){var t=types_15[_a];if(isTypeOfKind(t,kind))return!0}return!1}function isConstEnumObjectType(type){return 2588672&type.flags&&type.symbol&&isConstEnumSymbol(type.symbol)}function isConstEnumSymbol(symbol){return 0!==(128&symbol.flags)}function checkInstanceOfExpression(left,right,leftType,rightType){return isTypeOfKind(leftType,8190)&&error(left,ts.Diagnostics.The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_parameter),isTypeAny(rightType)||isTypeSubtypeOf(rightType,globalFunctionType)||error(right,ts.Diagnostics.The_right_hand_side_of_an_instanceof_expression_must_be_of_type_any_or_of_a_type_assignable_to_the_Function_interface_type),
booleanType}function checkInExpression(left,right,leftType,rightType){return isTypeAnyOrAllConstituentTypesHaveKind(leftType,886)||error(left,ts.Diagnostics.The_left_hand_side_of_an_in_expression_must_be_of_type_any_string_number_or_symbol),isTypeAnyOrAllConstituentTypesHaveKind(rightType,2605056)||error(right,ts.Diagnostics.The_right_hand_side_of_an_in_expression_must_be_of_type_any_an_object_type_or_a_type_parameter),booleanType}function checkObjectLiteralAssignment(node,sourceType,contextualMapper){for(var properties=node.properties,_i=0,properties_3=properties;_i<properties_3.length;_i++){var p=properties_3[_i];checkObjectLiteralDestructuringPropertyAssignment(sourceType,p,contextualMapper)}return sourceType}function checkObjectLiteralDestructuringPropertyAssignment(objectLiteralType,property,contextualMapper){if(253===property.kind||254===property.kind){var name_14=property.name;if(140===name_14.kind&&checkComputedPropertyName(name_14),isComputedNonLiteralName(name_14))return void 0;var text=getTextOfPropertyName(name_14),type=isTypeAny(objectLiteralType)?objectLiteralType:getTypeOfPropertyOfType(objectLiteralType,text)||isNumericLiteralName(text)&&getIndexTypeOfType(objectLiteralType,1)||getIndexTypeOfType(objectLiteralType,0);if(type)return 254===property.kind?checkDestructuringAssignment(property,type):checkDestructuringAssignment(property.initializer,type);error(name_14,ts.Diagnostics.Type_0_has_no_property_1_and_no_string_index_signature,typeToString(objectLiteralType),ts.declarationNameToString(name_14))}else error(property,ts.Diagnostics.Property_assignment_expected)}function checkArrayLiteralAssignment(node,sourceType,contextualMapper){for(var elementType=checkIteratedTypeOrElementType(sourceType,node,!1)||unknownType,elements=node.elements,i=0;i<elements.length;i++)checkArrayLiteralDestructuringElementAssignment(node,sourceType,i,elementType,contextualMapper);return sourceType}function checkArrayLiteralDestructuringElementAssignment(node,sourceType,elementIndex,elementType,contextualMapper){var elements=node.elements,element=elements[elementIndex];if(193!==element.kind)if(191!==element.kind){var propName=""+elementIndex,type=isTypeAny(sourceType)?sourceType:isTupleLikeType(sourceType)?getTypeOfPropertyOfType(sourceType,propName):elementType;if(type)return checkDestructuringAssignment(element,type,contextualMapper);checkExpression(element),isTupleType(sourceType)?error(element,ts.Diagnostics.Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2,typeToString(sourceType),getTypeReferenceArity(sourceType),elements.length):error(element,ts.Diagnostics.Type_0_has_no_property_1,typeToString(sourceType),propName)}else if(elementIndex<elements.length-1)error(element,ts.Diagnostics.A_rest_element_must_be_last_in_an_array_destructuring_pattern);else{var restExpression=element.expression;if(187!==restExpression.kind||56!==restExpression.operatorToken.kind)return checkDestructuringAssignment(restExpression,createArrayType(elementType),contextualMapper);error(restExpression.operatorToken,ts.Diagnostics.A_rest_element_cannot_have_an_initializer)}return void 0}function checkDestructuringAssignment(exprOrAssignment,sourceType,contextualMapper){var target;if(254===exprOrAssignment.kind){var prop=exprOrAssignment;prop.objectAssignmentInitializer&&(!strictNullChecks||2048&getFalsyFlags(checkExpression(prop.objectAssignmentInitializer))||(sourceType=getTypeWithFacts(sourceType,131072)),checkBinaryLikeExpression(prop.name,prop.equalsToken,prop.objectAssignmentInitializer,contextualMapper)),target=exprOrAssignment.name}else target=exprOrAssignment;return 187===target.kind&&56===target.operatorToken.kind&&(checkBinaryExpression(target,contextualMapper),target=target.left),171===target.kind?checkObjectLiteralAssignment(target,sourceType,contextualMapper):170===target.kind?checkArrayLiteralAssignment(target,sourceType,contextualMapper):checkReferenceAssignment(target,sourceType,contextualMapper)}function checkReferenceAssignment(target,sourceType,contextualMapper){var targetType=checkExpression(target,contextualMapper);return checkReferenceExpression(target,ts.Diagnostics.Invalid_left_hand_side_of_assignment_expression,ts.Diagnostics.Left_hand_side_of_assignment_expression_cannot_be_a_constant_or_a_read_only_property)&&checkTypeAssignableTo(sourceType,targetType,target,void 0),sourceType}function isTypeEqualityComparableTo(source,target){return 0!==(6144&target.flags)||isTypeComparableTo(source,target)}function getBestChoiceType(type1,type2){var firstAssignableToSecond=isTypeAssignableTo(type1,type2),secondAssignableToFirst=isTypeAssignableTo(type2,type1);return secondAssignableToFirst&&!firstAssignableToSecond?type1:firstAssignableToSecond&&!secondAssignableToFirst?type2:getUnionType([type1,type2],!0)}function checkBinaryExpression(node,contextualMapper){return checkBinaryLikeExpression(node.left,node.operatorToken,node.right,contextualMapper,node)}function checkBinaryLikeExpression(left,operatorToken,right,contextualMapper,errorNode){function checkForDisallowedESSymbolOperand(operator){var offendingSymbolOperand=maybeTypeOfKind(leftType,512)?left:maybeTypeOfKind(rightType,512)?right:void 0;return offendingSymbolOperand?(error(offendingSymbolOperand,ts.Diagnostics.The_0_operator_cannot_be_applied_to_type_symbol,ts.tokenToString(operator)),!1):!0}function getSuggestedBooleanOperator(operator){switch(operator){case 47:case 67:return 52;case 48:case 68:return 33;case 46:case 66:return 51;default:return void 0}}function checkAssignmentOperator(valueType){if(produceDiagnostics&&operator>=56&&68>=operator){var ok=checkReferenceExpression(left,ts.Diagnostics.Invalid_left_hand_side_of_assignment_expression,ts.Diagnostics.Left_hand_side_of_assignment_expression_cannot_be_a_constant_or_a_read_only_property);ok&&checkTypeAssignableTo(valueType,leftType,left,void 0)}}function reportOperatorError(){error(errorNode||operatorToken,ts.Diagnostics.Operator_0_cannot_be_applied_to_types_1_and_2,ts.tokenToString(operatorToken.kind),typeToString(leftType),typeToString(rightType))}var operator=operatorToken.kind;if(56===operator&&(171===left.kind||170===left.kind))return checkDestructuringAssignment(left,checkExpression(right,contextualMapper),contextualMapper);var leftType=checkExpression(left,contextualMapper),rightType=checkExpression(right,contextualMapper);switch(operator){case 37:case 38:case 59:case 60:case 39:case 61:case 40:case 62:case 36:case 58:case 43:case 63:case 44:case 64:case 45:case 65:case 47:case 67:case 48:case 68:case 46:case 66:6144&leftType.flags&&(leftType=rightType),6144&rightType.flags&&(rightType=leftType),leftType=getNonNullableType(leftType),rightType=getNonNullableType(rightType);var suggestedOperator=void 0;if(136&leftType.flags&&136&rightType.flags&&void 0!==(suggestedOperator=getSuggestedBooleanOperator(operatorToken.kind)))error(errorNode||operatorToken,ts.Diagnostics.The_0_operator_is_not_allowed_for_boolean_types_Consider_using_1_instead,ts.tokenToString(operatorToken.kind),ts.tokenToString(suggestedOperator));else{var leftOk=checkArithmeticOperandType(left,leftType,ts.Diagnostics.The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type),rightOk=checkArithmeticOperandType(right,rightType,ts.Diagnostics.The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type);leftOk&&rightOk&&checkAssignmentOperator(numberType)}return numberType;case 35:case 57:6144&leftType.flags&&(leftType=rightType),6144&rightType.flags&&(rightType=leftType),leftType=getNonNullableType(leftType),rightType=getNonNullableType(rightType);var resultType=void 0;if(isTypeOfKind(leftType,340)&&isTypeOfKind(rightType,340))resultType=numberType;else if(isTypeOfKind(leftType,34)||isTypeOfKind(rightType,34)?resultType=stringType:(isTypeAny(leftType)||isTypeAny(rightType))&&(resultType=leftType===unknownType||rightType===unknownType?unknownType:anyType),resultType&&!checkForDisallowedESSymbolOperand(operator))return resultType;return resultType?(57===operator&&checkAssignmentOperator(resultType),resultType):(reportOperatorError(),anyType);case 25:case 27:case 28:case 29:return checkForDisallowedESSymbolOperand(operator)&&(isTypeComparableTo(leftType,rightType)||isTypeComparableTo(rightType,leftType)||reportOperatorError()),booleanType;case 30:case 31:case 32:case 33:var leftIsUnit=isUnitUnionType(leftType),rightIsUnit=isUnitUnionType(rightType);return leftIsUnit&&rightIsUnit||(leftType=leftIsUnit?getBaseTypeOfUnitType(leftType):leftType,rightType=rightIsUnit?getBaseTypeOfUnitType(rightType):rightType),isTypeEqualityComparableTo(leftType,rightType)||isTypeEqualityComparableTo(rightType,leftType)||reportOperatorError(),booleanType;case 91:return checkInstanceOfExpression(left,right,leftType,rightType);case 90:return checkInExpression(left,right,leftType,rightType);case 51:return 1048576&getTypeFacts(leftType)?includeFalsyTypes(rightType,getFalsyFlags(strictNullChecks?leftType:getBaseTypeOfUnitType(rightType))):leftType;case 52:return 2097152&getTypeFacts(leftType)?getBestChoiceType(removeDefinitelyFalsyTypes(leftType),rightType):leftType;case 56:return checkAssignmentOperator(rightType),getRegularTypeOfObjectLiteral(rightType);case 24:return rightType}}function isYieldExpressionInClass(node){for(var current=node,parent=node.parent;parent;){if(ts.isFunctionLike(parent)&&current===parent.body)return!1;if(ts.isClassLike(current))return!0;current=parent,parent=parent.parent}return!1}function checkYieldExpression(node){if(produceDiagnostics&&(8388608&node.flags&&!isYieldExpressionInClass(node)||grammarErrorOnFirstToken(node,ts.Diagnostics.A_yield_expression_is_only_allowed_in_a_generator_body),isInParameterInitializerBeforeContainingFunction(node)&&error(node,ts.Diagnostics.yield_expressions_cannot_be_used_in_a_parameter_initializer)),node.expression){var func=ts.getContainingFunction(node);if(func&&func.asteriskToken){var expressionType=checkExpressionCached(node.expression,void 0),expressionElementType=void 0,nodeIsYieldStar=!!node.asteriskToken;if(nodeIsYieldStar&&(expressionElementType=checkElementTypeOfIterable(expressionType,node.expression)),func.type){var signatureElementType=getElementTypeOfIterableIterator(getTypeFromTypeNode(func.type))||anyType;nodeIsYieldStar?checkTypeAssignableTo(expressionElementType,signatureElementType,node.expression,void 0):checkTypeAssignableTo(expressionType,signatureElementType,node.expression,void 0)}}}return anyType}function checkConditionalExpression(node,contextualMapper){checkExpression(node.condition);var type1=checkExpression(node.whenTrue,contextualMapper),type2=checkExpression(node.whenFalse,contextualMapper);return getBestChoiceType(type1,type2)}function typeContainsLiteralFromEnum(type,enumType){if(524288&type.flags)for(var _i=0,_a=type.types;_i<_a.length;_i++){var t=_a[_i];if(256&t.flags&&t.baseType===enumType)return!0}return 256&type.flags?type.baseType===enumType:!1}function isLiteralContextForType(node,type){if(isLiteralTypeLocation(node))return!0;var contextualType=getContextualType(node);if(contextualType){if(16384&contextualType.flags){var apparentType=getApparentTypeOfTypeParameter(contextualType);if(type===apparentType)return!0;contextualType=apparentType}if(2&type.flags)return maybeTypeOfKind(contextualType,32);if(4&type.flags)return maybeTypeOfKind(contextualType,320);if(8&type.flags)return maybeTypeOfKind(contextualType,128);if(16&type.flags)return typeContainsLiteralFromEnum(contextualType,type)}return!1}function checkLiteralExpression(node){switch(8===node.kind&&checkGrammarNumericLiteral(node),node.kind){case 9:return isLiteralContextForType(node,stringType)?getLiteralTypeForText(32,node.text):stringType;case 8:return isLiteralContextForType(node,numberType)?getLiteralTypeForText(64,node.text):numberType;case 99:case 84:return isLiteralContextForType(node,booleanType)?99===node.kind?trueType:falseType:booleanType}}function checkTemplateExpression(node){return ts.forEach(node.templateSpans,function(templateSpan){checkExpression(templateSpan.expression)}),stringType}function checkExpressionWithContextualType(node,contextualType,contextualMapper){var saveContextualType=node.contextualType;node.contextualType=contextualType;var result=checkExpression(node,contextualMapper);return node.contextualType=saveContextualType,result}function checkExpressionCached(node,contextualMapper){var links=getNodeLinks(node);if(!links.resolvedType){var saveFlowLoopStart=flowLoopStart;flowLoopStart=flowLoopCount,links.resolvedType=checkExpression(node,contextualMapper),flowLoopStart=saveFlowLoopStart}return links.resolvedType}function checkPropertyAssignment(node,contextualMapper){return 140===node.name.kind&&checkComputedPropertyName(node.name),checkExpression(node.initializer,contextualMapper)}function checkObjectLiteralMethod(node,contextualMapper){checkGrammarMethod(node),140===node.name.kind&&checkComputedPropertyName(node.name);var uninstantiatedType=checkFunctionExpressionOrObjectLiteralMethod(node,contextualMapper);return instantiateTypeWithSingleGenericCallSignature(node,uninstantiatedType,contextualMapper)}function instantiateTypeWithSingleGenericCallSignature(node,type,contextualMapper){if(isInferentialContext(contextualMapper)){var signature=getSingleCallSignature(type);if(signature&&signature.typeParameters){var contextualType=getApparentTypeOfContextualType(node);if(contextualType){var contextualSignature=getSingleCallSignature(contextualType);if(contextualSignature&&!contextualSignature.typeParameters)return getOrCreateTypeFromSignature(instantiateSignatureInContextOf(signature,contextualSignature,contextualMapper))}}}return type}function checkExpression(node,contextualMapper){var type;if(139===node.kind)type=checkQualifiedName(node);else{var uninstantiatedType=checkExpressionWorker(node,contextualMapper);type=instantiateTypeWithSingleGenericCallSignature(node,uninstantiatedType,contextualMapper)}if(isConstEnumObjectType(type)){var ok=172===node.parent.kind&&node.parent.expression===node||173===node.parent.kind&&node.parent.expression===node||(69===node.kind||139===node.kind)&&isInRightSideOfImportOrExportAssignment(node);ok||error(node,ts.Diagnostics.const_enums_can_only_be_used_in_property_or_index_access_expressions_or_the_right_hand_side_of_an_import_declaration_or_export_assignment)}return type}function checkExpressionWorker(node,contextualMapper){switch(node.kind){case 69:return checkIdentifier(node);case 97:return checkThisExpression(node);case 95:return checkSuperExpression(node);case 93:return nullWideningType;case 9:case 8:case 99:case 84:return checkLiteralExpression(node);case 189:return checkTemplateExpression(node);case 11:return stringType;case 10:return globalRegExpType;case 170:return checkArrayLiteral(node,contextualMapper);case 171:return checkObjectLiteral(node,contextualMapper);case 172:return checkPropertyAccessExpression(node);case 173:return checkIndexedAccess(node);case 174:case 175:return checkCallExpression(node);case 176:return checkTaggedTemplateExpression(node);case 178:return checkExpression(node.expression,contextualMapper);case 192:return checkClassExpression(node);case 179:case 180:return checkFunctionExpressionOrObjectLiteralMethod(node,contextualMapper);case 182:return checkTypeOfExpression(node);case 177:case 195:return checkAssertion(node);case 196:return checkNonNullAssertion(node);case 181:return checkDeleteExpression(node);case 183:return checkVoidExpression(node);case 184:return checkAwaitExpression(node);case 185:return checkPrefixUnaryExpression(node);case 186:return checkPostfixUnaryExpression(node);case 187:return checkBinaryExpression(node,contextualMapper);case 188:return checkConditionalExpression(node,contextualMapper);case 191:return checkSpreadElementExpression(node,contextualMapper);case 193:return undefinedWideningType;case 190:return checkYieldExpression(node);case 248:return checkJsxExpression(node);case 241:return checkJsxElement(node);case 242:return checkJsxSelfClosingElement(node);case 243:ts.Debug.fail("Shouldn't ever directly check a JsxOpeningElement")}return unknownType}function checkTypeParameter(node){node.expression&&grammarErrorOnFirstToken(node.expression,ts.Diagnostics.Type_expected),checkSourceElement(node.constraint),getConstraintOfTypeParameter(getDeclaredTypeOfTypeParameter(getSymbolOfNode(node))),produceDiagnostics&&checkTypeNameIsReserved(node.name,ts.Diagnostics.Type_parameter_name_cannot_be_0)}function checkParameter(node){checkGrammarDecorators(node)||checkGrammarModifiers(node),checkVariableLikeDeclaration(node);var func=ts.getContainingFunction(node);92&node.flags&&(func=ts.getContainingFunction(node),148===func.kind&&ts.nodeIsPresent(func.body)||error(node,ts.Diagnostics.A_parameter_property_is_only_allowed_in_a_constructor_implementation)),node.questionToken&&ts.isBindingPattern(node.name)&&func.body&&error(node,ts.Diagnostics.A_binding_pattern_parameter_cannot_be_optional_in_an_implementation_signature),"this"===node.name.text&&(0!==ts.indexOf(func.parameters,node)&&error(node,ts.Diagnostics.A_this_parameter_must_be_the_first_parameter),(148===func.kind||152===func.kind||157===func.kind)&&error(node,ts.Diagnostics.A_constructor_cannot_have_a_this_parameter)),!node.dotDotDotToken||ts.isBindingPattern(node.name)||isArrayType(getTypeOfSymbol(node.symbol))||error(node,ts.Diagnostics.A_rest_parameter_must_be_of_an_array_type)}function isSyntacticallyValidGenerator(node){return node.asteriskToken&&node.body?147===node.kind||220===node.kind||179===node.kind:!1}function getTypePredicateParameterIndex(parameterList,parameter){if(parameterList)for(var i=0;i<parameterList.length;i++){var param=parameterList[i];if(69===param.name.kind&&param.name.text===parameter.text)return i}return-1}function checkTypePredicate(node){var parent=getTypePredicateParent(node);if(!parent)return void error(node,ts.Diagnostics.A_type_predicate_is_only_allowed_in_return_type_position_for_functions_and_methods);var typePredicate=getSignatureFromDeclaration(parent).typePredicate;if(typePredicate){var parameterName=node.parameterName;if(ts.isThisTypePredicate(typePredicate))getTypeFromThisTypeNode(parameterName);else if(typePredicate.parameterIndex>=0)if(parent.parameters[typePredicate.parameterIndex].dotDotDotToken)error(parameterName,ts.Diagnostics.A_type_predicate_cannot_reference_a_rest_parameter);else{var leadingError=ts.chainDiagnosticMessages(void 0,ts.Diagnostics.A_type_predicate_s_type_must_be_assignable_to_its_parameter_s_type);checkTypeAssignableTo(typePredicate.type,getTypeOfNode(parent.parameters[typePredicate.parameterIndex]),node.type,void 0,leadingError)}else if(parameterName){for(var hasReportedError=!1,_i=0,_a=parent.parameters;_i<_a.length;_i++){var name_15=_a[_i].name;if(ts.isBindingPattern(name_15)&&checkIfTypePredicateVariableIsDeclaredInBindingPattern(name_15,parameterName,typePredicate.parameterName)){hasReportedError=!0;break}}hasReportedError||error(node.parameterName,ts.Diagnostics.Cannot_find_parameter_0,typePredicate.parameterName)}}}function getTypePredicateParent(node){switch(node.parent.kind){case 180:case 151:case 220:case 179:case 156:case 147:case 146:var parent_10=node.parent;if(node===parent_10.type)return parent_10}}function checkIfTypePredicateVariableIsDeclaredInBindingPattern(pattern,predicateVariableNode,predicateVariableName){for(var _i=0,_a=pattern.elements;_i<_a.length;_i++){var name_16=_a[_i].name;if(69===name_16.kind&&name_16.text===predicateVariableName)return error(predicateVariableNode,ts.Diagnostics.A_type_predicate_cannot_reference_element_0_in_a_binding_pattern,predicateVariableName),!0;if((168===name_16.kind||167===name_16.kind)&&checkIfTypePredicateVariableIsDeclaredInBindingPattern(name_16,predicateVariableNode,predicateVariableName))return!0}}function checkSignatureDeclaration(node){if(153===node.kind?checkGrammarIndexSignature(node):(156===node.kind||220===node.kind||157===node.kind||151===node.kind||148===node.kind||152===node.kind)&&checkGrammarFunctionLikeDeclaration(node),checkTypeParameters(node.typeParameters),ts.forEach(node.parameters,checkParameter),node.type&&checkSourceElement(node.type),produceDiagnostics){if(checkCollisionWithArgumentsInGeneratedCode(node),compilerOptions.noImplicitAny&&!node.type)switch(node.kind){case 152:error(node,ts.Diagnostics.Construct_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type);break;case 151:error(node,ts.Diagnostics.Call_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type)}if(node.type)if(languageVersion>=2&&isSyntacticallyValidGenerator(node)){var returnType=getTypeFromTypeNode(node.type);if(returnType===voidType)error(node.type,ts.Diagnostics.A_generator_cannot_have_a_void_type_annotation);else{var generatorElementType=getElementTypeOfIterableIterator(returnType)||anyType,iterableIteratorInstantiation=createIterableIteratorType(generatorElementType);checkTypeAssignableTo(iterableIteratorInstantiation,returnType,node.type)}}else ts.isAsyncFunctionLike(node)&&checkAsyncFunctionReturnType(node);noUnusedIdentifiers&&!node.body&&checkUnusedTypeParameters(node)}}function checkClassForDuplicateDeclarations(node){function addName(names,location,name,meaning){var prev=names[name];prev?prev&meaning?error(location,ts.Diagnostics.Duplicate_identifier_0,ts.getTextOfNode(location)):names[name]=prev|meaning:names[name]=meaning}var Accessor;!function(Accessor){Accessor[Accessor.Getter=1]="Getter",Accessor[Accessor.Setter=2]="Setter",Accessor[Accessor.Property=3]="Property"}(Accessor||(Accessor={}));for(var instanceNames=ts.createMap(),staticNames=ts.createMap(),_i=0,_a=node.members;_i<_a.length;_i++){var member=_a[_i];if(148===member.kind)for(var _b=0,_c=member.parameters;_b<_c.length;_b++){var param=_c[_b];ts.isParameterPropertyDeclaration(param)&&addName(instanceNames,param.name,param.name.text,3)}else{var isStatic=ts.forEach(member.modifiers,function(m){return 113===m.kind}),names=isStatic?staticNames:instanceNames,memberName=member.name&&ts.getPropertyNameForPropertyNameNode(member.name);if(memberName)switch(member.kind){case 149:addName(names,member.name,memberName,1);break;case 150:addName(names,member.name,memberName,2);break;case 145:addName(names,member.name,memberName,3)}}}}function checkObjectTypeForDuplicateDeclarations(node){for(var names=ts.createMap(),_i=0,_a=node.members;_i<_a.length;_i++){var member=_a[_i];if(144==member.kind){var memberName=void 0;switch(member.name.kind){case 9:case 8:case 69:memberName=member.name.text;break;default:continue}names[memberName]?(error(member.symbol.valueDeclaration.name,ts.Diagnostics.Duplicate_identifier_0,memberName),error(member.name,ts.Diagnostics.Duplicate_identifier_0,memberName)):names[memberName]=!0}}}function checkTypeForDuplicateIndexSignatures(node){if(222===node.kind){var nodeSymbol=getSymbolOfNode(node);if(nodeSymbol.declarations.length>0&&nodeSymbol.declarations[0]!==node)return}var indexSymbol=getIndexSymbol(getSymbolOfNode(node));if(indexSymbol)for(var seenNumericIndexer=!1,seenStringIndexer=!1,_i=0,_a=indexSymbol.declarations;_i<_a.length;_i++){var decl=_a[_i],declaration=decl;if(1===declaration.parameters.length&&declaration.parameters[0].type)switch(declaration.parameters[0].type.kind){case 132:seenStringIndexer?error(declaration,ts.Diagnostics.Duplicate_string_index_signature):seenStringIndexer=!0;break;case 130:seenNumericIndexer?error(declaration,ts.Diagnostics.Duplicate_number_index_signature):seenNumericIndexer=!0}}}function checkPropertyDeclaration(node){checkGrammarDecorators(node)||checkGrammarModifiers(node)||checkGrammarProperty(node)||checkGrammarComputedPropertyName(node.name),checkVariableLikeDeclaration(node)}function checkMethodDeclaration(node){checkGrammarMethod(node)||checkGrammarComputedPropertyName(node.name),checkFunctionOrMethodDeclaration(node),128&node.flags&&node.body&&error(node,ts.Diagnostics.Method_0_cannot_have_an_implementation_because_it_is_marked_abstract,ts.declarationNameToString(node.name))}function checkConstructorDeclaration(node){function isInstancePropertyWithInitializer(n){return!(145!==n.kind||32&n.flags||!n.initializer)}checkSignatureDeclaration(node),checkGrammarConstructorTypeParameters(node)||checkGrammarConstructorTypeAnnotation(node),checkSourceElement(node.body),registerForUnusedIdentifiersCheck(node);var symbol=getSymbolOfNode(node),firstDeclaration=ts.getDeclarationOfKind(symbol,node.kind);if(node===firstDeclaration&&checkFunctionOrConstructorSymbol(symbol),!ts.nodeIsMissing(node.body)&&produceDiagnostics){var containingClassDecl=node.parent;if(ts.getClassExtendsHeritageClauseElement(containingClassDecl)){var classExtendsNull=classDeclarationExtendsNull(containingClassDecl),superCall=getSuperCallInConstructor(node);if(superCall){classExtendsNull&&error(superCall,ts.Diagnostics.A_constructor_cannot_contain_a_super_call_when_its_class_extends_null);var superCallShouldBeFirst=ts.forEach(node.parent.members,isInstancePropertyWithInitializer)||ts.forEach(node.parameters,function(p){return 92&p.flags});if(superCallShouldBeFirst){for(var statements=node.body.statements,superCallStatement=void 0,_i=0,statements_2=statements;_i<statements_2.length;_i++){var statement=statements_2[_i];if(202===statement.kind&&ts.isSuperCallExpression(statement.expression)){superCallStatement=statement;break}if(!ts.isPrologueDirective(statement))break}superCallStatement||error(node,ts.Diagnostics.A_super_call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_initialized_properties_or_has_parameter_properties)}}else classExtendsNull||error(node,ts.Diagnostics.Constructors_for_derived_classes_must_contain_a_super_call)}}}function checkAccessorDeclaration(node){if(produceDiagnostics){if(checkGrammarFunctionLikeDeclaration(node)||checkGrammarAccessor(node)||checkGrammarComputedPropertyName(node.name),checkDecorators(node),checkSignatureDeclaration(node),149===node.kind&&!ts.isInAmbientContext(node)&&ts.nodeIsPresent(node.body)&&32768&node.flags&&(65536&node.flags||error(node.name,ts.Diagnostics.A_get_accessor_must_return_a_value)),140===node.name.kind&&checkComputedPropertyName(node.name),!ts.hasDynamicName(node)){var otherKind=149===node.kind?150:149,otherAccessor=ts.getDeclarationOfKind(node.symbol,otherKind);otherAccessor&&((28&node.flags)!==(28&otherAccessor.flags)&&error(node.name,ts.Diagnostics.Getter_and_setter_accessors_do_not_agree_in_visibility),(128&node.flags)!==(128&otherAccessor.flags)&&error(node.name,ts.Diagnostics.Accessors_must_both_be_abstract_or_non_abstract),checkAccessorDeclarationTypesIdentical(node,otherAccessor,getAnnotatedAccessorType,ts.Diagnostics.get_and_set_accessor_must_have_the_same_type),checkAccessorDeclarationTypesIdentical(node,otherAccessor,getThisTypeOfDeclaration,ts.Diagnostics.get_and_set_accessor_must_have_the_same_this_type))}var returnType=getTypeOfAccessors(getSymbolOfNode(node));149===node.kind&&checkAllCodePathsInNonVoidFunctionReturnOrThrow(node,returnType)}171!==node.parent.kind?(checkSourceElement(node.body),registerForUnusedIdentifiersCheck(node)):checkNodeDeferred(node)}function checkAccessorDeclarationTypesIdentical(first,second,getAnnotatedType,message){var firstType=getAnnotatedType(first),secondType=getAnnotatedType(second);firstType&&secondType&&!isTypeIdenticalTo(firstType,secondType)&&error(first,message)}function checkAccessorDeferred(node){checkSourceElement(node.body),registerForUnusedIdentifiersCheck(node)}function checkMissingDeclaration(node){checkDecorators(node)}function checkTypeArgumentConstraints(typeParameters,typeArgumentNodes){for(var typeArguments,mapper,result=!0,i=0;i<typeParameters.length;i++){var constraint=getConstraintOfTypeParameter(typeParameters[i]);if(constraint){typeArguments||(typeArguments=ts.map(typeArgumentNodes,getTypeFromTypeNode),mapper=createTypeMapper(typeParameters,typeArguments));var typeArgument=typeArguments[i];result=result&&checkTypeAssignableTo(typeArgument,getTypeWithThisArgument(instantiateType(constraint,mapper),typeArgument),typeArgumentNodes[i],ts.Diagnostics.Type_0_does_not_satisfy_the_constraint_1)}}return result}function checkTypeReferenceNode(node){checkGrammarTypeArguments(node,node.typeArguments);var type=getTypeFromTypeReference(node);if(type!==unknownType){if(node.typeArguments&&(ts.forEach(node.typeArguments,checkSourceElement),produceDiagnostics)){var symbol=getNodeLinks(node).resolvedSymbol,typeParameters=524288&symbol.flags?getSymbolLinks(symbol).typeParameters:type.target.localTypeParameters;checkTypeArgumentConstraints(typeParameters,node.typeArguments)}16&type.flags&&!type.memberTypes&&8&getNodeLinks(node).resolvedSymbol.flags&&error(node,ts.Diagnostics.Enum_type_0_has_members_with_initializers_that_are_not_literals,typeToString(type))}}function checkTypeQuery(node){getTypeFromTypeQueryNode(node)}function checkTypeLiteral(node){if(ts.forEach(node.members,checkSourceElement),produceDiagnostics){var type=getTypeFromTypeLiteralOrFunctionOrConstructorTypeNode(node);checkIndexConstraints(type),checkTypeForDuplicateIndexSignatures(node),checkObjectTypeForDuplicateDeclarations(node)}}function checkArrayType(node){checkSourceElement(node.elementType)}function checkTupleType(node){var hasErrorFromDisallowedTrailingComma=checkGrammarForDisallowedTrailingComma(node.elementTypes);hasErrorFromDisallowedTrailingComma||0!==node.elementTypes.length||grammarErrorOnNode(node,ts.Diagnostics.A_tuple_type_element_list_cannot_be_empty),ts.forEach(node.elementTypes,checkSourceElement)}function checkUnionOrIntersectionType(node){ts.forEach(node.types,checkSourceElement)}function isPrivateWithinAmbient(node){return 8&node.flags&&ts.isInAmbientContext(node)}function getEffectiveDeclarationFlags(n,flagsToCheck){var flags=ts.getCombinedNodeFlags(n);return 222!==n.parent.kind&&221!==n.parent.kind&&192!==n.parent.kind&&ts.isInAmbientContext(n)&&(2&flags||(flags|=1),flags|=2),flags&flagsToCheck}function checkFunctionOrConstructorSymbol(symbol){function getCanonicalOverload(overloads,implementation){var implementationSharesContainerWithFirstOverload=void 0!==implementation&&implementation.parent===overloads[0].parent;return implementationSharesContainerWithFirstOverload?implementation:overloads[0]}function checkFlagAgreementBetweenOverloads(overloads,implementation,flagsToCheck,someOverloadFlags,allOverloadFlags){var someButNotAllOverloadFlags=someOverloadFlags^allOverloadFlags;if(0!==someButNotAllOverloadFlags){var canonicalFlags_1=getEffectiveDeclarationFlags(getCanonicalOverload(overloads,implementation),flagsToCheck);ts.forEach(overloads,function(o){var deviation=getEffectiveDeclarationFlags(o,flagsToCheck)^canonicalFlags_1;1&deviation?error(o.name,ts.Diagnostics.Overload_signatures_must_all_be_exported_or_non_exported):2&deviation?error(o.name,ts.Diagnostics.Overload_signatures_must_all_be_ambient_or_non_ambient):24&deviation?error(o.name||o,ts.Diagnostics.Overload_signatures_must_all_be_public_private_or_protected):128&deviation&&error(o.name,ts.Diagnostics.Overload_signatures_must_all_be_abstract_or_non_abstract)})}}function checkQuestionTokenAgreementBetweenOverloads(overloads,implementation,someHaveQuestionToken,allHaveQuestionToken){if(someHaveQuestionToken!==allHaveQuestionToken){var canonicalHasQuestionToken_1=ts.hasQuestionToken(getCanonicalOverload(overloads,implementation));ts.forEach(overloads,function(o){var deviation=ts.hasQuestionToken(o)!==canonicalHasQuestionToken_1;deviation&&error(o.name,ts.Diagnostics.Overload_signatures_must_all_be_optional_or_required)})}}function reportImplementationExpectedError(node){if(!node.name||!ts.nodeIsMissing(node.name)){var seen=!1,subsequentNode=ts.forEachChild(node.parent,function(c){return seen?c:void(seen=c===node)});if(subsequentNode&&subsequentNode.pos===node.end&&subsequentNode.kind===node.kind){var errorNode_1=subsequentNode.name||subsequentNode;if(node.name&&subsequentNode.name&&node.name.text===subsequentNode.name.text){var reportError=(147===node.kind||146===node.kind)&&(32&node.flags)!==(32&subsequentNode.flags);
if(reportError){var diagnostic=32&node.flags?ts.Diagnostics.Function_overload_must_be_static:ts.Diagnostics.Function_overload_must_not_be_static;error(errorNode_1,diagnostic)}return}if(ts.nodeIsPresent(subsequentNode.body))return void error(errorNode_1,ts.Diagnostics.Function_implementation_name_must_be_0,ts.declarationNameToString(node.name))}var errorNode=node.name||node;isConstructor?error(errorNode,ts.Diagnostics.Constructor_implementation_is_missing):128&node.flags?error(errorNode,ts.Diagnostics.All_declarations_of_an_abstract_method_must_be_consecutive):error(errorNode,ts.Diagnostics.Function_implementation_is_missing_or_not_immediately_following_the_declaration)}}if(produceDiagnostics){for(var bodyDeclaration,lastSeenNonAmbientDeclaration,previousDeclaration,flagsToCheck=155,someNodeFlags=0,allNodeFlags=flagsToCheck,someHaveQuestionToken=!1,allHaveQuestionToken=!0,hasOverloads=!1,declarations=symbol.declarations,isConstructor=0!==(16384&symbol.flags),duplicateFunctionDeclaration=!1,multipleConstructorImplementation=!1,_i=0,declarations_4=declarations;_i<declarations_4.length;_i++){var current=declarations_4[_i],node=current,inAmbientContext=ts.isInAmbientContext(node),inAmbientContextOrInterface=222===node.parent.kind||159===node.parent.kind||inAmbientContext;if(inAmbientContextOrInterface&&(previousDeclaration=void 0),220===node.kind||147===node.kind||146===node.kind||148===node.kind){var currentNodeFlags=getEffectiveDeclarationFlags(node,flagsToCheck);someNodeFlags|=currentNodeFlags,allNodeFlags&=currentNodeFlags,someHaveQuestionToken=someHaveQuestionToken||ts.hasQuestionToken(node),allHaveQuestionToken=allHaveQuestionToken&&ts.hasQuestionToken(node),ts.nodeIsPresent(node.body)&&bodyDeclaration?isConstructor?multipleConstructorImplementation=!0:duplicateFunctionDeclaration=!0:previousDeclaration&&previousDeclaration.parent===node.parent&&previousDeclaration.end!==node.pos&&reportImplementationExpectedError(previousDeclaration),ts.nodeIsPresent(node.body)?bodyDeclaration||(bodyDeclaration=node):hasOverloads=!0,previousDeclaration=node,inAmbientContextOrInterface||(lastSeenNonAmbientDeclaration=node)}}if(multipleConstructorImplementation&&ts.forEach(declarations,function(declaration){error(declaration,ts.Diagnostics.Multiple_constructor_implementations_are_not_allowed)}),duplicateFunctionDeclaration&&ts.forEach(declarations,function(declaration){error(declaration.name,ts.Diagnostics.Duplicate_function_implementation)}),!lastSeenNonAmbientDeclaration||lastSeenNonAmbientDeclaration.body||128&lastSeenNonAmbientDeclaration.flags||lastSeenNonAmbientDeclaration.questionToken||reportImplementationExpectedError(lastSeenNonAmbientDeclaration),hasOverloads&&(checkFlagAgreementBetweenOverloads(declarations,bodyDeclaration,flagsToCheck,someNodeFlags,allNodeFlags),checkQuestionTokenAgreementBetweenOverloads(declarations,bodyDeclaration,someHaveQuestionToken,allHaveQuestionToken),bodyDeclaration))for(var signatures=getSignaturesOfSymbol(symbol),bodySignature=getSignatureFromDeclaration(bodyDeclaration),_a=0,signatures_3=signatures;_a<signatures_3.length;_a++){var signature=signatures_3[_a];if(!isImplementationCompatibleWithOverload(bodySignature,signature)){error(signature.declaration,ts.Diagnostics.Overload_signature_is_not_compatible_with_function_implementation);break}}}}function checkExportsOnMergedDeclarations(node){function getDeclarationSpaces(d){switch(d.kind){case 222:return 2097152;case 225:return ts.isAmbientModule(d)||0!==ts.getModuleInstanceState(d)?5242880:4194304;case 221:case 224:return 3145728;case 229:var result_2=0,target=resolveAlias(getSymbolOfNode(d));return ts.forEach(target.declarations,function(d){result_2|=getDeclarationSpaces(d)}),result_2;default:return 1048576}}if(produceDiagnostics){var symbol=node.localSymbol;if((symbol||(symbol=getSymbolOfNode(node),7340032&symbol.flags))&&ts.getDeclarationOfKind(symbol,node.kind)===node){for(var exportedDeclarationSpaces=0,nonExportedDeclarationSpaces=0,defaultExportedDeclarationSpaces=0,_i=0,_a=symbol.declarations;_i<_a.length;_i++){var d=_a[_i],declarationSpaces=getDeclarationSpaces(d),effectiveDeclarationFlags=getEffectiveDeclarationFlags(d,513);1&effectiveDeclarationFlags?512&effectiveDeclarationFlags?defaultExportedDeclarationSpaces|=declarationSpaces:exportedDeclarationSpaces|=declarationSpaces:nonExportedDeclarationSpaces|=declarationSpaces}var nonDefaultExportedDeclarationSpaces=exportedDeclarationSpaces|nonExportedDeclarationSpaces,commonDeclarationSpacesForExportsAndLocals=exportedDeclarationSpaces&nonExportedDeclarationSpaces,commonDeclarationSpacesForDefaultAndNonDefault=defaultExportedDeclarationSpaces&nonDefaultExportedDeclarationSpaces;if(commonDeclarationSpacesForExportsAndLocals||commonDeclarationSpacesForDefaultAndNonDefault)for(var _b=0,_c=symbol.declarations;_b<_c.length;_b++){var d=_c[_b],declarationSpaces=getDeclarationSpaces(d);declarationSpaces&commonDeclarationSpacesForDefaultAndNonDefault?error(d.name,ts.Diagnostics.Merged_declaration_0_cannot_include_a_default_export_declaration_Consider_adding_a_separate_export_default_0_declaration_instead,ts.declarationNameToString(d.name)):declarationSpaces&commonDeclarationSpacesForExportsAndLocals&&error(d.name,ts.Diagnostics.Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local,ts.declarationNameToString(d.name))}}}}function checkNonThenableType(type,location,message){return type=getWidenedType(type),isTypeAny(type)||isTypeNever(type)||!isTypeAssignableTo(type,getGlobalThenableType())?type:(location&&(message||(message=ts.Diagnostics.Operand_for_await_does_not_have_a_valid_callable_then_member),error(location,message)),unknownType)}function getPromisedType(promise){if(isTypeAny(promise))return void 0;if(131072&promise.flags&&(promise.target===tryGetGlobalPromiseType()||promise.target===getGlobalPromiseLikeType()))return promise.typeArguments[0];var globalPromiseLikeType=getInstantiatedGlobalPromiseLikeType();if(globalPromiseLikeType===emptyObjectType||!isTypeAssignableTo(promise,globalPromiseLikeType))return void 0;var thenFunction=getTypeOfPropertyOfType(promise,"then");if(!thenFunction||isTypeAny(thenFunction))return void 0;var thenSignatures=getSignaturesOfType(thenFunction,0);if(0===thenSignatures.length)return void 0;var onfulfilledParameterType=getTypeWithFacts(getUnionType(ts.map(thenSignatures,getTypeOfFirstParameterOfSignature)),131072);if(isTypeAny(onfulfilledParameterType))return void 0;var onfulfilledParameterSignatures=getSignaturesOfType(onfulfilledParameterType,0);return 0===onfulfilledParameterSignatures.length?void 0:getUnionType(ts.map(onfulfilledParameterSignatures,getTypeOfFirstParameterOfSignature),!0)}function getTypeOfFirstParameterOfSignature(signature){return signature.parameters.length>0?getTypeAtPosition(signature,0):neverType}function getAwaitedType(type){return checkAwaitedType(type,void 0,void 0)}function checkAwaitedType(type,location,message){function checkAwaitedTypeWorker(type){if(524288&type.flags){for(var types=[],_i=0,_a=type.types;_i<_a.length;_i++){var constituentType=_a[_i];types.push(checkAwaitedTypeWorker(constituentType))}return getUnionType(types,!0)}var promisedType=getPromisedType(type);if(void 0===promisedType)return checkNonThenableType(type,location,message);if(type.id===promisedType.id||ts.indexOf(awaitedTypeStack,promisedType.id)>=0)return location&&error(location,ts.Diagnostics._0_is_referenced_directly_or_indirectly_in_the_fulfillment_callback_of_its_own_then_method,symbolToString(type.symbol)),unknownType;awaitedTypeStack.push(type.id);var awaitedType=checkAwaitedTypeWorker(promisedType);return awaitedTypeStack.pop(),awaitedType}return checkAwaitedTypeWorker(type)}function checkCorrectPromiseType(returnType,location){if(returnType===unknownType)return unknownType;var globalPromiseType=getGlobalPromiseType();return globalPromiseType===emptyGenericType||globalPromiseType===getTargetType(returnType)?checkAwaitedType(returnType,location,ts.Diagnostics.An_async_function_or_method_must_have_a_valid_awaitable_return_type):(error(location,ts.Diagnostics.The_return_type_of_an_async_function_or_method_must_be_the_global_Promise_T_type),unknownType)}function checkAsyncFunctionReturnType(node){if(languageVersion>=2){var returnType=getTypeFromTypeNode(node.type);return checkCorrectPromiseType(returnType,node.type)}var globalPromiseConstructorLikeType=getGlobalPromiseConstructorLikeType();if(globalPromiseConstructorLikeType===emptyObjectType)return unknownType;var promiseType=getTypeFromTypeNode(node.type);if(promiseType===unknownType&&compilerOptions.isolatedModules)return unknownType;var promiseConstructor=getNodeLinks(node.type).resolvedSymbol;if(!promiseConstructor||!symbolIsValue(promiseConstructor)){var typeName=promiseConstructor?symbolToString(promiseConstructor):typeToString(promiseType);return error(node,ts.Diagnostics.Type_0_is_not_a_valid_async_function_return_type,typeName),unknownType}checkReturnTypeAnnotationAsExpression(node);var promiseConstructorType=getTypeOfSymbol(promiseConstructor);if(!checkTypeAssignableTo(promiseConstructorType,globalPromiseConstructorLikeType,node,ts.Diagnostics.Type_0_is_not_a_valid_async_function_return_type))return unknownType;var promiseName=ts.getEntityNameFromTypeNode(node.type),promiseNameOrNamespaceRoot=getFirstIdentifier(promiseName),rootSymbol=getSymbol(node.locals,promiseNameOrNamespaceRoot.text,107455);return rootSymbol?(error(rootSymbol.valueDeclaration,ts.Diagnostics.Duplicate_identifier_0_Compiler_uses_declaration_1_to_support_async_functions,promiseNameOrNamespaceRoot.text,getFullyQualifiedName(promiseConstructor)),unknownType):checkAwaitedType(promiseType,node,ts.Diagnostics.An_async_function_or_method_must_have_a_valid_awaitable_return_type)}function checkDecorator(node){var signature=getResolvedSignature(node),returnType=getReturnTypeOfSignature(signature);if(!(1&returnType.flags)){var expectedReturnType,errorInfo,headMessage=getDiagnosticHeadMessageForDecoratorResolution(node);switch(node.parent.kind){case 221:var classSymbol=getSymbolOfNode(node.parent),classConstructorType=getTypeOfSymbol(classSymbol);expectedReturnType=getUnionType([classConstructorType,voidType]);break;case 142:expectedReturnType=voidType,errorInfo=ts.chainDiagnosticMessages(errorInfo,ts.Diagnostics.The_return_type_of_a_parameter_decorator_function_must_be_either_void_or_any);break;case 145:expectedReturnType=voidType,errorInfo=ts.chainDiagnosticMessages(errorInfo,ts.Diagnostics.The_return_type_of_a_property_decorator_function_must_be_either_void_or_any);break;case 147:case 149:case 150:var methodType=getTypeOfNode(node.parent),descriptorType=createTypedPropertyDescriptorType(methodType);expectedReturnType=getUnionType([descriptorType,voidType])}checkTypeAssignableTo(returnType,expectedReturnType,node,headMessage,errorInfo)}}function checkTypeNodeAsExpression(node){if(node&&155===node.kind){var root=getFirstIdentifier(node.typeName),meaning=155===root.parent.kind?793064:1920,rootSymbol=resolveName(root,root.text,8388608|meaning,void 0,void 0);if(rootSymbol&&8388608&rootSymbol.flags){var aliasTarget=resolveAlias(rootSymbol);107455&aliasTarget.flags&&!isConstEnumOrConstEnumOnlyModule(resolveAlias(rootSymbol))&&markAliasSymbolAsReferenced(rootSymbol)}}}function checkTypeAnnotationAsExpression(node){checkTypeNodeAsExpression(node.type)}function checkReturnTypeAnnotationAsExpression(node){checkTypeNodeAsExpression(node.type)}function checkParameterTypeAnnotationsAsExpressions(node){for(var _i=0,_a=node.parameters;_i<_a.length;_i++){var parameter=_a[_i];checkTypeAnnotationAsExpression(parameter)}}function checkDecorators(node){if(node.decorators&&ts.nodeCanBeDecorated(node)){if(compilerOptions.experimentalDecorators||error(node,ts.Diagnostics.Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Set_the_experimentalDecorators_option_to_remove_this_warning),compilerOptions.emitDecoratorMetadata)switch(node.kind){case 221:var constructor=ts.getFirstConstructorWithBody(node);constructor&&checkParameterTypeAnnotationsAsExpressions(constructor);break;case 147:case 149:case 150:checkParameterTypeAnnotationsAsExpressions(node),checkReturnTypeAnnotationAsExpression(node);break;case 145:case 142:checkTypeAnnotationAsExpression(node)}ts.forEach(node.decorators,checkDecorator)}}function checkFunctionDeclaration(node){produceDiagnostics&&(checkFunctionOrMethodDeclaration(node)||checkGrammarForGenerator(node),checkCollisionWithCapturedSuperVariable(node,node.name),checkCollisionWithCapturedThisVariable(node,node.name),checkCollisionWithRequireExportsInGeneratedCode(node,node.name),checkCollisionWithGlobalPromiseInGeneratedCode(node,node.name))}function checkFunctionOrMethodDeclaration(node){checkDecorators(node),checkSignatureDeclaration(node);var isAsync=ts.isAsyncFunctionLike(node);if(node.name&&140===node.name.kind&&checkComputedPropertyName(node.name),!ts.hasDynamicName(node)){var symbol=getSymbolOfNode(node),localSymbol=node.localSymbol||symbol,firstDeclaration=ts.forEach(localSymbol.declarations,function(declaration){return declaration.kind!==node.kind||ts.isSourceFileJavaScript(ts.getSourceFileOfNode(declaration))?void 0:declaration});node===firstDeclaration&&checkFunctionOrConstructorSymbol(localSymbol),symbol.parent&&ts.getDeclarationOfKind(symbol,node.kind)===node&&checkFunctionOrConstructorSymbol(symbol)}if(checkSourceElement(node.body),!node.asteriskToken){var returnOrPromisedType=node.type&&(isAsync?checkAsyncFunctionReturnType(node):getTypeFromTypeNode(node.type));checkAllCodePathsInNonVoidFunctionReturnOrThrow(node,returnOrPromisedType)}produceDiagnostics&&!node.type&&(compilerOptions.noImplicitAny&&ts.nodeIsMissing(node.body)&&!isPrivateWithinAmbient(node)&&reportImplicitAnyError(node,anyType),node.asteriskToken&&ts.nodeIsPresent(node.body)&&getReturnTypeOfSignature(getSignatureFromDeclaration(node))),registerForUnusedIdentifiersCheck(node)}function registerForUnusedIdentifiersCheck(node){deferredUnusedIdentifierNodes&&deferredUnusedIdentifierNodes.push(node)}function checkUnusedIdentifiers(){if(deferredUnusedIdentifierNodes)for(var _i=0,deferredUnusedIdentifierNodes_1=deferredUnusedIdentifierNodes;_i<deferredUnusedIdentifierNodes_1.length;_i++){var node=deferredUnusedIdentifierNodes_1[_i];switch(node.kind){case 256:case 225:checkUnusedModuleMembers(node);break;case 221:case 192:checkUnusedClassMembers(node),checkUnusedTypeParameters(node);break;case 222:checkUnusedTypeParameters(node);break;case 199:case 227:case 206:case 207:case 208:checkUnusedLocalsAndParameters(node);break;case 148:case 179:case 220:case 180:case 147:case 149:case 150:node.body&&checkUnusedLocalsAndParameters(node),checkUnusedTypeParameters(node);break;case 146:case 151:case 152:case 153:case 156:case 157:checkUnusedTypeParameters(node)}}}function checkUnusedLocalsAndParameters(node){if(222!==node.parent.kind&&noUnusedIdentifiers&&!ts.isInAmbientContext(node)){var _loop_1=function(key){var local=node.locals[key];if(!local.isReferenced)if(local.valueDeclaration&&142===local.valueDeclaration.kind){var parameter=local.valueDeclaration;!compilerOptions.noUnusedParameters||ts.isParameterPropertyDeclaration(parameter)||parameterIsThisKeyword(parameter)||parameterNameStartsWithUnderscore(parameter)||error(local.valueDeclaration.name,ts.Diagnostics._0_is_declared_but_never_used,local.name)}else compilerOptions.noUnusedLocals&&ts.forEach(local.declarations,function(d){return error(d.name||d,ts.Diagnostics._0_is_declared_but_never_used,local.name)})};for(var key in node.locals)_loop_1(key)}}function parameterIsThisKeyword(parameter){return parameter.name&&97===parameter.name.originalKeywordKind}function parameterNameStartsWithUnderscore(parameter){return parameter.name&&69===parameter.name.kind&&95===parameter.name.text.charCodeAt(0)}function checkUnusedClassMembers(node){if(compilerOptions.noUnusedLocals&&!ts.isInAmbientContext(node)&&node.members)for(var _i=0,_a=node.members;_i<_a.length;_i++){var member=_a[_i];if(147===member.kind||145===member.kind)!member.symbol.isReferenced&&8&member.flags&&error(member.name,ts.Diagnostics._0_is_declared_but_never_used,member.symbol.name);else if(148===member.kind)for(var _b=0,_c=member.parameters;_b<_c.length;_b++){var parameter=_c[_b];!parameter.symbol.isReferenced&&8&parameter.flags&&error(parameter.name,ts.Diagnostics.Property_0_is_declared_but_never_used,parameter.symbol.name)}}}function checkUnusedTypeParameters(node){if(compilerOptions.noUnusedLocals&&!ts.isInAmbientContext(node)&&node.typeParameters){var symbol=getSymbolOfNode(node),lastDeclaration=symbol&&symbol.declarations&&ts.lastOrUndefined(symbol.declarations);if(lastDeclaration!==node)return;for(var _i=0,_a=node.typeParameters;_i<_a.length;_i++){var typeParameter=_a[_i];getMergedSymbol(typeParameter.symbol).isReferenced||error(typeParameter.name,ts.Diagnostics._0_is_declared_but_never_used,typeParameter.symbol.name)}}}function checkUnusedModuleMembers(node){if(compilerOptions.noUnusedLocals&&!ts.isInAmbientContext(node))for(var key in node.locals){var local=node.locals[key];if(!local.isReferenced&&!local.exportSymbol)for(var _i=0,_a=local.declarations;_i<_a.length;_i++){var declaration=_a[_i];ts.isAmbientModule(declaration)||error(declaration.name,ts.Diagnostics._0_is_declared_but_never_used,local.name)}}}function checkBlock(node){199===node.kind&&checkGrammarStatementInAmbientContext(node),ts.forEach(node.statements,checkSourceElement),node.locals&&registerForUnusedIdentifiersCheck(node)}function checkCollisionWithArgumentsInGeneratedCode(node){!ts.hasDeclaredRestParameter(node)||ts.isInAmbientContext(node)||ts.nodeIsMissing(node.body)||ts.forEach(node.parameters,function(p){p.name&&!ts.isBindingPattern(p.name)&&p.name.text===argumentsSymbol.name&&error(p,ts.Diagnostics.Duplicate_identifier_arguments_Compiler_uses_arguments_to_initialize_rest_parameters)})}function needCollisionCheckForIdentifier(node,identifier,name){if(!identifier||identifier.text!==name)return!1;if(145===node.kind||144===node.kind||147===node.kind||146===node.kind||149===node.kind||150===node.kind)return!1;if(ts.isInAmbientContext(node))return!1;var root=ts.getRootDeclaration(node);return 142===root.kind&&ts.nodeIsMissing(root.parent.body)?!1:!0}function checkCollisionWithCapturedThisVariable(node,name){needCollisionCheckForIdentifier(node,name,"_this")&&potentialThisCollisions.push(node)}function checkIfThisIsCapturedInEnclosingScope(node){for(var current=node;current;){if(4&getNodeCheckFlags(current)){var isDeclaration_1=69!==node.kind;return void(isDeclaration_1?error(node.name,ts.Diagnostics.Duplicate_identifier_this_Compiler_uses_variable_declaration_this_to_capture_this_reference):error(node,ts.Diagnostics.Expression_resolves_to_variable_declaration_this_that_compiler_uses_to_capture_this_reference))}current=current.parent}}function checkCollisionWithCapturedSuperVariable(node,name){if(needCollisionCheckForIdentifier(node,name,"_super")){var enclosingClass=ts.getContainingClass(node);if(enclosingClass&&!ts.isInAmbientContext(enclosingClass)&&ts.getClassExtendsHeritageClauseElement(enclosingClass)){var isDeclaration_2=69!==node.kind;isDeclaration_2?error(node,ts.Diagnostics.Duplicate_identifier_super_Compiler_uses_super_to_capture_base_class_reference):error(node,ts.Diagnostics.Expression_resolves_to_super_that_compiler_uses_to_capture_base_class_reference)}}}function checkCollisionWithRequireExportsInGeneratedCode(node,name){if((needCollisionCheckForIdentifier(node,name,"require")||needCollisionCheckForIdentifier(node,name,"exports"))&&(225!==node.kind||1===ts.getModuleInstanceState(node))){var parent=getDeclarationContainer(node);256===parent.kind&&ts.isExternalOrCommonJsModule(parent)&&error(name,ts.Diagnostics.Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module,ts.declarationNameToString(name),ts.declarationNameToString(name))}}function checkCollisionWithGlobalPromiseInGeneratedCode(node,name){if(needCollisionCheckForIdentifier(node,name,"Promise")&&(225!==node.kind||1===ts.getModuleInstanceState(node))){var parent=getDeclarationContainer(node);256===parent.kind&&ts.isExternalOrCommonJsModule(parent)&&2097152&parent.flags&&error(name,ts.Diagnostics.Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module_containing_async_functions,ts.declarationNameToString(name),ts.declarationNameToString(name))}}function checkVarDeclaredNamesNotShadowed(node){if(0===(3072&ts.getCombinedNodeFlags(node))&&!ts.isParameterDeclaration(node)&&(218!==node.kind||node.initializer)){var symbol=getSymbolOfNode(node);if(1&symbol.flags){var localDeclarationSymbol=resolveName(node,node.name.text,3,void 0,void 0);if(localDeclarationSymbol&&localDeclarationSymbol!==symbol&&2&localDeclarationSymbol.flags&&3072&getDeclarationFlagsFromSymbol(localDeclarationSymbol)){var varDeclList=ts.getAncestor(localDeclarationSymbol.valueDeclaration,219),container=200===varDeclList.parent.kind&&varDeclList.parent.parent?varDeclList.parent.parent:void 0,namesShareScope=container&&(199===container.kind&&ts.isFunctionLike(container.parent)||226===container.kind||225===container.kind||256===container.kind);if(!namesShareScope){var name_17=symbolToString(localDeclarationSymbol);error(node,ts.Diagnostics.Cannot_initialize_outer_scoped_variable_0_in_the_same_scope_as_block_scoped_declaration_1,name_17,name_17)}}}}}function checkParameterInitializer(node){function visit(n){if(!ts.isTypeNode(n)&&!ts.isDeclarationName(n)){if(172===n.kind)return visit(n.expression);if(69!==n.kind)return ts.forEachChild(n,visit);var symbol=resolveName(n,n.text,8496063,void 0,void 0);if(symbol&&symbol!==unknownSymbol&&symbol.valueDeclaration){if(symbol.valueDeclaration===node)return void error(n,ts.Diagnostics.Parameter_0_cannot_be_referenced_in_its_initializer,ts.declarationNameToString(node.name));var enclosingContainer=ts.getEnclosingBlockScopeContainer(symbol.valueDeclaration);if(enclosingContainer===func){if(142===symbol.valueDeclaration.kind){if(symbol.valueDeclaration.pos<node.pos)return;for(var current=n;current!==node.initializer;){if(ts.isFunctionLike(current.parent))return;if(145===current.parent.kind&&!(32&current.parent.flags)&&ts.isClassLike(current.parent.parent))return;current=current.parent}}error(n,ts.Diagnostics.Initializer_of_parameter_0_cannot_reference_identifier_1_declared_after_it,ts.declarationNameToString(node.name),ts.declarationNameToString(n))}}}}if(142===ts.getRootDeclaration(node).kind){var func=ts.getContainingFunction(node);visit(node.initializer)}}function checkVariableLikeDeclaration(node){if(checkDecorators(node),checkSourceElement(node.type),140===node.name.kind&&(checkComputedPropertyName(node.name),node.initializer&&checkExpressionCached(node.initializer)),169===node.kind){node.propertyName&&140===node.propertyName.kind&&checkComputedPropertyName(node.propertyName);var parent_11=node.parent.parent,parentType=getTypeForBindingElementParent(parent_11),name_18=node.propertyName||node.name,property=getPropertyOfType(parentType,getTextOfPropertyName(name_18));parent_11.initializer&&property&&getParentOfSymbol(property)&&checkClassPropertyAccess(parent_11,parent_11.initializer,parentType,property)}if(ts.isBindingPattern(node.name)&&ts.forEach(node.name.elements,checkSourceElement),node.initializer&&142===ts.getRootDeclaration(node).kind&&ts.nodeIsMissing(ts.getContainingFunction(node).body))return void error(node,ts.Diagnostics.A_parameter_initializer_is_only_allowed_in_a_function_or_constructor_implementation);if(ts.isBindingPattern(node.name))return void(node.initializer&&207!==node.parent.parent.kind&&(checkTypeAssignableTo(checkExpressionCached(node.initializer),getWidenedTypeForVariableLikeDeclaration(node),node,void 0),checkParameterInitializer(node)));var symbol=getSymbolOfNode(node),type=getTypeOfVariableOrParameterOrProperty(symbol);if(node===symbol.valueDeclaration)node.initializer&&207!==node.parent.parent.kind&&(checkTypeAssignableTo(checkExpressionCached(node.initializer),type,node,void 0),checkParameterInitializer(node));else{var declarationType=getWidenedTypeForVariableLikeDeclaration(node);type===unknownType||declarationType===unknownType||isTypeIdenticalTo(type,declarationType)||error(node.name,ts.Diagnostics.Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_type_2,ts.declarationNameToString(node.name),typeToString(type),typeToString(declarationType)),node.initializer&&checkTypeAssignableTo(checkExpressionCached(node.initializer),declarationType,node,void 0),areDeclarationFlagsIdentical(node,symbol.valueDeclaration)||(error(symbol.valueDeclaration.name,ts.Diagnostics.All_declarations_of_0_must_have_identical_modifiers,ts.declarationNameToString(node.name)),error(node.name,ts.Diagnostics.All_declarations_of_0_must_have_identical_modifiers,ts.declarationNameToString(node.name)))}145!==node.kind&&144!==node.kind&&(checkExportsOnMergedDeclarations(node),(218===node.kind||169===node.kind)&&checkVarDeclaredNamesNotShadowed(node),checkCollisionWithCapturedSuperVariable(node,node.name),checkCollisionWithCapturedThisVariable(node,node.name),checkCollisionWithRequireExportsInGeneratedCode(node,node.name),checkCollisionWithGlobalPromiseInGeneratedCode(node,node.name))}function areDeclarationFlagsIdentical(left,right){if(142===left.kind&&218===right.kind||218===left.kind&&142===right.kind)return!0;if(ts.hasQuestionToken(left)!==ts.hasQuestionToken(right))return!1;var interestingFlags=504;return(left.flags&interestingFlags)===(right.flags&interestingFlags)}function checkVariableDeclaration(node){return checkGrammarVariableDeclaration(node),checkVariableLikeDeclaration(node)}function checkBindingElement(node){return checkGrammarBindingElement(node),checkVariableLikeDeclaration(node)}function checkVariableStatement(node){checkGrammarDecorators(node)||checkGrammarModifiers(node)||checkGrammarVariableDeclarationList(node.declarationList)||checkGrammarForDisallowedLetOrConstStatement(node),ts.forEach(node.declarationList.declarations,checkSourceElement)}function checkGrammarDisallowedModifiersOnObjectLiteralExpressionMethod(node){if(node.modifiers&&171===node.parent.kind){if(!ts.isAsyncFunctionLike(node))return grammarErrorOnFirstToken(node,ts.Diagnostics.Modifiers_cannot_appear_here);if(node.modifiers.length>1)return grammarErrorOnFirstToken(node,ts.Diagnostics.Modifiers_cannot_appear_here)}}function checkExpressionStatement(node){checkGrammarStatementInAmbientContext(node),checkExpression(node.expression)}function checkIfStatement(node){checkGrammarStatementInAmbientContext(node),checkExpression(node.expression),checkSourceElement(node.thenStatement),201===node.thenStatement.kind&&error(node.thenStatement,ts.Diagnostics.The_body_of_an_if_statement_cannot_be_the_empty_statement),checkSourceElement(node.elseStatement)}function checkDoStatement(node){checkGrammarStatementInAmbientContext(node),checkSourceElement(node.statement),checkExpression(node.expression)}function checkWhileStatement(node){checkGrammarStatementInAmbientContext(node),checkExpression(node.expression),checkSourceElement(node.statement)}function checkForStatement(node){checkGrammarStatementInAmbientContext(node)||node.initializer&&219===node.initializer.kind&&checkGrammarVariableDeclarationList(node.initializer),node.initializer&&(219===node.initializer.kind?ts.forEach(node.initializer.declarations,checkVariableDeclaration):checkExpression(node.initializer)),node.condition&&checkExpression(node.condition),node.incrementor&&checkExpression(node.incrementor),checkSourceElement(node.statement),node.locals&&registerForUnusedIdentifiersCheck(node)}function checkForOfStatement(node){if(checkGrammarForInOrForOfStatement(node),219===node.initializer.kind)checkForInOrForOfVariableDeclaration(node);else{var varExpr=node.initializer,iteratedType=checkRightHandSideOfForOf(node.expression);if(170===varExpr.kind||171===varExpr.kind)checkDestructuringAssignment(varExpr,iteratedType||unknownType);else{var leftType=checkExpression(varExpr);checkReferenceExpression(varExpr,ts.Diagnostics.Invalid_left_hand_side_in_for_of_statement,ts.Diagnostics.The_left_hand_side_of_a_for_of_statement_cannot_be_a_constant_or_a_read_only_property),iteratedType&&checkTypeAssignableTo(iteratedType,leftType,varExpr,void 0)}}checkSourceElement(node.statement),node.locals&&registerForUnusedIdentifiersCheck(node)}function checkForInStatement(node){if(checkGrammarForInOrForOfStatement(node),219===node.initializer.kind){var variable=node.initializer.declarations[0];variable&&ts.isBindingPattern(variable.name)&&error(variable.name,ts.Diagnostics.The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern),checkForInOrForOfVariableDeclaration(node)}else{var varExpr=node.initializer,leftType=checkExpression(varExpr);170===varExpr.kind||171===varExpr.kind?error(varExpr,ts.Diagnostics.The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern):isTypeAnyOrAllConstituentTypesHaveKind(leftType,34)?checkReferenceExpression(varExpr,ts.Diagnostics.Invalid_left_hand_side_in_for_in_statement,ts.Diagnostics.The_left_hand_side_of_a_for_in_statement_cannot_be_a_constant_or_a_read_only_property):error(varExpr,ts.Diagnostics.The_left_hand_side_of_a_for_in_statement_must_be_of_type_string_or_any)}var rightType=checkNonNullExpression(node.expression);isTypeAnyOrAllConstituentTypesHaveKind(rightType,2605056)||error(node.expression,ts.Diagnostics.The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter),checkSourceElement(node.statement),node.locals&&registerForUnusedIdentifiersCheck(node)}function checkForInOrForOfVariableDeclaration(iterationStatement){var variableDeclarationList=iterationStatement.initializer;if(variableDeclarationList.declarations.length>=1){var decl=variableDeclarationList.declarations[0];checkVariableDeclaration(decl)}}function checkRightHandSideOfForOf(rhsExpression){var expressionType=checkNonNullExpression(rhsExpression);return checkIteratedTypeOrElementType(expressionType,rhsExpression,!0)}function checkIteratedTypeOrElementType(inputType,errorNode,allowStringInput){if(isTypeAny(inputType))return inputType;if(languageVersion>=2)return checkElementTypeOfIterable(inputType,errorNode);if(allowStringInput)return checkElementTypeOfArrayOrString(inputType,errorNode);if(isArrayLikeType(inputType)){var indexType=getIndexTypeOfType(inputType,1);if(indexType)return indexType}return errorNode&&error(errorNode,ts.Diagnostics.Type_0_is_not_an_array_type,typeToString(inputType)),unknownType}function checkElementTypeOfIterable(iterable,errorNode){var elementType=getElementTypeOfIterable(iterable,errorNode);return errorNode&&elementType&&checkTypeAssignableTo(iterable,createIterableType(elementType),errorNode),elementType||anyType}function getElementTypeOfIterable(type,errorNode){if(isTypeAny(type))return void 0;var typeAsIterable=type;if(!typeAsIterable.iterableElementType)if(131072&type.flags&&type.target===getGlobalIterableType())typeAsIterable.iterableElementType=type.typeArguments[0];else{var iteratorFunction=getTypeOfPropertyOfType(type,ts.getPropertyNameForKnownSymbolName("iterator"));if(isTypeAny(iteratorFunction))return void 0;var iteratorFunctionSignatures=iteratorFunction?getSignaturesOfType(iteratorFunction,0):emptyArray;if(0===iteratorFunctionSignatures.length)return void(errorNode&&error(errorNode,ts.Diagnostics.Type_must_have_a_Symbol_iterator_method_that_returns_an_iterator));typeAsIterable.iterableElementType=getElementTypeOfIterator(getUnionType(ts.map(iteratorFunctionSignatures,getReturnTypeOfSignature),!0),errorNode)}return typeAsIterable.iterableElementType}function getElementTypeOfIterator(type,errorNode){if(isTypeAny(type))return void 0;var typeAsIterator=type;if(!typeAsIterator.iteratorElementType)if(131072&type.flags&&type.target===getGlobalIteratorType())typeAsIterator.iteratorElementType=type.typeArguments[0];else{
var iteratorNextFunction=getTypeOfPropertyOfType(type,"next");if(isTypeAny(iteratorNextFunction))return void 0;var iteratorNextFunctionSignatures=iteratorNextFunction?getSignaturesOfType(iteratorNextFunction,0):emptyArray;if(0===iteratorNextFunctionSignatures.length)return void(errorNode&&error(errorNode,ts.Diagnostics.An_iterator_must_have_a_next_method));var iteratorNextResult=getUnionType(ts.map(iteratorNextFunctionSignatures,getReturnTypeOfSignature),!0);if(isTypeAny(iteratorNextResult))return void 0;var iteratorNextValue=getTypeOfPropertyOfType(iteratorNextResult,"value");if(!iteratorNextValue)return void(errorNode&&error(errorNode,ts.Diagnostics.The_type_returned_by_the_next_method_of_an_iterator_must_have_a_value_property));typeAsIterator.iteratorElementType=iteratorNextValue}return typeAsIterator.iteratorElementType}function getElementTypeOfIterableIterator(type){return isTypeAny(type)?void 0:131072&type.flags&&type.target===getGlobalIterableIteratorType()?type.typeArguments[0]:getElementTypeOfIterable(type,void 0)||getElementTypeOfIterator(type,void 0)}function checkElementTypeOfArrayOrString(arrayOrStringType,errorNode){ts.Debug.assert(2>languageVersion);var arrayType=arrayOrStringType;524288&arrayOrStringType.flags?arrayType=getUnionType(ts.filter(arrayOrStringType.types,function(t){return!(34&t.flags)}),!0):34&arrayOrStringType.flags&&(arrayType=neverType);var hasStringConstituent=arrayOrStringType!==arrayType,reportedError=!1;if(hasStringConstituent&&(1>languageVersion&&(error(errorNode,ts.Diagnostics.Using_a_string_in_a_for_of_statement_is_only_supported_in_ECMAScript_5_and_higher),reportedError=!0),arrayType===neverType))return stringType;if(!isArrayLikeType(arrayType)){if(!reportedError){var diagnostic=hasStringConstituent?ts.Diagnostics.Type_0_is_not_an_array_type:ts.Diagnostics.Type_0_is_not_an_array_type_or_a_string_type;error(errorNode,diagnostic,typeToString(arrayType))}return hasStringConstituent?stringType:unknownType}var arrayElementType=getIndexTypeOfType(arrayType,1)||unknownType;return hasStringConstituent?34&arrayElementType.flags?stringType:getUnionType([arrayElementType,stringType],!0):arrayElementType}function checkBreakOrContinueStatement(node){checkGrammarStatementInAmbientContext(node)||checkGrammarBreakOrContinueStatement(node)}function isGetAccessorWithAnnotatedSetAccessor(node){return!(149!==node.kind||!ts.getSetAccessorTypeAnnotationNode(ts.getDeclarationOfKind(node.symbol,150)))}function isUnwrappedReturnTypeVoidOrAny(func,returnType){var unwrappedReturnType=ts.isAsyncFunctionLike(func)?getPromisedType(returnType):returnType;return unwrappedReturnType&&maybeTypeOfKind(unwrappedReturnType,1025)}function checkReturnStatement(node){if(!checkGrammarStatementInAmbientContext(node)){var functionBlock=ts.getContainingFunction(node);functionBlock||grammarErrorOnFirstToken(node,ts.Diagnostics.A_return_statement_can_only_be_used_within_a_function_body)}var func=ts.getContainingFunction(node);if(func){var signature=getSignatureFromDeclaration(func),returnType=getReturnTypeOfSignature(signature);if(strictNullChecks||node.expression||returnType===neverType){var exprType=node.expression?checkExpressionCached(node.expression):undefinedType;if(func.asteriskToken)return;if(150===func.kind)node.expression&&error(node.expression,ts.Diagnostics.Setters_cannot_return_a_value);else if(148===func.kind)node.expression&&!checkTypeAssignableTo(exprType,returnType,node.expression)&&error(node.expression,ts.Diagnostics.Return_type_of_constructor_signature_must_be_assignable_to_the_instance_type_of_the_class);else if(func.type||isGetAccessorWithAnnotatedSetAccessor(func))if(ts.isAsyncFunctionLike(func)){var promisedType=getPromisedType(returnType),awaitedType=checkAwaitedType(exprType,node.expression||node,ts.Diagnostics.Return_expression_in_async_function_does_not_have_a_valid_callable_then_member);promisedType&&checkTypeAssignableTo(awaitedType,promisedType,node.expression||node)}else checkTypeAssignableTo(exprType,returnType,node.expression||node)}else 148!==func.kind&&compilerOptions.noImplicitReturns&&!isUnwrappedReturnTypeVoidOrAny(func,returnType)&&error(node,ts.Diagnostics.Not_all_code_paths_return_a_value)}}function checkWithStatement(node){checkGrammarStatementInAmbientContext(node)||33554432&node.flags&&grammarErrorOnFirstToken(node,ts.Diagnostics.with_statements_are_not_allowed_in_an_async_function_block),checkExpression(node.expression),error(node.expression,ts.Diagnostics.All_symbols_within_a_with_block_will_be_resolved_to_any)}function checkSwitchStatement(node){checkGrammarStatementInAmbientContext(node);var firstDefaultClause,hasDuplicateDefaultClause=!1,expressionType=checkExpression(node.expression);ts.forEach(node.caseBlock.clauses,function(clause){if(250===clause.kind&&!hasDuplicateDefaultClause)if(void 0===firstDefaultClause)firstDefaultClause=clause;else{var sourceFile=ts.getSourceFileOfNode(node),start=ts.skipTrivia(sourceFile.text,clause.pos),end=clause.statements.length>0?clause.statements[0].pos:clause.end;grammarErrorAtPos(sourceFile,start,end-start,ts.Diagnostics.A_default_clause_cannot_appear_more_than_once_in_a_switch_statement),hasDuplicateDefaultClause=!0}if(produceDiagnostics&&249===clause.kind){var caseClause=clause,caseType=checkExpression(caseClause.expression);isTypeEqualityComparableTo(expressionType,caseType)||checkTypeComparableTo(caseType,expressionType,caseClause.expression,void 0)}ts.forEach(clause.statements,checkSourceElement)}),node.caseBlock.locals&&registerForUnusedIdentifiersCheck(node.caseBlock)}function checkLabeledStatement(node){if(!checkGrammarStatementInAmbientContext(node))for(var current=node.parent;current&&!ts.isFunctionLike(current);){if(214===current.kind&&current.label.text===node.label.text){var sourceFile=ts.getSourceFileOfNode(node);grammarErrorOnNode(node.label,ts.Diagnostics.Duplicate_label_0,ts.getTextOfNodeFromSourceText(sourceFile.text,node.label));break}current=current.parent}checkSourceElement(node.statement)}function checkThrowStatement(node){checkGrammarStatementInAmbientContext(node)||void 0===node.expression&&grammarErrorAfterFirstToken(node,ts.Diagnostics.Line_break_not_permitted_here),node.expression&&checkExpression(node.expression)}function checkTryStatement(node){checkGrammarStatementInAmbientContext(node),checkBlock(node.tryBlock);var catchClause=node.catchClause;if(catchClause){if(catchClause.variableDeclaration)if(69!==catchClause.variableDeclaration.name.kind)grammarErrorOnFirstToken(catchClause.variableDeclaration.name,ts.Diagnostics.Catch_clause_variable_name_must_be_an_identifier);else if(catchClause.variableDeclaration.type)grammarErrorOnFirstToken(catchClause.variableDeclaration.type,ts.Diagnostics.Catch_clause_variable_cannot_have_a_type_annotation);else if(catchClause.variableDeclaration.initializer)grammarErrorOnFirstToken(catchClause.variableDeclaration.initializer,ts.Diagnostics.Catch_clause_variable_cannot_have_an_initializer);else{var identifierName=catchClause.variableDeclaration.name.text,locals=catchClause.block.locals;if(locals){var localSymbol=locals[identifierName];localSymbol&&0!==(2&localSymbol.flags)&&grammarErrorOnNode(localSymbol.valueDeclaration,ts.Diagnostics.Cannot_redeclare_identifier_0_in_catch_clause,identifierName)}}checkBlock(catchClause.block)}node.finallyBlock&&checkBlock(node.finallyBlock)}function checkIndexConstraints(type){function checkIndexConstraintForProperty(prop,propertyType,containingType,indexDeclaration,indexType,indexKind){if(indexType&&(1!==indexKind||isNumericName(prop.valueDeclaration.name))){var errorNode;if(140===prop.valueDeclaration.name.kind||prop.parent===containingType.symbol)errorNode=prop.valueDeclaration;else if(indexDeclaration)errorNode=indexDeclaration;else if(65536&containingType.flags){var someBaseClassHasBothPropertyAndIndexer=ts.forEach(getBaseTypes(containingType),function(base){return getPropertyOfObjectType(base,prop.name)&&getIndexTypeOfType(base,indexKind)});errorNode=someBaseClassHasBothPropertyAndIndexer?void 0:containingType.symbol.declarations[0]}if(errorNode&&!isTypeAssignableTo(propertyType,indexType)){var errorMessage=0===indexKind?ts.Diagnostics.Property_0_of_type_1_is_not_assignable_to_string_index_type_2:ts.Diagnostics.Property_0_of_type_1_is_not_assignable_to_numeric_index_type_2;error(errorNode,errorMessage,symbolToString(prop),typeToString(propertyType),typeToString(indexType))}}}var declaredNumberIndexer=getIndexDeclarationOfSymbol(type.symbol,1),declaredStringIndexer=getIndexDeclarationOfSymbol(type.symbol,0),stringIndexType=getIndexTypeOfType(type,0),numberIndexType=getIndexTypeOfType(type,1);if((stringIndexType||numberIndexType)&&(ts.forEach(getPropertiesOfObjectType(type),function(prop){var propType=getTypeOfSymbol(prop);checkIndexConstraintForProperty(prop,propType,type,declaredStringIndexer,stringIndexType,0),checkIndexConstraintForProperty(prop,propType,type,declaredNumberIndexer,numberIndexType,1)}),32768&type.flags&&ts.isClassLike(type.symbol.valueDeclaration)))for(var classDeclaration=type.symbol.valueDeclaration,_i=0,_a=classDeclaration.members;_i<_a.length;_i++){var member=_a[_i];if(!(32&member.flags)&&ts.hasDynamicName(member)){var propType=getTypeOfSymbol(member.symbol);checkIndexConstraintForProperty(member.symbol,propType,type,declaredStringIndexer,stringIndexType,0),checkIndexConstraintForProperty(member.symbol,propType,type,declaredNumberIndexer,numberIndexType,1)}}var errorNode;if(stringIndexType&&numberIndexType&&(errorNode=declaredNumberIndexer||declaredStringIndexer,!errorNode&&65536&type.flags)){var someBaseTypeHasBothIndexers=ts.forEach(getBaseTypes(type),function(base){return getIndexTypeOfType(base,0)&&getIndexTypeOfType(base,1)});errorNode=someBaseTypeHasBothIndexers?void 0:type.symbol.declarations[0]}errorNode&&!isTypeAssignableTo(numberIndexType,stringIndexType)&&error(errorNode,ts.Diagnostics.Numeric_index_type_0_is_not_assignable_to_string_index_type_1,typeToString(numberIndexType),typeToString(stringIndexType))}function checkTypeNameIsReserved(name,message){switch(name.text){case"any":case"number":case"boolean":case"string":case"symbol":case"void":error(name,message,name.text)}}function checkTypeParameters(typeParameterDeclarations){if(typeParameterDeclarations)for(var i=0,n=typeParameterDeclarations.length;n>i;i++){var node=typeParameterDeclarations[i];if(checkTypeParameter(node),produceDiagnostics)for(var j=0;i>j;j++)typeParameterDeclarations[j].symbol===node.symbol&&error(node.name,ts.Diagnostics.Duplicate_identifier_0,ts.declarationNameToString(node.name))}}function checkTypeParameterListsIdentical(node,symbol){if(1!==symbol.declarations.length)for(var firstDecl,_i=0,_a=symbol.declarations;_i<_a.length;_i++){var declaration=_a[_i];(221===declaration.kind||222===declaration.kind)&&(firstDecl?areTypeParametersIdentical(firstDecl.typeParameters,node.typeParameters)||error(node.name,ts.Diagnostics.All_declarations_of_0_must_have_identical_type_parameters,node.name.text):firstDecl=declaration)}}function checkClassExpression(node){return checkClassLikeDeclaration(node),checkNodeDeferred(node),getTypeOfSymbol(getSymbolOfNode(node))}function checkClassExpressionDeferred(node){ts.forEach(node.members,checkSourceElement),registerForUnusedIdentifiersCheck(node)}function checkClassDeclaration(node){node.name||512&node.flags||grammarErrorOnFirstToken(node,ts.Diagnostics.A_class_declaration_without_the_default_modifier_must_have_a_name),checkClassLikeDeclaration(node),ts.forEach(node.members,checkSourceElement),registerForUnusedIdentifiersCheck(node)}function checkClassLikeDeclaration(node){checkGrammarClassDeclarationHeritageClauses(node),checkDecorators(node),node.name&&(checkTypeNameIsReserved(node.name,ts.Diagnostics.Class_name_cannot_be_0),checkCollisionWithCapturedThisVariable(node,node.name),checkCollisionWithRequireExportsInGeneratedCode(node,node.name),checkCollisionWithGlobalPromiseInGeneratedCode(node,node.name)),checkTypeParameters(node.typeParameters),checkExportsOnMergedDeclarations(node);var symbol=getSymbolOfNode(node),type=getDeclaredTypeOfSymbol(symbol),typeWithThis=getTypeWithThisArgument(type),staticType=getTypeOfSymbol(symbol);checkTypeParameterListsIdentical(node,symbol),checkClassForDuplicateDeclarations(node);var baseTypeNode=ts.getClassExtendsHeritageClauseElement(node);if(baseTypeNode){var baseTypes=getBaseTypes(type);if(baseTypes.length&&produceDiagnostics){var baseType_1=baseTypes[0],staticBaseType=getBaseConstructorTypeOfClass(type);if(checkBaseTypeAccessibility(staticBaseType,baseTypeNode),checkSourceElement(baseTypeNode.expression),baseTypeNode.typeArguments){ts.forEach(baseTypeNode.typeArguments,checkSourceElement);for(var _i=0,_a=getConstructorsForTypeArguments(staticBaseType,baseTypeNode.typeArguments);_i<_a.length;_i++){var constructor=_a[_i];if(!checkTypeArgumentConstraints(constructor.typeParameters,baseTypeNode.typeArguments))break}}if(checkTypeAssignableTo(typeWithThis,getTypeWithThisArgument(baseType_1,type.thisType),node.name||node,ts.Diagnostics.Class_0_incorrectly_extends_base_class_1),checkTypeAssignableTo(staticType,getTypeWithoutSignatures(staticBaseType),node.name||node,ts.Diagnostics.Class_static_side_0_incorrectly_extends_base_class_static_side_1),baseType_1.symbol.valueDeclaration&&!ts.isInAmbientContext(baseType_1.symbol.valueDeclaration)&&(isBlockScopedNameDeclaredBeforeUse(baseType_1.symbol.valueDeclaration,node)||error(baseTypeNode,ts.Diagnostics.A_class_must_be_declared_after_its_base_class)),!(staticBaseType.symbol&&32&staticBaseType.symbol.flags)){var constructors=getInstantiatedConstructorsForTypeArguments(staticBaseType,baseTypeNode.typeArguments);ts.forEach(constructors,function(sig){return getReturnTypeOfSignature(sig)!==baseType_1})&&error(baseTypeNode.expression,ts.Diagnostics.Base_constructors_must_all_have_the_same_return_type)}checkKindsOfPropertyMemberOverrides(type,baseType_1)}}var implementedTypeNodes=ts.getClassImplementsHeritageClauseElements(node);if(implementedTypeNodes)for(var _b=0,implementedTypeNodes_1=implementedTypeNodes;_b<implementedTypeNodes_1.length;_b++){var typeRefNode=implementedTypeNodes_1[_b];if(ts.isEntityNameExpression(typeRefNode.expression)||error(typeRefNode.expression,ts.Diagnostics.A_class_can_only_implement_an_identifier_Slashqualified_name_with_optional_type_arguments),checkTypeReferenceNode(typeRefNode),produceDiagnostics){var t=getTypeFromTypeNode(typeRefNode);if(t!==unknownType){var declaredType=131072&t.flags?t.target:t;98304&declaredType.flags?checkTypeAssignableTo(typeWithThis,getTypeWithThisArgument(t,type.thisType),node.name||node,ts.Diagnostics.Class_0_incorrectly_implements_interface_1):error(typeRefNode,ts.Diagnostics.A_class_may_only_implement_another_class_or_interface)}}}produceDiagnostics&&(checkIndexConstraints(type),checkTypeForDuplicateIndexSignatures(node))}function checkBaseTypeAccessibility(type,node){var signatures=getSignaturesOfType(type,1);if(signatures.length){var declaration=signatures[0].declaration;if(declaration&&8&declaration.flags){var typeClassDeclaration=getClassLikeDeclarationOfSymbol(type.symbol);isNodeWithinClass(node,typeClassDeclaration)||error(node,ts.Diagnostics.Cannot_extend_a_class_0_Class_constructor_is_marked_as_private,node.expression.text)}}}function getTargetSymbol(s){return 16777216&s.flags?getSymbolLinks(s).target:s}function getClassLikeDeclarationOfSymbol(symbol){return ts.forEach(symbol.declarations,function(d){return ts.isClassLike(d)?d:void 0})}function checkKindsOfPropertyMemberOverrides(type,baseType){for(var baseProperties=getPropertiesOfObjectType(baseType),_i=0,baseProperties_1=baseProperties;_i<baseProperties_1.length;_i++){var baseProperty=baseProperties_1[_i],base=getTargetSymbol(baseProperty);if(!(134217728&base.flags)){var derived=getTargetSymbol(getPropertyOfObjectType(type,base.name)),baseDeclarationFlags=getDeclarationFlagsFromSymbol(base);if(ts.Debug.assert(!!derived,"derived should point to something, even if it is the base class' declaration."),derived)if(derived===base){var derivedClassDecl=getClassLikeDeclarationOfSymbol(type.symbol);!(128&baseDeclarationFlags)||derivedClassDecl&&128&derivedClassDecl.flags||(192===derivedClassDecl.kind?error(derivedClassDecl,ts.Diagnostics.Non_abstract_class_expression_does_not_implement_inherited_abstract_member_0_from_class_1,symbolToString(baseProperty),typeToString(baseType)):error(derivedClassDecl,ts.Diagnostics.Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_class_2,typeToString(type),symbolToString(baseProperty),typeToString(baseType)))}else{var derivedDeclarationFlags=getDeclarationFlagsFromSymbol(derived);if(8&baseDeclarationFlags||8&derivedDeclarationFlags)continue;if((32&baseDeclarationFlags)!==(32&derivedDeclarationFlags))continue;if(base.flags&derived.flags&8192||98308&base.flags&&98308&derived.flags)continue;var errorMessage=void 0;8192&base.flags?98304&derived.flags?errorMessage=ts.Diagnostics.Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_accessor:(ts.Debug.assert(0!==(4&derived.flags)),errorMessage=ts.Diagnostics.Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_property):4&base.flags?(ts.Debug.assert(0!==(8192&derived.flags)),errorMessage=ts.Diagnostics.Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_function):(ts.Debug.assert(0!==(98304&base.flags)),ts.Debug.assert(0!==(8192&derived.flags)),errorMessage=ts.Diagnostics.Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_function),error(derived.valueDeclaration.name,errorMessage,typeToString(baseType),symbolToString(base),typeToString(type))}}}}function isAccessor(kind){return 149===kind||150===kind}function areTypeParametersIdentical(list1,list2){if(!list1&&!list2)return!0;if(!list1||!list2||list1.length!==list2.length)return!1;for(var i=0,len=list1.length;len>i;i++){var tp1=list1[i],tp2=list2[i];if(tp1.name.text!==tp2.name.text)return!1;if(tp1.constraint||tp2.constraint){if(!tp1.constraint||!tp2.constraint)return!1;if(!isTypeIdenticalTo(getTypeFromTypeNode(tp1.constraint),getTypeFromTypeNode(tp2.constraint)))return!1}}return!0}function checkInheritedPropertiesAreIdentical(type,typeNode){var baseTypes=getBaseTypes(type);if(baseTypes.length<2)return!0;var seen=ts.createMap();ts.forEach(resolveDeclaredMembers(type).declaredProperties,function(p){seen[p.name]={prop:p,containingType:type}});for(var ok=!0,_i=0,baseTypes_2=baseTypes;_i<baseTypes_2.length;_i++)for(var base=baseTypes_2[_i],properties=getPropertiesOfObjectType(getTypeWithThisArgument(base,type.thisType)),_a=0,properties_4=properties;_a<properties_4.length;_a++){var prop=properties_4[_a],existing=seen[prop.name];if(existing){var isInheritedProperty=existing.containingType!==type;if(isInheritedProperty&&!isPropertyIdenticalTo(existing.prop,prop)){ok=!1;var typeName1=typeToString(existing.containingType),typeName2=typeToString(base),errorInfo=ts.chainDiagnosticMessages(void 0,ts.Diagnostics.Named_property_0_of_types_1_and_2_are_not_identical,symbolToString(prop),typeName1,typeName2);errorInfo=ts.chainDiagnosticMessages(errorInfo,ts.Diagnostics.Interface_0_cannot_simultaneously_extend_types_1_and_2,typeToString(type),typeName1,typeName2),diagnostics.add(ts.createDiagnosticForNodeFromMessageChain(typeNode,errorInfo))}}else seen[prop.name]={prop:prop,containingType:base}}return ok}function checkInterfaceDeclaration(node){if(checkGrammarDecorators(node)||checkGrammarModifiers(node)||checkGrammarInterfaceDeclaration(node),checkTypeParameters(node.typeParameters),produceDiagnostics){checkTypeNameIsReserved(node.name,ts.Diagnostics.Interface_name_cannot_be_0),checkExportsOnMergedDeclarations(node);var symbol=getSymbolOfNode(node);checkTypeParameterListsIdentical(node,symbol);var firstInterfaceDecl=ts.getDeclarationOfKind(symbol,222);if(node===firstInterfaceDecl){var type=getDeclaredTypeOfSymbol(symbol),typeWithThis=getTypeWithThisArgument(type);if(checkInheritedPropertiesAreIdentical(type,node.name)){for(var _i=0,_a=getBaseTypes(type);_i<_a.length;_i++){var baseType=_a[_i];checkTypeAssignableTo(typeWithThis,getTypeWithThisArgument(baseType,type.thisType),node.name,ts.Diagnostics.Interface_0_incorrectly_extends_interface_1)}checkIndexConstraints(type)}}checkObjectTypeForDuplicateDeclarations(node)}ts.forEach(ts.getInterfaceBaseTypeNodes(node),function(heritageElement){ts.isEntityNameExpression(heritageElement.expression)||error(heritageElement.expression,ts.Diagnostics.An_interface_can_only_extend_an_identifier_Slashqualified_name_with_optional_type_arguments),checkTypeReferenceNode(heritageElement)}),ts.forEach(node.members,checkSourceElement),produceDiagnostics&&(checkTypeForDuplicateIndexSignatures(node),registerForUnusedIdentifiersCheck(node))}function checkTypeAliasDeclaration(node){checkGrammarDecorators(node)||checkGrammarModifiers(node),checkTypeNameIsReserved(node.name,ts.Diagnostics.Type_alias_name_cannot_be_0),checkSourceElement(node.type)}function computeEnumMemberValues(node){function computeConstantValueForEnumMemberInitializer(initializer,enumType,enumIsConst,ambient){function evalConstant(e){switch(e.kind){case 185:var value_1=evalConstant(e.operand);if(void 0===value_1)return void 0;switch(e.operator){case 35:return value_1;case 36:return-value_1;case 50:return~value_1}return void 0;case 187:var left=evalConstant(e.left);if(void 0===left)return void 0;var right=evalConstant(e.right);if(void 0===right)return void 0;switch(e.operatorToken.kind){case 47:return left|right;case 46:return left&right;case 44:return left>>right;case 45:return left>>>right;case 43:return left<<right;case 48:return left^right;case 37:return left*right;case 39:return left/right;case 35:return left+right;case 36:return left-right;case 40:return left%right}return void 0;case 8:return+e.text;case 178:return evalConstant(e.expression);case 69:case 173:case 172:var enumType_1,member=initializer.parent,currentType=getTypeOfSymbol(getSymbolOfNode(member.parent)),propertyName=void 0;if(69===e.kind)enumType_1=currentType,propertyName=e.text;else{var expression=void 0;if(173===e.kind){if(void 0===e.argumentExpression||9!==e.argumentExpression.kind)return void 0;expression=e.expression,propertyName=e.argumentExpression.text}else expression=e.expression,propertyName=e.name.text;for(var current=expression;current&&69!==current.kind;){if(172!==current.kind)return void 0;current=current.expression}if(enumType_1=checkExpression(expression),!(enumType_1.symbol&&384&enumType_1.symbol.flags))return void 0}if(void 0===propertyName)return void 0;var property=getPropertyOfObjectType(enumType_1,propertyName);if(!(property&&8&property.flags))return void 0;var propertyDecl=property.valueDeclaration;return member===propertyDecl?void 0:isBlockScopedNameDeclaredBeforeUse(propertyDecl,member)?getNodeLinks(propertyDecl).enumMemberValue:(reportError=!1,void error(e,ts.Diagnostics.A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_members_defined_in_other_enums))}}var reportError=!0,value=evalConstant(initializer);return reportError&&(void 0===value?enumIsConst?error(initializer,ts.Diagnostics.In_const_enum_declarations_member_initializer_must_be_constant_expression):ambient?error(initializer,ts.Diagnostics.In_ambient_enum_declarations_member_initializer_must_be_constant_expression):checkTypeAssignableTo(checkExpression(initializer),enumType,initializer,void 0):enumIsConst&&(isNaN(value)?error(initializer,ts.Diagnostics.const_enum_member_initializer_was_evaluated_to_disallowed_value_NaN):isFinite(value)||error(initializer,ts.Diagnostics.const_enum_member_initializer_was_evaluated_to_a_non_finite_value))),value}var nodeLinks=getNodeLinks(node);if(!(16384&nodeLinks.flags)){for(var enumSymbol=getSymbolOfNode(node),enumType=getDeclaredTypeOfSymbol(enumSymbol),autoValue=0,ambient=ts.isInAmbientContext(node),enumIsConst=ts.isConst(node),_i=0,_a=node.members;_i<_a.length;_i++){var member=_a[_i];if(isComputedNonLiteralName(member.name))error(member.name,ts.Diagnostics.Computed_property_names_are_not_allowed_in_enums);else{var text=getTextOfPropertyName(member.name);isNumericLiteralName(text)&&error(member.name,ts.Diagnostics.An_enum_member_cannot_have_a_numeric_name)}var previousEnumMemberIsNonConstant=void 0===autoValue,initializer=member.initializer;initializer?autoValue=computeConstantValueForEnumMemberInitializer(initializer,enumType,enumIsConst,ambient):ambient&&!enumIsConst?autoValue=void 0:previousEnumMemberIsNonConstant&&error(member.name,ts.Diagnostics.Enum_member_must_have_initializer),void 0!==autoValue&&(getNodeLinks(member).enumMemberValue=autoValue,autoValue++)}nodeLinks.flags|=16384}}function checkEnumDeclaration(node){if(produceDiagnostics){checkGrammarDecorators(node)||checkGrammarModifiers(node),checkTypeNameIsReserved(node.name,ts.Diagnostics.Enum_name_cannot_be_0),checkCollisionWithCapturedThisVariable(node,node.name),checkCollisionWithRequireExportsInGeneratedCode(node,node.name),checkCollisionWithGlobalPromiseInGeneratedCode(node,node.name),checkExportsOnMergedDeclarations(node),computeEnumMemberValues(node);var enumIsConst=ts.isConst(node);compilerOptions.isolatedModules&&enumIsConst&&ts.isInAmbientContext(node)&&error(node.name,ts.Diagnostics.Ambient_const_enums_are_not_allowed_when_the_isolatedModules_flag_is_provided);var enumSymbol=getSymbolOfNode(node),firstDeclaration=ts.getDeclarationOfKind(enumSymbol,node.kind);if(node===firstDeclaration){enumSymbol.declarations.length>1&&ts.forEach(enumSymbol.declarations,function(decl){ts.isConstEnumDeclaration(decl)!==enumIsConst&&error(decl.name,ts.Diagnostics.Enum_declarations_must_all_be_const_or_non_const)});var seenEnumMissingInitialInitializer_1=!1;ts.forEach(enumSymbol.declarations,function(declaration){if(224!==declaration.kind)return!1;var enumDeclaration=declaration;if(!enumDeclaration.members.length)return!1;var firstEnumMember=enumDeclaration.members[0];firstEnumMember.initializer||(seenEnumMissingInitialInitializer_1?error(firstEnumMember.name,ts.Diagnostics.In_an_enum_with_multiple_declarations_only_one_declaration_can_omit_an_initializer_for_its_first_enum_element):seenEnumMissingInitialInitializer_1=!0)})}}}function getFirstNonAmbientClassOrFunctionDeclaration(symbol){for(var declarations=symbol.declarations,_i=0,declarations_5=declarations;_i<declarations_5.length;_i++){var declaration=declarations_5[_i];if((221===declaration.kind||220===declaration.kind&&ts.nodeIsPresent(declaration.body))&&!ts.isInAmbientContext(declaration))return declaration}return void 0}function inSameLexicalScope(node1,node2){var container1=ts.getEnclosingBlockScopeContainer(node1),container2=ts.getEnclosingBlockScopeContainer(node2);return isGlobalSourceFile(container1)?isGlobalSourceFile(container2):isGlobalSourceFile(container2)?!1:container1===container2}function checkModuleDeclaration(node){if(produceDiagnostics){var isGlobalAugmentation=ts.isGlobalScopeAugmentation(node),inAmbientContext=ts.isInAmbientContext(node);isGlobalAugmentation&&!inAmbientContext&&error(node.name,ts.Diagnostics.Augmentations_for_the_global_scope_should_have_declare_modifier_unless_they_appear_in_already_ambient_context);var isAmbientExternalModule=ts.isAmbientModule(node),contextErrorMessage=isAmbientExternalModule?ts.Diagnostics.An_ambient_module_declaration_is_only_allowed_at_the_top_level_in_a_file:ts.Diagnostics.A_namespace_declaration_is_only_allowed_in_a_namespace_or_module;if(checkGrammarModuleElementContext(node,contextErrorMessage))return;checkGrammarDecorators(node)||checkGrammarModifiers(node)||inAmbientContext||9!==node.name.kind||grammarErrorOnNode(node.name,ts.Diagnostics.Only_ambient_modules_can_use_quoted_names),checkCollisionWithCapturedThisVariable(node,node.name),checkCollisionWithRequireExportsInGeneratedCode(node,node.name),checkCollisionWithGlobalPromiseInGeneratedCode(node,node.name),checkExportsOnMergedDeclarations(node);var symbol=getSymbolOfNode(node);if(512&symbol.flags&&symbol.declarations.length>1&&!inAmbientContext&&ts.isInstantiatedModule(node,compilerOptions.preserveConstEnums||compilerOptions.isolatedModules)){var firstNonAmbientClassOrFunc=getFirstNonAmbientClassOrFunctionDeclaration(symbol);firstNonAmbientClassOrFunc&&(ts.getSourceFileOfNode(node)!==ts.getSourceFileOfNode(firstNonAmbientClassOrFunc)?error(node.name,ts.Diagnostics.A_namespace_declaration_cannot_be_in_a_different_file_from_a_class_or_function_with_which_it_is_merged):node.pos<firstNonAmbientClassOrFunc.pos&&error(node.name,ts.Diagnostics.A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged));var mergedClass=ts.getDeclarationOfKind(symbol,221);mergedClass&&inSameLexicalScope(node,mergedClass)&&(getNodeLinks(node).flags|=32768)}if(isAmbientExternalModule)if(ts.isExternalModuleAugmentation(node)){var checkBody=isGlobalAugmentation||33554432&getSymbolOfNode(node).flags;if(checkBody&&node.body)for(var _i=0,_a=node.body.statements;_i<_a.length;_i++){var statement=_a[_i];checkModuleAugmentationElement(statement,isGlobalAugmentation)}}else isGlobalSourceFile(node.parent)?isGlobalAugmentation?error(node.name,ts.Diagnostics.Augmentations_for_the_global_scope_can_only_be_directly_nested_in_external_modules_or_ambient_module_declarations):ts.isExternalModuleNameRelative(node.name.text)&&error(node.name,ts.Diagnostics.Ambient_module_declaration_cannot_specify_relative_module_name):isGlobalAugmentation?error(node.name,ts.Diagnostics.Augmentations_for_the_global_scope_can_only_be_directly_nested_in_external_modules_or_ambient_module_declarations):error(node.name,ts.Diagnostics.Ambient_modules_cannot_be_nested_in_other_modules_or_namespaces)}node.body&&(checkSourceElement(node.body),ts.isGlobalScopeAugmentation(node)||registerForUnusedIdentifiersCheck(node))}function checkModuleAugmentationElement(node,isGlobalAugmentation){switch(node.kind){case 200:for(var _i=0,_a=node.declarationList.declarations;_i<_a.length;_i++){var decl=_a[_i];checkModuleAugmentationElement(decl,isGlobalAugmentation)}break;case 235:case 236:grammarErrorOnFirstToken(node,ts.Diagnostics.Exports_and_export_assignments_are_not_permitted_in_module_augmentations);break;case 229:case 230:grammarErrorOnFirstToken(node,ts.Diagnostics.Imports_are_not_permitted_in_module_augmentations_Consider_moving_them_to_the_enclosing_external_module);break;case 169:case 218:var name_19=node.name;if(ts.isBindingPattern(name_19)){for(var _b=0,_c=name_19.elements;_b<_c.length;_b++){var el=_c[_b];checkModuleAugmentationElement(el,isGlobalAugmentation)}break}case 221:case 224:case 220:case 222:case 225:case 223:if(isGlobalAugmentation)return;var symbol=getSymbolOfNode(node);if(symbol){var reportError=!(33554432&symbol.flags);reportError||(reportError=ts.isExternalModuleAugmentation(symbol.parent.declarations[0]))}}}function getFirstIdentifier(node){switch(node.kind){case 69:return node;case 139:do node=node.left;while(69!==node.kind);return node;case 172:do node=node.expression;while(69!==node.kind);return node}}function checkExternalImportOrExportDeclaration(node){var moduleName=ts.getExternalModuleName(node);if(!ts.nodeIsMissing(moduleName)&&9!==moduleName.kind)return error(moduleName,ts.Diagnostics.String_literal_expected),!1;var inAmbientExternalModule=226===node.parent.kind&&ts.isAmbientModule(node.parent.parent);return 256===node.parent.kind||inAmbientExternalModule?inAmbientExternalModule&&ts.isExternalModuleNameRelative(moduleName.text)&&!isTopLevelInExternalModuleAugmentation(node)?(error(node,ts.Diagnostics.Import_or_export_declaration_in_an_ambient_module_declaration_cannot_reference_module_through_relative_module_name),!1):!0:(error(moduleName,236===node.kind?ts.Diagnostics.Export_declarations_are_not_permitted_in_a_namespace:ts.Diagnostics.Import_declarations_in_a_namespace_cannot_reference_a_module),!1)}function checkAliasSymbol(node){var symbol=getSymbolOfNode(node),target=resolveAlias(symbol);
if(target!==unknownSymbol){var excludedMeanings=(1156031&symbol.flags?107455:0)|(793064&symbol.flags?793064:0)|(1920&symbol.flags?1920:0);if(target.flags&excludedMeanings){var message=238===node.kind?ts.Diagnostics.Export_declaration_conflicts_with_exported_declaration_of_0:ts.Diagnostics.Import_declaration_conflicts_with_local_declaration_of_0;error(node,message,symbolToString(symbol))}}}function checkImportBinding(node){checkCollisionWithCapturedThisVariable(node,node.name),checkCollisionWithRequireExportsInGeneratedCode(node,node.name),checkCollisionWithGlobalPromiseInGeneratedCode(node,node.name),checkAliasSymbol(node)}function checkImportDeclaration(node){if(!checkGrammarModuleElementContext(node,ts.Diagnostics.An_import_declaration_can_only_be_used_in_a_namespace_or_module)&&(!checkGrammarDecorators(node)&&!checkGrammarModifiers(node)&&1023&node.flags&&grammarErrorOnFirstToken(node,ts.Diagnostics.An_import_declaration_cannot_have_modifiers),checkExternalImportOrExportDeclaration(node))){var importClause=node.importClause;importClause&&(importClause.name&&checkImportBinding(importClause),importClause.namedBindings&&(232===importClause.namedBindings.kind?checkImportBinding(importClause.namedBindings):ts.forEach(importClause.namedBindings.elements,checkImportBinding)))}}function checkImportEqualsDeclaration(node){if(!checkGrammarModuleElementContext(node,ts.Diagnostics.An_import_declaration_can_only_be_used_in_a_namespace_or_module)&&(checkGrammarDecorators(node)||checkGrammarModifiers(node),ts.isInternalModuleImportEqualsDeclaration(node)||checkExternalImportOrExportDeclaration(node)))if(checkImportBinding(node),1&node.flags&&markExportAsReferenced(node),ts.isInternalModuleImportEqualsDeclaration(node)){var target=resolveAlias(getSymbolOfNode(node));if(target!==unknownSymbol){if(107455&target.flags){var moduleName=getFirstIdentifier(node.moduleReference);1920&resolveEntityName(moduleName,108479).flags||error(moduleName,ts.Diagnostics.Module_0_is_hidden_by_a_local_declaration_with_the_same_name,ts.declarationNameToString(moduleName))}793064&target.flags&&checkTypeNameIsReserved(node.name,ts.Diagnostics.Import_name_cannot_be_0)}}else modulekind!==ts.ModuleKind.ES6||ts.isInAmbientContext(node)||grammarErrorOnNode(node,ts.Diagnostics.Import_assignment_cannot_be_used_when_targeting_ECMAScript_2015_modules_Consider_using_import_Asterisk_as_ns_from_mod_import_a_from_mod_import_d_from_mod_or_another_module_format_instead)}function checkExportDeclaration(node){if(!checkGrammarModuleElementContext(node,ts.Diagnostics.An_export_declaration_can_only_be_used_in_a_module)&&(!checkGrammarDecorators(node)&&!checkGrammarModifiers(node)&&1023&node.flags&&grammarErrorOnFirstToken(node,ts.Diagnostics.An_export_declaration_cannot_have_modifiers),!node.moduleSpecifier||checkExternalImportOrExportDeclaration(node)))if(node.exportClause){ts.forEach(node.exportClause.elements,checkExportSpecifier);var inAmbientExternalModule=226===node.parent.kind&&ts.isAmbientModule(node.parent.parent);256===node.parent.kind||inAmbientExternalModule||error(node,ts.Diagnostics.Export_declarations_are_not_permitted_in_a_namespace)}else{var moduleSymbol=resolveExternalModuleName(node,node.moduleSpecifier);moduleSymbol&&hasExportAssignmentSymbol(moduleSymbol)&&error(node.moduleSpecifier,ts.Diagnostics.Module_0_uses_export_and_cannot_be_used_with_export_Asterisk,symbolToString(moduleSymbol))}}function checkGrammarModuleElementContext(node,errorMessage){var isInAppropriateContext=256===node.parent.kind||226===node.parent.kind||225===node.parent.kind;return isInAppropriateContext||grammarErrorOnFirstToken(node,errorMessage),!isInAppropriateContext}function checkExportSpecifier(node){if(checkAliasSymbol(node),!node.parent.parent.moduleSpecifier){var exportedName=node.propertyName||node.name,symbol=resolveName(exportedName,exportedName.text,9289727,void 0,void 0);symbol&&(symbol===undefinedSymbol||isGlobalSourceFile(getDeclarationContainer(symbol.declarations[0])))?error(exportedName,ts.Diagnostics.Cannot_export_0_Only_local_declarations_can_be_exported_from_a_module,exportedName.text):markExportAsReferenced(node)}}function checkExportAssignment(node){if(!checkGrammarModuleElementContext(node,ts.Diagnostics.An_export_assignment_can_only_be_used_in_a_module)){var container=256===node.parent.kind?node.parent:node.parent.parent;if(225===container.kind&&!ts.isAmbientModule(container))return void error(node,ts.Diagnostics.An_export_assignment_cannot_be_used_in_a_namespace);!checkGrammarDecorators(node)&&!checkGrammarModifiers(node)&&1023&node.flags&&grammarErrorOnFirstToken(node,ts.Diagnostics.An_export_assignment_cannot_have_modifiers),69===node.expression.kind?markExportAsReferenced(node):checkExpressionCached(node.expression),checkExternalModuleExports(container),node.isExportEquals&&!ts.isInAmbientContext(node)&&(modulekind===ts.ModuleKind.ES6?grammarErrorOnNode(node,ts.Diagnostics.Export_assignment_cannot_be_used_when_targeting_ECMAScript_2015_modules_Consider_using_export_default_or_another_module_format_instead):modulekind===ts.ModuleKind.System&&grammarErrorOnNode(node,ts.Diagnostics.Export_assignment_is_not_supported_when_module_flag_is_system))}}function hasExportedMembers(moduleSymbol){for(var id in moduleSymbol.exports)if("export="!==id)return!0;return!1}function checkExternalModuleExports(node){function isNotOverload(declaration){return 220!==declaration.kind||!!declaration.body}var moduleSymbol=getSymbolOfNode(node),links=getSymbolLinks(moduleSymbol);if(!links.exportsChecked){var exportEqualsSymbol=moduleSymbol.exports["export="];if(exportEqualsSymbol&&hasExportedMembers(moduleSymbol)){var declaration=getDeclarationOfAliasSymbol(exportEqualsSymbol)||exportEqualsSymbol.valueDeclaration;isTopLevelInExternalModuleAugmentation(declaration)||error(declaration,ts.Diagnostics.An_export_assignment_cannot_be_used_in_a_module_with_other_exported_elements)}var exports=getExportsOfModule(moduleSymbol);for(var id in exports)if("__export"!==id){var _a=exports[id],declarations=_a.declarations,flags=_a.flags;if(!(1984&flags)){var exportedDeclarationsCount=ts.countWhere(declarations,isNotOverload);if(!(524288&flags&&2>=exportedDeclarationsCount)&&exportedDeclarationsCount>1)for(var _i=0,declarations_6=declarations;_i<declarations_6.length;_i++){var declaration=declarations_6[_i];isNotOverload(declaration)&&diagnostics.add(ts.createDiagnosticForNode(declaration,ts.Diagnostics.Cannot_redeclare_exported_variable_0,id))}}}links.exportsChecked=!0}}function checkSourceElement(node){if(node){var kind=node.kind;if(cancellationToken)switch(kind){case 225:case 221:case 222:case 220:cancellationToken.throwIfCancellationRequested()}switch(kind){case 141:return checkTypeParameter(node);case 142:return checkParameter(node);case 145:case 144:return checkPropertyDeclaration(node);case 156:case 157:case 151:case 152:return checkSignatureDeclaration(node);case 153:return checkSignatureDeclaration(node);case 147:case 146:return checkMethodDeclaration(node);case 148:return checkConstructorDeclaration(node);case 149:case 150:return checkAccessorDeclaration(node);case 155:return checkTypeReferenceNode(node);case 154:return checkTypePredicate(node);case 158:return checkTypeQuery(node);case 159:return checkTypeLiteral(node);case 160:return checkArrayType(node);case 161:return checkTupleType(node);case 162:case 163:return checkUnionOrIntersectionType(node);case 164:return checkSourceElement(node.type);case 220:return checkFunctionDeclaration(node);case 199:case 226:return checkBlock(node);case 200:return checkVariableStatement(node);case 202:return checkExpressionStatement(node);case 203:return checkIfStatement(node);case 204:return checkDoStatement(node);case 205:return checkWhileStatement(node);case 206:return checkForStatement(node);case 207:return checkForInStatement(node);case 208:return checkForOfStatement(node);case 209:case 210:return checkBreakOrContinueStatement(node);case 211:return checkReturnStatement(node);case 212:return checkWithStatement(node);case 213:return checkSwitchStatement(node);case 214:return checkLabeledStatement(node);case 215:return checkThrowStatement(node);case 216:return checkTryStatement(node);case 218:return checkVariableDeclaration(node);case 169:return checkBindingElement(node);case 221:return checkClassDeclaration(node);case 222:return checkInterfaceDeclaration(node);case 223:return checkTypeAliasDeclaration(node);case 224:return checkEnumDeclaration(node);case 225:return checkModuleDeclaration(node);case 230:return checkImportDeclaration(node);case 229:return checkImportEqualsDeclaration(node);case 236:return checkExportDeclaration(node);case 235:return checkExportAssignment(node);case 201:return void checkGrammarStatementInAmbientContext(node);case 217:return void checkGrammarStatementInAmbientContext(node);case 239:return checkMissingDeclaration(node)}}}function checkNodeDeferred(node){deferredNodes&&deferredNodes.push(node)}function checkDeferredNodes(){for(var _i=0,deferredNodes_1=deferredNodes;_i<deferredNodes_1.length;_i++){var node=deferredNodes_1[_i];switch(node.kind){case 179:case 180:case 147:case 146:checkFunctionExpressionOrObjectLiteralMethodDeferred(node);break;case 149:case 150:checkAccessorDeferred(node);break;case 192:checkClassExpressionDeferred(node)}}}function checkSourceFile(node){ts.performance.mark("beforeCheck"),checkSourceFileWorker(node),ts.performance.mark("afterCheck"),ts.performance.measure("Check","beforeCheck","afterCheck")}function checkSourceFileWorker(node){var links=getNodeLinks(node);if(!(1&links.flags)){if(compilerOptions.skipLibCheck&&node.isDeclarationFile||compilerOptions.skipDefaultLibCheck&&node.hasNoDefaultLib)return;checkGrammarSourceFile(node),potentialThisCollisions.length=0,deferredNodes=[],deferredUnusedIdentifierNodes=produceDiagnostics&&noUnusedIdentifiers?[]:void 0,ts.forEach(node.statements,checkSourceElement),checkDeferredNodes(),ts.isExternalModule(node)&&registerForUnusedIdentifiersCheck(node),node.isDeclarationFile||checkUnusedIdentifiers(),deferredNodes=void 0,deferredUnusedIdentifierNodes=void 0,ts.isExternalOrCommonJsModule(node)&&checkExternalModuleExports(node),potentialThisCollisions.length&&(ts.forEach(potentialThisCollisions,checkIfThisIsCapturedInEnclosingScope),potentialThisCollisions.length=0),links.flags|=1}}function getDiagnostics(sourceFile,ct){try{return cancellationToken=ct,getDiagnosticsWorker(sourceFile)}finally{cancellationToken=void 0}}function getDiagnosticsWorker(sourceFile){return throwIfNonDiagnosticsProducing(),sourceFile?(checkSourceFile(sourceFile),diagnostics.getDiagnostics(sourceFile.fileName)):(ts.forEach(host.getSourceFiles(),checkSourceFile),diagnostics.getDiagnostics())}function getGlobalDiagnostics(){return throwIfNonDiagnosticsProducing(),diagnostics.getGlobalDiagnostics()}function throwIfNonDiagnosticsProducing(){if(!produceDiagnostics)throw new Error("Trying to get diagnostics from a type checker that does not produce them.")}function isInsideWithStatementBody(node){if(node)for(;node.parent;){if(212===node.parent.kind&&node.parent.statement===node)return!0;node=node.parent}return!1}function getSymbolsInScope(location,meaning){function populateSymbols(){for(;location;){switch(location.locals&&!isGlobalSourceFile(location)&&copySymbols(location.locals,meaning),location.kind){case 256:if(!ts.isExternalOrCommonJsModule(location))break;case 225:copySymbols(getSymbolOfNode(location).exports,8914931&meaning);break;case 224:copySymbols(getSymbolOfNode(location).exports,8&meaning);break;case 192:var className=location.name;className&&copySymbol(location.symbol,meaning);case 221:case 222:32&memberFlags||copySymbols(getSymbolOfNode(location).members,793064&meaning);break;case 179:var funcName=location.name;funcName&&copySymbol(location.symbol,meaning)}ts.introducesArgumentsExoticObject(location)&&copySymbol(argumentsSymbol,meaning),memberFlags=location.flags,location=location.parent}copySymbols(globals,meaning)}function copySymbol(symbol,meaning){if(symbol.flags&meaning){var id=symbol.name;symbols[id]||(symbols[id]=symbol)}}function copySymbols(source,meaning){if(meaning)for(var id in source){var symbol=source[id];copySymbol(symbol,meaning)}}var symbols=ts.createMap(),memberFlags=0;return isInsideWithStatementBody(location)?[]:(populateSymbols(),symbolsToArray(symbols))}function isTypeDeclarationName(name){return 69===name.kind&&isTypeDeclaration(name.parent)&&name.parent.name===name}function isTypeDeclaration(node){switch(node.kind){case 141:case 221:case 222:case 223:case 224:return!0}}function isTypeReferenceIdentifier(entityName){for(var node=entityName;node.parent&&139===node.parent.kind;)node=node.parent;return node.parent&&(155===node.parent.kind||267===node.parent.kind)}function isHeritageClauseElementIdentifier(entityName){for(var node=entityName;node.parent&&172===node.parent.kind;)node=node.parent;return node.parent&&194===node.parent.kind}function forEachEnclosingClass(node,callback){for(var result;;){if(node=ts.getContainingClass(node),!node)break;if(result=callback(node))break}return result}function isNodeWithinClass(node,classDeclaration){return!!forEachEnclosingClass(node,function(n){return n===classDeclaration})}function getLeftSideOfImportEqualsOrExportAssignment(nodeOnRightSide){for(;139===nodeOnRightSide.parent.kind;)nodeOnRightSide=nodeOnRightSide.parent;return 229===nodeOnRightSide.parent.kind?nodeOnRightSide.parent.moduleReference===nodeOnRightSide&&nodeOnRightSide.parent:235===nodeOnRightSide.parent.kind?nodeOnRightSide.parent.expression===nodeOnRightSide&&nodeOnRightSide.parent:void 0}function isInRightSideOfImportOrExportAssignment(node){return void 0!==getLeftSideOfImportEqualsOrExportAssignment(node)}function getSymbolOfEntityNameOrPropertyAccessExpression(entityName){if(ts.isDeclarationName(entityName))return getSymbolOfNode(entityName.parent);if(ts.isInJavaScriptFile(entityName)&&172===entityName.parent.kind){var specialPropertyAssignmentKind=ts.getSpecialPropertyAssignmentKind(entityName.parent.parent);switch(specialPropertyAssignmentKind){case 1:case 3:return getSymbolOfNode(entityName.parent);case 4:case 2:return getSymbolOfNode(entityName.parent.parent)}}if(235===entityName.parent.kind&&ts.isEntityNameExpression(entityName))return resolveEntityName(entityName,9289727);if(172!==entityName.kind&&isInRightSideOfImportOrExportAssignment(entityName)){var importEqualsDeclaration=ts.getAncestor(entityName,229);return ts.Debug.assert(void 0!==importEqualsDeclaration),getSymbolOfPartOfRightHandSideOfImportEquals(entityName,importEqualsDeclaration,!0)}if(ts.isRightSideOfQualifiedNameOrPropertyAccess(entityName)&&(entityName=entityName.parent),isHeritageClauseElementIdentifier(entityName)){var meaning=0;return 194===entityName.parent.kind?(meaning=793064,ts.isExpressionWithTypeArgumentsInClassExtendsClause(entityName.parent)&&(meaning|=107455)):meaning=1920,meaning|=8388608,resolveEntityName(entityName,meaning)}if(ts.isExpression(entityName)){if(ts.nodeIsMissing(entityName))return void 0;if(69===entityName.kind)return ts.isJSXTagName(entityName)&&isJsxIntrinsicIdentifier(entityName)?getIntrinsicTagSymbol(entityName.parent):resolveEntityName(entityName,107455,!1,!0);if(172===entityName.kind){var symbol=getNodeLinks(entityName).resolvedSymbol;return symbol||checkPropertyAccessExpression(entityName),getNodeLinks(entityName).resolvedSymbol}if(139===entityName.kind){var symbol=getNodeLinks(entityName).resolvedSymbol;return symbol||checkQualifiedName(entityName),getNodeLinks(entityName).resolvedSymbol}}else{if(isTypeReferenceIdentifier(entityName)){var meaning=155===entityName.parent.kind||267===entityName.parent.kind?793064:1920;return resolveEntityName(entityName,meaning,!1,!0)}if(246===entityName.parent.kind)return getJsxAttributePropertySymbol(entityName.parent)}return 154===entityName.parent.kind?resolveEntityName(entityName,1):void 0}function getSymbolAtLocation(node){if(256===node.kind)return ts.isExternalModule(node)?getMergedSymbol(node.symbol):void 0;if(isInsideWithStatementBody(node))return void 0;if(ts.isDeclarationName(node))return getSymbolOfNode(node.parent);if(ts.isLiteralComputedPropertyDeclarationName(node))return getSymbolOfNode(node.parent.parent);if(69===node.kind){if(isInRightSideOfImportOrExportAssignment(node))return getSymbolOfEntityNameOrPropertyAccessExpression(node);if(169===node.parent.kind&&167===node.parent.parent.kind&&node===node.parent.propertyName){var typeOfPattern=getTypeOfNode(node.parent.parent),propertyDeclaration=typeOfPattern&&getPropertyOfType(typeOfPattern,node.text);if(propertyDeclaration)return propertyDeclaration}}switch(node.kind){case 69:case 172:case 139:return getSymbolOfEntityNameOrPropertyAccessExpression(node);case 97:var container=ts.getThisContainer(node,!1);if(ts.isFunctionLike(container)){var sig=getSignatureFromDeclaration(container);if(sig.thisParameter)return sig.thisParameter}case 95:var type=ts.isExpression(node)?checkExpression(node):getTypeFromTypeNode(node);return type.symbol;case 165:return getTypeFromTypeNode(node).symbol;case 121:var constructorDeclaration=node.parent;return constructorDeclaration&&148===constructorDeclaration.kind?constructorDeclaration.parent.symbol:void 0;case 9:if(ts.isExternalModuleImportEqualsDeclaration(node.parent.parent)&&ts.getExternalModuleImportEqualsDeclarationExpression(node.parent.parent)===node||(230===node.parent.kind||236===node.parent.kind)&&node.parent.moduleSpecifier===node)return resolveExternalModuleName(node,node);if(ts.isInJavaScriptFile(node)&&ts.isRequireCall(node.parent,!1))return resolveExternalModuleName(node,node);case 8:if(173===node.parent.kind&&node.parent.argumentExpression===node){var objectType=checkExpression(node.parent.expression);if(objectType===unknownType)return void 0;var apparentType=getApparentType(objectType);return apparentType===unknownType?void 0:getPropertyOfType(apparentType,node.text)}}return void 0}function getShorthandAssignmentValueSymbol(location){return location&&254===location.kind?resolveEntityName(location.name,8496063):void 0}function getExportSpecifierLocalTargetSymbol(node){return node.parent.parent.moduleSpecifier?getExternalModuleMember(node.parent.parent,node):resolveEntityName(node.propertyName||node.name,9289727)}function getTypeOfNode(node){if(isInsideWithStatementBody(node))return unknownType;if(ts.isTypeNode(node))return getTypeFromTypeNode(node);if(ts.isExpression(node))return getTypeOfExpression(node);if(ts.isExpressionWithTypeArgumentsInClassExtendsClause(node))return getBaseTypes(getDeclaredTypeOfSymbol(getSymbolOfNode(node.parent.parent)))[0];if(isTypeDeclaration(node)){var symbol=getSymbolOfNode(node);return getDeclaredTypeOfSymbol(symbol)}if(isTypeDeclarationName(node)){var symbol=getSymbolAtLocation(node);return symbol&&getDeclaredTypeOfSymbol(symbol)}if(ts.isDeclaration(node)){var symbol=getSymbolOfNode(node);return getTypeOfSymbol(symbol)}if(ts.isDeclarationName(node)){var symbol=getSymbolAtLocation(node);return symbol&&getTypeOfSymbol(symbol)}if(ts.isBindingPattern(node))return getTypeForVariableLikeDeclaration(node.parent,!0);if(isInRightSideOfImportOrExportAssignment(node)){var symbol=getSymbolAtLocation(node),declaredType=symbol&&getDeclaredTypeOfSymbol(symbol);return declaredType!==unknownType?declaredType:getTypeOfSymbol(symbol)}return unknownType}function getTypeOfArrayLiteralOrObjectLiteralDestructuringAssignment(expr){if(ts.Debug.assert(171===expr.kind||170===expr.kind),208===expr.parent.kind){var iteratedType=checkRightHandSideOfForOf(expr.parent.expression);return checkDestructuringAssignment(expr,iteratedType||unknownType)}if(187===expr.parent.kind){var iteratedType=checkExpression(expr.parent.right);return checkDestructuringAssignment(expr,iteratedType||unknownType)}if(253===expr.parent.kind){var typeOfParentObjectLiteral=getTypeOfArrayLiteralOrObjectLiteralDestructuringAssignment(expr.parent.parent);return checkObjectLiteralDestructuringPropertyAssignment(typeOfParentObjectLiteral||unknownType,expr.parent)}ts.Debug.assert(170===expr.parent.kind);var typeOfArrayLiteral=getTypeOfArrayLiteralOrObjectLiteralDestructuringAssignment(expr.parent),elementType=checkIteratedTypeOrElementType(typeOfArrayLiteral||unknownType,expr.parent,!1)||unknownType;return checkArrayLiteralDestructuringElementAssignment(expr.parent,typeOfArrayLiteral,ts.indexOf(expr.parent.elements,expr),elementType||unknownType)}function getPropertySymbolOfDestructuringAssignment(location){var typeOfObjectLiteral=getTypeOfArrayLiteralOrObjectLiteralDestructuringAssignment(location.parent.parent);return typeOfObjectLiteral&&getPropertyOfType(typeOfObjectLiteral,location.text)}function getTypeOfExpression(expr){return ts.isRightSideOfQualifiedNameOrPropertyAccess(expr)&&(expr=expr.parent),checkExpression(expr)}function getParentTypeOfClassElement(node){var classSymbol=getSymbolOfNode(node.parent);return 32&node.flags?getTypeOfSymbol(classSymbol):getDeclaredTypeOfSymbol(classSymbol)}function getAugmentedPropertiesOfType(type){type=getApparentType(type);var propsByName=createSymbolTable(getPropertiesOfType(type));return(getSignaturesOfType(type,0).length||getSignaturesOfType(type,1).length)&&ts.forEach(getPropertiesOfType(globalFunctionType),function(p){propsByName[p.name]||(propsByName[p.name]=p)}),getNamedMembers(propsByName)}function getRootSymbols(symbol){if(268435456&symbol.flags){var symbols_3=[],name_20=symbol.name;return ts.forEach(getSymbolLinks(symbol).containingType.types,function(t){var symbol=getPropertyOfType(t,name_20);symbol&&symbols_3.push(symbol)}),symbols_3}if(67108864&symbol.flags){for(var target=void 0,next=symbol;next=getSymbolLinks(next).target;)target=next;if(target)return[target]}return[symbol]}function isArgumentsLocalBinding(node){return getReferencedValueSymbol(node)===argumentsSymbol}function moduleExportsSomeValue(moduleReferenceExpression){function isValue(s){return s=resolveSymbol(s),s&&!!(107455&s.flags)}var moduleSymbol=resolveExternalModuleName(moduleReferenceExpression.parent,moduleReferenceExpression);if(!moduleSymbol||ts.isShorthandAmbientModuleSymbol(moduleSymbol))return!0;var hasExportAssignment=hasExportAssignmentSymbol(moduleSymbol);moduleSymbol=resolveExternalModuleSymbol(moduleSymbol);var symbolLinks=getSymbolLinks(moduleSymbol);return void 0===symbolLinks.exportsSomeValue&&(symbolLinks.exportsSomeValue=hasExportAssignment?!!(107455&moduleSymbol.flags):ts.forEachProperty(getExportsOfModule(moduleSymbol),isValue)),symbolLinks.exportsSomeValue}function getReferencedExportContainer(node){var symbol=getReferencedValueSymbol(node);if(symbol){if(1048576&symbol.flags){var exportSymbol=getMergedSymbol(symbol.exportSymbol);if(944&exportSymbol.flags)return void 0;symbol=exportSymbol}var parentSymbol=getParentOfSymbol(symbol);if(parentSymbol){if(512&parentSymbol.flags&&256===parentSymbol.valueDeclaration.kind&&parentSymbol.valueDeclaration===ts.getSourceFileOfNode(node))return parentSymbol.valueDeclaration;for(var n=node.parent;n;n=n.parent)if((225===n.kind||224===n.kind)&&getSymbolOfNode(n)===parentSymbol)return n}}}function getReferencedImportDeclaration(node){var symbol=getReferencedValueSymbol(node);return symbol&&8388608&symbol.flags?getDeclarationOfAliasSymbol(symbol):void 0}function isSymbolOfDeclarationWithCollidingName(symbol){if(418&symbol.flags){var links=getSymbolLinks(symbol);if(void 0===links.isDeclarationWithCollidingName){var container=ts.getEnclosingBlockScopeContainer(symbol.valueDeclaration);if(ts.isStatementWithLocals(container)){var nodeLinks_1=getNodeLinks(symbol.valueDeclaration);if(resolveName(container.parent,symbol.name,107455,void 0,void 0))links.isDeclarationWithCollidingName=!0;else if(131072&nodeLinks_1.flags){var isDeclaredInLoop=262144&nodeLinks_1.flags,inLoopInitializer=ts.isIterationStatement(container,!1),inLoopBodyBlock=199===container.kind&&ts.isIterationStatement(container.parent,!1);links.isDeclarationWithCollidingName=!(ts.isBlockScopedContainerTopLevel(container)||isDeclaredInLoop&&(inLoopInitializer||inLoopBodyBlock))}else links.isDeclarationWithCollidingName=!1}}return links.isDeclarationWithCollidingName}return!1}function getReferencedDeclarationWithCollidingName(node){var symbol=getReferencedValueSymbol(node);return symbol&&isSymbolOfDeclarationWithCollidingName(symbol)?symbol.valueDeclaration:void 0}function isDeclarationWithCollidingName(node){return isSymbolOfDeclarationWithCollidingName(getSymbolOfNode(node))}function isValueAliasDeclaration(node){switch(node.kind){case 229:case 231:case 232:case 234:case 238:return isAliasResolvedToValue(getSymbolOfNode(node));case 236:var exportClause=node.exportClause;return exportClause&&ts.forEach(exportClause.elements,isValueAliasDeclaration);case 235:return node.expression&&69===node.expression.kind?isAliasResolvedToValue(getSymbolOfNode(node)):!0}return!1}function isTopLevelValueImportEqualsWithEntityName(node){if(256!==node.parent.kind||!ts.isInternalModuleImportEqualsDeclaration(node))return!1;var isValue=isAliasResolvedToValue(getSymbolOfNode(node));return isValue&&node.moduleReference&&!ts.nodeIsMissing(node.moduleReference)}function isAliasResolvedToValue(symbol){var target=resolveAlias(symbol);return target===unknownSymbol?!0:107455&target.flags&&(compilerOptions.preserveConstEnums||!isConstEnumOrConstEnumOnlyModule(target))}function isConstEnumOrConstEnumOnlyModule(s){return isConstEnumSymbol(s)||s.constEnumOnlyModule}function isReferencedAliasDeclaration(node,checkChildren){if(ts.isAliasSymbolDeclaration(node)){var symbol=getSymbolOfNode(node);if(getSymbolLinks(symbol).referenced)return!0}return checkChildren?ts.forEachChild(node,function(node){return isReferencedAliasDeclaration(node,checkChildren)}):!1}function isImplementationOfOverload(node){if(ts.nodeIsPresent(node.body)){var symbol=getSymbolOfNode(node),signaturesOfSymbol=getSignaturesOfSymbol(symbol);return signaturesOfSymbol.length>1||1===signaturesOfSymbol.length&&signaturesOfSymbol[0].declaration!==node}return!1}function getNodeCheckFlags(node){return getNodeLinks(node).flags}function getEnumMemberValue(node){return computeEnumMemberValues(node.parent),getNodeLinks(node).enumMemberValue}function getConstantValue(node){if(255===node.kind)return getEnumMemberValue(node);var symbol=getNodeLinks(node).resolvedSymbol;return symbol&&8&symbol.flags&&ts.isConstEnumDeclaration(symbol.valueDeclaration.parent)?getEnumMemberValue(symbol.valueDeclaration):void 0}function isFunctionType(type){return 2588672&type.flags&&getSignaturesOfType(type,0).length>0}function getTypeReferenceSerializationKind(typeName){var valueSymbol=resolveEntityName(typeName,107455,!0),constructorType=valueSymbol?getTypeOfSymbol(valueSymbol):void 0;if(constructorType&&isConstructorType(constructorType))return ts.TypeReferenceSerializationKind.TypeWithConstructSignatureAndValue;var typeSymbol=resolveEntityName(typeName,793064,!0);if(!typeSymbol)return ts.TypeReferenceSerializationKind.ObjectType;var type=getDeclaredTypeOfSymbol(typeSymbol);return type===unknownType?ts.TypeReferenceSerializationKind.Unknown:1&type.flags?ts.TypeReferenceSerializationKind.ObjectType:isTypeOfKind(type,1024)?ts.TypeReferenceSerializationKind.VoidType:isTypeOfKind(type,136)?ts.TypeReferenceSerializationKind.BooleanType:isTypeOfKind(type,340)?ts.TypeReferenceSerializationKind.NumberLikeType:isTypeOfKind(type,34)?ts.TypeReferenceSerializationKind.StringLikeType:isTupleType(type)?ts.TypeReferenceSerializationKind.ArrayLikeType:isTypeOfKind(type,512)?ts.TypeReferenceSerializationKind.ESSymbolType:isFunctionType(type)?ts.TypeReferenceSerializationKind.TypeWithCallSignature:isArrayType(type)?ts.TypeReferenceSerializationKind.ArrayLikeType:ts.TypeReferenceSerializationKind.ObjectType}function writeTypeOfDeclaration(declaration,enclosingDeclaration,flags,writer){var symbol=getSymbolOfNode(declaration),type=!symbol||133120&symbol.flags?unknownType:getTypeOfSymbol(symbol);getSymbolDisplayBuilder().buildTypeDisplay(type,writer,enclosingDeclaration,flags)}function writeReturnTypeOfSignatureDeclaration(signatureDeclaration,enclosingDeclaration,flags,writer){var signature=getSignatureFromDeclaration(signatureDeclaration);getSymbolDisplayBuilder().buildTypeDisplay(getReturnTypeOfSignature(signature),writer,enclosingDeclaration,flags)}function writeTypeOfExpression(expr,enclosingDeclaration,flags,writer){var type=getWidenedType(getTypeOfExpression(expr));getSymbolDisplayBuilder().buildTypeDisplay(type,writer,enclosingDeclaration,flags)}function writeBaseConstructorTypeOfClass(node,enclosingDeclaration,flags,writer){var classType=getDeclaredTypeOfSymbol(getSymbolOfNode(node));resolveBaseTypesOfClass(classType);var baseType=classType.resolvedBaseTypes.length?classType.resolvedBaseTypes[0]:unknownType;getSymbolDisplayBuilder().buildTypeDisplay(baseType,writer,enclosingDeclaration,flags)}function hasGlobalName(name){return!!globals[name]}function getReferencedValueSymbol(reference){return getNodeLinks(reference).resolvedSymbol||resolveName(reference,reference.text,9544639,void 0,void 0)}function getReferencedValueDeclaration(reference){ts.Debug.assert(!ts.nodeIsSynthesized(reference));var symbol=getReferencedValueSymbol(reference);return symbol&&getExportSymbolOfValueSymbolIfExported(symbol).valueDeclaration}function createResolver(){function getTypeReferenceDirectivesForEntityName(node){if(!fileToDirective)return void 0;var meaning=172===node.kind||69===node.kind&&isInTypeQuery(node)?1156031:794600,symbol=resolveEntityName(node,meaning,!0);return symbol&&symbol!==unknownSymbol?getTypeReferenceDirectivesForSymbol(symbol,meaning):void 0}function getTypeReferenceDirectivesForSymbol(symbol,meaning){if(!fileToDirective)return void 0;if(!isSymbolFromTypeDeclarationFile(symbol))return void 0;for(var typeReferenceDirectives,_i=0,_a=symbol.declarations;_i<_a.length;_i++){var decl=_a[_i];if(decl.symbol&&decl.symbol.flags&meaning){var file=ts.getSourceFileOfNode(decl),typeReferenceDirective=fileToDirective.get(file.path);typeReferenceDirective&&(typeReferenceDirectives||(typeReferenceDirectives=[])).push(typeReferenceDirective)}}return typeReferenceDirectives}function isSymbolFromTypeDeclarationFile(symbol){if(!symbol.declarations)return!1;for(var current=symbol;;){var parent_12=getParentOfSymbol(current);if(!parent_12)break;current=parent_12}if(current.valueDeclaration&&256===current.valueDeclaration.kind&&512&current.flags)return!1;for(var _i=0,_a=symbol.declarations;_i<_a.length;_i++){var decl=_a[_i],file=ts.getSourceFileOfNode(decl);if(fileToDirective.contains(file.path))return!0}return!1}var fileToDirective,resolvedTypeReferenceDirectives=host.getResolvedTypeReferenceDirectives();if(resolvedTypeReferenceDirectives){fileToDirective=ts.createFileMap();for(var key in resolvedTypeReferenceDirectives){var resolvedDirective=resolvedTypeReferenceDirectives[key];if(resolvedDirective){var file=host.getSourceFile(resolvedDirective.resolvedFileName);file&&fileToDirective.set(file.path,key)}}}return{getReferencedExportContainer:getReferencedExportContainer,getReferencedImportDeclaration:getReferencedImportDeclaration,getReferencedDeclarationWithCollidingName:getReferencedDeclarationWithCollidingName,isDeclarationWithCollidingName:isDeclarationWithCollidingName,isValueAliasDeclaration:isValueAliasDeclaration,hasGlobalName:hasGlobalName,isReferencedAliasDeclaration:isReferencedAliasDeclaration,getNodeCheckFlags:getNodeCheckFlags,isTopLevelValueImportEqualsWithEntityName:isTopLevelValueImportEqualsWithEntityName,isDeclarationVisible:isDeclarationVisible,isImplementationOfOverload:isImplementationOfOverload,writeTypeOfDeclaration:writeTypeOfDeclaration,writeReturnTypeOfSignatureDeclaration:writeReturnTypeOfSignatureDeclaration,writeTypeOfExpression:writeTypeOfExpression,writeBaseConstructorTypeOfClass:writeBaseConstructorTypeOfClass,isSymbolAccessible:isSymbolAccessible,isEntityNameVisible:isEntityNameVisible,getConstantValue:getConstantValue,collectLinkedAliases:collectLinkedAliases,getReferencedValueDeclaration:getReferencedValueDeclaration,
getTypeReferenceSerializationKind:getTypeReferenceSerializationKind,isOptionalParameter:isOptionalParameter,moduleExportsSomeValue:moduleExportsSomeValue,isArgumentsLocalBinding:isArgumentsLocalBinding,getExternalModuleFileFromDeclaration:getExternalModuleFileFromDeclaration,getTypeReferenceDirectivesForEntityName:getTypeReferenceDirectivesForEntityName,getTypeReferenceDirectivesForSymbol:getTypeReferenceDirectivesForSymbol}}function getExternalModuleFileFromDeclaration(declaration){var specifier=ts.getExternalModuleName(declaration),moduleSymbol=resolveExternalModuleNameWorker(specifier,specifier,void 0);return moduleSymbol?ts.getDeclarationOfKind(moduleSymbol,256):void 0}function initializeTypeChecker(){ts.forEach(host.getSourceFiles(),function(file){ts.bindSourceFile(file,compilerOptions)});var augmentations;if(ts.forEach(host.getSourceFiles(),function(file){if(ts.isExternalOrCommonJsModule(file)||mergeSymbolTable(globals,file.locals),file.patternAmbientModules&&file.patternAmbientModules.length&&(patternAmbientModules=ts.concatenate(patternAmbientModules,file.patternAmbientModules)),file.moduleAugmentations.length&&(augmentations||(augmentations=[])).push(file.moduleAugmentations),file.symbol&&file.symbol.globalExports){var source=file.symbol.globalExports;for(var id in source)id in globals||(globals[id]=source[id])}}),augmentations)for(var _i=0,augmentations_1=augmentations;_i<augmentations_1.length;_i++)for(var list=augmentations_1[_i],_a=0,list_2=list;_a<list_2.length;_a++){var augmentation=list_2[_a];mergeModuleAugmentation(augmentation)}addToSymbolTable(globals,builtinGlobals,ts.Diagnostics.Declaration_name_conflicts_with_built_in_global_identifier_0),getSymbolLinks(undefinedSymbol).type=undefinedWideningType,getSymbolLinks(argumentsSymbol).type=getGlobalType("IArguments"),getSymbolLinks(unknownSymbol).type=unknownType,globalArrayType=getGlobalType("Array",1),globalObjectType=getGlobalType("Object"),globalFunctionType=getGlobalType("Function"),globalStringType=getGlobalType("String"),globalNumberType=getGlobalType("Number"),globalBooleanType=getGlobalType("Boolean"),globalRegExpType=getGlobalType("RegExp"),jsxElementType=getExportedTypeFromNamespace("JSX",JsxNames.Element),getGlobalClassDecoratorType=ts.memoize(function(){return getGlobalType("ClassDecorator")}),getGlobalPropertyDecoratorType=ts.memoize(function(){return getGlobalType("PropertyDecorator")}),getGlobalMethodDecoratorType=ts.memoize(function(){return getGlobalType("MethodDecorator")}),getGlobalParameterDecoratorType=ts.memoize(function(){return getGlobalType("ParameterDecorator")}),getGlobalTypedPropertyDescriptorType=ts.memoize(function(){return getGlobalType("TypedPropertyDescriptor",1)}),getGlobalESSymbolConstructorSymbol=ts.memoize(function(){return getGlobalValueSymbol("Symbol")}),getGlobalPromiseType=ts.memoize(function(){return getGlobalType("Promise",1)}),tryGetGlobalPromiseType=ts.memoize(function(){return getGlobalSymbol("Promise",793064,void 0)&&getGlobalPromiseType()}),getGlobalPromiseLikeType=ts.memoize(function(){return getGlobalType("PromiseLike",1)}),getInstantiatedGlobalPromiseLikeType=ts.memoize(createInstantiatedPromiseLikeType),getGlobalPromiseConstructorSymbol=ts.memoize(function(){return getGlobalValueSymbol("Promise")}),getGlobalPromiseConstructorLikeType=ts.memoize(function(){return getGlobalType("PromiseConstructorLike")}),getGlobalThenableType=ts.memoize(createThenableType),getGlobalTemplateStringsArrayType=ts.memoize(function(){return getGlobalType("TemplateStringsArray")}),languageVersion>=2?(getGlobalESSymbolType=ts.memoize(function(){return getGlobalType("Symbol")}),getGlobalIterableType=ts.memoize(function(){return getGlobalType("Iterable",1)}),getGlobalIteratorType=ts.memoize(function(){return getGlobalType("Iterator",1)}),getGlobalIterableIteratorType=ts.memoize(function(){return getGlobalType("IterableIterator",1)})):(getGlobalESSymbolType=ts.memoize(function(){return emptyObjectType}),getGlobalIterableType=ts.memoize(function(){return emptyGenericType}),getGlobalIteratorType=ts.memoize(function(){return emptyGenericType}),getGlobalIterableIteratorType=ts.memoize(function(){return emptyGenericType})),anyArrayType=createArrayType(anyType);var symbol=getGlobalSymbol("ReadonlyArray",793064,void 0);globalReadonlyArrayType=symbol&&getTypeOfGlobalSymbol(symbol,1),anyReadonlyArrayType=globalReadonlyArrayType?createTypeFromGenericGlobalType(globalReadonlyArrayType,[anyType]):anyArrayType}function createInstantiatedPromiseLikeType(){var promiseLikeType=getGlobalPromiseLikeType();return promiseLikeType!==emptyGenericType?createTypeReference(promiseLikeType,[anyType]):emptyObjectType}function createThenableType(){var thenPropertySymbol=createSymbol(67108868,"then");getSymbolLinks(thenPropertySymbol).type=globalFunctionType;var thenableType=createObjectType(2097152);return thenableType.properties=[thenPropertySymbol],thenableType.members=createSymbolTable(thenableType.properties),thenableType.callSignatures=[],thenableType.constructSignatures=[],thenableType}function checkGrammarDecorators(node){if(!node.decorators)return!1;if(!ts.nodeCanBeDecorated(node))return 147!==node.kind||ts.nodeIsPresent(node.body)?grammarErrorOnFirstToken(node,ts.Diagnostics.Decorators_are_not_valid_here):grammarErrorOnFirstToken(node,ts.Diagnostics.A_decorator_can_only_decorate_a_method_implementation_not_an_overload);if(149===node.kind||150===node.kind){var accessors=ts.getAllAccessorDeclarations(node.parent.members,node);if(accessors.firstAccessor.decorators&&node===accessors.secondAccessor)return grammarErrorOnFirstToken(node,ts.Diagnostics.Decorators_cannot_be_applied_to_multiple_get_Slashset_accessors_of_the_same_name)}return!1}function checkGrammarModifiers(node){var quickResult=reportObviousModifierErrors(node);if(void 0!==quickResult)return quickResult;for(var lastStatic,lastPrivate,lastProtected,lastDeclare,lastAsync,lastReadonly,flags=0,_i=0,_a=node.modifiers;_i<_a.length;_i++){var modifier=_a[_i];if(128!==modifier.kind){if(144===node.kind||146===node.kind)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_type_member,ts.tokenToString(modifier.kind));if(153===node.kind)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_an_index_signature,ts.tokenToString(modifier.kind))}switch(modifier.kind){case 74:if(224!==node.kind&&221===node.parent.kind)return grammarErrorOnNode(node,ts.Diagnostics.A_class_member_cannot_have_the_0_keyword,ts.tokenToString(74));break;case 112:case 111:case 110:var text=visibilityToString(ts.modifierToFlag(modifier.kind));if(111===modifier.kind?lastProtected=modifier:110===modifier.kind&&(lastPrivate=modifier),28&flags)return grammarErrorOnNode(modifier,ts.Diagnostics.Accessibility_modifier_already_seen);if(32&flags)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,text,"static");if(64&flags)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,text,"readonly");if(256&flags)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,text,"async");if(226===node.parent.kind||256===node.parent.kind)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_module_or_namespace_element,text);if(128&flags)return 110===modifier.kind?grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,text,"abstract"):grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,text,"abstract");flags|=ts.modifierToFlag(modifier.kind);break;case 113:if(32&flags)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_already_seen,"static");if(64&flags)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,"static","readonly");if(256&flags)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,"static","async");if(226===node.parent.kind||256===node.parent.kind)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_module_or_namespace_element,"static");if(142===node.kind)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"static");if(128&flags)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,"static","abstract");flags|=32,lastStatic=modifier;break;case 128:if(64&flags)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_already_seen,"readonly");if(145!==node.kind&&144!==node.kind&&153!==node.kind&&142!==node.kind)return grammarErrorOnNode(modifier,ts.Diagnostics.readonly_modifier_can_only_appear_on_a_property_declaration_or_index_signature);flags|=64,lastReadonly=modifier;break;case 82:if(1&flags)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_already_seen,"export");if(2&flags)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,"export","declare");if(128&flags)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,"export","abstract");if(256&flags)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,"export","async");if(221===node.parent.kind)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_class_element,"export");if(142===node.kind)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"export");flags|=1;break;case 122:if(2&flags)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_already_seen,"declare");if(256&flags)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_be_used_in_an_ambient_context,"async");if(221===node.parent.kind)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_class_element,"declare");if(142===node.kind)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"declare");if(ts.isInAmbientContext(node.parent)&&226===node.parent.kind)return grammarErrorOnNode(modifier,ts.Diagnostics.A_declare_modifier_cannot_be_used_in_an_already_ambient_context);flags|=2,lastDeclare=modifier;break;case 115:if(128&flags)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_already_seen,"abstract");if(221!==node.kind){if(147!==node.kind&&145!==node.kind&&149!==node.kind&&150!==node.kind)return grammarErrorOnNode(modifier,ts.Diagnostics.abstract_modifier_can_only_appear_on_a_class_method_or_property_declaration);if(!(221===node.parent.kind&&128&node.parent.flags))return grammarErrorOnNode(modifier,ts.Diagnostics.Abstract_methods_can_only_appear_within_an_abstract_class);if(32&flags)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,"static","abstract");if(8&flags)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,"private","abstract")}flags|=128;break;case 118:if(256&flags)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_already_seen,"async");if(2&flags||ts.isInAmbientContext(node.parent))return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_be_used_in_an_ambient_context,"async");if(142===node.kind)return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"async");flags|=256,lastAsync=modifier}}return 148!==node.kind?(230===node.kind||229===node.kind)&&2&flags?grammarErrorOnNode(lastDeclare,ts.Diagnostics.A_0_modifier_cannot_be_used_with_an_import_declaration,"declare"):142===node.kind&&92&flags&&ts.isBindingPattern(node.name)?grammarErrorOnNode(node,ts.Diagnostics.A_parameter_property_may_not_be_declared_using_a_binding_pattern):142===node.kind&&92&flags&&node.dotDotDotToken?grammarErrorOnNode(node,ts.Diagnostics.A_parameter_property_cannot_be_declared_using_a_rest_parameter):256&flags?checkGrammarAsyncModifier(node,lastAsync):void 0:32&flags?grammarErrorOnNode(lastStatic,ts.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"static"):128&flags?grammarErrorOnNode(lastStatic,ts.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"abstract"):256&flags?grammarErrorOnNode(lastAsync,ts.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"async"):64&flags?grammarErrorOnNode(lastReadonly,ts.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"readonly"):void 0}function reportObviousModifierErrors(node){return node.modifiers?shouldReportBadModifier(node)?grammarErrorOnFirstToken(node,ts.Diagnostics.Modifiers_cannot_appear_here):void 0:!1}function shouldReportBadModifier(node){switch(node.kind){case 149:case 150:case 148:case 145:case 144:case 147:case 146:case 153:case 225:case 230:case 229:case 236:case 235:case 179:case 180:case 142:return!1;default:if(226===node.parent.kind||256===node.parent.kind)return!1;switch(node.kind){case 220:return nodeHasAnyModifiersExcept(node,118);case 221:return nodeHasAnyModifiersExcept(node,115);case 222:case 200:case 223:return!0;case 224:return nodeHasAnyModifiersExcept(node,74);default:return ts.Debug.fail(),!1}}}function nodeHasAnyModifiersExcept(node,allowedModifier){return node.modifiers.length>1||node.modifiers[0].kind!==allowedModifier}function checkGrammarAsyncModifier(node,asyncModifier){if(2>languageVersion)return grammarErrorOnNode(asyncModifier,ts.Diagnostics.Async_functions_are_only_available_when_targeting_ECMAScript_2015_or_higher);switch(node.kind){case 147:case 220:case 179:case 180:if(!node.asteriskToken)return!1}return grammarErrorOnNode(asyncModifier,ts.Diagnostics._0_modifier_cannot_be_used_here,"async")}function checkGrammarForDisallowedTrailingComma(list){if(list&&list.hasTrailingComma){var start=list.end-",".length,end=list.end,sourceFile=ts.getSourceFileOfNode(list[0]);return grammarErrorAtPos(sourceFile,start,end-start,ts.Diagnostics.Trailing_comma_not_allowed)}}function checkGrammarTypeParameterList(node,typeParameters,file){if(checkGrammarForDisallowedTrailingComma(typeParameters))return!0;if(typeParameters&&0===typeParameters.length){var start=typeParameters.pos-"<".length,end=ts.skipTrivia(file.text,typeParameters.end)+">".length;return grammarErrorAtPos(file,start,end-start,ts.Diagnostics.Type_parameter_list_cannot_be_empty)}}function checkGrammarParameterList(parameters){for(var seenOptionalParameter=!1,parameterCount=parameters.length,i=0;parameterCount>i;i++){var parameter=parameters[i];if(parameter.dotDotDotToken){if(i!==parameterCount-1)return grammarErrorOnNode(parameter.dotDotDotToken,ts.Diagnostics.A_rest_parameter_must_be_last_in_a_parameter_list);if(ts.isBindingPattern(parameter.name))return grammarErrorOnNode(parameter.name,ts.Diagnostics.A_rest_element_cannot_contain_a_binding_pattern);if(parameter.questionToken)return grammarErrorOnNode(parameter.questionToken,ts.Diagnostics.A_rest_parameter_cannot_be_optional);if(parameter.initializer)return grammarErrorOnNode(parameter.name,ts.Diagnostics.A_rest_parameter_cannot_have_an_initializer)}else if(parameter.questionToken){if(seenOptionalParameter=!0,parameter.initializer)return grammarErrorOnNode(parameter.name,ts.Diagnostics.Parameter_cannot_have_question_mark_and_initializer)}else if(seenOptionalParameter&&!parameter.initializer)return grammarErrorOnNode(parameter.name,ts.Diagnostics.A_required_parameter_cannot_follow_an_optional_parameter)}}function checkGrammarFunctionLikeDeclaration(node){var file=ts.getSourceFileOfNode(node);return checkGrammarDecorators(node)||checkGrammarModifiers(node)||checkGrammarTypeParameterList(node,node.typeParameters,file)||checkGrammarParameterList(node.parameters)||checkGrammarArrowFunction(node,file)}function checkGrammarArrowFunction(node,file){if(180===node.kind){var arrowFunction=node,startLine=ts.getLineAndCharacterOfPosition(file,arrowFunction.equalsGreaterThanToken.pos).line,endLine=ts.getLineAndCharacterOfPosition(file,arrowFunction.equalsGreaterThanToken.end).line;if(startLine!==endLine)return grammarErrorOnNode(arrowFunction.equalsGreaterThanToken,ts.Diagnostics.Line_terminator_not_permitted_before_arrow)}return!1}function checkGrammarIndexSignatureParameters(node){var parameter=node.parameters[0];return 1!==node.parameters.length?parameter?grammarErrorOnNode(parameter.name,ts.Diagnostics.An_index_signature_must_have_exactly_one_parameter):grammarErrorOnNode(node,ts.Diagnostics.An_index_signature_must_have_exactly_one_parameter):parameter.dotDotDotToken?grammarErrorOnNode(parameter.dotDotDotToken,ts.Diagnostics.An_index_signature_cannot_have_a_rest_parameter):1023&parameter.flags?grammarErrorOnNode(parameter.name,ts.Diagnostics.An_index_signature_parameter_cannot_have_an_accessibility_modifier):parameter.questionToken?grammarErrorOnNode(parameter.questionToken,ts.Diagnostics.An_index_signature_parameter_cannot_have_a_question_mark):parameter.initializer?grammarErrorOnNode(parameter.name,ts.Diagnostics.An_index_signature_parameter_cannot_have_an_initializer):parameter.type?132!==parameter.type.kind&&130!==parameter.type.kind?grammarErrorOnNode(parameter.name,ts.Diagnostics.An_index_signature_parameter_type_must_be_string_or_number):node.type?void 0:grammarErrorOnNode(node,ts.Diagnostics.An_index_signature_must_have_a_type_annotation):grammarErrorOnNode(parameter.name,ts.Diagnostics.An_index_signature_parameter_must_have_a_type_annotation)}function checkGrammarIndexSignature(node){return checkGrammarDecorators(node)||checkGrammarModifiers(node)||checkGrammarIndexSignatureParameters(node)}function checkGrammarForAtLeastOneTypeArgument(node,typeArguments){if(typeArguments&&0===typeArguments.length){var sourceFile=ts.getSourceFileOfNode(node),start=typeArguments.pos-"<".length,end=ts.skipTrivia(sourceFile.text,typeArguments.end)+">".length;return grammarErrorAtPos(sourceFile,start,end-start,ts.Diagnostics.Type_argument_list_cannot_be_empty)}}function checkGrammarTypeArguments(node,typeArguments){return checkGrammarForDisallowedTrailingComma(typeArguments)||checkGrammarForAtLeastOneTypeArgument(node,typeArguments)}function checkGrammarForOmittedArgument(node,args){if(args)for(var sourceFile=ts.getSourceFileOfNode(node),_i=0,args_1=args;_i<args_1.length;_i++){var arg=args_1[_i];if(193===arg.kind)return grammarErrorAtPos(sourceFile,arg.pos,0,ts.Diagnostics.Argument_expression_expected)}}function checkGrammarArguments(node,args){return checkGrammarForOmittedArgument(node,args)}function checkGrammarHeritageClause(node){var types=node.types;if(checkGrammarForDisallowedTrailingComma(types))return!0;if(types&&0===types.length){var listType=ts.tokenToString(node.token),sourceFile=ts.getSourceFileOfNode(node);return grammarErrorAtPos(sourceFile,types.pos,0,ts.Diagnostics._0_list_cannot_be_empty,listType)}}function checkGrammarClassDeclarationHeritageClauses(node){var seenExtendsClause=!1,seenImplementsClause=!1;if(!checkGrammarDecorators(node)&&!checkGrammarModifiers(node)&&node.heritageClauses)for(var _i=0,_a=node.heritageClauses;_i<_a.length;_i++){var heritageClause=_a[_i];if(83===heritageClause.token){if(seenExtendsClause)return grammarErrorOnFirstToken(heritageClause,ts.Diagnostics.extends_clause_already_seen);if(seenImplementsClause)return grammarErrorOnFirstToken(heritageClause,ts.Diagnostics.extends_clause_must_precede_implements_clause);if(heritageClause.types.length>1)return grammarErrorOnFirstToken(heritageClause.types[1],ts.Diagnostics.Classes_can_only_extend_a_single_class);seenExtendsClause=!0}else{if(ts.Debug.assert(106===heritageClause.token),seenImplementsClause)return grammarErrorOnFirstToken(heritageClause,ts.Diagnostics.implements_clause_already_seen);seenImplementsClause=!0}checkGrammarHeritageClause(heritageClause)}}function checkGrammarInterfaceDeclaration(node){var seenExtendsClause=!1;if(node.heritageClauses)for(var _i=0,_a=node.heritageClauses;_i<_a.length;_i++){var heritageClause=_a[_i];if(83!==heritageClause.token)return ts.Debug.assert(106===heritageClause.token),grammarErrorOnFirstToken(heritageClause,ts.Diagnostics.Interface_declaration_cannot_have_implements_clause);if(seenExtendsClause)return grammarErrorOnFirstToken(heritageClause,ts.Diagnostics.extends_clause_already_seen);seenExtendsClause=!0,checkGrammarHeritageClause(heritageClause)}return!1}function checkGrammarComputedPropertyName(node){if(140!==node.kind)return!1;var computedPropertyName=node;return 187===computedPropertyName.expression.kind&&24===computedPropertyName.expression.operatorToken.kind?grammarErrorOnNode(computedPropertyName.expression,ts.Diagnostics.A_comma_expression_is_not_allowed_in_a_computed_property_name):void 0}function checkGrammarForGenerator(node){if(node.asteriskToken){if(ts.Debug.assert(220===node.kind||179===node.kind||147===node.kind),ts.isInAmbientContext(node))return grammarErrorOnNode(node.asteriskToken,ts.Diagnostics.Generators_are_not_allowed_in_an_ambient_context);if(!node.body)return grammarErrorOnNode(node.asteriskToken,ts.Diagnostics.An_overload_signature_cannot_be_declared_as_a_generator);if(2>languageVersion)return grammarErrorOnNode(node.asteriskToken,ts.Diagnostics.Generators_are_only_available_when_targeting_ECMAScript_2015_or_higher)}}function checkGrammarForInvalidQuestionMark(node,questionToken,message){return questionToken?grammarErrorOnNode(questionToken,message):void 0}function checkGrammarObjectLiteralExpression(node,inDestructuring){for(var seen=ts.createMap(),Property=1,GetAccessor=2,SetAccessor=4,GetOrSetAccessor=GetAccessor|SetAccessor,_loop_2=function(prop){var name_21=prop.name;if((193===prop.kind||140===name_21.kind)&&checkGrammarComputedPropertyName(name_21),254===prop.kind&&!inDestructuring&&prop.objectAssignmentInitializer)return{value:grammarErrorOnNode(prop.equalsToken,ts.Diagnostics.can_only_be_used_in_an_object_literal_property_inside_a_destructuring_assignment)};ts.forEach(prop.modifiers,function(mod){(118!==mod.kind||147!==prop.kind)&&grammarErrorOnNode(mod,ts.Diagnostics._0_modifier_cannot_be_used_here,ts.getTextOfNode(mod))});var currentKind=void 0;253===prop.kind||254===prop.kind?(checkGrammarForInvalidQuestionMark(prop,prop.questionToken,ts.Diagnostics.An_object_member_cannot_be_declared_optional),8===name_21.kind&&checkGrammarNumericLiteral(name_21),currentKind=Property):147===prop.kind?currentKind=Property:149===prop.kind?currentKind=GetAccessor:150===prop.kind?currentKind=SetAccessor:ts.Debug.fail("Unexpected syntax kind:"+prop.kind);var effectiveName=ts.getPropertyNameForPropertyNameNode(name_21);if(void 0===effectiveName)return"continue";if(seen[effectiveName]){var existingKind=seen[effectiveName];if(currentKind===Property&&existingKind===Property)grammarErrorOnNode(name_21,ts.Diagnostics.Duplicate_identifier_0,ts.getTextOfNode(name_21));else{if(!(currentKind&GetOrSetAccessor&&existingKind&GetOrSetAccessor))return{value:grammarErrorOnNode(name_21,ts.Diagnostics.An_object_literal_cannot_have_property_and_accessor_with_the_same_name)};if(existingKind===GetOrSetAccessor||currentKind===existingKind)return{value:grammarErrorOnNode(name_21,ts.Diagnostics.An_object_literal_cannot_have_multiple_get_Slashset_accessors_with_the_same_name)};seen[effectiveName]=currentKind|existingKind}}else seen[effectiveName]=currentKind},_i=0,_a=node.properties;_i<_a.length;_i++){var prop=_a[_i],state_3=_loop_2(prop);if("object"==typeof state_3)return state_3.value}}function checkGrammarJsxElement(node){for(var seen=ts.createMap(),_i=0,_a=node.attributes;_i<_a.length;_i++){var attr=_a[_i];if(247!==attr.kind){var jsxAttr=attr,name_22=jsxAttr.name;if(seen[name_22.text])return grammarErrorOnNode(name_22,ts.Diagnostics.JSX_elements_cannot_have_multiple_attributes_with_the_same_name);seen[name_22.text]=!0;var initializer=jsxAttr.initializer;if(initializer&&248===initializer.kind&&!initializer.expression)return grammarErrorOnNode(jsxAttr.initializer,ts.Diagnostics.JSX_attributes_must_only_be_assigned_a_non_empty_expression)}}}function checkGrammarForInOrForOfStatement(forInOrOfStatement){if(checkGrammarStatementInAmbientContext(forInOrOfStatement))return!0;if(219===forInOrOfStatement.initializer.kind){var variableList=forInOrOfStatement.initializer;if(!checkGrammarVariableDeclarationList(variableList)){var declarations=variableList.declarations;if(!declarations.length)return!1;if(declarations.length>1){var diagnostic=207===forInOrOfStatement.kind?ts.Diagnostics.Only_a_single_variable_declaration_is_allowed_in_a_for_in_statement:ts.Diagnostics.Only_a_single_variable_declaration_is_allowed_in_a_for_of_statement;return grammarErrorOnFirstToken(variableList.declarations[1],diagnostic)}var firstDeclaration=declarations[0];if(firstDeclaration.initializer){var diagnostic=207===forInOrOfStatement.kind?ts.Diagnostics.The_variable_declaration_of_a_for_in_statement_cannot_have_an_initializer:ts.Diagnostics.The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer;return grammarErrorOnNode(firstDeclaration.name,diagnostic)}if(firstDeclaration.type){var diagnostic=207===forInOrOfStatement.kind?ts.Diagnostics.The_left_hand_side_of_a_for_in_statement_cannot_use_a_type_annotation:ts.Diagnostics.The_left_hand_side_of_a_for_of_statement_cannot_use_a_type_annotation;return grammarErrorOnNode(firstDeclaration,diagnostic)}}}return!1}function checkGrammarAccessor(accessor){var kind=accessor.kind;if(1>languageVersion)return grammarErrorOnNode(accessor.name,ts.Diagnostics.Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher);if(ts.isInAmbientContext(accessor))return grammarErrorOnNode(accessor.name,ts.Diagnostics.An_accessor_cannot_be_declared_in_an_ambient_context);if(!(void 0!==accessor.body||128&accessor.flags))return grammarErrorAtPos(ts.getSourceFileOfNode(accessor),accessor.end-1,";".length,ts.Diagnostics._0_expected,"{");if(accessor.typeParameters)return grammarErrorOnNode(accessor.name,ts.Diagnostics.An_accessor_cannot_have_type_parameters);if(!doesAccessorHaveCorrectParameterCount(accessor))return grammarErrorOnNode(accessor.name,149===kind?ts.Diagnostics.A_get_accessor_cannot_have_parameters:ts.Diagnostics.A_set_accessor_must_have_exactly_one_parameter);if(150===kind){if(accessor.type)return grammarErrorOnNode(accessor.name,ts.Diagnostics.A_set_accessor_cannot_have_a_return_type_annotation);var parameter=accessor.parameters[0];if(parameter.dotDotDotToken)return grammarErrorOnNode(parameter.dotDotDotToken,ts.Diagnostics.A_set_accessor_cannot_have_rest_parameter);if(parameter.questionToken)return grammarErrorOnNode(parameter.questionToken,ts.Diagnostics.A_set_accessor_cannot_have_an_optional_parameter);if(parameter.initializer)return grammarErrorOnNode(accessor.name,ts.Diagnostics.A_set_accessor_parameter_cannot_have_an_initializer)}}function doesAccessorHaveCorrectParameterCount(accessor){return getAccessorThisParameter(accessor)||accessor.parameters.length===(149===accessor.kind?0:1)}function getAccessorThisParameter(accessor){return accessor.parameters.length===(149===accessor.kind?1:2)&&69===accessor.parameters[0].name.kind&&97===accessor.parameters[0].name.originalKeywordKind?accessor.parameters[0]:void 0}function getFunctionLikeThisParameter(func){return func.parameters.length&&69===func.parameters[0].name.kind&&97===func.parameters[0].name.originalKeywordKind?func.parameters[0]:void 0}function checkGrammarForNonSymbolComputedProperty(node,message){return ts.isDynamicName(node)?grammarErrorOnNode(node,message):void 0}function checkGrammarMethod(node){if(checkGrammarDisallowedModifiersOnObjectLiteralExpressionMethod(node)||checkGrammarFunctionLikeDeclaration(node)||checkGrammarForGenerator(node))return!0;if(171===node.parent.kind){if(checkGrammarForInvalidQuestionMark(node,node.questionToken,ts.Diagnostics.An_object_member_cannot_be_declared_optional))return!0;if(void 0===node.body)return grammarErrorAtPos(ts.getSourceFileOfNode(node),node.end-1,";".length,ts.Diagnostics._0_expected,"{")}if(ts.isClassLike(node.parent)){if(ts.isInAmbientContext(node))return checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_an_ambient_context_must_directly_refer_to_a_built_in_symbol);if(!node.body)return checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_a_method_overload_must_directly_refer_to_a_built_in_symbol)}else{if(222===node.parent.kind)return checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol);if(159===node.parent.kind)return checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol)}}function checkGrammarBreakOrContinueStatement(node){for(var current=node;current;){if(ts.isFunctionLike(current))return grammarErrorOnNode(node,ts.Diagnostics.Jump_target_cannot_cross_function_boundary);switch(current.kind){case 214:if(node.label&&current.label.text===node.label.text){var isMisplacedContinueLabel=209===node.kind&&!ts.isIterationStatement(current.statement,!0);return isMisplacedContinueLabel?grammarErrorOnNode(node,ts.Diagnostics.A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement):!1}break;case 213:if(210===node.kind&&!node.label)return!1;break;default:if(ts.isIterationStatement(current,!1)&&!node.label)return!1}current=current.parent}if(node.label){var message=210===node.kind?ts.Diagnostics.A_break_statement_can_only_jump_to_a_label_of_an_enclosing_statement:ts.Diagnostics.A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement;return grammarErrorOnNode(node,message)}var message=210===node.kind?ts.Diagnostics.A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement:ts.Diagnostics.A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement;return grammarErrorOnNode(node,message)}function checkGrammarBindingElement(node){if(node.dotDotDotToken){var elements=node.parent.elements;if(node!==ts.lastOrUndefined(elements))return grammarErrorOnNode(node,ts.Diagnostics.A_rest_element_must_be_last_in_an_array_destructuring_pattern);if(168===node.name.kind||167===node.name.kind)return grammarErrorOnNode(node.name,ts.Diagnostics.A_rest_element_cannot_contain_a_binding_pattern);if(node.initializer)return grammarErrorAtPos(ts.getSourceFileOfNode(node),node.initializer.pos-1,1,ts.Diagnostics.A_rest_element_cannot_have_an_initializer)}}function checkGrammarVariableDeclaration(node){if(207!==node.parent.parent.kind&&208!==node.parent.parent.kind)if(ts.isInAmbientContext(node)){if(node.initializer){var equalsTokenLength="=".length;return grammarErrorAtPos(ts.getSourceFileOfNode(node),node.initializer.pos-equalsTokenLength,equalsTokenLength,ts.Diagnostics.Initializers_are_not_allowed_in_ambient_contexts)}}else if(!node.initializer){if(ts.isBindingPattern(node.name)&&!ts.isBindingPattern(node.parent))return grammarErrorOnNode(node,ts.Diagnostics.A_destructuring_declaration_must_have_an_initializer);if(ts.isConst(node))return grammarErrorOnNode(node,ts.Diagnostics.const_declarations_must_be_initialized)}var checkLetConstNames=ts.isLet(node)||ts.isConst(node);return checkLetConstNames&&checkGrammarNameInLetOrConstDeclarations(node.name)}function checkGrammarNameInLetOrConstDeclarations(name){if(69===name.kind){if(108===name.originalKeywordKind)return grammarErrorOnNode(name,ts.Diagnostics.let_is_not_allowed_to_be_used_as_a_name_in_let_or_const_declarations)}else for(var elements=name.elements,_i=0,elements_2=elements;_i<elements_2.length;_i++){var element=elements_2[_i];193!==element.kind&&checkGrammarNameInLetOrConstDeclarations(element.name)}}function checkGrammarVariableDeclarationList(declarationList){var declarations=declarationList.declarations;return checkGrammarForDisallowedTrailingComma(declarationList.declarations)?!0:declarationList.declarations.length?void 0:grammarErrorAtPos(ts.getSourceFileOfNode(declarationList),declarations.pos,declarations.end-declarations.pos,ts.Diagnostics.Variable_declaration_list_cannot_be_empty)}function allowLetAndConstDeclarations(parent){switch(parent.kind){
case 203:case 204:case 205:case 212:case 206:case 207:case 208:return!1;case 214:return allowLetAndConstDeclarations(parent.parent)}return!0}function checkGrammarForDisallowedLetOrConstStatement(node){if(!allowLetAndConstDeclarations(node.parent)){if(ts.isLet(node.declarationList))return grammarErrorOnNode(node,ts.Diagnostics.let_declarations_can_only_be_declared_inside_a_block);if(ts.isConst(node.declarationList))return grammarErrorOnNode(node,ts.Diagnostics.const_declarations_can_only_be_declared_inside_a_block)}}function hasParseDiagnostics(sourceFile){return sourceFile.parseDiagnostics.length>0}function grammarErrorOnFirstToken(node,message,arg0,arg1,arg2){var sourceFile=ts.getSourceFileOfNode(node);if(!hasParseDiagnostics(sourceFile)){var span=ts.getSpanOfTokenAtPosition(sourceFile,node.pos);return diagnostics.add(ts.createFileDiagnostic(sourceFile,span.start,span.length,message,arg0,arg1,arg2)),!0}}function grammarErrorAtPos(sourceFile,start,length,message,arg0,arg1,arg2){return hasParseDiagnostics(sourceFile)?void 0:(diagnostics.add(ts.createFileDiagnostic(sourceFile,start,length,message,arg0,arg1,arg2)),!0)}function grammarErrorOnNode(node,message,arg0,arg1,arg2){var sourceFile=ts.getSourceFileOfNode(node);return hasParseDiagnostics(sourceFile)?void 0:(diagnostics.add(ts.createDiagnosticForNode(node,message,arg0,arg1,arg2)),!0)}function checkGrammarConstructorTypeParameters(node){return node.typeParameters?grammarErrorAtPos(ts.getSourceFileOfNode(node),node.typeParameters.pos,node.typeParameters.end-node.typeParameters.pos,ts.Diagnostics.Type_parameters_cannot_appear_on_a_constructor_declaration):void 0}function checkGrammarConstructorTypeAnnotation(node){return node.type?grammarErrorOnNode(node.type,ts.Diagnostics.Type_annotation_cannot_appear_on_a_constructor_declaration):void 0}function checkGrammarProperty(node){if(ts.isClassLike(node.parent)){if(checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_a_class_property_declaration_must_directly_refer_to_a_built_in_symbol))return!0}else if(222===node.parent.kind){if(checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol))return!0;if(node.initializer)return grammarErrorOnNode(node.initializer,ts.Diagnostics.An_interface_property_cannot_have_an_initializer)}else if(159===node.parent.kind){if(checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol))return!0;if(node.initializer)return grammarErrorOnNode(node.initializer,ts.Diagnostics.A_type_literal_property_cannot_have_an_initializer)}return ts.isInAmbientContext(node)&&node.initializer?grammarErrorOnFirstToken(node.initializer,ts.Diagnostics.Initializers_are_not_allowed_in_ambient_contexts):void 0}function checkGrammarTopLevelElementForRequiredDeclareModifier(node){return 222===node.kind||223===node.kind||230===node.kind||229===node.kind||236===node.kind||235===node.kind||228===node.kind||2&node.flags||513&node.flags?!1:grammarErrorOnFirstToken(node,ts.Diagnostics.A_declare_modifier_is_required_for_a_top_level_declaration_in_a_d_ts_file)}function checkGrammarTopLevelElementsForRequiredDeclareModifier(file){for(var _i=0,_a=file.statements;_i<_a.length;_i++){var decl=_a[_i];if((ts.isDeclaration(decl)||200===decl.kind)&&checkGrammarTopLevelElementForRequiredDeclareModifier(decl))return!0}}function checkGrammarSourceFile(node){return ts.isInAmbientContext(node)&&checkGrammarTopLevelElementsForRequiredDeclareModifier(node)}function checkGrammarStatementInAmbientContext(node){if(ts.isInAmbientContext(node)){if(isAccessor(node.parent.kind))return getNodeLinks(node).hasReportedStatementInAmbientContext=!0;var links=getNodeLinks(node);if(!links.hasReportedStatementInAmbientContext&&ts.isFunctionLike(node.parent))return getNodeLinks(node).hasReportedStatementInAmbientContext=grammarErrorOnFirstToken(node,ts.Diagnostics.An_implementation_cannot_be_declared_in_ambient_contexts);if(199===node.parent.kind||226===node.parent.kind||256===node.parent.kind){var links_1=getNodeLinks(node.parent);if(!links_1.hasReportedStatementInAmbientContext)return links_1.hasReportedStatementInAmbientContext=grammarErrorOnFirstToken(node,ts.Diagnostics.Statements_are_not_allowed_in_ambient_contexts)}}}function checkGrammarNumericLiteral(node){return node.isOctalLiteral&&languageVersion>=1?grammarErrorOnNode(node,ts.Diagnostics.Octal_literals_are_not_available_when_targeting_ECMAScript_5_and_higher):void 0}function grammarErrorAfterFirstToken(node,message,arg0,arg1,arg2){var sourceFile=ts.getSourceFileOfNode(node);if(!hasParseDiagnostics(sourceFile)){var span=ts.getSpanOfTokenAtPosition(sourceFile,node.pos);return diagnostics.add(ts.createFileDiagnostic(sourceFile,ts.textSpanEnd(span),0,message,arg0,arg1,arg2)),!0}}function getAmbientModules(){var result=[];for(var sym in globals)ambientModuleSymbolRegex.test(sym)&&result.push(globals[sym]);return result}var cancellationToken,Symbol=ts.objectAllocator.getSymbolConstructor(),Type=ts.objectAllocator.getTypeConstructor(),Signature=ts.objectAllocator.getSignatureConstructor(),typeCount=0,symbolCount=0,emptyArray=[],emptySymbols=ts.createMap(),compilerOptions=host.getCompilerOptions(),languageVersion=compilerOptions.target||0,modulekind=ts.getEmitModuleKind(compilerOptions),noUnusedIdentifiers=!!compilerOptions.noUnusedLocals||!!compilerOptions.noUnusedParameters,allowSyntheticDefaultImports="undefined"!=typeof compilerOptions.allowSyntheticDefaultImports?compilerOptions.allowSyntheticDefaultImports:modulekind===ts.ModuleKind.System,strictNullChecks=compilerOptions.strictNullChecks,emitResolver=createResolver(),undefinedSymbol=createSymbol(67108868,"undefined");undefinedSymbol.declarations=[];var argumentsSymbol=createSymbol(67108868,"arguments"),checker={getNodeCount:function(){return ts.sum(host.getSourceFiles(),"nodeCount")},getIdentifierCount:function(){return ts.sum(host.getSourceFiles(),"identifierCount")},getSymbolCount:function(){return ts.sum(host.getSourceFiles(),"symbolCount")+symbolCount},getTypeCount:function(){return typeCount},isUndefinedSymbol:function(symbol){return symbol===undefinedSymbol},isArgumentsSymbol:function(symbol){return symbol===argumentsSymbol},isUnknownSymbol:function(symbol){return symbol===unknownSymbol},getDiagnostics:getDiagnostics,getGlobalDiagnostics:getGlobalDiagnostics,getTypeOfSymbolAtLocation:getTypeOfSymbolAtLocation,getSymbolsOfParameterPropertyDeclaration:getSymbolsOfParameterPropertyDeclaration,getDeclaredTypeOfSymbol:getDeclaredTypeOfSymbol,getPropertiesOfType:getPropertiesOfType,getPropertyOfType:getPropertyOfType,getSignaturesOfType:getSignaturesOfType,getIndexTypeOfType:getIndexTypeOfType,getBaseTypes:getBaseTypes,getReturnTypeOfSignature:getReturnTypeOfSignature,getNonNullableType:getNonNullableType,getSymbolsInScope:getSymbolsInScope,getSymbolAtLocation:getSymbolAtLocation,getShorthandAssignmentValueSymbol:getShorthandAssignmentValueSymbol,getExportSpecifierLocalTargetSymbol:getExportSpecifierLocalTargetSymbol,getTypeAtLocation:getTypeOfNode,getPropertySymbolOfDestructuringAssignment:getPropertySymbolOfDestructuringAssignment,typeToString:typeToString,getSymbolDisplayBuilder:getSymbolDisplayBuilder,symbolToString:symbolToString,getAugmentedPropertiesOfType:getAugmentedPropertiesOfType,getRootSymbols:getRootSymbols,getContextualType:getContextualType,getFullyQualifiedName:getFullyQualifiedName,getResolvedSignature:getResolvedSignature,getConstantValue:getConstantValue,isValidPropertyAccess:isValidPropertyAccess,getSignatureFromDeclaration:getSignatureFromDeclaration,isImplementationOfOverload:isImplementationOfOverload,getAliasedSymbol:resolveAlias,getEmitResolver:getEmitResolver,getExportsOfModule:getExportsOfModuleAsArray,getAmbientModules:getAmbientModules,getJsxElementAttributesType:getJsxElementAttributesType,getJsxIntrinsicTagNames:getJsxIntrinsicTagNames,isOptionalParameter:isOptionalParameter},tupleTypes=[],unionTypes=ts.createMap(),intersectionTypes=ts.createMap(),stringLiteralTypes=ts.createMap(),numericLiteralTypes=ts.createMap(),unknownSymbol=createSymbol(67108868,"unknown"),resolvingSymbol=createSymbol(67108864,"__resolving__"),anyType=createIntrinsicType(1,"any"),unknownType=createIntrinsicType(1,"unknown"),undefinedType=createIntrinsicType(2048,"undefined"),undefinedWideningType=strictNullChecks?undefinedType:createIntrinsicType(33556480,"undefined"),nullType=createIntrinsicType(4096,"null"),nullWideningType=strictNullChecks?nullType:createIntrinsicType(33558528,"null"),stringType=createIntrinsicType(2,"string"),numberType=createIntrinsicType(4,"number"),trueType=createIntrinsicType(128,"true"),falseType=createIntrinsicType(128,"false"),booleanType=createBooleanType([trueType,falseType]),esSymbolType=createIntrinsicType(512,"symbol"),voidType=createIntrinsicType(1024,"void"),neverType=createIntrinsicType(8192,"never"),emptyObjectType=createAnonymousType(void 0,emptySymbols,emptyArray,emptyArray,void 0,void 0),emptyGenericType=createAnonymousType(void 0,emptySymbols,emptyArray,emptyArray,void 0,void 0);emptyGenericType.instantiations=ts.createMap();var anyFunctionType=createAnonymousType(void 0,emptySymbols,emptyArray,emptyArray,void 0,void 0);anyFunctionType.flags|=134217728;var patternAmbientModules,getGlobalESSymbolConstructorSymbol,getGlobalPromiseConstructorSymbol,globalObjectType,globalFunctionType,globalArrayType,globalReadonlyArrayType,globalStringType,globalNumberType,globalBooleanType,globalRegExpType,anyArrayType,anyReadonlyArrayType,getGlobalTemplateStringsArrayType,getGlobalESSymbolType,getGlobalIterableType,getGlobalIteratorType,getGlobalIterableIteratorType,getGlobalClassDecoratorType,getGlobalParameterDecoratorType,getGlobalPropertyDecoratorType,getGlobalMethodDecoratorType,getGlobalTypedPropertyDescriptorType,getGlobalPromiseType,tryGetGlobalPromiseType,getGlobalPromiseLikeType,getInstantiatedGlobalPromiseLikeType,getGlobalPromiseConstructorLikeType,getGlobalThenableType,jsxElementClassType,deferredNodes,deferredUnusedIdentifierNodes,TypeFacts,noConstraintType=createAnonymousType(void 0,emptySymbols,emptyArray,emptyArray,void 0,void 0),anySignature=createSignature(void 0,void 0,void 0,emptyArray,anyType,void 0,0,!1,!1),unknownSignature=createSignature(void 0,void 0,void 0,emptyArray,unknownType,void 0,0,!1,!1),resolvingSignature=createSignature(void 0,void 0,void 0,emptyArray,anyType,void 0,0,!1,!1),enumNumberIndexInfo=createIndexInfo(stringType,!0),globals=ts.createMap(),flowLoopStart=0,flowLoopCount=0,visitedFlowCount=0,emptyStringType=getLiteralTypeForText(32,""),zeroType=getLiteralTypeForText(64,"0"),resolutionTargets=[],resolutionResults=[],resolutionPropertyNames=[],mergedSymbols=[],symbolLinks=[],nodeLinks=[],flowLoopCaches=[],flowLoopNodes=[],flowLoopKeys=[],flowLoopTypes=[],visitedFlowNodes=[],visitedFlowTypes=[],potentialThisCollisions=[],awaitedTypeStack=[],diagnostics=ts.createDiagnosticCollection();!function(TypeFacts){TypeFacts[TypeFacts.None=0]="None",TypeFacts[TypeFacts.TypeofEQString=1]="TypeofEQString",TypeFacts[TypeFacts.TypeofEQNumber=2]="TypeofEQNumber",TypeFacts[TypeFacts.TypeofEQBoolean=4]="TypeofEQBoolean",TypeFacts[TypeFacts.TypeofEQSymbol=8]="TypeofEQSymbol",TypeFacts[TypeFacts.TypeofEQObject=16]="TypeofEQObject",TypeFacts[TypeFacts.TypeofEQFunction=32]="TypeofEQFunction",TypeFacts[TypeFacts.TypeofEQHostObject=64]="TypeofEQHostObject",TypeFacts[TypeFacts.TypeofNEString=128]="TypeofNEString",TypeFacts[TypeFacts.TypeofNENumber=256]="TypeofNENumber",TypeFacts[TypeFacts.TypeofNEBoolean=512]="TypeofNEBoolean",TypeFacts[TypeFacts.TypeofNESymbol=1024]="TypeofNESymbol",TypeFacts[TypeFacts.TypeofNEObject=2048]="TypeofNEObject",TypeFacts[TypeFacts.TypeofNEFunction=4096]="TypeofNEFunction",TypeFacts[TypeFacts.TypeofNEHostObject=8192]="TypeofNEHostObject",TypeFacts[TypeFacts.EQUndefined=16384]="EQUndefined",TypeFacts[TypeFacts.EQNull=32768]="EQNull",TypeFacts[TypeFacts.EQUndefinedOrNull=65536]="EQUndefinedOrNull",TypeFacts[TypeFacts.NEUndefined=131072]="NEUndefined",TypeFacts[TypeFacts.NENull=262144]="NENull",TypeFacts[TypeFacts.NEUndefinedOrNull=524288]="NEUndefinedOrNull",TypeFacts[TypeFacts.Truthy=1048576]="Truthy",TypeFacts[TypeFacts.Falsy=2097152]="Falsy",TypeFacts[TypeFacts.Discriminatable=4194304]="Discriminatable",TypeFacts[TypeFacts.All=8388607]="All",TypeFacts[TypeFacts.BaseStringStrictFacts=933633]="BaseStringStrictFacts",TypeFacts[TypeFacts.BaseStringFacts=3145473]="BaseStringFacts",TypeFacts[TypeFacts.StringStrictFacts=4079361]="StringStrictFacts",TypeFacts[TypeFacts.StringFacts=4194049]="StringFacts",TypeFacts[TypeFacts.EmptyStringStrictFacts=3030785]="EmptyStringStrictFacts",TypeFacts[TypeFacts.EmptyStringFacts=3145473]="EmptyStringFacts",TypeFacts[TypeFacts.NonEmptyStringStrictFacts=1982209]="NonEmptyStringStrictFacts",TypeFacts[TypeFacts.NonEmptyStringFacts=4194049]="NonEmptyStringFacts",TypeFacts[TypeFacts.BaseNumberStrictFacts=933506]="BaseNumberStrictFacts",TypeFacts[TypeFacts.BaseNumberFacts=3145346]="BaseNumberFacts",TypeFacts[TypeFacts.NumberStrictFacts=4079234]="NumberStrictFacts",TypeFacts[TypeFacts.NumberFacts=4193922]="NumberFacts",TypeFacts[TypeFacts.ZeroStrictFacts=3030658]="ZeroStrictFacts",TypeFacts[TypeFacts.ZeroFacts=3145346]="ZeroFacts",TypeFacts[TypeFacts.NonZeroStrictFacts=1982082]="NonZeroStrictFacts",TypeFacts[TypeFacts.NonZeroFacts=4193922]="NonZeroFacts",TypeFacts[TypeFacts.BaseBooleanStrictFacts=933252]="BaseBooleanStrictFacts",TypeFacts[TypeFacts.BaseBooleanFacts=3145092]="BaseBooleanFacts",TypeFacts[TypeFacts.BooleanStrictFacts=4078980]="BooleanStrictFacts",TypeFacts[TypeFacts.BooleanFacts=4193668]="BooleanFacts",TypeFacts[TypeFacts.FalseStrictFacts=3030404]="FalseStrictFacts",TypeFacts[TypeFacts.FalseFacts=3145092]="FalseFacts",TypeFacts[TypeFacts.TrueStrictFacts=1981828]="TrueStrictFacts",TypeFacts[TypeFacts.TrueFacts=4193668]="TrueFacts",TypeFacts[TypeFacts.SymbolStrictFacts=1981320]="SymbolStrictFacts",TypeFacts[TypeFacts.SymbolFacts=4193160]="SymbolFacts",TypeFacts[TypeFacts.ObjectStrictFacts=6166480]="ObjectStrictFacts",TypeFacts[TypeFacts.ObjectFacts=8378320]="ObjectFacts",TypeFacts[TypeFacts.FunctionStrictFacts=6164448]="FunctionStrictFacts",TypeFacts[TypeFacts.FunctionFacts=8376288]="FunctionFacts",TypeFacts[TypeFacts.UndefinedFacts=2457472]="UndefinedFacts",TypeFacts[TypeFacts.NullFacts=2340752]="NullFacts"}(TypeFacts||(TypeFacts={}));var jsxElementType,_displayBuilder,TypeSystemPropertyName,typeofEQFacts=ts.createMap({string:1,number:2,boolean:4,symbol:8,undefined:16384,object:16,function:32}),typeofNEFacts=ts.createMap({string:128,number:256,boolean:512,symbol:1024,undefined:131072,object:2048,function:4096}),typeofTypesByName=ts.createMap({string:stringType,number:numberType,boolean:booleanType,symbol:esSymbolType,undefined:undefinedType}),jsxTypes=ts.createMap(),JsxNames={JSX:"JSX",IntrinsicElements:"IntrinsicElements",ElementClass:"ElementClass",ElementAttributesPropertyNameContainer:"ElementAttributesProperty",Element:"Element",IntrinsicAttributes:"IntrinsicAttributes",IntrinsicClassAttributes:"IntrinsicClassAttributes"},subtypeRelation=ts.createMap(),assignableRelation=ts.createMap(),comparableRelation=ts.createMap(),identityRelation=ts.createMap(),enumRelation=ts.createMap();!function(TypeSystemPropertyName){TypeSystemPropertyName[TypeSystemPropertyName.Type=0]="Type",TypeSystemPropertyName[TypeSystemPropertyName.ResolvedBaseConstructorType=1]="ResolvedBaseConstructorType",TypeSystemPropertyName[TypeSystemPropertyName.DeclaredType=2]="DeclaredType",TypeSystemPropertyName[TypeSystemPropertyName.ResolvedReturnType=3]="ResolvedReturnType"}(TypeSystemPropertyName||(TypeSystemPropertyName={}));var builtinGlobals=ts.createMap();return builtinGlobals[undefinedSymbol.name]=undefinedSymbol,initializeTypeChecker(),checker}var ambientModuleSymbolRegex=/^".+"$/,nextSymbolId=1,nextNodeId=1,nextMergeId=1,nextFlowId=1;ts.getNodeId=getNodeId,ts.getSymbolId=getSymbolId,ts.createTypeChecker=createTypeChecker}(ts||(ts={}));var ts;!function(ts){function getNullSourceMapWriter(){return void 0===nullSourceMapWriter&&(nullSourceMapWriter={getSourceMapData:function(){return void 0},setSourceFile:function(sourceFile){},emitStart:function(range){},emitEnd:function(range,stopOverridingSpan){},emitPos:function(pos){},changeEmitSourcePos:function(){},getText:function(){return void 0},getSourceMappingURL:function(){return void 0},initialize:function(filePath,sourceMapFilePath,sourceFiles,isBundledEmit){},reset:function(){}}),nullSourceMapWriter}function createSourceMapWriter(host,writer){function initialize(filePath,sourceMapFilePath,sourceFiles,isBundledEmit){sourceMapData&&reset(),currentSourceFile=void 0,sourceMapSourceIndex=-1,lastRecordedSourceMapSpan=void 0,lastEncodedSourceMapSpan=defaultLastEncodedSourceMapSpan,lastEncodedNameIndex=0,sourceMapData={sourceMapFilePath:sourceMapFilePath,jsSourceMappingURL:compilerOptions.inlineSourceMap?void 0:ts.getBaseFileName(ts.normalizeSlashes(sourceMapFilePath)),sourceMapFile:ts.getBaseFileName(ts.normalizeSlashes(filePath)),sourceMapSourceRoot:compilerOptions.sourceRoot||"",sourceMapSources:[],inputSourceFileNames:[],sourceMapNames:[],sourceMapMappings:"",sourceMapSourcesContent:compilerOptions.inlineSources?[]:void 0,sourceMapDecodedMappings:[]},sourceMapData.sourceMapSourceRoot=ts.normalizeSlashes(sourceMapData.sourceMapSourceRoot),sourceMapData.sourceMapSourceRoot.length&&47!==sourceMapData.sourceMapSourceRoot.charCodeAt(sourceMapData.sourceMapSourceRoot.length-1)&&(sourceMapData.sourceMapSourceRoot+=ts.directorySeparator),compilerOptions.mapRoot?(sourceMapDir=ts.normalizeSlashes(compilerOptions.mapRoot),isBundledEmit||(ts.Debug.assert(1===sourceFiles.length),sourceMapDir=ts.getDirectoryPath(ts.getSourceFilePathInNewDir(sourceFiles[0],host,sourceMapDir))),ts.isRootedDiskPath(sourceMapDir)||ts.isUrl(sourceMapDir)?sourceMapData.jsSourceMappingURL=ts.combinePaths(sourceMapDir,sourceMapData.jsSourceMappingURL):(sourceMapDir=ts.combinePaths(host.getCommonSourceDirectory(),sourceMapDir),sourceMapData.jsSourceMappingURL=ts.getRelativePathToDirectoryOrUrl(ts.getDirectoryPath(ts.normalizePath(filePath)),ts.combinePaths(sourceMapDir,sourceMapData.jsSourceMappingURL),host.getCurrentDirectory(),host.getCanonicalFileName,!0))):sourceMapDir=ts.getDirectoryPath(ts.normalizePath(filePath))}function reset(){currentSourceFile=void 0,sourceMapDir=void 0,sourceMapSourceIndex=void 0,lastRecordedSourceMapSpan=void 0,lastEncodedSourceMapSpan=void 0,lastEncodedNameIndex=void 0,sourceMapData=void 0}function updateLastEncodedAndRecordedSpans(){if(modifyLastSourcePos){modifyLastSourcePos=!1,lastRecordedSourceMapSpan.emittedLine=lastEncodedSourceMapSpan.emittedLine,lastRecordedSourceMapSpan.emittedColumn=lastEncodedSourceMapSpan.emittedColumn,sourceMapData.sourceMapDecodedMappings.pop(),lastEncodedSourceMapSpan=sourceMapData.sourceMapDecodedMappings.length?sourceMapData.sourceMapDecodedMappings[sourceMapData.sourceMapDecodedMappings.length-1]:defaultLastEncodedSourceMapSpan;for(var sourceMapMappings=sourceMapData.sourceMapMappings,lenthToSet=sourceMapMappings.length-1;lenthToSet>=0;lenthToSet--){var currentChar=sourceMapMappings.charAt(lenthToSet);if(","===currentChar)break;if(";"===currentChar&&0!==lenthToSet&&";"!==sourceMapMappings.charAt(lenthToSet-1))break}sourceMapData.sourceMapMappings=sourceMapMappings.substr(0,Math.max(0,lenthToSet))}}function encodeLastRecordedSourceMapSpan(){if(lastRecordedSourceMapSpan&&lastRecordedSourceMapSpan!==lastEncodedSourceMapSpan){var prevEncodedEmittedColumn=lastEncodedSourceMapSpan.emittedColumn;if(lastEncodedSourceMapSpan.emittedLine===lastRecordedSourceMapSpan.emittedLine)sourceMapData.sourceMapMappings&&(sourceMapData.sourceMapMappings+=",");else{for(var encodedLine=lastEncodedSourceMapSpan.emittedLine;encodedLine<lastRecordedSourceMapSpan.emittedLine;encodedLine++)sourceMapData.sourceMapMappings+=";";prevEncodedEmittedColumn=1}sourceMapData.sourceMapMappings+=base64VLQFormatEncode(lastRecordedSourceMapSpan.emittedColumn-prevEncodedEmittedColumn),sourceMapData.sourceMapMappings+=base64VLQFormatEncode(lastRecordedSourceMapSpan.sourceIndex-lastEncodedSourceMapSpan.sourceIndex),sourceMapData.sourceMapMappings+=base64VLQFormatEncode(lastRecordedSourceMapSpan.sourceLine-lastEncodedSourceMapSpan.sourceLine),sourceMapData.sourceMapMappings+=base64VLQFormatEncode(lastRecordedSourceMapSpan.sourceColumn-lastEncodedSourceMapSpan.sourceColumn),lastRecordedSourceMapSpan.nameIndex>=0&&(ts.Debug.assert(!1,"We do not support name index right now, Make sure to update updateLastEncodedAndRecordedSpans when we start using this"),sourceMapData.sourceMapMappings+=base64VLQFormatEncode(lastRecordedSourceMapSpan.nameIndex-lastEncodedNameIndex),lastEncodedNameIndex=lastRecordedSourceMapSpan.nameIndex),lastEncodedSourceMapSpan=lastRecordedSourceMapSpan,sourceMapData.sourceMapDecodedMappings.push(lastEncodedSourceMapSpan)}}function emitPos(pos){if(-1!==pos){extendedDiagnostics&&ts.performance.mark("beforeSourcemap");var sourceLinePos=ts.getLineAndCharacterOfPosition(currentSourceFile,pos);sourceLinePos.line++,sourceLinePos.character++;var emittedLine=writer.getLine(),emittedColumn=writer.getColumn();!lastRecordedSourceMapSpan||lastRecordedSourceMapSpan.emittedLine!==emittedLine||lastRecordedSourceMapSpan.emittedColumn!==emittedColumn||lastRecordedSourceMapSpan.sourceIndex===sourceMapSourceIndex&&(lastRecordedSourceMapSpan.sourceLine>sourceLinePos.line||lastRecordedSourceMapSpan.sourceLine===sourceLinePos.line&&lastRecordedSourceMapSpan.sourceColumn>sourceLinePos.character)?(encodeLastRecordedSourceMapSpan(),lastRecordedSourceMapSpan={emittedLine:emittedLine,emittedColumn:emittedColumn,sourceLine:sourceLinePos.line,sourceColumn:sourceLinePos.character,sourceIndex:sourceMapSourceIndex},stopOverridingSpan=!1):stopOverridingSpan||(lastRecordedSourceMapSpan.sourceLine=sourceLinePos.line,lastRecordedSourceMapSpan.sourceColumn=sourceLinePos.character,lastRecordedSourceMapSpan.sourceIndex=sourceMapSourceIndex),updateLastEncodedAndRecordedSpans(),extendedDiagnostics&&(ts.performance.mark("afterSourcemap"),ts.performance.measure("Source Map","beforeSourcemap","afterSourcemap"))}}function getStartPos(range){var rangeHasDecorators=!!range.decorators;return-1!==range.pos?ts.skipTrivia(currentSourceFile.text,rangeHasDecorators?range.decorators.end:range.pos):-1}function emitStart(range){emitPos(getStartPos(range))}function emitEnd(range,stopOverridingEnd){emitPos(range.end),stopOverridingSpan=stopOverridingEnd}function changeEmitSourcePos(){ts.Debug.assert(!modifyLastSourcePos),modifyLastSourcePos=!0}function setSourceFile(sourceFile){currentSourceFile=sourceFile;var sourcesDirectoryPath=compilerOptions.sourceRoot?host.getCommonSourceDirectory():sourceMapDir,source=ts.getRelativePathToDirectoryOrUrl(sourcesDirectoryPath,currentSourceFile.fileName,host.getCurrentDirectory(),host.getCanonicalFileName,!0);sourceMapSourceIndex=ts.indexOf(sourceMapData.sourceMapSources,source),-1===sourceMapSourceIndex&&(sourceMapSourceIndex=sourceMapData.sourceMapSources.length,sourceMapData.sourceMapSources.push(source),sourceMapData.inputSourceFileNames.push(sourceFile.fileName),compilerOptions.inlineSources&&sourceMapData.sourceMapSourcesContent.push(sourceFile.text))}function getText(){return encodeLastRecordedSourceMapSpan(),ts.stringify({version:3,file:sourceMapData.sourceMapFile,sourceRoot:sourceMapData.sourceMapSourceRoot,sources:sourceMapData.sourceMapSources,names:sourceMapData.sourceMapNames,mappings:sourceMapData.sourceMapMappings,sourcesContent:sourceMapData.sourceMapSourcesContent})}function getSourceMappingURL(){if(compilerOptions.inlineSourceMap){var base64SourceMapText=ts.convertToBase64(getText());return sourceMapData.jsSourceMappingURL="data:application/json;base64,"+base64SourceMapText}return sourceMapData.jsSourceMappingURL}var currentSourceFile,sourceMapDir,sourceMapSourceIndex,lastRecordedSourceMapSpan,lastEncodedSourceMapSpan,lastEncodedNameIndex,sourceMapData,compilerOptions=host.getCompilerOptions(),extendedDiagnostics=compilerOptions.extendedDiagnostics,stopOverridingSpan=!1,modifyLastSourcePos=!1;return{getSourceMapData:function(){return sourceMapData},setSourceFile:setSourceFile,emitPos:emitPos,emitStart:emitStart,emitEnd:emitEnd,changeEmitSourcePos:changeEmitSourcePos,getText:getText,getSourceMappingURL:getSourceMappingURL,initialize:initialize,reset:reset}}function base64FormatEncode(inValue){if(64>inValue)return base64Chars.charAt(inValue);throw TypeError(inValue+": not a 64 based value")}function base64VLQFormatEncode(inValue){0>inValue?inValue=(-inValue<<1)+1:inValue<<=1;var encodedStr="";do{var currentDigit=31&inValue;inValue>>=5,inValue>0&&(currentDigit=32|currentDigit),encodedStr+=base64FormatEncode(currentDigit)}while(inValue>0);return encodedStr}var nullSourceMapWriter,defaultLastEncodedSourceMapSpan={emittedLine:1,emittedColumn:1,sourceLine:1,sourceColumn:1,sourceIndex:0};ts.getNullSourceMapWriter=getNullSourceMapWriter,ts.createSourceMapWriter=createSourceMapWriter;var base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"}(ts||(ts={}));var ts;!function(ts){function getDeclarationDiagnostics(host,resolver,targetSourceFile){function getDeclarationDiagnosticsFromFile(_a,sources,isBundledEmit){var declarationFilePath=_a.declarationFilePath;emitDeclarations(host,resolver,declarationDiagnostics,declarationFilePath,sources,isBundledEmit,!1)}var declarationDiagnostics=ts.createDiagnosticCollection();return ts.forEachExpectedEmitFile(host,getDeclarationDiagnosticsFromFile,targetSourceFile),declarationDiagnostics.getDiagnostics(targetSourceFile?targetSourceFile.fileName:void 0)}function emitDeclarations(host,resolver,emitterDiagnostics,declarationFilePath,sourceFiles,isBundledEmit,emitOnlyDtsFiles){function hasInternalAnnotation(range){var comment=currentText.substring(range.pos,range.end);return comment.indexOf("@internal")>=0}function stripInternal(node){if(node){var leadingCommentRanges=ts.getLeadingCommentRanges(currentText,node.pos);if(ts.forEach(leadingCommentRanges,hasInternalAnnotation))return;emitNode(node)}}function createAndSetNewTextWriterWithSymbolWriter(){var writer=ts.createTextWriter(newLine);writer.trackSymbol=trackSymbol,writer.reportInaccessibleThisError=reportInaccessibleThisError,writer.writeKeyword=writer.write,writer.writeOperator=writer.write,writer.writePunctuation=writer.write,writer.writeSpace=writer.write,writer.writeStringLiteral=writer.writeLiteral,writer.writeParameter=writer.write,writer.writeSymbol=writer.write,setWriter(writer)}function setWriter(newWriter){writer=newWriter,write=newWriter.write,writeTextOfNode=newWriter.writeTextOfNode,writeLine=newWriter.writeLine,increaseIndent=newWriter.increaseIndent,decreaseIndent=newWriter.decreaseIndent}function writeAsynchronousModuleElements(nodes){var oldWriter=writer;ts.forEach(nodes,function(declaration){var nodeToCheck;218===declaration.kind?nodeToCheck=declaration.parent.parent:233===declaration.kind||234===declaration.kind||231===declaration.kind?ts.Debug.fail("We should be getting ImportDeclaration instead to write"):nodeToCheck=declaration;var moduleElementEmitInfo=ts.forEach(moduleElementDeclarationEmitInfo,function(declEmitInfo){return declEmitInfo.node===nodeToCheck?declEmitInfo:void 0});if(!moduleElementEmitInfo&&asynchronousSubModuleDeclarationEmitInfo&&(moduleElementEmitInfo=ts.forEach(asynchronousSubModuleDeclarationEmitInfo,function(declEmitInfo){return declEmitInfo.node===nodeToCheck?declEmitInfo:void 0})),moduleElementEmitInfo)if(230===moduleElementEmitInfo.node.kind)moduleElementEmitInfo.isVisible=!0;else{createAndSetNewTextWriterWithSymbolWriter();for(var declarationIndent=moduleElementEmitInfo.indent;declarationIndent;declarationIndent--)increaseIndent();225===nodeToCheck.kind&&(ts.Debug.assert(void 0===asynchronousSubModuleDeclarationEmitInfo),asynchronousSubModuleDeclarationEmitInfo=[]),writeModuleElement(nodeToCheck),225===nodeToCheck.kind&&(moduleElementEmitInfo.subModuleElementDeclarationEmitInfo=asynchronousSubModuleDeclarationEmitInfo,asynchronousSubModuleDeclarationEmitInfo=void 0),moduleElementEmitInfo.asynchronousOutput=writer.getText()}}),setWriter(oldWriter)}function recordTypeReferenceDirectivesIfNecessary(typeReferenceDirectives){if(typeReferenceDirectives){usedTypeDirectiveReferences||(usedTypeDirectiveReferences=ts.createMap());for(var _i=0,typeReferenceDirectives_1=typeReferenceDirectives;_i<typeReferenceDirectives_1.length;_i++){var directive=typeReferenceDirectives_1[_i];directive in usedTypeDirectiveReferences||(usedTypeDirectiveReferences[directive]=directive)}}}function handleSymbolAccessibilityError(symbolAccessibilityResult){if(0===symbolAccessibilityResult.accessibility)symbolAccessibilityResult&&symbolAccessibilityResult.aliasesToMakeVisible&&writeAsynchronousModuleElements(symbolAccessibilityResult.aliasesToMakeVisible);else{reportedDeclarationError=!0;var errorInfo=writer.getSymbolAccessibilityDiagnostic(symbolAccessibilityResult);errorInfo&&(errorInfo.typeName?emitterDiagnostics.add(ts.createDiagnosticForNode(symbolAccessibilityResult.errorNode||errorInfo.errorNode,errorInfo.diagnosticMessage,ts.getTextOfNodeFromSourceText(currentText,errorInfo.typeName),symbolAccessibilityResult.errorSymbolName,symbolAccessibilityResult.errorModuleName)):emitterDiagnostics.add(ts.createDiagnosticForNode(symbolAccessibilityResult.errorNode||errorInfo.errorNode,errorInfo.diagnosticMessage,symbolAccessibilityResult.errorSymbolName,symbolAccessibilityResult.errorModuleName)))}}function trackSymbol(symbol,enclosingDeclaration,meaning){handleSymbolAccessibilityError(resolver.isSymbolAccessible(symbol,enclosingDeclaration,meaning,!0)),recordTypeReferenceDirectivesIfNecessary(resolver.getTypeReferenceDirectivesForSymbol(symbol,meaning))}function reportInaccessibleThisError(){errorNameNode&&(reportedDeclarationError=!0,emitterDiagnostics.add(ts.createDiagnosticForNode(errorNameNode,ts.Diagnostics.The_inferred_type_of_0_references_an_inaccessible_this_type_A_type_annotation_is_necessary,ts.declarationNameToString(errorNameNode))))}function writeTypeOfDeclaration(declaration,type,getSymbolAccessibilityDiagnostic){writer.getSymbolAccessibilityDiagnostic=getSymbolAccessibilityDiagnostic,write(": "),type?emitType(type):(errorNameNode=declaration.name,resolver.writeTypeOfDeclaration(declaration,enclosingDeclaration,2,writer),errorNameNode=void 0)}function writeReturnTypeAtSignature(signature,getSymbolAccessibilityDiagnostic){writer.getSymbolAccessibilityDiagnostic=getSymbolAccessibilityDiagnostic,write(": "),signature.type?emitType(signature.type):(errorNameNode=signature.name,resolver.writeReturnTypeOfSignatureDeclaration(signature,enclosingDeclaration,2,writer),errorNameNode=void 0)}function emitLines(nodes){for(var _i=0,nodes_2=nodes;_i<nodes_2.length;_i++){var node=nodes_2[_i];emit(node)}}function emitSeparatedList(nodes,separator,eachNodeEmitFn,canEmitFn){for(var currentWriterPos=writer.getTextPos(),_i=0,nodes_3=nodes;_i<nodes_3.length;_i++){var node=nodes_3[_i];(!canEmitFn||canEmitFn(node))&&(currentWriterPos!==writer.getTextPos()&&write(separator),currentWriterPos=writer.getTextPos(),eachNodeEmitFn(node))}}function emitCommaList(nodes,eachNodeEmitFn,canEmitFn){emitSeparatedList(nodes,", ",eachNodeEmitFn,canEmitFn)}function writeJsDocComments(declaration){if(declaration){var jsDocComments=ts.getJsDocCommentsFromText(declaration,currentText);ts.emitNewLineBeforeLeadingComments(currentLineMap,writer,declaration,jsDocComments),ts.emitComments(currentText,currentLineMap,writer,jsDocComments,!0,newLine,ts.writeCommentRange)}}function emitTypeWithNewGetSymbolAccessibilityDiagnostic(type,getSymbolAccessibilityDiagnostic){writer.getSymbolAccessibilityDiagnostic=getSymbolAccessibilityDiagnostic,emitType(type)}function emitType(type){function writeEntityName(entityName){
if(69===entityName.kind)writeTextOfNode(currentText,entityName);else{var left=139===entityName.kind?entityName.left:entityName.expression,right=139===entityName.kind?entityName.right:entityName.name;writeEntityName(left),write("."),writeTextOfNode(currentText,right)}}function emitEntityName(entityName){var visibilityResult=resolver.isEntityNameVisible(entityName,229===entityName.parent.kind?entityName.parent:enclosingDeclaration);handleSymbolAccessibilityError(visibilityResult),recordTypeReferenceDirectivesIfNecessary(resolver.getTypeReferenceDirectivesForEntityName(entityName)),writeEntityName(entityName)}function emitExpressionWithTypeArguments(node){ts.isEntityNameExpression(node.expression)&&(ts.Debug.assert(69===node.expression.kind||172===node.expression.kind),emitEntityName(node.expression),node.typeArguments&&(write("<"),emitCommaList(node.typeArguments,emitType),write(">")))}function emitTypeReference(type){emitEntityName(type.typeName),type.typeArguments&&(write("<"),emitCommaList(type.typeArguments,emitType),write(">"))}function emitTypePredicate(type){writeTextOfNode(currentText,type.parameterName),write(" is "),emitType(type.type)}function emitTypeQuery(type){write("typeof "),emitEntityName(type.exprName)}function emitArrayType(type){emitType(type.elementType),write("[]")}function emitTupleType(type){write("["),emitCommaList(type.elementTypes,emitType),write("]")}function emitUnionType(type){emitSeparatedList(type.types," | ",emitType)}function emitIntersectionType(type){emitSeparatedList(type.types," & ",emitType)}function emitParenType(type){write("("),emitType(type.type),write(")")}function emitTypeLiteral(type){write("{"),type.members.length&&(writeLine(),increaseIndent(),emitLines(type.members),decreaseIndent()),write("}")}switch(type.kind){case 117:case 132:case 130:case 120:case 133:case 103:case 135:case 93:case 127:case 165:case 166:return writeTextOfNode(currentText,type);case 194:return emitExpressionWithTypeArguments(type);case 155:return emitTypeReference(type);case 158:return emitTypeQuery(type);case 160:return emitArrayType(type);case 161:return emitTupleType(type);case 162:return emitUnionType(type);case 163:return emitIntersectionType(type);case 164:return emitParenType(type);case 156:case 157:return emitSignatureDeclarationWithJsDocComments(type);case 159:return emitTypeLiteral(type);case 69:return emitEntityName(type);case 139:return emitEntityName(type);case 154:return emitTypePredicate(type)}}function emitSourceFile(node){currentText=node.text,currentLineMap=ts.getLineStarts(node),currentIdentifiers=node.identifiers,isCurrentFileExternalModule=ts.isExternalModule(node),enclosingDeclaration=node,ts.emitDetachedComments(currentText,currentLineMap,writer,ts.writeCommentRange,node,newLine,!0),emitLines(node.statements)}function getExportDefaultTempVariableName(){var baseName="_default";if(!(baseName in currentIdentifiers))return baseName;for(var count=0;;){count++;var name_23=baseName+"_"+count;if(!(name_23 in currentIdentifiers))return name_23}}function emitExportAssignment(node){function getDefaultExportAccessibilityDiagnostic(diagnostic){return{diagnosticMessage:ts.Diagnostics.Default_export_of_the_module_has_or_is_using_private_name_0,errorNode:node}}if(69===node.expression.kind)write(node.isExportEquals?"export = ":"export default "),writeTextOfNode(currentText,node.expression);else{var tempVarName=getExportDefaultTempVariableName();noDeclare||write("declare "),write("var "),write(tempVarName),write(": "),writer.getSymbolAccessibilityDiagnostic=getDefaultExportAccessibilityDiagnostic,resolver.writeTypeOfExpression(node.expression,enclosingDeclaration,2,writer),write(";"),writeLine(),write(node.isExportEquals?"export = ":"export default "),write(tempVarName)}if(write(";"),writeLine(),69===node.expression.kind){var nodes=resolver.collectLinkedAliases(node.expression);writeAsynchronousModuleElements(nodes)}}function isModuleElementVisible(node){return resolver.isDeclarationVisible(node)}function emitModuleElement(node,isModuleElementVisible){if(isModuleElementVisible)writeModuleElement(node);else if(229===node.kind||256===node.parent.kind&&isCurrentFileExternalModule){var isVisible=void 0;if(asynchronousSubModuleDeclarationEmitInfo&&256!==node.parent.kind)asynchronousSubModuleDeclarationEmitInfo.push({node:node,outputPos:writer.getTextPos(),indent:writer.getIndent(),isVisible:isVisible});else{if(230===node.kind){var importDeclaration=node;importDeclaration.importClause&&(isVisible=importDeclaration.importClause.name&&resolver.isDeclarationVisible(importDeclaration.importClause)||isVisibleNamedBinding(importDeclaration.importClause.namedBindings))}moduleElementDeclarationEmitInfo.push({node:node,outputPos:writer.getTextPos(),indent:writer.getIndent(),isVisible:isVisible})}}}function writeModuleElement(node){switch(node.kind){case 220:return writeFunctionDeclaration(node);case 200:return writeVariableStatement(node);case 222:return writeInterfaceDeclaration(node);case 221:return writeClassDeclaration(node);case 223:return writeTypeAliasDeclaration(node);case 224:return writeEnumDeclaration(node);case 225:return writeModuleDeclaration(node);case 229:return writeImportEqualsDeclaration(node);case 230:return writeImportDeclaration(node);default:ts.Debug.fail("Unknown symbol kind")}}function emitModuleElementDeclarationFlags(node){256===node.parent.kind&&(1&node.flags&&write("export "),512&node.flags?write("default "):222===node.kind||noDeclare||write("declare "))}function emitClassMemberDeclarationFlags(flags){8&flags?write("private "):16&flags&&write("protected "),32&flags&&write("static "),64&flags&&write("readonly "),128&flags&&write("abstract ")}function writeImportEqualsDeclaration(node){function getImportEntityNameVisibilityError(symbolAccessibilityResult){return{diagnosticMessage:ts.Diagnostics.Import_declaration_0_is_using_private_name_1,errorNode:node,typeName:node.name}}emitJsDocComments(node),1&node.flags&&write("export "),write("import "),writeTextOfNode(currentText,node.name),write(" = "),ts.isInternalModuleImportEqualsDeclaration(node)?(emitTypeWithNewGetSymbolAccessibilityDiagnostic(node.moduleReference,getImportEntityNameVisibilityError),write(";")):(write("require("),emitExternalModuleSpecifier(node),write(");")),writer.writeLine()}function isVisibleNamedBinding(namedBindings){return namedBindings?232===namedBindings.kind?resolver.isDeclarationVisible(namedBindings):ts.forEach(namedBindings.elements,function(namedImport){return resolver.isDeclarationVisible(namedImport)}):void 0}function writeImportDeclaration(node){if(emitJsDocComments(node),1&node.flags&&write("export "),write("import "),node.importClause){var currentWriterPos=writer.getTextPos();node.importClause.name&&resolver.isDeclarationVisible(node.importClause)&&writeTextOfNode(currentText,node.importClause.name),node.importClause.namedBindings&&isVisibleNamedBinding(node.importClause.namedBindings)&&(currentWriterPos!==writer.getTextPos()&&write(", "),232===node.importClause.namedBindings.kind?(write("* as "),writeTextOfNode(currentText,node.importClause.namedBindings.name)):(write("{ "),emitCommaList(node.importClause.namedBindings.elements,emitImportOrExportSpecifier,resolver.isDeclarationVisible),write(" }"))),write(" from ")}emitExternalModuleSpecifier(node),write(";"),writer.writeLine()}function emitExternalModuleSpecifier(parent){resultHasExternalModuleIndicator=resultHasExternalModuleIndicator||225!==parent.kind;var moduleSpecifier;if(229===parent.kind){var node=parent;moduleSpecifier=ts.getExternalModuleImportEqualsDeclarationExpression(node)}else if(225===parent.kind)moduleSpecifier=parent.name;else{var node=parent;moduleSpecifier=node.moduleSpecifier}if(9===moduleSpecifier.kind&&isBundledEmit&&(compilerOptions.out||compilerOptions.outFile)){var moduleName=ts.getExternalModuleNameFromDeclaration(host,resolver,parent);if(moduleName)return write('"'),write(moduleName),void write('"')}writeTextOfNode(currentText,moduleSpecifier)}function emitImportOrExportSpecifier(node){node.propertyName&&(writeTextOfNode(currentText,node.propertyName),write(" as ")),writeTextOfNode(currentText,node.name)}function emitExportSpecifier(node){emitImportOrExportSpecifier(node);var nodes=resolver.collectLinkedAliases(node.propertyName||node.name);writeAsynchronousModuleElements(nodes)}function emitExportDeclaration(node){emitJsDocComments(node),write("export "),node.exportClause?(write("{ "),emitCommaList(node.exportClause.elements,emitExportSpecifier),write(" }")):write("*"),node.moduleSpecifier&&(write(" from "),emitExternalModuleSpecifier(node)),write(";"),writer.writeLine()}function writeModuleDeclaration(node){for(emitJsDocComments(node),emitModuleElementDeclarationFlags(node),ts.isGlobalScopeAugmentation(node)?write("global "):(write(4096&node.flags?"namespace ":"module "),ts.isExternalModuleAugmentation(node)?emitExternalModuleSpecifier(node):writeTextOfNode(currentText,node.name));node.body&&226!==node.body.kind;)node=node.body,write("."),writeTextOfNode(currentText,node.name);var prevEnclosingDeclaration=enclosingDeclaration;node.body?(enclosingDeclaration=node,write(" {"),writeLine(),increaseIndent(),emitLines(node.body.statements),decreaseIndent(),write("}"),writeLine(),enclosingDeclaration=prevEnclosingDeclaration):write(";")}function writeTypeAliasDeclaration(node){function getTypeAliasDeclarationVisibilityError(symbolAccessibilityResult){return{diagnosticMessage:ts.Diagnostics.Exported_type_alias_0_has_or_is_using_private_name_1,errorNode:node.type,typeName:node.name}}var prevEnclosingDeclaration=enclosingDeclaration;enclosingDeclaration=node,emitJsDocComments(node),emitModuleElementDeclarationFlags(node),write("type "),writeTextOfNode(currentText,node.name),emitTypeParameters(node.typeParameters),write(" = "),emitTypeWithNewGetSymbolAccessibilityDiagnostic(node.type,getTypeAliasDeclarationVisibilityError),write(";"),writeLine(),enclosingDeclaration=prevEnclosingDeclaration}function writeEnumDeclaration(node){emitJsDocComments(node),emitModuleElementDeclarationFlags(node),ts.isConst(node)&&write("const "),write("enum "),writeTextOfNode(currentText,node.name),write(" {"),writeLine(),increaseIndent(),emitLines(node.members),decreaseIndent(),write("}"),writeLine()}function emitEnumMemberDeclaration(node){emitJsDocComments(node),writeTextOfNode(currentText,node.name);var enumMemberValue=resolver.getConstantValue(node);void 0!==enumMemberValue&&(write(" = "),write(enumMemberValue.toString())),write(","),writeLine()}function isPrivateMethodTypeParameter(node){return 147===node.parent.kind&&8&node.parent.flags}function emitTypeParameters(typeParameters){function emitTypeParameter(node){function getTypeParameterConstraintVisibilityError(symbolAccessibilityResult){var diagnosticMessage;switch(node.parent.kind){case 221:diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_exported_class_has_or_is_using_private_name_1;break;case 222:diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_exported_interface_has_or_is_using_private_name_1;break;case 152:diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1;break;case 151:diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1;break;case 147:case 146:diagnosticMessage=32&node.parent.flags?ts.Diagnostics.Type_parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:221===node.parent.parent.kind?ts.Diagnostics.Type_parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:ts.Diagnostics.Type_parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1;break;case 220:diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_exported_function_has_or_is_using_private_name_1;break;default:ts.Debug.fail("This is unknown parent for type parameter: "+node.parent.kind)}return{diagnosticMessage:diagnosticMessage,errorNode:node,typeName:node.name}}increaseIndent(),emitJsDocComments(node),decreaseIndent(),writeTextOfNode(currentText,node.name),node.constraint&&!isPrivateMethodTypeParameter(node)&&(write(" extends "),156===node.parent.kind||157===node.parent.kind||node.parent.parent&&159===node.parent.parent.kind?(ts.Debug.assert(147===node.parent.kind||146===node.parent.kind||156===node.parent.kind||157===node.parent.kind||151===node.parent.kind||152===node.parent.kind),emitType(node.constraint)):emitTypeWithNewGetSymbolAccessibilityDiagnostic(node.constraint,getTypeParameterConstraintVisibilityError))}typeParameters&&(write("<"),emitCommaList(typeParameters,emitTypeParameter),write(">"))}function emitHeritageClause(typeReferences,isImplementsList){function emitTypeOfTypeReference(node){function getHeritageClauseVisibilityError(symbolAccessibilityResult){var diagnosticMessage;return diagnosticMessage=221===node.parent.parent.kind?isImplementsList?ts.Diagnostics.Implements_clause_of_exported_class_0_has_or_is_using_private_name_1:ts.Diagnostics.Extends_clause_of_exported_class_0_has_or_is_using_private_name_1:ts.Diagnostics.Extends_clause_of_exported_interface_0_has_or_is_using_private_name_1,{diagnosticMessage:diagnosticMessage,errorNode:node,typeName:node.parent.parent.name}}ts.isEntityNameExpression(node.expression)?emitTypeWithNewGetSymbolAccessibilityDiagnostic(node,getHeritageClauseVisibilityError):isImplementsList||93!==node.expression.kind?(writer.getSymbolAccessibilityDiagnostic=getHeritageClauseVisibilityError,resolver.writeBaseConstructorTypeOfClass(enclosingDeclaration,enclosingDeclaration,2,writer)):write("null")}typeReferences&&(write(isImplementsList?" implements ":" extends "),emitCommaList(typeReferences,emitTypeOfTypeReference))}function writeClassDeclaration(node){function emitParameterProperties(constructorDeclaration){constructorDeclaration&&ts.forEach(constructorDeclaration.parameters,function(param){92&param.flags&&emitPropertyDeclaration(param)})}emitJsDocComments(node),emitModuleElementDeclarationFlags(node),128&node.flags&&write("abstract "),write("class "),writeTextOfNode(currentText,node.name);var prevEnclosingDeclaration=enclosingDeclaration;enclosingDeclaration=node,emitTypeParameters(node.typeParameters);var baseTypeNode=ts.getClassExtendsHeritageClauseElement(node);baseTypeNode&&emitHeritageClause([baseTypeNode],!1),emitHeritageClause(ts.getClassImplementsHeritageClauseElements(node),!0),write(" {"),writeLine(),increaseIndent(),emitParameterProperties(ts.getFirstConstructorWithBody(node)),emitLines(node.members),decreaseIndent(),write("}"),writeLine(),enclosingDeclaration=prevEnclosingDeclaration}function writeInterfaceDeclaration(node){emitJsDocComments(node),emitModuleElementDeclarationFlags(node),write("interface "),writeTextOfNode(currentText,node.name);var prevEnclosingDeclaration=enclosingDeclaration;enclosingDeclaration=node,emitTypeParameters(node.typeParameters),emitHeritageClause(ts.getInterfaceBaseTypeNodes(node),!1),write(" {"),writeLine(),increaseIndent(),emitLines(node.members),decreaseIndent(),write("}"),writeLine(),enclosingDeclaration=prevEnclosingDeclaration}function emitPropertyDeclaration(node){ts.hasDynamicName(node)||(emitJsDocComments(node),emitClassMemberDeclarationFlags(node.flags),emitVariableDeclaration(node),write(";"),writeLine())}function emitVariableDeclaration(node){function getVariableDeclarationTypeVisibilityDiagnosticMessage(symbolAccessibilityResult){return 218===node.kind?symbolAccessibilityResult.errorModuleName?2===symbolAccessibilityResult.accessibility?ts.Diagnostics.Exported_variable_0_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Exported_variable_0_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Exported_variable_0_has_or_is_using_private_name_1:145===node.kind||144===node.kind?32&node.flags?symbolAccessibilityResult.errorModuleName?2===symbolAccessibilityResult.accessibility?ts.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_private_name_1:221===node.parent.kind?symbolAccessibilityResult.errorModuleName?2===symbolAccessibilityResult.accessibility?ts.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_private_name_1:symbolAccessibilityResult.errorModuleName?ts.Diagnostics.Property_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Property_0_of_exported_interface_has_or_is_using_private_name_1:void 0}function getVariableDeclarationTypeVisibilityError(symbolAccessibilityResult){var diagnosticMessage=getVariableDeclarationTypeVisibilityDiagnosticMessage(symbolAccessibilityResult);return void 0!==diagnosticMessage?{diagnosticMessage:diagnosticMessage,errorNode:node,typeName:node.name}:void 0}function emitBindingPattern(bindingPattern){for(var elements=[],_i=0,_a=bindingPattern.elements;_i<_a.length;_i++){var element=_a[_i];193!==element.kind&&elements.push(element)}emitCommaList(elements,emitBindingElement)}function emitBindingElement(bindingElement){function getBindingElementTypeVisibilityError(symbolAccessibilityResult){var diagnosticMessage=getVariableDeclarationTypeVisibilityDiagnosticMessage(symbolAccessibilityResult);return void 0!==diagnosticMessage?{diagnosticMessage:diagnosticMessage,errorNode:bindingElement,typeName:bindingElement.name}:void 0}bindingElement.name&&(ts.isBindingPattern(bindingElement.name)?emitBindingPattern(bindingElement.name):(writeTextOfNode(currentText,bindingElement.name),writeTypeOfDeclaration(bindingElement,void 0,getBindingElementTypeVisibilityError)))}(218!==node.kind||resolver.isDeclarationVisible(node))&&(ts.isBindingPattern(node.name)?emitBindingPattern(node.name):(writeTextOfNode(currentText,node.name),(145===node.kind||144===node.kind||142===node.kind&&!ts.isParameterPropertyDeclaration(node))&&ts.hasQuestionToken(node)&&write("?"),145!==node.kind&&144!==node.kind||159!==node.parent.kind?8&node.flags||writeTypeOfDeclaration(node,node.type,getVariableDeclarationTypeVisibilityError):emitTypeOfVariableDeclarationFromTypeLiteral(node)))}function emitTypeOfVariableDeclarationFromTypeLiteral(node){node.type&&(write(": "),emitType(node.type))}function isVariableStatementVisible(node){return ts.forEach(node.declarationList.declarations,function(varDeclaration){return resolver.isDeclarationVisible(varDeclaration)})}function writeVariableStatement(node){emitJsDocComments(node),emitModuleElementDeclarationFlags(node),write(ts.isLet(node.declarationList)?"let ":ts.isConst(node.declarationList)?"const ":"var "),emitCommaList(node.declarationList.declarations,emitVariableDeclaration,resolver.isDeclarationVisible),write(";"),writeLine()}function emitAccessorDeclaration(node){function getTypeAnnotationFromAccessor(accessor){return accessor?149===accessor.kind?accessor.type:accessor.parameters.length>0?accessor.parameters[0].type:void 0:void 0}function getAccessorDeclarationTypeVisibilityError(symbolAccessibilityResult){var diagnosticMessage;return 150===accessorWithTypeAnnotation.kind?(diagnosticMessage=32&accessorWithTypeAnnotation.parent.flags?symbolAccessibilityResult.errorModuleName?ts.Diagnostics.Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_private_name_1:symbolAccessibilityResult.errorModuleName?ts.Diagnostics.Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_private_name_1,{diagnosticMessage:diagnosticMessage,errorNode:accessorWithTypeAnnotation.parameters[0],typeName:accessorWithTypeAnnotation.name}):(diagnosticMessage=32&accessorWithTypeAnnotation.flags?symbolAccessibilityResult.errorModuleName?2===symbolAccessibilityResult.accessibility?ts.Diagnostics.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ts.Diagnostics.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_name_0:symbolAccessibilityResult.errorModuleName?2===symbolAccessibilityResult.accessibility?ts.Diagnostics.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ts.Diagnostics.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_name_0,{diagnosticMessage:diagnosticMessage,errorNode:accessorWithTypeAnnotation.name,typeName:void 0})}if(!ts.hasDynamicName(node)){var accessorWithTypeAnnotation,accessors=ts.getAllAccessorDeclarations(node.parent.members,node);if(node===accessors.firstAccessor){if(emitJsDocComments(accessors.getAccessor),emitJsDocComments(accessors.setAccessor),emitClassMemberDeclarationFlags(node.flags|(accessors.setAccessor?0:64)),writeTextOfNode(currentText,node.name),!(8&node.flags)){accessorWithTypeAnnotation=node;var type=getTypeAnnotationFromAccessor(node);if(!type){var anotherAccessor=149===node.kind?accessors.setAccessor:accessors.getAccessor;type=getTypeAnnotationFromAccessor(anotherAccessor),type&&(accessorWithTypeAnnotation=anotherAccessor)}writeTypeOfDeclaration(node,type,getAccessorDeclarationTypeVisibilityError)}write(";"),writeLine()}}}function writeFunctionDeclaration(node){ts.hasDynamicName(node)||resolver.isImplementationOfOverload(node)||(emitJsDocComments(node),220===node.kind?emitModuleElementDeclarationFlags(node):(147===node.kind||148===node.kind)&&emitClassMemberDeclarationFlags(node.flags),220===node.kind?(write("function "),writeTextOfNode(currentText,node.name)):148===node.kind?write("constructor"):(writeTextOfNode(currentText,node.name),ts.hasQuestionToken(node)&&write("?")),emitSignatureDeclaration(node))}function emitSignatureDeclarationWithJsDocComments(node){emitJsDocComments(node),emitSignatureDeclaration(node)}function emitSignatureDeclaration(node){function getReturnTypeVisibilityError(symbolAccessibilityResult){var diagnosticMessage;switch(node.kind){case 152:diagnosticMessage=symbolAccessibilityResult.errorModuleName?ts.Diagnostics.Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 151:diagnosticMessage=symbolAccessibilityResult.errorModuleName?ts.Diagnostics.Return_type_of_call_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 153:diagnosticMessage=symbolAccessibilityResult.errorModuleName?ts.Diagnostics.Return_type_of_index_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 147:case 146:diagnosticMessage=32&node.flags?symbolAccessibilityResult.errorModuleName?2===symbolAccessibilityResult.accessibility?ts.Diagnostics.Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ts.Diagnostics.Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_name_0:221===node.parent.kind?symbolAccessibilityResult.errorModuleName?2===symbolAccessibilityResult.accessibility?ts.Diagnostics.Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ts.Diagnostics.Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_public_method_from_exported_class_has_or_is_using_private_name_0:symbolAccessibilityResult.errorModuleName?ts.Diagnostics.Return_type_of_method_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_method_from_exported_interface_has_or_is_using_private_name_0;break;case 220:diagnosticMessage=symbolAccessibilityResult.errorModuleName?2===symbolAccessibilityResult.accessibility?ts.Diagnostics.Return_type_of_exported_function_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ts.Diagnostics.Return_type_of_exported_function_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_exported_function_has_or_is_using_private_name_0;break;default:ts.Debug.fail("This is unknown kind for signature: "+node.kind)}return{diagnosticMessage:diagnosticMessage,errorNode:node.name||node}}var prevEnclosingDeclaration=enclosingDeclaration;enclosingDeclaration=node;var closeParenthesizedFunctionType=!1;if(153===node.kind)emitClassMemberDeclarationFlags(node.flags),write("[");else{if(152===node.kind||157===node.kind)write("new ");else if(156===node.kind){var currentOutput=writer.getText();node.typeParameters&&"<"===currentOutput.charAt(currentOutput.length-1)&&(closeParenthesizedFunctionType=!0,write("("))}emitTypeParameters(node.typeParameters),write("(")}emitCommaList(node.parameters,emitParameterDeclaration),write(153===node.kind?"]":")");var isFunctionTypeOrConstructorType=156===node.kind||157===node.kind;isFunctionTypeOrConstructorType||159===node.parent.kind?node.type&&(write(isFunctionTypeOrConstructorType?" => ":": "),emitType(node.type)):148===node.kind||8&node.flags||writeReturnTypeAtSignature(node,getReturnTypeVisibilityError),enclosingDeclaration=prevEnclosingDeclaration,isFunctionTypeOrConstructorType?closeParenthesizedFunctionType&&write(")"):(write(";"),writeLine())}function emitParameterDeclaration(node){function getParameterDeclarationTypeVisibilityError(symbolAccessibilityResult){var diagnosticMessage=getParameterDeclarationTypeVisibilityDiagnosticMessage(symbolAccessibilityResult);return void 0!==diagnosticMessage?{diagnosticMessage:diagnosticMessage,errorNode:node,typeName:node.name}:void 0}function getParameterDeclarationTypeVisibilityDiagnosticMessage(symbolAccessibilityResult){switch(node.parent.kind){case 148:return symbolAccessibilityResult.errorModuleName?2===symbolAccessibilityResult.accessibility?ts.Diagnostics.Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_name_1;case 152:return symbolAccessibilityResult.errorModuleName?ts.Diagnostics.Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1;case 151:return symbolAccessibilityResult.errorModuleName?ts.Diagnostics.Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1;case 147:case 146:return 32&node.parent.flags?symbolAccessibilityResult.errorModuleName?2===symbolAccessibilityResult.accessibility?ts.Diagnostics.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:221===node.parent.parent.kind?symbolAccessibilityResult.errorModuleName?2===symbolAccessibilityResult.accessibility?ts.Diagnostics.Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:symbolAccessibilityResult.errorModuleName?ts.Diagnostics.Parameter_0_of_method_from_exported_interface_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1;case 220:return symbolAccessibilityResult.errorModuleName?2===symbolAccessibilityResult.accessibility?ts.Diagnostics.Parameter_0_of_exported_function_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Parameter_0_of_exported_function_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_exported_function_has_or_is_using_private_name_1;default:ts.Debug.fail("This is unknown parent for parameter: "+node.parent.kind)}}function emitBindingPattern(bindingPattern){if(167===bindingPattern.kind)write("{"),emitCommaList(bindingPattern.elements,emitBindingElement),write("}");else if(168===bindingPattern.kind){write("[");var elements=bindingPattern.elements;emitCommaList(elements,emitBindingElement),elements&&elements.hasTrailingComma&&write(", "),write("]")}}function emitBindingElement(bindingElement){193===bindingElement.kind?write(" "):169===bindingElement.kind&&(bindingElement.propertyName&&(writeTextOfNode(currentText,bindingElement.propertyName),write(": ")),bindingElement.name&&(ts.isBindingPattern(bindingElement.name)?emitBindingPattern(bindingElement.name):(ts.Debug.assert(69===bindingElement.name.kind),bindingElement.dotDotDotToken&&write("..."),writeTextOfNode(currentText,bindingElement.name))))}increaseIndent(),emitJsDocComments(node),node.dotDotDotToken&&write("..."),ts.isBindingPattern(node.name)?emitBindingPattern(node.name):writeTextOfNode(currentText,node.name),resolver.isOptionalParameter(node)&&write("?"),decreaseIndent(),156===node.parent.kind||157===node.parent.kind||159===node.parent.parent.kind?emitTypeOfVariableDeclarationFromTypeLiteral(node):8&node.parent.flags||writeTypeOfDeclaration(node,node.type,getParameterDeclarationTypeVisibilityError)}function emitNode(node){switch(node.kind){case 220:case 225:case 229:case 222:case 221:case 223:case 224:return emitModuleElement(node,isModuleElementVisible(node));case 200:return emitModuleElement(node,isVariableStatementVisible(node));case 230:return emitModuleElement(node,!node.importClause);case 236:return emitExportDeclaration(node);case 148:case 147:case 146:return writeFunctionDeclaration(node);case 152:case 151:case 153:return emitSignatureDeclarationWithJsDocComments(node);case 149:case 150:return emitAccessorDeclaration(node);case 145:case 144:return emitPropertyDeclaration(node);case 255:return emitEnumMemberDeclaration(node);case 235:return emitExportAssignment(node);case 256:return emitSourceFile(node)}}function writeReferencePath(referencedFile,addBundledFileReference,emitOnlyDtsFiles){function getDeclFileName(emitFileNames,sourceFiles,isBundledEmit){(!isBundledEmit||addBundledFileReference)&&(ts.Debug.assert(!!emitFileNames.declarationFilePath||ts.isSourceFileJavaScript(referencedFile),"Declaration file is not present only for javascript files"),declFileName=emitFileNames.declarationFilePath||emitFileNames.jsFilePath,addedBundledEmitReference=isBundledEmit)}var declFileName,addedBundledEmitReference=!1;return ts.isDeclarationFile(referencedFile)?declFileName=referencedFile.fileName:ts.forEachExpectedEmitFile(host,getDeclFileName,referencedFile,emitOnlyDtsFiles),
declFileName&&(declFileName=ts.getRelativePathToDirectoryOrUrl(ts.getDirectoryPath(ts.normalizeSlashes(declarationFilePath)),declFileName,host.getCurrentDirectory(),host.getCanonicalFileName,!1),referencesOutput+='/// <reference path="'+declFileName+'" />'+newLine),addedBundledEmitReference}var write,writeLine,increaseIndent,decreaseIndent,writeTextOfNode,writer,newLine=host.getNewLine(),compilerOptions=host.getCompilerOptions();createAndSetNewTextWriterWithSymbolWriter();var enclosingDeclaration,resultHasExternalModuleIndicator,currentText,currentLineMap,currentIdentifiers,isCurrentFileExternalModule,errorNameNode,noDeclare,asynchronousSubModuleDeclarationEmitInfo,usedTypeDirectiveReferences,reportedDeclarationError=!1,emitJsDocComments=compilerOptions.removeComments?function(declaration){}:writeJsDocComments,emit=compilerOptions.stripInternal?stripInternal:emitNode,moduleElementDeclarationEmitInfo=[],referencesOutput="",emittedReferencedFiles=[],addedGlobalFileReference=!1,allSourcesModuleElementDeclarationEmitInfo=[];if(ts.forEach(sourceFiles,function(sourceFile){if(!ts.isSourceFileJavaScript(sourceFile)){if(compilerOptions.noResolve||ts.forEach(sourceFile.referencedFiles,function(fileReference){var referencedFile=ts.tryResolveScriptReference(host,sourceFile,fileReference);referencedFile&&!ts.contains(emittedReferencedFiles,referencedFile)&&(writeReferencePath(referencedFile,!isBundledEmit&&!addedGlobalFileReference,emitOnlyDtsFiles)&&(addedGlobalFileReference=!0),emittedReferencedFiles.push(referencedFile))}),resultHasExternalModuleIndicator=!1,isBundledEmit&&ts.isExternalModule(sourceFile)?ts.isExternalModule(sourceFile)&&(noDeclare=!0,write('declare module "'+ts.getResolvedExternalModuleName(host,sourceFile)+'" {'),writeLine(),increaseIndent(),emitSourceFile(sourceFile),decreaseIndent(),write("}"),writeLine()):(noDeclare=!1,emitSourceFile(sourceFile)),moduleElementDeclarationEmitInfo.length){var oldWriter=writer;ts.forEach(moduleElementDeclarationEmitInfo,function(aliasEmitInfo){if(aliasEmitInfo.isVisible&&!aliasEmitInfo.asynchronousOutput){ts.Debug.assert(230===aliasEmitInfo.node.kind),createAndSetNewTextWriterWithSymbolWriter(),ts.Debug.assert(0===aliasEmitInfo.indent||1===aliasEmitInfo.indent&&isBundledEmit);for(var i=0;i<aliasEmitInfo.indent;i++)increaseIndent();writeImportDeclaration(aliasEmitInfo.node),aliasEmitInfo.asynchronousOutput=writer.getText();for(var i=0;i<aliasEmitInfo.indent;i++)decreaseIndent()}}),setWriter(oldWriter),allSourcesModuleElementDeclarationEmitInfo=allSourcesModuleElementDeclarationEmitInfo.concat(moduleElementDeclarationEmitInfo),moduleElementDeclarationEmitInfo=[]}!isBundledEmit&&ts.isExternalModule(sourceFile)&&sourceFile.moduleAugmentations.length&&!resultHasExternalModuleIndicator&&(write("export {};"),writeLine())}}),usedTypeDirectiveReferences)for(var directive in usedTypeDirectiveReferences)referencesOutput+='/// <reference types="'+directive+'" />'+newLine;return{reportedDeclarationError:reportedDeclarationError,moduleElementDeclarationEmitInfo:allSourcesModuleElementDeclarationEmitInfo,synchronousDeclarationOutput:writer.getText(),referencesOutput:referencesOutput}}function writeDeclarationFile(declarationFilePath,sourceFiles,isBundledEmit,host,resolver,emitterDiagnostics,emitOnlyDtsFiles){function getDeclarationOutput(synchronousDeclarationOutput,moduleElementDeclarationEmitInfo){var appliedSyncOutputPos=0,declarationOutput="";return ts.forEach(moduleElementDeclarationEmitInfo,function(aliasEmitInfo){aliasEmitInfo.asynchronousOutput&&(declarationOutput+=synchronousDeclarationOutput.substring(appliedSyncOutputPos,aliasEmitInfo.outputPos),declarationOutput+=getDeclarationOutput(aliasEmitInfo.asynchronousOutput,aliasEmitInfo.subModuleElementDeclarationEmitInfo),appliedSyncOutputPos=aliasEmitInfo.outputPos)}),declarationOutput+=synchronousDeclarationOutput.substring(appliedSyncOutputPos)}var emitDeclarationResult=emitDeclarations(host,resolver,emitterDiagnostics,declarationFilePath,sourceFiles,isBundledEmit,emitOnlyDtsFiles),emitSkipped=emitDeclarationResult.reportedDeclarationError||host.isEmitBlocked(declarationFilePath)||host.getCompilerOptions().noEmit;if(!emitSkipped){var declarationOutput=emitDeclarationResult.referencesOutput+getDeclarationOutput(emitDeclarationResult.synchronousDeclarationOutput,emitDeclarationResult.moduleElementDeclarationEmitInfo);ts.writeFile(host,emitterDiagnostics,declarationFilePath,declarationOutput,host.getCompilerOptions().emitBOM,sourceFiles)}return emitSkipped}ts.getDeclarationDiagnostics=getDeclarationDiagnostics,ts.writeDeclarationFile=writeDeclarationFile}(ts||(ts={}));var ts;!function(ts){function getResolvedExternalModuleName(host,file){return file.moduleName||ts.getExternalModuleNameFromPath(host,file.fileName)}function getExternalModuleNameFromDeclaration(host,resolver,declaration){var file=resolver.getExternalModuleFileFromDeclaration(declaration);return!file||ts.isDeclarationFile(file)?void 0:getResolvedExternalModuleName(host,file)}function emitFiles(resolver,host,targetSourceFile,emitOnlyDtsFiles){function isUniqueLocalName(name,container){for(var node=container;ts.isNodeDescendentOf(node,container);node=node.nextContainer)if(node.locals&&name in node.locals&&9544639&node.locals[name].flags)return!1;return!0}function setLabeledJump(state,isBreak,labelText,labelMarker){isBreak?(state.labeledNonLocalBreaks||(state.labeledNonLocalBreaks=ts.createMap()),state.labeledNonLocalBreaks[labelText]=labelMarker):(state.labeledNonLocalContinues||(state.labeledNonLocalContinues=ts.createMap()),state.labeledNonLocalContinues[labelText]=labelMarker)}function hoistVariableDeclarationFromLoop(state,declaration){function visit(node){if(69===node.kind)state.hoistedLocalVariables.push(node);else for(var _a=0,_b=node.elements;_a<_b.length;_a++){var element=_b[_a];visit(element.name)}}state.hoistedLocalVariables||(state.hoistedLocalVariables=[]),visit(declaration.name)}function createFileEmitter(){function doEmit(jsFilePath,sourceMapFilePath,sourceFiles,isBundledEmit){sourceMap.initialize(jsFilePath,sourceMapFilePath,sourceFiles,isBundledEmit),generatedNameSet=ts.createMap(),nodeToGeneratedName=[],decoratedClassAliases=[],isOwnFileEmit=!isBundledEmit,isBundledEmit&&modulekind&&ts.forEach(sourceFiles,emitEmitHelpers),ts.forEach(sourceFiles,emitSourceFile),writeLine();var sourceMappingURL=sourceMap.getSourceMappingURL();sourceMappingURL&&write("//# sourceMappingURL="+sourceMappingURL),writeEmittedFiles(writer.getText(),jsFilePath,sourceMapFilePath,compilerOptions.emitBOM,sourceFiles),sourceMap.reset(),writer.reset(),currentSourceFile=void 0,currentText=void 0,currentLineMap=void 0,exportFunctionForFile=void 0,contextObjectForFile=void 0,generatedNameSet=void 0,nodeToGeneratedName=void 0,decoratedClassAliases=void 0,computedPropertyNamesToGeneratedNames=void 0,convertedLoopState=void 0,extendsEmitted=!1,decorateEmitted=!1,paramEmitted=!1,awaiterEmitted=!1,assignEmitted=!1,tempFlags=0,tempVariables=void 0,tempParameters=void 0,externalImports=void 0,exportSpecifiers=void 0,exportEquals=void 0,hasExportStarsToExportValues=void 0,detachedCommentsInfo=void 0,sourceMapData=void 0,isEs6Module=!1,renamedDependencies=void 0,isCurrentFileExternalModule=!1}function emitSourceFile(sourceFile){currentSourceFile=sourceFile,currentText=sourceFile.text,currentLineMap=ts.getLineStarts(sourceFile),exportFunctionForFile=void 0,contextObjectForFile=void 0,isEs6Module=sourceFile.symbol&&sourceFile.symbol.exports&&!!sourceFile.symbol.exports.___esModule,renamedDependencies=sourceFile.renamedDependencies,currentFileIdentifiers=sourceFile.identifiers,isCurrentFileExternalModule=ts.isExternalModule(sourceFile),setSourceFile(sourceFile),emitNodeWithCommentsAndWithoutSourcemap(sourceFile)}function isUniqueName(name){return!(resolver.hasGlobalName(name)||name in currentFileIdentifiers||name in generatedNameSet)}function makeTempVariableName(flags){if(flags&&!(tempFlags&flags)){var name_24=268435456===flags?"_i":"_n";if(isUniqueName(name_24))return tempFlags|=flags,name_24}for(;;){var count=268435455&tempFlags;if(tempFlags++,8!==count&&13!==count){var name_25=26>count?"_"+String.fromCharCode(97+count):"_"+(count-26);if(isUniqueName(name_25))return name_25}}}function makeUniqueName(baseName){95!==baseName.charCodeAt(baseName.length-1)&&(baseName+="_");for(var i=1;;){var generatedName=baseName+i;if(isUniqueName(generatedName))return generatedNameSet[generatedName]=generatedName;i++}}function generateNameForModuleOrEnum(node){var name=node.name.text;return isUniqueLocalName(name,node)?name:makeUniqueName(name)}function generateNameForImportOrExportDeclaration(node){var expr=ts.getExternalModuleName(node),baseName=9===expr.kind?ts.escapeIdentifier(ts.makeIdentifierFromModuleName(expr.text)):"module";return makeUniqueName(baseName)}function generateNameForExportDefault(){return makeUniqueName("default")}function generateNameForClassExpression(){return makeUniqueName("class")}function generateNameForNode(node){switch(node.kind){case 69:return makeUniqueName(node.text);case 225:case 224:return generateNameForModuleOrEnum(node);case 230:case 236:return generateNameForImportOrExportDeclaration(node);case 220:case 221:case 235:return generateNameForExportDefault();case 192:return generateNameForClassExpression();default:ts.Debug.fail()}}function getGeneratedNameForNode(node){var id=ts.getNodeId(node);return nodeToGeneratedName[id]||(nodeToGeneratedName[id]=ts.unescapeIdentifier(generateNameForNode(node)))}function writeEmittedFiles(emitOutput,jsFilePath,sourceMapFilePath,writeByteOrderMark,sourceFiles){compilerOptions.sourceMap&&!compilerOptions.inlineSourceMap&&ts.writeFile(host,emitterDiagnostics,sourceMapFilePath,sourceMap.getText(),!1,sourceFiles),sourceMapDataList&&sourceMapDataList.push(sourceMap.getSourceMapData()),ts.writeFile(host,emitterDiagnostics,jsFilePath,emitOutput,writeByteOrderMark,sourceFiles)}function createTempVariable(flags){var result=ts.createSynthesizedNode(69);return result.text=makeTempVariableName(flags),result}function recordTempDeclaration(name){tempVariables||(tempVariables=[]),tempVariables.push(name)}function createAndRecordTempVariable(flags){var temp=createTempVariable(flags);return recordTempDeclaration(temp),temp}function emitTempDeclarations(newLine){tempVariables&&(newLine?writeLine():write(" "),write("var "),emitCommaList(tempVariables),write(";"))}function emitToken(tokenKind,startPos,emitFn){var tokenStartPos=ts.skipTrivia(currentText,startPos);emitPos(tokenStartPos);var tokenString=ts.tokenToString(tokenKind);emitFn?emitFn():write(tokenString);var tokenEndPos=tokenStartPos+tokenString.length;return emitPos(tokenEndPos),tokenEndPos}function emitOptional(prefix,node){node&&(write(prefix),emit(node))}function emitParenthesizedIf(node,parenthesized){parenthesized&&write("("),emit(node),parenthesized&&write(")")}function emitLinePreservingList(parent,nodes,allowTrailingComma,spacesBetweenBraces){ts.Debug.assert(nodes.length>0),increaseIndent(),nodeStartPositionsAreOnSameLine(parent,nodes[0])?spacesBetweenBraces&&write(" "):writeLine();for(var i=0,n=nodes.length;n>i;i++)i&&(nodeEndIsOnSameLineAsNodeStart(nodes[i-1],nodes[i])?write(", "):(write(","),writeLine())),emit(nodes[i]);nodes.hasTrailingComma&&allowTrailingComma&&write(","),decreaseIndent(),nodeEndPositionsAreOnSameLine(parent,ts.lastOrUndefined(nodes))?spacesBetweenBraces&&write(" "):writeLine()}function emitList(nodes,start,count,multiLine,trailingComma,leadingComma,noTrailingNewLine,emitNode){emitNode||(emitNode=emit);for(var i=0;count>i;i++){multiLine?((i||leadingComma)&&write(","),writeLine()):(i||leadingComma)&&write(", ");var node=nodes[start+i];emitTrailingCommentsOfPosition(node.pos),emitNode(node),leadingComma=!0}return trailingComma&&write(","),multiLine&&!noTrailingNewLine&&writeLine(),count}function emitCommaList(nodes){nodes&&emitList(nodes,0,nodes.length,!1,!1)}function emitLines(nodes){emitLinesStartingAt(nodes,0)}function emitLinesStartingAt(nodes,startIndex){for(var i=startIndex;i<nodes.length;i++)writeLine(),emit(nodes[i])}function isBinaryOrOctalIntegerLiteral(node,text){if(8===node.kind&&text.length>1)switch(text.charCodeAt(1)){case 98:case 66:case 111:case 79:return!0}return!1}function emitLiteral(node){var text=getLiteralText(node);!compilerOptions.sourceMap&&!compilerOptions.inlineSourceMap||9!==node.kind&&!ts.isTemplateLiteralKind(node.kind)?write(2>languageVersion&&isBinaryOrOctalIntegerLiteral(node,text)?node.text:text):writer.writeLiteral(text)}function getLiteralText(node){if(2>languageVersion&&(ts.isTemplateLiteralKind(node.kind)||node.hasExtendedUnicodeEscape))return getQuotedEscapedLiteralText('"',node.text,'"');if(node.parent)return ts.getTextOfNodeFromSourceText(currentText,node);switch(node.kind){case 9:return getQuotedEscapedLiteralText('"',node.text,'"');case 11:return getQuotedEscapedLiteralText("`",node.text,"`");case 12:return getQuotedEscapedLiteralText("`",node.text,"${");case 13:return getQuotedEscapedLiteralText("}",node.text,"${");case 14:return getQuotedEscapedLiteralText("}",node.text,"`");case 8:return node.text}ts.Debug.fail("Literal kind '"+node.kind+"' not accounted for.")}function getQuotedEscapedLiteralText(leftQuote,text,rightQuote){return leftQuote+ts.escapeNonAsciiCharacters(ts.escapeString(text))+rightQuote}function emitDownlevelRawTemplateLiteral(node){var text=ts.getTextOfNodeFromSourceText(currentText,node),isLast=11===node.kind||14===node.kind;text=text.substring(1,text.length-(isLast?1:2)),text=text.replace(/\r\n?/g,"\n"),text=ts.escapeString(text),write('"'+text+'"')}function emitDownlevelTaggedTemplateArray(node,literalEmitter){write("["),11===node.template.kind?literalEmitter(node.template):(literalEmitter(node.template.head),ts.forEach(node.template.templateSpans,function(child){write(", "),literalEmitter(child.literal)})),write("]")}function emitDownlevelTaggedTemplate(node){var tempVariable=createAndRecordTempVariable(0);write("("),emit(tempVariable),write(" = "),emitDownlevelTaggedTemplateArray(node,emit),write(", "),emit(tempVariable),write(".raw = "),emitDownlevelTaggedTemplateArray(node,emitDownlevelRawTemplateLiteral),write(", "),emitParenthesizedIf(node.tag,needsParenthesisForPropertyAccessOrInvocation(node.tag)),write("("),emit(tempVariable),189===node.template.kind&&ts.forEach(node.template.templateSpans,function(templateSpan){write(", ");var needsParens=187===templateSpan.expression.kind&&24===templateSpan.expression.operatorToken.kind;emitParenthesizedIf(templateSpan.expression,needsParens)}),write("))")}function emitTemplateExpression(node){function shouldEmitTemplateHead(){return ts.Debug.assert(0!==node.templateSpans.length),0!==node.head.text.length||0===node.templateSpans[0].literal.text.length}function templateNeedsParens(template,parent){switch(parent.kind){case 174:case 175:return parent.expression===template;case 176:case 178:return!1;default:return-1!==comparePrecedenceToBinaryPlus(parent)}}function comparePrecedenceToBinaryPlus(expression){switch(expression.kind){case 187:switch(expression.operatorToken.kind){case 37:case 39:case 40:return 1;case 35:case 36:return 0;default:return-1}case 190:case 188:return-1;default:return 1}}if(languageVersion>=2)return void ts.forEachChild(node,emit);var emitOuterParens=ts.isExpression(node.parent)&&templateNeedsParens(node,node.parent);emitOuterParens&&write("(");var headEmitted=!1;shouldEmitTemplateHead()&&(emitLiteral(node.head),headEmitted=!0);for(var i=0,n=node.templateSpans.length;n>i;i++){var templateSpan=node.templateSpans[i],needsParens=178!==templateSpan.expression.kind&&1!==comparePrecedenceToBinaryPlus(templateSpan.expression);(i>0||headEmitted)&&write(" + "),emitParenthesizedIf(templateSpan.expression,needsParens),0!==templateSpan.literal.text.length&&(write(" + "),emitLiteral(templateSpan.literal))}emitOuterParens&&write(")")}function emitTemplateSpan(span){emit(span.expression),emit(span.literal)}function jsxEmitReact(node){function emitTagName(name){69===name.kind&&ts.isIntrinsicJsxName(name.text)?(write('"'),emit(name),write('"')):emit(name)}function emitAttributeName(name){/^[A-Za-z_]\w*$/.test(name.text)?emit(name):(write('"'),emit(name),write('"'))}function emitJsxAttribute(node){emitAttributeName(node.name),write(": "),node.initializer?emit(node.initializer):write("true")}function emitJsxElement(openingNode,children){var syntheticReactRef=ts.createSynthesizedNode(69);if(syntheticReactRef.text=compilerOptions.reactNamespace?compilerOptions.reactNamespace:"React",syntheticReactRef.parent=openingNode,emitLeadingComments(openingNode),emitExpressionIdentifier(syntheticReactRef),write(".createElement("),emitTagName(openingNode.tagName),write(", "),0===openingNode.attributes.length)write("null");else{var attrs=openingNode.attributes;if(ts.forEach(attrs,function(attr){return 247===attr.kind})){write("__assign(");for(var haveOpenedObjectLiteral=!1,i=0;i<attrs.length;i++)247===attrs[i].kind?(0===i&&write("{}, "),haveOpenedObjectLiteral&&(write("}"),haveOpenedObjectLiteral=!1),i>0&&write(", "),emit(attrs[i].expression)):(ts.Debug.assert(246===attrs[i].kind),haveOpenedObjectLiteral?write(", "):(haveOpenedObjectLiteral=!0,i>0&&write(", "),write("{")),emitJsxAttribute(attrs[i]));haveOpenedObjectLiteral&&write("}"),write(")")}else{write("{");for(var i=0,n=attrs.length;n>i;i++)i>0&&write(", "),emitJsxAttribute(attrs[i]);write("}")}}if(children){for(var firstChild=void 0,multipleEmittableChildren=!1,i=0,n=children.length;n>i;i++){var jsxChild=children[i];isJsxChildEmittable(jsxChild)&&(firstChild?(multipleEmittableChildren||(multipleEmittableChildren=!0,increaseIndent(),writeLine(),emit(firstChild)),write(", "),writeLine(),emit(jsxChild)):(write(", "),firstChild=jsxChild))}multipleEmittableChildren?decreaseIndent():firstChild&&(241!==firstChild.kind&&242!==firstChild.kind?emit(firstChild):(increaseIndent(),writeLine(),emit(firstChild),writeLine(),decreaseIndent()))}write(")"),emitTrailingComments(openingNode)}241===node.kind?emitJsxElement(node.openingElement,node.children):(ts.Debug.assert(242===node.kind),emitJsxElement(node))}function jsxEmitPreserve(node){function emitJsxAttribute(node){emit(node.name),node.initializer&&(write("="),emit(node.initializer))}function emitJsxSpreadAttribute(node){write("{..."),emit(node.expression),write("}")}function emitAttributes(attribs){for(var i=0,n=attribs.length;n>i;i++)i>0&&write(" "),247===attribs[i].kind?emitJsxSpreadAttribute(attribs[i]):(ts.Debug.assert(246===attribs[i].kind),emitJsxAttribute(attribs[i]))}function emitJsxOpeningOrSelfClosingElement(node){write("<"),emit(node.tagName),(node.attributes.length>0||242===node.kind)&&write(" "),emitAttributes(node.attributes),write(242===node.kind?"/>":">")}function emitJsxClosingElement(node){write("</"),emit(node.tagName),write(">")}function emitJsxElement(node){emitJsxOpeningOrSelfClosingElement(node.openingElement);for(var i=0,n=node.children.length;n>i;i++)emit(node.children[i]);emitJsxClosingElement(node.closingElement)}241===node.kind?emitJsxElement(node):(ts.Debug.assert(242===node.kind),emitJsxOpeningOrSelfClosingElement(node))}function emitExpressionForPropertyName(node){if(ts.Debug.assert(169!==node.kind),9===node.kind)emitLiteral(node);else if(140===node.kind){if(ts.nodeIsDecorated(node.parent)){computedPropertyNamesToGeneratedNames||(computedPropertyNamesToGeneratedNames=[]);var generatedName=computedPropertyNamesToGeneratedNames[ts.getNodeId(node)];if(generatedName)return void write(generatedName);generatedName=createAndRecordTempVariable(0).text,computedPropertyNamesToGeneratedNames[ts.getNodeId(node)]=generatedName,write(generatedName),write(" = ")}emit(node.expression)}else write('"'),8===node.kind?write(node.text):writeTextOfNode(currentText,node),write('"')}function isExpressionIdentifier(node){var parent=node.parent;switch(parent.kind){case 170:case 195:case 184:case 187:case 174:case 249:case 140:case 188:case 143:case 181:case 204:case 173:case 235:case 202:case 194:case 206:case 207:case 208:case 203:case 245:case 242:case 243:case 247:case 248:case 175:case 196:case 178:case 186:case 185:case 211:case 254:case 191:case 213:case 176:case 197:case 215:case 177:case 182:case 183:case 205:case 212:case 190:return!0;case 169:case 255:case 142:case 253:case 145:case 218:return parent.initializer===node;case 172:return parent.expression===node;case 180:case 179:return parent.body===node;case 229:return parent.moduleReference===node;case 139:return parent.left===node}return!1}function emitExpressionIdentifier(node){var container=resolver.getReferencedExportContainer(node);if(container)256===container.kind?modulekind!==ts.ModuleKind.ES6&&modulekind!==ts.ModuleKind.System&&write("exports."):(write(getGeneratedNameForNode(container)),write("."));else{if(modulekind!==ts.ModuleKind.ES6){var declaration=resolver.getReferencedImportDeclaration(node);if(declaration){if(231===declaration.kind)return write(getGeneratedNameForNode(declaration.parent)),void write(0===languageVersion?'["default"]':".default");if(234===declaration.kind){write(getGeneratedNameForNode(declaration.parent.parent.parent));var name_26=declaration.propertyName||declaration.name,identifier=ts.getTextOfNodeFromSourceText(currentText,name_26);return void(0===languageVersion&&"default"===identifier?write('["default"]'):(write("."),write(identifier)))}}}if(2>languageVersion){var declaration=resolver.getReferencedDeclarationWithCollidingName(node);if(declaration)return void write(getGeneratedNameForNode(declaration.name))}else if(1048576&resolver.getNodeCheckFlags(node)){var declaration=resolver.getReferencedValueDeclaration(node);if(declaration){var classAlias=decoratedClassAliases[ts.getNodeId(declaration)];if(void 0!==classAlias)return void write(classAlias)}}}ts.nodeIsSynthesized(node)?write(node.text):writeTextOfNode(currentText,node)}function isNameOfNestedBlockScopedRedeclarationOrCapturedBinding(node){if(2>languageVersion){var parent_13=node.parent;switch(parent_13.kind){case 169:case 221:case 224:case 218:return parent_13.name===node&&resolver.isDeclarationWithCollidingName(parent_13)}}return!1}function getClassExpressionInPropertyAccessInStaticPropertyDeclaration(node){if(languageVersion>=2){var parent_14=node.parent;if(172===parent_14.kind&&parent_14.expression===node){for(parent_14=parent_14.parent;parent_14&&145!==parent_14.kind;)parent_14=parent_14.parent;return parent_14&&145===parent_14.kind&&0!==(32&parent_14.flags)&&192===parent_14.parent.kind?parent_14.parent:void 0}}return void 0}function emitIdentifier(node){if(convertedLoopState&&"arguments"==node.text&&resolver.isArgumentsLocalBinding(node)){var name_27=convertedLoopState.argumentsName||(convertedLoopState.argumentsName=makeUniqueName("arguments"));return void write(name_27)}if(node.parent)if(isExpressionIdentifier(node)){var classExpression=getClassExpressionInPropertyAccessInStaticPropertyDeclaration(node);if(classExpression){var declaration=resolver.getReferencedValueDeclaration(node);if(declaration===classExpression)return void write(getGeneratedNameForNode(declaration.name))}emitExpressionIdentifier(node)}else isNameOfNestedBlockScopedRedeclarationOrCapturedBinding(node)?write(getGeneratedNameForNode(node)):ts.nodeIsSynthesized(node)?write(node.text):writeTextOfNode(currentText,node);else write(node.text)}function emitThis(node){write(2&resolver.getNodeCheckFlags(node)?"_this":convertedLoopState?convertedLoopState.thisName||(convertedLoopState.thisName=makeUniqueName("this")):"this")}function emitSuper(node){if(languageVersion>=2)write("super");else{var flags=resolver.getNodeCheckFlags(node);write(256&flags?"_super.prototype":"_super")}}function emitObjectBindingPattern(node){write("{ ");var elements=node.elements;emitList(elements,0,elements.length,!1,elements.hasTrailingComma),write(" }")}function emitArrayBindingPattern(node){write("[");var elements=node.elements;emitList(elements,0,elements.length,!1,elements.hasTrailingComma),write("]")}function emitBindingElement(node){node.propertyName&&(emit(node.propertyName),write(": ")),node.dotDotDotToken&&write("..."),ts.isBindingPattern(node.name)?emit(node.name):emitModuleMemberName(node),emitOptional(" = ",node.initializer)}function emitSpreadElementExpression(node){write("..."),emit(node.expression)}function emitYieldExpression(node){write(ts.tokenToString(114)),node.asteriskToken&&write("*"),node.expression&&(write(" "),emit(node.expression))}function emitAwaitExpression(node){var needsParenthesis=needsParenthesisForAwaitExpressionAsYield(node);needsParenthesis&&write("("),write(ts.tokenToString(114)),write(" "),emit(node.expression),needsParenthesis&&write(")")}function needsParenthesisForAwaitExpressionAsYield(node){return 187!==node.parent.kind||ts.isAssignmentOperator(node.parent.operatorToken.kind)?188===node.parent.kind&&node.parent.condition===node?!0:185===node.parent.kind||181===node.parent.kind||182===node.parent.kind||183===node.parent.kind?!0:!1:!0}function needsParenthesisForPropertyAccessOrInvocation(node){switch(node.kind){case 69:case 170:case 172:case 173:case 174:case 178:return!1}return!0}function emitListWithSpread(elements,needsUniqueCopy,multiLine,trailingComma,useConcat){for(var pos=0,group=0,length=elements.length;length>pos;){1===group&&useConcat?write(".concat("):group>0&&write(", ");var e=elements[pos];if(191===e.kind)e=e.expression,emitParenthesizedIf(e,0===group&&needsParenthesisForPropertyAccessOrInvocation(e)),pos++,pos===length&&0===group&&needsUniqueCopy&&170!==e.kind&&write(".slice()");else{for(var i=pos;length>i&&191!==elements[i].kind;)i++;write("["),multiLine&&increaseIndent(),emitList(elements,pos,i-pos,multiLine,trailingComma&&i===length),multiLine&&decreaseIndent(),write("]"),pos=i}group++}group>1&&useConcat&&write(")")}function isSpreadElementExpression(node){return 191===node.kind}function emitArrayLiteral(node){var elements=node.elements;0===elements.length?write("[]"):languageVersion>=2||!ts.forEach(elements,isSpreadElementExpression)?(write("["),emitLinePreservingList(node,node.elements,elements.hasTrailingComma,!1),write("]")):emitListWithSpread(elements,!0,node.multiLine,elements.hasTrailingComma,!0)}function emitObjectLiteralBody(node,numElements){if(0===numElements)return void write("{}");if(write("{"),numElements>0){var properties=node.properties;if(numElements===properties.length)emitLinePreservingList(node,properties,languageVersion>=1,!0);else{var multiLine=node.multiLine;multiLine?increaseIndent():write(" "),emitList(properties,0,numElements,multiLine,!1),multiLine?decreaseIndent():write(" ")}}write("}")}function emitDownlevelObjectLiteralWithComputedProperties(node,firstComputedPropertyIndex){function writeComma(){multiLine?(write(","),writeLine()):write(", ")}var multiLine=node.multiLine,properties=node.properties;write("("),multiLine&&increaseIndent();var tempVar=createAndRecordTempVariable(0);emit(tempVar),write(" = "),emitObjectLiteralBody(node,firstComputedPropertyIndex);for(var i=firstComputedPropertyIndex,n=properties.length;n>i;i++){var property=properties[i];if(149===property.kind||150===property.kind){var accessors=ts.getAllAccessorDeclarations(node.properties,property);if(property!==accessors.firstAccessor)continue;writeComma(),emitStart(property),write("Object.defineProperty("),emit(tempVar),write(", "),emitStart(property.name),emitExpressionForPropertyName(property.name),emitEnd(property.name),write(", {"),increaseIndent(),accessors.getAccessor&&(writeLine(),emitLeadingComments(accessors.getAccessor),write("get: "),emitStart(accessors.getAccessor),write("function "),emitSignatureAndBody(accessors.getAccessor),emitEnd(accessors.getAccessor),emitTrailingComments(accessors.getAccessor),write(",")),accessors.setAccessor&&(writeLine(),emitLeadingComments(accessors.setAccessor),write("set: "),emitStart(accessors.setAccessor),write("function "),emitSignatureAndBody(accessors.setAccessor),emitEnd(accessors.setAccessor),emitTrailingComments(accessors.setAccessor),write(",")),writeLine(),write("enumerable: true,"),writeLine(),write("configurable: true"),decreaseIndent(),writeLine(),write("})"),emitEnd(property)}else writeComma(),emitStart(property),emitLeadingComments(property),emitStart(property.name),emit(tempVar),emitMemberAccessForPropertyName(property.name),emitEnd(property.name),write(" = "),253===property.kind?emit(property.initializer):254===property.kind?emitExpressionIdentifier(property.name):147===property.kind?emitFunctionDeclaration(property):ts.Debug.fail("ObjectLiteralElement type not accounted for: "+property.kind),emitEnd(property)}writeComma(),emit(tempVar),multiLine&&(decreaseIndent(),writeLine()),write(")")}function emitObjectLiteral(node){var properties=node.properties;if(2>languageVersion){for(var numProperties=properties.length,numInitialNonComputedProperties=numProperties,i=0,n=properties.length;n>i;i++)if(140===properties[i].name.kind){numInitialNonComputedProperties=i;break}var hasComputedProperty=numInitialNonComputedProperties!==properties.length;if(hasComputedProperty)return void emitDownlevelObjectLiteralWithComputedProperties(node,numInitialNonComputedProperties)}emitObjectLiteralBody(node,properties.length)}function createBinaryExpression(left,operator,right,startsOnNewLine){var result=ts.createSynthesizedNode(187,startsOnNewLine);return result.operatorToken=ts.createSynthesizedNode(operator),result.left=left,result.right=right,result}function createPropertyAccessExpression(expression,name){var result=ts.createSynthesizedNode(172);return result.expression=parenthesizeForAccess(expression),result.name=name,result}function createElementAccessExpression(expression,argumentExpression){var result=ts.createSynthesizedNode(173);return result.expression=parenthesizeForAccess(expression),result.argumentExpression=argumentExpression,result}function parenthesizeForAccess(expr){for(;177===expr.kind||195===expr.kind||196===expr.kind;)expr=expr.expression;if(ts.isLeftHandSideExpression(expr)&&175!==expr.kind&&8!==expr.kind)return expr;var node=ts.createSynthesizedNode(178);return node.expression=expr,node}function emitComputedPropertyName(node){write("["),emitExpressionForPropertyName(node),write("]")}function emitMethod(node){languageVersion>=2&&node.asteriskToken&&write("*"),emit(node.name),2>languageVersion&&write(": function "),emitSignatureAndBody(node)}function emitPropertyAssignment(node){emit(node.name),write(": "),emitTrailingCommentsOfPosition(node.initializer.pos),emit(node.initializer)}function isExportReference(node){var container=resolver.getReferencedExportContainer(node);return!!container}function isImportedReference(node){var declaration=resolver.getReferencedImportDeclaration(node);return declaration&&(231===declaration.kind||234===declaration.kind)}function emitShorthandPropertyAssignment(node){writeTextOfNode(currentText,node.name),(2>languageVersion||modulekind!==ts.ModuleKind.ES6&&isImportedReference(node.name)||isExportReference(node.name))&&(write(": "),emitExpressionIdentifier(node.name)),languageVersion>=2&&node.objectAssignmentInitializer&&(write(" = "),emit(node.objectAssignmentInitializer))}function tryEmitConstantValue(node){var constantValue=tryGetConstEnumValue(node);if(void 0!==constantValue){if(write(constantValue.toString()),!compilerOptions.removeComments){var propertyName=172===node.kind?ts.declarationNameToString(node.name):ts.getTextOfNode(node.argumentExpression);write(" /* "+propertyName+" */")}return!0}return!1}function tryGetConstEnumValue(node){return compilerOptions.isolatedModules?void 0:172===node.kind||173===node.kind?resolver.getConstantValue(node):void 0}function indentIfOnDifferentLines(parent,node1,node2,valueToWriteWhenNotIndenting){var realNodesAreOnDifferentLines=!ts.nodeIsSynthesized(parent)&&!nodeEndIsOnSameLineAsNodeStart(node1,node2),synthesizedNodeIsOnDifferentLine=synthesizedNodeStartsOnNewLine(node2);return realNodesAreOnDifferentLines||synthesizedNodeIsOnDifferentLine?(increaseIndent(),writeLine(),!0):(valueToWriteWhenNotIndenting&&write(valueToWriteWhenNotIndenting),
!1)}function emitPropertyAccess(node){if(!tryEmitConstantValue(node)){if(2===languageVersion&&95===node.expression.kind&&isInAsyncMethodWithSuperInES6(node)){var name_28=ts.createSynthesizedNode(9);return name_28.text=node.name.text,void emitSuperAccessInAsyncMethod(node.expression,name_28)}emit(node.expression);var dotRangeStart=ts.nodeIsSynthesized(node.expression)?-1:node.expression.end,dotRangeEnd=ts.nodeIsSynthesized(node.expression)?-1:ts.skipTrivia(currentText,node.expression.end)+1,dotToken={pos:dotRangeStart,end:dotRangeEnd},indentedBeforeDot=indentIfOnDifferentLines(node,node.expression,dotToken),shouldEmitSpace=!1;if(!indentedBeforeDot)if(8===node.expression.kind){var text=ts.getTextOfNodeFromSourceText(currentText,node.expression);shouldEmitSpace=text.indexOf(ts.tokenToString(21))<0}else{var constantValue=tryGetConstEnumValue(node.expression);shouldEmitSpace=isFinite(constantValue)&&Math.floor(constantValue)===constantValue}write(shouldEmitSpace?" .":".");var indentedAfterDot=indentIfOnDifferentLines(node,dotToken,node.name);emit(node.name),decreaseIndentIf(indentedBeforeDot,indentedAfterDot)}}function emitQualifiedName(node){emit(node.left),write("."),emit(node.right)}function emitQualifiedNameAsExpression(node,useFallback){if(69===node.left.kind)emitEntityNameAsExpression(node.left,useFallback);else if(useFallback){var temp=createAndRecordTempVariable(0);write("("),emitNodeWithoutSourceMap(temp),write(" = "),emitEntityNameAsExpression(node.left,!0),write(") && "),emitNodeWithoutSourceMap(temp)}else emitEntityNameAsExpression(node.left,!1);write("."),emit(node.right)}function emitEntityNameAsExpression(node,useFallback){switch(node.kind){case 69:useFallback&&(write("typeof "),emitExpressionIdentifier(node),write(" !== 'undefined' && ")),emitExpressionIdentifier(node);break;case 139:emitQualifiedNameAsExpression(node,useFallback);break;default:emitNodeWithoutSourceMap(node)}}function emitIndexedAccess(node){if(!tryEmitConstantValue(node)){if(2===languageVersion&&95===node.expression.kind&&isInAsyncMethodWithSuperInES6(node))return void emitSuperAccessInAsyncMethod(node.expression,node.argumentExpression);emit(node.expression),write("["),emit(node.argumentExpression),write("]")}}function hasSpreadElement(elements){return ts.forEach(elements,function(e){return 191===e.kind})}function skipParentheses(node){for(;178===node.kind||177===node.kind||195===node.kind||196===node.kind;)node=node.expression;return node}function emitCallTarget(node){if(69===node.kind||97===node.kind||95===node.kind)return emit(node),node;var temp=createAndRecordTempVariable(0);return write("("),emit(temp),write(" = "),emit(node),write(")"),temp}function emitCallWithSpread(node){var target,expr=skipParentheses(node.expression);172===expr.kind?(target=emitCallTarget(expr.expression),write("."),emit(expr.name)):173===expr.kind?(target=emitCallTarget(expr.expression),write("["),emit(expr.argumentExpression),write("]")):95===expr.kind?(target=expr,write("_super")):emit(node.expression),write(".apply("),target?95===target.kind?emitThis(target):emit(target):write("void 0"),write(", "),emitListWithSpread(node.arguments,!1,!1,!1,!0),write(")")}function isInAsyncMethodWithSuperInES6(node){if(2===languageVersion){var container=ts.getSuperContainer(node,!1);if(container&&6144&resolver.getNodeCheckFlags(container))return!0}return!1}function emitSuperAccessInAsyncMethod(superNode,argumentExpression){var container=ts.getSuperContainer(superNode,!1),isSuperBinding=4096&resolver.getNodeCheckFlags(container);write("_super("),emit(argumentExpression),write(isSuperBinding?").value":")")}function emitCallExpression(node){if(2>languageVersion&&hasSpreadElement(node.arguments))return void emitCallWithSpread(node);var expression=node.expression,superCall=!1,isAsyncMethodWithSuper=!1;95===expression.kind?(emitSuper(expression),superCall=!0):(superCall=ts.isSuperPropertyOrElementAccess(expression),isAsyncMethodWithSuper=superCall&&isInAsyncMethodWithSuperInES6(node),emit(expression)),superCall&&(2>languageVersion||isAsyncMethodWithSuper)?(write(".call("),emitThis(expression),node.arguments.length&&(write(", "),emitCommaList(node.arguments)),write(")")):(write("("),emitCommaList(node.arguments),write(")"))}function emitNewExpression(node){if(write("new "),1===languageVersion&&node.arguments&&hasSpreadElement(node.arguments)){write("(");var target=emitCallTarget(node.expression);write(".bind.apply("),emit(target),write(", [void 0].concat("),emitListWithSpread(node.arguments,!1,!1,!1,!1),write(")))"),write("()")}else emit(node.expression),node.arguments&&(write("("),emitCommaList(node.arguments),write(")"))}function emitTaggedTemplateExpression(node){languageVersion>=2?(emit(node.tag),write(" "),emit(node.template)):emitDownlevelTaggedTemplate(node)}function emitParenExpression(node){if(!ts.nodeIsSynthesized(node)&&180!==node.parent.kind&&(177===node.expression.kind||195===node.expression.kind||196===node.expression.kind)){for(var operand=node.expression.expression;177===operand.kind||195===operand.kind||196===operand.kind;)operand=operand.expression;if(!(185===operand.kind||183===operand.kind||182===operand.kind||181===operand.kind||186===operand.kind||175===operand.kind||187===operand.kind&&195===node.expression.kind||174===operand.kind&&175===node.parent.kind||179===operand.kind&&174===node.parent.kind||8===operand.kind&&172===node.parent.kind))return void emit(operand)}write("("),emit(node.expression),write(")")}function emitDeleteExpression(node){write(ts.tokenToString(78)),write(" "),emit(node.expression)}function emitVoidExpression(node){write(ts.tokenToString(103)),write(" "),emit(node.expression)}function emitTypeOfExpression(node){write(ts.tokenToString(101)),write(" "),emit(node.expression)}function isNameOfExportedSourceLevelDeclarationInSystemExternalModule(node){if(!isCurrentFileSystemExternalModule()||69!==node.kind||ts.nodeIsSynthesized(node))return!1;var isVariableDeclarationOrBindingElement=node.parent&&(218===node.parent.kind||169===node.parent.kind),targetDeclaration=isVariableDeclarationOrBindingElement?node.parent:resolver.getReferencedValueDeclaration(node);return isSourceFileLevelDeclarationInSystemJsModule(targetDeclaration,!0)}function isNameOfExportedDeclarationInNonES6Module(node){if(modulekind===ts.ModuleKind.System||69!==node.kind||ts.nodeIsSynthesized(node))return!1;if(exportEquals||!exportSpecifiers||!(node.text in exportSpecifiers))return!1;var declaration=resolver.getReferencedValueDeclaration(node);return declaration&&256===ts.getEnclosingBlockScopeContainer(declaration).kind}function emitPrefixUnaryExpression(node){var isPlusPlusOrMinusMinus=41===node.operator||42===node.operator,externalExportChanged=isPlusPlusOrMinusMinus&&isNameOfExportedSourceLevelDeclarationInSystemExternalModule(node.operand);externalExportChanged&&(write(exportFunctionForFile+'("'),emitNodeWithoutSourceMap(node.operand),write('", '));var internalExportChanged=isPlusPlusOrMinusMinus&&isNameOfExportedDeclarationInNonES6Module(node.operand);if(internalExportChanged&&emitAliasEqual(node.operand),write(ts.tokenToString(node.operator)),185===node.operand.kind){var operand=node.operand;35!==node.operator||35!==operand.operator&&41!==operand.operator?36!==node.operator||36!==operand.operator&&42!==operand.operator||write(" "):write(" ")}emit(node.operand),externalExportChanged&&write(")")}function emitPostfixUnaryExpression(node){var externalExportChanged=isNameOfExportedSourceLevelDeclarationInSystemExternalModule(node.operand),internalExportChanged=isNameOfExportedDeclarationInNonES6Module(node.operand);externalExportChanged?(write("("+exportFunctionForFile+'("'),emitNodeWithoutSourceMap(node.operand),write('", '),write(ts.tokenToString(node.operator)),emit(node.operand),write(41===node.operator?") - 1)":") + 1)")):internalExportChanged?(emitAliasEqual(node.operand),emit(node.operand),write(41===node.operator?" += 1":" -= 1")):(emit(node.operand),write(ts.tokenToString(node.operator)))}function shouldHoistDeclarationInSystemJsModule(node){return isSourceFileLevelDeclarationInSystemJsModule(node,!1)}function isSourceFileLevelDeclarationInSystemJsModule(node,isExported){if(!node||!isCurrentFileSystemExternalModule())return!1;for(var current=ts.getRootDeclaration(node).parent;current;){if(256===current.kind)return!isExported||0!==(1&ts.getCombinedNodeFlags(node));if(ts.isDeclaration(current))return!1;current=current.parent}}function emitExponentiationOperator(node){var leftHandSideExpression=node.left;if(60===node.operatorToken.kind){var synthesizedLHS=void 0,shouldEmitParentheses=!1;if(ts.isElementAccessExpression(leftHandSideExpression)){shouldEmitParentheses=!0,write("("),synthesizedLHS=ts.createSynthesizedNode(173,!1);var identifier=emitTempVariableAssignment(leftHandSideExpression.expression,!1,!1);if(synthesizedLHS.expression=identifier,8!==leftHandSideExpression.argumentExpression.kind&&9!==leftHandSideExpression.argumentExpression.kind){var tempArgumentExpression=createAndRecordTempVariable(268435456);synthesizedLHS.argumentExpression=tempArgumentExpression,emitAssignment(tempArgumentExpression,leftHandSideExpression.argumentExpression,!0,leftHandSideExpression.expression)}else synthesizedLHS.argumentExpression=leftHandSideExpression.argumentExpression;write(", ")}else if(ts.isPropertyAccessExpression(leftHandSideExpression)){shouldEmitParentheses=!0,write("("),synthesizedLHS=ts.createSynthesizedNode(172,!1);var identifier=emitTempVariableAssignment(leftHandSideExpression.expression,!1,!1);synthesizedLHS.expression=identifier,synthesizedLHS.name=leftHandSideExpression.name,write(", ")}emit(synthesizedLHS||leftHandSideExpression),write(" = "),write("Math.pow("),emit(synthesizedLHS||leftHandSideExpression),write(", "),emit(node.right),write(")"),shouldEmitParentheses&&write(")")}else write("Math.pow("),emit(leftHandSideExpression),write(", "),emit(node.right),write(")")}function emitAliasEqual(name){for(var _a=0,_b=exportSpecifiers[name.text];_a<_b.length;_a++){var specifier=_b[_a];emitStart(specifier.name),emitContainingModuleName(specifier),0===languageVersion&&"default"===name.text?write('["default"]'):(write("."),emitNodeWithCommentsAndWithoutSourcemap(specifier.name)),emitEnd(specifier.name),write(" = ")}return!0}function emitBinaryExpression(node){if(2>languageVersion&&56===node.operatorToken.kind&&(171===node.left.kind||170===node.left.kind))emitDestructuring(node,202===node.parent.kind);else{var isAssignment=ts.isAssignmentOperator(node.operatorToken.kind),externalExportChanged=isAssignment&&isNameOfExportedSourceLevelDeclarationInSystemExternalModule(node.left);externalExportChanged&&(write(exportFunctionForFile+'("'),emitNodeWithoutSourceMap(node.left),write('", '));var internalExportChanged=isAssignment&&isNameOfExportedDeclarationInNonES6Module(node.left);if(internalExportChanged&&emitAliasEqual(node.left),38===node.operatorToken.kind||60===node.operatorToken.kind)emitExponentiationOperator(node);else{emit(node.left);var indentedBeforeOperator=indentIfOnDifferentLines(node,node.left,node.operatorToken,24!==node.operatorToken.kind?" ":void 0);write(ts.tokenToString(node.operatorToken.kind));var indentedAfterOperator=indentIfOnDifferentLines(node,node.operatorToken,node.right," ");emit(node.right),decreaseIndentIf(indentedBeforeOperator,indentedAfterOperator)}externalExportChanged&&write(")")}}function synthesizedNodeStartsOnNewLine(node){return ts.nodeIsSynthesized(node)&&node.startsOnNewLine}function emitConditionalExpression(node){emit(node.condition);var indentedBeforeQuestion=indentIfOnDifferentLines(node,node.condition,node.questionToken," ");write("?");var indentedAfterQuestion=indentIfOnDifferentLines(node,node.questionToken,node.whenTrue," ");emit(node.whenTrue),decreaseIndentIf(indentedBeforeQuestion,indentedAfterQuestion);var indentedBeforeColon=indentIfOnDifferentLines(node,node.whenTrue,node.colonToken," ");write(":");var indentedAfterColon=indentIfOnDifferentLines(node,node.colonToken,node.whenFalse," ");emit(node.whenFalse),decreaseIndentIf(indentedBeforeColon,indentedAfterColon)}function decreaseIndentIf(value1,value2){value1&&decreaseIndent(),value2&&decreaseIndent()}function isSingleLineEmptyBlock(node){if(node&&199===node.kind){var block=node;return 0===block.statements.length&&nodeEndIsOnSameLineAsNodeStart(block,block)}}function emitBlock(node){return isSingleLineEmptyBlock(node)?(emitToken(15,node.pos),write(" "),void emitToken(16,node.statements.end)):(emitToken(15,node.pos),increaseIndent(),226===node.kind&&(ts.Debug.assert(225===node.parent.kind),emitCaptureThisForNodeIfNecessary(node.parent)),emitLines(node.statements),226===node.kind&&emitTempDeclarations(!0),decreaseIndent(),writeLine(),void emitToken(16,node.statements.end))}function emitEmbeddedStatement(node){199===node.kind?(write(" "),emit(node)):(increaseIndent(),writeLine(),emit(node),decreaseIndent())}function emitExpressionStatement(node){emitParenthesizedIf(node.expression,180===node.expression.kind),write(";")}function emitIfStatement(node){var endPos=emitToken(88,node.pos);write(" "),endPos=emitToken(17,endPos),emit(node.expression),emitToken(18,node.expression.end),emitEmbeddedStatement(node.thenStatement),node.elseStatement&&(writeLine(),emitToken(80,node.thenStatement.end),203===node.elseStatement.kind?(write(" "),emit(node.elseStatement)):emitEmbeddedStatement(node.elseStatement))}function emitDoStatement(node){emitLoop(node,emitDoStatementWorker)}function emitDoStatementWorker(node,loop){write("do"),loop?emitConvertedLoopCall(loop,!0):emitNormalLoopBody(node,!0),199===node.statement.kind?write(" "):writeLine(),write("while ("),emit(node.expression),write(");")}function emitWhileStatement(node){emitLoop(node,emitWhileStatementWorker)}function emitWhileStatementWorker(node,loop){write("while ("),emit(node.expression),write(")"),loop?emitConvertedLoopCall(loop,!0):emitNormalLoopBody(node,!0)}function tryEmitStartOfVariableDeclarationList(decl){if(shouldHoistVariable(decl,!0))return!1;if(convertedLoopState&&0===(3072&ts.getCombinedNodeFlags(decl))){for(var _a=0,_b=decl.declarations;_a<_b.length;_a++){var varDecl=_b[_a];hoistVariableDeclarationFromLoop(convertedLoopState,varDecl)}return!1}return emitStart(decl),write(decl&&languageVersion>=2?ts.isLet(decl)?"let ":ts.isConst(decl)?"const ":"var ":"var "),!0}function emitVariableDeclarationListSkippingUninitializedEntries(list){for(var started=!1,_a=0,_b=list.declarations;_a<_b.length;_a++){var decl=_b[_a];decl.initializer&&(started?write(", "):started=!0,emit(decl))}return started}function shouldConvertLoopBody(node){return 2>languageVersion&&0!==(65536&resolver.getNodeCheckFlags(node))}function emitLoop(node,loopEmitter){var shouldConvert=shouldConvertLoopBody(node);if(shouldConvert){var loop=convertLoopBody(node);214===node.parent.kind&&emitLabelAndColon(node.parent),loopEmitter(node,loop)}else loopEmitter(node,void 0)}function convertLoopBody(node){function processVariableDeclaration(name){if(69===name.kind){var nameText=isNameOfNestedBlockScopedRedeclarationOrCapturedBinding(name)?getGeneratedNameForNode(name):name.text;if(loopParameters.push(nameText),2097152&resolver.getNodeCheckFlags(name.parent)){var reassignedVariable={originalName:name,outParamName:makeUniqueName("out_"+nameText)};(loopOutParameters||(loopOutParameters=[])).push(reassignedVariable)}}else for(var _a=0,_b=name.elements;_a<_b.length;_a++){var element=_b[_a];processVariableDeclaration(element.name)}}var loopInitializer,functionName=makeUniqueName("_loop");switch(node.kind){case 206:case 207:case 208:var initializer=node.initializer;initializer&&219===initializer.kind&&(loopInitializer=node.initializer)}var loopParameters,loopOutParameters;if(loopInitializer&&3072&ts.getCombinedNodeFlags(loopInitializer)){loopParameters=[];for(var _a=0,_b=loopInitializer.declarations;_a<_b.length;_a++){var varDeclaration=_b[_a];processVariableDeclaration(varDeclaration.name)}}var bodyIsBlock=199===node.statement.kind,paramList=loopParameters?loopParameters.join(", "):"";writeLine(),write("var "+functionName+" = function("+paramList+")");var convertedOuterLoopState=convertedLoopState;if(convertedLoopState={loopOutParameters:loopOutParameters},convertedOuterLoopState&&(convertedOuterLoopState.argumentsName&&(convertedLoopState.argumentsName=convertedOuterLoopState.argumentsName),convertedOuterLoopState.thisName&&(convertedLoopState.thisName=convertedOuterLoopState.thisName),convertedOuterLoopState.hoistedLocalVariables&&(convertedLoopState.hoistedLocalVariables=convertedOuterLoopState.hoistedLocalVariables)),write(" {"),writeLine(),increaseIndent(),bodyIsBlock?emitLines(node.statement.statements):emit(node.statement),writeLine(),copyLoopOutParameters(convertedLoopState,1,!0),decreaseIndent(),writeLine(),write("};"),writeLine(),loopOutParameters){write("var ");for(var i=0;i<loopOutParameters.length;i++)0!==i&&write(", "),write(loopOutParameters[i].outParamName);write(";"),writeLine()}if(convertedLoopState.argumentsName&&(convertedOuterLoopState?convertedOuterLoopState.argumentsName=convertedLoopState.argumentsName:(write("var "+convertedLoopState.argumentsName+" = arguments;"),writeLine())),convertedLoopState.thisName&&(convertedOuterLoopState?convertedOuterLoopState.thisName=convertedLoopState.thisName:(write("var "+convertedLoopState.thisName+" = this;"),writeLine())),convertedLoopState.hoistedLocalVariables)if(convertedOuterLoopState)convertedOuterLoopState.hoistedLocalVariables=convertedLoopState.hoistedLocalVariables;else{write("var ");for(var seen=void 0,_c=0,_d=convertedLoopState.hoistedLocalVariables;_c<_d.length;_c++){var id=_d[_c];seen?write(", "):seen=ts.createMap(),id.text in seen||(emit(id),seen[id.text]=id.text)}write(";"),writeLine()}var currentLoopState=convertedLoopState;return convertedLoopState=convertedOuterLoopState,{functionName:functionName,paramList:paramList,state:currentLoopState}}function emitNormalLoopBody(node,emitAsEmbeddedStatement){var saveAllowedNonLabeledJumps;convertedLoopState&&(saveAllowedNonLabeledJumps=convertedLoopState.allowedNonLabeledJumps,convertedLoopState.allowedNonLabeledJumps=6),emitAsEmbeddedStatement?emitEmbeddedStatement(node.statement):199===node.statement.kind?emitLines(node.statement.statements):(writeLine(),emit(node.statement)),convertedLoopState&&(convertedLoopState.allowedNonLabeledJumps=saveAllowedNonLabeledJumps)}function copyLoopOutParameters(state,copyDirection,emitAsStatements){if(state.loopOutParameters)for(var _a=0,_b=state.loopOutParameters;_a<_b.length;_a++){var outParam=_b[_a];0===copyDirection?(emitIdentifier(outParam.originalName),write(" = "+outParam.outParamName)):(write(outParam.outParamName+" = "),emitIdentifier(outParam.originalName)),emitAsStatements?(write(";"),writeLine()):write(", ")}}function emitConvertedLoopCall(loop,emitAsBlock){function emitDispatchTableForLabeledJumps(loopResultVariable,currentLoop,outerLoop){(currentLoop.labeledNonLocalBreaks||currentLoop.labeledNonLocalContinues)&&(write("switch("+loopResultVariable+") {"),increaseIndent(),emitDispatchEntriesForLabeledJumps(currentLoop.labeledNonLocalBreaks,!0,loopResultVariable,outerLoop),emitDispatchEntriesForLabeledJumps(currentLoop.labeledNonLocalContinues,!1,loopResultVariable,outerLoop),decreaseIndent(),writeLine(),write("}"))}function emitDispatchEntriesForLabeledJumps(table,isBreak,loopResultVariable,outerLoop){if(table)for(var labelText in table){var labelMarker=table[labelText];writeLine(),write('case "'+labelMarker+'": '),!outerLoop||outerLoop.labels&&outerLoop.labels[labelText]?(write(isBreak?"break ":"continue "),write(labelText+";")):(setLabeledJump(outerLoop,isBreak,labelText,labelMarker),write("return "+loopResultVariable+";"))}}emitAsBlock&&(write(" {"),writeLine(),increaseIndent());var isSimpleLoop=!(-5&loop.state.nonLocalJumps||loop.state.labeledNonLocalBreaks||loop.state.labeledNonLocalContinues),loopResult=makeUniqueName("state");isSimpleLoop||write("var "+loopResult+" = "),write(loop.functionName+"("+loop.paramList+");"),writeLine(),copyLoopOutParameters(loop.state,0,!0),isSimpleLoop||(writeLine(),8&loop.state.nonLocalJumps&&(write("if (typeof "+loopResult+' === "object") '),convertedLoopState?(write("return "+loopResult+";"),convertedLoopState.nonLocalJumps|=8):write("return "+loopResult+".value;"),writeLine()),2&loop.state.nonLocalJumps&&(write("if ("+loopResult+' === "break") break;'),writeLine()),emitDispatchTableForLabeledJumps(loopResult,loop.state,convertedLoopState)),emitAsBlock&&(writeLine(),decreaseIndent(),write("}"))}function emitForStatement(node){emitLoop(node,emitForStatementWorker)}function emitForStatementWorker(node,loop){var endPos=emitToken(86,node.pos);if(write(" "),endPos=emitToken(17,endPos),node.initializer&&219===node.initializer.kind){var variableDeclarationList=node.initializer,startIsEmitted=tryEmitStartOfVariableDeclarationList(variableDeclarationList);startIsEmitted?emitCommaList(variableDeclarationList.declarations):emitVariableDeclarationListSkippingUninitializedEntries(variableDeclarationList)}else node.initializer&&emit(node.initializer);write(";"),emitOptional(" ",node.condition),write(";"),emitOptional(" ",node.incrementor),write(")"),loop?emitConvertedLoopCall(loop,!0):emitNormalLoopBody(node,!0)}function emitForInOrForOfStatement(node){2>languageVersion&&208===node.kind?emitLoop(node,emitDownLevelForOfStatementWorker):emitLoop(node,emitForInOrForOfStatementWorker)}function emitForInOrForOfStatementWorker(node,loop){var endPos=emitToken(86,node.pos);if(write(" "),endPos=emitToken(17,endPos),219===node.initializer.kind){var variableDeclarationList=node.initializer;variableDeclarationList.declarations.length>=1&&(tryEmitStartOfVariableDeclarationList(variableDeclarationList),emit(variableDeclarationList.declarations[0]))}else emit(node.initializer);write(207===node.kind?" in ":" of "),emit(node.expression),emitToken(18,node.expression.end),loop?emitConvertedLoopCall(loop,!0):emitNormalLoopBody(node,!0)}function emitDownLevelForOfStatementWorker(node,loop){var endPos=emitToken(86,node.pos);write(" "),endPos=emitToken(17,endPos);var counter=createTempVariable(268435456),rhsReference=ts.createSynthesizedNode(69);rhsReference.text=69===node.expression.kind?makeUniqueName(node.expression.text):makeTempVariableName(0),emitStart(node.expression),write("var "),emitNodeWithoutSourceMap(counter),write(" = 0"),emitEnd(node.expression),write(", "),emitStart(node.expression),emitNodeWithoutSourceMap(rhsReference),write(" = "),emitNodeWithoutSourceMap(node.expression),emitEnd(node.expression),write("; "),emitStart(node.expression),emitNodeWithoutSourceMap(counter),write(" < "),emitNodeWithCommentsAndWithoutSourcemap(rhsReference),write(".length"),emitEnd(node.expression),write("; "),emitStart(node.expression),emitNodeWithoutSourceMap(counter),write("++"),emitEnd(node.expression),emitToken(18,node.expression.end),write(" {"),writeLine(),increaseIndent();var rhsIterationValue=createElementAccessExpression(rhsReference,counter);if(emitStart(node.initializer),219===node.initializer.kind){write("var ");var variableDeclarationList=node.initializer;if(variableDeclarationList.declarations.length>0){var declaration=variableDeclarationList.declarations[0];ts.isBindingPattern(declaration.name)?emitDestructuring(declaration,!1,rhsIterationValue):(emitNodeWithCommentsAndWithoutSourcemap(declaration),write(" = "),emitNodeWithoutSourceMap(rhsIterationValue))}else emitNodeWithoutSourceMap(createTempVariable(0)),write(" = "),emitNodeWithoutSourceMap(rhsIterationValue)}else{var assignmentExpression=createBinaryExpression(node.initializer,56,rhsIterationValue,!1);170===node.initializer.kind||171===node.initializer.kind?emitDestructuring(assignmentExpression,!0,void 0):emitNodeWithCommentsAndWithoutSourcemap(assignmentExpression)}emitEnd(node.initializer),write(";"),loop?(writeLine(),emitConvertedLoopCall(loop,!1)):emitNormalLoopBody(node,!1),writeLine(),decreaseIndent(),write("}")}function emitBreakOrContinueStatement(node){if(convertedLoopState){var jump=210===node.kind?2:4,canUseBreakOrContinue=node.label&&convertedLoopState.labels&&convertedLoopState.labels[node.label.text]||!node.label&&convertedLoopState.allowedNonLabeledJumps&jump;if(!canUseBreakOrContinue){if(write("return "),copyLoopOutParameters(convertedLoopState,1,!1),node.label){var labelMarker=void 0;210===node.kind?(labelMarker="break-"+node.label.text,setLabeledJump(convertedLoopState,!0,node.label.text,labelMarker)):(labelMarker="continue-"+node.label.text,setLabeledJump(convertedLoopState,!1,node.label.text,labelMarker)),write('"'+labelMarker+'";')}else 210===node.kind?(convertedLoopState.nonLocalJumps|=2,write('"break";')):(convertedLoopState.nonLocalJumps|=4,write('"continue";'));return}}emitToken(210===node.kind?70:75,node.pos),emitOptional(" ",node.label),write(";")}function emitReturnStatement(node){return convertedLoopState?(convertedLoopState.nonLocalJumps|=8,write("return { value: "),node.expression?emit(node.expression):write("void 0"),void write(" };")):(emitToken(94,node.pos),emitOptional(" ",node.expression),void write(";"))}function emitWithStatement(node){write("with ("),emit(node.expression),write(")"),emitEmbeddedStatement(node.statement)}function emitSwitchStatement(node){var endPos=emitToken(96,node.pos);write(" "),emitToken(17,endPos),emit(node.expression),endPos=emitToken(18,node.expression.end),write(" ");var saveAllowedNonLabeledJumps;convertedLoopState&&(saveAllowedNonLabeledJumps=convertedLoopState.allowedNonLabeledJumps,convertedLoopState.allowedNonLabeledJumps|=2),emitCaseBlock(node.caseBlock,endPos),convertedLoopState&&(convertedLoopState.allowedNonLabeledJumps=saveAllowedNonLabeledJumps)}function emitCaseBlock(node,startPos){emitToken(15,startPos),increaseIndent(),emitLines(node.clauses),decreaseIndent(),writeLine(),emitToken(16,node.clauses.end)}function nodeStartPositionsAreOnSameLine(node1,node2){return ts.getLineOfLocalPositionFromLineMap(currentLineMap,ts.skipTrivia(currentText,node1.pos))===ts.getLineOfLocalPositionFromLineMap(currentLineMap,ts.skipTrivia(currentText,node2.pos))}function nodeEndPositionsAreOnSameLine(node1,node2){return ts.getLineOfLocalPositionFromLineMap(currentLineMap,node1.end)===ts.getLineOfLocalPositionFromLineMap(currentLineMap,node2.end)}function nodeEndIsOnSameLineAsNodeStart(node1,node2){return ts.getLineOfLocalPositionFromLineMap(currentLineMap,node1.end)===ts.getLineOfLocalPositionFromLineMap(currentLineMap,ts.skipTrivia(currentText,node2.pos))}function emitCaseOrDefaultClause(node){249===node.kind?(write("case "),emit(node.expression),write(":")):write("default:"),1===node.statements.length&&nodeStartPositionsAreOnSameLine(node,node.statements[0])?(write(" "),emit(node.statements[0])):(increaseIndent(),emitLines(node.statements),decreaseIndent())}function emitThrowStatement(node){write("throw "),emit(node.expression),write(";")}function emitTryStatement(node){write("try "),emit(node.tryBlock),emit(node.catchClause),node.finallyBlock&&(writeLine(),write("finally "),emit(node.finallyBlock))}function emitCatchClause(node){writeLine();var endPos=emitToken(72,node.pos);write(" "),emitToken(17,endPos),emit(node.variableDeclaration),emitToken(18,node.variableDeclaration?node.variableDeclaration.end:endPos),write(" "),emitBlock(node.block)}function emitDebuggerStatement(node){emitToken(76,node.pos),write(";")}function emitLabelAndColon(node){emit(node.label),write(": ")}function emitLabeledStatement(node){ts.isIterationStatement(node.statement,!1)&&shouldConvertLoopBody(node.statement)||emitLabelAndColon(node),convertedLoopState&&(convertedLoopState.labels||(convertedLoopState.labels=ts.createMap()),convertedLoopState.labels[node.label.text]=node.label.text),emit(node.statement),convertedLoopState&&(convertedLoopState.labels[node.label.text]=void 0)}function getContainingModule(node){do node=node.parent;while(node&&225!==node.kind);return node}function emitContainingModuleName(node){var container=getContainingModule(node);write(container?getGeneratedNameForNode(container):"exports")}function emitModuleMemberName(node){if(emitStart(node.name),1&ts.getCombinedNodeFlags(node)){var container=getContainingModule(node);container?(write(getGeneratedNameForNode(container)),write(".")):modulekind!==ts.ModuleKind.ES6&&modulekind!==ts.ModuleKind.System&&write("exports.")}emitNodeWithCommentsAndWithoutSourcemap(node.name),emitEnd(node.name)}function createVoidZero(){var zero=ts.createSynthesizedNode(8);zero.text="0";var result=ts.createSynthesizedNode(183);return result.expression=zero,result}function emitEs6ExportDefaultCompat(node){256===node.parent.kind&&(ts.Debug.assert(!!(512&node.flags)||235===node.kind),(modulekind===ts.ModuleKind.CommonJS||modulekind===ts.ModuleKind.AMD||modulekind===ts.ModuleKind.UMD)&&(isEs6Module||(0!==languageVersion?(write('Object.defineProperty(exports, "__esModule", { value: true });'),writeLine()):(write("exports.__esModule = true;"),writeLine()))))}function emitExportMemberAssignment(node){1&node.flags&&(writeLine(),emitStart(node),modulekind===ts.ModuleKind.System&&node.parent===currentSourceFile?(write(exportFunctionForFile+'("'),512&node.flags?write("default"):emitNodeWithCommentsAndWithoutSourcemap(node.name),write('", '),emitDeclarationName(node),write(")")):(512&node.flags?(emitEs6ExportDefaultCompat(node),write(0===languageVersion?'exports["default"]':"exports.default")):emitModuleMemberName(node),write(" = "),emitDeclarationName(node)),emitEnd(node),write(";"))}function emitExportMemberAssignments(name){if(modulekind!==ts.ModuleKind.System&&!exportEquals&&exportSpecifiers&&name.text in exportSpecifiers)for(var _a=0,_b=exportSpecifiers[name.text];_a<_b.length;_a++){var specifier=_b[_a];writeLine(),emitStart(specifier.name),emitContainingModuleName(specifier),write("."),emitNodeWithCommentsAndWithoutSourcemap(specifier.name),emitEnd(specifier.name),write(" = "),emitExpressionIdentifier(name),write(";")}}function emitExportSpecifierInSystemModule(specifier){ts.Debug.assert(modulekind===ts.ModuleKind.System),(resolver.getReferencedValueDeclaration(specifier.propertyName||specifier.name)||resolver.isValueAliasDeclaration(specifier))&&(writeLine(),emitStart(specifier.name),write(exportFunctionForFile+'("'),emitNodeWithCommentsAndWithoutSourcemap(specifier.name),write('", '),emitExpressionIdentifier(specifier.propertyName||specifier.name),write(")"),emitEnd(specifier.name),write(";"))}function emitAssignment(name,value,shouldEmitCommaBeforeAssignment,nodeForSourceMap){shouldEmitCommaBeforeAssignment&&write(", ");var exportChanged=isNameOfExportedSourceLevelDeclarationInSystemExternalModule(name);exportChanged&&(write(exportFunctionForFile+'("'),emitNodeWithCommentsAndWithoutSourcemap(name),write('", '));var isVariableDeclarationOrBindingElement=name.parent&&(218===name.parent.kind||169===name.parent.kind);emitStart(isFirstVariableDeclaration(nodeForSourceMap)?nodeForSourceMap.parent:nodeForSourceMap),withTemporaryNoSourceMap(function(){isVariableDeclarationOrBindingElement?emitModuleMemberName(name.parent):emit(name),write(" = "),emit(value)}),emitEnd(nodeForSourceMap,!0),exportChanged&&write(")")}function emitTempVariableAssignment(expression,canDefineTempVariablesInPlace,shouldEmitCommaBeforeAssignment,sourceMapNode){var identifier=createTempVariable(0);return canDefineTempVariablesInPlace||recordTempDeclaration(identifier),emitAssignment(identifier,expression,shouldEmitCommaBeforeAssignment,sourceMapNode||expression.parent),identifier}function isFirstVariableDeclaration(root){return 218===root.kind&&219===root.parent.kind&&root.parent.declarations[0]===root}function emitDestructuring(root,isAssignmentExpressionStatement,value){function ensureIdentifier(expr,reuseIdentifierExpressions,sourceMapNode){if(69===expr.kind&&reuseIdentifierExpressions)return expr;var identifier=emitTempVariableAssignment(expr,canDefineTempVariablesInPlace,emitCount>0,sourceMapNode);return emitCount++,identifier}function createDefaultValueCheck(value,defaultValue,sourceMapNode){
value=ensureIdentifier(value,!0,sourceMapNode);var equals=ts.createSynthesizedNode(187);return equals.left=value,equals.operatorToken=ts.createSynthesizedNode(32),equals.right=createVoidZero(),createConditionalExpression(equals,defaultValue,value)}function createConditionalExpression(condition,whenTrue,whenFalse){var cond=ts.createSynthesizedNode(188);return cond.condition=condition,cond.questionToken=ts.createSynthesizedNode(53),cond.whenTrue=whenTrue,cond.colonToken=ts.createSynthesizedNode(54),cond.whenFalse=whenFalse,cond}function createNumericLiteral(value){var node=ts.createSynthesizedNode(8);return node.text=""+value,node}function createPropertyAccessForDestructuringProperty(object,propName){var index,nameIsComputed=140===propName.kind;return nameIsComputed?index=ensureIdentifier(propName.expression,!1,propName):(index=ts.createSynthesizedNode(propName.kind),index.text=ts.unescapeIdentifier(propName.text)),nameIsComputed||69!==index.kind?createElementAccessExpression(object,index):createPropertyAccessExpression(object,index)}function createSliceCall(value,sliceIndex){var call=ts.createSynthesizedNode(174),sliceIdentifier=ts.createSynthesizedNode(69);return sliceIdentifier.text="slice",call.expression=createPropertyAccessExpression(value,sliceIdentifier),call.arguments=ts.createSynthesizedNodeArray(),call.arguments[0]=createNumericLiteral(sliceIndex),call}function emitObjectLiteralAssignment(target,value,sourceMapNode){var properties=target.properties;1!==properties.length&&(value=ensureIdentifier(value,!0,sourceMapNode));for(var _a=0,properties_5=properties;_a<properties_5.length;_a++){var p=properties_5[_a];if(253===p.kind||254===p.kind){var propName=p.name,target_1=254===p.kind?p:p.initializer||propName;emitDestructuringAssignment(target_1,createPropertyAccessForDestructuringProperty(value,propName),p)}}}function emitArrayLiteralAssignment(target,value,sourceMapNode){var elements=target.elements;1!==elements.length&&(value=ensureIdentifier(value,!0,sourceMapNode));for(var i=0;i<elements.length;i++){var e=elements[i];193!==e.kind&&(191!==e.kind?emitDestructuringAssignment(e,createElementAccessExpression(value,createNumericLiteral(i)),e):i===elements.length-1&&emitDestructuringAssignment(e.expression,createSliceCall(value,i),e))}}function emitDestructuringAssignment(target,value,sourceMapNode){254===target.kind?(target.objectAssignmentInitializer&&(value=createDefaultValueCheck(value,target.objectAssignmentInitializer,sourceMapNode)),target=target.name):187===target.kind&&56===target.operatorToken.kind&&(value=createDefaultValueCheck(value,target.right,sourceMapNode),target=target.left),171===target.kind?emitObjectLiteralAssignment(target,value,sourceMapNode):170===target.kind?emitArrayLiteralAssignment(target,value,sourceMapNode):(emitAssignment(target,value,emitCount>0,sourceMapNode),emitCount++)}function emitAssignmentExpression(root){var target=root.left,value=root.right;ts.isEmptyObjectLiteralOrArrayLiteral(target)?emit(value):isAssignmentExpressionStatement?emitDestructuringAssignment(target,value,ts.nodeIsSynthesized(root)?target:root):(178!==root.parent.kind&&write("("),value=ensureIdentifier(value,!0,root),emitDestructuringAssignment(target,value,root),write(", "),emit(value),178!==root.parent.kind&&write(")"))}function emitBindingElement(target,value){if(target.initializer?value=value?createDefaultValueCheck(value,target.initializer,target):target.initializer:value||(value=createVoidZero()),ts.isBindingPattern(target.name)){var pattern=target.name,elements=pattern.elements,numElements=elements.length;1!==numElements&&(value=ensureIdentifier(value,0!==numElements,target));for(var i=0;numElements>i;i++){var element=elements[i];if(167===pattern.kind){var propName=element.propertyName||element.name;emitBindingElement(element,createPropertyAccessForDestructuringProperty(value,propName))}else 193!==element.kind&&(element.dotDotDotToken?i===numElements-1&&emitBindingElement(element,createSliceCall(value,i)):emitBindingElement(element,createElementAccessExpression(value,createNumericLiteral(i))))}}else emitAssignment(target.name,value,emitCount>0,target),emitCount++}var emitCount=0,canDefineTempVariablesInPlace=!1;if(218===root.kind){var isExported=1&ts.getCombinedNodeFlags(root),isSourceLevelForSystemModuleKind=shouldHoistDeclarationInSystemJsModule(root);canDefineTempVariablesInPlace=!isExported&&!isSourceLevelForSystemModuleKind}else 142===root.kind&&(canDefineTempVariablesInPlace=!0);187===root.kind?emitAssignmentExpression(root):(ts.Debug.assert(!isAssignmentExpressionStatement),isFirstVariableDeclaration(root)&&sourceMap.changeEmitSourcePos(),emitBindingElement(root,value))}function emitVariableDeclaration(node){if(ts.isBindingPattern(node.name)){var isExported=1&ts.getCombinedNodeFlags(node);if(languageVersion>=2&&(!isExported||modulekind===ts.ModuleKind.ES6)){var isTopLevelDeclarationInSystemModule=modulekind===ts.ModuleKind.System&&shouldHoistVariable(node,!0);isTopLevelDeclarationInSystemModule&&write("("),emit(node.name),emitOptional(" = ",node.initializer),isTopLevelDeclarationInSystemModule&&write(")")}else emitDestructuring(node,!1)}else{var initializer=node.initializer;if(!initializer&&2>languageVersion&&69===node.name.kind){var container=ts.getEnclosingBlockScopeContainer(node),flags=resolver.getNodeCheckFlags(node),isCapturedInFunction=131072&flags,isDeclaredInLoop=262144&flags,emittedAsTopLevel=ts.isBlockScopedContainerTopLevel(container)||isCapturedInFunction&&isDeclaredInLoop&&199===container.kind&&ts.isIterationStatement(container.parent,!1),emittedAsNestedLetDeclaration=1024&ts.getCombinedNodeFlags(node)&&!emittedAsTopLevel,emitExplicitInitializer=emittedAsNestedLetDeclaration&&207!==container.kind&&208!==container.kind&&(!resolver.isDeclarationWithCollidingName(node)||isDeclaredInLoop&&!isCapturedInFunction&&!ts.isIterationStatement(container,!1));emitExplicitInitializer&&(initializer=createVoidZero())}var exportChanged=isNameOfExportedSourceLevelDeclarationInSystemExternalModule(node.name);exportChanged&&(write(exportFunctionForFile+'("'),emitNodeWithCommentsAndWithoutSourcemap(node.name),write('", ')),emitModuleMemberName(node),emitOptional(" = ",initializer),exportChanged&&write(")")}}function emitExportVariableAssignments(node){if(193!==node.kind){var name=node.name;69===name.kind?emitExportMemberAssignments(name):ts.isBindingPattern(name)&&ts.forEach(name.elements,emitExportVariableAssignments)}}function isES6ExportedDeclaration(node){return!!(1&node.flags)&&modulekind===ts.ModuleKind.ES6&&256===node.parent.kind}function emitVariableStatement(node){var startIsEmitted=!1;if(1&node.flags?isES6ExportedDeclaration(node)&&(write("export "),startIsEmitted=tryEmitStartOfVariableDeclarationList(node.declarationList)):startIsEmitted=tryEmitStartOfVariableDeclarationList(node.declarationList),startIsEmitted)emitCommaList(node.declarationList.declarations),write(";");else{var atLeastOneItem=emitVariableDeclarationListSkippingUninitializedEntries(node.declarationList);atLeastOneItem&&write(";")}modulekind!==ts.ModuleKind.ES6&&node.parent===currentSourceFile&&ts.forEach(node.declarationList.declarations,emitExportVariableAssignments)}function shouldEmitLeadingAndTrailingCommentsForVariableStatement(node){if(!(1&node.flags))return!0;if(isES6ExportedDeclaration(node))return!0;for(var _a=0,_b=node.declarationList.declarations;_a<_b.length;_a++){var declaration=_b[_a];if(declaration.initializer)return!0}return!1}function emitParameter(node){if(2>languageVersion)if(ts.isBindingPattern(node.name)){var name_29=createTempVariable(0);tempParameters||(tempParameters=[]),tempParameters.push(name_29),emit(name_29)}else emit(node.name);else node.dotDotDotToken&&write("..."),emit(node.name),emitOptional(" = ",node.initializer)}function emitDefaultValueAssignments(node){if(2>languageVersion){var tempIndex_1=0;ts.forEach(node.parameters,function(parameter){if(!parameter.dotDotDotToken){var paramName=parameter.name,initializer=parameter.initializer;if(ts.isBindingPattern(paramName)){var hasBindingElements=paramName.elements.length>0;(hasBindingElements||initializer)&&(writeLine(),write("var "),hasBindingElements?emitDestructuring(parameter,!1,tempParameters[tempIndex_1]):(emit(tempParameters[tempIndex_1]),write(" = "),emit(initializer)),write(";")),tempIndex_1++}else initializer&&(writeLine(),emitStart(parameter),write("if ("),emitNodeWithoutSourceMap(paramName),write(" === void 0)"),emitEnd(parameter),write(" { "),emitStart(parameter),emitNodeWithCommentsAndWithoutSourcemap(paramName),write(" = "),emitNodeWithCommentsAndWithoutSourcemap(initializer),emitEnd(parameter),write("; }"))}})}}function emitRestParameter(node){if(2>languageVersion&&ts.hasDeclaredRestParameter(node)){var restParam=node.parameters[node.parameters.length-1];if(ts.isBindingPattern(restParam.name))return;var skipThisCount=node.parameters.length&&97===node.parameters[0].name.originalKeywordKind?1:0,restIndex=node.parameters.length-1-skipThisCount,tempName=createTempVariable(268435456).text;writeLine(),emitLeadingComments(restParam),emitStart(restParam),write("var "),emitNodeWithCommentsAndWithoutSourcemap(restParam.name),write(" = [];"),emitEnd(restParam),emitTrailingComments(restParam),writeLine(),write("for ("),emitStart(restParam),write("var "+tempName+" = "+restIndex+";"),emitEnd(restParam),write(" "),emitStart(restParam),write(tempName+" < arguments.length;"),emitEnd(restParam),write(" "),emitStart(restParam),write(tempName+"++"),emitEnd(restParam),write(") {"),increaseIndent(),writeLine(),emitStart(restParam),emitNodeWithCommentsAndWithoutSourcemap(restParam.name),write("["+tempName+" - "+restIndex+"] = arguments["+tempName+"];"),emitEnd(restParam),decreaseIndent(),writeLine(),write("}")}}function emitAccessor(node){write(149===node.kind?"get ":"set "),emit(node.name),emitSignatureAndBody(node)}function shouldEmitAsArrowFunction(node){return 180===node.kind&&languageVersion>=2}function emitDeclarationName(node){node.name?emitNodeWithCommentsAndWithoutSourcemap(node.name):write(getGeneratedNameForNode(node))}function shouldEmitFunctionName(node){return 179===node.kind?!!node.name:220===node.kind?!!node.name||modulekind!==ts.ModuleKind.ES6:void 0}function emitFunctionDeclaration(node){if(ts.nodeIsMissing(node.body))return emitCommentsOnNotEmittedNode(node);var kind=node.kind,parent=node.parent;147!==kind&&146!==kind&&parent&&253!==parent.kind&&174!==parent.kind&&170!==parent.kind&&emitLeadingComments(node),emitStart(node),shouldEmitAsArrowFunction(node)||(isES6ExportedDeclaration(node)&&(write("export "),512&node.flags&&write("default ")),write("function"),languageVersion>=2&&node.asteriskToken&&write("*"),write(" ")),shouldEmitFunctionName(node)&&emitDeclarationName(node),emitSignatureAndBody(node),modulekind!==ts.ModuleKind.ES6&&220===kind&&parent===currentSourceFile&&node.name&&emitExportMemberAssignments(node.name),emitEnd(node),147!==kind&&146!==kind&&180!==kind&&emitTrailingComments(node)}function emitCaptureThisForNodeIfNecessary(node){4&resolver.getNodeCheckFlags(node)&&(writeLine(),emitStart(node),write("var _this = this;"),emitEnd(node))}function emitSignatureParameters(node){if(increaseIndent(),write("("),node){var parameters=node.parameters,skipCount=node.parameters.length&&97===node.parameters[0].name.originalKeywordKind?1:0,omitCount=2>languageVersion&&ts.hasDeclaredRestParameter(node)?1:0;emitList(parameters,skipCount,parameters.length-omitCount-skipCount,!1,!1)}write(")"),decreaseIndent()}function emitSignatureParametersForArrow(node){return 1===node.parameters.length&&node.pos===node.parameters[0].pos?void emit(node.parameters[0]):void emitSignatureParameters(node)}function emitAsyncFunctionBodyForES6(node){var promiseConstructor=ts.getEntityNameFromTypeNode(node.type),isArrowFunction=180===node.kind,hasLexicalArguments=0!==(8192&resolver.getNodeCheckFlags(node));isArrowFunction||(write(" {"),increaseIndent(),writeLine(),4096&resolver.getNodeCheckFlags(node)?(writeLines("\nconst _super = (function (geti, seti) {\n    const cache = Object.create(null);\n    return name => cache[name] || (cache[name] = { get value() { return geti(name); }, set value(v) { seti(name, v); } });\n})(name => super[name], (name, value) => super[name] = value);"),writeLine()):2048&resolver.getNodeCheckFlags(node)&&(write("const _super = name => super[name];"),writeLine()),write("return")),write(" __awaiter(this"),write(hasLexicalArguments?", arguments, ":", void 0, "),languageVersion>=2||!promiseConstructor?write("void 0"):emitEntityNameAsExpression(promiseConstructor,!1),write(", function* ()"),emitFunctionBody(node),write(")"),isArrowFunction||(write(";"),decreaseIndent(),writeLine(),write("}"))}function emitFunctionBody(node){node.body?199===node.body.kind?emitBlockFunctionBody(node,node.body):emitExpressionFunctionBody(node,node.body):write(" { }")}function emitSignatureAndBody(node){var saveConvertedLoopState=convertedLoopState,saveTempFlags=tempFlags,saveTempVariables=tempVariables,saveTempParameters=tempParameters;convertedLoopState=void 0,tempFlags=0,tempVariables=void 0,tempParameters=void 0,shouldEmitAsArrowFunction(node)?(emitSignatureParametersForArrow(node),write(" =>")):emitSignatureParameters(node);var isAsync=ts.isAsyncFunctionLike(node);isAsync?emitAsyncFunctionBodyForES6(node):emitFunctionBody(node),isES6ExportedDeclaration(node)||emitExportMemberAssignment(node),ts.Debug.assert(void 0===convertedLoopState),convertedLoopState=saveConvertedLoopState,tempFlags=saveTempFlags,tempVariables=saveTempVariables,tempParameters=saveTempParameters}function emitFunctionBodyPreamble(node){emitCaptureThisForNodeIfNecessary(node),emitDefaultValueAssignments(node),emitRestParameter(node)}function emitExpressionFunctionBody(node,body){if(2>languageVersion||256&node.flags)return void emitDownLevelExpressionFunctionBody(node,body);write(" ");for(var current=body;177===current.kind;)current=current.expression;emitParenthesizedIf(body,171===current.kind)}function emitDownLevelExpressionFunctionBody(node,body){write(" {"),increaseIndent();var outPos=writer.getTextPos();emitDetachedCommentsAndUpdateCommentsInfo(node.body),emitFunctionBodyPreamble(node);var preambleEmitted=writer.getTextPos()!==outPos;decreaseIndent(),!preambleEmitted&&nodeStartPositionsAreOnSameLine(node,body)?(write(" "),emitStart(body),write("return "),emit(body),emitEnd(body),write(";"),emitTempDeclarations(!1),write(" ")):(increaseIndent(),writeLine(),emitLeadingComments(node.body),emitStart(body),write("return "),emit(body),emitEnd(body),write(";"),emitTrailingComments(node.body),emitTempDeclarations(!0),decreaseIndent(),writeLine()),emitStart(node.body),write("}"),emitEnd(node.body)}function emitBlockFunctionBody(node,body){write(" {");var initialTextPos=writer.getTextPos();increaseIndent(),emitDetachedCommentsAndUpdateCommentsInfo(body.statements);var startIndex=emitDirectivePrologues(body.statements,!0);emitFunctionBodyPreamble(node),decreaseIndent();var preambleEmitted=writer.getTextPos()!==initialTextPos;if(!preambleEmitted&&nodeEndIsOnSameLineAsNodeStart(body,body)){for(var _a=0,_b=body.statements;_a<_b.length;_a++){var statement=_b[_a];write(" "),emit(statement)}emitTempDeclarations(!1),write(" "),emitLeadingCommentsOfPosition(body.statements.end)}else increaseIndent(),emitLinesStartingAt(body.statements,startIndex),emitTempDeclarations(!0),writeLine(),emitLeadingCommentsOfPosition(body.statements.end),decreaseIndent();emitToken(16,body.statements.end)}function getSuperCallAtGivenIndex(ctor,index){if(!ctor.body)return void 0;var statements=ctor.body.statements;if(!statements||index>=statements.length)return void 0;var statement=statements[index];return 202===statement.kind&&ts.isSuperCallExpression(statement.expression)?statement:void 0}function emitParameterPropertyAssignments(node){ts.forEach(node.parameters,function(param){92&param.flags&&(writeLine(),emitStart(param),emitStart(param.name),write("this."),emitNodeWithoutSourceMap(param.name),emitEnd(param.name),write(" = "),emit(param.name),write(";"),emitEnd(param))})}function emitMemberAccessForPropertyName(memberName){9===memberName.kind||8===memberName.kind?(write("["),emitNodeWithCommentsAndWithoutSourcemap(memberName),write("]")):140===memberName.kind?emitComputedPropertyName(memberName):(write("."),emitNodeWithCommentsAndWithoutSourcemap(memberName))}function getInitializedProperties(node,isStatic){for(var properties=[],_a=0,_b=node.members;_a<_b.length;_a++){var member=_b[_a];145===member.kind&&isStatic===(0!==(32&member.flags))&&member.initializer&&properties.push(member)}return properties}function emitPropertyDeclarations(node,properties){for(var _a=0,properties_6=properties;_a<properties_6.length;_a++){var property=properties_6[_a];emitPropertyDeclaration(node,property)}}function emitPropertyDeclaration(node,property,receiver,isExpression){writeLine(),emitLeadingComments(property),emitStart(property),emitStart(property.name),receiver?write(receiver):32&property.flags?emitDeclarationName(node):write("this"),emitMemberAccessForPropertyName(property.name),emitEnd(property.name),write(" = "),emit(property.initializer),isExpression||write(";"),emitEnd(property),emitTrailingComments(property)}function emitMemberFunctionsForES5AndLower(node){ts.forEach(node.members,function(member){if(198===member.kind)writeLine(),write(";");else if(147===member.kind||146===node.kind){if(!member.body)return emitCommentsOnNotEmittedNode(member);writeLine(),emitLeadingComments(member),emitStart(member),emitStart(member.name),emitClassMemberPrefix(node,member),emitMemberAccessForPropertyName(member.name),emitEnd(member.name),write(" = "),emitFunctionDeclaration(member),emitEnd(member),write(";"),emitTrailingComments(member)}else if(149===member.kind||150===member.kind){var accessors=ts.getAllAccessorDeclarations(node.members,member);member===accessors.firstAccessor&&(writeLine(),emitStart(member),write("Object.defineProperty("),emitStart(member.name),emitClassMemberPrefix(node,member),write(", "),emitExpressionForPropertyName(member.name),emitEnd(member.name),write(", {"),increaseIndent(),accessors.getAccessor&&(writeLine(),emitLeadingComments(accessors.getAccessor),write("get: "),emitStart(accessors.getAccessor),write("function "),emitSignatureAndBody(accessors.getAccessor),emitEnd(accessors.getAccessor),emitTrailingComments(accessors.getAccessor),write(",")),accessors.setAccessor&&(writeLine(),emitLeadingComments(accessors.setAccessor),write("set: "),emitStart(accessors.setAccessor),write("function "),emitSignatureAndBody(accessors.setAccessor),emitEnd(accessors.setAccessor),emitTrailingComments(accessors.setAccessor),write(",")),writeLine(),write("enumerable: true,"),writeLine(),write("configurable: true"),decreaseIndent(),writeLine(),write("});"),emitEnd(member))}})}function emitMemberFunctionsForES6AndHigher(node){for(var _a=0,_b=node.members;_a<_b.length;_a++){var member=_b[_a];147!==member.kind&&146!==node.kind||member.body?147===member.kind||149===member.kind||150===member.kind?(writeLine(),emitLeadingComments(member),emitStart(member),32&member.flags&&write("static "),149===member.kind?write("get "):150===member.kind&&write("set "),member.asteriskToken&&write("*"),emit(member.name),emitSignatureAndBody(member),emitEnd(member),emitTrailingComments(member)):198===member.kind&&(writeLine(),write(";")):emitCommentsOnNotEmittedNode(member)}}function emitConstructor(node,baseTypeElement){var saveConvertedLoopState=convertedLoopState,saveTempFlags=tempFlags,saveTempVariables=tempVariables,saveTempParameters=tempParameters;convertedLoopState=void 0,tempFlags=0,tempVariables=void 0,tempParameters=void 0,emitConstructorWorker(node,baseTypeElement),ts.Debug.assert(void 0===convertedLoopState),convertedLoopState=saveConvertedLoopState,tempFlags=saveTempFlags,tempVariables=saveTempVariables,tempParameters=saveTempParameters}function emitConstructorWorker(node,baseTypeElement){var hasInstancePropertyWithInitializer=!1;ts.forEach(node.members,function(member){148!==member.kind||member.body||emitCommentsOnNotEmittedNode(member),145===member.kind&&member.initializer&&0===(32&member.flags)&&(hasInstancePropertyWithInitializer=!0)});var ctor=ts.getFirstConstructorWithBody(node);if(!(languageVersion>=2)||ctor||hasInstancePropertyWithInitializer){ctor&&emitLeadingComments(ctor),emitStart(ctor||node),2>languageVersion?(write("function "),emitDeclarationName(node),emitSignatureParameters(ctor)):(write("constructor"),ctor?emitSignatureParameters(ctor):write("()"));var startIndex=0;write(" {"),increaseIndent(),ctor&&(startIndex=emitDirectivePrologues(ctor.body.statements,!0),emitDetachedCommentsAndUpdateCommentsInfo(ctor.body.statements)),emitCaptureThisForNodeIfNecessary(node);var superCall;if(ctor?(emitDefaultValueAssignments(ctor),emitRestParameter(ctor),baseTypeElement&&(superCall=getSuperCallAtGivenIndex(ctor,startIndex),superCall&&(writeLine(),emit(superCall))),emitParameterPropertyAssignments(ctor)):baseTypeElement&&(writeLine(),emitStart(baseTypeElement),write(2>languageVersion?"_super.apply(this, arguments);":"super(...arguments);"),emitEnd(baseTypeElement)),emitPropertyDeclarations(node,getInitializedProperties(node,!1)),ctor){var statements=ctor.body.statements;superCall&&(statements=statements.slice(1)),emitLinesStartingAt(statements,startIndex)}emitTempDeclarations(!0),writeLine(),ctor&&emitLeadingCommentsOfPosition(ctor.body.statements.end),decreaseIndent(),emitToken(16,ctor?ctor.body.statements.end:node.members.end),emitEnd(ctor||node),ctor&&emitTrailingComments(ctor)}}function emitClassExpression(node){return emitClassLikeDeclaration(node)}function emitClassDeclaration(node){return emitClassLikeDeclaration(node)}function emitClassLikeDeclaration(node){2>languageVersion?emitClassLikeDeclarationBelowES6(node):emitClassLikeDeclarationForES6AndHigher(node),modulekind!==ts.ModuleKind.ES6&&node.parent===currentSourceFile&&node.name&&emitExportMemberAssignments(node.name)}function emitClassLikeDeclarationForES6AndHigher(node){var decoratedClassAlias,isHoistedDeclarationInSystemModule=shouldHoistDeclarationInSystemJsModule(node),isDecorated=ts.nodeIsDecorated(node),rewriteAsClassExpression=isDecorated||isHoistedDeclarationInSystemModule;221===node.kind&&(rewriteAsClassExpression?(isDecorated&&524288&resolver.getNodeCheckFlags(node)&&(decoratedClassAlias=ts.unescapeIdentifier(makeUniqueName(node.name?node.name.text:"default")),decoratedClassAliases[ts.getNodeId(node)]=decoratedClassAlias),!isES6ExportedDeclaration(node)||512&node.flags||void 0!==decoratedClassAlias||write("export "),void 0!==decoratedClassAlias?write("let "+decoratedClassAlias):(isHoistedDeclarationInSystemModule||write("let "),emitDeclarationName(node)),write(" = ")):isES6ExportedDeclaration(node)&&(write("export "),512&node.flags&&write("default ")));var generatedName,staticProperties=getInitializedProperties(node,!0),isClassExpressionWithStaticProperties=staticProperties.length>0&&192===node.kind;if(isClassExpressionWithStaticProperties){generatedName=node.name?getGeneratedNameForNode(node.name):makeUniqueName("classExpression");var synthesizedNode=ts.createSynthesizedNode(69);synthesizedNode.text=generatedName,recordTempDeclaration(synthesizedNode),write("("),increaseIndent(),emit(synthesizedNode),write(" = ")}write("class"),(node.name||512&node.flags&&(staticProperties.length>0||modulekind!==ts.ModuleKind.ES6)&&!rewriteAsClassExpression)&&(write(" "),emitDeclarationName(node));var baseTypeNode=ts.getClassExtendsHeritageClauseElement(node);if(baseTypeNode&&(write(" extends "),emit(baseTypeNode.expression)),write(" {"),increaseIndent(),writeLine(),emitConstructor(node,baseTypeNode),emitMemberFunctionsForES6AndHigher(node),decreaseIndent(),writeLine(),emitToken(16,node.members.end),rewriteAsClassExpression&&(void 0!==decoratedClassAlias&&(write(";"),writeLine(),!isES6ExportedDeclaration(node)||512&node.flags||write("export "),write("let "),emitDeclarationName(node),write(" = "+decoratedClassAlias)),decoratedClassAliases[ts.getNodeId(node)]=void 0,write(";")),isClassExpressionWithStaticProperties){for(var _a=0,staticProperties_1=staticProperties;_a<staticProperties_1.length;_a++){var property=staticProperties_1[_a];write(","),writeLine(),emitPropertyDeclaration(node,property,generatedName,!0)}write(","),writeLine(),write(generatedName),decreaseIndent(),write(")")}else writeLine(),emitPropertyDeclarations(node,staticProperties),emitDecoratorsOfClass(node,decoratedClassAlias);1&node.flags&&(modulekind!==ts.ModuleKind.ES6?emitExportMemberAssignment(node):512&node.flags?isDecorated&&(writeLine(),write("export default "),emitDeclarationName(node),write(";")):256!==node.parent.kind&&(writeLine(),emitStart(node),emitModuleMemberName(node),write(" = "),emitDeclarationName(node),emitEnd(node),write(";")))}function emitClassLikeDeclarationBelowES6(node){var isES6ExportedClass=isES6ExportedDeclaration(node);221===node.kind&&(!isES6ExportedClass||512&node.flags||write("export "),shouldHoistDeclarationInSystemJsModule(node)||write("var "),emitDeclarationName(node),write(" = ")),write("(function (");var baseTypeNode=ts.getClassExtendsHeritageClauseElement(node);baseTypeNode&&write("_super"),write(") {");var saveTempFlags=tempFlags,saveTempVariables=tempVariables,saveTempParameters=tempParameters,saveComputedPropertyNamesToGeneratedNames=computedPropertyNamesToGeneratedNames,saveConvertedLoopState=convertedLoopState;convertedLoopState=void 0,tempFlags=0,tempVariables=void 0,tempParameters=void 0,computedPropertyNamesToGeneratedNames=void 0,increaseIndent(),baseTypeNode&&(writeLine(),emitStart(baseTypeNode),write("__extends("),emitDeclarationName(node),write(", _super);"),emitEnd(baseTypeNode)),writeLine(),emitConstructor(node,baseTypeNode),emitMemberFunctionsForES5AndLower(node),emitPropertyDeclarations(node,getInitializedProperties(node,!0)),writeLine(),emitDecoratorsOfClass(node,void 0),writeLine(),emitToken(16,node.members.end,function(){write("return "),emitDeclarationName(node)}),write(";"),emitTempDeclarations(!0),ts.Debug.assert(void 0===convertedLoopState),convertedLoopState=saveConvertedLoopState,tempFlags=saveTempFlags,tempVariables=saveTempVariables,tempParameters=saveTempParameters,computedPropertyNamesToGeneratedNames=saveComputedPropertyNamesToGeneratedNames,decreaseIndent(),writeLine(),emitToken(16,node.members.end),emitStart(node),write("("),baseTypeNode&&emit(baseTypeNode.expression),write("))"),221===node.kind&&write(";"),emitEnd(node),221!==node.kind||isES6ExportedClass?isES6ExportedClass&&512&node.flags&&(writeLine(),write("export default "),emitDeclarationName(node),write(";")):emitExportMemberAssignment(node)}function emitClassMemberPrefix(node,member){emitDeclarationName(node),32&member.flags||write(".prototype")}function emitDecoratorsOfClass(node,decoratedClassAlias){emitDecoratorsOfMembers(node,0),emitDecoratorsOfMembers(node,32),emitDecoratorsOfConstructor(node,decoratedClassAlias)}function emitDecoratorsOfConstructor(node,decoratedClassAlias){var decorators=node.decorators,constructor=ts.getFirstConstructorWithBody(node),firstParameterDecorator=constructor&&ts.forEach(constructor.parameters,function(parameter){return parameter.decorators});if(decorators||firstParameterDecorator){writeLine(),emitStart(node.decorators||firstParameterDecorator),emitDeclarationName(node),void 0!==decoratedClassAlias&&write(" = "+decoratedClassAlias),write(" = __decorate(["),increaseIndent(),writeLine();var decoratorCount=decorators?decorators.length:0,argumentsWritten=emitList(decorators,0,decoratorCount,!0,!1,!1,!0,function(decorator){return emit(decorator.expression)});firstParameterDecorator&&(argumentsWritten+=emitDecoratorsOfParameters(constructor,argumentsWritten>0)),emitSerializedTypeMetadata(node,argumentsWritten>=0),decreaseIndent(),writeLine(),write("], "),emitDeclarationName(node),write(")"),emitEnd(node.decorators||firstParameterDecorator),write(";"),writeLine()}}function emitDecoratorsOfMembers(node,staticFlag){for(var _a=0,_b=node.members;_a<_b.length;_a++){var member=_b[_a];if((32&member.flags)===staticFlag&&ts.nodeCanBeDecorated(member)){var decorators=void 0,functionLikeMember=void 0;if(ts.isAccessor(member)){var accessors=ts.getAllAccessorDeclarations(node.members,member);if(member!==accessors.firstAccessor)continue;decorators=accessors.firstAccessor.decorators,!decorators&&accessors.secondAccessor&&(decorators=accessors.secondAccessor.decorators),functionLikeMember=accessors.setAccessor}else decorators=member.decorators,147===member.kind&&(functionLikeMember=member);var firstParameterDecorator=functionLikeMember&&ts.forEach(functionLikeMember.parameters,function(parameter){return parameter.decorators});if(decorators||firstParameterDecorator){writeLine(),emitStart(decorators||firstParameterDecorator),write("__decorate(["),increaseIndent(),writeLine();var decoratorCount=decorators?decorators.length:0,argumentsWritten=emitList(decorators,0,decoratorCount,!0,!1,!1,!0,function(decorator){return emit(decorator.expression)});firstParameterDecorator&&(argumentsWritten+=emitDecoratorsOfParameters(functionLikeMember,argumentsWritten>0)),emitSerializedTypeMetadata(member,argumentsWritten>0),decreaseIndent(),writeLine(),write("], "),emitClassMemberPrefix(node,member),write(", "),emitExpressionForPropertyName(member.name),languageVersion>0&&write(145!==member.kind?", null":", void 0"),write(")"),emitEnd(decorators||firstParameterDecorator),write(";"),writeLine()}}}}function emitDecoratorsOfParameters(node,leadingComma){var argumentsWritten=0;if(node)for(var parameterIndex_1=0,_a=0,_b=node.parameters;_a<_b.length;_a++){var parameter=_b[_a];if(ts.nodeIsDecorated(parameter)){var decorators=parameter.decorators;argumentsWritten+=emitList(decorators,0,decorators.length,!0,!1,leadingComma,!0,function(decorator){write("__param("+parameterIndex_1+", "),emit(decorator.expression),write(")")}),leadingComma=!0}parameterIndex_1++}return argumentsWritten}function shouldEmitTypeMetadata(node){switch(node.kind){case 147:case 149:case 150:case 145:return!0}return!1}function shouldEmitReturnTypeMetadata(node){switch(node.kind){case 147:return!0}return!1}function shouldEmitParamTypesMetadata(node){switch(node.kind){case 221:case 147:case 150:return!0}return!1}function emitSerializedTypeOfNode(node){switch(node.kind){case 221:return void write("Function");case 145:return void emitSerializedTypeNode(node.type);case 142:return void emitSerializedTypeNode(node.type);case 149:return void emitSerializedTypeNode(node.type);case 150:return void emitSerializedTypeNode(ts.getSetAccessorTypeAnnotationNode(node))}return ts.isFunctionLike(node)?void write("Function"):void write("void 0")}function emitSerializedTypeNode(node){if(node)switch(node.kind){case 103:return void write("void 0");case 164:return void emitSerializedTypeNode(node.type);case 156:case 157:return void write("Function");case 160:case 161:return void write("Array");case 154:case 120:return void write("Boolean");case 132:case 166:return void write("String");case 130:return void write("Number");case 133:return void write("Symbol");case 155:return void emitSerializedTypeReferenceNode(node);case 158:case 159:case 162:case 163:case 117:case 165:break;default:ts.Debug.fail("Cannot serialize unexpected type node.")}write("Object")}function emitSerializedTypeReferenceNode(node){for(var location=node.parent;ts.isDeclaration(location)||ts.isTypeNode(location);)location=location.parent;var typeName=ts.cloneEntityName(node.typeName,location),result=resolver.getTypeReferenceSerializationKind(typeName);switch(result){case ts.TypeReferenceSerializationKind.Unknown:var temp=createAndRecordTempVariable(0);write("(typeof ("),emitNodeWithoutSourceMap(temp),write(" = "),emitEntityNameAsExpression(typeName,!0),write(") === 'function' && "),emitNodeWithoutSourceMap(temp),write(") || Object");break;case ts.TypeReferenceSerializationKind.TypeWithConstructSignatureAndValue:emitEntityNameAsExpression(typeName,!1);break;case ts.TypeReferenceSerializationKind.VoidType:
write("void 0");break;case ts.TypeReferenceSerializationKind.BooleanType:write("Boolean");break;case ts.TypeReferenceSerializationKind.NumberLikeType:write("Number");break;case ts.TypeReferenceSerializationKind.StringLikeType:write("String");break;case ts.TypeReferenceSerializationKind.ArrayLikeType:write("Array");break;case ts.TypeReferenceSerializationKind.ESSymbolType:write(2>languageVersion?"typeof Symbol === 'function' ? Symbol : Object":"Symbol");break;case ts.TypeReferenceSerializationKind.TypeWithCallSignature:write("Function");break;case ts.TypeReferenceSerializationKind.ObjectType:write("Object")}}function emitSerializedParameterTypesOfNode(node){if(node){var valueDeclaration=void 0;if(221===node.kind?valueDeclaration=ts.getFirstConstructorWithBody(node):ts.isFunctionLike(node)&&ts.nodeIsPresent(node.body)&&(valueDeclaration=node),valueDeclaration){var parameters=valueDeclaration.parameters,skipThisCount=parameters.length&&97===parameters[0].name.originalKeywordKind?1:0,parameterCount=parameters.length;if(parameterCount>skipThisCount)for(var i=skipThisCount;parameterCount>i;i++)if(i>skipThisCount&&write(", "),parameters[i].dotDotDotToken){var parameterType=parameters[i].type;parameterType=parameterType&&160===parameterType.kind?parameterType.elementType:parameterType&&155===parameterType.kind&&parameterType.typeArguments&&1===parameterType.typeArguments.length?parameterType.typeArguments[0]:void 0,emitSerializedTypeNode(parameterType)}else emitSerializedTypeOfNode(parameters[i])}}}function emitSerializedReturnTypeOfNode(node){if(node&&ts.isFunctionLike(node)){if(node.type)return void emitSerializedTypeNode(node.type);if(ts.isAsyncFunctionLike(node))return void write("Promise")}write("void 0")}function emitSerializedTypeMetadata(node,writeComma){var argumentsWritten=0;return compilerOptions.emitDecoratorMetadata&&(shouldEmitTypeMetadata(node)&&(writeComma&&write(", "),writeLine(),write("__metadata('design:type', "),emitSerializedTypeOfNode(node),write(")"),argumentsWritten++),shouldEmitParamTypesMetadata(node)&&((writeComma||argumentsWritten)&&write(", "),writeLine(),write("__metadata('design:paramtypes', ["),emitSerializedParameterTypesOfNode(node),write("])"),argumentsWritten++),shouldEmitReturnTypeMetadata(node)&&((writeComma||argumentsWritten)&&write(", "),writeLine(),write("__metadata('design:returntype', "),emitSerializedReturnTypeOfNode(node),write(")"),argumentsWritten++)),argumentsWritten}function emitInterfaceDeclaration(node){emitCommentsOnNotEmittedNode(node)}function shouldEmitEnumDeclaration(node){var isConstEnum=ts.isConst(node);return!isConstEnum||compilerOptions.preserveConstEnums||compilerOptions.isolatedModules}function emitEnumDeclaration(node){if(shouldEmitEnumDeclaration(node)){if(!shouldHoistDeclarationInSystemJsModule(node)){var isES6ExportedEnum=isES6ExportedDeclaration(node);(!(1&node.flags)||isES6ExportedEnum&&isFirstDeclarationOfKind(node,node.symbol&&node.symbol.declarations,224))&&(emitStart(node),isES6ExportedEnum&&write("export "),write("var "),emit(node.name),emitEnd(node),write(";"))}writeLine(),emitStart(node),write("(function ("),emitStart(node.name),write(getGeneratedNameForNode(node)),emitEnd(node.name),write(") {"),increaseIndent(),emitLines(node.members),decreaseIndent(),writeLine(),emitToken(16,node.members.end),write(")("),emitModuleMemberName(node),write(" || ("),emitModuleMemberName(node),write(" = {}));"),emitEnd(node),!isES6ExportedDeclaration(node)&&1&node.flags&&!shouldHoistDeclarationInSystemJsModule(node)&&(writeLine(),emitStart(node),write("var "),emit(node.name),write(" = "),emitModuleMemberName(node),emitEnd(node),write(";")),modulekind!==ts.ModuleKind.ES6&&node.parent===currentSourceFile&&(modulekind===ts.ModuleKind.System&&1&node.flags&&(writeLine(),write(exportFunctionForFile+'("'),emitDeclarationName(node),write('", '),emitDeclarationName(node),write(");")),emitExportMemberAssignments(node.name))}}function emitEnumMember(node){var enumParent=node.parent;emitStart(node),write(getGeneratedNameForNode(enumParent)),write("["),write(getGeneratedNameForNode(enumParent)),write("["),emitExpressionForPropertyName(node.name),write("] = "),writeEnumMemberDeclarationValue(node),write("] = "),emitExpressionForPropertyName(node.name),emitEnd(node),write(";")}function writeEnumMemberDeclarationValue(member){var value=resolver.getConstantValue(member);return void 0!==value?void write(value.toString()):void(member.initializer?emit(member.initializer):write("undefined"))}function getInnerMostModuleDeclarationFromDottedModule(moduleDeclaration){if(moduleDeclaration.body&&225===moduleDeclaration.body.kind){var recursiveInnerModule=getInnerMostModuleDeclarationFromDottedModule(moduleDeclaration.body);return recursiveInnerModule||moduleDeclaration.body}}function shouldEmitModuleDeclaration(node){return ts.isInstantiatedModule(node,compilerOptions.preserveConstEnums||compilerOptions.isolatedModules)}function isModuleMergedWithES6Class(node){return 2===languageVersion&&!!(32768&resolver.getNodeCheckFlags(node))}function isFirstDeclarationOfKind(node,declarations,kind){return!ts.forEach(declarations,function(declaration){return declaration.kind===kind&&declaration.pos<node.pos})}function emitModuleDeclaration(node){var shouldEmit=shouldEmitModuleDeclaration(node);if(!shouldEmit)return emitCommentsOnNotEmittedNode(node);var hoistedInDeclarationScope=shouldHoistDeclarationInSystemJsModule(node),emitVarForModule=!hoistedInDeclarationScope&&!isModuleMergedWithES6Class(node);if(emitVarForModule){var isES6ExportedNamespace=isES6ExportedDeclaration(node);(!isES6ExportedNamespace||isFirstDeclarationOfKind(node,node.symbol&&node.symbol.declarations,225))&&(emitStart(node),isES6ExportedNamespace&&write("export "),write("var "),emit(node.name),write(";"),emitEnd(node),writeLine())}if(emitStart(node),write("(function ("),emitStart(node.name),write(getGeneratedNameForNode(node)),emitEnd(node.name),write(") "),ts.Debug.assert(void 0!==node.body),226===node.body.kind){var saveConvertedLoopState=convertedLoopState,saveTempFlags=tempFlags,saveTempVariables=tempVariables;convertedLoopState=void 0,tempFlags=0,tempVariables=void 0,emit(node.body),ts.Debug.assert(void 0===convertedLoopState),convertedLoopState=saveConvertedLoopState,tempFlags=saveTempFlags,tempVariables=saveTempVariables}else{write("{"),increaseIndent(),emitCaptureThisForNodeIfNecessary(node),writeLine(),emit(node.body),decreaseIndent(),writeLine();var moduleBlock=getInnerMostModuleDeclarationFromDottedModule(node).body;emitToken(16,moduleBlock.statements.end)}write(")("),1&node.flags&&!isES6ExportedDeclaration(node)&&(emit(node.name),write(" = ")),emitModuleMemberName(node),write(" || ("),emitModuleMemberName(node),write(" = {}));"),emitEnd(node),isES6ExportedDeclaration(node)||69!==node.name.kind||node.parent!==currentSourceFile||(modulekind===ts.ModuleKind.System&&1&node.flags&&(writeLine(),write(exportFunctionForFile+'("'),emitDeclarationName(node),write('", '),emitDeclarationName(node),write(");")),emitExportMemberAssignments(node.name))}function tryRenameExternalModule(moduleName){return renamedDependencies&&moduleName.text in renamedDependencies?'"'+renamedDependencies[moduleName.text]+'"':void 0}function emitRequire(moduleName){if(9===moduleName.kind){write("require(");var text=tryRenameExternalModule(moduleName);text?write(text):(emitStart(moduleName),emitLiteral(moduleName),emitEnd(moduleName)),emitToken(18,moduleName.end)}else write("require()")}function getNamespaceDeclarationNode(node){if(229===node.kind)return node;var importClause=node.importClause;return importClause&&importClause.namedBindings&&232===importClause.namedBindings.kind?importClause.namedBindings:void 0}function isDefaultImport(node){return 230===node.kind&&node.importClause&&!!node.importClause.name}function emitExportImportAssignments(node){ts.isAliasSymbolDeclaration(node)&&resolver.isValueAliasDeclaration(node)&&emitExportMemberAssignments(node.name),ts.forEachChild(node,emitExportImportAssignments)}function emitImportDeclaration(node){if(modulekind!==ts.ModuleKind.ES6)return emitExternalImportDeclaration(node);if(node.importClause){var shouldEmitDefaultBindings=resolver.isReferencedAliasDeclaration(node.importClause),shouldEmitNamedBindings=node.importClause.namedBindings&&resolver.isReferencedAliasDeclaration(node.importClause.namedBindings,!0);(shouldEmitDefaultBindings||shouldEmitNamedBindings)&&(write("import "),emitStart(node.importClause),shouldEmitDefaultBindings&&(emit(node.importClause.name),shouldEmitNamedBindings&&write(", ")),shouldEmitNamedBindings&&(emitLeadingComments(node.importClause.namedBindings),emitStart(node.importClause.namedBindings),232===node.importClause.namedBindings.kind?(write("* as "),emit(node.importClause.namedBindings.name)):(write("{ "),emitExportOrImportSpecifierList(node.importClause.namedBindings.elements,resolver.isReferencedAliasDeclaration),write(" }")),emitEnd(node.importClause.namedBindings),emitTrailingComments(node.importClause.namedBindings)),emitEnd(node.importClause),write(" from "),emit(node.moduleSpecifier),write(";"))}else write("import "),emit(node.moduleSpecifier),write(";")}function emitExternalImportDeclaration(node){if(ts.contains(externalImports,node)){var isExportedImport=229===node.kind&&0!==(1&node.flags),namespaceDeclaration=getNamespaceDeclarationNode(node),varOrConst=1>=languageVersion?"var ":"const ";if(modulekind!==ts.ModuleKind.AMD){if(emitLeadingComments(node),emitStart(node),namespaceDeclaration&&!isDefaultImport(node))isExportedImport||write(varOrConst),emitModuleMemberName(namespaceDeclaration),write(" = ");else{var isNakedImport=230===node.kind&&!node.importClause;isNakedImport||(write(varOrConst),write(getGeneratedNameForNode(node)),write(" = "))}emitRequire(ts.getExternalModuleName(node)),namespaceDeclaration&&isDefaultImport(node)&&(write(", "),emitModuleMemberName(namespaceDeclaration),write(" = "),write(getGeneratedNameForNode(node))),write(";"),emitEnd(node),emitExportImportAssignments(node),emitTrailingComments(node)}else isExportedImport?(emitModuleMemberName(namespaceDeclaration),write(" = "),emit(namespaceDeclaration.name),write(";")):namespaceDeclaration&&isDefaultImport(node)&&(write(varOrConst),emitModuleMemberName(namespaceDeclaration),write(" = "),write(getGeneratedNameForNode(node)),write(";")),emitExportImportAssignments(node)}}function emitImportEqualsDeclaration(node){if(ts.isExternalModuleImportEqualsDeclaration(node))return void emitExternalImportDeclaration(node);if(resolver.isReferencedAliasDeclaration(node)||!isCurrentFileExternalModule&&resolver.isTopLevelValueImportEqualsWithEntityName(node)){emitLeadingComments(node),emitStart(node);var variableDeclarationIsHoisted=shouldHoistVariable(node,!0),isExported=isSourceFileLevelDeclarationInSystemJsModule(node,!0);variableDeclarationIsHoisted||(ts.Debug.assert(!isExported),isES6ExportedDeclaration(node)?(write("export "),write("var ")):1&node.flags||write("var ")),isExported&&(write(exportFunctionForFile+'("'),emitNodeWithoutSourceMap(node.name),write('", ')),emitModuleMemberName(node),write(" = "),emit(node.moduleReference),isExported&&write(")"),write(";"),emitEnd(node),emitExportImportAssignments(node),emitTrailingComments(node)}}function emitExportDeclaration(node){if(ts.Debug.assert(modulekind!==ts.ModuleKind.System),modulekind!==ts.ModuleKind.ES6){if(node.moduleSpecifier&&(!node.exportClause||resolver.isValueAliasDeclaration(node))){emitStart(node);var generatedName=getGeneratedNameForNode(node);if(node.exportClause){modulekind!==ts.ModuleKind.AMD&&(write("var "),write(generatedName),write(" = "),emitRequire(ts.getExternalModuleName(node)),write(";"));for(var _a=0,_b=node.exportClause.elements;_a<_b.length;_a++){var specifier=_b[_a];resolver.isValueAliasDeclaration(specifier)&&(writeLine(),emitStart(specifier),emitContainingModuleName(specifier),write("."),emitNodeWithCommentsAndWithoutSourcemap(specifier.name),write(" = "),write(generatedName),write("."),emitNodeWithCommentsAndWithoutSourcemap(specifier.propertyName||specifier.name),write(";"),emitEnd(specifier))}}else hasExportStarsToExportValues&&resolver.moduleExportsSomeValue(node.moduleSpecifier)&&(writeLine(),write("__export("),modulekind!==ts.ModuleKind.AMD?emitRequire(ts.getExternalModuleName(node)):write(generatedName),write(");"));emitEnd(node)}}else(!node.exportClause||resolver.isValueAliasDeclaration(node))&&(write("export "),node.exportClause?(write("{ "),emitExportOrImportSpecifierList(node.exportClause.elements,resolver.isValueAliasDeclaration),write(" }")):write("*"),node.moduleSpecifier&&(write(" from "),emit(node.moduleSpecifier)),write(";"))}function emitExportOrImportSpecifierList(specifiers,shouldEmit){ts.Debug.assert(modulekind===ts.ModuleKind.ES6);for(var needsComma=!1,_a=0,specifiers_1=specifiers;_a<specifiers_1.length;_a++){var specifier=specifiers_1[_a];shouldEmit(specifier)&&(needsComma&&write(", "),specifier.propertyName&&(emit(specifier.propertyName),write(" as ")),emit(specifier.name),needsComma=!0)}}function emitExportAssignment(node){if(!node.isExportEquals&&resolver.isValueAliasDeclaration(node))if(modulekind===ts.ModuleKind.ES6){writeLine(),emitStart(node),write("export default ");var expression=node.expression;emit(expression),220!==expression.kind&&221!==expression.kind&&write(";"),emitEnd(node)}else writeLine(),emitStart(node),modulekind===ts.ModuleKind.System?(write(exportFunctionForFile+'("default",'),emit(node.expression),write(")")):(emitEs6ExportDefaultCompat(node),emitContainingModuleName(node),write(0===languageVersion?'["default"] = ':".default = "),emit(node.expression)),write(";"),emitEnd(node)}function collectExternalModuleInfo(sourceFile){externalImports=[],exportSpecifiers=ts.createMap(),exportEquals=void 0,hasExportStarsToExportValues=!1;for(var _a=0,_b=sourceFile.statements;_a<_b.length;_a++){var node=_b[_a];switch(node.kind){case 230:(!node.importClause||resolver.isReferencedAliasDeclaration(node.importClause,!0))&&externalImports.push(node);break;case 229:240===node.moduleReference.kind&&resolver.isReferencedAliasDeclaration(node)&&externalImports.push(node);break;case 236:if(node.moduleSpecifier)node.exportClause?resolver.isValueAliasDeclaration(node)&&externalImports.push(node):resolver.moduleExportsSomeValue(node.moduleSpecifier)&&(externalImports.push(node),hasExportStarsToExportValues=!0);else for(var _c=0,_d=node.exportClause.elements;_c<_d.length;_c++){var specifier=_d[_c],name_30=(specifier.propertyName||specifier.name).text;(exportSpecifiers[name_30]||(exportSpecifiers[name_30]=[])).push(specifier)}break;case 235:node.isExportEquals&&!exportEquals&&(exportEquals=node)}}}function emitExportStarHelper(){hasExportStarsToExportValues&&(writeLine(),write("function __export(m) {"),increaseIndent(),writeLine(),write("for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];"),decreaseIndent(),writeLine(),write("}"))}function getLocalNameForExternalImport(node){var namespaceDeclaration=getNamespaceDeclarationNode(node);return namespaceDeclaration&&!isDefaultImport(node)?ts.getTextOfNodeFromSourceText(currentText,namespaceDeclaration.name):230===node.kind&&node.importClause?getGeneratedNameForNode(node):236===node.kind&&node.moduleSpecifier?getGeneratedNameForNode(node):void 0}function getExternalModuleNameText(importNode,emitRelativePathAsModuleName){if(emitRelativePathAsModuleName){var name_31=getExternalModuleNameFromDeclaration(host,resolver,importNode);if(name_31)return'"'+name_31+'"'}var moduleName=ts.getExternalModuleName(importNode);return 9===moduleName.kind?tryRenameExternalModule(moduleName)||getLiteralText(moduleName):void 0}function emitVariableDeclarationsForImports(){if(0!==externalImports.length){writeLine();for(var started=!1,_a=0,externalImports_1=externalImports;_a<externalImports_1.length;_a++){var importNode=externalImports_1[_a],skipNode=236===importNode.kind||230===importNode.kind&&!importNode.importClause;skipNode||(started?write(", "):(write("var "),started=!0),write(getLocalNameForExternalImport(importNode)))}started&&write(";")}}function emitLocalStorageForExportedNamesIfNecessary(exportedDeclarations){function emitExportStarFunction(localNames){var exportStarFunction=makeUniqueName("exportStar");return writeLine(),write("function "+exportStarFunction+"(m) {"),increaseIndent(),writeLine(),write("var exports = {};"),writeLine(),write("for(var n in m) {"),increaseIndent(),writeLine(),write('if (n !== "default"'),localNames&&write("&& !"+localNames+".hasOwnProperty(n)"),write(") exports[n] = m[n];"),decreaseIndent(),writeLine(),write("}"),writeLine(),write(exportFunctionForFile+"(exports);"),decreaseIndent(),writeLine(),write("}"),exportStarFunction}function writeExportedName(node){69!==node.kind&&512&node.flags||(started?write(","):started=!0,writeLine(),write("'"),69===node.kind?emitNodeWithCommentsAndWithoutSourcemap(node):emitDeclarationName(node),write("': true"))}if(!hasExportStarsToExportValues)return void 0;if(!exportedDeclarations&&!ts.someProperties(exportSpecifiers)){for(var hasExportDeclarationWithExportClause=!1,_a=0,externalImports_2=externalImports;_a<externalImports_2.length;_a++){var externalImport=externalImports_2[_a];if(236===externalImport.kind&&externalImport.exportClause){hasExportDeclarationWithExportClause=!0;break}}if(!hasExportDeclarationWithExportClause)return emitExportStarFunction(void 0)}var exportedNamesStorageRef=makeUniqueName("exportedNames");writeLine(),write("var "+exportedNamesStorageRef+" = {"),increaseIndent();var started=!1;if(exportedDeclarations)for(var i=0;i<exportedDeclarations.length;i++)writeExportedName(exportedDeclarations[i]);if(exportSpecifiers)for(var n in exportSpecifiers)for(var _b=0,_c=exportSpecifiers[n];_b<_c.length;_b++){var specifier=_c[_b];writeExportedName(specifier.name)}for(var _d=0,externalImports_3=externalImports;_d<externalImports_3.length;_d++){var externalImport=externalImports_3[_d];if(236===externalImport.kind){var exportDecl=externalImport;if(exportDecl.exportClause)for(var _e=0,_f=exportDecl.exportClause.elements;_e<_f.length;_e++){var element=_f[_e];writeExportedName(element.name||element.propertyName)}}}return decreaseIndent(),writeLine(),write("};"),emitExportStarFunction(exportedNamesStorageRef)}function processTopLevelVariableAndFunctionDeclarations(node){function visit(node){if(!(2&node.flags)){if(220===node.kind)return hoistedFunctionDeclarations||(hoistedFunctionDeclarations=[]),void hoistedFunctionDeclarations.push(node);if(221===node.kind)return hoistedVars||(hoistedVars=[]),void hoistedVars.push(node);if(224===node.kind)return void(shouldEmitEnumDeclaration(node)&&(hoistedVars||(hoistedVars=[]),hoistedVars.push(node)));if(225===node.kind)return void(shouldEmitModuleDeclaration(node)&&(hoistedVars||(hoistedVars=[]),hoistedVars.push(node)));if(218!==node.kind&&169!==node.kind)return ts.isInternalModuleImportEqualsDeclaration(node)&&resolver.isValueAliasDeclaration(node)?(hoistedVars||(hoistedVars=[]),void hoistedVars.push(node.name)):ts.isBindingPattern(node)?void ts.forEach(node.elements,visit):void(ts.isDeclaration(node)||ts.forEachChild(node,visit));if(shouldHoistVariable(node,!1)){var name_33=node.name;69===name_33.kind?(hoistedVars||(hoistedVars=[]),hoistedVars.push(name_33)):ts.forEachChild(name_33,visit)}}}var hoistedVars,hoistedFunctionDeclarations,exportedDeclarations;if(visit(node),hoistedVars){writeLine(),write("var ");for(var seen=ts.createMap(),i=0;i<hoistedVars.length;i++){var local=hoistedVars[i],name_32=69===local.kind?local:local.name;if(name_32){var text=ts.unescapeIdentifier(name_32.text);if(text in seen)continue;seen[text]=text}0!==i&&write(", "),221===local.kind||225===local.kind||224===local.kind?emitDeclarationName(local):emit(local);var flags=ts.getCombinedNodeFlags(69===local.kind?local.parent:local);1&flags&&(exportedDeclarations||(exportedDeclarations=[]),exportedDeclarations.push(local))}write(";")}if(hoistedFunctionDeclarations)for(var _a=0,hoistedFunctionDeclarations_1=hoistedFunctionDeclarations;_a<hoistedFunctionDeclarations_1.length;_a++){var f=hoistedFunctionDeclarations_1[_a];writeLine(),emit(f),1&f.flags&&(exportedDeclarations||(exportedDeclarations=[]),exportedDeclarations.push(f))}return exportedDeclarations}function shouldHoistVariable(node,checkIfSourceFileLevelDecl){return checkIfSourceFileLevelDecl&&!shouldHoistDeclarationInSystemJsModule(node)?!1:0===(3072&ts.getCombinedNodeFlags(node))||256===ts.getEnclosingBlockScopeContainer(node).kind}function isCurrentFileSystemExternalModule(){return modulekind===ts.ModuleKind.System&&isCurrentFileExternalModule}function emitSystemModuleBody(node,dependencyGroups,startIndex){emitVariableDeclarationsForImports(),writeLine();var exportedDeclarations=processTopLevelVariableAndFunctionDeclarations(node),exportStarFunction=emitLocalStorageForExportedNamesIfNecessary(exportedDeclarations);writeLine(),write("return {"),increaseIndent(),writeLine(),emitSetters(exportStarFunction,dependencyGroups),writeLine(),emitExecute(node,startIndex),decreaseIndent(),writeLine(),write("}"),emitTempDeclarations(!0)}function emitSetters(exportStarFunction,dependencyGroups){write("setters:[");for(var i=0;i<dependencyGroups.length;i++){0!==i&&write(","),writeLine(),increaseIndent();var group=dependencyGroups[i],parameterName=makeUniqueName(ts.forEach(group,getLocalNameForExternalImport)||"");write("function ("+parameterName+") {"),increaseIndent();for(var _a=0,group_1=group;_a<group_1.length;_a++){var entry=group_1[_a],importVariableName=getLocalNameForExternalImport(entry)||"";switch(entry.kind){case 230:if(!entry.importClause)break;case 229:ts.Debug.assert(""!==importVariableName),writeLine(),write(importVariableName+" = "+parameterName+";"),writeLine();break;case 236:if(ts.Debug.assert(""!==importVariableName),entry.exportClause){writeLine(),write(exportFunctionForFile+"({"),writeLine(),increaseIndent();for(var i_1=0,len=entry.exportClause.elements.length;len>i_1;i_1++){0!==i_1&&(write(","),writeLine());var e=entry.exportClause.elements[i_1];write('"'),emitNodeWithCommentsAndWithoutSourcemap(e.name),write('": '+parameterName+'["'),emitNodeWithCommentsAndWithoutSourcemap(e.propertyName||e.name),write('"]')}decreaseIndent(),writeLine(),write("});")}else writeLine(),write(exportStarFunction+"("+parameterName+");");writeLine()}}decreaseIndent(),write("}"),decreaseIndent()}write("],")}function emitExecute(node,startIndex){write("execute: function() {"),increaseIndent(),writeLine();for(var i=startIndex;i<node.statements.length;i++){var statement=node.statements[i];switch(statement.kind){case 220:case 230:continue;case 236:if(!statement.moduleSpecifier)for(var _a=0,_b=statement.exportClause.elements;_a<_b.length;_a++){var element=_b[_a];emitExportSpecifierInSystemModule(element)}continue;case 229:if(!ts.isInternalModuleImportEqualsDeclaration(statement))continue;default:writeLine(),emit(statement)}}decreaseIndent(),writeLine(),write("}")}function writeModuleName(node,emitRelativePathAsModuleName){var moduleName=node.moduleName;(moduleName||emitRelativePathAsModuleName&&(moduleName=getResolvedExternalModuleName(host,node)))&&write('"'+moduleName+'", ')}function emitSystemModule(node,emitRelativePathAsModuleName){collectExternalModuleInfo(node),ts.Debug.assert(!exportFunctionForFile),exportFunctionForFile=makeUniqueName("exports"),contextObjectForFile=makeUniqueName("context"),writeLine(),write("System.register("),writeModuleName(node,emitRelativePathAsModuleName),write("[");for(var groupIndices=ts.createMap(),dependencyGroups=[],i=0;i<externalImports.length;i++){var text=getExternalModuleNameText(externalImports[i],emitRelativePathAsModuleName);if(void 0!==text){var key=text.substr(1,text.length-2);if(key in groupIndices){var groupIndex=groupIndices[key];dependencyGroups[groupIndex].push(externalImports[i])}else groupIndices[key]=dependencyGroups.length,dependencyGroups.push([externalImports[i]]),0!==i&&write(", "),write(text)}}write("], function("+exportFunctionForFile+", "+contextObjectForFile+") {"),writeLine(),increaseIndent();var startIndex=emitDirectivePrologues(node.statements,!0,!compilerOptions.noImplicitUseStrict);writeLine(),write("var __moduleName = "+contextObjectForFile+" && "+contextObjectForFile+".id;"),writeLine(),emitEmitHelpers(node),emitCaptureThisForNodeIfNecessary(node),emitSystemModuleBody(node,dependencyGroups,startIndex),decreaseIndent(),writeLine(),write("});")}function getAMDDependencyNames(node,includeNonAmdDependencies,emitRelativePathAsModuleName){for(var aliasedModuleNames=[],unaliasedModuleNames=[],importAliasNames=[],_a=0,_b=node.amdDependencies;_a<_b.length;_a++){var amdDependency=_b[_a];amdDependency.name?(aliasedModuleNames.push('"'+amdDependency.path+'"'),importAliasNames.push(amdDependency.name)):unaliasedModuleNames.push('"'+amdDependency.path+'"')}for(var _c=0,externalImports_4=externalImports;_c<externalImports_4.length;_c++){var importNode=externalImports_4[_c],externalModuleName=getExternalModuleNameText(importNode,emitRelativePathAsModuleName),importAliasName=getLocalNameForExternalImport(importNode);includeNonAmdDependencies&&importAliasName?(aliasedModuleNames.push(externalModuleName),importAliasNames.push(importAliasName)):unaliasedModuleNames.push(externalModuleName)}return{aliasedModuleNames:aliasedModuleNames,unaliasedModuleNames:unaliasedModuleNames,importAliasNames:importAliasNames}}function emitAMDDependencies(node,includeNonAmdDependencies,emitRelativePathAsModuleName){var dependencyNames=getAMDDependencyNames(node,includeNonAmdDependencies,emitRelativePathAsModuleName);emitAMDDependencyList(dependencyNames),write(", "),emitAMDFactoryHeader(dependencyNames)}function emitAMDDependencyList(_a){var aliasedModuleNames=_a.aliasedModuleNames,unaliasedModuleNames=_a.unaliasedModuleNames;write('["require", "exports"'),aliasedModuleNames.length&&(write(", "),write(aliasedModuleNames.join(", "))),unaliasedModuleNames.length&&(write(", "),write(unaliasedModuleNames.join(", "))),write("]")}function emitAMDFactoryHeader(_a){var importAliasNames=_a.importAliasNames;write("function (require, exports"),importAliasNames.length&&(write(", "),write(importAliasNames.join(", "))),write(") {")}function emitAMDModule(node,emitRelativePathAsModuleName){emitEmitHelpers(node),collectExternalModuleInfo(node),writeLine(),write("define("),writeModuleName(node,emitRelativePathAsModuleName),emitAMDDependencies(node,!0,emitRelativePathAsModuleName),increaseIndent();var startIndex=emitDirectivePrologues(node.statements,!0,!compilerOptions.noImplicitUseStrict);emitExportStarHelper(),emitCaptureThisForNodeIfNecessary(node),emitLinesStartingAt(node.statements,startIndex),emitExportEquals(!0),emitTempDeclarations(!0),decreaseIndent(),writeLine(),write("});")}function emitCommonJSModule(node){var startIndex=emitDirectivePrologues(node.statements,!1,!compilerOptions.noImplicitUseStrict);emitEmitHelpers(node),collectExternalModuleInfo(node),emitExportStarHelper(),emitCaptureThisForNodeIfNecessary(node),emitLinesStartingAt(node.statements,startIndex),emitExportEquals(!1),emitTempDeclarations(!0)}function emitUMDModule(node){emitEmitHelpers(node),collectExternalModuleInfo(node);var dependencyNames=getAMDDependencyNames(node,!1);writeLines("(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define("),emitAMDDependencyList(dependencyNames),write(", factory);"),writeLines("    }\n})("),emitAMDFactoryHeader(dependencyNames),increaseIndent();var startIndex=emitDirectivePrologues(node.statements,!0,!compilerOptions.noImplicitUseStrict);emitExportStarHelper(),emitCaptureThisForNodeIfNecessary(node),emitLinesStartingAt(node.statements,startIndex),emitExportEquals(!0),emitTempDeclarations(!0),decreaseIndent(),writeLine(),write("});")}function emitES6Module(node){externalImports=void 0,exportSpecifiers=void 0,exportEquals=void 0,hasExportStarsToExportValues=!1;var startIndex=emitDirectivePrologues(node.statements,!1);emitEmitHelpers(node),emitCaptureThisForNodeIfNecessary(node),emitLinesStartingAt(node.statements,startIndex),emitTempDeclarations(!0)}function emitExportEquals(emitAsReturn){exportEquals&&resolver.isValueAliasDeclaration(exportEquals)&&(writeLine(),emitStart(exportEquals),write(emitAsReturn?"return ":"module.exports = "),emit(exportEquals.expression),write(";"),emitEnd(exportEquals))}function emitJsxElement(node){switch(compilerOptions.jsx){case 2:jsxEmitReact(node);break;case 1:default:jsxEmitPreserve(node)}}function trimReactWhitespaceAndApplyEntities(node){for(var result=void 0,text=ts.getTextOfNode(node,!0),firstNonWhitespace=0,lastNonWhitespace=-1,i=0;i<text.length;i++){var c=text.charCodeAt(i);if(ts.isLineBreak(c)){if(-1!==firstNonWhitespace&&lastNonWhitespace-firstNonWhitespace+1>0){var part=text.substr(firstNonWhitespace,lastNonWhitespace-firstNonWhitespace+1);result=(result?result+"\" + ' ' + \"":"")+ts.escapeString(part)}firstNonWhitespace=-1}else ts.isWhiteSpaceSingleLine(c)||(lastNonWhitespace=i,-1===firstNonWhitespace&&(firstNonWhitespace=i))}if(-1!==firstNonWhitespace){var part=text.substr(firstNonWhitespace);result=(result?result+"\" + ' ' + \"":"")+ts.escapeString(part)}return result&&(result=result.replace(/&(\w+);/g,function(s,m){if(void 0!==entities[m]){var ch=String.fromCharCode(entities[m]);return'"'===ch?'\\"':ch}return s})),result}function isJsxChildEmittable(child){return 248===child.kind?!!child.expression:244===child.kind?!!getTextToEmit(child):!0}function getTextToEmit(node){switch(compilerOptions.jsx){case 2:var text=trimReactWhitespaceAndApplyEntities(node);return void 0===text||0===text.length?void 0:text;case 1:default:return ts.getTextOfNode(node,!0)}}function emitJsxText(node){switch(compilerOptions.jsx){case 2:write('"'),write(trimReactWhitespaceAndApplyEntities(node)),write('"');break;case 1:default:writer.writeLiteral(ts.getTextOfNode(node,!0))}}function emitJsxExpression(node){if(node.expression)switch(compilerOptions.jsx){case 1:default:write("{"),emit(node.expression),write("}");break;case 2:emit(node.expression)}}function isUseStrictPrologue(node){return"use strict"===node.expression.text}function ensureUseStrictPrologue(startWithNewLine,writeUseStrict){writeUseStrict&&(startWithNewLine&&writeLine(),write('"use strict";'))}function emitDirectivePrologues(statements,startWithNewLine,ensureUseStrict){for(var foundUseStrict=!1,i=0;i<statements.length;i++){if(!ts.isPrologueDirective(statements[i]))return ensureUseStrictPrologue(startWithNewLine||i>0,!foundUseStrict&&ensureUseStrict),i;isUseStrictPrologue(statements[i])&&(foundUseStrict=!0),(startWithNewLine||i>0)&&writeLine(),emit(statements[i])}return ensureUseStrictPrologue(startWithNewLine,!foundUseStrict&&ensureUseStrict),statements.length}function writeLines(text){for(var lines=text.split(/\r\n|\r|\n/g),i=0;i<lines.length;i++){var line=lines[i];line.length&&(writeLine(),write(line))}}function emitEmitHelpers(node){compilerOptions.noEmitHelpers||(2>languageVersion&&!extendsEmitted&&262144&node.flags&&(writeLines(extendsHelper),extendsEmitted=!0),1!==compilerOptions.jsx&&!assignEmitted&&1073741824&node.flags&&(writeLines(assignHelper),assignEmitted=!0),!decorateEmitted&&524288&node.flags&&(writeLines(decorateHelper),compilerOptions.emitDecoratorMetadata&&writeLines(metadataHelper),decorateEmitted=!0),!paramEmitted&&1048576&node.flags&&(writeLines(paramHelper),paramEmitted=!0),!awaiterEmitted&&2097152&node.flags&&(writeLines(awaiterHelper),awaiterEmitted=!0))}function emitSourceFileNode(node){if(writeLine(),emitShebang(),emitDetachedCommentsAndUpdateCommentsInfo(node),ts.isExternalModule(node)||compilerOptions.isolatedModules)if(isOwnFileEmit||!ts.isExternalModule(node)&&compilerOptions.isolatedModules){var emitModule=moduleEmitDelegates[modulekind]||moduleEmitDelegates[ts.ModuleKind.CommonJS];
emitModule(node)}else bundleEmitDelegates[modulekind](node,!0);else{var startIndex=emitDirectivePrologues(node.statements,!1);externalImports=void 0,exportSpecifiers=void 0,exportEquals=void 0,hasExportStarsToExportValues=!1,emitEmitHelpers(node),emitCaptureThisForNodeIfNecessary(node),emitLinesStartingAt(node.statements,startIndex),emitTempDeclarations(!0)}emitLeadingComments(node.endOfFileToken)}function emit(node){emitNodeConsideringCommentsOption(node,emitNodeWithSourceMap)}function emitNodeWithCommentsAndWithoutSourcemap(node){emitNodeConsideringCommentsOption(node,emitNodeWithoutSourceMap)}function emitNodeConsideringCommentsOption(node,emitNodeConsideringSourcemap){if(node){if(2&node.flags)return emitCommentsOnNotEmittedNode(node);if(isSpecializedCommentHandling(node))return emitNodeWithoutSourceMap(node);var emitComments_1=shouldEmitLeadingAndTrailingComments(node);emitComments_1&&emitLeadingComments(node),emitNodeConsideringSourcemap(node),emitComments_1&&emitTrailingComments(node)}}function emitNodeWithSourceMap(node){node&&(emitStart(node),emitNodeWithoutSourceMap(node),emitEnd(node))}function emitNodeWithoutSourceMap(node){node&&emitJavaScriptWorker(node)}function changeSourceMapEmit(writer){sourceMap=writer,emitStart=writer.emitStart,emitEnd=writer.emitEnd,emitPos=writer.emitPos,setSourceFile=writer.setSourceFile}function withTemporaryNoSourceMap(callback){var prevSourceMap=sourceMap;setSourceMapWriterEmit(ts.getNullSourceMapWriter()),callback(),setSourceMapWriterEmit(prevSourceMap)}function isSpecializedCommentHandling(node){switch(node.kind){case 222:case 220:case 230:case 229:case 223:case 235:return!0}}function shouldEmitLeadingAndTrailingComments(node){switch(node.kind){case 200:return shouldEmitLeadingAndTrailingCommentsForVariableStatement(node);case 225:return shouldEmitModuleDeclaration(node);case 224:return shouldEmitEnumDeclaration(node)}return ts.Debug.assert(!isSpecializedCommentHandling(node)),199!==node.kind&&node.parent&&180===node.parent.kind&&node.parent.body===node&&1>=languageVersion?!1:!0}function emitJavaScriptWorker(node){switch(node.kind){case 69:return emitIdentifier(node);case 142:return emitParameter(node);case 147:case 146:return emitMethod(node);case 149:case 150:return emitAccessor(node);case 97:return emitThis(node);case 95:return emitSuper(node);case 93:return write("null");case 99:return write("true");case 84:return write("false");case 8:case 9:case 10:case 11:case 12:case 13:case 14:return emitLiteral(node);case 189:return emitTemplateExpression(node);case 197:return emitTemplateSpan(node);case 241:case 242:return emitJsxElement(node);case 244:return emitJsxText(node);case 248:return emitJsxExpression(node);case 139:return emitQualifiedName(node);case 167:return emitObjectBindingPattern(node);case 168:return emitArrayBindingPattern(node);case 169:return emitBindingElement(node);case 170:return emitArrayLiteral(node);case 171:return emitObjectLiteral(node);case 253:return emitPropertyAssignment(node);case 254:return emitShorthandPropertyAssignment(node);case 140:return emitComputedPropertyName(node);case 172:return emitPropertyAccess(node);case 173:return emitIndexedAccess(node);case 174:return emitCallExpression(node);case 175:return emitNewExpression(node);case 176:return emitTaggedTemplateExpression(node);case 177:case 195:case 196:return emit(node.expression);case 178:return emitParenExpression(node);case 220:case 179:case 180:return emitFunctionDeclaration(node);case 181:return emitDeleteExpression(node);case 182:return emitTypeOfExpression(node);case 183:return emitVoidExpression(node);case 184:return emitAwaitExpression(node);case 185:return emitPrefixUnaryExpression(node);case 186:return emitPostfixUnaryExpression(node);case 187:return emitBinaryExpression(node);case 188:return emitConditionalExpression(node);case 191:return emitSpreadElementExpression(node);case 190:return emitYieldExpression(node);case 193:return;case 199:case 226:return emitBlock(node);case 200:return emitVariableStatement(node);case 201:return write(";");case 202:return emitExpressionStatement(node);case 203:return emitIfStatement(node);case 204:return emitDoStatement(node);case 205:return emitWhileStatement(node);case 206:return emitForStatement(node);case 208:case 207:return emitForInOrForOfStatement(node);case 209:case 210:return emitBreakOrContinueStatement(node);case 211:return emitReturnStatement(node);case 212:return emitWithStatement(node);case 213:return emitSwitchStatement(node);case 249:case 250:return emitCaseOrDefaultClause(node);case 214:return emitLabeledStatement(node);case 215:return emitThrowStatement(node);case 216:return emitTryStatement(node);case 252:return emitCatchClause(node);case 217:return emitDebuggerStatement(node);case 218:return emitVariableDeclaration(node);case 192:return emitClassExpression(node);case 221:return emitClassDeclaration(node);case 222:return emitInterfaceDeclaration(node);case 224:return emitEnumDeclaration(node);case 255:return emitEnumMember(node);case 225:return emitModuleDeclaration(node);case 230:return emitImportDeclaration(node);case 229:return emitImportEqualsDeclaration(node);case 236:return emitExportDeclaration(node);case 235:return emitExportAssignment(node);case 256:return emitSourceFileNode(node)}}function hasDetachedComments(pos){return void 0!==detachedCommentsInfo&&ts.lastOrUndefined(detachedCommentsInfo).nodePos===pos}function getLeadingCommentsWithoutDetachedComments(){var leadingComments=ts.getLeadingCommentRanges(currentText,ts.lastOrUndefined(detachedCommentsInfo).detachedCommentEndPos);return detachedCommentsInfo.length-1?detachedCommentsInfo.pop():detachedCommentsInfo=void 0,leadingComments}function isTripleSlashComment(comment){if(47===currentText.charCodeAt(comment.pos+1)&&comment.pos+2<comment.end&&47===currentText.charCodeAt(comment.pos+2)){var textSubStr=currentText.substring(comment.pos,comment.end);return textSubStr.match(ts.fullTripleSlashReferencePathRegEx)||textSubStr.match(ts.fullTripleSlashAMDReferencePathRegEx)?!0:!1}return!1}function getLeadingCommentsToEmit(node){return!node.parent||256!==node.parent.kind&&node.pos===node.parent.pos?void 0:hasDetachedComments(node.pos)?getLeadingCommentsWithoutDetachedComments():ts.getLeadingCommentRangesOfNodeFromText(node,currentText)}function getTrailingCommentsToEmit(node){return!node.parent||256!==node.parent.kind&&node.end===node.parent.end?void 0:ts.getTrailingCommentRanges(currentText,node.end)}function emitCommentsOnNotEmittedNode(node){emitLeadingCommentsWorker(node,!1)}function emitLeadingComments(node){return emitLeadingCommentsWorker(node,!0)}function emitLeadingCommentsWorker(node,isEmittedNode){if(!compilerOptions.removeComments){var leadingComments;isEmittedNode?leadingComments=getLeadingCommentsToEmit(node):0===node.pos&&(leadingComments=ts.filter(getLeadingCommentsToEmit(node),isTripleSlashComment)),ts.emitNewLineBeforeLeadingComments(currentLineMap,writer,node,leadingComments),ts.emitComments(currentText,currentLineMap,writer,leadingComments,!0,newLine,writeComment)}}function emitTrailingComments(node){if(!compilerOptions.removeComments){var trailingComments=getTrailingCommentsToEmit(node);ts.emitComments(currentText,currentLineMap,writer,trailingComments,!1,newLine,writeComment)}}function emitTrailingCommentsOfPosition(pos){if(!compilerOptions.removeComments){var trailingComments=ts.getTrailingCommentRanges(currentText,pos);ts.emitComments(currentText,currentLineMap,writer,trailingComments,!0,newLine,writeComment)}}function emitLeadingCommentsOfPositionWorker(pos){if(!compilerOptions.removeComments){var leadingComments;leadingComments=hasDetachedComments(pos)?getLeadingCommentsWithoutDetachedComments():ts.getLeadingCommentRanges(currentText,pos),ts.emitNewLineBeforeLeadingComments(currentLineMap,writer,{pos:pos,end:pos},leadingComments),ts.emitComments(currentText,currentLineMap,writer,leadingComments,!0,newLine,writeComment)}}function emitDetachedCommentsAndUpdateCommentsInfo(node){var currentDetachedCommentInfo=ts.emitDetachedComments(currentText,currentLineMap,writer,writeComment,node,newLine,compilerOptions.removeComments);currentDetachedCommentInfo&&(detachedCommentsInfo?detachedCommentsInfo.push(currentDetachedCommentInfo):detachedCommentsInfo=[currentDetachedCommentInfo])}function writeComment(text,lineMap,writer,comment,newLine){emitPos(comment.pos),ts.writeCommentRange(text,lineMap,writer,comment,newLine),emitPos(comment.end)}function emitShebang(){var shebang=ts.getShebang(currentText);shebang&&(write(shebang),writeLine())}var currentSourceFile,currentText,currentLineMap,currentFileIdentifiers,renamedDependencies,isEs6Module,isCurrentFileExternalModule,exportFunctionForFile,contextObjectForFile,generatedNameSet,nodeToGeneratedName,computedPropertyNamesToGeneratedNames,decoratedClassAliases,convertedLoopState,extendsEmitted,assignEmitted,decorateEmitted,paramEmitted,awaiterEmitted,tempVariables,tempParameters,externalImports,exportSpecifiers,exportEquals,hasExportStarsToExportValues,detachedCommentsInfo,sourceMapData,isOwnFileEmit,writer=ts.createTextWriter(newLine),write=writer.write,writeTextOfNode=writer.writeTextOfNode,writeLine=writer.writeLine,increaseIndent=writer.increaseIndent,decreaseIndent=writer.decreaseIndent,sourceMap=compilerOptions.sourceMap||compilerOptions.inlineSourceMap?ts.createSourceMapWriter(host,writer):ts.getNullSourceMapWriter(),setSourceFile=sourceMap.setSourceFile,emitStart=sourceMap.emitStart,emitEnd=sourceMap.emitEnd,emitPos=sourceMap.emitPos,tempFlags=0,emitLeadingCommentsOfPosition=compilerOptions.removeComments?function(pos){}:emitLeadingCommentsOfPositionWorker,setSourceMapWriterEmit=compilerOptions.sourceMap||compilerOptions.inlineSourceMap?changeSourceMapEmit:function(writer){},moduleEmitDelegates=ts.createMap((_a={},_a[ts.ModuleKind.ES6]=emitES6Module,_a[ts.ModuleKind.AMD]=emitAMDModule,_a[ts.ModuleKind.System]=emitSystemModule,_a[ts.ModuleKind.UMD]=emitUMDModule,_a[ts.ModuleKind.CommonJS]=emitCommonJSModule,_a)),bundleEmitDelegates=ts.createMap((_b={},_b[ts.ModuleKind.ES6]=function(){},_b[ts.ModuleKind.AMD]=emitAMDModule,_b[ts.ModuleKind.System]=emitSystemModule,_b[ts.ModuleKind.UMD]=function(){},_b[ts.ModuleKind.CommonJS]=function(){},_b));return doEmit;var _a,_b}function emitFile(_a,sourceFiles,isBundledEmit,emitOnlyDtsFiles){var jsFilePath=_a.jsFilePath,sourceMapFilePath=_a.sourceMapFilePath,declarationFilePath=_a.declarationFilePath;emitOnlyDtsFiles||(host.isEmitBlocked(jsFilePath)||compilerOptions.noEmit?emitSkipped=!0:emitJavaScript(jsFilePath,sourceMapFilePath,sourceFiles,isBundledEmit)),declarationFilePath&&(emitSkipped=ts.writeDeclarationFile(declarationFilePath,sourceFiles,isBundledEmit,host,resolver,emitterDiagnostics,emitOnlyDtsFiles)||emitSkipped),!emitSkipped&&emittedFilesList&&(emitOnlyDtsFiles||(emittedFilesList.push(jsFilePath),sourceMapFilePath&&emittedFilesList.push(sourceMapFilePath)),declarationFilePath&&emittedFilesList.push(declarationFilePath))}var extendsHelper="\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};",assignHelper="\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};",decorateHelper='\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};',metadataHelper='\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};',paramHelper="\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};",awaiterHelper="\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments)).next());\n    });\n};",compilerOptions=host.getCompilerOptions(),languageVersion=ts.getEmitScriptTarget(compilerOptions),modulekind=ts.getEmitModuleKind(compilerOptions),sourceMapDataList=compilerOptions.sourceMap||compilerOptions.inlineSourceMap?[]:void 0,emittedFilesList=compilerOptions.listEmittedFiles?[]:void 0,emitterDiagnostics=ts.createDiagnosticCollection(),emitSkipped=!1,newLine=host.getNewLine(),emitJavaScript=createFileEmitter();return ts.forEachExpectedEmitFile(host,emitFile,targetSourceFile,emitOnlyDtsFiles),{emitSkipped:emitSkipped,diagnostics:emitterDiagnostics.getDiagnostics(),emittedFiles:emittedFilesList,sourceMaps:sourceMapDataList}}ts.getResolvedExternalModuleName=getResolvedExternalModuleName,ts.getExternalModuleNameFromDeclaration=getExternalModuleNameFromDeclaration;var Jump;!function(Jump){Jump[Jump.Break=2]="Break",Jump[Jump.Continue=4]="Continue",Jump[Jump.Return=8]="Return"}(Jump||(Jump={}));var TempFlags,entities=ts.createMap({quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830});!function(TempFlags){TempFlags[TempFlags.Auto=0]="Auto",TempFlags[TempFlags.CountMask=268435455]="CountMask",TempFlags[TempFlags._i=268435456]="_i"}(TempFlags||(TempFlags={}));var CopyDirection;!function(CopyDirection){CopyDirection[CopyDirection.ToOriginal=0]="ToOriginal",CopyDirection[CopyDirection.ToOutParameter=1]="ToOutParameter"}(CopyDirection||(CopyDirection={})),ts.emitFiles=emitFiles}(ts||(ts={}));var ts;!function(ts){function findConfigFile(searchPath,fileExists,configName){for(void 0===configName&&(configName="tsconfig.json");;){var fileName=ts.combinePaths(searchPath,configName);if(fileExists(fileName))return fileName;var parentPath=ts.getDirectoryPath(searchPath);if(parentPath===searchPath)break;searchPath=parentPath}return void 0}function resolveTripleslashReference(moduleName,containingFile){var basePath=ts.getDirectoryPath(containingFile),referencedFileName=ts.isRootedDiskPath(moduleName)?moduleName:ts.combinePaths(basePath,moduleName);return ts.normalizePath(referencedFileName)}function computeCommonSourceDirectoryOfFilenames(fileNames,currentDirectory,getCanonicalFileName){var commonPathComponents,failed=ts.forEach(fileNames,function(sourceFile){var sourcePathComponents=ts.getNormalizedPathComponents(sourceFile,currentDirectory);if(sourcePathComponents.pop(),!commonPathComponents)return void(commonPathComponents=sourcePathComponents);for(var i=0,n=Math.min(commonPathComponents.length,sourcePathComponents.length);n>i;i++)if(getCanonicalFileName(commonPathComponents[i])!==getCanonicalFileName(sourcePathComponents[i])){if(0===i)return!0;commonPathComponents.length=i;break}sourcePathComponents.length<commonPathComponents.length&&(commonPathComponents.length=sourcePathComponents.length)});return failed?"":commonPathComponents?ts.getNormalizedPathFromPathComponents(commonPathComponents):currentDirectory}function getEffectiveTypeRoots(options,host){if(options.typeRoots)return options.typeRoots;var currentDirectory;return options.configFilePath?currentDirectory=ts.getDirectoryPath(options.configFilePath):host.getCurrentDirectory&&(currentDirectory=host.getCurrentDirectory()),currentDirectory&&getDefaultTypeRoots(currentDirectory,host)}function getDefaultTypeRoots(currentDirectory,host){if(!host.directoryExists)return[ts.combinePaths(currentDirectory,nodeModulesAtTypes)];for(var typeRoots;;){var atTypes=ts.combinePaths(currentDirectory,nodeModulesAtTypes);host.directoryExists(atTypes)&&(typeRoots||(typeRoots=[])).push(atTypes);var parent_15=ts.getDirectoryPath(currentDirectory);if(parent_15===currentDirectory)break;currentDirectory=parent_15}return typeRoots}function resolveTypeReferenceDirective(typeReferenceDirectiveName,containingFile,options,host){var traceEnabled=ts.isTraceEnabled(options,host),moduleResolutionState={compilerOptions:options,host:host,skipTsx:!0,traceEnabled:traceEnabled},typeRoots=getEffectiveTypeRoots(options,host);traceEnabled&&(void 0===containingFile?void 0===typeRoots?ts.trace(host,ts.Diagnostics.Resolving_type_reference_directive_0_containing_file_not_set_root_directory_not_set,typeReferenceDirectiveName):ts.trace(host,ts.Diagnostics.Resolving_type_reference_directive_0_containing_file_not_set_root_directory_1,typeReferenceDirectiveName,typeRoots):void 0===typeRoots?ts.trace(host,ts.Diagnostics.Resolving_type_reference_directive_0_containing_file_1_root_directory_not_set,typeReferenceDirectiveName,containingFile):ts.trace(host,ts.Diagnostics.Resolving_type_reference_directive_0_containing_file_1_root_directory_2,typeReferenceDirectiveName,containingFile,typeRoots));var failedLookupLocations=[];if(typeRoots&&typeRoots.length){traceEnabled&&ts.trace(host,ts.Diagnostics.Resolving_with_primary_search_path_0,typeRoots.join(", "));for(var primarySearchPaths=typeRoots,_i=0,primarySearchPaths_1=primarySearchPaths;_i<primarySearchPaths_1.length;_i++){var typeRoot=primarySearchPaths_1[_i],candidate=ts.combinePaths(typeRoot,typeReferenceDirectiveName),candidateDirectory=ts.getDirectoryPath(candidate),resolvedFile_1=ts.loadNodeModuleFromDirectory(typeReferenceExtensions,candidate,failedLookupLocations,!ts.directoryProbablyExists(candidateDirectory,host),moduleResolutionState);if(resolvedFile_1)return traceEnabled&&ts.trace(host,ts.Diagnostics.Type_reference_directive_0_was_successfully_resolved_to_1_primary_Colon_2,typeReferenceDirectiveName,resolvedFile_1,!0),{resolvedTypeReferenceDirective:{primary:!0,resolvedFileName:resolvedFile_1},failedLookupLocations:failedLookupLocations}}}else traceEnabled&&ts.trace(host,ts.Diagnostics.Root_directory_cannot_be_determined_skipping_primary_search_paths);var resolvedFile,initialLocationForSecondaryLookup;return containingFile&&(initialLocationForSecondaryLookup=ts.getDirectoryPath(containingFile)),void 0!==initialLocationForSecondaryLookup?(traceEnabled&&ts.trace(host,ts.Diagnostics.Looking_up_in_node_modules_folder_initial_location_0,initialLocationForSecondaryLookup),resolvedFile=ts.loadModuleFromNodeModules(typeReferenceDirectiveName,initialLocationForSecondaryLookup,failedLookupLocations,moduleResolutionState,!1),traceEnabled&&(resolvedFile?ts.trace(host,ts.Diagnostics.Type_reference_directive_0_was_successfully_resolved_to_1_primary_Colon_2,typeReferenceDirectiveName,resolvedFile,!1):ts.trace(host,ts.Diagnostics.Type_reference_directive_0_was_not_resolved,typeReferenceDirectiveName))):traceEnabled&&ts.trace(host,ts.Diagnostics.Containing_file_is_not_specified_and_root_directory_cannot_be_determined_skipping_lookup_in_node_modules_folder),{resolvedTypeReferenceDirective:resolvedFile?{primary:!1,resolvedFileName:resolvedFile}:void 0,failedLookupLocations:failedLookupLocations}}function createCompilerHost(options,setParentNodes){function getCanonicalFileName(fileName){return ts.sys.useCaseSensitiveFileNames?fileName:fileName.toLowerCase()}function getSourceFile(fileName,languageVersion,onError){var text;try{ts.performance.mark("beforeIORead"),text=ts.sys.readFile(fileName,options.charset),ts.performance.mark("afterIORead"),ts.performance.measure("I/O Read","beforeIORead","afterIORead")}catch(e){onError&&onError(e.number===unsupportedFileEncodingErrorCode?ts.createCompilerDiagnostic(ts.Diagnostics.Unsupported_file_encoding).messageText:e.message),text=""}return void 0!==text?ts.createSourceFile(fileName,text,languageVersion,setParentNodes):void 0}function directoryExists(directoryPath){return directoryPath in existingDirectories?!0:ts.sys.directoryExists(directoryPath)?(existingDirectories[directoryPath]=!0,!0):!1}function ensureDirectoriesExist(directoryPath){if(directoryPath.length>ts.getRootLength(directoryPath)&&!directoryExists(directoryPath)){var parentDirectory=ts.getDirectoryPath(directoryPath);ensureDirectoriesExist(parentDirectory),ts.sys.createDirectory(directoryPath)}}function writeFileIfUpdated(fileName,data,writeByteOrderMark){outputFingerprints||(outputFingerprints=ts.createMap());var hash=ts.sys.createHash(data),mtimeBefore=ts.sys.getModifiedTime(fileName);if(mtimeBefore&&fileName in outputFingerprints){var fingerprint=outputFingerprints[fileName];if(fingerprint.byteOrderMark===writeByteOrderMark&&fingerprint.hash===hash&&fingerprint.mtime.getTime()===mtimeBefore.getTime())return}ts.sys.writeFile(fileName,data,writeByteOrderMark);var mtimeAfter=ts.sys.getModifiedTime(fileName);outputFingerprints[fileName]={hash:hash,byteOrderMark:writeByteOrderMark,mtime:mtimeAfter}}function writeFile(fileName,data,writeByteOrderMark,onError){try{ts.performance.mark("beforeIOWrite"),ensureDirectoriesExist(ts.getDirectoryPath(ts.normalizePath(fileName))),ts.isWatchSet(options)&&ts.sys.createHash&&ts.sys.getModifiedTime?writeFileIfUpdated(fileName,data,writeByteOrderMark):ts.sys.writeFile(fileName,data,writeByteOrderMark),ts.performance.mark("afterIOWrite"),ts.performance.measure("I/O Write","beforeIOWrite","afterIOWrite")}catch(e){onError&&onError(e.message)}}function getDefaultLibLocation(){return ts.getDirectoryPath(ts.normalizePath(ts.sys.getExecutingFilePath()))}var outputFingerprints,existingDirectories=ts.createMap(),unsupportedFileEncodingErrorCode=-2147024809,newLine=ts.getNewLineCharacter(options),realpath=ts.sys.realpath&&function(path){return ts.sys.realpath(path)};return{getSourceFile:getSourceFile,getDefaultLibLocation:getDefaultLibLocation,getDefaultLibFileName:function(options){return ts.combinePaths(getDefaultLibLocation(),ts.getDefaultLibFileName(options))},writeFile:writeFile,getCurrentDirectory:ts.memoize(function(){return ts.sys.getCurrentDirectory()}),useCaseSensitiveFileNames:function(){return ts.sys.useCaseSensitiveFileNames},getCanonicalFileName:getCanonicalFileName,getNewLine:function(){return newLine},fileExists:function(fileName){return ts.sys.fileExists(fileName)},readFile:function(fileName){return ts.sys.readFile(fileName)},trace:function(s){return ts.sys.write(s+newLine)},directoryExists:function(directoryName){return ts.sys.directoryExists(directoryName)},getDirectories:function(path){return ts.sys.getDirectories(path)},realpath:realpath}}function getPreEmitDiagnostics(program,sourceFile,cancellationToken){var diagnostics=program.getOptionsDiagnostics(cancellationToken).concat(program.getSyntacticDiagnostics(sourceFile,cancellationToken),program.getGlobalDiagnostics(cancellationToken),program.getSemanticDiagnostics(sourceFile,cancellationToken));return program.getCompilerOptions().declaration&&(diagnostics=diagnostics.concat(program.getDeclarationDiagnostics(sourceFile,cancellationToken))),ts.sortAndDeduplicateDiagnostics(diagnostics)}function formatDiagnostics(diagnostics,host){for(var output="",_i=0,diagnostics_2=diagnostics;_i<diagnostics_2.length;_i++){var diagnostic=diagnostics_2[_i];if(diagnostic.file){var _a=ts.getLineAndCharacterOfPosition(diagnostic.file,diagnostic.start),line=_a.line,character=_a.character,fileName=diagnostic.file.fileName,relativeFileName=ts.convertToRelativePath(fileName,host.getCurrentDirectory(),function(fileName){return host.getCanonicalFileName(fileName)});output+=relativeFileName+"("+(line+1)+","+(character+1)+"): "}var category=ts.DiagnosticCategory[diagnostic.category].toLowerCase();output+=category+" TS"+diagnostic.code+": "+flattenDiagnosticMessageText(diagnostic.messageText,host.getNewLine())+host.getNewLine()}return output}function flattenDiagnosticMessageText(messageText,newLine){if("string"==typeof messageText)return messageText;for(var diagnosticChain=messageText,result="",indent=0;diagnosticChain;){if(indent){result+=newLine;for(var i=0;indent>i;i++)result+="  "}result+=diagnosticChain.messageText,indent++,diagnosticChain=diagnosticChain.next}return result}function loadWithLocalCache(names,containingFile,loader){if(0===names.length)return[];for(var resolutions=[],cache=ts.createMap(),_i=0,names_1=names;_i<names_1.length;_i++){var name_34=names_1[_i],result=name_34 in cache?cache[name_34]:cache[name_34]=loader(name_34,containingFile);resolutions.push(result)}return resolutions}function getAutomaticTypeDirectiveNames(options,host){if(options.types)return options.types;var result=[];if(host.directoryExists&&host.getDirectories){var typeRoots=getEffectiveTypeRoots(options,host);if(typeRoots)for(var _i=0,typeRoots_1=typeRoots;_i<typeRoots_1.length;_i++){var root=typeRoots_1[_i];if(host.directoryExists(root))for(var _a=0,_b=host.getDirectories(root);_a<_b.length;_a++){var typeDirectivePath=_b[_a],normalized=ts.normalizePath(typeDirectivePath),packageJsonPath=ts.pathToPackageJson(ts.combinePaths(root,normalized)),isNotNeededPackage=host.fileExists(packageJsonPath)&&null===ts.readJson(packageJsonPath,host).typings;isNotNeededPackage||result.push(ts.getBaseFileName(normalized))}}}return result}function createProgram(rootNames,options,host,oldProgram){function getCommonSourceDirectory(){return"undefined"==typeof commonSourceDirectory&&(commonSourceDirectory=options.rootDir&&checkSourceFilesBelongToPath(files,options.rootDir)?ts.getNormalizedAbsolutePath(options.rootDir,currentDirectory):computeCommonSourceDirectory(files),commonSourceDirectory&&commonSourceDirectory[commonSourceDirectory.length-1]!==ts.directorySeparator&&(commonSourceDirectory+=ts.directorySeparator)),commonSourceDirectory}function getClassifiableNames(){if(!classifiableNames){getTypeChecker(),classifiableNames=ts.createMap();for(var _i=0,files_2=files;_i<files_2.length;_i++){var sourceFile=files_2[_i];ts.copyProperties(sourceFile.classifiableNames,classifiableNames)}}return classifiableNames}function tryReuseStructureFromOldProgram(){if(!oldProgram)return!1;var oldOptions=oldProgram.getCompilerOptions();if(oldOptions.module!==options.module||oldOptions.moduleResolution!==options.moduleResolution||oldOptions.noResolve!==options.noResolve||oldOptions.target!==options.target||oldOptions.noLib!==options.noLib||oldOptions.jsx!==options.jsx||oldOptions.allowJs!==options.allowJs||oldOptions.rootDir!==options.rootDir||oldOptions.configFilePath!==options.configFilePath||oldOptions.baseUrl!==options.baseUrl||oldOptions.maxNodeModuleJsDepth!==options.maxNodeModuleJsDepth||!ts.arrayIsEqualTo(oldOptions.typeRoots,oldOptions.typeRoots)||!ts.arrayIsEqualTo(oldOptions.rootDirs,options.rootDirs)||!ts.equalOwnProperties(oldOptions.paths,options.paths))return!1;ts.Debug.assert(!oldProgram.structureIsReused);var oldRootNames=oldProgram.getRootFileNames();if(!ts.arrayIsEqualTo(oldRootNames,rootNames))return!1;if(!ts.arrayIsEqualTo(options.types,oldOptions.types))return!1;for(var newSourceFiles=[],filePaths=[],modifiedSourceFiles=[],_i=0,_a=oldProgram.getSourceFiles();_i<_a.length;_i++){var oldSourceFile=_a[_i],newSourceFile=host.getSourceFileByPath?host.getSourceFileByPath(oldSourceFile.fileName,oldSourceFile.path,options.target):host.getSourceFile(oldSourceFile.fileName,options.target);if(!newSourceFile)return!1;if(newSourceFile.path=oldSourceFile.path,filePaths.push(newSourceFile.path),oldSourceFile!==newSourceFile){if(oldSourceFile.hasNoDefaultLib!==newSourceFile.hasNoDefaultLib)return!1;if(!ts.arrayIsEqualTo(oldSourceFile.referencedFiles,newSourceFile.referencedFiles,fileReferenceIsEqualTo))return!1;if(collectExternalModuleReferences(newSourceFile),!ts.arrayIsEqualTo(oldSourceFile.imports,newSourceFile.imports,moduleNameIsEqualTo))return!1;if(!ts.arrayIsEqualTo(oldSourceFile.moduleAugmentations,newSourceFile.moduleAugmentations,moduleNameIsEqualTo))return!1;if(!ts.arrayIsEqualTo(oldSourceFile.typeReferenceDirectives,newSourceFile.typeReferenceDirectives,fileReferenceIsEqualTo))return!1;var newSourceFilePath=ts.getNormalizedAbsolutePath(newSourceFile.fileName,currentDirectory);if(resolveModuleNamesWorker){var moduleNames=ts.map(ts.concatenate(newSourceFile.imports,newSourceFile.moduleAugmentations),getTextOfLiteral),resolutions=resolveModuleNamesWorker(moduleNames,newSourceFilePath),resolutionsChanged=ts.hasChangesInResolutions(moduleNames,resolutions,oldSourceFile.resolvedModules,ts.moduleResolutionIsEqualTo);if(resolutionsChanged)return!1}if(resolveTypeReferenceDirectiveNamesWorker){var typesReferenceDirectives=ts.map(newSourceFile.typeReferenceDirectives,function(x){return x.fileName}),resolutions=resolveTypeReferenceDirectiveNamesWorker(typesReferenceDirectives,newSourceFilePath),resolutionsChanged=ts.hasChangesInResolutions(typesReferenceDirectives,resolutions,oldSourceFile.resolvedTypeReferenceDirectiveNames,ts.typeDirectiveIsEqualTo);if(resolutionsChanged)return!1}newSourceFile.resolvedModules=oldSourceFile.resolvedModules,
newSourceFile.resolvedTypeReferenceDirectiveNames=oldSourceFile.resolvedTypeReferenceDirectiveNames,modifiedSourceFiles.push(newSourceFile)}else newSourceFile=oldSourceFile;newSourceFiles.push(newSourceFile)}for(var i=0,len=newSourceFiles.length;len>i;i++)filesByName.set(filePaths[i],newSourceFiles[i]);files=newSourceFiles,fileProcessingDiagnostics=oldProgram.getFileProcessingDiagnostics();for(var _b=0,modifiedSourceFiles_1=modifiedSourceFiles;_b<modifiedSourceFiles_1.length;_b++){var modifiedFile=modifiedSourceFiles_1[_b];fileProcessingDiagnostics.reattachFileDiagnostics(modifiedFile)}return resolvedTypeReferenceDirectives=oldProgram.getResolvedTypeReferenceDirectives(),oldProgram.structureIsReused=!0,!0}function getEmitHost(writeFileCallback){return{getCanonicalFileName:getCanonicalFileName,getCommonSourceDirectory:program.getCommonSourceDirectory,getCompilerOptions:program.getCompilerOptions,getCurrentDirectory:function(){return currentDirectory},getNewLine:function(){return host.getNewLine()},getSourceFile:program.getSourceFile,getSourceFileByPath:program.getSourceFileByPath,getSourceFiles:program.getSourceFiles,isSourceFileFromExternalLibrary:function(file){return!!sourceFilesFoundSearchingNodeModules[file.path]},writeFile:writeFileCallback||function(fileName,data,writeByteOrderMark,onError,sourceFiles){return host.writeFile(fileName,data,writeByteOrderMark,onError,sourceFiles)},isEmitBlocked:isEmitBlocked}}function getDiagnosticsProducingTypeChecker(){return diagnosticsProducingTypeChecker||(diagnosticsProducingTypeChecker=ts.createTypeChecker(program,!0))}function dropDiagnosticsProducingTypeChecker(){diagnosticsProducingTypeChecker=void 0}function getTypeChecker(){return noDiagnosticsTypeChecker||(noDiagnosticsTypeChecker=ts.createTypeChecker(program,!1))}function emit(sourceFile,writeFileCallback,cancellationToken,emitOnlyDtsFiles){return runWithCancellationToken(function(){return emitWorker(program,sourceFile,writeFileCallback,cancellationToken,emitOnlyDtsFiles)})}function isEmitBlocked(emitFileName){return hasEmitBlockingDiagnostics.contains(ts.toPath(emitFileName,currentDirectory,getCanonicalFileName))}function emitWorker(program,sourceFile,writeFileCallback,cancellationToken,emitOnlyDtsFiles){var declarationDiagnostics=[];if(options.noEmit)return{diagnostics:declarationDiagnostics,sourceMaps:void 0,emittedFiles:void 0,emitSkipped:!0};if(options.noEmitOnError){var diagnostics=program.getOptionsDiagnostics(cancellationToken).concat(program.getSyntacticDiagnostics(sourceFile,cancellationToken),program.getGlobalDiagnostics(cancellationToken),program.getSemanticDiagnostics(sourceFile,cancellationToken));if(0===diagnostics.length&&program.getCompilerOptions().declaration&&(declarationDiagnostics=program.getDeclarationDiagnostics(void 0,cancellationToken)),diagnostics.length>0||declarationDiagnostics.length>0)return{diagnostics:ts.concatenate(diagnostics,declarationDiagnostics),sourceMaps:void 0,emittedFiles:void 0,emitSkipped:!0}}var emitResolver=getDiagnosticsProducingTypeChecker().getEmitResolver(options.outFile||options.out?void 0:sourceFile);ts.performance.mark("beforeEmit");var emitResult=ts.emitFiles(emitResolver,getEmitHost(writeFileCallback),sourceFile,emitOnlyDtsFiles);return ts.performance.mark("afterEmit"),ts.performance.measure("Emit","beforeEmit","afterEmit"),emitResult}function getSourceFile(fileName){return getSourceFileByPath(ts.toPath(fileName,currentDirectory,getCanonicalFileName))}function getSourceFileByPath(path){return filesByName.get(path)}function getDiagnosticsHelper(sourceFile,getDiagnostics,cancellationToken){if(sourceFile)return getDiagnostics(sourceFile,cancellationToken);var allDiagnostics=[];return ts.forEach(program.getSourceFiles(),function(sourceFile){cancellationToken&&cancellationToken.throwIfCancellationRequested(),ts.addRange(allDiagnostics,getDiagnostics(sourceFile,cancellationToken))}),ts.sortAndDeduplicateDiagnostics(allDiagnostics)}function getSyntacticDiagnostics(sourceFile,cancellationToken){return getDiagnosticsHelper(sourceFile,getSyntacticDiagnosticsForFile,cancellationToken)}function getSemanticDiagnostics(sourceFile,cancellationToken){return getDiagnosticsHelper(sourceFile,getSemanticDiagnosticsForFile,cancellationToken)}function getDeclarationDiagnostics(sourceFile,cancellationToken){var options=program.getCompilerOptions();return!sourceFile||options.out||options.outFile?getDeclarationDiagnosticsWorker(sourceFile,cancellationToken):getDiagnosticsHelper(sourceFile,getDeclarationDiagnosticsForFile,cancellationToken)}function getSyntacticDiagnosticsForFile(sourceFile,cancellationToken){return sourceFile.parseDiagnostics}function runWithCancellationToken(func){try{return func()}catch(e){throw e instanceof ts.OperationCanceledException&&(noDiagnosticsTypeChecker=void 0,diagnosticsProducingTypeChecker=void 0),e}}function getSemanticDiagnosticsForFile(sourceFile,cancellationToken){return runWithCancellationToken(function(){var typeChecker=getDiagnosticsProducingTypeChecker();ts.Debug.assert(!!sourceFile.bindDiagnostics);var bindDiagnostics=sourceFile.bindDiagnostics,checkDiagnostics=ts.isSourceFileJavaScript(sourceFile)?getJavaScriptSemanticDiagnosticsForFile(sourceFile,cancellationToken):typeChecker.getDiagnostics(sourceFile,cancellationToken),fileProcessingDiagnosticsInFile=fileProcessingDiagnostics.getDiagnostics(sourceFile.fileName),programDiagnosticsInFile=programDiagnostics.getDiagnostics(sourceFile.fileName);return bindDiagnostics.concat(checkDiagnostics).concat(fileProcessingDiagnosticsInFile).concat(programDiagnosticsInFile)})}function getJavaScriptSemanticDiagnosticsForFile(sourceFile,cancellationToken){return runWithCancellationToken(function(){function walk(node){if(!node)return!1;switch(node.kind){case 229:return diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.import_can_only_be_used_in_a_ts_file)),!0;case 235:if(node.isExportEquals)return diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.export_can_only_be_used_in_a_ts_file)),!0;break;case 221:var classDeclaration=node;if(checkModifiers(classDeclaration.modifiers)||checkTypeParameters(classDeclaration.typeParameters))return!0;break;case 251:var heritageClause=node;if(106===heritageClause.token)return diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.implements_clauses_can_only_be_used_in_a_ts_file)),!0;break;case 222:return diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.interface_declarations_can_only_be_used_in_a_ts_file)),!0;case 225:return diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.module_declarations_can_only_be_used_in_a_ts_file)),!0;case 223:return diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.type_aliases_can_only_be_used_in_a_ts_file)),!0;case 147:case 146:case 148:case 149:case 150:case 179:case 220:case 180:case 220:var functionDeclaration=node;if(checkModifiers(functionDeclaration.modifiers)||checkTypeParameters(functionDeclaration.typeParameters)||checkTypeAnnotation(functionDeclaration.type))return!0;break;case 200:var variableStatement=node;if(checkModifiers(variableStatement.modifiers))return!0;break;case 218:var variableDeclaration=node;if(checkTypeAnnotation(variableDeclaration.type))return!0;break;case 174:case 175:var expression=node;if(expression.typeArguments&&expression.typeArguments.length>0){var start=expression.typeArguments.pos;return diagnostics.push(ts.createFileDiagnostic(sourceFile,start,expression.typeArguments.end-start,ts.Diagnostics.type_arguments_can_only_be_used_in_a_ts_file)),!0}break;case 142:var parameter=node;if(parameter.modifiers){var start=parameter.modifiers.pos;return diagnostics.push(ts.createFileDiagnostic(sourceFile,start,parameter.modifiers.end-start,ts.Diagnostics.parameter_modifiers_can_only_be_used_in_a_ts_file)),!0}if(parameter.questionToken)return diagnostics.push(ts.createDiagnosticForNode(parameter.questionToken,ts.Diagnostics._0_can_only_be_used_in_a_ts_file,"?")),!0;if(parameter.type)return diagnostics.push(ts.createDiagnosticForNode(parameter.type,ts.Diagnostics.types_can_only_be_used_in_a_ts_file)),!0;break;case 145:var propertyDeclaration=node;if(propertyDeclaration.modifiers)for(var _i=0,_a=propertyDeclaration.modifiers;_i<_a.length;_i++){var modifier=_a[_i];if(113!==modifier.kind)return diagnostics.push(ts.createDiagnosticForNode(modifier,ts.Diagnostics._0_can_only_be_used_in_a_ts_file,ts.tokenToString(modifier.kind))),!0}if(checkTypeAnnotation(node.type))return!0;break;case 224:return diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.enum_declarations_can_only_be_used_in_a_ts_file)),!0;case 177:var typeAssertionExpression=node;return diagnostics.push(ts.createDiagnosticForNode(typeAssertionExpression.type,ts.Diagnostics.type_assertion_expressions_can_only_be_used_in_a_ts_file)),!0;case 143:return options.experimentalDecorators||diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Set_the_experimentalDecorators_option_to_remove_this_warning)),!0}return ts.forEachChild(node,walk)}function checkTypeParameters(typeParameters){if(typeParameters){var start=typeParameters.pos;return diagnostics.push(ts.createFileDiagnostic(sourceFile,start,typeParameters.end-start,ts.Diagnostics.type_parameter_declarations_can_only_be_used_in_a_ts_file)),!0}return!1}function checkTypeAnnotation(type){return type?(diagnostics.push(ts.createDiagnosticForNode(type,ts.Diagnostics.types_can_only_be_used_in_a_ts_file)),!0):!1}function checkModifiers(modifiers){if(modifiers)for(var _i=0,modifiers_1=modifiers;_i<modifiers_1.length;_i++){var modifier=modifiers_1[_i];switch(modifier.kind){case 112:case 110:case 111:case 128:case 122:return diagnostics.push(ts.createDiagnosticForNode(modifier,ts.Diagnostics._0_can_only_be_used_in_a_ts_file,ts.tokenToString(modifier.kind))),!0;case 113:case 82:case 74:case 77:case 115:}}return!1}var diagnostics=[];return walk(sourceFile),diagnostics})}function getDeclarationDiagnosticsWorker(sourceFile,cancellationToken){return runWithCancellationToken(function(){var resolver=getDiagnosticsProducingTypeChecker().getEmitResolver(sourceFile,cancellationToken),writeFile=function(){};return ts.getDeclarationDiagnostics(getEmitHost(writeFile),resolver,sourceFile)})}function getDeclarationDiagnosticsForFile(sourceFile,cancellationToken){return ts.isDeclarationFile(sourceFile)?[]:getDeclarationDiagnosticsWorker(sourceFile,cancellationToken)}function getOptionsDiagnostics(){var allDiagnostics=[];return ts.addRange(allDiagnostics,fileProcessingDiagnostics.getGlobalDiagnostics()),ts.addRange(allDiagnostics,programDiagnostics.getGlobalDiagnostics()),ts.sortAndDeduplicateDiagnostics(allDiagnostics)}function getGlobalDiagnostics(){var allDiagnostics=[];return ts.addRange(allDiagnostics,getDiagnosticsProducingTypeChecker().getGlobalDiagnostics()),ts.sortAndDeduplicateDiagnostics(allDiagnostics)}function hasExtension(fileName){return ts.getBaseFileName(fileName).indexOf(".")>=0}function processRootFile(fileName,isDefaultLib){processSourceFile(ts.normalizePath(fileName),isDefaultLib,!0)}function fileReferenceIsEqualTo(a,b){return a.fileName===b.fileName}function moduleNameIsEqualTo(a,b){return a.text===b.text}function getTextOfLiteral(literal){return literal.text}function collectExternalModuleReferences(file){function collectModuleReferences(node,inAmbientModule){switch(node.kind){case 230:case 229:case 236:var moduleNameExpr=ts.getExternalModuleName(node);if(!moduleNameExpr||9!==moduleNameExpr.kind)break;if(!moduleNameExpr.text)break;inAmbientModule&&ts.isExternalModuleNameRelative(moduleNameExpr.text)||(imports||(imports=[])).push(moduleNameExpr);break;case 225:if(ts.isAmbientModule(node)&&(inAmbientModule||2&node.flags||ts.isDeclarationFile(file))){var moduleName=node.name;if(isExternalModuleFile||inAmbientModule&&!ts.isExternalModuleNameRelative(moduleName.text))(moduleAugmentations||(moduleAugmentations=[])).push(moduleName);else if(!inAmbientModule){var body=node.body;if(body)for(var _i=0,_a=body.statements;_i<_a.length;_i++){var statement=_a[_i];collectModuleReferences(statement,!0)}}}}}function collectRequireCalls(node){ts.isRequireCall(node,!0)?(imports||(imports=[])).push(node.arguments[0]):ts.forEachChild(node,collectRequireCalls)}if(!file.imports){for(var imports,moduleAugmentations,isJavaScriptFile=ts.isSourceFileJavaScript(file),isExternalModuleFile=ts.isExternalModule(file),_i=0,_a=file.statements;_i<_a.length;_i++){var node=_a[_i];collectModuleReferences(node,!1),isJavaScriptFile&&collectRequireCalls(node)}file.imports=imports||emptyArray,file.moduleAugmentations=moduleAugmentations||emptyArray}}function processSourceFile(fileName,isDefaultLib,isReference,refFile,refPos,refEnd){var diagnosticArgument,diagnostic;if(hasExtension(fileName))options.allowNonTsExtensions||ts.forEach(supportedExtensions,function(extension){return ts.fileExtensionIs(host.getCanonicalFileName(fileName),extension)})?findSourceFile(fileName,ts.toPath(fileName,currentDirectory,getCanonicalFileName),isDefaultLib,isReference,refFile,refPos,refEnd)?refFile&&host.getCanonicalFileName(fileName)===host.getCanonicalFileName(refFile.fileName)&&(diagnostic=ts.Diagnostics.A_file_cannot_have_a_reference_to_itself,diagnosticArgument=[fileName]):(diagnostic=ts.Diagnostics.File_0_not_found,diagnosticArgument=[fileName]):(diagnostic=ts.Diagnostics.File_0_has_unsupported_extension_The_only_supported_extensions_are_1,diagnosticArgument=[fileName,"'"+supportedExtensions.join("', '")+"'"]);else{var nonTsFile=options.allowNonTsExtensions&&findSourceFile(fileName,ts.toPath(fileName,currentDirectory,getCanonicalFileName),isDefaultLib,isReference,refFile,refPos,refEnd);nonTsFile||(options.allowNonTsExtensions?(diagnostic=ts.Diagnostics.File_0_not_found,diagnosticArgument=[fileName]):ts.forEach(supportedExtensions,function(extension){return findSourceFile(fileName+extension,ts.toPath(fileName+extension,currentDirectory,getCanonicalFileName),isDefaultLib,isReference,refFile,refPos,refEnd)})||(diagnostic=ts.Diagnostics.File_0_not_found,fileName+=".ts",diagnosticArgument=[fileName]))}diagnostic&&(void 0!==refFile&&void 0!==refEnd&&void 0!==refPos?fileProcessingDiagnostics.add(ts.createFileDiagnostic.apply(void 0,[refFile,refPos,refEnd-refPos,diagnostic].concat(diagnosticArgument))):fileProcessingDiagnostics.add(ts.createCompilerDiagnostic.apply(void 0,[diagnostic].concat(diagnosticArgument))))}function reportFileNamesDifferOnlyInCasingError(fileName,existingFileName,refFile,refPos,refEnd){void 0!==refFile&&void 0!==refPos&&void 0!==refEnd?fileProcessingDiagnostics.add(ts.createFileDiagnostic(refFile,refPos,refEnd-refPos,ts.Diagnostics.File_name_0_differs_from_already_included_file_name_1_only_in_casing,fileName,existingFileName)):fileProcessingDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.File_name_0_differs_from_already_included_file_name_1_only_in_casing,fileName,existingFileName))}function findSourceFile(fileName,path,isDefaultLib,isReference,refFile,refPos,refEnd){if(filesByName.contains(path)){var file_1=filesByName.get(path);return file_1&&options.forceConsistentCasingInFileNames&&ts.getNormalizedAbsolutePath(file_1.fileName,currentDirectory)!==ts.getNormalizedAbsolutePath(fileName,currentDirectory)&&reportFileNamesDifferOnlyInCasingError(fileName,file_1.fileName,refFile,refPos,refEnd),file_1&&sourceFilesFoundSearchingNodeModules[file_1.path]&&0==currentNodeModulesDepth?(sourceFilesFoundSearchingNodeModules[file_1.path]=!1,options.noResolve||(processReferencedFiles(file_1,ts.getDirectoryPath(fileName),isDefaultLib),processTypeReferenceDirectives(file_1)),modulesWithElidedImports[file_1.path]=!1,processImportedModules(file_1,ts.getDirectoryPath(fileName))):file_1&&modulesWithElidedImports[file_1.path]&&maxNodeModulesJsDepth>currentNodeModulesDepth&&(modulesWithElidedImports[file_1.path]=!1,processImportedModules(file_1,ts.getDirectoryPath(fileName))),file_1}var file=host.getSourceFile(fileName,options.target,function(hostErrorMessage){void 0!==refFile&&void 0!==refPos&&void 0!==refEnd?fileProcessingDiagnostics.add(ts.createFileDiagnostic(refFile,refPos,refEnd-refPos,ts.Diagnostics.Cannot_read_file_0_Colon_1,fileName,hostErrorMessage)):fileProcessingDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Cannot_read_file_0_Colon_1,fileName,hostErrorMessage))});if(filesByName.set(path,file),file){if(sourceFilesFoundSearchingNodeModules[path]=currentNodeModulesDepth>0,file.path=path,host.useCaseSensitiveFileNames()){var existingFile=filesByNameIgnoreCase.get(path);existingFile?reportFileNamesDifferOnlyInCasingError(fileName,existingFile.fileName,refFile,refPos,refEnd):filesByNameIgnoreCase.set(path,file)}skipDefaultLib=skipDefaultLib||file.hasNoDefaultLib;var basePath=ts.getDirectoryPath(fileName);options.noResolve||(processReferencedFiles(file,basePath,isDefaultLib),processTypeReferenceDirectives(file)),processImportedModules(file,basePath),isDefaultLib?files.unshift(file):files.push(file)}return file}function processReferencedFiles(file,basePath,isDefaultLib){ts.forEach(file.referencedFiles,function(ref){var referencedFileName=resolveTripleslashReference(ref.fileName,file.fileName);processSourceFile(referencedFileName,isDefaultLib,!0,file,ref.pos,ref.end)})}function processTypeReferenceDirectives(file){for(var typeDirectives=ts.map(file.typeReferenceDirectives,function(ref){return ref.fileName.toLocaleLowerCase()}),resolutions=resolveTypeReferenceDirectiveNamesWorker(typeDirectives,file.fileName),i=0;i<typeDirectives.length;i++){var ref=file.typeReferenceDirectives[i],resolvedTypeReferenceDirective=resolutions[i],fileName=ref.fileName.toLocaleLowerCase();ts.setResolvedTypeReferenceDirective(file,fileName,resolvedTypeReferenceDirective),processTypeReferenceDirective(fileName,resolvedTypeReferenceDirective,file,ref.pos,ref.end)}}function processTypeReferenceDirective(typeReferenceDirective,resolvedTypeReferenceDirective,refFile,refPos,refEnd){var previousResolution=resolvedTypeReferenceDirectives[typeReferenceDirective];if(!previousResolution||!previousResolution.primary){var saveResolution=!0;if(resolvedTypeReferenceDirective)if(resolvedTypeReferenceDirective.primary)processSourceFile(resolvedTypeReferenceDirective.resolvedFileName,!1,!0,refFile,refPos,refEnd);else if(previousResolution){var otherFileText=host.readFile(resolvedTypeReferenceDirective.resolvedFileName);otherFileText!==getSourceFile(previousResolution.resolvedFileName).text&&fileProcessingDiagnostics.add(createDiagnostic(refFile,refPos,refEnd,ts.Diagnostics.Conflicting_definitions_for_0_found_at_1_and_2_Consider_installing_a_specific_version_of_this_library_to_resolve_the_conflict,typeReferenceDirective,resolvedTypeReferenceDirective.resolvedFileName,previousResolution.resolvedFileName)),saveResolution=!1}else processSourceFile(resolvedTypeReferenceDirective.resolvedFileName,!1,!0,refFile,refPos,refEnd);else fileProcessingDiagnostics.add(createDiagnostic(refFile,refPos,refEnd,ts.Diagnostics.Cannot_find_type_definition_file_for_0,typeReferenceDirective));saveResolution&&(resolvedTypeReferenceDirectives[typeReferenceDirective]=resolvedTypeReferenceDirective)}}function createDiagnostic(refFile,refPos,refEnd,message){for(var args=[],_i=4;_i<arguments.length;_i++)args[_i-4]=arguments[_i];return void 0===refFile||void 0===refPos||void 0===refEnd?ts.createCompilerDiagnostic.apply(void 0,[message].concat(args)):ts.createFileDiagnostic.apply(void 0,[refFile,refPos,refEnd-refPos,message].concat(args))}function getCanonicalFileName(fileName){return host.getCanonicalFileName(fileName)}function processImportedModules(file,basePath){if(collectExternalModuleReferences(file),file.imports.length||file.moduleAugmentations.length){file.resolvedModules=ts.createMap();for(var moduleNames=ts.map(ts.concatenate(file.imports,file.moduleAugmentations),getTextOfLiteral),resolutions=resolveModuleNamesWorker(moduleNames,ts.getNormalizedAbsolutePath(file.fileName,currentDirectory)),i=0;i<moduleNames.length;i++){var resolution=resolutions[i];ts.setResolvedModule(file,moduleNames[i],resolution);var resolvedPath=resolution?ts.toPath(resolution.resolvedFileName,currentDirectory,getCanonicalFileName):void 0,isFromNodeModulesSearch=resolution&&resolution.isExternalLibraryImport,isJsFileFromNodeModules=isFromNodeModulesSearch&&ts.hasJavaScriptFileExtension(resolution.resolvedFileName);isFromNodeModulesSearch&&currentNodeModulesDepth++;var elideImport=isJsFileFromNodeModules&&currentNodeModulesDepth>maxNodeModulesJsDepth,shouldAddFile=resolution&&!options.noResolve&&i<file.imports.length&&!elideImport;elideImport?modulesWithElidedImports[file.path]=!0:shouldAddFile&&findSourceFile(resolution.resolvedFileName,resolvedPath,!1,!1,file,ts.skipTrivia(file.text,file.imports[i].pos),file.imports[i].end),isFromNodeModulesSearch&&currentNodeModulesDepth--}}else file.resolvedModules=void 0}function computeCommonSourceDirectory(sourceFiles){for(var fileNames=[],_i=0,sourceFiles_2=sourceFiles;_i<sourceFiles_2.length;_i++){var file=sourceFiles_2[_i];file.isDeclarationFile||fileNames.push(file.fileName)}return computeCommonSourceDirectoryOfFilenames(fileNames,currentDirectory,getCanonicalFileName)}function checkSourceFilesBelongToPath(sourceFiles,rootDirectory){var allFilesBelongToPath=!0;if(sourceFiles)for(var absoluteRootDirectoryPath=host.getCanonicalFileName(ts.getNormalizedAbsolutePath(rootDirectory,currentDirectory)),_i=0,sourceFiles_3=sourceFiles;_i<sourceFiles_3.length;_i++){var sourceFile=sourceFiles_3[_i];if(!ts.isDeclarationFile(sourceFile)){var absoluteSourceFilePath=host.getCanonicalFileName(ts.getNormalizedAbsolutePath(sourceFile.fileName,currentDirectory));0!==absoluteSourceFilePath.indexOf(absoluteRootDirectoryPath)&&(programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.File_0_is_not_under_rootDir_1_rootDir_is_expected_to_contain_all_source_files,sourceFile.fileName,options.rootDir)),allFilesBelongToPath=!1)}}return allFilesBelongToPath}function verifyCompilerOptions(){function verifyEmitFilePath(emitFileName,emitFilesSeen){if(emitFileName){var emitFilePath=ts.toPath(emitFileName,currentDirectory,getCanonicalFileName);filesByName.contains(emitFilePath)&&createEmitBlockingDiagnostics(emitFileName,emitFilePath,ts.Diagnostics.Cannot_write_file_0_because_it_would_overwrite_input_file),emitFilesSeen.contains(emitFilePath)?createEmitBlockingDiagnostics(emitFileName,emitFilePath,ts.Diagnostics.Cannot_write_file_0_because_it_would_be_overwritten_by_multiple_input_files):emitFilesSeen.set(emitFilePath,!0)}}if(options.isolatedModules&&(options.declaration&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"declaration","isolatedModules")),options.noEmitOnError&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"noEmitOnError","isolatedModules")),options.out&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"out","isolatedModules")),options.outFile&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"outFile","isolatedModules"))),options.inlineSourceMap&&(options.sourceMap&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"sourceMap","inlineSourceMap")),options.mapRoot&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"mapRoot","inlineSourceMap"))),options.paths&&void 0===options.baseUrl&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_paths_cannot_be_used_without_specifying_baseUrl_option)),options.paths)for(var key in options.paths)if(ts.hasProperty(options.paths,key))if(ts.hasZeroOrOneAsteriskCharacter(key)||programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Pattern_0_can_have_at_most_one_Asterisk_character,key)),ts.isArray(options.paths[key])){0===options.paths[key].length&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Substitutions_for_pattern_0_shouldn_t_be_an_empty_array,key));for(var _i=0,_a=options.paths[key];_i<_a.length;_i++){var subst=_a[_i],typeOfSubst=typeof subst;"string"===typeOfSubst?ts.hasZeroOrOneAsteriskCharacter(subst)||programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Substitution_0_in_pattern_1_in_can_have_at_most_one_Asterisk_character,subst,key)):programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Substitution_0_for_pattern_1_has_incorrect_type_expected_string_got_2,subst,key,typeOfSubst))}}else programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Substitutions_for_pattern_0_should_be_an_array,key));options.sourceMap||options.inlineSourceMap||(options.inlineSources&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided,"inlineSources")),options.sourceRoot&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided,"sourceRoot"))),options.out&&options.outFile&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"out","outFile")),options.mapRoot&&!options.sourceMap&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"mapRoot","sourceMap")),options.declarationDir&&(options.declaration||programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"declarationDir","declaration")),(options.out||options.outFile)&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"declarationDir",options.out?"out":"outFile"))),options.lib&&options.noLib&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"lib","noLib"));var languageVersion=options.target||0,outFile=options.outFile||options.out,firstNonAmbientExternalModuleSourceFile=ts.forEach(files,function(f){return ts.isExternalModule(f)&&!ts.isDeclarationFile(f)?f:void 0});if(options.isolatedModules){options.module===ts.ModuleKind.None&&2>languageVersion&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_isolatedModules_can_only_be_used_when_either_option_module_is_provided_or_option_target_is_ES2015_or_higher));var firstNonExternalModuleSourceFile=ts.forEach(files,function(f){return ts.isExternalModule(f)||ts.isDeclarationFile(f)?void 0:f});if(firstNonExternalModuleSourceFile){var span=ts.getErrorSpanForNode(firstNonExternalModuleSourceFile,firstNonExternalModuleSourceFile);programDiagnostics.add(ts.createFileDiagnostic(firstNonExternalModuleSourceFile,span.start,span.length,ts.Diagnostics.Cannot_compile_namespaces_when_the_isolatedModules_flag_is_provided))}}else if(firstNonAmbientExternalModuleSourceFile&&2>languageVersion&&options.module===ts.ModuleKind.None){var span=ts.getErrorSpanForNode(firstNonAmbientExternalModuleSourceFile,firstNonAmbientExternalModuleSourceFile.externalModuleIndicator);programDiagnostics.add(ts.createFileDiagnostic(firstNonAmbientExternalModuleSourceFile,span.start,span.length,ts.Diagnostics.Cannot_use_imports_exports_or_module_augmentations_when_module_is_none))}if(outFile)if(options.module&&options.module!==ts.ModuleKind.AMD&&options.module!==ts.ModuleKind.System)programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Only_amd_and_system_modules_are_supported_alongside_0,options.out?"out":"outFile"));else if(void 0===options.module&&firstNonAmbientExternalModuleSourceFile){var span=ts.getErrorSpanForNode(firstNonAmbientExternalModuleSourceFile,firstNonAmbientExternalModuleSourceFile.externalModuleIndicator);programDiagnostics.add(ts.createFileDiagnostic(firstNonAmbientExternalModuleSourceFile,span.start,span.length,ts.Diagnostics.Cannot_compile_modules_using_option_0_unless_the_module_flag_is_amd_or_system,options.out?"out":"outFile"))}if(options.outDir||options.sourceRoot||options.mapRoot){var dir=getCommonSourceDirectory();options.outDir&&""===dir&&ts.forEach(files,function(file){return ts.getRootLength(file.fileName)>1})&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Cannot_find_the_common_subdirectory_path_for_the_input_files))}if(!options.noEmit&&options.allowJs&&options.declaration&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"allowJs","declaration")),options.emitDecoratorMetadata&&!options.experimentalDecorators&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"emitDecoratorMetadata","experimentalDecorators")),options.reactNamespace&&!ts.isIdentifier(options.reactNamespace,languageVersion)&&programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Invalid_value_for_reactNamespace_0_is_not_a_valid_identifier,options.reactNamespace)),!options.noEmit&&!options.suppressOutputPathCheck){var emitHost=getEmitHost(),emitFilesSeen_1=ts.createFileMap(host.useCaseSensitiveFileNames()?void 0:function(key){return key.toLocaleLowerCase()});ts.forEachExpectedEmitFile(emitHost,function(emitFileNames,sourceFiles,isBundledEmit){verifyEmitFilePath(emitFileNames.jsFilePath,emitFilesSeen_1),verifyEmitFilePath(emitFileNames.declarationFilePath,emitFilesSeen_1)})}}function createEmitBlockingDiagnostics(emitFileName,emitFilePath,message){hasEmitBlockingDiagnostics.set(ts.toPath(emitFileName,currentDirectory,getCanonicalFileName),!0),programDiagnostics.add(ts.createCompilerDiagnostic(message,emitFileName))}var program,commonSourceDirectory,diagnosticsProducingTypeChecker,noDiagnosticsTypeChecker,classifiableNames,files=[],resolvedTypeReferenceDirectives=ts.createMap(),fileProcessingDiagnostics=ts.createDiagnosticCollection(),maxNodeModulesJsDepth="number"==typeof options.maxNodeModuleJsDepth?options.maxNodeModuleJsDepth:0,currentNodeModulesDepth=0,modulesWithElidedImports=ts.createMap(),sourceFilesFoundSearchingNodeModules=ts.createMap();ts.performance.mark("beforeProgram"),host=host||createCompilerHost(options);var resolveModuleNamesWorker,skipDefaultLib=options.noLib,programDiagnostics=ts.createDiagnosticCollection(),currentDirectory=host.getCurrentDirectory(),supportedExtensions=ts.getSupportedExtensions(options),hasEmitBlockingDiagnostics=ts.createFileMap(getCanonicalFileName);if(host.resolveModuleNames)resolveModuleNamesWorker=function(moduleNames,containingFile){return host.resolveModuleNames(moduleNames,containingFile)};else{var loader_1=function(moduleName,containingFile){return ts.resolveModuleName(moduleName,containingFile,options,host).resolvedModule};resolveModuleNamesWorker=function(moduleNames,containingFile){return loadWithLocalCache(moduleNames,containingFile,loader_1)}}var resolveTypeReferenceDirectiveNamesWorker;if(host.resolveTypeReferenceDirectives)resolveTypeReferenceDirectiveNamesWorker=function(typeDirectiveNames,containingFile){return host.resolveTypeReferenceDirectives(typeDirectiveNames,containingFile)};else{var loader_2=function(typesRef,containingFile){return resolveTypeReferenceDirective(typesRef,containingFile,options,host).resolvedTypeReferenceDirective};resolveTypeReferenceDirectiveNamesWorker=function(typeReferenceDirectiveNames,containingFile){return loadWithLocalCache(typeReferenceDirectiveNames,containingFile,loader_2)}}var filesByName=ts.createFileMap(),filesByNameIgnoreCase=host.useCaseSensitiveFileNames()?ts.createFileMap(function(fileName){return fileName.toLowerCase()}):void 0;if(!tryReuseStructureFromOldProgram()){ts.forEach(rootNames,function(name){return processRootFile(name,!1)});var typeReferences=getAutomaticTypeDirectiveNames(options,host);
if(typeReferences)for(var containingFilename=ts.combinePaths(host.getCurrentDirectory(),"__inferred type names__.ts"),resolutions=resolveTypeReferenceDirectiveNamesWorker(typeReferences,containingFilename),i=0;i<typeReferences.length;i++)processTypeReferenceDirective(typeReferences[i],resolutions[i]);if(!skipDefaultLib)if(options.lib){var libDirectory_1=host.getDefaultLibLocation?host.getDefaultLibLocation():ts.getDirectoryPath(host.getDefaultLibFileName(options));ts.forEach(options.lib,function(libFileName){processRootFile(ts.combinePaths(libDirectory_1,libFileName),!0)})}else processRootFile(host.getDefaultLibFileName(options),!0)}return oldProgram=void 0,program={getRootFileNames:function(){return rootNames},getSourceFile:getSourceFile,getSourceFileByPath:getSourceFileByPath,getSourceFiles:function(){return files},getCompilerOptions:function(){return options},getSyntacticDiagnostics:getSyntacticDiagnostics,getOptionsDiagnostics:getOptionsDiagnostics,getGlobalDiagnostics:getGlobalDiagnostics,getSemanticDiagnostics:getSemanticDiagnostics,getDeclarationDiagnostics:getDeclarationDiagnostics,getTypeChecker:getTypeChecker,getClassifiableNames:getClassifiableNames,getDiagnosticsProducingTypeChecker:getDiagnosticsProducingTypeChecker,getCommonSourceDirectory:getCommonSourceDirectory,emit:emit,getCurrentDirectory:function(){return currentDirectory},getNodeCount:function(){return getDiagnosticsProducingTypeChecker().getNodeCount()},getIdentifierCount:function(){return getDiagnosticsProducingTypeChecker().getIdentifierCount()},getSymbolCount:function(){return getDiagnosticsProducingTypeChecker().getSymbolCount()},getTypeCount:function(){return getDiagnosticsProducingTypeChecker().getTypeCount()},getFileProcessingDiagnostics:function(){return fileProcessingDiagnostics},getResolvedTypeReferenceDirectives:function(){return resolvedTypeReferenceDirectives},dropDiagnosticsProducingTypeChecker:dropDiagnosticsProducingTypeChecker},verifyCompilerOptions(),ts.performance.mark("afterProgram"),ts.performance.measure("Program","beforeProgram","afterProgram"),program}ts.version="2.0.6";var emptyArray=[];ts.findConfigFile=findConfigFile,ts.resolveTripleslashReference=resolveTripleslashReference,ts.computeCommonSourceDirectoryOfFilenames=computeCommonSourceDirectoryOfFilenames;var typeReferenceExtensions=[".d.ts"];ts.getEffectiveTypeRoots=getEffectiveTypeRoots;var nodeModulesAtTypes=ts.combinePaths("node_modules","@types");ts.resolveTypeReferenceDirective=resolveTypeReferenceDirective,ts.createCompilerHost=createCompilerHost,ts.getPreEmitDiagnostics=getPreEmitDiagnostics,ts.formatDiagnostics=formatDiagnostics,ts.flattenDiagnosticMessageText=flattenDiagnosticMessageText,ts.getAutomaticTypeDirectiveNames=getAutomaticTypeDirectiveNames,ts.createProgram=createProgram}(ts||(ts={}));var ts;!function(ts){function getOptionNameMap(){if(optionNameMapCache)return optionNameMapCache;var optionNameMap=ts.createMap(),shortOptionNames=ts.createMap();return ts.forEach(ts.optionDeclarations,function(option){optionNameMap[option.name.toLowerCase()]=option,option.shortName&&(shortOptionNames[option.shortName]=option.name)}),optionNameMapCache={optionNameMap:optionNameMap,shortOptionNames:shortOptionNames}}function createCompilerDiagnosticForInvalidCustomType(opt){var namesOfType=[];for(var key in opt.type)namesOfType.push(" '"+key+"'");return ts.createCompilerDiagnostic(ts.Diagnostics.Argument_for_0_option_must_be_Colon_1,"--"+opt.name,namesOfType)}function parseCustomTypeOption(opt,value,errors){var key=trimString(value||"").toLowerCase(),map=opt.type;return key in map?map[key]:void errors.push(createCompilerDiagnosticForInvalidCustomType(opt))}function parseListTypeOption(opt,value,errors){if(void 0===value&&(value=""),value=trimString(value),ts.startsWith(value,"-"))return void 0;if(""===value)return[];var values=value.split(",");switch(opt.element.type){case"number":return ts.map(values,parseInt);case"string":return ts.map(values,function(v){return v||""});default:return ts.filter(ts.map(values,function(v){return parseCustomTypeOption(opt.element,v,errors)}),function(v){return!!v})}}function parseCommandLine(commandLine,readFile){function parseStrings(args){for(var i=0;i<args.length;){var s=args[i];if(i++,64===s.charCodeAt(0))parseResponseFile(s.slice(1));else if(45===s.charCodeAt(0))if(s=s.slice(45===s.charCodeAt(1)?2:1).toLowerCase(),s in shortOptionNames&&(s=shortOptionNames[s]),s in optionNameMap){var opt=optionNameMap[s];if(opt.isTSConfigOnly)errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_can_only_be_specified_in_tsconfig_json_file,opt.name));else switch(args[i]||"boolean"===opt.type||errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Compiler_option_0_expects_an_argument,opt.name)),opt.type){case"number":options[opt.name]=parseInt(args[i]),i++;break;case"boolean":options[opt.name]=!0;break;case"string":options[opt.name]=args[i]||"",i++;break;case"list":var result=parseListTypeOption(opt,args[i],errors);options[opt.name]=result||[],result&&i++;break;default:options[opt.name]=parseCustomTypeOption(opt,args[i],errors),i++}}else errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Unknown_compiler_option_0,s));else fileNames.push(s)}}function parseResponseFile(fileName){var text=readFile?readFile(fileName):ts.sys.readFile(fileName);if(!text)return void errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.File_0_not_found,fileName));for(var args=[],pos=0;;){for(;pos<text.length&&text.charCodeAt(pos)<=32;)pos++;if(pos>=text.length)break;var start=pos;if(34===text.charCodeAt(start)){for(pos++;pos<text.length&&34!==text.charCodeAt(pos);)pos++;pos<text.length?(args.push(text.substring(start+1,pos)),pos++):errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Unterminated_quoted_string_in_response_file_0,fileName))}else{for(;text.charCodeAt(pos)>32;)pos++;args.push(text.substring(start,pos))}}parseStrings(args)}var options={},fileNames=[],errors=[],_a=getOptionNameMap(),optionNameMap=_a.optionNameMap,shortOptionNames=_a.shortOptionNames;return parseStrings(commandLine),{options:options,fileNames:fileNames,errors:errors}}function readConfigFile(fileName,readFile){var text="";try{text=readFile(fileName)}catch(e){return{error:ts.createCompilerDiagnostic(ts.Diagnostics.Cannot_read_file_0_Colon_1,fileName,e.message)}}return parseConfigFileTextToJson(fileName,text)}function parseConfigFileTextToJson(fileName,jsonText,stripComments){void 0===stripComments&&(stripComments=!0);try{var jsonTextToParse=stripComments?removeComments(jsonText):jsonText;return{config:/\S/.test(jsonTextToParse)?JSON.parse(jsonTextToParse):{}}}catch(e){return{error:ts.createCompilerDiagnostic(ts.Diagnostics.Failed_to_parse_file_0_Colon_1,fileName,e.message)}}}function generateTSConfig(options,fileNames){function getCustomTypeMapOfCommandLineOption(optionDefinition){return"string"===optionDefinition.type||"number"===optionDefinition.type||"boolean"===optionDefinition.type?void 0:"list"===optionDefinition.type?getCustomTypeMapOfCommandLineOption(optionDefinition.element):optionDefinition.type}function getNameOfCompilerOptionValue(value,customTypeMap){for(var key in customTypeMap)if(customTypeMap[key]===value)return key;return void 0}function serializeCompilerOptions(options){var result=ts.createMap(),optionsNameMap=getOptionNameMap().optionNameMap;for(var name_35 in options)if(ts.hasProperty(options,name_35))switch(name_35){case"init":case"watch":case"version":case"help":case"project":break;default:var value=options[name_35],optionDefinition=optionsNameMap[name_35.toLowerCase()];if(optionDefinition){var customTypeMap=getCustomTypeMapOfCommandLineOption(optionDefinition);if(customTypeMap)if("list"===optionDefinition.type){for(var convertedValue=[],_i=0,_a=value;_i<_a.length;_i++){var element=_a[_i];convertedValue.push(getNameOfCompilerOptionValue(element,customTypeMap))}result[name_35]=convertedValue}else result[name_35]=getNameOfCompilerOptionValue(value,customTypeMap);else result[name_35]=value}}return result}var compilerOptions=ts.extend(options,ts.defaultInitCompilerOptions),configurations={compilerOptions:serializeCompilerOptions(compilerOptions)};return fileNames&&fileNames.length&&(configurations.files=fileNames),configurations}function removeComments(jsonText){for(var token,output="",scanner=ts.createScanner(1,!1,0,jsonText);1!==(token=scanner.scan());)switch(token){case 2:case 3:output+=scanner.getTokenText().replace(/\S/g," ");break;default:output+=scanner.getTokenText()}return output}function parseJsonConfigFileContent(json,host,basePath,existingOptions,configFileName){function getFileNames(errors){var fileNames;ts.hasProperty(json,"files")&&(ts.isArray(json.files)?fileNames=json.files:errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,"files","Array")));var includeSpecs;ts.hasProperty(json,"include")&&(ts.isArray(json.include)?includeSpecs=json.include:errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,"include","Array")));var excludeSpecs;ts.hasProperty(json,"exclude")?ts.isArray(json.exclude)?excludeSpecs=json.exclude:errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,"exclude","Array")):ts.hasProperty(json,"excludes")?errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Unknown_option_excludes_Did_you_mean_exclude)):excludeSpecs=["node_modules","bower_components","jspm_packages"];var outDir=json.compilerOptions&&json.compilerOptions.outDir;return outDir&&excludeSpecs.push(outDir),void 0===fileNames&&void 0===includeSpecs&&(includeSpecs=["**/*"]),matchFileNames(fileNames,includeSpecs,excludeSpecs,basePath,options,host,errors)}void 0===existingOptions&&(existingOptions={});var errors=[],compilerOptions=convertCompilerOptionsFromJsonWorker(json.compilerOptions,basePath,errors,configFileName),options=ts.extend(existingOptions,compilerOptions),typingOptions=convertTypingOptionsFromJsonWorker(json.typingOptions,basePath,errors,configFileName);options.configFilePath=configFileName;var _a=getFileNames(errors),fileNames=_a.fileNames,wildcardDirectories=_a.wildcardDirectories,compileOnSave=convertCompileOnSaveOptionFromJson(json,basePath,errors);return{options:options,fileNames:fileNames,typingOptions:typingOptions,raw:json,errors:errors,wildcardDirectories:wildcardDirectories,compileOnSave:compileOnSave}}function convertCompileOnSaveOptionFromJson(jsonOption,basePath,errors){if(!ts.hasProperty(jsonOption,ts.compileOnSaveCommandLineOption.name))return!1;var result=convertJsonOption(ts.compileOnSaveCommandLineOption,jsonOption.compileOnSave,basePath,errors);return"boolean"==typeof result&&result?result:!1}function convertCompilerOptionsFromJson(jsonOptions,basePath,configFileName){var errors=[],options=convertCompilerOptionsFromJsonWorker(jsonOptions,basePath,errors,configFileName);return{options:options,errors:errors}}function convertTypingOptionsFromJson(jsonOptions,basePath,configFileName){var errors=[],options=convertTypingOptionsFromJsonWorker(jsonOptions,basePath,errors,configFileName);return{options:options,errors:errors}}function convertCompilerOptionsFromJsonWorker(jsonOptions,basePath,errors,configFileName){var options="jsconfig.json"===ts.getBaseFileName(configFileName)?{allowJs:!0,maxNodeModuleJsDepth:2,allowSyntheticDefaultImports:!0}:{};return convertOptionsFromJson(ts.optionDeclarations,jsonOptions,basePath,options,ts.Diagnostics.Unknown_compiler_option_0,errors),options}function convertTypingOptionsFromJsonWorker(jsonOptions,basePath,errors,configFileName){var options="jsconfig.json"===ts.getBaseFileName(configFileName)?{enableAutoDiscovery:!0,include:[],exclude:[]}:{enableAutoDiscovery:!1,include:[],exclude:[]};return convertOptionsFromJson(ts.typingOptionDeclarations,jsonOptions,basePath,options,ts.Diagnostics.Unknown_typing_option_0,errors),options}function convertOptionsFromJson(optionDeclarations,jsonOptions,basePath,defaultOptions,diagnosticMessage,errors){if(jsonOptions){var optionNameMap=ts.arrayToMap(optionDeclarations,function(opt){return opt.name});for(var id in jsonOptions)if(id in optionNameMap){var opt=optionNameMap[id];defaultOptions[opt.name]=convertJsonOption(opt,jsonOptions[id],basePath,errors)}else errors.push(ts.createCompilerDiagnostic(diagnosticMessage,id))}}function convertJsonOption(opt,value,basePath,errors){var optType=opt.type,expectedType="string"==typeof optType?optType:"string";return"list"===optType&&ts.isArray(value)?convertJsonOptionOfListType(opt,value,basePath,errors):typeof value===expectedType?"string"!=typeof optType?convertJsonOptionOfCustomType(opt,value,errors):(opt.isFilePath&&(value=ts.normalizePath(ts.combinePaths(basePath,value)),""===value&&(value=".")),value):void errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,opt.name,expectedType))}function convertJsonOptionOfCustomType(opt,value,errors){var key=value.toLowerCase();return key in opt.type?opt.type[key]:void errors.push(createCompilerDiagnosticForInvalidCustomType(opt))}function convertJsonOptionOfListType(option,values,basePath,errors){return ts.filter(ts.map(values,function(v){return convertJsonOption(option.element,v,basePath,errors)}),function(v){return!!v})}function trimString(s){return"function"==typeof s.trim?s.trim():s.replace(/^[\s]+|[\s]+$/g,"")}function matchFileNames(fileNames,include,exclude,basePath,options,host,errors){basePath=ts.normalizePath(basePath);var keyMapper=host.useCaseSensitiveFileNames?caseSensitiveKeyMapper:caseInsensitiveKeyMapper,literalFileMap=ts.createMap(),wildcardFileMap=ts.createMap();include&&(include=validateSpecs(include,errors,!1)),exclude&&(exclude=validateSpecs(exclude,errors,!0));var wildcardDirectories=getWildcardDirectories(include,exclude,basePath,host.useCaseSensitiveFileNames),supportedExtensions=ts.getSupportedExtensions(options);if(fileNames)for(var _i=0,fileNames_1=fileNames;_i<fileNames_1.length;_i++){var fileName=fileNames_1[_i],file=ts.combinePaths(basePath,fileName);literalFileMap[keyMapper(file)]=file}if(include&&include.length>0)for(var _a=0,_b=host.readDirectory(basePath,supportedExtensions,exclude,include);_a<_b.length;_a++){var file=_b[_a];if(!hasFileWithHigherPriorityExtension(file,literalFileMap,wildcardFileMap,supportedExtensions,keyMapper)){removeWildcardFilesWithLowerPriorityExtension(file,wildcardFileMap,supportedExtensions,keyMapper);var key=keyMapper(file);key in literalFileMap||key in wildcardFileMap||(wildcardFileMap[key]=file)}}var literalFiles=ts.reduceProperties(literalFileMap,addFileToOutput,[]),wildcardFiles=ts.reduceProperties(wildcardFileMap,addFileToOutput,[]);return wildcardFiles.sort(host.useCaseSensitiveFileNames?ts.compareStrings:ts.compareStringsCaseInsensitive),{fileNames:literalFiles.concat(wildcardFiles),wildcardDirectories:wildcardDirectories}}function validateSpecs(specs,errors,allowTrailingRecursion){for(var validSpecs=[],_i=0,specs_2=specs;_i<specs_2.length;_i++){var spec=specs_2[_i];!allowTrailingRecursion&&invalidTrailingRecursionPattern.test(spec)?errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.File_specification_cannot_end_in_a_recursive_directory_wildcard_Asterisk_Asterisk_Colon_0,spec)):invalidMultipleRecursionPatterns.test(spec)?errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.File_specification_cannot_contain_multiple_recursive_directory_wildcards_Asterisk_Asterisk_Colon_0,spec)):invalidDotDotAfterRecursiveWildcardPattern.test(spec)?errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.File_specification_cannot_contain_a_parent_directory_that_appears_after_a_recursive_directory_wildcard_Asterisk_Asterisk_Colon_0,spec)):validSpecs.push(spec)}return validSpecs}function getWildcardDirectories(include,exclude,path,useCaseSensitiveFileNames){var rawExcludeRegex=ts.getRegularExpressionForWildcard(exclude,path,"exclude"),excludeRegex=rawExcludeRegex&&new RegExp(rawExcludeRegex,useCaseSensitiveFileNames?"":"i"),wildcardDirectories=ts.createMap();if(void 0!==include){for(var recursiveKeys=[],_i=0,include_1=include;_i<include_1.length;_i++){var file=include_1[_i],name_36=ts.normalizePath(ts.combinePaths(path,file));if(!excludeRegex||!excludeRegex.test(name_36)){var match=wildcardDirectoryPattern.exec(name_36);if(match){var key=useCaseSensitiveFileNames?match[0]:match[0].toLowerCase(),flags=watchRecursivePattern.test(name_36)?1:0,existingFlags=wildcardDirectories[key];(void 0===existingFlags||flags>existingFlags)&&(wildcardDirectories[key]=flags,1===flags&&recursiveKeys.push(key))}}}for(var key in wildcardDirectories)for(var _a=0,recursiveKeys_1=recursiveKeys;_a<recursiveKeys_1.length;_a++){var recursiveKey=recursiveKeys_1[_a];key!==recursiveKey&&ts.containsPath(recursiveKey,key,path,!useCaseSensitiveFileNames)&&delete wildcardDirectories[key]}}return wildcardDirectories}function hasFileWithHigherPriorityExtension(file,literalFiles,wildcardFiles,extensions,keyMapper){for(var extensionPriority=ts.getExtensionPriority(file,extensions),adjustedExtensionPriority=ts.adjustExtensionPriority(extensionPriority),i=0;adjustedExtensionPriority>i;i++){var higherPriorityExtension=extensions[i],higherPriorityPath=keyMapper(ts.changeExtension(file,higherPriorityExtension));if(higherPriorityPath in literalFiles||higherPriorityPath in wildcardFiles)return!0}return!1}function removeWildcardFilesWithLowerPriorityExtension(file,wildcardFiles,extensions,keyMapper){for(var extensionPriority=ts.getExtensionPriority(file,extensions),nextExtensionPriority=ts.getNextLowestExtensionPriority(extensionPriority),i=nextExtensionPriority;i<extensions.length;i++){var lowerPriorityExtension=extensions[i],lowerPriorityPath=keyMapper(ts.changeExtension(file,lowerPriorityExtension));delete wildcardFiles[lowerPriorityPath]}}function addFileToOutput(output,file){return output.push(file),output}function caseSensitiveKeyMapper(key){return key}function caseInsensitiveKeyMapper(key){return key.toLowerCase()}ts.compileOnSaveCommandLineOption={name:"compileOnSave",type:"boolean"},ts.optionDeclarations=[{name:"charset",type:"string"},ts.compileOnSaveCommandLineOption,{name:"declaration",shortName:"d",type:"boolean",description:ts.Diagnostics.Generates_corresponding_d_ts_file},{name:"declarationDir",type:"string",isFilePath:!0,paramType:ts.Diagnostics.DIRECTORY},{name:"diagnostics",type:"boolean"},{name:"extendedDiagnostics",type:"boolean"},{name:"emitBOM",type:"boolean"},{name:"help",shortName:"h",type:"boolean",description:ts.Diagnostics.Print_this_message},{name:"help",shortName:"?",type:"boolean"},{name:"init",type:"boolean",description:ts.Diagnostics.Initializes_a_TypeScript_project_and_creates_a_tsconfig_json_file},{name:"inlineSourceMap",type:"boolean"},{name:"inlineSources",type:"boolean"},{name:"jsx",type:ts.createMap({preserve:1,react:2}),paramType:ts.Diagnostics.KIND,description:ts.Diagnostics.Specify_JSX_code_generation_Colon_preserve_or_react},{name:"reactNamespace",type:"string",description:ts.Diagnostics.Specify_the_object_invoked_for_createElement_and_spread_when_targeting_react_JSX_emit},{name:"listFiles",type:"boolean"},{name:"locale",type:"string"},{name:"mapRoot",type:"string",isFilePath:!0,description:ts.Diagnostics.Specify_the_location_where_debugger_should_locate_map_files_instead_of_generated_locations,paramType:ts.Diagnostics.LOCATION},{name:"module",shortName:"m",type:ts.createMap({none:ts.ModuleKind.None,commonjs:ts.ModuleKind.CommonJS,amd:ts.ModuleKind.AMD,system:ts.ModuleKind.System,umd:ts.ModuleKind.UMD,es6:ts.ModuleKind.ES6,es2015:ts.ModuleKind.ES2015}),description:ts.Diagnostics.Specify_module_code_generation_Colon_commonjs_amd_system_umd_or_es2015,paramType:ts.Diagnostics.KIND},{name:"newLine",type:ts.createMap({crlf:0,lf:1}),description:ts.Diagnostics.Specify_the_end_of_line_sequence_to_be_used_when_emitting_files_Colon_CRLF_dos_or_LF_unix,paramType:ts.Diagnostics.NEWLINE},{name:"noEmit",type:"boolean",description:ts.Diagnostics.Do_not_emit_outputs},{name:"noEmitHelpers",type:"boolean"},{name:"noEmitOnError",type:"boolean",description:ts.Diagnostics.Do_not_emit_outputs_if_any_errors_were_reported},{name:"noErrorTruncation",type:"boolean"},{name:"noImplicitAny",type:"boolean",description:ts.Diagnostics.Raise_error_on_expressions_and_declarations_with_an_implied_any_type},{name:"noImplicitThis",type:"boolean",description:ts.Diagnostics.Raise_error_on_this_expressions_with_an_implied_any_type},{name:"noUnusedLocals",type:"boolean",description:ts.Diagnostics.Report_errors_on_unused_locals},{name:"noUnusedParameters",type:"boolean",description:ts.Diagnostics.Report_errors_on_unused_parameters},{name:"noLib",type:"boolean"},{name:"noResolve",type:"boolean"},{name:"skipDefaultLibCheck",type:"boolean"},{name:"skipLibCheck",type:"boolean",description:ts.Diagnostics.Skip_type_checking_of_declaration_files},{name:"out",type:"string",isFilePath:!1,paramType:ts.Diagnostics.FILE},{name:"outFile",type:"string",isFilePath:!0,description:ts.Diagnostics.Concatenate_and_emit_output_to_single_file,paramType:ts.Diagnostics.FILE},{name:"outDir",type:"string",isFilePath:!0,description:ts.Diagnostics.Redirect_output_structure_to_the_directory,paramType:ts.Diagnostics.DIRECTORY},{name:"preserveConstEnums",type:"boolean",description:ts.Diagnostics.Do_not_erase_const_enum_declarations_in_generated_code},{name:"pretty",description:ts.Diagnostics.Stylize_errors_and_messages_using_color_and_context_experimental,type:"boolean"},{name:"project",shortName:"p",type:"string",isFilePath:!0,description:ts.Diagnostics.Compile_the_project_in_the_given_directory,paramType:ts.Diagnostics.DIRECTORY},{name:"removeComments",type:"boolean",description:ts.Diagnostics.Do_not_emit_comments_to_output},{name:"rootDir",type:"string",isFilePath:!0,paramType:ts.Diagnostics.LOCATION,description:ts.Diagnostics.Specify_the_root_directory_of_input_files_Use_to_control_the_output_directory_structure_with_outDir},{name:"isolatedModules",type:"boolean"},{name:"sourceMap",type:"boolean",description:ts.Diagnostics.Generates_corresponding_map_file},{name:"sourceRoot",type:"string",isFilePath:!0,description:ts.Diagnostics.Specify_the_location_where_debugger_should_locate_TypeScript_files_instead_of_source_locations,paramType:ts.Diagnostics.LOCATION},{name:"suppressExcessPropertyErrors",type:"boolean",description:ts.Diagnostics.Suppress_excess_property_checks_for_object_literals,experimental:!0},{name:"suppressImplicitAnyIndexErrors",type:"boolean",description:ts.Diagnostics.Suppress_noImplicitAny_errors_for_indexing_objects_lacking_index_signatures},{name:"stripInternal",type:"boolean",description:ts.Diagnostics.Do_not_emit_declarations_for_code_that_has_an_internal_annotation,experimental:!0},{name:"target",shortName:"t",type:ts.createMap({es3:0,es5:1,es6:2,es2015:2}),description:ts.Diagnostics.Specify_ECMAScript_target_version_Colon_ES3_default_ES5_or_ES2015,paramType:ts.Diagnostics.VERSION},{name:"version",shortName:"v",type:"boolean",description:ts.Diagnostics.Print_the_compiler_s_version},{name:"watch",shortName:"w",type:"boolean",description:ts.Diagnostics.Watch_input_files},{name:"experimentalDecorators",type:"boolean",description:ts.Diagnostics.Enables_experimental_support_for_ES7_decorators},{name:"emitDecoratorMetadata",type:"boolean",experimental:!0,description:ts.Diagnostics.Enables_experimental_support_for_emitting_type_metadata_for_decorators},{name:"moduleResolution",type:ts.createMap({node:ts.ModuleResolutionKind.NodeJs,classic:ts.ModuleResolutionKind.Classic}),description:ts.Diagnostics.Specify_module_resolution_strategy_Colon_node_Node_js_or_classic_TypeScript_pre_1_6},{name:"allowUnusedLabels",type:"boolean",description:ts.Diagnostics.Do_not_report_errors_on_unused_labels},{name:"noImplicitReturns",type:"boolean",description:ts.Diagnostics.Report_error_when_not_all_code_paths_in_function_return_a_value},{name:"noFallthroughCasesInSwitch",type:"boolean",description:ts.Diagnostics.Report_errors_for_fallthrough_cases_in_switch_statement},{name:"allowUnreachableCode",type:"boolean",description:ts.Diagnostics.Do_not_report_errors_on_unreachable_code},{name:"forceConsistentCasingInFileNames",type:"boolean",description:ts.Diagnostics.Disallow_inconsistently_cased_references_to_the_same_file},{name:"baseUrl",type:"string",isFilePath:!0,description:ts.Diagnostics.Base_directory_to_resolve_non_absolute_module_names},{name:"paths",type:"object",isTSConfigOnly:!0},{name:"rootDirs",type:"list",isTSConfigOnly:!0,element:{name:"rootDirs",type:"string",isFilePath:!0}},{name:"typeRoots",type:"list",element:{name:"typeRoots",type:"string",isFilePath:!0}},{name:"types",type:"list",element:{name:"types",type:"string"},description:ts.Diagnostics.Type_declaration_files_to_be_included_in_compilation},{name:"traceResolution",type:"boolean",description:ts.Diagnostics.Enable_tracing_of_the_name_resolution_process},{name:"allowJs",type:"boolean",description:ts.Diagnostics.Allow_javascript_files_to_be_compiled},{name:"allowSyntheticDefaultImports",type:"boolean",description:ts.Diagnostics.Allow_default_imports_from_modules_with_no_default_export_This_does_not_affect_code_emit_just_typechecking},{name:"noImplicitUseStrict",type:"boolean",description:ts.Diagnostics.Do_not_emit_use_strict_directives_in_module_output},{name:"maxNodeModuleJsDepth",type:"number",description:ts.Diagnostics.The_maximum_dependency_depth_to_search_under_node_modules_and_load_JavaScript_files},{name:"listEmittedFiles",type:"boolean"},{name:"lib",type:"list",element:{name:"lib",type:ts.createMap({es5:"lib.es5.d.ts",es6:"lib.es2015.d.ts",es2015:"lib.es2015.d.ts",es7:"lib.es2016.d.ts",es2016:"lib.es2016.d.ts",es2017:"lib.es2017.d.ts",dom:"lib.dom.d.ts",webworker:"lib.webworker.d.ts",scripthost:"lib.scripthost.d.ts","es2015.core":"lib.es2015.core.d.ts","es2015.collection":"lib.es2015.collection.d.ts","es2015.generator":"lib.es2015.generator.d.ts","es2015.iterable":"lib.es2015.iterable.d.ts","es2015.promise":"lib.es2015.promise.d.ts","es2015.proxy":"lib.es2015.proxy.d.ts","es2015.reflect":"lib.es2015.reflect.d.ts","es2015.symbol":"lib.es2015.symbol.d.ts","es2015.symbol.wellknown":"lib.es2015.symbol.wellknown.d.ts","es2016.array.include":"lib.es2016.array.include.d.ts","es2017.object":"lib.es2017.object.d.ts","es2017.sharedmemory":"lib.es2017.sharedmemory.d.ts"})},description:ts.Diagnostics.Specify_library_files_to_be_included_in_the_compilation_Colon},{name:"disableSizeLimit",type:"boolean"},{name:"strictNullChecks",type:"boolean",description:ts.Diagnostics.Enable_strict_null_checks}],ts.typingOptionDeclarations=[{name:"enableAutoDiscovery",type:"boolean"},{name:"include",type:"list",element:{name:"include",type:"string"}},{name:"exclude",type:"list",element:{name:"exclude",type:"string"}}],ts.defaultInitCompilerOptions={module:ts.ModuleKind.CommonJS,target:1,noImplicitAny:!1,sourceMap:!1};var optionNameMapCache;ts.getOptionNameMap=getOptionNameMap,ts.createCompilerDiagnosticForInvalidCustomType=createCompilerDiagnosticForInvalidCustomType,ts.parseCustomTypeOption=parseCustomTypeOption,ts.parseListTypeOption=parseListTypeOption,ts.parseCommandLine=parseCommandLine,ts.readConfigFile=readConfigFile,ts.parseConfigFileTextToJson=parseConfigFileTextToJson,ts.generateTSConfig=generateTSConfig,ts.parseJsonConfigFileContent=parseJsonConfigFileContent,ts.convertCompileOnSaveOptionFromJson=convertCompileOnSaveOptionFromJson,ts.convertCompilerOptionsFromJson=convertCompilerOptionsFromJson,ts.convertTypingOptionsFromJson=convertTypingOptionsFromJson;var invalidTrailingRecursionPattern=/(^|\/)\*\*\/?$/,invalidMultipleRecursionPatterns=/(^|\/)\*\*\/(.*\/)?\*\*($|\/)/,invalidDotDotAfterRecursiveWildcardPattern=/(^|\/)\*\*\/(.*\/)?\.\.($|\/)/,watchRecursivePattern=/\/[^\/]*?[*?][^\/]*\//,wildcardDirectoryPattern=/^[^*?]*(?=\/[^\/]*[*?])/}(ts||(ts={}));var ts;!function(ts){var OutliningElementsCollector;!function(OutliningElementsCollector){function collectElements(sourceFile){function addOutliningSpan(hintSpanNode,startElement,endElement,autoCollapse){if(hintSpanNode&&startElement&&endElement){var span={textSpan:ts.createTextSpanFromBounds(startElement.pos,endElement.end),hintSpan:ts.createTextSpanFromBounds(hintSpanNode.getStart(),hintSpanNode.end),bannerText:collapseText,autoCollapse:autoCollapse};elements.push(span)}}function addOutliningSpanComments(commentSpan,autoCollapse){if(commentSpan){var span={textSpan:ts.createTextSpanFromBounds(commentSpan.pos,commentSpan.end),hintSpan:ts.createTextSpanFromBounds(commentSpan.pos,commentSpan.end),bannerText:collapseText,autoCollapse:autoCollapse};elements.push(span)}}function addOutliningForLeadingCommentsForNode(n){var comments=ts.getLeadingCommentRangesOfNode(n,sourceFile);if(comments){for(var firstSingleLineCommentStart=-1,lastSingleLineCommentEnd=-1,isFirstSingleLineComment=!0,singleLineCommentCount=0,_i=0,comments_2=comments;_i<comments_2.length;_i++){var currentComment=comments_2[_i];2===currentComment.kind?(isFirstSingleLineComment&&(firstSingleLineCommentStart=currentComment.pos),isFirstSingleLineComment=!1,lastSingleLineCommentEnd=currentComment.end,singleLineCommentCount++):3===currentComment.kind&&(combineAndAddMultipleSingleLineComments(singleLineCommentCount,firstSingleLineCommentStart,lastSingleLineCommentEnd),addOutliningSpanComments(currentComment,!1),singleLineCommentCount=0,lastSingleLineCommentEnd=-1,isFirstSingleLineComment=!0)}combineAndAddMultipleSingleLineComments(singleLineCommentCount,firstSingleLineCommentStart,lastSingleLineCommentEnd)}}function combineAndAddMultipleSingleLineComments(count,start,end){if(count>1){var multipleSingleLineComments={pos:start,end:end,kind:2};addOutliningSpanComments(multipleSingleLineComments,!1)}}function autoCollapse(node){return ts.isFunctionBlock(node)&&180!==node.parent.kind}function walk(n){if(!(depth>maxDepth)){switch(ts.isDeclaration(n)&&addOutliningForLeadingCommentsForNode(n),n.kind){case 199:if(!ts.isFunctionBlock(n)){var parent_16=n.parent,openBrace=ts.findChildOfKind(n,15,sourceFile),closeBrace=ts.findChildOfKind(n,16,sourceFile);if(204===parent_16.kind||207===parent_16.kind||208===parent_16.kind||206===parent_16.kind||203===parent_16.kind||205===parent_16.kind||212===parent_16.kind||252===parent_16.kind){addOutliningSpan(parent_16,openBrace,closeBrace,autoCollapse(n));break}if(216===parent_16.kind){var tryStatement=parent_16;if(tryStatement.tryBlock===n){addOutliningSpan(parent_16,openBrace,closeBrace,autoCollapse(n));break}if(tryStatement.finallyBlock===n){var finallyKeyword=ts.findChildOfKind(tryStatement,85,sourceFile);if(finallyKeyword){addOutliningSpan(finallyKeyword,openBrace,closeBrace,autoCollapse(n));break}}}var span=ts.createTextSpanFromBounds(n.getStart(),n.end);elements.push({textSpan:span,hintSpan:span,bannerText:collapseText,autoCollapse:autoCollapse(n)});break}case 226:var openBrace=ts.findChildOfKind(n,15,sourceFile),closeBrace=ts.findChildOfKind(n,16,sourceFile);addOutliningSpan(n.parent,openBrace,closeBrace,autoCollapse(n));break;case 221:case 222:case 224:case 171:case 227:var openBrace=ts.findChildOfKind(n,15,sourceFile),closeBrace=ts.findChildOfKind(n,16,sourceFile);addOutliningSpan(n,openBrace,closeBrace,autoCollapse(n));break;case 170:var openBracket=ts.findChildOfKind(n,19,sourceFile),closeBracket=ts.findChildOfKind(n,20,sourceFile);addOutliningSpan(n,openBracket,closeBracket,autoCollapse(n))}depth++,ts.forEachChild(n,walk),depth--}}var elements=[],collapseText="...",depth=0,maxDepth=20;return walk(sourceFile),elements}OutliningElementsCollector.collectElements=collectElements}(OutliningElementsCollector=ts.OutliningElementsCollector||(ts.OutliningElementsCollector={}))}(ts||(ts={}));var ts;!function(ts){var NavigateTo;!function(NavigateTo){function getNavigateToItems(program,checker,cancellationToken,searchValue,maxResultCount,excludeDts){function allMatchesAreCaseSensitive(matches){ts.Debug.assert(matches.length>0);for(var _i=0,matches_1=matches;_i<matches_1.length;_i++){var match=matches_1[_i];if(!match.isCaseSensitive)return!1;
}return!0}function getTextOfIdentifierOrLiteral(node){return!node||69!==node.kind&&9!==node.kind&&8!==node.kind?void 0:node.text}function tryAddSingleDeclarationName(declaration,containers){if(declaration&&declaration.name){var text=getTextOfIdentifierOrLiteral(declaration.name);if(void 0===text)return 140===declaration.name.kind?tryAddComputedPropertyName(declaration.name.expression,containers,!0):!1;containers.unshift(text)}return!0}function tryAddComputedPropertyName(expression,containers,includeLastPortion){var text=getTextOfIdentifierOrLiteral(expression);if(void 0!==text)return includeLastPortion&&containers.unshift(text),!0;if(172===expression.kind){var propertyAccess=expression;return includeLastPortion&&containers.unshift(propertyAccess.name.text),tryAddComputedPropertyName(propertyAccess.expression,containers,!0)}return!1}function getContainers(declaration){var containers=[];if(140===declaration.name.kind&&!tryAddComputedPropertyName(declaration.name.expression,containers,!1))return void 0;for(declaration=ts.getContainerNode(declaration);declaration;){if(!tryAddSingleDeclarationName(declaration,containers))return void 0;declaration=ts.getContainerNode(declaration)}return containers}function bestMatchKind(matches){ts.Debug.assert(matches.length>0);for(var bestMatchKind=ts.PatternMatchKind.camelCase,_i=0,matches_2=matches;_i<matches_2.length;_i++){var match=matches_2[_i],kind=match.kind;bestMatchKind>kind&&(bestMatchKind=kind)}return bestMatchKind}function compareNavigateToItems(i1,i2){return i1.matchKind-i2.matchKind||ts.compareStringsCaseInsensitive(i1.name,i2.name)||ts.compareStrings(i1.name,i2.name)}function createNavigateToItem(rawItem){var declaration=rawItem.declaration,container=ts.getContainerNode(declaration);return{name:rawItem.name,kind:ts.getNodeKind(declaration),kindModifiers:ts.getNodeModifiers(declaration),matchKind:ts.PatternMatchKind[rawItem.matchKind],isCaseSensitive:rawItem.isCaseSensitive,fileName:rawItem.fileName,textSpan:ts.createTextSpanFromBounds(declaration.getStart(),declaration.getEnd()),containerName:container&&container.name?container.name.text:"",containerKind:container&&container.name?ts.getNodeKind(container):""}}var patternMatcher=ts.createPatternMatcher(searchValue),rawItems=[];ts.forEach(program.getSourceFiles(),function(sourceFile){cancellationToken.throwIfCancellationRequested();var nameToDeclarations=sourceFile.getNamedDeclarations();for(var name_37 in nameToDeclarations){var declarations=nameToDeclarations[name_37];if(declarations){var matches=patternMatcher.getMatchesForLastSegmentOfPattern(name_37);if(!matches)continue;for(var _i=0,declarations_7=declarations;_i<declarations_7.length;_i++){var declaration=declarations_7[_i];if(patternMatcher.patternContainsDots){var containers=getContainers(declaration);if(!containers)return void 0;if(matches=patternMatcher.getMatches(containers,name_37),!matches)continue}var fileName=sourceFile.fileName,matchKind=bestMatchKind(matches);excludeDts&&ts.fileExtensionIs(declaration.getSourceFile().fileName,".d.ts")||rawItems.push({name:name_37,fileName:fileName,matchKind:matchKind,isCaseSensitive:allMatchesAreCaseSensitive(matches),declaration:declaration})}}}}),rawItems=ts.filter(rawItems,function(item){var decl=item.declaration;if(231===decl.kind||234===decl.kind||229===decl.kind){var importer=checker.getSymbolAtLocation(decl.name),imported=checker.getAliasedSymbol(importer);return importer.name!==imported.name}return!0}),rawItems.sort(compareNavigateToItems),void 0!==maxResultCount&&(rawItems=rawItems.slice(0,maxResultCount));var items=ts.map(rawItems,createNavigateToItem);return items}NavigateTo.getNavigateToItems=getNavigateToItems}(NavigateTo=ts.NavigateTo||(ts.NavigateTo={}))}(ts||(ts={}));var ts;!function(ts){var NavigationBar;!function(NavigationBar){function getNavigationBarItems(sourceFile){curSourceFile=sourceFile;var result=ts.map(topLevelItems(rootNavigationBarNode(sourceFile)),convertToTopLevelItem);return curSourceFile=void 0,result}function getNavigationTree(sourceFile){curSourceFile=sourceFile;var result=convertToTree(rootNavigationBarNode(sourceFile));return curSourceFile=void 0,result}function nodeText(node){return node.getText(curSourceFile)}function navigationBarNodeKind(n){return n.node.kind}function pushChild(parent,child){parent.children?parent.children.push(child):parent.children=[child]}function rootNavigationBarNode(sourceFile){ts.Debug.assert(!parentsStack.length);var root={node:sourceFile,additionalNodes:void 0,parent:void 0,children:void 0,indent:0};parent=root;for(var _i=0,_a=sourceFile.statements;_i<_a.length;_i++){var statement=_a[_i];addChildrenRecursively(statement)}return endNode(),ts.Debug.assert(!parent&&!parentsStack.length),root}function addLeafNode(node){pushChild(parent,emptyNavigationBarNode(node))}function emptyNavigationBarNode(node){return{node:node,additionalNodes:void 0,parent:parent,children:void 0,indent:parent.indent+1}}function startNode(node){var navNode=emptyNavigationBarNode(node);pushChild(parent,navNode),parentsStack.push(parent),parent=navNode}function endNode(){parent.children&&(mergeChildren(parent.children),sortChildren(parent.children)),parent=parentsStack.pop()}function addNodeWithRecursiveChild(node,child){startNode(node),addChildrenRecursively(child),endNode()}function addChildrenRecursively(node){if(node&&!ts.isToken(node))switch(node.kind){case 148:var ctr=node;addNodeWithRecursiveChild(ctr,ctr.body);for(var _i=0,_a=ctr.parameters;_i<_a.length;_i++){var param=_a[_i];ts.isParameterPropertyDeclaration(param)&&addLeafNode(param)}break;case 147:case 149:case 150:case 146:ts.hasDynamicName(node)||addNodeWithRecursiveChild(node,node.body);break;case 145:case 144:ts.hasDynamicName(node)||addLeafNode(node);break;case 231:var importClause=node;importClause.name&&addLeafNode(importClause);var namedBindings=importClause.namedBindings;if(namedBindings)if(232===namedBindings.kind)addLeafNode(namedBindings);else for(var _b=0,_c=namedBindings.elements;_b<_c.length;_b++){var element=_c[_b];addLeafNode(element)}break;case 169:case 218:var decl=node,name_38=decl.name;ts.isBindingPattern(name_38)?addChildrenRecursively(name_38):decl.initializer&&isFunctionOrClassExpression(decl.initializer)?addChildrenRecursively(decl.initializer):addNodeWithRecursiveChild(decl,decl.initializer);break;case 180:case 220:case 179:addNodeWithRecursiveChild(node,node.body);break;case 224:startNode(node);for(var _d=0,_e=node.members;_d<_e.length;_d++){var member=_e[_d];isComputedProperty(member)||addLeafNode(member)}endNode();break;case 221:case 192:case 222:startNode(node);for(var _f=0,_g=node.members;_f<_g.length;_f++){var member=_g[_f];addChildrenRecursively(member)}endNode();break;case 225:addNodeWithRecursiveChild(node,getInteriorModule(node).body);break;case 238:case 229:case 153:case 151:case 152:case 223:addLeafNode(node);break;default:if(node.jsDocComments)for(var _h=0,_j=node.jsDocComments;_h<_j.length;_h++)for(var jsDocComment=_j[_h],_k=0,_l=jsDocComment.tags;_k<_l.length;_k++){var tag=_l[_k];279===tag.kind&&addLeafNode(tag)}ts.forEachChild(node,addChildrenRecursively)}}function mergeChildren(children){function shouldReallyMerge(a,b){function areSameModule(a,b){return a.body.kind!==b.body.kind?!1:225!==a.body.kind?!0:areSameModule(a.body,b.body)}return a.kind===b.kind&&(225!==a.kind||areSameModule(a,b))}function merge(target,source){target.additionalNodes=target.additionalNodes||[],target.additionalNodes.push(source.node),source.additionalNodes&&(_a=target.additionalNodes).push.apply(_a,source.additionalNodes),target.children=ts.concatenate(target.children,source.children),target.children&&(mergeChildren(target.children),sortChildren(target.children));var _a}var nameToItems=ts.createMap();ts.filterMutate(children,function(child){function tryMerge(a,b){return shouldReallyMerge(a.node,b.node)?(merge(a,b),!0):!1}var decl=child.node,name=decl.name&&nodeText(decl.name);if(!name)return!0;var itemsWithSameName=nameToItems[name];if(!itemsWithSameName)return nameToItems[name]=child,!0;if(itemsWithSameName instanceof Array){for(var _i=0,itemsWithSameName_1=itemsWithSameName;_i<itemsWithSameName_1.length;_i++){var itemWithSameName=itemsWithSameName_1[_i];if(tryMerge(itemWithSameName,child))return!1}return itemsWithSameName.push(child),!0}var itemWithSameName=itemsWithSameName;return tryMerge(itemWithSameName,child)?!1:(nameToItems[name]=[itemWithSameName,child],!0)})}function sortChildren(children){children.sort(compareChildren)}function compareChildren(child1,child2){var name1=tryGetName(child1.node),name2=tryGetName(child2.node);if(name1&&name2){var cmp=localeCompareFix(name1,name2);return 0!==cmp?cmp:navigationBarNodeKind(child1)-navigationBarNodeKind(child2)}return name1?1:name2?-1:navigationBarNodeKind(child1)-navigationBarNodeKind(child2)}function tryGetName(node){if(225===node.kind)return getModuleName(node);var decl=node;if(decl.name)return ts.getPropertyNameForPropertyNameNode(decl.name);switch(node.kind){case 179:case 180:case 192:return getFunctionOrClassName(node);case 279:return getJSDocTypedefTagName(node);default:return void 0}}function getItemName(node){if(225===node.kind)return getModuleName(node);var name=node.name;if(name){var text=nodeText(name);if(text.length>0)return text}switch(node.kind){case 256:var sourceFile=node;return ts.isExternalModule(sourceFile)?'"'+ts.escapeString(ts.getBaseFileName(ts.removeFileExtension(ts.normalizePath(sourceFile.fileName))))+'"':"<global>";case 180:case 220:case 179:case 221:case 192:return 512&node.flags?"default":getFunctionOrClassName(node);case 148:return"constructor";case 152:return"new()";case 151:return"()";case 153:return"[]";case 279:return getJSDocTypedefTagName(node);default:return"<unknown>"}}function getJSDocTypedefTagName(node){if(node.name)return node.name.text;var parentNode=node.parent&&node.parent.parent;if(parentNode&&200===parentNode.kind&&parentNode.declarationList.declarations.length>0){var nameIdentifier=parentNode.declarationList.declarations[0].name;if(69===nameIdentifier.kind)return nameIdentifier.text}return"<typedef>"}function topLevelItems(root){function recur(item){if(isTopLevel(item)&&(topLevel.push(item),item.children))for(var _i=0,_a=item.children;_i<_a.length;_i++){var child=_a[_i];recur(child)}}function isTopLevel(item){function isTopLevelFunctionDeclaration(item){if(!item.node.body)return!1;switch(navigationBarNodeKind(item.parent)){case 226:case 256:case 147:case 148:return!0;default:return hasSomeImportantChild(item)}}function hasSomeImportantChild(item){return ts.forEach(item.children,function(child){var childKind=navigationBarNodeKind(child);return 218!==childKind&&169!==childKind})}switch(navigationBarNodeKind(item)){case 221:case 192:case 224:case 222:case 225:case 256:case 223:case 279:return!0;case 148:case 147:case 149:case 150:return hasSomeImportantChild(item);case 180:case 220:case 179:return isTopLevelFunctionDeclaration(item);default:return!1}}var topLevel=[];return recur(root),topLevel}function convertToTree(n){return{text:getItemName(n.node),kind:ts.getNodeKind(n.node),kindModifiers:ts.getNodeModifiers(n.node),spans:getSpans(n),childItems:ts.map(n.children,convertToTree)}}function convertToTopLevelItem(n){function convertToChildItem(n){return{text:getItemName(n.node),kind:ts.getNodeKind(n.node),kindModifiers:ts.getNodeModifiers(n.node),spans:getSpans(n),childItems:emptyChildItemArray,indent:0,bolded:!1,grayed:!1}}return{text:getItemName(n.node),kind:ts.getNodeKind(n.node),kindModifiers:ts.getNodeModifiers(n.node),spans:getSpans(n),childItems:ts.map(n.children,convertToChildItem)||emptyChildItemArray,indent:n.indent,bolded:!1,grayed:!1}}function getSpans(n){var spans=[getNodeSpan(n.node)];if(n.additionalNodes)for(var _i=0,_a=n.additionalNodes;_i<_a.length;_i++){var node=_a[_i];spans.push(getNodeSpan(node))}return spans}function getModuleName(moduleDeclaration){if(ts.isAmbientModule(moduleDeclaration))return ts.getTextOfNode(moduleDeclaration.name);var result=[];for(result.push(moduleDeclaration.name.text);moduleDeclaration.body&&225===moduleDeclaration.body.kind;)moduleDeclaration=moduleDeclaration.body,result.push(moduleDeclaration.name.text);return result.join(".")}function getInteriorModule(decl){return 225===decl.body.kind?getInteriorModule(decl.body):decl}function isComputedProperty(member){return!member.name||140===member.name.kind}function getNodeSpan(node){return 256===node.kind?ts.createTextSpanFromBounds(node.getFullStart(),node.getEnd()):ts.createTextSpanFromBounds(node.getStart(curSourceFile),node.getEnd())}function getFunctionOrClassName(node){return node.name&&ts.getFullWidth(node.name)>0?ts.declarationNameToString(node.name):218===node.parent.kind?ts.declarationNameToString(node.parent.name):187===node.parent.kind&&56===node.parent.operatorToken.kind?nodeText(node.parent.left):253===node.parent.kind&&node.parent.name?nodeText(node.parent.name):512&node.flags?"default":ts.isClassLike(node)?"<class>":"<function>"}function isFunctionOrClassExpression(node){return 179===node.kind||180===node.kind||192===node.kind}NavigationBar.getNavigationBarItems=getNavigationBarItems,NavigationBar.getNavigationTree=getNavigationTree;var curSourceFile,parent,parentsStack=[],localeCompareIsCorrect=ts.collator&&ts.collator.compare("a","B")<0,localeCompareFix=localeCompareIsCorrect?ts.collator.compare:function(a,b){for(var i=0;i<Math.min(a.length,b.length);i++){var chA=a.charAt(i),chB=b.charAt(i);if('"'===chA&&"'"===chB)return 1;if("'"===chA&&'"'===chB)return-1;var cmp=ts.compareStrings(chA.toLocaleLowerCase(),chB.toLocaleLowerCase());if(0!==cmp)return cmp}return a.length-b.length},emptyChildItemArray=[]}(NavigationBar=ts.NavigationBar||(ts.NavigationBar={}))}(ts||(ts={}));var ts;!function(ts){function createPatternMatch(kind,punctuationStripped,isCaseSensitive,camelCaseWeight){return{kind:kind,punctuationStripped:punctuationStripped,isCaseSensitive:isCaseSensitive,camelCaseWeight:camelCaseWeight}}function createPatternMatcher(pattern){function skipMatch(candidate){return invalidPattern||!candidate}function getMatchesForLastSegmentOfPattern(candidate){return skipMatch(candidate)?void 0:matchSegment(candidate,ts.lastOrUndefined(dotSeparatedSegments))}function getMatches(candidateContainers,candidate){if(skipMatch(candidate))return void 0;var candidateMatch=matchSegment(candidate,ts.lastOrUndefined(dotSeparatedSegments));if(!candidateMatch)return void 0;if(candidateContainers=candidateContainers||[],dotSeparatedSegments.length-1>candidateContainers.length)return void 0;for(var totalMatch=candidateMatch,i=dotSeparatedSegments.length-2,j=candidateContainers.length-1;i>=0;i-=1,j-=1){var segment=dotSeparatedSegments[i],containerName=candidateContainers[j],containerMatch=matchSegment(containerName,segment);if(!containerMatch)return void 0;ts.addRange(totalMatch,containerMatch)}return totalMatch}function getWordSpans(word){return word in stringToWordSpans||(stringToWordSpans[word]=breakIntoWordSpans(word)),stringToWordSpans[word]}function matchTextChunk(candidate,chunk,punctuationStripped){var index=indexOfIgnoringCase(candidate,chunk.textLowerCase);if(0===index)return chunk.text.length===candidate.length?createPatternMatch(PatternMatchKind.exact,punctuationStripped,candidate===chunk.text):createPatternMatch(PatternMatchKind.prefix,punctuationStripped,ts.startsWith(candidate,chunk.text));var isLowercase=chunk.isLowerCase;if(isLowercase){if(index>0)for(var wordSpans=getWordSpans(candidate),_i=0,wordSpans_1=wordSpans;_i<wordSpans_1.length;_i++){var span=wordSpans_1[_i];if(partStartsWith(candidate,span,chunk.text,!0))return createPatternMatch(PatternMatchKind.substring,punctuationStripped,partStartsWith(candidate,span,chunk.text,!1))}}else if(candidate.indexOf(chunk.text)>0)return createPatternMatch(PatternMatchKind.substring,punctuationStripped,!0);if(!isLowercase&&chunk.characterSpans.length>0){var candidateParts=getWordSpans(candidate),camelCaseWeight=tryCamelCaseMatch(candidate,candidateParts,chunk,!1);if(void 0!==camelCaseWeight)return createPatternMatch(PatternMatchKind.camelCase,punctuationStripped,!0,camelCaseWeight);if(camelCaseWeight=tryCamelCaseMatch(candidate,candidateParts,chunk,!0),void 0!==camelCaseWeight)return createPatternMatch(PatternMatchKind.camelCase,punctuationStripped,!1,camelCaseWeight)}return isLowercase&&chunk.text.length<candidate.length&&index>0&&isUpperCaseLetter(candidate.charCodeAt(index))?createPatternMatch(PatternMatchKind.substring,punctuationStripped,!1):void 0}function containsSpaceOrAsterisk(text){for(var i=0;i<text.length;i++){var ch=text.charCodeAt(i);if(32===ch||42===ch)return!0}return!1}function matchSegment(candidate,segment){if(!containsSpaceOrAsterisk(segment.totalTextChunk.text)){var match=matchTextChunk(candidate,segment.totalTextChunk,!1);if(match)return[match]}for(var subWordTextChunks=segment.subWordTextChunks,matches=void 0,_i=0,subWordTextChunks_1=subWordTextChunks;_i<subWordTextChunks_1.length;_i++){var subWordTextChunk=subWordTextChunks_1[_i],result=matchTextChunk(candidate,subWordTextChunk,!0);if(!result)return void 0;matches=matches||[],matches.push(result)}return matches}function partStartsWith(candidate,candidateSpan,pattern,ignoreCase,patternSpan){var patternPartStart=patternSpan?patternSpan.start:0,patternPartLength=patternSpan?patternSpan.length:pattern.length;if(patternPartLength>candidateSpan.length)return!1;if(ignoreCase)for(var i=0;patternPartLength>i;i++){var ch1=pattern.charCodeAt(patternPartStart+i),ch2=candidate.charCodeAt(candidateSpan.start+i);if(toLowerCase(ch1)!==toLowerCase(ch2))return!1}else for(var i=0;patternPartLength>i;i++){var ch1=pattern.charCodeAt(patternPartStart+i),ch2=candidate.charCodeAt(candidateSpan.start+i);if(ch1!==ch2)return!1}return!0}function tryCamelCaseMatch(candidate,candidateParts,chunk,ignoreCase){for(var chunkCharacterSpans=chunk.characterSpans,currentCandidate=0,currentChunkSpan=0,firstMatch=void 0,contiguous=void 0;;){if(currentChunkSpan===chunkCharacterSpans.length){var weight=0;return contiguous&&(weight+=1),0===firstMatch&&(weight+=2),weight}if(currentCandidate===candidateParts.length)return void 0;for(var candidatePart=candidateParts[currentCandidate],gotOneMatchThisCandidate=!1;currentChunkSpan<chunkCharacterSpans.length;currentChunkSpan++){var chunkCharacterSpan=chunkCharacterSpans[currentChunkSpan];if(gotOneMatchThisCandidate&&(!isUpperCaseLetter(chunk.text.charCodeAt(chunkCharacterSpans[currentChunkSpan-1].start))||!isUpperCaseLetter(chunk.text.charCodeAt(chunkCharacterSpans[currentChunkSpan].start))))break;if(!partStartsWith(candidate,candidatePart,chunk.text,ignoreCase,chunkCharacterSpan))break;gotOneMatchThisCandidate=!0,firstMatch=void 0===firstMatch?currentCandidate:firstMatch,contiguous=void 0===contiguous?!0:contiguous,candidatePart=ts.createTextSpan(candidatePart.start+chunkCharacterSpan.length,candidatePart.length-chunkCharacterSpan.length)}gotOneMatchThisCandidate||void 0===contiguous||(contiguous=!1),currentCandidate++}}var stringToWordSpans=ts.createMap();pattern=pattern.trim();var dotSeparatedSegments=pattern.split(".").map(function(p){return createSegment(p.trim())}),invalidPattern=0===dotSeparatedSegments.length||ts.forEach(dotSeparatedSegments,segmentIsInvalid);return{getMatches:getMatches,getMatchesForLastSegmentOfPattern:getMatchesForLastSegmentOfPattern,patternContainsDots:dotSeparatedSegments.length>1}}function createSegment(text){return{totalTextChunk:createTextChunk(text),subWordTextChunks:breakPatternIntoTextChunks(text)}}function segmentIsInvalid(segment){return 0===segment.subWordTextChunks.length}function isUpperCaseLetter(ch){if(ch>=65&&90>=ch)return!0;if(127>ch||!ts.isUnicodeIdentifierStart(ch,2))return!1;var str=String.fromCharCode(ch);return str===str.toUpperCase()}function isLowerCaseLetter(ch){if(ch>=97&&122>=ch)return!0;if(127>ch||!ts.isUnicodeIdentifierStart(ch,2))return!1;var str=String.fromCharCode(ch);return str===str.toLowerCase()}function indexOfIgnoringCase(string,value){for(var i=0,n=string.length-value.length;n>=i;i++)if(startsWithIgnoringCase(string,value,i))return i;return-1}function startsWithIgnoringCase(string,value,start){for(var i=0,n=value.length;n>i;i++){var ch1=toLowerCase(string.charCodeAt(i+start)),ch2=value.charCodeAt(i);if(ch1!==ch2)return!1}return!0}function toLowerCase(ch){return ch>=65&&90>=ch?97+(ch-65):127>ch?ch:String.fromCharCode(ch).toLowerCase().charCodeAt(0)}function isDigit(ch){return ch>=48&&57>=ch}function isWordChar(ch){return isUpperCaseLetter(ch)||isLowerCaseLetter(ch)||isDigit(ch)||95===ch||36===ch}function breakPatternIntoTextChunks(pattern){for(var result=[],wordStart=0,wordLength=0,i=0;i<pattern.length;i++){var ch=pattern.charCodeAt(i);isWordChar(ch)?(0===wordLength&&(wordStart=i),wordLength++):wordLength>0&&(result.push(createTextChunk(pattern.substr(wordStart,wordLength))),wordLength=0)}return wordLength>0&&result.push(createTextChunk(pattern.substr(wordStart,wordLength))),result}function createTextChunk(text){var textLowerCase=text.toLowerCase();return{text:text,textLowerCase:textLowerCase,isLowerCase:text===textLowerCase,characterSpans:breakIntoCharacterSpans(text)}}function breakIntoCharacterSpans(identifier){return breakIntoSpans(identifier,!1)}function breakIntoWordSpans(identifier){return breakIntoSpans(identifier,!0)}function breakIntoSpans(identifier,word){for(var result=[],wordStart=0,i=1,n=identifier.length;n>i;i++){var lastIsDigit=isDigit(identifier.charCodeAt(i-1)),currentIsDigit=isDigit(identifier.charCodeAt(i)),hasTransitionFromLowerToUpper=transitionFromLowerToUpper(identifier,word,i),hasTransitionFromUpperToLower=transitionFromUpperToLower(identifier,word,i,wordStart);(charIsPunctuation(identifier.charCodeAt(i-1))||charIsPunctuation(identifier.charCodeAt(i))||lastIsDigit!==currentIsDigit||hasTransitionFromLowerToUpper||hasTransitionFromUpperToLower)&&(isAllPunctuation(identifier,wordStart,i)||result.push(ts.createTextSpan(wordStart,i-wordStart)),wordStart=i)}return isAllPunctuation(identifier,wordStart,identifier.length)||result.push(ts.createTextSpan(wordStart,identifier.length-wordStart)),result}function charIsPunctuation(ch){switch(ch){case 33:case 34:case 35:case 37:case 38:case 39:case 40:case 41:case 42:case 44:case 45:case 46:case 47:case 58:case 59:case 63:case 64:case 91:case 92:case 93:case 95:case 123:case 125:return!0}return!1}function isAllPunctuation(identifier,start,end){for(var i=start;end>i;i++){var ch=identifier.charCodeAt(i);if(!charIsPunctuation(ch)||95===ch||36===ch)return!1}return!0}function transitionFromUpperToLower(identifier,word,index,wordStart){if(word&&index!==wordStart&&index+1<identifier.length){var currentIsUpper=isUpperCaseLetter(identifier.charCodeAt(index)),nextIsLower=isLowerCaseLetter(identifier.charCodeAt(index+1));if(currentIsUpper&&nextIsLower){for(var i=wordStart;index>i;i++)if(!isUpperCaseLetter(identifier.charCodeAt(i)))return!1;return!0}}return!1}function transitionFromLowerToUpper(identifier,word,index){var lastIsUpper=isUpperCaseLetter(identifier.charCodeAt(index-1)),currentIsUpper=isUpperCaseLetter(identifier.charCodeAt(index)),transition=word?currentIsUpper&&!lastIsUpper:currentIsUpper;return transition}!function(PatternMatchKind){PatternMatchKind[PatternMatchKind.exact=0]="exact",PatternMatchKind[PatternMatchKind.prefix=1]="prefix",PatternMatchKind[PatternMatchKind.substring=2]="substring",PatternMatchKind[PatternMatchKind.camelCase=3]="camelCase"}(ts.PatternMatchKind||(ts.PatternMatchKind={}));var PatternMatchKind=ts.PatternMatchKind;ts.createPatternMatcher=createPatternMatcher,ts.breakIntoCharacterSpans=breakIntoCharacterSpans,ts.breakIntoWordSpans=breakIntoWordSpans}(ts||(ts={}));var ts;!function(ts){var SignatureHelp;!function(SignatureHelp){function getSignatureHelpItems(program,sourceFile,position,cancellationToken){var typeChecker=program.getTypeChecker(),startingToken=ts.findTokenOnLeftOfPosition(sourceFile,position);if(!startingToken)return void 0;var argumentInfo=getContainingArgumentInfo(startingToken,position,sourceFile);if(cancellationToken.throwIfCancellationRequested(),!argumentInfo)return void 0;var call=argumentInfo.invocation,candidates=[],resolvedSignature=typeChecker.getResolvedSignature(call,candidates);return cancellationToken.throwIfCancellationRequested(),candidates.length?createSignatureHelpItems(candidates,resolvedSignature,argumentInfo,typeChecker):ts.isSourceFileJavaScript(sourceFile)?createJavaScriptSignatureHelpItems(argumentInfo,program):void 0}function createJavaScriptSignatureHelpItems(argumentInfo,program){if(174!==argumentInfo.invocation.kind)return void 0;var callExpression=argumentInfo.invocation,expression=callExpression.expression,name=69===expression.kind?expression:172===expression.kind?expression.name:void 0;if(!name||!name.text)return void 0;for(var typeChecker=program.getTypeChecker(),_i=0,_a=program.getSourceFiles();_i<_a.length;_i++){var sourceFile=_a[_i],nameToDeclarations=sourceFile.getNamedDeclarations(),declarations=nameToDeclarations[name.text];if(declarations)for(var _b=0,declarations_8=declarations;_b<declarations_8.length;_b++){var declaration=declarations_8[_b],symbol=declaration.symbol;if(symbol){var type=typeChecker.getTypeOfSymbolAtLocation(symbol,declaration);if(type){var callSignatures=type.getCallSignatures();if(callSignatures&&callSignatures.length)return createSignatureHelpItems(callSignatures,callSignatures[0],argumentInfo,typeChecker)}}}}}function getImmediatelyContainingArgumentInfo(node,position,sourceFile){if(174===node.parent.kind||175===node.parent.kind){var callExpression=node.parent;if(25===node.kind||17===node.kind){var list=getChildListThatStartsWithOpenerToken(callExpression,node,sourceFile),isTypeArgList=callExpression.typeArguments&&callExpression.typeArguments.pos===list.pos;return ts.Debug.assert(void 0!==list),{kind:isTypeArgList?0:1,invocation:callExpression,argumentsSpan:getApplicableSpanForArguments(list,sourceFile),argumentIndex:0,argumentCount:getArgumentCount(list)}}var listItemInfo=ts.findListItemInfo(node);if(listItemInfo){var list=listItemInfo.list,isTypeArgList=callExpression.typeArguments&&callExpression.typeArguments.pos===list.pos,argumentIndex=getArgumentIndex(list,node),argumentCount=getArgumentCount(list);return ts.Debug.assert(0===argumentIndex||argumentCount>argumentIndex,"argumentCount < argumentIndex, "+argumentCount+" < "+argumentIndex),{kind:isTypeArgList?0:1,invocation:callExpression,argumentsSpan:getApplicableSpanForArguments(list,sourceFile),argumentIndex:argumentIndex,argumentCount:argumentCount}}return void 0}if(11===node.kind&&176===node.parent.kind){if(ts.isInsideTemplateLiteral(node,position))return getArgumentListInfoForTemplate(node.parent,0,sourceFile)}else{if(12===node.kind&&176===node.parent.parent.kind){var templateExpression=node.parent,tagExpression=templateExpression.parent;ts.Debug.assert(189===templateExpression.kind);var argumentIndex=ts.isInsideTemplateLiteral(node,position)?0:1;return getArgumentListInfoForTemplate(tagExpression,argumentIndex,sourceFile)}if(197===node.parent.kind&&176===node.parent.parent.parent.kind){var templateSpan=node.parent,templateExpression=templateSpan.parent,tagExpression=templateExpression.parent;if(ts.Debug.assert(189===templateExpression.kind),14===node.kind&&!ts.isInsideTemplateLiteral(node,position))return void 0;var spanIndex=templateExpression.templateSpans.indexOf(templateSpan),argumentIndex=getArgumentIndexForTemplatePiece(spanIndex,node,position);return getArgumentListInfoForTemplate(tagExpression,argumentIndex,sourceFile)}}return void 0}function getArgumentIndex(argumentsList,node){for(var argumentIndex=0,listChildren=argumentsList.getChildren(),_i=0,listChildren_1=listChildren;_i<listChildren_1.length;_i++){var child=listChildren_1[_i];if(child===node)break;24!==child.kind&&argumentIndex++}return argumentIndex}function getArgumentCount(argumentsList){var listChildren=argumentsList.getChildren(),argumentCount=ts.countWhere(listChildren,function(arg){return 24!==arg.kind});return listChildren.length>0&&24===ts.lastOrUndefined(listChildren).kind&&argumentCount++,argumentCount}function getArgumentIndexForTemplatePiece(spanIndex,node,position){return ts.Debug.assert(position>=node.getStart(),"Assumed 'position' could not occur before node."),ts.isTemplateLiteralKind(node.kind)?ts.isInsideTemplateLiteral(node,position)?0:spanIndex+2:spanIndex+1}function getArgumentListInfoForTemplate(tagExpression,argumentIndex,sourceFile){var argumentCount=11===tagExpression.template.kind?1:tagExpression.template.templateSpans.length+1;return ts.Debug.assert(0===argumentIndex||argumentCount>argumentIndex,"argumentCount < argumentIndex, "+argumentCount+" < "+argumentIndex),{kind:2,invocation:tagExpression,argumentsSpan:getApplicableSpanForTaggedTemplate(tagExpression,sourceFile),argumentIndex:argumentIndex,argumentCount:argumentCount}}function getApplicableSpanForArguments(argumentsList,sourceFile){var applicableSpanStart=argumentsList.getFullStart(),applicableSpanEnd=ts.skipTrivia(sourceFile.text,argumentsList.getEnd(),!1);return ts.createTextSpan(applicableSpanStart,applicableSpanEnd-applicableSpanStart)}function getApplicableSpanForTaggedTemplate(taggedTemplate,sourceFile){var template=taggedTemplate.template,applicableSpanStart=template.getStart(),applicableSpanEnd=template.getEnd();if(189===template.kind){var lastSpan=ts.lastOrUndefined(template.templateSpans);0===lastSpan.literal.getFullWidth()&&(applicableSpanEnd=ts.skipTrivia(sourceFile.text,applicableSpanEnd,!1))}return ts.createTextSpan(applicableSpanStart,applicableSpanEnd-applicableSpanStart)}function getContainingArgumentInfo(node,position,sourceFile){for(var n=node;256!==n.kind;n=n.parent){if(ts.isFunctionBlock(n))return void 0;(n.pos<n.parent.pos||n.end>n.parent.end)&&ts.Debug.fail("Node of kind "+n.kind+" is not a subspan of its parent of kind "+n.parent.kind);var argumentInfo=getImmediatelyContainingArgumentInfo(n,position,sourceFile);if(argumentInfo)return argumentInfo}return void 0}function getChildListThatStartsWithOpenerToken(parent,openerToken,sourceFile){var children=parent.getChildren(sourceFile),indexOfOpenerToken=children.indexOf(openerToken);return ts.Debug.assert(indexOfOpenerToken>=0&&children.length>indexOfOpenerToken+1),children[indexOfOpenerToken+1]}function selectBestInvalidOverloadIndex(candidates,argumentCount){for(var maxParamsSignatureIndex=-1,maxParams=-1,i=0;i<candidates.length;i++){var candidate=candidates[i];if(candidate.hasRestParameter||candidate.parameters.length>=argumentCount)return i;candidate.parameters.length>maxParams&&(maxParams=candidate.parameters.length,maxParamsSignatureIndex=i)}return maxParamsSignatureIndex}function createSignatureHelpItems(candidates,bestSignature,argumentListInfo,typeChecker){function createSignatureHelpParameterForParameter(parameter){var displayParts=ts.mapToDisplayParts(function(writer){return typeChecker.getSymbolDisplayBuilder().buildParameterDisplay(parameter,writer,invocation)});return{name:parameter.name,documentation:parameter.getDocumentationComment(),displayParts:displayParts,isOptional:typeChecker.isOptionalParameter(parameter.valueDeclaration)}}function createSignatureHelpParameterForTypeParameter(typeParameter){var displayParts=ts.mapToDisplayParts(function(writer){return typeChecker.getSymbolDisplayBuilder().buildTypeParameterDisplay(typeParameter,writer,invocation)});return{name:typeParameter.symbol.name,documentation:emptyArray,displayParts:displayParts,isOptional:!1}}var applicableSpan=argumentListInfo.argumentsSpan,isTypeParameterList=0===argumentListInfo.kind,invocation=argumentListInfo.invocation,callTarget=ts.getInvokedExpression(invocation),callTargetSymbol=typeChecker.getSymbolAtLocation(callTarget),callTargetDisplayParts=callTargetSymbol&&ts.symbolToDisplayParts(typeChecker,callTargetSymbol,void 0,void 0),items=ts.map(candidates,function(candidateSignature){var signatureHelpParameters,prefixDisplayParts=[],suffixDisplayParts=[];if(callTargetDisplayParts&&ts.addRange(prefixDisplayParts,callTargetDisplayParts),
isTypeParameterList){prefixDisplayParts.push(ts.punctuationPart(25));var typeParameters=candidateSignature.typeParameters;signatureHelpParameters=typeParameters&&typeParameters.length>0?ts.map(typeParameters,createSignatureHelpParameterForTypeParameter):emptyArray,suffixDisplayParts.push(ts.punctuationPart(27));var parameterParts=ts.mapToDisplayParts(function(writer){return typeChecker.getSymbolDisplayBuilder().buildDisplayForParametersAndDelimiters(candidateSignature.thisParameter,candidateSignature.parameters,writer,invocation)});ts.addRange(suffixDisplayParts,parameterParts)}else{var typeParameterParts=ts.mapToDisplayParts(function(writer){return typeChecker.getSymbolDisplayBuilder().buildDisplayForTypeParametersAndDelimiters(candidateSignature.typeParameters,writer,invocation)});ts.addRange(prefixDisplayParts,typeParameterParts),prefixDisplayParts.push(ts.punctuationPart(17));var parameters=candidateSignature.parameters;signatureHelpParameters=parameters.length>0?ts.map(parameters,createSignatureHelpParameterForParameter):emptyArray,suffixDisplayParts.push(ts.punctuationPart(18))}var returnTypeParts=ts.mapToDisplayParts(function(writer){return typeChecker.getSymbolDisplayBuilder().buildReturnTypeDisplay(candidateSignature,writer,invocation)});return ts.addRange(suffixDisplayParts,returnTypeParts),{isVariadic:candidateSignature.hasRestParameter,prefixDisplayParts:prefixDisplayParts,suffixDisplayParts:suffixDisplayParts,separatorDisplayParts:[ts.punctuationPart(24),ts.spacePart()],parameters:signatureHelpParameters,documentation:candidateSignature.getDocumentationComment()}}),argumentIndex=argumentListInfo.argumentIndex,argumentCount=argumentListInfo.argumentCount,selectedItemIndex=candidates.indexOf(bestSignature);return 0>selectedItemIndex&&(selectedItemIndex=selectBestInvalidOverloadIndex(candidates,argumentCount)),ts.Debug.assert(0===argumentIndex||argumentCount>argumentIndex,"argumentCount < argumentIndex, "+argumentCount+" < "+argumentIndex),{items:items,applicableSpan:applicableSpan,selectedItemIndex:selectedItemIndex,argumentIndex:argumentIndex,argumentCount:argumentCount}}var emptyArray=[];!function(ArgumentListKind){ArgumentListKind[ArgumentListKind.TypeArguments=0]="TypeArguments",ArgumentListKind[ArgumentListKind.CallArguments=1]="CallArguments",ArgumentListKind[ArgumentListKind.TaggedTemplateArguments=2]="TaggedTemplateArguments"}(SignatureHelp.ArgumentListKind||(SignatureHelp.ArgumentListKind={}));SignatureHelp.ArgumentListKind;SignatureHelp.getSignatureHelpItems=getSignatureHelpItems,SignatureHelp.getContainingArgumentInfo=getContainingArgumentInfo}(SignatureHelp=ts.SignatureHelp||(ts.SignatureHelp={}))}(ts||(ts={}));var ts;!function(ts){function getLineStartPositionForPosition(position,sourceFile){var lineStarts=sourceFile.getLineStarts(),line=sourceFile.getLineAndCharacterOfPosition(position).line;return lineStarts[line]}function rangeContainsRange(r1,r2){return startEndContainsRange(r1.pos,r1.end,r2)}function startEndContainsRange(start,end,range){return start<=range.pos&&end>=range.end}function rangeContainsStartEnd(range,start,end){return range.pos<=start&&range.end>=end}function rangeOverlapsWithStartEnd(r1,start,end){return startEndOverlapsWithStartEnd(r1.pos,r1.end,start,end)}function startEndOverlapsWithStartEnd(start1,end1,start2,end2){var start=Math.max(start1,start2),end=Math.min(end1,end2);return end>start}function positionBelongsToNode(candidate,position,sourceFile){return candidate.end>position||!isCompletedNode(candidate,sourceFile)}function isCompletedNode(n,sourceFile){if(ts.nodeIsMissing(n))return!1;switch(n.kind){case 221:case 222:case 224:case 171:case 167:case 159:case 199:case 226:case 227:case 233:case 237:return nodeEndsWith(n,16,sourceFile);case 252:return isCompletedNode(n.block,sourceFile);case 175:if(!n.arguments)return!0;case 174:case 178:case 164:return nodeEndsWith(n,18,sourceFile);case 156:case 157:return isCompletedNode(n.type,sourceFile);case 148:case 149:case 150:case 220:case 179:case 147:case 146:case 152:case 151:case 180:return n.body?isCompletedNode(n.body,sourceFile):n.type?isCompletedNode(n.type,sourceFile):hasChildOfKind(n,18,sourceFile);case 225:return n.body&&isCompletedNode(n.body,sourceFile);case 203:return n.elseStatement?isCompletedNode(n.elseStatement,sourceFile):isCompletedNode(n.thenStatement,sourceFile);case 202:return isCompletedNode(n.expression,sourceFile)||hasChildOfKind(n,23);case 170:case 168:case 173:case 140:case 161:return nodeEndsWith(n,20,sourceFile);case 153:return n.type?isCompletedNode(n.type,sourceFile):hasChildOfKind(n,20,sourceFile);case 249:case 250:return!1;case 206:case 207:case 208:case 205:return isCompletedNode(n.statement,sourceFile);case 204:var hasWhileKeyword=findChildOfKind(n,104,sourceFile);return hasWhileKeyword?nodeEndsWith(n,18,sourceFile):isCompletedNode(n.statement,sourceFile);case 158:return isCompletedNode(n.exprName,sourceFile);case 182:case 181:case 183:case 190:case 191:var unaryWordExpression=n;return isCompletedNode(unaryWordExpression.expression,sourceFile);case 176:return isCompletedNode(n.template,sourceFile);case 189:var lastSpan=ts.lastOrUndefined(n.templateSpans);return isCompletedNode(lastSpan,sourceFile);case 197:return ts.nodeIsPresent(n.literal);case 236:case 230:return ts.nodeIsPresent(n.moduleSpecifier);case 185:return isCompletedNode(n.operand,sourceFile);case 187:return isCompletedNode(n.right,sourceFile);case 188:return isCompletedNode(n.whenFalse,sourceFile);default:return!0}}function nodeEndsWith(n,expectedLastToken,sourceFile){var children=n.getChildren(sourceFile);if(children.length){var last=ts.lastOrUndefined(children);if(last.kind===expectedLastToken)return!0;if(23===last.kind&&1!==children.length)return children[children.length-2].kind===expectedLastToken}return!1}function findListItemInfo(node){var list=findContainingList(node);if(!list)return void 0;var children=list.getChildren(),listItemIndex=ts.indexOf(children,node);return{listItemIndex:listItemIndex,list:list}}function hasChildOfKind(n,kind,sourceFile){return!!findChildOfKind(n,kind,sourceFile)}function findChildOfKind(n,kind,sourceFile){return ts.forEach(n.getChildren(sourceFile),function(c){return c.kind===kind&&c})}function findContainingList(node){var syntaxList=ts.forEach(node.parent.getChildren(),function(c){return 286===c.kind&&c.pos<=node.pos&&c.end>=node.end?c:void 0});return ts.Debug.assert(!syntaxList||ts.contains(syntaxList.getChildren(),node)),syntaxList}function getTouchingWord(sourceFile,position,includeJsDocComment){return void 0===includeJsDocComment&&(includeJsDocComment=!1),getTouchingToken(sourceFile,position,function(n){return isWord(n.kind)},includeJsDocComment)}function getTouchingPropertyName(sourceFile,position,includeJsDocComment){return void 0===includeJsDocComment&&(includeJsDocComment=!1),getTouchingToken(sourceFile,position,function(n){return isPropertyName(n.kind)},includeJsDocComment)}function getTouchingToken(sourceFile,position,includeItemAtEndPosition,includeJsDocComment){return void 0===includeJsDocComment&&(includeJsDocComment=!1),getTokenAtPositionWorker(sourceFile,position,!1,includeItemAtEndPosition,includeJsDocComment)}function getTokenAtPosition(sourceFile,position,includeJsDocComment){return void 0===includeJsDocComment&&(includeJsDocComment=!1),getTokenAtPositionWorker(sourceFile,position,!0,void 0,includeJsDocComment)}function getTokenAtPositionWorker(sourceFile,position,allowPositionInLeadingTrivia,includeItemAtEndPosition,includeJsDocComment){void 0===includeJsDocComment&&(includeJsDocComment=!1);var current=sourceFile;outer:for(;;){if(isToken(current))return current;if(includeJsDocComment)for(var jsDocChildren=ts.filter(current.getChildren(),ts.isJSDocNode),_i=0,jsDocChildren_1=jsDocChildren;_i<jsDocChildren_1.length;_i++){var jsDocChild=jsDocChildren_1[_i],start=allowPositionInLeadingTrivia?jsDocChild.getFullStart():jsDocChild.getStart(sourceFile,includeJsDocComment);if(position>=start){var end=jsDocChild.getEnd();if(end>position||position===end&&1===jsDocChild.kind){current=jsDocChild;continue outer}if(includeItemAtEndPosition&&end===position){var previousToken=findPrecedingToken(position,sourceFile,jsDocChild);if(previousToken&&includeItemAtEndPosition(previousToken))return previousToken}}}for(var i=0,n=current.getChildCount(sourceFile);n>i;i++){var child=current.getChildAt(i);if(!ts.isJSDocNode(child)){var start=allowPositionInLeadingTrivia?child.getFullStart():child.getStart(sourceFile,includeJsDocComment);if(position>=start){var end=child.getEnd();if(end>position||position===end&&1===child.kind){current=child;continue outer}if(includeItemAtEndPosition&&end===position){var previousToken=findPrecedingToken(position,sourceFile,child);if(previousToken&&includeItemAtEndPosition(previousToken))return previousToken}}}}return current}}function findTokenOnLeftOfPosition(file,position){var tokenAtPosition=getTokenAtPosition(file,position);return isToken(tokenAtPosition)&&position>tokenAtPosition.getStart(file)&&position<tokenAtPosition.getEnd()?tokenAtPosition:findPrecedingToken(position,file)}function findNextToken(previousToken,parent){function find(n){if(isToken(n)&&n.pos===previousToken.end)return n;for(var children=n.getChildren(),_i=0,children_1=children;_i<children_1.length;_i++){var child=children_1[_i],shouldDiveInChildNode=child.pos<=previousToken.pos&&child.end>previousToken.end||child.pos===previousToken.end;if(shouldDiveInChildNode&&nodeHasTokens(child))return find(child)}return void 0}return find(parent)}function findPrecedingToken(position,sourceFile,startNode){function findRightmostToken(n){if(isToken(n)||244===n.kind)return n;var children=n.getChildren(),candidate=findRightmostChildNodeWithTokens(children,children.length);return candidate&&findRightmostToken(candidate)}function find(n){if(isToken(n)||244===n.kind)return n;for(var children=n.getChildren(),i=0,len=children.length;len>i;i++){var child=children[i];if(position<child.end&&(nodeHasTokens(child)||244===child.kind)){var start=child.getStart(sourceFile),lookInPreviousChild=start>=position||244===child.kind&&start===child.end;if(lookInPreviousChild){var candidate=findRightmostChildNodeWithTokens(children,i);return candidate&&findRightmostToken(candidate)}return find(child)}}if(ts.Debug.assert(void 0!==startNode||256===n.kind),children.length){var candidate=findRightmostChildNodeWithTokens(children,children.length);return candidate&&findRightmostToken(candidate)}}function findRightmostChildNodeWithTokens(children,exclusiveStartPosition){for(var i=exclusiveStartPosition-1;i>=0;i--)if(nodeHasTokens(children[i]))return children[i]}return find(startNode||sourceFile)}function isInString(sourceFile,position){var previousToken=findPrecedingToken(position,sourceFile);if(previousToken&&9===previousToken.kind){var start=previousToken.getStart(),end=previousToken.getEnd();if(position>start&&end>position)return!0;if(position===end)return!!previousToken.isUnterminated}return!1}function isInComment(sourceFile,position){return isInCommentHelper(sourceFile,position,void 0)}function isInsideJsxElementOrAttribute(sourceFile,position){var token=getTokenAtPosition(sourceFile,position);return token?244===token.kind?!0:25===token.kind&&244===token.parent.kind?!0:25===token.kind&&248===token.parent.kind?!0:token&&16===token.kind&&248===token.parent.kind?!0:25===token.kind&&245===token.parent.kind?!0:!1:!1}function isInTemplateString(sourceFile,position){var token=getTokenAtPosition(sourceFile,position);return ts.isTemplateLiteralKind(token.kind)&&position>token.getStart(sourceFile)}function isInCommentHelper(sourceFile,position,predicate){var token=getTokenAtPosition(sourceFile,position);if(token&&position<=token.getStart(sourceFile)){var commentRanges=ts.getLeadingCommentRanges(sourceFile.text,token.pos);return predicate?ts.forEach(commentRanges,function(c){return c.pos<position&&(2==c.kind?position<=c.end:position<c.end)&&predicate(c)}):ts.forEach(commentRanges,function(c){return c.pos<position&&(2==c.kind?position<=c.end:position<c.end)})}return!1}function hasDocComment(sourceFile,position){function jsDocPrefix(c){var text=sourceFile.text;return text.length>=c.pos+3&&"/"===text[c.pos]&&"*"===text[c.pos+1]&&"*"===text[c.pos+2]}var token=getTokenAtPosition(sourceFile,position),commentRanges=ts.getLeadingCommentRanges(sourceFile.text,token.pos);return ts.forEach(commentRanges,jsDocPrefix)}function getJsDocTagAtPosition(sourceFile,position){var node=ts.getTokenAtPosition(sourceFile,position);if(isToken(node))switch(node.kind){case 102:case 108:case 74:node=void 0===node.parent?void 0:node.parent.parent;break;default:node=node.parent}if(node&&node.jsDocComments)for(var _i=0,_a=node.jsDocComments;_i<_a.length;_i++)for(var jsDocComment=_a[_i],_b=0,_c=jsDocComment.tags;_b<_c.length;_b++){var tag=_c[_b];if(tag.pos<=position&&position<=tag.end)return tag}return void 0}function nodeHasTokens(n){return 0!==n.getWidth()}function getNodeModifiers(node){var flags=ts.getCombinedNodeFlags(node),result=[];return 8&flags&&result.push(ts.ScriptElementKindModifier.privateMemberModifier),16&flags&&result.push(ts.ScriptElementKindModifier.protectedMemberModifier),4&flags&&result.push(ts.ScriptElementKindModifier.publicMemberModifier),32&flags&&result.push(ts.ScriptElementKindModifier.staticModifier),128&flags&&result.push(ts.ScriptElementKindModifier.abstractModifier),1&flags&&result.push(ts.ScriptElementKindModifier.exportedModifier),ts.isInAmbientContext(node)&&result.push(ts.ScriptElementKindModifier.ambientModifier),result.length>0?result.join(","):ts.ScriptElementKindModifier.none}function getTypeArgumentOrTypeParameterList(node){return 155===node.kind||174===node.kind?node.typeArguments:ts.isFunctionLike(node)||221===node.kind||222===node.kind?node.typeParameters:void 0}function isToken(n){return n.kind>=0&&n.kind<=138}function isWord(kind){return 69===kind||ts.isKeyword(kind)}function isPropertyName(kind){return 9===kind||8===kind||isWord(kind)}function isComment(kind){return 2===kind||3===kind}function isStringOrRegularExpressionOrTemplateLiteral(kind){return 9===kind||10===kind||ts.isTemplateLiteralKind(kind)?!0:!1}function isPunctuation(kind){return kind>=15&&68>=kind}function isInsideTemplateLiteral(node,position){return ts.isTemplateLiteralKind(node.kind)&&node.getStart()<position&&position<node.getEnd()||!!node.isUnterminated&&position===node.getEnd()}function isAccessibilityModifier(kind){switch(kind){case 112:case 110:case 111:return!0}return!1}function compareDataObjects(dst,src){for(var e in dst)if("object"==typeof dst[e]){if(!compareDataObjects(dst[e],src[e]))return!1}else if("function"!=typeof dst[e]&&dst[e]!==src[e])return!1;return!0}function isArrayLiteralOrObjectLiteralDestructuringPattern(node){if(170===node.kind||171===node.kind){if(187===node.parent.kind&&node.parent.left===node&&56===node.parent.operatorToken.kind)return!0;if(208===node.parent.kind&&node.parent.initializer===node)return!0;if(isArrayLiteralOrObjectLiteralDestructuringPattern(253===node.parent.kind?node.parent.parent:node.parent))return!0}return!1}function hasTrailingDirectorySeparator(path){var lastCharacter=path.charAt(path.length-1);return"/"===lastCharacter||"\\"===lastCharacter}function isInReferenceComment(sourceFile,position){function isReferenceComment(c){var commentText=sourceFile.text.substring(c.pos,c.end);return tripleSlashDirectivePrefixRegex.test(commentText)}return isInCommentHelper(sourceFile,position,isReferenceComment)}function isInNonReferenceComment(sourceFile,position){function isNonReferenceComment(c){var commentText=sourceFile.text.substring(c.pos,c.end);return!tripleSlashDirectivePrefixRegex.test(commentText)}return isInCommentHelper(sourceFile,position,isNonReferenceComment)}var tripleSlashDirectivePrefixRegex=/^\/\/\/\s*</;ts.getLineStartPositionForPosition=getLineStartPositionForPosition,ts.rangeContainsRange=rangeContainsRange,ts.startEndContainsRange=startEndContainsRange,ts.rangeContainsStartEnd=rangeContainsStartEnd,ts.rangeOverlapsWithStartEnd=rangeOverlapsWithStartEnd,ts.startEndOverlapsWithStartEnd=startEndOverlapsWithStartEnd,ts.positionBelongsToNode=positionBelongsToNode,ts.isCompletedNode=isCompletedNode,ts.findListItemInfo=findListItemInfo,ts.hasChildOfKind=hasChildOfKind,ts.findChildOfKind=findChildOfKind,ts.findContainingList=findContainingList,ts.getTouchingWord=getTouchingWord,ts.getTouchingPropertyName=getTouchingPropertyName,ts.getTouchingToken=getTouchingToken,ts.getTokenAtPosition=getTokenAtPosition,ts.findTokenOnLeftOfPosition=findTokenOnLeftOfPosition,ts.findNextToken=findNextToken,ts.findPrecedingToken=findPrecedingToken,ts.isInString=isInString,ts.isInComment=isInComment,ts.isInsideJsxElementOrAttribute=isInsideJsxElementOrAttribute,ts.isInTemplateString=isInTemplateString,ts.isInCommentHelper=isInCommentHelper,ts.hasDocComment=hasDocComment,ts.getJsDocTagAtPosition=getJsDocTagAtPosition,ts.getNodeModifiers=getNodeModifiers,ts.getTypeArgumentOrTypeParameterList=getTypeArgumentOrTypeParameterList,ts.isToken=isToken,ts.isWord=isWord,ts.isComment=isComment,ts.isStringOrRegularExpressionOrTemplateLiteral=isStringOrRegularExpressionOrTemplateLiteral,ts.isPunctuation=isPunctuation,ts.isInsideTemplateLiteral=isInsideTemplateLiteral,ts.isAccessibilityModifier=isAccessibilityModifier,ts.compareDataObjects=compareDataObjects,ts.isArrayLiteralOrObjectLiteralDestructuringPattern=isArrayLiteralOrObjectLiteralDestructuringPattern,ts.hasTrailingDirectorySeparator=hasTrailingDirectorySeparator,ts.isInReferenceComment=isInReferenceComment,ts.isInNonReferenceComment=isInNonReferenceComment}(ts||(ts={}));var ts;!function(ts){function isFirstDeclarationOfSymbolParameter(symbol){return symbol.declarations&&symbol.declarations.length>0&&142===symbol.declarations[0].kind}function getDisplayPartWriter(){function writeIndent(){if(lineStart){var indentString=ts.getIndentString(indent);indentString&&displayParts.push(displayPart(indentString,ts.SymbolDisplayPartKind.space)),lineStart=!1}}function writeKind(text,kind){writeIndent(),displayParts.push(displayPart(text,kind))}function writeSymbol(text,symbol){writeIndent(),displayParts.push(symbolPart(text,symbol))}function writeLine(){displayParts.push(lineBreakPart()),lineStart=!0}function resetWriter(){displayParts=[],lineStart=!0,indent=0}var displayParts,lineStart,indent;return resetWriter(),{displayParts:function(){return displayParts},writeKeyword:function(text){return writeKind(text,ts.SymbolDisplayPartKind.keyword)},writeOperator:function(text){return writeKind(text,ts.SymbolDisplayPartKind.operator)},writePunctuation:function(text){return writeKind(text,ts.SymbolDisplayPartKind.punctuation)},writeSpace:function(text){return writeKind(text,ts.SymbolDisplayPartKind.space)},writeStringLiteral:function(text){return writeKind(text,ts.SymbolDisplayPartKind.stringLiteral)},writeParameter:function(text){return writeKind(text,ts.SymbolDisplayPartKind.parameterName)},writeSymbol:writeSymbol,writeLine:writeLine,increaseIndent:function(){indent++},decreaseIndent:function(){indent--},clear:resetWriter,trackSymbol:function(){},reportInaccessibleThisError:function(){}}}function symbolPart(text,symbol){function displayPartKind(symbol){var flags=symbol.flags;return 3&flags?isFirstDeclarationOfSymbolParameter(symbol)?ts.SymbolDisplayPartKind.parameterName:ts.SymbolDisplayPartKind.localName:4&flags?ts.SymbolDisplayPartKind.propertyName:32768&flags?ts.SymbolDisplayPartKind.propertyName:65536&flags?ts.SymbolDisplayPartKind.propertyName:8&flags?ts.SymbolDisplayPartKind.enumMemberName:16&flags?ts.SymbolDisplayPartKind.functionName:32&flags?ts.SymbolDisplayPartKind.className:64&flags?ts.SymbolDisplayPartKind.interfaceName:384&flags?ts.SymbolDisplayPartKind.enumName:1536&flags?ts.SymbolDisplayPartKind.moduleName:8192&flags?ts.SymbolDisplayPartKind.methodName:262144&flags?ts.SymbolDisplayPartKind.typeParameterName:524288&flags?ts.SymbolDisplayPartKind.aliasName:8388608&flags?ts.SymbolDisplayPartKind.aliasName:ts.SymbolDisplayPartKind.text}return displayPart(text,displayPartKind(symbol),symbol)}function displayPart(text,kind,symbol){return{text:text,kind:ts.SymbolDisplayPartKind[kind]}}function spacePart(){return displayPart(" ",ts.SymbolDisplayPartKind.space)}function keywordPart(kind){return displayPart(ts.tokenToString(kind),ts.SymbolDisplayPartKind.keyword)}function punctuationPart(kind){return displayPart(ts.tokenToString(kind),ts.SymbolDisplayPartKind.punctuation)}function operatorPart(kind){return displayPart(ts.tokenToString(kind),ts.SymbolDisplayPartKind.operator)}function textOrKeywordPart(text){var kind=ts.stringToToken(text);return void 0===kind?textPart(text):keywordPart(kind)}function textPart(text){return displayPart(text,ts.SymbolDisplayPartKind.text)}function getNewLineOrDefaultFromHost(host){return host.getNewLine?host.getNewLine():carriageReturnLineFeed}function lineBreakPart(){return displayPart("\n",ts.SymbolDisplayPartKind.lineBreak)}function mapToDisplayParts(writeDisplayParts){writeDisplayParts(displayPartWriter);var result=displayPartWriter.displayParts();return displayPartWriter.clear(),result}function typeToDisplayParts(typechecker,type,enclosingDeclaration,flags){return mapToDisplayParts(function(writer){typechecker.getSymbolDisplayBuilder().buildTypeDisplay(type,writer,enclosingDeclaration,flags)})}function symbolToDisplayParts(typeChecker,symbol,enclosingDeclaration,meaning,flags){return mapToDisplayParts(function(writer){typeChecker.getSymbolDisplayBuilder().buildSymbolDisplay(symbol,writer,enclosingDeclaration,meaning,flags)})}function signatureToDisplayParts(typechecker,signature,enclosingDeclaration,flags){return mapToDisplayParts(function(writer){typechecker.getSymbolDisplayBuilder().buildSignatureDisplay(signature,writer,enclosingDeclaration,flags)})}function getDeclaredName(typeChecker,symbol,location){if(isImportOrExportSpecifierName(location))return location.getText();if(ts.isStringOrNumericLiteral(location.kind)&&140===location.parent.kind)return location.text;var localExportDefaultSymbol=ts.getLocalSymbolForExportDefault(symbol),name=typeChecker.symbolToString(localExportDefaultSymbol||symbol);return name}function isImportOrExportSpecifierName(location){return location.parent&&(234===location.parent.kind||238===location.parent.kind)&&location.parent.propertyName===location}function stripQuotes(name){var length=name.length;return length>=2&&name.charCodeAt(0)===name.charCodeAt(length-1)&&(34===name.charCodeAt(0)||39===name.charCodeAt(0))?name.substring(1,length-1):name}function scriptKindIs(fileName,host){for(var scriptKinds=[],_i=2;_i<arguments.length;_i++)scriptKinds[_i-2]=arguments[_i];var scriptKind=getScriptKind(fileName,host);return ts.forEach(scriptKinds,function(k){return k===scriptKind})}function getScriptKind(fileName,host){var scriptKind;return host&&host.getScriptKind&&(scriptKind=host.getScriptKind(fileName)),scriptKind||(scriptKind=ts.getScriptKindFromFileName(fileName)),ts.ensureScriptKind(fileName,scriptKind)}function sanitizeConfigFile(configFileName,content){for(var options={fileName:"config.js",compilerOptions:{target:2,removeComments:!0},reportDiagnostics:!0},_a=ts.transpileModule("("+content+")",options),outputText=_a.outputText,diagnostics=_a.diagnostics,trimmedOutput=outputText.trim(),_i=0,diagnostics_3=diagnostics;_i<diagnostics_3.length;_i++){var diagnostic=diagnostics_3[_i];diagnostic.start=diagnostic.start-1}var _b=ts.parseConfigFileTextToJson(configFileName,trimmedOutput.substring(1,trimmedOutput.length-2),!1),config=_b.config,error=_b.error;return{configJsonObject:config||{},diagnostics:error?ts.concatenate(diagnostics,[error]):diagnostics}}ts.isFirstDeclarationOfSymbolParameter=isFirstDeclarationOfSymbolParameter;var displayPartWriter=getDisplayPartWriter();ts.symbolPart=symbolPart,ts.displayPart=displayPart,ts.spacePart=spacePart,ts.keywordPart=keywordPart,ts.punctuationPart=punctuationPart,ts.operatorPart=operatorPart,ts.textOrKeywordPart=textOrKeywordPart,ts.textPart=textPart;var carriageReturnLineFeed="\r\n";ts.getNewLineOrDefaultFromHost=getNewLineOrDefaultFromHost,ts.lineBreakPart=lineBreakPart,ts.mapToDisplayParts=mapToDisplayParts,ts.typeToDisplayParts=typeToDisplayParts,ts.symbolToDisplayParts=symbolToDisplayParts,ts.signatureToDisplayParts=signatureToDisplayParts,ts.getDeclaredName=getDeclaredName,ts.isImportOrExportSpecifierName=isImportOrExportSpecifierName,ts.stripQuotes=stripQuotes,ts.scriptKindIs=scriptKindIs,ts.getScriptKind=getScriptKind,ts.sanitizeConfigFile=sanitizeConfigFile}(ts||(ts={}));var ts;!function(ts){var JsTyping;!function(JsTyping){function discoverTypings(host,fileNames,projectRootPath,safeListPath,packageNameToTypingLocation,typingOptions,compilerOptions){function mergeTypings(typingNames){if(typingNames)for(var _i=0,typingNames_1=typingNames;_i<typingNames_1.length;_i++){var typing=typingNames_1[_i];typing in inferredTypings||(inferredTypings[typing]=void 0)}}function getTypingNamesFromJson(jsonPath,filesToWatch){host.fileExists(jsonPath)&&filesToWatch.push(jsonPath);var result=ts.readConfigFile(jsonPath,function(path){return host.readFile(path)});if(result.config){var jsonConfig=result.config;jsonConfig.dependencies&&mergeTypings(ts.getOwnKeys(jsonConfig.dependencies)),jsonConfig.devDependencies&&mergeTypings(ts.getOwnKeys(jsonConfig.devDependencies)),jsonConfig.optionalDependencies&&mergeTypings(ts.getOwnKeys(jsonConfig.optionalDependencies)),jsonConfig.peerDependencies&&mergeTypings(ts.getOwnKeys(jsonConfig.peerDependencies))}}function getTypingNamesFromSourceFileNames(fileNames){var jsFileNames=ts.filter(fileNames,ts.hasJavaScriptFileExtension),inferredTypingNames=ts.map(jsFileNames,function(f){return ts.removeFileExtension(ts.getBaseFileName(f.toLowerCase()))}),cleanedTypingNames=ts.map(inferredTypingNames,function(f){return f.replace(/((?:\.|-)min(?=\.|$))|((?:-|\.)\d+)/g,"")});safeList!==EmptySafeList&&mergeTypings(ts.filter(cleanedTypingNames,function(f){return f in safeList}));var hasJsxFile=ts.forEach(fileNames,function(f){return 2===ts.ensureScriptKind(f,ts.getScriptKindFromFileName(f))});hasJsxFile&&mergeTypings(["react"])}function getTypingNamesFromNodeModuleFolder(nodeModulesPath){if(host.directoryExists(nodeModulesPath)){for(var typingNames=[],fileNames=host.readDirectory(nodeModulesPath,[".json"],void 0,void 0,2),_i=0,fileNames_2=fileNames;_i<fileNames_2.length;_i++){var fileName=fileNames_2[_i],normalizedFileName=ts.normalizePath(fileName);if("package.json"===ts.getBaseFileName(normalizedFileName)){var result=ts.readConfigFile(normalizedFileName,function(path){return host.readFile(path)});if(result.config){var packageJson=result.config;if((!packageJson._requiredBy||0!==ts.filter(packageJson._requiredBy,function(r){return"#"===r[0]||"/"===r}).length)&&packageJson.name)if(packageJson.typings){var absolutePath=ts.getNormalizedAbsolutePath(packageJson.typings,ts.getDirectoryPath(normalizedFileName));inferredTypings[packageJson.name]=absolutePath}else typingNames.push(packageJson.name)}}}mergeTypings(typingNames)}}var inferredTypings=ts.createMap();if(!typingOptions||!typingOptions.enableAutoDiscovery)return{cachedTypingPaths:[],newTypingNames:[],filesToWatch:[]};if(fileNames=ts.filter(ts.map(fileNames,ts.normalizePath),function(f){var kind=ts.ensureScriptKind(f,ts.getScriptKindFromFileName(f));return 1===kind||2===kind}),!safeList){var result=ts.readConfigFile(safeListPath,function(path){return host.readFile(path)});safeList=result.config?ts.createMap(result.config):EmptySafeList}var filesToWatch=[],searchDirs=[],exclude=[];mergeTypings(typingOptions.include),exclude=typingOptions.exclude||[];var possibleSearchDirs=ts.map(fileNames,ts.getDirectoryPath);void 0!==projectRootPath&&possibleSearchDirs.push(projectRootPath),searchDirs=ts.deduplicate(possibleSearchDirs);for(var _i=0,searchDirs_1=searchDirs;_i<searchDirs_1.length;_i++){var searchDir=searchDirs_1[_i],packageJsonPath=ts.combinePaths(searchDir,"package.json");getTypingNamesFromJson(packageJsonPath,filesToWatch);var bowerJsonPath=ts.combinePaths(searchDir,"bower.json");getTypingNamesFromJson(bowerJsonPath,filesToWatch);var nodeModulesPath=ts.combinePaths(searchDir,"node_modules");getTypingNamesFromNodeModuleFolder(nodeModulesPath)}getTypingNamesFromSourceFileNames(fileNames);for(var name_39 in packageNameToTypingLocation)name_39 in inferredTypings&&!inferredTypings[name_39]&&(inferredTypings[name_39]=packageNameToTypingLocation[name_39]);for(var _a=0,exclude_1=exclude;_a<exclude_1.length;_a++){var excludeTypingName=exclude_1[_a];delete inferredTypings[excludeTypingName]}var newTypingNames=[],cachedTypingPaths=[];for(var typing in inferredTypings)void 0!==inferredTypings[typing]?cachedTypingPaths.push(inferredTypings[typing]):newTypingNames.push(typing);return{cachedTypingPaths:cachedTypingPaths,newTypingNames:newTypingNames,filesToWatch:filesToWatch}}var safeList,EmptySafeList=ts.createMap();JsTyping.discoverTypings=discoverTypings}(JsTyping=ts.JsTyping||(ts.JsTyping={}))}(ts||(ts={}));var ts;!function(ts){var formatting;!function(formatting){function getFormattingScanner(sourceFile,startPos,endPos){function advance(){ts.Debug.assert(void 0!==scanner),lastTokenInfo=void 0;var isStarted=scanner.getStartPos()!==startPos;isStarted&&(trailingTrivia?(ts.Debug.assert(0!==trailingTrivia.length),wasNewLine=4===ts.lastOrUndefined(trailingTrivia).kind):wasNewLine=!1),leadingTrivia=void 0,trailingTrivia=void 0,isStarted||scanner.scan();for(var pos=scanner.getStartPos();endPos>pos;){var t=scanner.getToken();if(!ts.isTrivia(t))break;scanner.scan();var item={pos:pos,end:scanner.getStartPos(),kind:t};pos=scanner.getStartPos(),leadingTrivia||(leadingTrivia=[]),leadingTrivia.push(item)}savedPos=scanner.getStartPos()}function shouldRescanGreaterThanToken(node){if(node)switch(node.kind){case 29:case 64:case 65:case 45:case 44:return!0}return!1}function shouldRescanJsxIdentifier(node){if(node.parent)switch(node.parent.kind){case 246:case 243:case 245:case 242:return 69===node.kind}return!1}function shouldRescanJsxText(node){return node&&244===node.kind}function shouldRescanSlashToken(container){return 10===container.kind}function shouldRescanTemplateToken(container){return 13===container.kind||14===container.kind}function startsWithSlashToken(t){return 39===t||61===t}function readTokenInfo(n){if(ts.Debug.assert(void 0!==scanner),!isOnToken())return{leadingTrivia:leadingTrivia,trailingTrivia:void 0,token:void 0};var expectedScanAction=shouldRescanGreaterThanToken(n)?1:shouldRescanSlashToken(n)?2:shouldRescanTemplateToken(n)?3:shouldRescanJsxIdentifier(n)?4:shouldRescanJsxText(n)?5:0;if(lastTokenInfo&&expectedScanAction===lastScanAction)return fixTokenKind(lastTokenInfo,n);scanner.getStartPos()!==savedPos&&(ts.Debug.assert(void 0!==lastTokenInfo),scanner.setTextPos(savedPos),scanner.scan());var currentToken=scanner.getToken();1===expectedScanAction&&27===currentToken?(currentToken=scanner.reScanGreaterToken(),ts.Debug.assert(n.kind===currentToken),lastScanAction=1):2===expectedScanAction&&startsWithSlashToken(currentToken)?(currentToken=scanner.reScanSlashToken(),ts.Debug.assert(n.kind===currentToken),lastScanAction=2):3===expectedScanAction&&16===currentToken?(currentToken=scanner.reScanTemplateToken(),lastScanAction=3):4===expectedScanAction&&69===currentToken?(currentToken=scanner.scanJsxIdentifier(),lastScanAction=4):5===expectedScanAction?(currentToken=scanner.reScanJsxToken(),lastScanAction=5):lastScanAction=0;var token={pos:scanner.getStartPos(),end:scanner.getTextPos(),kind:currentToken};for(trailingTrivia&&(trailingTrivia=void 0);scanner.getStartPos()<endPos&&(currentToken=scanner.scan(),ts.isTrivia(currentToken));){var trivia={pos:scanner.getStartPos(),end:scanner.getTextPos(),kind:currentToken};if(trailingTrivia||(trailingTrivia=[]),trailingTrivia.push(trivia),4===currentToken){scanner.scan();break}}return lastTokenInfo={leadingTrivia:leadingTrivia,trailingTrivia:trailingTrivia,token:token},fixTokenKind(lastTokenInfo,n);
}function isOnToken(){ts.Debug.assert(void 0!==scanner);var current=lastTokenInfo&&lastTokenInfo.token.kind||scanner.getToken(),startPos=lastTokenInfo&&lastTokenInfo.token.pos||scanner.getStartPos();return endPos>startPos&&1!==current&&!ts.isTrivia(current)}function fixTokenKind(tokenInfo,container){return ts.isToken(container)&&tokenInfo.token.kind!==container.kind&&(tokenInfo.token.kind=container.kind),tokenInfo}function skipToEndOf(node){scanner.setTextPos(node.end),savedPos=scanner.getStartPos(),lastScanAction=void 0,lastTokenInfo=void 0,wasNewLine=!1,leadingTrivia=void 0,trailingTrivia=void 0}ts.Debug.assert(void 0===scanner),scanner=1===sourceFile.languageVariant?jsxScanner:standardScanner,scanner.setText(sourceFile.text),scanner.setTextPos(startPos);var leadingTrivia,trailingTrivia,savedPos,lastScanAction,lastTokenInfo,wasNewLine=!0;return{advance:advance,readTokenInfo:readTokenInfo,isOnToken:isOnToken,getCurrentLeadingTrivia:function(){return leadingTrivia},lastTrailingTriviaWasNewLine:function(){return wasNewLine},skipToEndOf:skipToEndOf,close:function(){ts.Debug.assert(void 0!==scanner),lastTokenInfo=void 0,scanner.setText(void 0),scanner=void 0}}}var scanner,ScanAction,standardScanner=ts.createScanner(2,!1,0),jsxScanner=ts.createScanner(2,!1,1);!function(ScanAction){ScanAction[ScanAction.Scan=0]="Scan",ScanAction[ScanAction.RescanGreaterThanToken=1]="RescanGreaterThanToken",ScanAction[ScanAction.RescanSlashToken=2]="RescanSlashToken",ScanAction[ScanAction.RescanTemplateToken=3]="RescanTemplateToken",ScanAction[ScanAction.RescanJsxIdentifier=4]="RescanJsxIdentifier",ScanAction[ScanAction.RescanJsxText=5]="RescanJsxText"}(ScanAction||(ScanAction={})),formatting.getFormattingScanner=getFormattingScanner}(formatting=ts.formatting||(ts.formatting={}))}(ts||(ts={}));var ts;!function(ts){var formatting;!function(formatting){var FormattingContext=function(){function FormattingContext(sourceFile,formattingRequestKind){this.sourceFile=sourceFile,this.formattingRequestKind=formattingRequestKind}return FormattingContext.prototype.updateContext=function(currentRange,currentTokenParent,nextRange,nextTokenParent,commonParent){ts.Debug.assert(void 0!==currentRange,"currentTokenSpan is null"),ts.Debug.assert(void 0!==currentTokenParent,"currentTokenParent is null"),ts.Debug.assert(void 0!==nextRange,"nextTokenSpan is null"),ts.Debug.assert(void 0!==nextTokenParent,"nextTokenParent is null"),ts.Debug.assert(void 0!==commonParent,"commonParent is null"),this.currentTokenSpan=currentRange,this.currentTokenParent=currentTokenParent,this.nextTokenSpan=nextRange,this.nextTokenParent=nextTokenParent,this.contextNode=commonParent,this.contextNodeAllOnSameLine=void 0,this.nextNodeAllOnSameLine=void 0,this.tokensAreOnSameLine=void 0,this.contextNodeBlockIsOnOneLine=void 0,this.nextNodeBlockIsOnOneLine=void 0},FormattingContext.prototype.ContextNodeAllOnSameLine=function(){return void 0===this.contextNodeAllOnSameLine&&(this.contextNodeAllOnSameLine=this.NodeIsOnOneLine(this.contextNode)),this.contextNodeAllOnSameLine},FormattingContext.prototype.NextNodeAllOnSameLine=function(){return void 0===this.nextNodeAllOnSameLine&&(this.nextNodeAllOnSameLine=this.NodeIsOnOneLine(this.nextTokenParent)),this.nextNodeAllOnSameLine},FormattingContext.prototype.TokensAreOnSameLine=function(){if(void 0===this.tokensAreOnSameLine){var startLine=this.sourceFile.getLineAndCharacterOfPosition(this.currentTokenSpan.pos).line,endLine=this.sourceFile.getLineAndCharacterOfPosition(this.nextTokenSpan.pos).line;this.tokensAreOnSameLine=startLine===endLine}return this.tokensAreOnSameLine},FormattingContext.prototype.ContextNodeBlockIsOnOneLine=function(){return void 0===this.contextNodeBlockIsOnOneLine&&(this.contextNodeBlockIsOnOneLine=this.BlockIsOnOneLine(this.contextNode)),this.contextNodeBlockIsOnOneLine},FormattingContext.prototype.NextNodeBlockIsOnOneLine=function(){return void 0===this.nextNodeBlockIsOnOneLine&&(this.nextNodeBlockIsOnOneLine=this.BlockIsOnOneLine(this.nextTokenParent)),this.nextNodeBlockIsOnOneLine},FormattingContext.prototype.NodeIsOnOneLine=function(node){var startLine=this.sourceFile.getLineAndCharacterOfPosition(node.getStart(this.sourceFile)).line,endLine=this.sourceFile.getLineAndCharacterOfPosition(node.getEnd()).line;return startLine===endLine},FormattingContext.prototype.BlockIsOnOneLine=function(node){var openBrace=ts.findChildOfKind(node,15,this.sourceFile),closeBrace=ts.findChildOfKind(node,16,this.sourceFile);if(openBrace&&closeBrace){var startLine=this.sourceFile.getLineAndCharacterOfPosition(openBrace.getEnd()).line,endLine=this.sourceFile.getLineAndCharacterOfPosition(closeBrace.getStart(this.sourceFile)).line;return startLine===endLine}return!1},FormattingContext}();formatting.FormattingContext=FormattingContext}(formatting=ts.formatting||(ts.formatting={}))}(ts||(ts={}));var ts;!function(ts){var formatting;!function(formatting){!function(FormattingRequestKind){FormattingRequestKind[FormattingRequestKind.FormatDocument=0]="FormatDocument",FormattingRequestKind[FormattingRequestKind.FormatSelection=1]="FormatSelection",FormattingRequestKind[FormattingRequestKind.FormatOnEnter=2]="FormatOnEnter",FormattingRequestKind[FormattingRequestKind.FormatOnSemicolon=3]="FormatOnSemicolon",FormattingRequestKind[FormattingRequestKind.FormatOnClosingCurlyBrace=4]="FormatOnClosingCurlyBrace"}(formatting.FormattingRequestKind||(formatting.FormattingRequestKind={}));formatting.FormattingRequestKind}(formatting=ts.formatting||(ts.formatting={}))}(ts||(ts={}));var ts;!function(ts){var formatting;!function(formatting){var Rule=function(){function Rule(Descriptor,Operation,Flag){void 0===Flag&&(Flag=0),this.Descriptor=Descriptor,this.Operation=Operation,this.Flag=Flag}return Rule.prototype.toString=function(){return"[desc="+this.Descriptor+",operation="+this.Operation+",flag="+this.Flag+"]"},Rule}();formatting.Rule=Rule}(formatting=ts.formatting||(ts.formatting={}))}(ts||(ts={}));var ts;!function(ts){var formatting;!function(formatting){!function(RuleAction){RuleAction[RuleAction.Ignore=1]="Ignore",RuleAction[RuleAction.Space=2]="Space",RuleAction[RuleAction.NewLine=4]="NewLine",RuleAction[RuleAction.Delete=8]="Delete"}(formatting.RuleAction||(formatting.RuleAction={}));formatting.RuleAction}(formatting=ts.formatting||(ts.formatting={}))}(ts||(ts={}));var ts;!function(ts){var formatting;!function(formatting){var RuleDescriptor=function(){function RuleDescriptor(LeftTokenRange,RightTokenRange){this.LeftTokenRange=LeftTokenRange,this.RightTokenRange=RightTokenRange}return RuleDescriptor.prototype.toString=function(){return"[leftRange="+this.LeftTokenRange+",rightRange="+this.RightTokenRange+"]"},RuleDescriptor.create1=function(left,right){return RuleDescriptor.create4(formatting.Shared.TokenRange.FromToken(left),formatting.Shared.TokenRange.FromToken(right))},RuleDescriptor.create2=function(left,right){return RuleDescriptor.create4(left,formatting.Shared.TokenRange.FromToken(right))},RuleDescriptor.create3=function(left,right){return RuleDescriptor.create4(formatting.Shared.TokenRange.FromToken(left),right)},RuleDescriptor.create4=function(left,right){return new RuleDescriptor(left,right)},RuleDescriptor}();formatting.RuleDescriptor=RuleDescriptor}(formatting=ts.formatting||(ts.formatting={}))}(ts||(ts={}));var ts;!function(ts){var formatting;!function(formatting){!function(RuleFlags){RuleFlags[RuleFlags.None=0]="None",RuleFlags[RuleFlags.CanDeleteNewLines=1]="CanDeleteNewLines"}(formatting.RuleFlags||(formatting.RuleFlags={}));formatting.RuleFlags}(formatting=ts.formatting||(ts.formatting={}))}(ts||(ts={}));var ts;!function(ts){var formatting;!function(formatting){var RuleOperation=function(){function RuleOperation(Context,Action){this.Context=Context,this.Action=Action}return RuleOperation.prototype.toString=function(){return"[context="+this.Context+",action="+this.Action+"]"},RuleOperation.create1=function(action){return RuleOperation.create2(formatting.RuleOperationContext.Any,action)},RuleOperation.create2=function(context,action){return new RuleOperation(context,action)},RuleOperation}();formatting.RuleOperation=RuleOperation}(formatting=ts.formatting||(ts.formatting={}))}(ts||(ts={}));var ts;!function(ts){var formatting;!function(formatting){var RuleOperationContext=function(){function RuleOperationContext(){for(var funcs=[],_i=0;_i<arguments.length;_i++)funcs[_i-0]=arguments[_i];this.customContextChecks=funcs}return RuleOperationContext.prototype.IsAny=function(){return this===RuleOperationContext.Any},RuleOperationContext.prototype.InContext=function(context){if(this.IsAny())return!0;for(var _i=0,_a=this.customContextChecks;_i<_a.length;_i++){var check=_a[_i];if(!check(context))return!1}return!0},RuleOperationContext.Any=new RuleOperationContext,RuleOperationContext}();formatting.RuleOperationContext=RuleOperationContext}(formatting=ts.formatting||(ts.formatting={}))}(ts||(ts={}));var ts;!function(ts){var formatting;!function(formatting){var Rules=function(){function Rules(){this.IgnoreBeforeComment=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.Comments),formatting.RuleOperation.create1(1)),this.IgnoreAfterLineComment=new formatting.Rule(formatting.RuleDescriptor.create3(2,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create1(1)),this.NoSpaceBeforeSemicolon=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,23),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeColon=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,54),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsNotBinaryOpContext),8)),this.NoSpaceBeforeQuestionMark=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,53),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsNotBinaryOpContext),8)),this.SpaceAfterColon=new formatting.Rule(formatting.RuleDescriptor.create3(54,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsNotBinaryOpContext),2)),this.SpaceAfterQuestionMarkInConditionalOperator=new formatting.Rule(formatting.RuleDescriptor.create3(53,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsConditionalOperatorContext),2)),this.NoSpaceAfterQuestionMark=new formatting.Rule(formatting.RuleDescriptor.create3(53,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterSemicolon=new formatting.Rule(formatting.RuleDescriptor.create3(23,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),2)),this.SpaceAfterCloseBrace=new formatting.Rule(formatting.RuleDescriptor.create3(16,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsAfterCodeBlockContext),2)),this.SpaceBetweenCloseBraceAndElse=new formatting.Rule(formatting.RuleDescriptor.create1(16,80),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),2)),this.SpaceBetweenCloseBraceAndWhile=new formatting.Rule(formatting.RuleDescriptor.create1(16,104),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),2)),this.NoSpaceAfterCloseBrace=new formatting.Rule(formatting.RuleDescriptor.create3(16,formatting.Shared.TokenRange.FromTokens([18,20,24,23])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeDot=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,21),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterDot=new formatting.Rule(formatting.RuleDescriptor.create3(21,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeOpenBracket=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,19),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterCloseBracket=new formatting.Rule(formatting.RuleDescriptor.create3(20,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsNotBeforeBlockInFunctionDeclarationContext),8)),this.FunctionOpenBraceLeftTokenRange=formatting.Shared.TokenRange.AnyIncludingMultilineComments,this.SpaceBeforeOpenBraceInFunction=new formatting.Rule(formatting.RuleDescriptor.create2(this.FunctionOpenBraceLeftTokenRange,15),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclContext,Rules.IsBeforeBlockContext,Rules.IsNotFormatOnEnter,Rules.IsSameLineTokenOrBeforeMultilineBlockContext),2),1),this.TypeScriptOpenBraceLeftTokenRange=formatting.Shared.TokenRange.FromTokens([69,3,73,82,89]),this.SpaceBeforeOpenBraceInTypeScriptDeclWithBlock=new formatting.Rule(formatting.RuleDescriptor.create2(this.TypeScriptOpenBraceLeftTokenRange,15),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsTypeScriptDeclWithBlockContext,Rules.IsNotFormatOnEnter,Rules.IsSameLineTokenOrBeforeMultilineBlockContext),2),1),this.ControlOpenBraceLeftTokenRange=formatting.Shared.TokenRange.FromTokens([18,3,79,100,85,80]),this.SpaceBeforeOpenBraceInControl=new formatting.Rule(formatting.RuleDescriptor.create2(this.ControlOpenBraceLeftTokenRange,15),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsControlDeclContext,Rules.IsNotFormatOnEnter,Rules.IsSameLineTokenOrBeforeMultilineBlockContext),2),1),this.SpaceAfterOpenBrace=new formatting.Rule(formatting.RuleDescriptor.create3(15,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSingleLineBlockContext),2)),this.SpaceBeforeCloseBrace=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,16),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSingleLineBlockContext),2)),this.NoSpaceBetweenEmptyBraceBrackets=new formatting.Rule(formatting.RuleDescriptor.create1(15,16),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsObjectContext),8)),this.NewLineAfterOpenBraceInBlockContext=new formatting.Rule(formatting.RuleDescriptor.create3(15,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsMultilineBlockContext),4)),this.NewLineBeforeCloseBraceInBlockContext=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.AnyIncludingMultilineComments,16),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsMultilineBlockContext),4)),this.NoSpaceAfterUnaryPrefixOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.UnaryPrefixOperators,formatting.Shared.TokenRange.UnaryPrefixExpressions),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsNotBinaryOpContext),8)),this.NoSpaceAfterUnaryPreincrementOperator=new formatting.Rule(formatting.RuleDescriptor.create3(41,formatting.Shared.TokenRange.UnaryPreincrementExpressions),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterUnaryPredecrementOperator=new formatting.Rule(formatting.RuleDescriptor.create3(42,formatting.Shared.TokenRange.UnaryPredecrementExpressions),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeUnaryPostincrementOperator=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.UnaryPostincrementExpressions,41),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeUnaryPostdecrementOperator=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.UnaryPostdecrementExpressions,42),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterPostincrementWhenFollowedByAdd=new formatting.Rule(formatting.RuleDescriptor.create1(41,35),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsBinaryOpContext),2)),this.SpaceAfterAddWhenFollowedByUnaryPlus=new formatting.Rule(formatting.RuleDescriptor.create1(35,35),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsBinaryOpContext),2)),this.SpaceAfterAddWhenFollowedByPreincrement=new formatting.Rule(formatting.RuleDescriptor.create1(35,41),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsBinaryOpContext),2)),this.SpaceAfterPostdecrementWhenFollowedBySubtract=new formatting.Rule(formatting.RuleDescriptor.create1(42,36),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsBinaryOpContext),2)),this.SpaceAfterSubtractWhenFollowedByUnaryMinus=new formatting.Rule(formatting.RuleDescriptor.create1(36,36),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsBinaryOpContext),2)),this.SpaceAfterSubtractWhenFollowedByPredecrement=new formatting.Rule(formatting.RuleDescriptor.create1(36,42),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsBinaryOpContext),2)),this.NoSpaceBeforeComma=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,24),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterCertainKeywords=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([102,98,92,78,94,101,119]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),2)),this.SpaceAfterLetConstInVariableDeclaration=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([108,74]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsStartOfVariableDeclarationList),2)),this.NoSpaceBeforeOpenParenInFuncCall=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,17),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsFunctionCallOrNewContext,Rules.IsPreviousTokenNotComma),8)),this.SpaceAfterFunctionInFuncDecl=new formatting.Rule(formatting.RuleDescriptor.create3(87,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclContext),2)),this.NoSpaceBeforeOpenParenInFuncDecl=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,17),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsFunctionDeclContext),8)),this.SpaceAfterVoidOperator=new formatting.Rule(formatting.RuleDescriptor.create3(103,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsVoidOpContext),2)),this.NoSpaceBetweenReturnAndSemicolon=new formatting.Rule(formatting.RuleDescriptor.create1(94,23),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.SpaceBetweenStatements=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([18,79,80,71]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsNonJsxElementContext,Rules.IsNotForContext),2)),this.SpaceAfterTryFinally=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.FromTokens([100,85]),15),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),2)),this.SpaceAfterGetSetInMember=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.FromTokens([123,131]),69),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclContext),2)),this.SpaceBeforeBinaryKeywordOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.BinaryKeywordOperators),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsBinaryOpContext),2)),this.SpaceAfterBinaryKeywordOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.BinaryKeywordOperators,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsBinaryOpContext),2)),this.NoSpaceAfterConstructor=new formatting.Rule(formatting.RuleDescriptor.create1(121,17),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterModuleImport=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.FromTokens([125,129]),17),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterCertainTypeScriptKeywords=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([115,73,122,77,81,82,83,123,106,89,107,125,126,110,112,111,131,113,134,136]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),2)),this.SpaceBeforeCertainTypeScriptKeywords=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.FromTokens([83,106,136])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),2)),this.SpaceAfterModuleName=new formatting.Rule(formatting.RuleDescriptor.create1(9,15),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsModuleDeclContext),2)),this.SpaceBeforeArrow=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,34),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),2)),this.SpaceAfterArrow=new formatting.Rule(formatting.RuleDescriptor.create3(34,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),2)),this.NoSpaceAfterEllipsis=new formatting.Rule(formatting.RuleDescriptor.create1(22,69),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterOptionalParameters=new formatting.Rule(formatting.RuleDescriptor.create3(53,formatting.Shared.TokenRange.FromTokens([18,24])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsNotBinaryOpContext),8)),this.NoSpaceBeforeOpenAngularBracket=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.TypeNames,25),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsTypeArgumentOrParameterOrAssertionContext),8)),this.NoSpaceBetweenCloseParenAndAngularBracket=new formatting.Rule(formatting.RuleDescriptor.create1(18,25),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsTypeArgumentOrParameterOrAssertionContext),8)),this.NoSpaceAfterOpenAngularBracket=new formatting.Rule(formatting.RuleDescriptor.create3(25,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsTypeArgumentOrParameterOrAssertionContext),8)),this.NoSpaceBeforeCloseAngularBracket=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,27),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsTypeArgumentOrParameterOrAssertionContext),8)),this.NoSpaceAfterCloseAngularBracket=new formatting.Rule(formatting.RuleDescriptor.create3(27,formatting.Shared.TokenRange.FromTokens([17,19,27,24])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsTypeArgumentOrParameterOrAssertionContext),8)),this.NoSpaceAfterTypeAssertion=new formatting.Rule(formatting.RuleDescriptor.create3(27,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsTypeAssertionContext),8)),this.NoSpaceBetweenEmptyInterfaceBraceBrackets=new formatting.Rule(formatting.RuleDescriptor.create1(15,16),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsObjectTypeContext),8)),this.SpaceBeforeAt=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,55),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),2)),this.NoSpaceAfterAt=new formatting.Rule(formatting.RuleDescriptor.create3(55,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterDecorator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.FromTokens([115,69,82,77,73,113,112,110,111,123,131,19,37])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsEndOfDecoratorContextOnSameLine),2)),this.NoSpaceBetweenFunctionKeywordAndStar=new formatting.Rule(formatting.RuleDescriptor.create1(87,37),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclarationOrFunctionExpressionContext),8)),this.SpaceAfterStarInGeneratorDeclaration=new formatting.Rule(formatting.RuleDescriptor.create3(37,formatting.Shared.TokenRange.FromTokens([69,17])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclarationOrFunctionExpressionContext),2)),this.NoSpaceBetweenYieldKeywordAndStar=new formatting.Rule(formatting.RuleDescriptor.create1(114,37),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsYieldOrYieldStarWithOperand),8)),this.SpaceBetweenYieldOrYieldStarAndOperand=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([114,37]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsYieldOrYieldStarWithOperand),2)),this.SpaceBetweenAsyncAndOpenParen=new formatting.Rule(formatting.RuleDescriptor.create1(118,17),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsArrowFunctionContext,Rules.IsNonJsxSameLineTokenContext),2)),this.SpaceBetweenAsyncAndFunctionKeyword=new formatting.Rule(formatting.RuleDescriptor.create1(118,87),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),2)),this.NoSpaceBetweenTagAndTemplateString=new formatting.Rule(formatting.RuleDescriptor.create3(69,formatting.Shared.TokenRange.FromTokens([11,12])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.SpaceBeforeJsxAttribute=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,69),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNextTokenParentJsxAttribute,Rules.IsNonJsxSameLineTokenContext),2)),this.SpaceBeforeSlashInJsxOpeningElement=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,39),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsJsxSelfClosingElementContext,Rules.IsNonJsxSameLineTokenContext),2)),this.NoSpaceBeforeGreaterThanTokenInJsxOpeningElement=new formatting.Rule(formatting.RuleDescriptor.create1(39,27),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsJsxSelfClosingElementContext,Rules.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeEqualInJsxAttribute=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,56),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsJsxAttributeContext,Rules.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterEqualInJsxAttribute=new formatting.Rule(formatting.RuleDescriptor.create3(56,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsJsxAttributeContext,Rules.IsNonJsxSameLineTokenContext),8)),this.HighPriorityCommonRules=[this.IgnoreBeforeComment,this.IgnoreAfterLineComment,this.NoSpaceBeforeColon,this.SpaceAfterColon,this.NoSpaceBeforeQuestionMark,this.SpaceAfterQuestionMarkInConditionalOperator,this.NoSpaceAfterQuestionMark,this.NoSpaceBeforeDot,this.NoSpaceAfterDot,this.NoSpaceAfterUnaryPrefixOperator,this.NoSpaceAfterUnaryPreincrementOperator,this.NoSpaceAfterUnaryPredecrementOperator,this.NoSpaceBeforeUnaryPostincrementOperator,this.NoSpaceBeforeUnaryPostdecrementOperator,this.SpaceAfterPostincrementWhenFollowedByAdd,this.SpaceAfterAddWhenFollowedByUnaryPlus,this.SpaceAfterAddWhenFollowedByPreincrement,this.SpaceAfterPostdecrementWhenFollowedBySubtract,this.SpaceAfterSubtractWhenFollowedByUnaryMinus,this.SpaceAfterSubtractWhenFollowedByPredecrement,this.NoSpaceAfterCloseBrace,this.SpaceAfterOpenBrace,this.SpaceBeforeCloseBrace,this.NewLineBeforeCloseBraceInBlockContext,this.SpaceAfterCloseBrace,this.SpaceBetweenCloseBraceAndElse,this.SpaceBetweenCloseBraceAndWhile,this.NoSpaceBetweenEmptyBraceBrackets,this.NoSpaceBetweenFunctionKeywordAndStar,this.SpaceAfterStarInGeneratorDeclaration,this.SpaceAfterFunctionInFuncDecl,this.NewLineAfterOpenBraceInBlockContext,this.SpaceAfterGetSetInMember,this.NoSpaceBetweenYieldKeywordAndStar,this.SpaceBetweenYieldOrYieldStarAndOperand,this.NoSpaceBetweenReturnAndSemicolon,this.SpaceAfterCertainKeywords,this.SpaceAfterLetConstInVariableDeclaration,this.NoSpaceBeforeOpenParenInFuncCall,this.SpaceBeforeBinaryKeywordOperator,this.SpaceAfterBinaryKeywordOperator,this.SpaceAfterVoidOperator,this.SpaceBetweenAsyncAndOpenParen,this.SpaceBetweenAsyncAndFunctionKeyword,this.NoSpaceBetweenTagAndTemplateString,this.SpaceBeforeJsxAttribute,this.SpaceBeforeSlashInJsxOpeningElement,this.NoSpaceBeforeGreaterThanTokenInJsxOpeningElement,this.NoSpaceBeforeEqualInJsxAttribute,this.NoSpaceAfterEqualInJsxAttribute,this.NoSpaceAfterConstructor,this.NoSpaceAfterModuleImport,this.SpaceAfterCertainTypeScriptKeywords,this.SpaceBeforeCertainTypeScriptKeywords,this.SpaceAfterModuleName,this.SpaceBeforeArrow,this.SpaceAfterArrow,this.NoSpaceAfterEllipsis,this.NoSpaceAfterOptionalParameters,this.NoSpaceBetweenEmptyInterfaceBraceBrackets,this.NoSpaceBeforeOpenAngularBracket,this.NoSpaceBetweenCloseParenAndAngularBracket,this.NoSpaceAfterOpenAngularBracket,this.NoSpaceBeforeCloseAngularBracket,this.NoSpaceAfterCloseAngularBracket,this.NoSpaceAfterTypeAssertion,this.SpaceBeforeAt,this.NoSpaceAfterAt,this.SpaceAfterDecorator],
this.LowPriorityCommonRules=[this.NoSpaceBeforeSemicolon,this.SpaceBeforeOpenBraceInControl,this.SpaceBeforeOpenBraceInFunction,this.SpaceBeforeOpenBraceInTypeScriptDeclWithBlock,this.NoSpaceBeforeComma,this.NoSpaceBeforeOpenBracket,this.NoSpaceAfterCloseBracket,this.SpaceAfterSemicolon,this.NoSpaceBeforeOpenParenInFuncDecl,this.SpaceBetweenStatements,this.SpaceAfterTryFinally],this.SpaceAfterComma=new formatting.Rule(formatting.RuleDescriptor.create3(24,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsNonJsxElementContext,Rules.IsNextTokenNotCloseBracket),2)),this.NoSpaceAfterComma=new formatting.Rule(formatting.RuleDescriptor.create3(24,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsNonJsxElementContext),8)),this.SpaceBeforeBinaryOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.BinaryOperators),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsBinaryOpContext),2)),this.SpaceAfterBinaryOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.BinaryOperators,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsBinaryOpContext),2)),this.NoSpaceBeforeBinaryOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.BinaryOperators),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsBinaryOpContext),8)),this.NoSpaceAfterBinaryOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.BinaryOperators,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsBinaryOpContext),8)),this.SpaceAfterKeywordInControl=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Keywords,17),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsControlDeclContext),2)),this.NoSpaceAfterKeywordInControl=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Keywords,17),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsControlDeclContext),8)),this.NewLineBeforeOpenBraceInFunction=new formatting.Rule(formatting.RuleDescriptor.create2(this.FunctionOpenBraceLeftTokenRange,15),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclContext,Rules.IsBeforeMultilineBlockContext),4),1),this.NewLineBeforeOpenBraceInTypeScriptDeclWithBlock=new formatting.Rule(formatting.RuleDescriptor.create2(this.TypeScriptOpenBraceLeftTokenRange,15),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsTypeScriptDeclWithBlockContext,Rules.IsBeforeMultilineBlockContext),4),1),this.NewLineBeforeOpenBraceInControl=new formatting.Rule(formatting.RuleDescriptor.create2(this.ControlOpenBraceLeftTokenRange,15),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsControlDeclContext,Rules.IsBeforeMultilineBlockContext),4),1),this.SpaceAfterSemicolonInFor=new formatting.Rule(formatting.RuleDescriptor.create3(23,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsForContext),2)),this.NoSpaceAfterSemicolonInFor=new formatting.Rule(formatting.RuleDescriptor.create3(23,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsForContext),8)),this.SpaceAfterOpenParen=new formatting.Rule(formatting.RuleDescriptor.create3(17,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),2)),this.SpaceBeforeCloseParen=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,18),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),2)),this.NoSpaceBetweenParens=new formatting.Rule(formatting.RuleDescriptor.create1(17,18),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterOpenParen=new formatting.Rule(formatting.RuleDescriptor.create3(17,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeCloseParen=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,18),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterOpenBracket=new formatting.Rule(formatting.RuleDescriptor.create3(19,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),2)),this.SpaceBeforeCloseBracket=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,20),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),2)),this.NoSpaceBetweenBrackets=new formatting.Rule(formatting.RuleDescriptor.create1(19,20),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterOpenBracket=new formatting.Rule(formatting.RuleDescriptor.create3(19,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeCloseBracket=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,20),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterTemplateHeadAndMiddle=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([12,13]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterTemplateHeadAndMiddle=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([12,13]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),2)),this.NoSpaceBeforeTemplateMiddleAndTail=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.FromTokens([13,14])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),8)),this.SpaceBeforeTemplateMiddleAndTail=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.FromTokens([13,14])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext),2)),this.NoSpaceAfterOpenBraceInJsxExpression=new formatting.Rule(formatting.RuleDescriptor.create3(15,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsJsxExpressionContext),8)),this.SpaceAfterOpenBraceInJsxExpression=new formatting.Rule(formatting.RuleDescriptor.create3(15,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsJsxExpressionContext),2)),this.NoSpaceBeforeCloseBraceInJsxExpression=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,16),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsJsxExpressionContext),8)),this.SpaceBeforeCloseBraceInJsxExpression=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,16),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsNonJsxSameLineTokenContext,Rules.IsJsxExpressionContext),2)),this.SpaceAfterAnonymousFunctionKeyword=new formatting.Rule(formatting.RuleDescriptor.create1(87,17),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclContext),2)),this.NoSpaceAfterAnonymousFunctionKeyword=new formatting.Rule(formatting.RuleDescriptor.create1(87,17),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclContext),8))}return Rules.prototype.getRuleName=function(rule){var o=this;for(var name_40 in o)if(o[name_40]===rule)return name_40;throw new Error("Unknown rule")},Rules.IsForContext=function(context){return 206===context.contextNode.kind},Rules.IsNotForContext=function(context){return!Rules.IsForContext(context)},Rules.IsBinaryOpContext=function(context){switch(context.contextNode.kind){case 187:case 188:case 195:case 238:case 234:case 154:case 162:case 163:return!0;case 169:case 223:case 229:case 218:case 142:case 255:case 145:case 144:return 56===context.currentTokenSpan.kind||56===context.nextTokenSpan.kind;case 207:return 90===context.currentTokenSpan.kind||90===context.nextTokenSpan.kind;case 208:return 138===context.currentTokenSpan.kind||138===context.nextTokenSpan.kind}return!1},Rules.IsNotBinaryOpContext=function(context){return!Rules.IsBinaryOpContext(context)},Rules.IsConditionalOperatorContext=function(context){return 188===context.contextNode.kind},Rules.IsSameLineTokenOrBeforeMultilineBlockContext=function(context){return context.TokensAreOnSameLine()||Rules.IsBeforeMultilineBlockContext(context)},Rules.IsBeforeMultilineBlockContext=function(context){return Rules.IsBeforeBlockContext(context)&&!(context.NextNodeAllOnSameLine()||context.NextNodeBlockIsOnOneLine())},Rules.IsMultilineBlockContext=function(context){return Rules.IsBlockContext(context)&&!(context.ContextNodeAllOnSameLine()||context.ContextNodeBlockIsOnOneLine())},Rules.IsSingleLineBlockContext=function(context){return Rules.IsBlockContext(context)&&(context.ContextNodeAllOnSameLine()||context.ContextNodeBlockIsOnOneLine())},Rules.IsBlockContext=function(context){return Rules.NodeIsBlockContext(context.contextNode)},Rules.IsBeforeBlockContext=function(context){return Rules.NodeIsBlockContext(context.nextTokenParent)},Rules.NodeIsBlockContext=function(node){if(Rules.NodeIsTypeScriptDeclWithBlockContext(node))return!0;switch(node.kind){case 199:case 227:case 171:case 226:return!0}return!1},Rules.IsFunctionDeclContext=function(context){switch(context.contextNode.kind){case 220:case 147:case 146:case 149:case 150:case 151:case 179:case 148:case 180:case 222:return!0}return!1},Rules.IsFunctionDeclarationOrFunctionExpressionContext=function(context){return 220===context.contextNode.kind||179===context.contextNode.kind},Rules.IsTypeScriptDeclWithBlockContext=function(context){return Rules.NodeIsTypeScriptDeclWithBlockContext(context.contextNode)},Rules.NodeIsTypeScriptDeclWithBlockContext=function(node){switch(node.kind){case 221:case 192:case 222:case 224:case 159:case 225:case 236:case 237:case 230:case 233:return!0}return!1},Rules.IsAfterCodeBlockContext=function(context){switch(context.currentTokenParent.kind){case 221:case 225:case 224:case 199:case 252:case 226:case 213:return!0}return!1},Rules.IsControlDeclContext=function(context){switch(context.contextNode.kind){case 203:case 213:case 206:case 207:case 208:case 205:case 216:case 204:case 212:case 252:return!0;default:return!1}},Rules.IsObjectContext=function(context){return 171===context.contextNode.kind},Rules.IsFunctionCallContext=function(context){return 174===context.contextNode.kind},Rules.IsNewContext=function(context){return 175===context.contextNode.kind},Rules.IsFunctionCallOrNewContext=function(context){return Rules.IsFunctionCallContext(context)||Rules.IsNewContext(context)},Rules.IsPreviousTokenNotComma=function(context){return 24!==context.currentTokenSpan.kind},Rules.IsNextTokenNotCloseBracket=function(context){return 20!==context.nextTokenSpan.kind},Rules.IsArrowFunctionContext=function(context){return 180===context.contextNode.kind},Rules.IsNonJsxSameLineTokenContext=function(context){return context.TokensAreOnSameLine()&&244!==context.contextNode.kind},Rules.IsNonJsxElementContext=function(context){return 241!==context.contextNode.kind},Rules.IsJsxExpressionContext=function(context){return 248===context.contextNode.kind},Rules.IsNextTokenParentJsxAttribute=function(context){return 246===context.nextTokenParent.kind},Rules.IsJsxAttributeContext=function(context){return 246===context.contextNode.kind},Rules.IsJsxSelfClosingElementContext=function(context){return 242===context.contextNode.kind},Rules.IsNotBeforeBlockInFunctionDeclarationContext=function(context){return!Rules.IsFunctionDeclContext(context)&&!Rules.IsBeforeBlockContext(context)},Rules.IsEndOfDecoratorContextOnSameLine=function(context){return context.TokensAreOnSameLine()&&context.contextNode.decorators&&Rules.NodeIsInDecoratorContext(context.currentTokenParent)&&!Rules.NodeIsInDecoratorContext(context.nextTokenParent)},Rules.NodeIsInDecoratorContext=function(node){for(;ts.isExpression(node);)node=node.parent;return 143===node.kind},Rules.IsStartOfVariableDeclarationList=function(context){return 219===context.currentTokenParent.kind&&context.currentTokenParent.getStart(context.sourceFile)===context.currentTokenSpan.pos},Rules.IsNotFormatOnEnter=function(context){return 2!==context.formattingRequestKind},Rules.IsModuleDeclContext=function(context){return 225===context.contextNode.kind},Rules.IsObjectTypeContext=function(context){return 159===context.contextNode.kind},Rules.IsTypeArgumentOrParameterOrAssertion=function(token,parent){if(25!==token.kind&&27!==token.kind)return!1;switch(parent.kind){case 155:case 177:case 221:case 192:case 222:case 220:case 179:case 180:case 147:case 146:case 151:case 152:case 174:case 175:case 194:return!0;default:return!1}},Rules.IsTypeArgumentOrParameterOrAssertionContext=function(context){return Rules.IsTypeArgumentOrParameterOrAssertion(context.currentTokenSpan,context.currentTokenParent)||Rules.IsTypeArgumentOrParameterOrAssertion(context.nextTokenSpan,context.nextTokenParent)},Rules.IsTypeAssertionContext=function(context){return 177===context.contextNode.kind},Rules.IsVoidOpContext=function(context){return 103===context.currentTokenSpan.kind&&183===context.currentTokenParent.kind},Rules.IsYieldOrYieldStarWithOperand=function(context){return 190===context.contextNode.kind&&void 0!==context.contextNode.expression},Rules}();formatting.Rules=Rules}(formatting=ts.formatting||(ts.formatting={}))}(ts||(ts={}));var ts;!function(ts){var formatting;!function(formatting){var RulesMap=function(){function RulesMap(){this.map=[],this.mapRowLength=0}return RulesMap.create=function(rules){var result=new RulesMap;return result.Initialize(rules),result},RulesMap.prototype.Initialize=function(rules){this.mapRowLength=139,this.map=new Array(this.mapRowLength*this.mapRowLength);var rulesBucketConstructionStateList=new Array(this.map.length);return this.FillRules(rules,rulesBucketConstructionStateList),this.map},RulesMap.prototype.FillRules=function(rules,rulesBucketConstructionStateList){var _this=this;rules.forEach(function(rule){_this.FillRule(rule,rulesBucketConstructionStateList)})},RulesMap.prototype.GetRuleBucketIndex=function(row,column){var rulesBucketIndex=row*this.mapRowLength+column;return rulesBucketIndex},RulesMap.prototype.FillRule=function(rule,rulesBucketConstructionStateList){var _this=this,specificRule=rule.Descriptor.LeftTokenRange!==formatting.Shared.TokenRange.Any&&rule.Descriptor.RightTokenRange!==formatting.Shared.TokenRange.Any;rule.Descriptor.LeftTokenRange.GetTokens().forEach(function(left){rule.Descriptor.RightTokenRange.GetTokens().forEach(function(right){var rulesBucketIndex=_this.GetRuleBucketIndex(left,right),rulesBucket=_this.map[rulesBucketIndex];void 0===rulesBucket&&(rulesBucket=_this.map[rulesBucketIndex]=new RulesBucket),rulesBucket.AddRule(rule,specificRule,rulesBucketConstructionStateList,rulesBucketIndex)})})},RulesMap.prototype.GetRule=function(context){var bucketIndex=this.GetRuleBucketIndex(context.currentTokenSpan.kind,context.nextTokenSpan.kind),bucket=this.map[bucketIndex];if(bucket)for(var _i=0,_a=bucket.Rules();_i<_a.length;_i++){var rule=_a[_i];if(rule.Operation.Context.InContext(context))return rule}return void 0},RulesMap}();formatting.RulesMap=RulesMap;var MaskBitSize=5,Mask=31;!function(RulesPosition){RulesPosition[RulesPosition.IgnoreRulesSpecific=0]="IgnoreRulesSpecific",RulesPosition[RulesPosition.IgnoreRulesAny=1*MaskBitSize]="IgnoreRulesAny",RulesPosition[RulesPosition.ContextRulesSpecific=2*MaskBitSize]="ContextRulesSpecific",RulesPosition[RulesPosition.ContextRulesAny=3*MaskBitSize]="ContextRulesAny",RulesPosition[RulesPosition.NoContextRulesSpecific=4*MaskBitSize]="NoContextRulesSpecific",RulesPosition[RulesPosition.NoContextRulesAny=5*MaskBitSize]="NoContextRulesAny"}(formatting.RulesPosition||(formatting.RulesPosition={}));var RulesPosition=formatting.RulesPosition,RulesBucketConstructionState=function(){function RulesBucketConstructionState(){this.rulesInsertionIndexBitmap=0}return RulesBucketConstructionState.prototype.GetInsertionIndex=function(maskPosition){for(var index=0,pos=0,indexBitmap=this.rulesInsertionIndexBitmap;maskPosition>=pos;)index+=indexBitmap&Mask,indexBitmap>>=MaskBitSize,pos+=MaskBitSize;return index},RulesBucketConstructionState.prototype.IncreaseInsertionIndex=function(maskPosition){var value=this.rulesInsertionIndexBitmap>>maskPosition&Mask;value++,ts.Debug.assert((value&Mask)===value,"Adding more rules into the sub-bucket than allowed. Maximum allowed is 32 rules.");var temp=this.rulesInsertionIndexBitmap&~(Mask<<maskPosition);temp|=value<<maskPosition,this.rulesInsertionIndexBitmap=temp},RulesBucketConstructionState}();formatting.RulesBucketConstructionState=RulesBucketConstructionState;var RulesBucket=function(){function RulesBucket(){this.rules=[]}return RulesBucket.prototype.Rules=function(){return this.rules},RulesBucket.prototype.AddRule=function(rule,specificTokens,constructionState,rulesBucketIndex){var position;position=1===rule.Operation.Action?specificTokens?RulesPosition.IgnoreRulesSpecific:RulesPosition.IgnoreRulesAny:rule.Operation.Context.IsAny()?specificTokens?RulesPosition.NoContextRulesSpecific:RulesPosition.NoContextRulesAny:specificTokens?RulesPosition.ContextRulesSpecific:RulesPosition.ContextRulesAny;var state=constructionState[rulesBucketIndex];void 0===state&&(state=constructionState[rulesBucketIndex]=new RulesBucketConstructionState);var index=state.GetInsertionIndex(position);this.rules.splice(index,0,rule),state.IncreaseInsertionIndex(position)},RulesBucket}();formatting.RulesBucket=RulesBucket}(formatting=ts.formatting||(ts.formatting={}))}(ts||(ts={}));var ts;!function(ts){var formatting;!function(formatting){var Shared;!function(Shared){var TokenRangeAccess=function(){function TokenRangeAccess(from,to,except){this.tokens=[];for(var token=from;to>=token;token++)ts.indexOf(except,token)<0&&this.tokens.push(token)}return TokenRangeAccess.prototype.GetTokens=function(){return this.tokens},TokenRangeAccess.prototype.Contains=function(token){return this.tokens.indexOf(token)>=0},TokenRangeAccess}();Shared.TokenRangeAccess=TokenRangeAccess;var TokenValuesAccess=function(){function TokenValuesAccess(tks){this.tokens=tks&&tks.length?tks:[]}return TokenValuesAccess.prototype.GetTokens=function(){return this.tokens},TokenValuesAccess.prototype.Contains=function(token){return this.tokens.indexOf(token)>=0},TokenValuesAccess}();Shared.TokenValuesAccess=TokenValuesAccess;var TokenSingleValueAccess=function(){function TokenSingleValueAccess(token){this.token=token}return TokenSingleValueAccess.prototype.GetTokens=function(){return[this.token]},TokenSingleValueAccess.prototype.Contains=function(tokenValue){return tokenValue===this.token},TokenSingleValueAccess}();Shared.TokenSingleValueAccess=TokenSingleValueAccess;var TokenAllAccess=function(){function TokenAllAccess(){}return TokenAllAccess.prototype.GetTokens=function(){for(var result=[],token=0;138>=token;token++)result.push(token);return result},TokenAllAccess.prototype.Contains=function(tokenValue){return!0},TokenAllAccess.prototype.toString=function(){return"[allTokens]"},TokenAllAccess}();Shared.TokenAllAccess=TokenAllAccess;var TokenRange=function(){function TokenRange(tokenAccess){this.tokenAccess=tokenAccess}return TokenRange.FromToken=function(token){return new TokenRange(new TokenSingleValueAccess(token))},TokenRange.FromTokens=function(tokens){return new TokenRange(new TokenValuesAccess(tokens))},TokenRange.FromRange=function(f,to,except){return void 0===except&&(except=[]),new TokenRange(new TokenRangeAccess(f,to,except))},TokenRange.AllTokens=function(){return new TokenRange(new TokenAllAccess)},TokenRange.prototype.GetTokens=function(){return this.tokenAccess.GetTokens()},TokenRange.prototype.Contains=function(token){return this.tokenAccess.Contains(token)},TokenRange.prototype.toString=function(){return this.tokenAccess.toString()},TokenRange.Any=TokenRange.AllTokens(),TokenRange.AnyIncludingMultilineComments=TokenRange.FromTokens(TokenRange.Any.GetTokens().concat([3])),TokenRange.Keywords=TokenRange.FromRange(70,138),TokenRange.BinaryOperators=TokenRange.FromRange(25,68),TokenRange.BinaryKeywordOperators=TokenRange.FromTokens([90,91,138,116,124]),TokenRange.UnaryPrefixOperators=TokenRange.FromTokens([41,42,50,49]),TokenRange.UnaryPrefixExpressions=TokenRange.FromTokens([8,69,17,19,15,97,92]),TokenRange.UnaryPreincrementExpressions=TokenRange.FromTokens([69,17,97,92]),TokenRange.UnaryPostincrementExpressions=TokenRange.FromTokens([69,18,20,92]),TokenRange.UnaryPredecrementExpressions=TokenRange.FromTokens([69,17,97,92]),TokenRange.UnaryPostdecrementExpressions=TokenRange.FromTokens([69,18,20,92]),TokenRange.Comments=TokenRange.FromTokens([2,3]),TokenRange.TypeNames=TokenRange.FromTokens([69,130,132,120,133,103,117]),TokenRange}();Shared.TokenRange=TokenRange}(Shared=formatting.Shared||(formatting.Shared={}))}(formatting=ts.formatting||(ts.formatting={}))}(ts||(ts={}));var ts;!function(ts){var formatting;!function(formatting){var RulesProvider=function(){function RulesProvider(){this.globalRules=new formatting.Rules}return RulesProvider.prototype.getRuleName=function(rule){return this.globalRules.getRuleName(rule)},RulesProvider.prototype.getRuleByName=function(name){return this.globalRules[name]},RulesProvider.prototype.getRulesMap=function(){return this.rulesMap},RulesProvider.prototype.ensureUpToDate=function(options){if(!this.options||!ts.compareDataObjects(this.options,options)){var activeRules=this.createActiveRules(options),rulesMap=formatting.RulesMap.create(activeRules);this.activeRules=activeRules,this.rulesMap=rulesMap,this.options=ts.clone(options)}},RulesProvider.prototype.createActiveRules=function(options){var rules=this.globalRules.HighPriorityCommonRules.slice(0);return options.insertSpaceAfterCommaDelimiter?rules.push(this.globalRules.SpaceAfterComma):rules.push(this.globalRules.NoSpaceAfterComma),options.insertSpaceAfterFunctionKeywordForAnonymousFunctions?rules.push(this.globalRules.SpaceAfterAnonymousFunctionKeyword):rules.push(this.globalRules.NoSpaceAfterAnonymousFunctionKeyword),options.insertSpaceAfterKeywordsInControlFlowStatements?rules.push(this.globalRules.SpaceAfterKeywordInControl):rules.push(this.globalRules.NoSpaceAfterKeywordInControl),options.insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis?(rules.push(this.globalRules.SpaceAfterOpenParen),rules.push(this.globalRules.SpaceBeforeCloseParen),rules.push(this.globalRules.NoSpaceBetweenParens)):(rules.push(this.globalRules.NoSpaceAfterOpenParen),rules.push(this.globalRules.NoSpaceBeforeCloseParen),rules.push(this.globalRules.NoSpaceBetweenParens)),options.insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets?(rules.push(this.globalRules.SpaceAfterOpenBracket),rules.push(this.globalRules.SpaceBeforeCloseBracket),rules.push(this.globalRules.NoSpaceBetweenBrackets)):(rules.push(this.globalRules.NoSpaceAfterOpenBracket),rules.push(this.globalRules.NoSpaceBeforeCloseBracket),rules.push(this.globalRules.NoSpaceBetweenBrackets)),options.insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces?(rules.push(this.globalRules.SpaceAfterTemplateHeadAndMiddle),rules.push(this.globalRules.SpaceBeforeTemplateMiddleAndTail)):(rules.push(this.globalRules.NoSpaceAfterTemplateHeadAndMiddle),rules.push(this.globalRules.NoSpaceBeforeTemplateMiddleAndTail)),options.insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces?(rules.push(this.globalRules.SpaceAfterOpenBraceInJsxExpression),rules.push(this.globalRules.SpaceBeforeCloseBraceInJsxExpression)):(rules.push(this.globalRules.NoSpaceAfterOpenBraceInJsxExpression),rules.push(this.globalRules.NoSpaceBeforeCloseBraceInJsxExpression)),options.insertSpaceAfterSemicolonInForStatements?rules.push(this.globalRules.SpaceAfterSemicolonInFor):rules.push(this.globalRules.NoSpaceAfterSemicolonInFor),options.insertSpaceBeforeAndAfterBinaryOperators?(rules.push(this.globalRules.SpaceBeforeBinaryOperator),rules.push(this.globalRules.SpaceAfterBinaryOperator)):(rules.push(this.globalRules.NoSpaceBeforeBinaryOperator),rules.push(this.globalRules.NoSpaceAfterBinaryOperator)),options.placeOpenBraceOnNewLineForControlBlocks&&rules.push(this.globalRules.NewLineBeforeOpenBraceInControl),options.placeOpenBraceOnNewLineForFunctions&&(rules.push(this.globalRules.NewLineBeforeOpenBraceInFunction),rules.push(this.globalRules.NewLineBeforeOpenBraceInTypeScriptDeclWithBlock)),rules=rules.concat(this.globalRules.LowPriorityCommonRules)},RulesProvider}();formatting.RulesProvider=RulesProvider}(formatting=ts.formatting||(ts.formatting={}))}(ts||(ts={}));var ts;!function(ts){var formatting;!function(formatting){function formatOnEnter(position,sourceFile,rulesProvider,options){var line=sourceFile.getLineAndCharacterOfPosition(position).line;if(0===line)return[];for(var endOfFormatSpan=ts.getEndLinePosition(line,sourceFile);ts.isWhiteSpaceSingleLine(sourceFile.text.charCodeAt(endOfFormatSpan));)endOfFormatSpan--;ts.isLineBreak(sourceFile.text.charCodeAt(endOfFormatSpan))&&endOfFormatSpan--;var span={pos:ts.getStartPositionOfLine(line-1,sourceFile),end:endOfFormatSpan+1};return formatSpan(span,sourceFile,options,rulesProvider,2)}function formatOnSemicolon(position,sourceFile,rulesProvider,options){return formatOutermostParent(position,23,sourceFile,options,rulesProvider,3)}function formatOnClosingCurly(position,sourceFile,rulesProvider,options){return formatOutermostParent(position,16,sourceFile,options,rulesProvider,4)}function formatDocument(sourceFile,rulesProvider,options){var span={pos:0,end:sourceFile.text.length};return formatSpan(span,sourceFile,options,rulesProvider,0)}function formatSelection(start,end,sourceFile,rulesProvider,options){var span={pos:ts.getLineStartPositionForPosition(start,sourceFile),end:end};return formatSpan(span,sourceFile,options,rulesProvider,1)}function formatOutermostParent(position,expectedLastToken,sourceFile,options,rulesProvider,requestKind){var parent=findOutermostParent(position,expectedLastToken,sourceFile);if(!parent)return[];var span={pos:ts.getLineStartPositionForPosition(parent.getStart(sourceFile),sourceFile),end:parent.end};return formatSpan(span,sourceFile,options,rulesProvider,requestKind)}function findOutermostParent(position,expectedTokenKind,sourceFile){var precedingToken=ts.findPrecedingToken(position,sourceFile);if(!precedingToken||precedingToken.kind!==expectedTokenKind||position!==precedingToken.getEnd())return void 0;for(var current=precedingToken;current&&current.parent&&current.parent.end===precedingToken.end&&!isListElement(current.parent,current);)current=current.parent;return current}function isListElement(parent,node){switch(parent.kind){case 221:case 222:return ts.rangeContainsRange(parent.members,node);case 225:var body=parent.body;return body&&199===body.kind&&ts.rangeContainsRange(body.statements,node);case 256:case 199:case 226:return ts.rangeContainsRange(parent.statements,node);case 252:return ts.rangeContainsRange(parent.block.statements,node)}return!1}function findEnclosingNode(range,sourceFile){function find(n){var candidate=ts.forEachChild(n,function(c){return ts.startEndContainsRange(c.getStart(sourceFile),c.end,range)&&c});if(candidate){var result=find(candidate);if(result)return result}return n}return find(sourceFile)}function prepareRangeContainsErrorFunction(errors,originalRange){function rangeHasNoErrors(r){return!1}if(!errors.length)return rangeHasNoErrors;var sorted=errors.filter(function(d){return ts.rangeOverlapsWithStartEnd(originalRange,d.start,d.start+d.length)}).sort(function(e1,e2){return e1.start-e2.start});if(!sorted.length)return rangeHasNoErrors;var index=0;return function(r){for(;;){if(index>=sorted.length)return!1;var error=sorted[index];if(r.end<=error.start)return!1;if(ts.startEndOverlapsWithStartEnd(r.pos,r.end,error.start,error.start+error.length))return!0;index++}}}function getScanStartPosition(enclosingNode,originalRange,sourceFile){var start=enclosingNode.getStart(sourceFile);if(start===originalRange.pos&&enclosingNode.end===originalRange.end)return start;var precedingToken=ts.findPrecedingToken(originalRange.pos,sourceFile);return precedingToken?precedingToken.end>=originalRange.pos?enclosingNode.pos:precedingToken.end:enclosingNode.pos}function getOwnOrInheritedDelta(n,options,sourceFile){for(var child,previousLine=-1;n;){var line=sourceFile.getLineAndCharacterOfPosition(n.getStart(sourceFile)).line;if(-1!==previousLine&&line!==previousLine)break;if(formatting.SmartIndenter.shouldIndentChildNode(n,child))return options.indentSize;previousLine=line,child=n,n=n.parent}return 0}function formatSpan(originalRange,sourceFile,options,rulesProvider,requestKind){function tryComputeIndentationForListItem(startPos,endPos,parentStartLine,range,inheritedIndentation){if(ts.rangeOverlapsWithStartEnd(range,startPos,endPos)||ts.rangeContainsStartEnd(range,startPos,endPos)){if(-1!==inheritedIndentation)return inheritedIndentation}else{var startLine=sourceFile.getLineAndCharacterOfPosition(startPos).line,startLinePosition=ts.getLineStartPositionForPosition(startPos,sourceFile),column=formatting.SmartIndenter.findFirstNonWhitespaceColumn(startLinePosition,startPos,sourceFile,options);if(startLine!==parentStartLine||startPos===column){var baseIndentSize=formatting.SmartIndenter.getBaseIndentation(options);return baseIndentSize>column?baseIndentSize:column}}return-1}function computeIndentation(node,startLine,inheritedIndentation,parent,parentDynamicIndentation,effectiveParentStartLine){var indentation=inheritedIndentation,delta=formatting.SmartIndenter.shouldIndentChildNode(node)?options.indentSize:0;return effectiveParentStartLine===startLine?(indentation=startLine===lastIndentedLine?indentationOnLastIndentedLine:parentDynamicIndentation.getIndentation(),delta=Math.min(options.indentSize,parentDynamicIndentation.getDelta(node)+delta)):-1===indentation&&(indentation=formatting.SmartIndenter.childStartsOnTheSameLineWithElseInIfStatement(parent,node,startLine,sourceFile)?parentDynamicIndentation.getIndentation():parentDynamicIndentation.getIndentation()+parentDynamicIndentation.getDelta(node)),{indentation:indentation,delta:delta}}function getFirstNonDecoratorTokenOfNode(node){if(node.modifiers&&node.modifiers.length)return node.modifiers[0].kind;switch(node.kind){case 221:return 73;case 222:return 107;case 220:return 87;case 224:return 224;case 149:return 123;case 150:return 131;case 147:if(node.asteriskToken)return 37;case 145:case 142:return node.name.kind;
}}function getDynamicIndentation(node,nodeStartLine,indentation,delta){function getEffectiveDelta(delta,child){return formatting.SmartIndenter.nodeWillIndentChild(node,child,!0)?delta:0}return{getIndentationForComment:function(kind,tokenIndentation,container){switch(kind){case 16:case 20:case 18:return indentation+getEffectiveDelta(delta,container)}return-1!==tokenIndentation?tokenIndentation:indentation},getIndentationForToken:function(line,kind,container){if(nodeStartLine!==line&&node.decorators&&kind===getFirstNonDecoratorTokenOfNode(node))return indentation;switch(kind){case 15:case 16:case 19:case 20:case 17:case 18:case 80:case 104:case 55:return indentation;default:return nodeStartLine!==line?indentation+getEffectiveDelta(delta,container):indentation}},getIndentation:function(){return indentation},getDelta:function(child){return getEffectiveDelta(delta,child)},recomputeIndentation:function(lineAdded){node.parent&&formatting.SmartIndenter.shouldIndentChildNode(node.parent,node)&&(lineAdded?indentation+=options.indentSize:indentation-=options.indentSize,delta=formatting.SmartIndenter.shouldIndentChildNode(node)?options.indentSize:0)}}}function processNode(node,contextNode,nodeStartLine,undecoratedNodeStartLine,indentation,delta){function processChildNode(child,inheritedIndentation,parent,parentDynamicIndentation,parentStartLine,undecoratedParentStartLine,isListItem,isFirstListItem){var childStartPos=child.getStart(sourceFile),childStartLine=sourceFile.getLineAndCharacterOfPosition(childStartPos).line,undecoratedChildStartLine=childStartLine;child.decorators&&(undecoratedChildStartLine=sourceFile.getLineAndCharacterOfPosition(ts.getNonDecoratorTokenPosOfNode(child,sourceFile)).line);var childIndentationAmount=-1;if(isListItem&&(childIndentationAmount=tryComputeIndentationForListItem(childStartPos,child.end,parentStartLine,originalRange,inheritedIndentation),-1!==childIndentationAmount&&(inheritedIndentation=childIndentationAmount)),!ts.rangeOverlapsWithStartEnd(originalRange,child.pos,child.end))return child.end<originalRange.pos&&formattingScanner.skipToEndOf(child),inheritedIndentation;if(0===child.getFullWidth())return inheritedIndentation;for(;formattingScanner.isOnToken();){var tokenInfo=formattingScanner.readTokenInfo(node);if(tokenInfo.token.end>childStartPos)break;consumeTokenAndAdvanceScanner(tokenInfo,node,parentDynamicIndentation)}if(!formattingScanner.isOnToken())return inheritedIndentation;if(ts.isToken(child)){var tokenInfo=formattingScanner.readTokenInfo(child);return ts.Debug.assert(tokenInfo.token.end===child.end),consumeTokenAndAdvanceScanner(tokenInfo,node,parentDynamicIndentation,child),inheritedIndentation}var effectiveParentStartLine=143===child.kind?childStartLine:undecoratedParentStartLine,childIndentation=computeIndentation(child,childStartLine,childIndentationAmount,node,parentDynamicIndentation,effectiveParentStartLine);return processNode(child,childContextNode,childStartLine,undecoratedChildStartLine,childIndentation.indentation,childIndentation.delta),childContextNode=node,isFirstListItem&&170===parent.kind&&-1===inheritedIndentation&&(inheritedIndentation=childIndentation.indentation),inheritedIndentation}function processChildNodes(nodes,parent,parentStartLine,parentDynamicIndentation){var listStartToken=getOpenTokenForList(parent,nodes),listEndToken=getCloseTokenForOpenToken(listStartToken),listDynamicIndentation=parentDynamicIndentation,startLine=parentStartLine;if(0!==listStartToken)for(;formattingScanner.isOnToken();){var tokenInfo=formattingScanner.readTokenInfo(parent);if(tokenInfo.token.end>nodes.pos)break;if(tokenInfo.token.kind===listStartToken){startLine=sourceFile.getLineAndCharacterOfPosition(tokenInfo.token.pos).line;var indentation_1=computeIndentation(tokenInfo.token,startLine,-1,parent,parentDynamicIndentation,parentStartLine);listDynamicIndentation=getDynamicIndentation(parent,parentStartLine,indentation_1.indentation,indentation_1.delta),consumeTokenAndAdvanceScanner(tokenInfo,parent,listDynamicIndentation)}else consumeTokenAndAdvanceScanner(tokenInfo,parent,parentDynamicIndentation)}for(var inheritedIndentation=-1,i=0;i<nodes.length;i++){var child=nodes[i];inheritedIndentation=processChildNode(child,inheritedIndentation,node,listDynamicIndentation,startLine,startLine,!0,0===i)}if(0!==listEndToken&&formattingScanner.isOnToken()){var tokenInfo=formattingScanner.readTokenInfo(parent);tokenInfo.token.kind===listEndToken&&ts.rangeContainsRange(parent,tokenInfo.token)&&consumeTokenAndAdvanceScanner(tokenInfo,parent,listDynamicIndentation)}}function consumeTokenAndAdvanceScanner(currentTokenInfo,parent,dynamicIndentation,container){ts.Debug.assert(ts.rangeContainsRange(parent,currentTokenInfo.token));var lastTriviaWasNewLine=formattingScanner.lastTrailingTriviaWasNewLine(),indentToken=!1;currentTokenInfo.leadingTrivia&&processTrivia(currentTokenInfo.leadingTrivia,parent,childContextNode,dynamicIndentation);var lineAdded,isTokenInRange=ts.rangeContainsRange(originalRange,currentTokenInfo.token),tokenStart=sourceFile.getLineAndCharacterOfPosition(currentTokenInfo.token.pos);if(isTokenInRange){var rangeHasError=rangeContainsError(currentTokenInfo.token),savePreviousRange=previousRange;if(lineAdded=processRange(currentTokenInfo.token,tokenStart,parent,childContextNode,dynamicIndentation),rangeHasError)indentToken=!1;else if(void 0!==lineAdded)indentToken=lineAdded;else{var prevEndLine=savePreviousRange&&sourceFile.getLineAndCharacterOfPosition(savePreviousRange.end).line;indentToken=lastTriviaWasNewLine&&tokenStart.line!==prevEndLine}}if(currentTokenInfo.trailingTrivia&&processTrivia(currentTokenInfo.trailingTrivia,parent,childContextNode,dynamicIndentation),indentToken){var tokenIndentation=isTokenInRange&&!rangeContainsError(currentTokenInfo.token)?dynamicIndentation.getIndentationForToken(tokenStart.line,currentTokenInfo.token.kind,container):-1,indentNextTokenOrTrivia=!0;if(currentTokenInfo.leadingTrivia)for(var commentIndentation=dynamicIndentation.getIndentationForComment(currentTokenInfo.token.kind,tokenIndentation,container),_i=0,_a=currentTokenInfo.leadingTrivia;_i<_a.length;_i++){var triviaItem=_a[_i],triviaInRange=ts.rangeContainsRange(originalRange,triviaItem);switch(triviaItem.kind){case 3:triviaInRange&&indentMultilineComment(triviaItem,commentIndentation,!indentNextTokenOrTrivia),indentNextTokenOrTrivia=!1;break;case 2:indentNextTokenOrTrivia&&triviaInRange&&insertIndentation(triviaItem.pos,commentIndentation,!1),indentNextTokenOrTrivia=!1;break;case 4:indentNextTokenOrTrivia=!0}}-1!==tokenIndentation&&indentNextTokenOrTrivia&&(insertIndentation(currentTokenInfo.token.pos,tokenIndentation,lineAdded),lastIndentedLine=tokenStart.line,indentationOnLastIndentedLine=tokenIndentation)}formattingScanner.advance(),childContextNode=parent}if(ts.rangeOverlapsWithStartEnd(originalRange,node.getStart(sourceFile),node.getEnd())){var nodeDynamicIndentation=getDynamicIndentation(node,nodeStartLine,indentation,delta),childContextNode=contextNode;for(ts.forEachChild(node,function(child){processChildNode(child,-1,node,nodeDynamicIndentation,nodeStartLine,undecoratedNodeStartLine,!1)},function(nodes){processChildNodes(nodes,node,nodeStartLine,nodeDynamicIndentation)});formattingScanner.isOnToken();){var tokenInfo=formattingScanner.readTokenInfo(node);if(tokenInfo.token.end>node.end)break;consumeTokenAndAdvanceScanner(tokenInfo,node,nodeDynamicIndentation)}}}function processTrivia(trivia,parent,contextNode,dynamicIndentation){for(var _i=0,trivia_1=trivia;_i<trivia_1.length;_i++){var triviaItem=trivia_1[_i];if(ts.isComment(triviaItem.kind)&&ts.rangeContainsRange(originalRange,triviaItem)){var triviaItemStart=sourceFile.getLineAndCharacterOfPosition(triviaItem.pos);processRange(triviaItem,triviaItemStart,parent,contextNode,dynamicIndentation)}}}function processRange(range,rangeStart,parent,contextNode,dynamicIndentation){var lineAdded,rangeHasError=rangeContainsError(range);if(!rangeHasError&&!previousRangeHasError)if(previousRange)lineAdded=processPair(range,rangeStart.line,parent,previousRange,previousRangeStartLine,previousParent,contextNode,dynamicIndentation);else{var originalStart=sourceFile.getLineAndCharacterOfPosition(originalRange.pos);trimTrailingWhitespacesForLines(originalStart.line,rangeStart.line)}return previousRange=range,previousParent=parent,previousRangeStartLine=rangeStart.line,previousRangeHasError=rangeHasError,lineAdded}function processPair(currentItem,currentStartLine,currentParent,previousItem,previousStartLine,previousParent,contextNode,dynamicIndentation){formattingContext.updateContext(previousItem,previousParent,currentItem,currentParent,contextNode);var trimTrailingWhitespaces,lineAdded,rule=rulesProvider.getRulesMap().GetRule(formattingContext);return rule?(applyRuleEdits(rule,previousItem,previousStartLine,currentItem,currentStartLine),10&rule.Operation.Action&&currentStartLine!==previousStartLine?(lineAdded=!1,currentParent.getStart(sourceFile)===currentItem.pos&&dynamicIndentation.recomputeIndentation(!1)):4&rule.Operation.Action&&currentStartLine===previousStartLine&&(lineAdded=!0,currentParent.getStart(sourceFile)===currentItem.pos&&dynamicIndentation.recomputeIndentation(!0)),trimTrailingWhitespaces=!(8&rule.Operation.Action)&&1!==rule.Flag):trimTrailingWhitespaces=!0,currentStartLine!==previousStartLine&&trimTrailingWhitespaces&&trimTrailingWhitespacesForLines(previousStartLine,currentStartLine,previousItem),lineAdded}function insertIndentation(pos,indentation,lineAdded){var indentationString=getIndentationString(indentation,options);if(lineAdded)recordReplace(pos,0,indentationString);else{var tokenStart=sourceFile.getLineAndCharacterOfPosition(pos),startLinePosition=ts.getStartPositionOfLine(tokenStart.line,sourceFile);(indentation!==tokenStart.character||indentationIsDifferent(indentationString,startLinePosition))&&recordReplace(startLinePosition,tokenStart.character,indentationString)}}function indentationIsDifferent(indentationString,startLinePosition){return indentationString!==sourceFile.text.substr(startLinePosition,indentationString.length)}function indentMultilineComment(commentRange,indentation,firstLineIsIndented){var parts,startLine=sourceFile.getLineAndCharacterOfPosition(commentRange.pos).line,endLine=sourceFile.getLineAndCharacterOfPosition(commentRange.end).line;if(startLine===endLine)return void(firstLineIsIndented||insertIndentation(commentRange.pos,indentation,!1));parts=[];for(var startPos=commentRange.pos,line=startLine;endLine>line;line++){var endOfLine=ts.getEndLinePosition(line,sourceFile);parts.push({pos:startPos,end:endOfLine}),startPos=ts.getStartPositionOfLine(line+1,sourceFile)}parts.push({pos:startPos,end:commentRange.end});var startLinePos=ts.getStartPositionOfLine(startLine,sourceFile),nonWhitespaceColumnInFirstPart=formatting.SmartIndenter.findFirstNonWhitespaceCharacterAndColumn(startLinePos,parts[0].pos,sourceFile,options);if(indentation!==nonWhitespaceColumnInFirstPart.column){var startIndex=0;firstLineIsIndented&&(startIndex=1,startLine++);for(var delta=indentation-nonWhitespaceColumnInFirstPart.column,i=startIndex,len=parts.length;len>i;i++,startLine++){var startLinePos_1=ts.getStartPositionOfLine(startLine,sourceFile),nonWhitespaceCharacterAndColumn=0===i?nonWhitespaceColumnInFirstPart:formatting.SmartIndenter.findFirstNonWhitespaceCharacterAndColumn(parts[i].pos,parts[i].end,sourceFile,options),newIndentation=nonWhitespaceCharacterAndColumn.column+delta;if(newIndentation>0){var indentationString=getIndentationString(newIndentation,options);recordReplace(startLinePos_1,nonWhitespaceCharacterAndColumn.character,indentationString)}else recordDelete(startLinePos_1,nonWhitespaceCharacterAndColumn.character)}}}function trimTrailingWhitespacesForLines(line1,line2,range){for(var line=line1;line2>line;line++){var lineStartPosition=ts.getStartPositionOfLine(line,sourceFile),lineEndPosition=ts.getEndLinePosition(line,sourceFile);if(!(range&&(ts.isComment(range.kind)||ts.isStringOrRegularExpressionOrTemplateLiteral(range.kind))&&range.pos<=lineEndPosition&&range.end>lineEndPosition)){var whitespaceStart=getTrailingWhitespaceStartPosition(lineStartPosition,lineEndPosition);-1!==whitespaceStart&&(ts.Debug.assert(whitespaceStart===lineStartPosition||!ts.isWhiteSpaceSingleLine(sourceFile.text.charCodeAt(whitespaceStart-1))),recordDelete(whitespaceStart,lineEndPosition+1-whitespaceStart))}}}function getTrailingWhitespaceStartPosition(start,end){for(var pos=end;pos>=start&&ts.isWhiteSpaceSingleLine(sourceFile.text.charCodeAt(pos));)pos--;return pos!==end?pos+1:-1}function trimTrailingWhitespacesForRemainingRange(){var startPosition=previousRange?previousRange.end:originalRange.pos,startLine=sourceFile.getLineAndCharacterOfPosition(startPosition).line,endLine=sourceFile.getLineAndCharacterOfPosition(originalRange.end).line;trimTrailingWhitespacesForLines(startLine,endLine+1,previousRange)}function newTextChange(start,len,newText){return{span:ts.createTextSpan(start,len),newText:newText}}function recordDelete(start,len){len&&edits.push(newTextChange(start,len,""))}function recordReplace(start,len,newText){(len||newText)&&edits.push(newTextChange(start,len,newText))}function applyRuleEdits(rule,previousRange,previousStartLine,currentRange,currentStartLine){switch(rule.Operation.Action){case 1:return;case 8:previousRange.end!==currentRange.pos&&recordDelete(previousRange.end,currentRange.pos-previousRange.end);break;case 4:if(1!==rule.Flag&&previousStartLine!==currentStartLine)return;var lineDelta=currentStartLine-previousStartLine;1!==lineDelta&&recordReplace(previousRange.end,currentRange.pos-previousRange.end,options.newLineCharacter);break;case 2:if(1!==rule.Flag&&previousStartLine!==currentStartLine)return;var posDelta=currentRange.pos-previousRange.end;(1!==posDelta||32!==sourceFile.text.charCodeAt(previousRange.end))&&recordReplace(previousRange.end,currentRange.pos-previousRange.end," ")}}var previousRangeHasError,previousRange,previousParent,previousRangeStartLine,lastIndentedLine,indentationOnLastIndentedLine,rangeContainsError=prepareRangeContainsErrorFunction(sourceFile.parseDiagnostics,originalRange),formattingContext=new formatting.FormattingContext(sourceFile,requestKind),enclosingNode=findEnclosingNode(originalRange,sourceFile),formattingScanner=formatting.getFormattingScanner(sourceFile,getScanStartPosition(enclosingNode,originalRange,sourceFile),originalRange.end),initialIndentation=formatting.SmartIndenter.getIndentationForNode(enclosingNode,originalRange,sourceFile,options),edits=[];if(formattingScanner.advance(),formattingScanner.isOnToken()){var startLine=sourceFile.getLineAndCharacterOfPosition(enclosingNode.getStart(sourceFile)).line,undecoratedStartLine=startLine;enclosingNode.decorators&&(undecoratedStartLine=sourceFile.getLineAndCharacterOfPosition(ts.getNonDecoratorTokenPosOfNode(enclosingNode,sourceFile)).line);var delta=getOwnOrInheritedDelta(enclosingNode,options,sourceFile);processNode(enclosingNode,enclosingNode,startLine,undecoratedStartLine,initialIndentation,delta)}if(!formattingScanner.isOnToken()){var leadingTrivia=formattingScanner.getCurrentLeadingTrivia();leadingTrivia&&(processTrivia(leadingTrivia,enclosingNode,enclosingNode,void 0),trimTrailingWhitespacesForRemainingRange())}return formattingScanner.close(),edits}function getOpenTokenForList(node,list){switch(node.kind){case 148:case 220:case 179:case 147:case 146:case 180:if(node.typeParameters===list)return 25;if(node.parameters===list)return 17;break;case 174:case 175:if(node.typeArguments===list)return 25;if(node.arguments===list)return 17;break;case 155:if(node.typeArguments===list)return 25}return 0}function getCloseTokenForOpenToken(kind){switch(kind){case 17:return 18;case 25:return 27}return 0}function getIndentationString(indentation,options){function repeat(value,count){for(var s="",i=0;count>i;i++)s+=value;return s}var resetInternedStrings=!internedSizes||internedSizes.tabSize!==options.tabSize||internedSizes.indentSize!==options.indentSize;if(resetInternedStrings&&(internedSizes={tabSize:options.tabSize,indentSize:options.indentSize},internedTabsIndentation=internedSpacesIndentation=void 0),options.convertTabsToSpaces){var spacesString=void 0,quotient=Math.floor(indentation/options.indentSize),remainder=indentation%options.indentSize;return internedSpacesIndentation||(internedSpacesIndentation=[]),void 0===internedSpacesIndentation[quotient]?(spacesString=repeat(" ",options.indentSize*quotient),internedSpacesIndentation[quotient]=spacesString):spacesString=internedSpacesIndentation[quotient],remainder?spacesString+repeat(" ",remainder):spacesString}var tabs=Math.floor(indentation/options.tabSize),spaces=indentation-tabs*options.tabSize,tabString=void 0;return internedTabsIndentation||(internedTabsIndentation=[]),void 0===internedTabsIndentation[tabs]?internedTabsIndentation[tabs]=tabString=repeat("	",tabs):tabString=internedTabsIndentation[tabs],spaces?tabString+repeat(" ",spaces):tabString}var Constants;!function(Constants){Constants[Constants.Unknown=-1]="Unknown"}(Constants||(Constants={})),formatting.formatOnEnter=formatOnEnter,formatting.formatOnSemicolon=formatOnSemicolon,formatting.formatOnClosingCurly=formatOnClosingCurly,formatting.formatDocument=formatDocument,formatting.formatSelection=formatSelection;var internedSizes,internedTabsIndentation,internedSpacesIndentation;formatting.getIndentationString=getIndentationString}(formatting=ts.formatting||(ts.formatting={}))}(ts||(ts={}));var ts;!function(ts){var formatting;!function(formatting){var SmartIndenter;!function(SmartIndenter){function getIndentation(position,sourceFile,options){if(position>sourceFile.text.length)return getBaseIndentation(options);if(options.indentStyle===ts.IndentStyle.None)return 0;var precedingToken=ts.findPrecedingToken(position,sourceFile);if(!precedingToken)return getBaseIndentation(options);var precedingTokenIsLiteral=ts.isStringOrRegularExpressionOrTemplateLiteral(precedingToken.kind);if(precedingTokenIsLiteral&&precedingToken.getStart(sourceFile)<=position&&precedingToken.end>position)return 0;var lineAtPosition=sourceFile.getLineAndCharacterOfPosition(position).line;if(options.indentStyle===ts.IndentStyle.Block){for(var current_1=position;current_1>0;){var char=sourceFile.text.charCodeAt(current_1);if(!ts.isWhiteSpace(char))break;current_1--}var lineStart=ts.getLineStartPositionForPosition(current_1,sourceFile);return SmartIndenter.findFirstNonWhitespaceColumn(lineStart,current_1,sourceFile,options)}if(24===precedingToken.kind&&187!==precedingToken.parent.kind){var actualIndentation=getActualIndentationForListItemBeforeComma(precedingToken,sourceFile,options);if(-1!==actualIndentation)return actualIndentation}for(var previous,currentStart,indentationDelta,current=precedingToken;current;){if(ts.positionBelongsToNode(current,position,sourceFile)&&shouldIndentChildNode(current,previous)){currentStart=getStartLineAndCharacterForNode(current,sourceFile),indentationDelta=nextTokenIsCurlyBraceOnSameLineAsCursor(precedingToken,current,lineAtPosition,sourceFile)?0:lineAtPosition!==currentStart.line?options.indentSize:0;break}var actualIndentation=getActualIndentationForListItem(current,sourceFile,options);if(-1!==actualIndentation)return actualIndentation;if(actualIndentation=getLineIndentationWhenExpressionIsInMultiLine(current,sourceFile,options),-1!==actualIndentation)return actualIndentation+options.indentSize;previous=current,current=current.parent}return current?getIndentationForNodeWorker(current,currentStart,void 0,indentationDelta,sourceFile,options):getBaseIndentation(options)}function getIndentationForNode(n,ignoreActualIndentationRange,sourceFile,options){var start=sourceFile.getLineAndCharacterOfPosition(n.getStart(sourceFile));return getIndentationForNodeWorker(n,start,ignoreActualIndentationRange,0,sourceFile,options)}function getBaseIndentation(options){return options.baseIndentSize||0}function getIndentationForNodeWorker(current,currentStart,ignoreActualIndentationRange,indentationDelta,sourceFile,options){for(var parentStart,parent=current.parent;parent;){var useActualIndentation=!0;if(ignoreActualIndentationRange){var start=current.getStart(sourceFile);useActualIndentation=start<ignoreActualIndentationRange.pos||start>ignoreActualIndentationRange.end}if(useActualIndentation){var actualIndentation=getActualIndentationForListItem(current,sourceFile,options);if(-1!==actualIndentation)return actualIndentation+indentationDelta}parentStart=getParentStart(parent,current,sourceFile);var parentAndChildShareLine=parentStart.line===currentStart.line||childStartsOnTheSameLineWithElseInIfStatement(parent,current,currentStart.line,sourceFile);if(useActualIndentation){var actualIndentation=getActualIndentationForNode(current,parent,currentStart,parentAndChildShareLine,sourceFile,options);if(-1!==actualIndentation)return actualIndentation+indentationDelta;if(actualIndentation=getLineIndentationWhenExpressionIsInMultiLine(current,sourceFile,options),-1!==actualIndentation)return actualIndentation+indentationDelta}shouldIndentChildNode(parent,current)&&!parentAndChildShareLine&&(indentationDelta+=options.indentSize),current=parent,currentStart=parentStart,parent=current.parent}return indentationDelta+getBaseIndentation(options)}function getParentStart(parent,child,sourceFile){var containingList=getContainingList(child,sourceFile);return containingList?sourceFile.getLineAndCharacterOfPosition(containingList.pos):sourceFile.getLineAndCharacterOfPosition(parent.getStart(sourceFile))}function getActualIndentationForListItemBeforeComma(commaToken,sourceFile,options){var commaItemInfo=ts.findListItemInfo(commaToken);return commaItemInfo&&commaItemInfo.listItemIndex>0?deriveActualIndentationFromList(commaItemInfo.list.getChildren(),commaItemInfo.listItemIndex-1,sourceFile,options):-1}function getActualIndentationForNode(current,parent,currentLineAndChar,parentAndChildShareLine,sourceFile,options){var useActualIndentation=(ts.isDeclaration(current)||ts.isStatement(current))&&(256===parent.kind||!parentAndChildShareLine);return useActualIndentation?findColumnForFirstNonWhitespaceCharacterInLine(currentLineAndChar,sourceFile,options):-1}function nextTokenIsCurlyBraceOnSameLineAsCursor(precedingToken,current,lineAtPosition,sourceFile){var nextToken=ts.findNextToken(precedingToken,current);if(!nextToken)return!1;if(15===nextToken.kind)return!0;if(16===nextToken.kind){var nextTokenStartLine=getStartLineAndCharacterForNode(nextToken,sourceFile).line;return lineAtPosition===nextTokenStartLine}return!1}function getStartLineAndCharacterForNode(n,sourceFile){return sourceFile.getLineAndCharacterOfPosition(n.getStart(sourceFile))}function childStartsOnTheSameLineWithElseInIfStatement(parent,child,childStartLine,sourceFile){if(203===parent.kind&&parent.elseStatement===child){var elseKeyword=ts.findChildOfKind(parent,80,sourceFile);ts.Debug.assert(void 0!==elseKeyword);var elseKeywordStartLine=getStartLineAndCharacterForNode(elseKeyword,sourceFile).line;return elseKeywordStartLine===childStartLine}return!1}function getContainingList(node,sourceFile){if(node.parent)switch(node.parent.kind){case 155:if(node.parent.typeArguments&&ts.rangeContainsStartEnd(node.parent.typeArguments,node.getStart(sourceFile),node.getEnd()))return node.parent.typeArguments;break;case 171:return node.parent.properties;case 170:return node.parent.elements;case 220:case 179:case 180:case 147:case 146:case 151:case 152:var start=node.getStart(sourceFile);if(node.parent.typeParameters&&ts.rangeContainsStartEnd(node.parent.typeParameters,start,node.getEnd()))return node.parent.typeParameters;if(ts.rangeContainsStartEnd(node.parent.parameters,start,node.getEnd()))return node.parent.parameters;break;case 175:case 174:var start=node.getStart(sourceFile);if(node.parent.typeArguments&&ts.rangeContainsStartEnd(node.parent.typeArguments,start,node.getEnd()))return node.parent.typeArguments;if(node.parent.arguments&&ts.rangeContainsStartEnd(node.parent.arguments,start,node.getEnd()))return node.parent.arguments}return void 0}function getActualIndentationForListItem(node,sourceFile,options){function getActualIndentationFromList(list){var index=ts.indexOf(list,node);return-1!==index?deriveActualIndentationFromList(list,index,sourceFile,options):-1}var containingList=getContainingList(node,sourceFile);return containingList?getActualIndentationFromList(containingList):-1}function getLineIndentationWhenExpressionIsInMultiLine(node,sourceFile,options){function getStartingExpression(node){for(;;)switch(node.kind){case 174:case 175:case 172:case 173:node=node.expression;break;default:return node}}if(18===node.kind)return-1;if(node.parent&&(174===node.parent.kind||175===node.parent.kind)&&node.parent.expression!==node){var fullCallOrNewExpression=node.parent.expression,startingExpression=getStartingExpression(fullCallOrNewExpression);if(fullCallOrNewExpression===startingExpression)return-1;var fullCallOrNewExpressionEnd=sourceFile.getLineAndCharacterOfPosition(fullCallOrNewExpression.end),startingExpressionEnd=sourceFile.getLineAndCharacterOfPosition(startingExpression.end);return fullCallOrNewExpressionEnd.line===startingExpressionEnd.line?-1:findColumnForFirstNonWhitespaceCharacterInLine(fullCallOrNewExpressionEnd,sourceFile,options)}return-1}function deriveActualIndentationFromList(list,index,sourceFile,options){ts.Debug.assert(index>=0&&index<list.length);for(var node=list[index],lineAndCharacter=getStartLineAndCharacterForNode(node,sourceFile),i=index-1;i>=0;i--)if(24!==list[i].kind){var prevEndLine=sourceFile.getLineAndCharacterOfPosition(list[i].end).line;if(prevEndLine!==lineAndCharacter.line)return findColumnForFirstNonWhitespaceCharacterInLine(lineAndCharacter,sourceFile,options);lineAndCharacter=getStartLineAndCharacterForNode(list[i],sourceFile)}return-1}function findColumnForFirstNonWhitespaceCharacterInLine(lineAndCharacter,sourceFile,options){var lineStart=sourceFile.getPositionOfLineAndCharacter(lineAndCharacter.line,0);return findFirstNonWhitespaceColumn(lineStart,lineStart+lineAndCharacter.character,sourceFile,options)}function findFirstNonWhitespaceCharacterAndColumn(startPos,endPos,sourceFile,options){for(var character=0,column=0,pos=startPos;endPos>pos;pos++){var ch=sourceFile.text.charCodeAt(pos);if(!ts.isWhiteSpaceSingleLine(ch))break;9===ch?column+=options.tabSize+column%options.tabSize:column++,character++}return{column:column,character:character}}function findFirstNonWhitespaceColumn(startPos,endPos,sourceFile,options){return findFirstNonWhitespaceCharacterAndColumn(startPos,endPos,sourceFile,options).column}function nodeContentIsAlwaysIndented(kind){switch(kind){case 202:case 221:case 192:case 222:case 224:case 223:case 170:case 199:case 226:case 171:case 159:case 161:case 227:case 250:case 249:case 178:case 172:case 174:case 175:case 200:case 218:case 235:case 211:case 188:case 168:case 167:case 243:case 242:case 248:case 146:case 151:case 152:case 142:case 156:case 157:case 164:case 176:case 184:case 237:case 233:case 238:case 234:return!0}return!1}function nodeWillIndentChild(parent,child,indentByDefault){var childKind=child?child.kind:0;switch(parent.kind){case 204:case 205:case 207:case 208:case 206:case 203:case 220:case 179:case 147:case 180:case 148:case 149:case 150:return 199!==childKind;case 236:return 237!==childKind;case 230:return 231!==childKind||child.namedBindings&&233!==child.namedBindings.kind;case 241:return 245!==childKind}return indentByDefault}function shouldIndentChildNode(parent,child){return nodeContentIsAlwaysIndented(parent.kind)||nodeWillIndentChild(parent,child,!1)}var Value;!function(Value){Value[Value.Unknown=-1]="Unknown"}(Value||(Value={})),SmartIndenter.getIndentation=getIndentation,SmartIndenter.getIndentationForNode=getIndentationForNode,SmartIndenter.getBaseIndentation=getBaseIndentation,SmartIndenter.childStartsOnTheSameLineWithElseInIfStatement=childStartsOnTheSameLineWithElseInIfStatement,SmartIndenter.findFirstNonWhitespaceCharacterAndColumn=findFirstNonWhitespaceCharacterAndColumn,SmartIndenter.findFirstNonWhitespaceColumn=findFirstNonWhitespaceColumn,SmartIndenter.nodeWillIndentChild=nodeWillIndentChild,SmartIndenter.shouldIndentChildNode=shouldIndentChildNode}(SmartIndenter=formatting.SmartIndenter||(formatting.SmartIndenter={}))}(formatting=ts.formatting||(ts.formatting={}))}(ts||(ts={}));var ts;!function(ts){function realizeDiagnostics(diagnostics,newLine){return diagnostics.map(function(d){return realizeDiagnostic(d,newLine)})}function realizeDiagnostic(diagnostic,newLine){return{message:ts.flattenDiagnosticMessageText(diagnostic.messageText,newLine),start:diagnostic.start,length:diagnostic.length,category:ts.DiagnosticCategory[diagnostic.category].toLowerCase(),code:diagnostic.code}}function createNode(kind,pos,end,parent){var node=kind>=139?new NodeObject(kind,pos,end):69===kind?new IdentifierObject(kind,pos,end):new TokenObject(kind,pos,end);return node.parent=parent,node}function getJsDocCommentsFromDeclarations(declarations,name,canUseParsedParamTagComments){function getJsDocCommentsSeparatedByNewLines(){function addCommentParts(commented,sourceFileOfDeclaration,getCommentPart){var ranges=getJsDocCommentTextRange(commented,sourceFileOfDeclaration);ts.forEach(ranges,function(jsDocCommentTextRange){var cleanedComment=getCommentPart(jsDocCommentTextRange.pos,jsDocCommentTextRange.end,sourceFileOfDeclaration);cleanedComment&&ts.addRange(jsDocCommentParts,cleanedComment)})}function getJsDocCommentTextRange(node,sourceFile){return ts.map(ts.getJsDocComments(node,sourceFile),function(jsDocComment){return{pos:jsDocComment.pos+"/*".length,end:jsDocComment.end-"*/".length}})}function consumeWhiteSpacesOnTheLine(pos,end,sourceFile,maxSpacesToRemove){for(void 0!==maxSpacesToRemove&&(end=Math.min(end,pos+maxSpacesToRemove));end>pos;pos++){var ch=sourceFile.text.charCodeAt(pos);if(!ts.isWhiteSpaceSingleLine(ch))return pos}return end}function consumeLineBreaks(pos,end,sourceFile){for(;end>pos&&ts.isLineBreak(sourceFile.text.charCodeAt(pos));)pos++;return pos}function isName(pos,end,sourceFile,name){return pos+name.length<end&&sourceFile.text.substr(pos,name.length)===name&&ts.isWhiteSpace(sourceFile.text.charCodeAt(pos+name.length))}function isParamTag(pos,end,sourceFile){return isName(pos,end,sourceFile,paramTag)}function pushDocCommentLineText(docComments,text,blankLineCount){for(;blankLineCount;)blankLineCount--,docComments.push(ts.textPart(""));docComments.push(ts.textPart(text))}function getCleanedJsDocComment(pos,end,sourceFile){for(var spacesToRemoveAfterAsterisk,docComments=[],blankLineCount=0,isInParamTag=!1;end>pos;){var docCommentTextOfLine="";if(pos=consumeWhiteSpacesOnTheLine(pos,end,sourceFile),end>pos&&42===sourceFile.text.charCodeAt(pos)){var lineStartPos=pos+1;pos=consumeWhiteSpacesOnTheLine(pos+1,end,sourceFile,spacesToRemoveAfterAsterisk),void 0===spacesToRemoveAfterAsterisk&&end>pos&&!ts.isLineBreak(sourceFile.text.charCodeAt(pos))&&(spacesToRemoveAfterAsterisk=pos-lineStartPos)}else void 0===spacesToRemoveAfterAsterisk&&(spacesToRemoveAfterAsterisk=0);for(;end>pos&&!ts.isLineBreak(sourceFile.text.charCodeAt(pos));){var ch=sourceFile.text.charAt(pos);if("@"===ch){if(isParamTag(pos,end,sourceFile)){isInParamTag=!0,pos+=paramTag.length;continue}isInParamTag=!1}isInParamTag||(docCommentTextOfLine+=ch),pos++}pos=consumeLineBreaks(pos,end,sourceFile),docCommentTextOfLine?(pushDocCommentLineText(docComments,docCommentTextOfLine,blankLineCount),blankLineCount=0):!isInParamTag&&docComments.length&&blankLineCount++}return docComments}function getCleanedParamJsDocComment(pos,end,sourceFile){function consumeWhiteSpaces(pos){for(;end>pos&&ts.isWhiteSpaceSingleLine(sourceFile.text.charCodeAt(pos));)pos++;return pos}function setPosForParamHelpStringOnNextLine(firstLineParamHelpStringPos){if(pos=consumeLineBreaks(pos,end,sourceFile),!(pos>=end)){void 0===paramHelpStringMargin&&(paramHelpStringMargin=sourceFile.getLineAndCharacterOfPosition(firstLineParamHelpStringPos).character);
var startOfLinePos=pos;if(pos=consumeWhiteSpacesOnTheLine(pos,end,sourceFile,paramHelpStringMargin),!(pos>=end)){var consumedSpaces=pos-startOfLinePos;if(paramHelpStringMargin>consumedSpaces){var ch=sourceFile.text.charCodeAt(pos);42===ch&&(pos=consumeWhiteSpacesOnTheLine(pos+1,end,sourceFile,paramHelpStringMargin-consumedSpaces-1))}}}}for(var paramHelpStringMargin,paramDocComments=[];end>pos;){if(isParamTag(pos,end,sourceFile)){var blankLineCount=0,recordedParamTag=!1;if(pos=consumeWhiteSpaces(pos+paramTag.length),pos>=end)break;if(123===sourceFile.text.charCodeAt(pos)){pos++;for(var curlies=1;end>pos;pos++){var charCode=sourceFile.text.charCodeAt(pos);if(123!==charCode){if(125!==charCode){if(64===charCode)break}else if(curlies--,0===curlies){pos++;break}}else curlies++}if(pos=consumeWhiteSpaces(pos),pos>=end)break}if(isName(pos,end,sourceFile,name)){if(pos=consumeWhiteSpaces(pos+name.length),pos>=end)break;for(var paramHelpString="",firstLineParamHelpStringPos=pos;end>pos;){var ch=sourceFile.text.charCodeAt(pos);if(ts.isLineBreak(ch))paramHelpString?(pushDocCommentLineText(paramDocComments,paramHelpString,blankLineCount),paramHelpString="",blankLineCount=0,recordedParamTag=!0):recordedParamTag&&blankLineCount++,setPosForParamHelpStringOnNextLine(firstLineParamHelpStringPos);else{if(64===ch)break;paramHelpString+=sourceFile.text.charAt(pos),pos++}}paramHelpString&&pushDocCommentLineText(paramDocComments,paramHelpString,blankLineCount),paramHelpStringMargin=void 0}if(64===sourceFile.text.charCodeAt(pos))continue}pos++}return paramDocComments}var paramTag="@param",jsDocCommentParts=[];return ts.forEach(declarations,function(declaration,indexOfDeclaration){if(ts.indexOf(declarations,declaration)===indexOfDeclaration){var sourceFileOfDeclaration=ts.getSourceFileOfNode(declaration);if(canUseParsedParamTagComments&&142===declaration.kind&&(179!==declaration.parent.kind&&180!==declaration.parent.kind||218!==declaration.parent.parent.kind||addCommentParts(declaration.parent.parent.parent,sourceFileOfDeclaration,getCleanedParamJsDocComment),addCommentParts(declaration.parent,sourceFileOfDeclaration,getCleanedParamJsDocComment)),225===declaration.kind&&declaration.body&&225===declaration.body.kind)return;for(179!==declaration.kind&&180!==declaration.kind||218!==declaration.parent.kind||addCommentParts(declaration.parent.parent,sourceFileOfDeclaration,getCleanedJsDocComment);225===declaration.kind&&225===declaration.parent.kind;)declaration=declaration.parent;if(addCommentParts(218===declaration.kind?declaration.parent.parent:declaration,sourceFileOfDeclaration,getCleanedJsDocComment),218===declaration.kind){var init=declaration.initializer;!init||179!==init.kind&&180!==init.kind||addCommentParts(init,sourceFileOfDeclaration,getCleanedJsDocComment)}}}),jsDocCommentParts}var documentationComment=[],docComments=getJsDocCommentsSeparatedByNewLines();return ts.forEach(docComments,function(docComment){documentationComment.length&&documentationComment.push(ts.lineBreakPart()),documentationComment.push(docComment)}),documentationComment}function toEditorSettings(optionsAsMap){var allPropertiesAreCamelCased=!0;for(var key in optionsAsMap)if(ts.hasProperty(optionsAsMap,key)&&!isCamelCase(key)){allPropertiesAreCamelCased=!1;break}if(allPropertiesAreCamelCased)return optionsAsMap;var settings={};for(var key in optionsAsMap)if(ts.hasProperty(optionsAsMap,key)){var newKey=isCamelCase(key)?key:key.charAt(0).toLowerCase()+key.substr(1);settings[newKey]=optionsAsMap[key]}return settings}function isCamelCase(s){return!s.length||s.charAt(0)===s.charAt(0).toLowerCase()}function displayPartsToString(displayParts){return displayParts?ts.map(displayParts,function(displayPart){return displayPart.text}).join(""):""}function isLocalVariableOrFunction(symbol){return symbol.parent?!1:ts.forEach(symbol.declarations,function(declaration){if(179===declaration.kind)return!0;if(218!==declaration.kind&&220!==declaration.kind)return!1;for(var parent_17=declaration.parent;!ts.isFunctionBlock(parent_17);parent_17=parent_17.parent)if(256===parent_17.kind||226===parent_17.kind)return!1;return!0})}function getDefaultCompilerOptions(){return{target:1,jsx:1}}function setSourceFileFields(sourceFile,scriptSnapshot,version){sourceFile.version=version,sourceFile.scriptSnapshot=scriptSnapshot}function fixupCompilerOptions(options,diagnostics){commandLineOptionsStringToEnum=commandLineOptionsStringToEnum||ts.filter(ts.optionDeclarations,function(o){return"object"==typeof o.type&&!ts.forEachProperty(o.type,function(v){return"number"!=typeof v})}),options=ts.clone(options);for(var _loop_3=function(opt){if(!ts.hasProperty(options,opt.name))return"continue";var value=options[opt.name];"string"==typeof value?options[opt.name]=ts.parseCustomTypeOption(opt,value,diagnostics):ts.forEachProperty(opt.type,function(v){return v===value})||diagnostics.push(ts.createCompilerDiagnosticForInvalidCustomType(opt))},_i=0,commandLineOptionsStringToEnum_1=commandLineOptionsStringToEnum;_i<commandLineOptionsStringToEnum_1.length;_i++){var opt=commandLineOptionsStringToEnum_1[_i];_loop_3(opt)}return options}function transpileModule(input,transpileOptions){var diagnostics=[],options=transpileOptions.compilerOptions?fixupCompilerOptions(transpileOptions.compilerOptions,diagnostics):getDefaultCompilerOptions();options.isolatedModules=!0,options.suppressOutputPathCheck=!0,options.allowNonTsExtensions=!0,options.noLib=!0,options.lib=void 0,options.types=void 0,options.noEmit=void 0,options.noEmitOnError=void 0,options.paths=void 0,options.rootDirs=void 0,options.declaration=void 0,options.declarationDir=void 0,options.out=void 0,options.outFile=void 0,options.noResolve=!0;var inputFileName=transpileOptions.fileName||(options.jsx?"module.tsx":"module.ts"),sourceFile=ts.createSourceFile(inputFileName,input,options.target);transpileOptions.moduleName&&(sourceFile.moduleName=transpileOptions.moduleName),transpileOptions.renamedDependencies&&(sourceFile.renamedDependencies=ts.createMap(transpileOptions.renamedDependencies));var outputText,sourceMapText,newLine=ts.getNewLineCharacter(options),compilerHost={getSourceFile:function(fileName,target){return fileName===ts.normalizePath(inputFileName)?sourceFile:void 0},writeFile:function(name,text,writeByteOrderMark){ts.fileExtensionIs(name,".map")?(ts.Debug.assert(void 0===sourceMapText,"Unexpected multiple source map outputs for the file '"+name+"'"),sourceMapText=text):(ts.Debug.assert(void 0===outputText,"Unexpected multiple outputs for the file: '"+name+"'"),outputText=text)},getDefaultLibFileName:function(){return"lib.d.ts"},useCaseSensitiveFileNames:function(){return!1},getCanonicalFileName:function(fileName){return fileName},getCurrentDirectory:function(){return""},getNewLine:function(){return newLine},fileExists:function(fileName){return fileName===inputFileName},readFile:function(fileName){return""},directoryExists:function(directoryExists){return!0},getDirectories:function(path){return[]}},program=ts.createProgram([inputFileName],options,compilerHost);return transpileOptions.reportDiagnostics&&(ts.addRange(diagnostics,program.getSyntacticDiagnostics(sourceFile)),ts.addRange(diagnostics,program.getOptionsDiagnostics())),program.emit(),ts.Debug.assert(void 0!==outputText,"Output generation failed"),{outputText:outputText,diagnostics:diagnostics,sourceMapText:sourceMapText}}function transpile(input,compilerOptions,fileName,diagnostics,moduleName){var output=transpileModule(input,{compilerOptions:compilerOptions,fileName:fileName,reportDiagnostics:!!diagnostics,moduleName:moduleName});return ts.addRange(diagnostics,output.diagnostics),output.outputText}function createLanguageServiceSourceFile(fileName,scriptSnapshot,scriptTarget,version,setNodeParents,scriptKind){var text=scriptSnapshot.getText(0,scriptSnapshot.getLength()),sourceFile=ts.createSourceFile(fileName,text,scriptTarget,setNodeParents,scriptKind);return setSourceFileFields(sourceFile,scriptSnapshot,version),sourceFile}function updateLanguageServiceSourceFile(sourceFile,scriptSnapshot,version,textChangeRange,aggressiveChecks){if(textChangeRange&&version!==sourceFile.version&&!ts.disableIncrementalParsing){var newText=void 0,prefix=0!==textChangeRange.span.start?sourceFile.text.substr(0,textChangeRange.span.start):"",suffix=ts.textSpanEnd(textChangeRange.span)!==sourceFile.text.length?sourceFile.text.substr(ts.textSpanEnd(textChangeRange.span)):"";if(0===textChangeRange.newLength)newText=prefix&&suffix?prefix+suffix:prefix||suffix;else{var changedText=scriptSnapshot.getText(textChangeRange.span.start,textChangeRange.span.start+textChangeRange.newLength);newText=prefix&&suffix?prefix+changedText+suffix:prefix?prefix+changedText:changedText+suffix}var newSourceFile=ts.updateSourceFile(sourceFile,newText,textChangeRange,aggressiveChecks);return setSourceFileFields(newSourceFile,scriptSnapshot,version),newSourceFile.nameTable=void 0,sourceFile!==newSourceFile&&sourceFile.scriptSnapshot&&(sourceFile.scriptSnapshot.dispose&&sourceFile.scriptSnapshot.dispose(),sourceFile.scriptSnapshot=void 0),newSourceFile}return createLanguageServiceSourceFile(sourceFile.fileName,scriptSnapshot,sourceFile.languageVersion,version,!0,sourceFile.scriptKind)}function createDocumentRegistry(useCaseSensitiveFileNames,currentDirectory){function getKeyForCompilationSettings(settings){return"_"+settings.target+"|"+settings.module+"|"+settings.noResolve+"|"+settings.jsx+"|"+settings.allowJs+"|"+settings.baseUrl+"|"+JSON.stringify(settings.typeRoots)+"|"+JSON.stringify(settings.rootDirs)+"|"+JSON.stringify(settings.paths)}function getBucketForCompilationSettings(key,createIfMissing){var bucket=buckets[key];return!bucket&&createIfMissing&&(buckets[key]=bucket=ts.createFileMap()),bucket}function reportStats(){var bucketInfoArray=Object.keys(buckets).filter(function(name){return name&&"_"===name.charAt(0)}).map(function(name){var entries=buckets[name],sourceFiles=[];return entries.forEachValue(function(key,entry){sourceFiles.push({name:key,refCount:entry.languageServiceRefCount,references:entry.owners.slice(0)})}),sourceFiles.sort(function(x,y){return y.refCount-x.refCount}),{bucket:name,sourceFiles:sourceFiles}});return JSON.stringify(bucketInfoArray,void 0,2)}function acquireDocument(fileName,compilationSettings,scriptSnapshot,version,scriptKind){var path=ts.toPath(fileName,currentDirectory,getCanonicalFileName),key=getKeyForCompilationSettings(compilationSettings);return acquireDocumentWithKey(fileName,path,compilationSettings,key,scriptSnapshot,version,scriptKind)}function acquireDocumentWithKey(fileName,path,compilationSettings,key,scriptSnapshot,version,scriptKind){return acquireOrUpdateDocument(fileName,path,compilationSettings,key,scriptSnapshot,version,!0,scriptKind)}function updateDocument(fileName,compilationSettings,scriptSnapshot,version,scriptKind){var path=ts.toPath(fileName,currentDirectory,getCanonicalFileName),key=getKeyForCompilationSettings(compilationSettings);return updateDocumentWithKey(fileName,path,compilationSettings,key,scriptSnapshot,version,scriptKind)}function updateDocumentWithKey(fileName,path,compilationSettings,key,scriptSnapshot,version,scriptKind){return acquireOrUpdateDocument(fileName,path,compilationSettings,key,scriptSnapshot,version,!1,scriptKind)}function acquireOrUpdateDocument(fileName,path,compilationSettings,key,scriptSnapshot,version,acquiring,scriptKind){var bucket=getBucketForCompilationSettings(key,!0),entry=bucket.get(path);if(entry)entry.sourceFile.version!==version&&(entry.sourceFile=updateLanguageServiceSourceFile(entry.sourceFile,scriptSnapshot,version,scriptSnapshot.getChangeRange(entry.sourceFile.scriptSnapshot)));else{ts.Debug.assert(acquiring,"How could we be trying to update a document that the registry doesn't have?");var sourceFile=createLanguageServiceSourceFile(fileName,scriptSnapshot,compilationSettings.target,version,!1,scriptKind);entry={sourceFile:sourceFile,languageServiceRefCount:0,owners:[]},bucket.set(path,entry)}return acquiring&&entry.languageServiceRefCount++,entry.sourceFile}function releaseDocument(fileName,compilationSettings){var path=ts.toPath(fileName,currentDirectory,getCanonicalFileName),key=getKeyForCompilationSettings(compilationSettings);return releaseDocumentWithKey(path,key)}function releaseDocumentWithKey(path,key){var bucket=getBucketForCompilationSettings(key,!1);ts.Debug.assert(void 0!==bucket);var entry=bucket.get(path);entry.languageServiceRefCount--,ts.Debug.assert(entry.languageServiceRefCount>=0),0===entry.languageServiceRefCount&&bucket.remove(path)}void 0===currentDirectory&&(currentDirectory="");var buckets=ts.createMap(),getCanonicalFileName=ts.createGetCanonicalFileName(!!useCaseSensitiveFileNames);return{acquireDocument:acquireDocument,acquireDocumentWithKey:acquireDocumentWithKey,updateDocument:updateDocument,updateDocumentWithKey:updateDocumentWithKey,releaseDocument:releaseDocument,releaseDocumentWithKey:releaseDocumentWithKey,reportStats:reportStats,getKeyForCompilationSettings:getKeyForCompilationSettings}}function preProcessFile(sourceText,readImportFiles,detectJavaScriptImports){function nextToken(){var token=scanner.scan();return 15===token?braceNesting++:16===token&&braceNesting--,token}function processTripleSlashDirectives(){var commentRanges=ts.getLeadingCommentRanges(sourceText,0);ts.forEach(commentRanges,function(commentRange){var comment=sourceText.substring(commentRange.pos,commentRange.end),referencePathMatchResult=ts.getFileReferenceFromReferencePath(comment,commentRange);if(referencePathMatchResult){isNoDefaultLib=referencePathMatchResult.isNoDefaultLib;var fileReference=referencePathMatchResult.fileReference;if(fileReference){var collection=referencePathMatchResult.isTypeReferenceDirective?typeReferenceDirectives:referencedFiles;collection.push(fileReference)}}})}function getFileReference(){var file=scanner.getTokenValue(),pos=scanner.getTokenPos();return{fileName:file,pos:pos,end:pos+file.length}}function recordAmbientExternalModule(){ambientExternalModules||(ambientExternalModules=[]),ambientExternalModules.push({ref:getFileReference(),depth:braceNesting})}function recordModuleName(){importedFiles.push(getFileReference()),markAsExternalModuleIfTopLevel()}function markAsExternalModuleIfTopLevel(){0===braceNesting&&(externalModule=!0)}function tryConsumeDeclare(){var token=scanner.getToken();return 122===token?(token=nextToken(),125===token&&(token=nextToken(),9===token&&recordAmbientExternalModule()),!0):!1}function tryConsumeImport(){var token=scanner.getToken();if(89===token){if(token=nextToken(),9===token)return recordModuleName(),!0;if(69===token||ts.isKeyword(token))if(token=nextToken(),136===token){if(token=nextToken(),9===token)return recordModuleName(),!0}else if(56===token){if(tryConsumeRequireCall(!0))return!0}else{if(24!==token)return!0;token=nextToken()}if(15===token){for(token=nextToken();16!==token&&1!==token;)token=nextToken();16===token&&(token=nextToken(),136===token&&(token=nextToken(),9===token&&recordModuleName()))}else 37===token&&(token=nextToken(),116===token&&(token=nextToken(),(69===token||ts.isKeyword(token))&&(token=nextToken(),136===token&&(token=nextToken(),9===token&&recordModuleName()))));return!0}return!1}function tryConsumeExport(){var token=scanner.getToken();if(82===token){if(markAsExternalModuleIfTopLevel(),token=nextToken(),15===token){for(token=nextToken();16!==token&&1!==token;)token=nextToken();16===token&&(token=nextToken(),136===token&&(token=nextToken(),9===token&&recordModuleName()))}else if(37===token)token=nextToken(),136===token&&(token=nextToken(),9===token&&recordModuleName());else if(89===token&&(token=nextToken(),(69===token||ts.isKeyword(token))&&(token=nextToken(),56===token&&tryConsumeRequireCall(!0))))return!0;return!0}return!1}function tryConsumeRequireCall(skipCurrentToken){var token=skipCurrentToken?nextToken():scanner.getToken();return 129===token?(token=nextToken(),17===token&&(token=nextToken(),9===token&&recordModuleName()),!0):!1}function tryConsumeDefine(){var token=scanner.getToken();if(69===token&&"define"===scanner.getTokenValue()){if(token=nextToken(),17!==token)return!0;if(token=nextToken(),9===token){if(token=nextToken(),24!==token)return!0;token=nextToken()}if(19!==token)return!0;token=nextToken();for(var i=0;20!==token&&1!==token;)9===token&&(recordModuleName(),i++),token=nextToken();return!0}return!1}function processImports(){for(scanner.setText(sourceText),nextToken();;){if(1===scanner.getToken())break;tryConsumeDeclare()||tryConsumeImport()||tryConsumeExport()||detectJavaScriptImports&&(tryConsumeRequireCall(!1)||tryConsumeDefine())||nextToken()}scanner.setText(void 0)}void 0===readImportFiles&&(readImportFiles=!0),void 0===detectJavaScriptImports&&(detectJavaScriptImports=!1);var ambientExternalModules,referencedFiles=[],typeReferenceDirectives=[],importedFiles=[],isNoDefaultLib=!1,braceNesting=0,externalModule=!1;if(readImportFiles&&processImports(),processTripleSlashDirectives(),externalModule){if(ambientExternalModules)for(var _i=0,ambientExternalModules_1=ambientExternalModules;_i<ambientExternalModules_1.length;_i++){var decl=ambientExternalModules_1[_i];importedFiles.push(decl.ref)}return{referencedFiles:referencedFiles,typeReferenceDirectives:typeReferenceDirectives,importedFiles:importedFiles,isLibFile:isNoDefaultLib,ambientExternalModules:void 0}}var ambientModuleNames=void 0;if(ambientExternalModules)for(var _a=0,ambientExternalModules_2=ambientExternalModules;_a<ambientExternalModules_2.length;_a++){var decl=ambientExternalModules_2[_a];0===decl.depth?(ambientModuleNames||(ambientModuleNames=[]),ambientModuleNames.push(decl.ref.fileName)):importedFiles.push(decl.ref)}return{referencedFiles:referencedFiles,typeReferenceDirectives:typeReferenceDirectives,importedFiles:importedFiles,isLibFile:isNoDefaultLib,ambientExternalModules:ambientModuleNames}}function getTargetLabel(referenceNode,labelName){for(;referenceNode;){if(214===referenceNode.kind&&referenceNode.label.text===labelName)return referenceNode.label;referenceNode=referenceNode.parent}return void 0}function isJumpStatementTarget(node){return 69===node.kind&&(210===node.parent.kind||209===node.parent.kind)&&node.parent.label===node}function isLabelOfLabeledStatement(node){return 69===node.kind&&214===node.parent.kind&&node.parent.label===node}function isLabeledBy(node,labelName){for(var owner=node.parent;214===owner.kind;owner=owner.parent)if(owner.label.text===labelName)return!0;return!1}function isLabelName(node){return isLabelOfLabeledStatement(node)||isJumpStatementTarget(node)}function isRightSideOfQualifiedName(node){return 139===node.parent.kind&&node.parent.right===node}function isRightSideOfPropertyAccess(node){return node&&node.parent&&172===node.parent.kind&&node.parent.name===node}function isCallExpressionTarget(node){return isRightSideOfPropertyAccess(node)&&(node=node.parent),node&&node.parent&&174===node.parent.kind&&node.parent.expression===node}function isNewExpressionTarget(node){return isRightSideOfPropertyAccess(node)&&(node=node.parent),node&&node.parent&&175===node.parent.kind&&node.parent.expression===node}function isNameOfModuleDeclaration(node){return 225===node.parent.kind&&node.parent.name===node}function isNameOfFunctionDeclaration(node){return 69===node.kind&&ts.isFunctionLike(node.parent)&&node.parent.name===node}function isObjectLiteralPropertyDeclaration(node){switch(node.kind){case 253:case 254:case 147:case 149:case 150:return!0}return!1}function getContainingObjectLiteralElement(node){switch(node.kind){case 9:case 8:if(140===node.parent.kind)return isObjectLiteralPropertyDeclaration(node.parent.parent)?node.parent.parent:void 0;case 69:return isObjectLiteralPropertyDeclaration(node.parent)&&node.parent.name===node?node.parent:void 0}return void 0}function isLiteralNameOfPropertyDeclarationOrIndexAccess(node){if(9===node.kind||8===node.kind)switch(node.parent.kind){case 145:case 144:case 253:case 255:case 147:case 146:case 149:case 150:case 225:return node.parent.name===node;case 173:return node.parent.argumentExpression===node;case 140:return!0}return!1}function isNameOfExternalModuleImportOrDeclaration(node){return 9===node.kind?isNameOfModuleDeclaration(node)||isExpressionOfExternalModuleImportEqualsDeclaration(node):!1}function isExpressionOfExternalModuleImportEqualsDeclaration(node){return ts.isExternalModuleImportEqualsDeclaration(node.parent.parent)&&ts.getExternalModuleImportEqualsDeclarationExpression(node.parent.parent)===node}function isInsideComment(sourceFile,token,position){function isInsideCommentRange(comments){return ts.forEach(comments,function(comment){if(comment.pos<position&&position<comment.end)return!0;if(position===comment.end){var text=sourceFile.text,width=comment.end-comment.pos;return 2>=width||47===text.charCodeAt(comment.pos+1)?!0:!(47===text.charCodeAt(comment.end-1)&&42===text.charCodeAt(comment.end-2))}return!1})}return position<=token.getStart(sourceFile)&&(isInsideCommentRange(ts.getTrailingCommentRanges(sourceFile.text,token.getFullStart()))||isInsideCommentRange(ts.getLeadingCommentRanges(sourceFile.text,token.getFullStart())))}function getContainerNode(node){for(;;){if(node=node.parent,!node)return void 0;switch(node.kind){case 256:case 147:case 146:case 220:case 179:case 149:case 150:case 221:case 222:case 224:case 225:return node}}}function getNodeKind(node){function getKindOfVariableDeclaration(v){return ts.isConst(v)?ScriptElementKind.constElement:ts.isLet(v)?ScriptElementKind.letElement:ScriptElementKind.variableElement}switch(node.kind){case 256:return ts.isExternalModule(node)?ScriptElementKind.moduleElement:ScriptElementKind.scriptElement;case 225:return ScriptElementKind.moduleElement;case 221:case 192:return ScriptElementKind.classElement;case 222:return ScriptElementKind.interfaceElement;case 223:return ScriptElementKind.typeElement;case 224:return ScriptElementKind.enumElement;case 218:return getKindOfVariableDeclaration(node);case 169:return getKindOfVariableDeclaration(ts.getRootDeclaration(node));case 180:case 220:case 179:return ScriptElementKind.functionElement;case 149:return ScriptElementKind.memberGetAccessorElement;case 150:return ScriptElementKind.memberSetAccessorElement;case 147:case 146:return ScriptElementKind.memberFunctionElement;case 145:case 144:return ScriptElementKind.memberVariableElement;case 153:return ScriptElementKind.indexSignatureElement;case 152:return ScriptElementKind.constructSignatureElement;case 151:return ScriptElementKind.callSignatureElement;case 148:return ScriptElementKind.constructorImplementationElement;case 141:return ScriptElementKind.typeParameterElement;case 255:return ScriptElementKind.enumMemberElement;case 142:return 92&node.flags?ScriptElementKind.memberVariableElement:ScriptElementKind.parameterElement;case 229:case 234:case 231:case 238:case 232:return ScriptElementKind.alias;case 279:return ScriptElementKind.typeElement;default:return ScriptElementKind.unknown}}function createLanguageService(host,documentRegistry){function log(message){host.log&&host.log(message)}function getValidSourceFile(fileName){var sourceFile=program.getSourceFile(fileName);if(!sourceFile)throw new Error("Could not find file: '"+fileName+"'.");return sourceFile}function getRuleProvider(options){return ruleProvider||(ruleProvider=new ts.formatting.RulesProvider),ruleProvider.ensureUpToDate(options),ruleProvider}function synchronizeHostData(){function getOrCreateSourceFile(fileName){return getOrCreateSourceFileByPath(fileName,ts.toPath(fileName,currentDirectory,getCanonicalFileName))}function getOrCreateSourceFileByPath(fileName,path){ts.Debug.assert(void 0!==hostCache);var hostFileInformation=hostCache.getOrCreateEntryByPath(fileName,path);if(!hostFileInformation)return void 0;if(!shouldCreateNewSourceFiles){var oldSourceFile=program&&program.getSourceFileByPath(path);if(oldSourceFile)return ts.Debug.assert(hostFileInformation.scriptKind===oldSourceFile.scriptKind,"Registered script kind ("+oldSourceFile.scriptKind+") should match new script kind ("+hostFileInformation.scriptKind+") for file: "+path),documentRegistry.updateDocumentWithKey(fileName,path,newSettings,documentRegistryBucketKey,hostFileInformation.scriptSnapshot,hostFileInformation.version,hostFileInformation.scriptKind)}return documentRegistry.acquireDocumentWithKey(fileName,path,newSettings,documentRegistryBucketKey,hostFileInformation.scriptSnapshot,hostFileInformation.version,hostFileInformation.scriptKind)}function sourceFileUpToDate(sourceFile){if(!sourceFile)return!1;var path=sourceFile.path||ts.toPath(sourceFile.fileName,currentDirectory,getCanonicalFileName);return sourceFile.version===hostCache.getVersion(path)}function programUpToDate(){if(!program)return!1;var rootFileNames=hostCache.getRootFileNames();if(program.getSourceFiles().length!==rootFileNames.length)return!1;for(var _i=0,rootFileNames_2=rootFileNames;_i<rootFileNames_2.length;_i++){var fileName=rootFileNames_2[_i];if(!sourceFileUpToDate(program.getSourceFile(fileName)))return!1}return ts.compareDataObjects(program.getCompilerOptions(),hostCache.compilationSettings())}if(host.getProjectVersion){var hostProjectVersion=host.getProjectVersion();if(hostProjectVersion){if(lastProjectVersion===hostProjectVersion)return;lastProjectVersion=hostProjectVersion}}var typeRootsVersion=host.getTypeRootsVersion?host.getTypeRootsVersion():0;lastTypesRootVersion!==typeRootsVersion&&(log("TypeRoots version has changed; provide new program"),program=void 0,lastTypesRootVersion=typeRootsVersion);var hostCache=new HostCache(host,getCanonicalFileName);if(!programUpToDate()){var oldSettings=program&&program.getCompilerOptions(),newSettings=hostCache.compilationSettings(),shouldCreateNewSourceFiles=oldSettings&&(oldSettings.target!==newSettings.target||oldSettings.module!==newSettings.module||oldSettings.moduleResolution!==newSettings.moduleResolution||oldSettings.noResolve!==newSettings.noResolve||oldSettings.jsx!==newSettings.jsx||oldSettings.allowJs!==newSettings.allowJs||oldSettings.disableSizeLimit!==oldSettings.disableSizeLimit||oldSettings.baseUrl!==newSettings.baseUrl||!ts.equalOwnProperties(oldSettings.paths,newSettings.paths)),compilerHost={getSourceFile:getOrCreateSourceFile,getSourceFileByPath:getOrCreateSourceFileByPath,getCancellationToken:function(){return cancellationToken},getCanonicalFileName:getCanonicalFileName,useCaseSensitiveFileNames:function(){return useCaseSensitivefileNames},getNewLine:function(){return ts.getNewLineOrDefaultFromHost(host)},getDefaultLibFileName:function(options){return host.getDefaultLibFileName(options)},writeFile:function(fileName,data,writeByteOrderMark){},getCurrentDirectory:function(){return currentDirectory},fileExists:function(fileName){return void 0!==hostCache.getOrCreateEntry(fileName)},readFile:function(fileName){var entry=hostCache.getOrCreateEntry(fileName);return entry&&entry.scriptSnapshot.getText(0,entry.scriptSnapshot.getLength())},directoryExists:function(directoryName){return ts.directoryProbablyExists(directoryName,host)},getDirectories:function(path){return host.getDirectories?host.getDirectories(path):[]}};host.trace&&(compilerHost.trace=function(message){return host.trace(message)}),host.resolveModuleNames&&(compilerHost.resolveModuleNames=function(moduleNames,containingFile){return host.resolveModuleNames(moduleNames,containingFile)}),host.resolveTypeReferenceDirectives&&(compilerHost.resolveTypeReferenceDirectives=function(typeReferenceDirectiveNames,containingFile){return host.resolveTypeReferenceDirectives(typeReferenceDirectiveNames,containingFile)});var documentRegistryBucketKey=documentRegistry.getKeyForCompilationSettings(newSettings),newProgram=ts.createProgram(hostCache.getRootFileNames(),newSettings,compilerHost,program);if(program)for(var oldSourceFiles=program.getSourceFiles(),oldSettingsKey=documentRegistry.getKeyForCompilationSettings(oldSettings),_i=0,oldSourceFiles_1=oldSourceFiles;_i<oldSourceFiles_1.length;_i++){var oldSourceFile=oldSourceFiles_1[_i];(!newProgram.getSourceFile(oldSourceFile.fileName)||shouldCreateNewSourceFiles)&&documentRegistry.releaseDocumentWithKey(oldSourceFile.path,oldSettingsKey)}hostCache=void 0,program=newProgram,program.getTypeChecker()}}function createSyntaxTreeCache(){var currentFileName,currentFileVersion,currentFileScriptSnapshot,currentSourceFile,currentScriptKind,currentCompilerOptions;return{getCurrentSourceFile:function(fileName){var scriptSnapshot=host.getScriptSnapshot(fileName);if(!scriptSnapshot)throw new Error("Could not find file: '"+fileName+"'.");var sourceFile,version=host.getScriptVersion(fileName),scriptKind=ts.getScriptKind(fileName,host),compilerOptions=host.getCompilationSettings();return currentFileName!==fileName||currentCompilerOptions&&!ts.equalOwnProperties(compilerOptions,currentCompilerOptions)?(currentFileName&&documentRegistry.releaseDocument(currentFileName,currentCompilerOptions),sourceFile=documentRegistry.acquireDocument(fileName,compilerOptions,scriptSnapshot,version,scriptKind)):currentFileVersion!==version&&(sourceFile=documentRegistry.updateDocument(fileName,compilerOptions,scriptSnapshot,version,scriptKind)),sourceFile&&(currentFileVersion=version,currentFileName=fileName,currentScriptKind=scriptKind,currentFileScriptSnapshot=scriptSnapshot,currentSourceFile=sourceFile,currentCompilerOptions=compilerOptions),currentSourceFile&&!currentSourceFile.locals&&ts.fixupParentReferences(currentSourceFile),currentSourceFile},dispose:function(){currentFileName&&(documentRegistry.releaseDocument(currentFileName,currentCompilerOptions),currentFileVersion=void 0,currentFileName=void 0,currentScriptKind=void 0,currentFileScriptSnapshot=void 0,currentSourceFile=void 0,currentCompilerOptions=void 0)}}}function getProgram(){return synchronizeHostData(),program}function cleanupSemanticCache(){program.dropDiagnosticsProducingTypeChecker()}function dispose(){if(program)for(var key=documentRegistry.getKeyForCompilationSettings(program.getCompilerOptions()),_i=0,_a=program.getSourceFiles();_i<_a.length;_i++){var file=_a[_i];documentRegistry.releaseDocumentWithKey(file.path,key)}syntaxTreeCache.dispose()}function getSyntacticDiagnostics(fileName){return synchronizeHostData(),program.getSyntacticDiagnostics(getValidSourceFile(fileName),cancellationToken)}function getSemanticDiagnostics(fileName){synchronizeHostData();var targetSourceFile=getValidSourceFile(fileName),semanticDiagnostics=program.getSemanticDiagnostics(targetSourceFile,cancellationToken);if(!program.getCompilerOptions().declaration)return semanticDiagnostics;var declarationDiagnostics=program.getDeclarationDiagnostics(targetSourceFile,cancellationToken);return ts.concatenate(semanticDiagnostics,declarationDiagnostics)}function getCompilerOptionsDiagnostics(){return synchronizeHostData(),program.getOptionsDiagnostics(cancellationToken).concat(program.getGlobalDiagnostics(cancellationToken))}function getCompletionEntryDisplayNameForSymbol(symbol,target,performCharacterChecks,location){var displayName=ts.getDeclaredName(program.getTypeChecker(),symbol,location);if(displayName){var firstCharCode=displayName.charCodeAt(0);if(1920&symbol.flags&&(39===firstCharCode||34===firstCharCode))return void 0}return getCompletionEntryDisplayName(displayName,target,performCharacterChecks)}function getCompletionEntryDisplayName(name,target,performCharacterChecks){return name?(name=ts.stripQuotes(name),name?performCharacterChecks&&!ts.isIdentifier(name,target)?void 0:name:void 0):void 0}function getCompletionData(fileName,position){function getTypeScriptMemberSymbols(){if(isMemberCompletion=!0,isNewIdentifierLocation=!1,69===node.kind||139===node.kind||172===node.kind){var symbol=typeChecker.getSymbolAtLocation(node);if(symbol&&8388608&symbol.flags&&(symbol=typeChecker.getAliasedSymbol(symbol)),symbol&&1952&symbol.flags){var exportedSymbols=typeChecker.getExportsOfModule(symbol);ts.forEach(exportedSymbols,function(symbol){typeChecker.isValidPropertyAccess(node.parent,symbol.name)&&symbols.push(symbol);
})}}var type=typeChecker.getTypeAtLocation(node);addTypeProperties(type)}function addTypeProperties(type){if(type){for(var _i=0,_a=type.getApparentProperties();_i<_a.length;_i++){var symbol=_a[_i];typeChecker.isValidPropertyAccess(node.parent,symbol.name)&&symbols.push(symbol)}if(isJavaScriptFile&&524288&type.flags)for(var unionType=type,_b=0,_c=unionType.types;_b<_c.length;_b++){var elementType=_c[_b];addTypeProperties(elementType)}}}function tryGetGlobalSymbols(){var objectLikeContainer,namedImportsOrExports,jsxContainer;if(objectLikeContainer=tryGetObjectLikeCompletionContainer(contextToken))return tryGetObjectLikeCompletionSymbols(objectLikeContainer);if(namedImportsOrExports=tryGetNamedImportsOrExportsForCompletion(contextToken))return tryGetImportOrExportClauseCompletionSymbols(namedImportsOrExports);if(jsxContainer=tryGetContainingJsxElement(contextToken)){var attrsType=void 0;if((242===jsxContainer.kind||243===jsxContainer.kind)&&(attrsType=typeChecker.getJsxElementAttributesType(jsxContainer)))return symbols=filterJsxAttributes(typeChecker.getPropertiesOfType(attrsType),jsxContainer.attributes),isMemberCompletion=!0,isNewIdentifierLocation=!1,!0}isMemberCompletion=!1,isNewIdentifierLocation=isNewIdentifierDefinitionLocation(contextToken),previousToken!==contextToken&&ts.Debug.assert(!!previousToken,"Expected 'contextToken' to be defined when different from 'previousToken'.");var adjustedPosition=previousToken!==contextToken?previousToken.getStart():position,scopeNode=getScopeNode(contextToken,adjustedPosition,sourceFile)||sourceFile,symbolMeanings=9289727;return symbols=typeChecker.getSymbolsInScope(scopeNode,symbolMeanings),!0}function getScopeNode(initialToken,position,sourceFile){for(var scope=initialToken;scope&&!ts.positionBelongsToNode(scope,position,sourceFile);)scope=scope.parent;return scope}function isCompletionListBlocker(contextToken){var start=ts.timestamp(),result=isInStringOrRegularExpressionOrTemplateLiteral(contextToken)||isSolelyIdentifierDefinitionLocation(contextToken)||isDotOfNumericLiteral(contextToken)||isInJsxText(contextToken);return log("getCompletionsAtPosition: isCompletionListBlocker: "+(ts.timestamp()-start)),result}function isInJsxText(contextToken){if(244===contextToken.kind)return!0;if(27===contextToken.kind&&contextToken.parent){if(243===contextToken.parent.kind)return!0;if(245===contextToken.parent.kind||242===contextToken.parent.kind)return contextToken.parent.parent&&241===contextToken.parent.parent.kind}return!1}function isNewIdentifierDefinitionLocation(previousToken){if(previousToken){var containingNodeKind=previousToken.parent.kind;switch(previousToken.kind){case 24:return 174===containingNodeKind||148===containingNodeKind||175===containingNodeKind||170===containingNodeKind||187===containingNodeKind||156===containingNodeKind;case 17:return 174===containingNodeKind||148===containingNodeKind||175===containingNodeKind||178===containingNodeKind||164===containingNodeKind;case 19:return 170===containingNodeKind||153===containingNodeKind||140===containingNodeKind;case 125:case 126:return!0;case 21:return 225===containingNodeKind;case 15:return 221===containingNodeKind;case 56:return 218===containingNodeKind||187===containingNodeKind;case 12:return 189===containingNodeKind;case 13:return 197===containingNodeKind;case 112:case 110:case 111:return 145===containingNodeKind}switch(previousToken.getText()){case"public":case"protected":case"private":return!0}}return!1}function isInStringOrRegularExpressionOrTemplateLiteral(contextToken){if(9===contextToken.kind||10===contextToken.kind||ts.isTemplateLiteralKind(contextToken.kind)){var start_3=contextToken.getStart(),end=contextToken.getEnd();if(position>start_3&&end>position)return!0;if(position===end)return!!contextToken.isUnterminated||10===contextToken.kind}return!1}function tryGetObjectLikeCompletionSymbols(objectLikeContainer){isMemberCompletion=!0;var typeForObject,existingMembers;if(171===objectLikeContainer.kind)isNewIdentifierLocation=!0,typeForObject=typeChecker.getContextualType(objectLikeContainer),typeForObject=typeForObject&&typeForObject.getNonNullableType(),existingMembers=objectLikeContainer.properties;else if(167===objectLikeContainer.kind){isNewIdentifierLocation=!1;var rootDeclaration=ts.getRootDeclaration(objectLikeContainer.parent);if(ts.isVariableLike(rootDeclaration)){var canGetType=!(!rootDeclaration.initializer&&!rootDeclaration.type);canGetType||142!==rootDeclaration.kind||(ts.isExpression(rootDeclaration.parent)?canGetType=!!typeChecker.getContextualType(rootDeclaration.parent):(147===rootDeclaration.parent.kind||150===rootDeclaration.parent.kind)&&(canGetType=ts.isExpression(rootDeclaration.parent.parent)&&!!typeChecker.getContextualType(rootDeclaration.parent.parent))),canGetType&&(typeForObject=typeChecker.getTypeAtLocation(objectLikeContainer),existingMembers=objectLikeContainer.elements)}else ts.Debug.fail("Root declaration is not variable-like.")}else ts.Debug.fail("Expected object literal or binding pattern, got "+objectLikeContainer.kind);if(!typeForObject)return!1;var typeMembers=typeChecker.getPropertiesOfType(typeForObject);return typeMembers&&typeMembers.length>0&&(symbols=filterObjectMembersList(typeMembers,existingMembers)),!0}function tryGetImportOrExportClauseCompletionSymbols(namedImportsOrExports){var declarationKind=233===namedImportsOrExports.kind?230:236,importOrExportDeclaration=ts.getAncestor(namedImportsOrExports,declarationKind),moduleSpecifier=importOrExportDeclaration.moduleSpecifier;if(!moduleSpecifier)return!1;isMemberCompletion=!0,isNewIdentifierLocation=!1;var exports,moduleSpecifierSymbol=typeChecker.getSymbolAtLocation(importOrExportDeclaration.moduleSpecifier);return moduleSpecifierSymbol&&(exports=typeChecker.getExportsOfModule(moduleSpecifierSymbol)),symbols=exports?filterNamedImportOrExportCompletionItems(exports,namedImportsOrExports.elements):emptyArray,!0}function tryGetObjectLikeCompletionContainer(contextToken){if(contextToken)switch(contextToken.kind){case 15:case 24:var parent_19=contextToken.parent;if(parent_19&&(171===parent_19.kind||167===parent_19.kind))return parent_19}return void 0}function tryGetNamedImportsOrExportsForCompletion(contextToken){if(contextToken)switch(contextToken.kind){case 15:case 24:switch(contextToken.parent.kind){case 233:case 237:return contextToken.parent}}return void 0}function tryGetContainingJsxElement(contextToken){if(contextToken){var parent_20=contextToken.parent;switch(contextToken.kind){case 26:case 39:case 69:case 246:case 247:if(parent_20&&(242===parent_20.kind||243===parent_20.kind))return parent_20;if(246===parent_20.kind)return parent_20.parent;break;case 9:if(parent_20&&(246===parent_20.kind||247===parent_20.kind))return parent_20.parent;break;case 16:if(parent_20&&248===parent_20.kind&&parent_20.parent&&246===parent_20.parent.kind)return parent_20.parent.parent;if(parent_20&&247===parent_20.kind)return parent_20.parent}}return void 0}function isFunction(kind){switch(kind){case 179:case 180:case 220:case 147:case 146:case 149:case 150:case 151:case 152:case 153:return!0}return!1}function isSolelyIdentifierDefinitionLocation(contextToken){var containingNodeKind=contextToken.parent.kind;switch(contextToken.kind){case 24:return 218===containingNodeKind||219===containingNodeKind||200===containingNodeKind||224===containingNodeKind||isFunction(containingNodeKind)||221===containingNodeKind||192===containingNodeKind||222===containingNodeKind||168===containingNodeKind||223===containingNodeKind;case 21:return 168===containingNodeKind;case 54:return 169===containingNodeKind;case 19:return 168===containingNodeKind;case 17:return 252===containingNodeKind||isFunction(containingNodeKind);case 15:return 224===containingNodeKind||222===containingNodeKind||159===containingNodeKind;case 23:return 144===containingNodeKind&&contextToken.parent&&contextToken.parent.parent&&(222===contextToken.parent.parent.kind||159===contextToken.parent.parent.kind);case 25:return 221===containingNodeKind||192===containingNodeKind||222===containingNodeKind||223===containingNodeKind||isFunction(containingNodeKind);case 113:return 145===containingNodeKind;case 22:return 142===containingNodeKind||contextToken.parent&&contextToken.parent.parent&&168===contextToken.parent.parent.kind;case 112:case 110:case 111:return 142===containingNodeKind;case 116:return 234===containingNodeKind||238===containingNodeKind||232===containingNodeKind;case 73:case 81:case 107:case 87:case 102:case 123:case 131:case 89:case 108:case 74:case 114:case 134:return!0}switch(contextToken.getText()){case"abstract":case"async":case"class":case"const":case"declare":case"enum":case"function":case"interface":case"let":case"private":case"protected":case"public":case"static":case"var":case"yield":return!0}return!1}function isDotOfNumericLiteral(contextToken){if(8===contextToken.kind){var text=contextToken.getFullText();return"."===text.charAt(text.length-1)}return!1}function filterNamedImportOrExportCompletionItems(exportsOfModule,namedImportsOrExports){for(var existingImportsOrExports=ts.createMap(),_i=0,namedImportsOrExports_1=namedImportsOrExports;_i<namedImportsOrExports_1.length;_i++){var element=namedImportsOrExports_1[_i];if(!(element.getStart()<=position&&position<=element.getEnd())){var name_41=element.propertyName||element.name;existingImportsOrExports[name_41.text]=!0}}return ts.someProperties(existingImportsOrExports)?ts.filter(exportsOfModule,function(e){return"default"!==e.name&&!existingImportsOrExports[e.name]}):ts.filter(exportsOfModule,function(e){return"default"!==e.name})}function filterObjectMembersList(contextualMemberSymbols,existingMembers){if(!existingMembers||0===existingMembers.length)return contextualMemberSymbols;for(var existingMemberNames=ts.createMap(),_i=0,existingMembers_1=existingMembers;_i<existingMembers_1.length;_i++){var m=existingMembers_1[_i];if(!(253!==m.kind&&254!==m.kind&&169!==m.kind&&147!==m.kind||m.getStart()<=position&&position<=m.getEnd())){var existingName=void 0;169===m.kind&&m.propertyName?69===m.propertyName.kind&&(existingName=m.propertyName.text):existingName=m.name.text,existingMemberNames[existingName]=!0}}return ts.filter(contextualMemberSymbols,function(m){return!existingMemberNames[m.name]})}function filterJsxAttributes(symbols,attributes){for(var seenNames=ts.createMap(),_i=0,attributes_1=attributes;_i<attributes_1.length;_i++){var attr=attributes_1[_i];attr.getStart()<=position&&position<=attr.getEnd()||246===attr.kind&&(seenNames[attr.name.text]=!0)}return ts.filter(symbols,function(a){return!seenNames[a.name]})}var typeChecker=program.getTypeChecker(),sourceFile=getValidSourceFile(fileName),isJavaScriptFile=ts.isSourceFileJavaScript(sourceFile),isJsDocTagName=!1,start=ts.timestamp(),currentToken=ts.getTokenAtPosition(sourceFile,position);log("getCompletionData: Get current token: "+(ts.timestamp()-start)),start=ts.timestamp();var insideComment=isInsideComment(sourceFile,currentToken,position);if(log("getCompletionData: Is inside comment: "+(ts.timestamp()-start)),insideComment){ts.hasDocComment(sourceFile,position)&&64===sourceFile.text.charCodeAt(position-1)&&(isJsDocTagName=!0);var insideJsDocTagExpression=!1,tag=ts.getJsDocTagAtPosition(sourceFile,position);if(tag)switch(tag.tagName.pos<=position&&position<=tag.tagName.end&&(isJsDocTagName=!0),tag.kind){case 277:case 275:case 276:var tagWithExpression=tag;tagWithExpression.typeExpression&&(insideJsDocTagExpression=tagWithExpression.typeExpression.pos<position&&position<tagWithExpression.typeExpression.end)}if(isJsDocTagName)return{symbols:void 0,isMemberCompletion:!1,isNewIdentifierLocation:!1,location:void 0,isRightOfDot:!1,isJsDocTagName:isJsDocTagName};if(!insideJsDocTagExpression)return void log("Returning an empty list because completion was inside a regular comment or plain text part of a JsDoc comment.")}start=ts.timestamp();var previousToken=ts.findPrecedingToken(position,sourceFile);log("getCompletionData: Get previous token 1: "+(ts.timestamp()-start));var contextToken=previousToken;if(contextToken&&position<=contextToken.end&&ts.isWord(contextToken.kind)){var start_2=ts.timestamp();contextToken=ts.findPrecedingToken(contextToken.getFullStart(),sourceFile),log("getCompletionData: Get previous token 2: "+(ts.timestamp()-start_2))}var node=currentToken,isRightOfDot=!1,isRightOfOpenTag=!1,isStartingCloseTag=!1,location=ts.getTouchingPropertyName(sourceFile,position);if(contextToken){if(isCompletionListBlocker(contextToken))return void log("Returning an empty list because completion was requested in an invalid position.");var parent_18=contextToken.parent,kind=contextToken.kind;if(21===kind)if(172===parent_18.kind)node=contextToken.parent.expression,isRightOfDot=!0;else{if(139!==parent_18.kind)return void 0;node=contextToken.parent.left,isRightOfDot=!0}else 1===sourceFile.languageVariant&&(25===kind?(isRightOfOpenTag=!0,location=contextToken):39===kind&&245===contextToken.parent.kind&&(isStartingCloseTag=!0,location=contextToken))}var isMemberCompletion,isNewIdentifierLocation,semanticStart=ts.timestamp(),symbols=[];if(isRightOfDot)getTypeScriptMemberSymbols();else if(isRightOfOpenTag){var tagSymbols=typeChecker.getJsxIntrinsicTagNames();symbols=tryGetGlobalSymbols()?tagSymbols.concat(symbols.filter(function(s){return!!(8496063&s.flags)})):tagSymbols,isMemberCompletion=!0,isNewIdentifierLocation=!1}else if(isStartingCloseTag){var tagName=contextToken.parent.parent.openingElement.tagName,tagSymbol=typeChecker.getSymbolAtLocation(tagName);typeChecker.isUnknownSymbol(tagSymbol)||(symbols=[tagSymbol]),isMemberCompletion=!0,isNewIdentifierLocation=!1}else if(!tryGetGlobalSymbols())return void 0;return log("getCompletionData: Semantic work: "+(ts.timestamp()-semanticStart)),{symbols:symbols,isMemberCompletion:isMemberCompletion,isNewIdentifierLocation:isNewIdentifierLocation,location:location,isRightOfDot:isRightOfDot||isRightOfOpenTag,isJsDocTagName:isJsDocTagName}}function getCompletionsAtPosition(fileName,position){function getJavaScriptCompletionEntries(sourceFile,position,uniqueNames){var entries=[],target=program.getCompilerOptions().target,nameTable=getNameTable(sourceFile);for(var name_42 in nameTable)if(nameTable[name_42]!==position&&!uniqueNames[name_42]){uniqueNames[name_42]=name_42;var displayName=getCompletionEntryDisplayName(ts.unescapeIdentifier(name_42),target,!0);if(displayName){var entry={name:displayName,kind:ScriptElementKind.warning,kindModifiers:"",sortText:"1"};entries.push(entry)}}return entries}function getAllJsDocCompletionEntries(){return jsDocCompletionEntries||(jsDocCompletionEntries=ts.map(jsDocTagNames,function(tagName){return{name:tagName,kind:ScriptElementKind.keyword,kindModifiers:"",sortText:"0"}}))}function createCompletionEntry(symbol,location,performCharacterChecks){var displayName=getCompletionEntryDisplayNameForSymbol(symbol,program.getCompilerOptions().target,performCharacterChecks,location);return displayName?{name:displayName,kind:getSymbolKind(symbol,location),kindModifiers:getSymbolModifiers(symbol),sortText:"0"}:void 0}function getCompletionEntriesFromSymbols(symbols,entries,location,performCharacterChecks){var start=ts.timestamp(),uniqueNames=ts.createMap();if(symbols)for(var _i=0,symbols_4=symbols;_i<symbols_4.length;_i++){var symbol=symbols_4[_i],entry=createCompletionEntry(symbol,location,performCharacterChecks);if(entry){var id=ts.escapeIdentifier(entry.name);uniqueNames[id]||(entries.push(entry),uniqueNames[id]=id)}}return log("getCompletionsAtPosition: getCompletionEntriesFromSymbols: "+(ts.timestamp()-start)),uniqueNames}function getStringLiteralCompletionEntries(sourceFile,position){var node=ts.findPrecedingToken(position,sourceFile);if(!node||9!==node.kind)return void 0;if(253===node.parent.kind&&171===node.parent.parent.kind&&node.parent.name===node)return getStringLiteralCompletionEntriesFromPropertyAssignment(node.parent);if(ts.isElementAccessExpression(node.parent)&&node.parent.argumentExpression===node)return getStringLiteralCompletionEntriesFromElementAccess(node.parent);if(230===node.parent.kind||isExpressionOfExternalModuleImportEqualsDeclaration(node)||ts.isRequireCall(node.parent,!1))return getStringLiteralCompletionEntriesFromModuleNames(node);var argumentInfo=ts.SignatureHelp.getContainingArgumentInfo(node,position,sourceFile);return argumentInfo?getStringLiteralCompletionEntriesFromCallExpression(argumentInfo,node):getStringLiteralCompletionEntriesFromContextualType(node)}function getStringLiteralCompletionEntriesFromPropertyAssignment(element){var typeChecker=program.getTypeChecker(),type=typeChecker.getContextualType(element.parent),entries=[];return type&&(getCompletionEntriesFromSymbols(type.getApparentProperties(),entries,element,!1),entries.length)?{isMemberCompletion:!0,isNewIdentifierLocation:!0,entries:entries}:void 0}function getStringLiteralCompletionEntriesFromCallExpression(argumentInfo,location){var typeChecker=program.getTypeChecker(),candidates=[],entries=[];typeChecker.getResolvedSignature(argumentInfo.invocation,candidates);for(var _i=0,candidates_3=candidates;_i<candidates_3.length;_i++){var candidate=candidates_3[_i];if(candidate.parameters.length>argumentInfo.argumentIndex){var parameter=candidate.parameters[argumentInfo.argumentIndex];addStringLiteralCompletionsFromType(typeChecker.getTypeAtLocation(parameter.valueDeclaration),entries)}}return entries.length?{isMemberCompletion:!1,isNewIdentifierLocation:!0,entries:entries}:void 0}function getStringLiteralCompletionEntriesFromElementAccess(node){var typeChecker=program.getTypeChecker(),type=typeChecker.getTypeAtLocation(node.expression),entries=[];return type&&(getCompletionEntriesFromSymbols(type.getApparentProperties(),entries,node,!1),entries.length)?{isMemberCompletion:!0,isNewIdentifierLocation:!0,entries:entries}:void 0}function getStringLiteralCompletionEntriesFromContextualType(node){var typeChecker=program.getTypeChecker(),type=typeChecker.getContextualType(node);if(type){var entries_2=[];if(addStringLiteralCompletionsFromType(type,entries_2),entries_2.length)return{isMemberCompletion:!1,isNewIdentifierLocation:!1,entries:entries_2}}return void 0}function addStringLiteralCompletionsFromType(type,result){type&&(524288&type.flags?ts.forEach(type.types,function(t){return addStringLiteralCompletionsFromType(t,result)}):32&type.flags&&result.push({name:type.text,kindModifiers:ScriptElementKindModifier.none,kind:ScriptElementKind.variableElement,sortText:"0"}))}function getStringLiteralCompletionEntriesFromModuleNames(node){var entries,literalValue=ts.normalizeSlashes(node.text),scriptPath=node.getSourceFile().path,scriptDirectory=ts.getDirectoryPath(scriptPath),span=getDirectoryFragmentTextSpan(node.text,node.getStart()+1);if(isPathRelativeToScript(literalValue)||ts.isRootedDiskPath(literalValue)){var compilerOptions=program.getCompilerOptions();entries=compilerOptions.rootDirs?getCompletionEntriesForDirectoryFragmentWithRootDirs(compilerOptions.rootDirs,literalValue,scriptDirectory,ts.getSupportedExtensions(program.getCompilerOptions()),!1,span,scriptPath):getCompletionEntriesForDirectoryFragment(literalValue,scriptDirectory,ts.getSupportedExtensions(program.getCompilerOptions()),!1,span,scriptPath)}else entries=getCompletionEntriesForNonRelativeModules(literalValue,scriptDirectory,span);return{isMemberCompletion:!1,isNewIdentifierLocation:!0,entries:entries}}function getBaseDirectoriesFromRootDirs(rootDirs,basePath,scriptPath,ignoreCase){rootDirs=ts.map(rootDirs,function(rootDirectory){return ts.normalizePath(ts.isRootedDiskPath(rootDirectory)?rootDirectory:ts.combinePaths(basePath,rootDirectory))});for(var relativeDirectory,_i=0,rootDirs_1=rootDirs;_i<rootDirs_1.length;_i++){var rootDirectory=rootDirs_1[_i];if(ts.containsPath(rootDirectory,scriptPath,basePath,ignoreCase)){relativeDirectory=scriptPath.substr(rootDirectory.length);break}}return ts.deduplicate(ts.map(rootDirs,function(rootDirectory){return ts.combinePaths(rootDirectory,relativeDirectory)}))}function getCompletionEntriesForDirectoryFragmentWithRootDirs(rootDirs,fragment,scriptPath,extensions,includeExtensions,span,exclude){for(var basePath=program.getCompilerOptions().project||host.getCurrentDirectory(),ignoreCase=!(host.useCaseSensitiveFileNames&&host.useCaseSensitiveFileNames()),baseDirectories=getBaseDirectoriesFromRootDirs(rootDirs,basePath,scriptPath,ignoreCase),result=[],_i=0,baseDirectories_1=baseDirectories;_i<baseDirectories_1.length;_i++){var baseDirectory=baseDirectories_1[_i];getCompletionEntriesForDirectoryFragment(fragment,baseDirectory,extensions,includeExtensions,span,exclude,result)}return result}function getCompletionEntriesForDirectoryFragment(fragment,scriptPath,extensions,includeExtensions,span,exclude,result){void 0===result&&(result=[]),fragment=ts.getDirectoryPath(fragment),fragment=fragment?ts.ensureTrailingDirectorySeparator(fragment):"./";var absolutePath=normalizeAndPreserveTrailingSlash(ts.isRootedDiskPath(fragment)?fragment:ts.combinePaths(scriptPath,fragment)),baseDirectory=ts.getDirectoryPath(absolutePath),ignoreCase=!(host.useCaseSensitiveFileNames&&host.useCaseSensitiveFileNames());if(tryDirectoryExists(host,baseDirectory)){var files=tryReadDirectory(host,baseDirectory,extensions,void 0,["./*"]);if(files){for(var foundFiles=ts.createMap(),_i=0,files_3=files;_i<files_3.length;_i++){var filePath=files_3[_i];if(filePath=ts.normalizePath(filePath),!exclude||0!==ts.comparePaths(filePath,exclude,scriptPath,ignoreCase)){var foundFileName=includeExtensions?ts.getBaseFileName(filePath):ts.removeFileExtension(ts.getBaseFileName(filePath));foundFiles[foundFileName]||(foundFiles[foundFileName]=!0)}}for(var foundFile in foundFiles)result.push(createCompletionEntryForModule(foundFile,ScriptElementKind.scriptElement,span))}var directories=tryGetDirectories(host,baseDirectory);if(directories)for(var _a=0,directories_2=directories;_a<directories_2.length;_a++){var directory=directories_2[_a],directoryName=ts.getBaseFileName(ts.normalizePath(directory));result.push(createCompletionEntryForModule(directoryName,ScriptElementKind.directory,span))}}return result}function getCompletionEntriesForNonRelativeModules(fragment,scriptPath,span){var result,options=program.getCompilerOptions(),baseUrl=options.baseUrl,paths=options.paths;if(baseUrl){var fileExtensions=ts.getSupportedExtensions(options),projectDir=options.project||host.getCurrentDirectory(),absolute=ts.isRootedDiskPath(baseUrl)?baseUrl:ts.combinePaths(projectDir,baseUrl);if(result=getCompletionEntriesForDirectoryFragment(fragment,ts.normalizePath(absolute),fileExtensions,!1,span),paths)for(var path in paths)if(paths.hasOwnProperty(path))if("*"===path){if(paths[path])for(var _i=0,_a=paths[path];_i<_a.length;_i++)for(var pattern=_a[_i],_b=0,_c=getModulesForPathsPattern(fragment,baseUrl,pattern,fileExtensions);_b<_c.length;_b++){var match=_c[_b];result.push(createCompletionEntryForModule(match,ScriptElementKind.externalModuleName,span))}}else if(ts.startsWith(path,fragment)){var entry=paths[path]&&1===paths[path].length&&paths[path][0];entry&&result.push(createCompletionEntryForModule(path,ScriptElementKind.externalModuleName,span))}}else result=[];getCompletionEntriesFromTypings(host,options,scriptPath,span,result);for(var _d=0,_e=enumeratePotentialNonRelativeModules(fragment,scriptPath,options);_d<_e.length;_d++){var moduleName=_e[_d];result.push(createCompletionEntryForModule(moduleName,ScriptElementKind.externalModuleName,span))}return result}function getModulesForPathsPattern(fragment,baseUrl,pattern,fileExtensions){if(host.readDirectory){var parsed=ts.hasZeroOrOneAsteriskCharacter(pattern)?ts.tryParsePattern(pattern):void 0;if(parsed){var normalizedPrefix=normalizeAndPreserveTrailingSlash(parsed.prefix),normalizedPrefixDirectory=ts.getDirectoryPath(normalizedPrefix),normalizedPrefixBase=ts.getBaseFileName(normalizedPrefix),fragmentHasPath=-1!==fragment.indexOf(ts.directorySeparator),expandedPrefixDirectory=fragmentHasPath?ts.combinePaths(normalizedPrefixDirectory,normalizedPrefixBase+ts.getDirectoryPath(fragment)):normalizedPrefixDirectory,normalizedSuffix=ts.normalizePath(parsed.suffix),baseDirectory=ts.combinePaths(baseUrl,expandedPrefixDirectory),completePrefix=fragmentHasPath?baseDirectory:ts.ensureTrailingDirectorySeparator(baseDirectory)+normalizedPrefixBase,includeGlob=normalizedSuffix?"**/*":"./*",matches=tryReadDirectory(host,baseDirectory,fileExtensions,void 0,[includeGlob]);if(matches){for(var result=[],_i=0,matches_3=matches;_i<matches_3.length;_i++){var match=matches_3[_i],normalizedMatch=ts.normalizePath(match);if(ts.endsWith(normalizedMatch,normalizedSuffix)&&ts.startsWith(normalizedMatch,completePrefix)){var start=completePrefix.length,length_4=normalizedMatch.length-start-normalizedSuffix.length;result.push(ts.removeFileExtension(normalizedMatch.substr(start,length_4)))}}return result}}}return void 0}function enumeratePotentialNonRelativeModules(fragment,scriptPath,options){var isNestedModule=-1!==fragment.indexOf(ts.directorySeparator),moduleNameFragment=isNestedModule?fragment.substr(0,fragment.lastIndexOf(ts.directorySeparator)):void 0,ambientModules=ts.map(program.getTypeChecker().getAmbientModules(),function(sym){return ts.stripQuotes(sym.name)}),nonRelativeModules=ts.filter(ambientModules,function(moduleName){return ts.startsWith(moduleName,fragment)});if(isNestedModule){var moduleNameWithSeperator_1=ts.ensureTrailingDirectorySeparator(moduleNameFragment);nonRelativeModules=ts.map(nonRelativeModules,function(moduleName){return ts.startsWith(fragment,moduleNameWithSeperator_1)?moduleName.substr(moduleNameWithSeperator_1.length):moduleName})}if(!options.moduleResolution||options.moduleResolution===ts.ModuleResolutionKind.NodeJs)for(var _i=0,_a=enumerateNodeModulesVisibleToScript(host,scriptPath);_i<_a.length;_i++){var visibleModule=_a[_i];if(isNestedModule){if(ts.startsWith(visibleModule.moduleName,moduleNameFragment)){var nestedFiles=tryReadDirectory(host,visibleModule.moduleDir,ts.supportedTypeScriptExtensions,void 0,["./*"]);if(nestedFiles)for(var _b=0,nestedFiles_1=nestedFiles;_b<nestedFiles_1.length;_b++){var f=nestedFiles_1[_b];f=ts.normalizePath(f);var nestedModule=ts.removeFileExtension(ts.getBaseFileName(f));nonRelativeModules.push(nestedModule)}}}else nonRelativeModules.push(visibleModule.moduleName)}return ts.deduplicate(nonRelativeModules)}function getTripleSlashReferenceCompletion(sourceFile,position){var token=ts.getTokenAtPosition(sourceFile,position);if(!token)return void 0;var commentRanges=ts.getLeadingCommentRanges(sourceFile.text,token.pos);if(!commentRanges||!commentRanges.length)return void 0;var range=ts.forEach(commentRanges,function(commentRange){return position>=commentRange.pos&&position<=commentRange.end&&commentRange});if(!range)return void 0;var text=sourceFile.text.substr(range.pos,position-range.pos),match=tripleSlashDirectiveFragmentRegex.exec(text);if(match){var entries_3,prefix=match[1],kind=match[2],toComplete=match[3],scriptPath=ts.getDirectoryPath(sourceFile.path);if("path"===kind){var span=getDirectoryFragmentTextSpan(toComplete,range.pos+prefix.length);entries_3=getCompletionEntriesForDirectoryFragment(toComplete,scriptPath,ts.getSupportedExtensions(program.getCompilerOptions()),!0,span,sourceFile.path)}else{var span={start:range.pos+prefix.length,length:match[0].length-prefix.length};entries_3=getCompletionEntriesFromTypings(host,program.getCompilerOptions(),scriptPath,span)}return{isMemberCompletion:!1,isNewIdentifierLocation:!0,entries:entries_3}}return void 0}function getCompletionEntriesFromTypings(host,options,scriptPath,span,result){if(void 0===result&&(result=[]),options.types)for(var _i=0,_a=options.types;_i<_a.length;_i++){var moduleName=_a[_i];result.push(createCompletionEntryForModule(moduleName,ScriptElementKind.externalModuleName,span))}else if(host.getDirectories)for(var typeRoots=ts.getEffectiveTypeRoots(options,host),_b=0,typeRoots_2=typeRoots;_b<typeRoots_2.length;_b++){var root=typeRoots_2[_b];getCompletionEntriesFromDirectories(host,options,root,span,result)}if(host.getDirectories)for(var _c=0,_d=findPackageJsons(scriptPath);_c<_d.length;_c++){var package=_d[_c],typesDir=ts.combinePaths(ts.getDirectoryPath(package),"node_modules/@types");getCompletionEntriesFromDirectories(host,options,typesDir,span,result)}return result}function getCompletionEntriesFromDirectories(host,options,directory,span,result){if(host.getDirectories&&tryDirectoryExists(host,directory)){var directories=tryGetDirectories(host,directory);if(directories)for(var _i=0,directories_3=directories;_i<directories_3.length;_i++){var typeDirectory=directories_3[_i];typeDirectory=ts.normalizePath(typeDirectory),result.push(createCompletionEntryForModule(ts.getBaseFileName(typeDirectory),ScriptElementKind.externalModuleName,span))}}}function findPackageJsons(currentDir){for(var currentConfigPath,paths=[];;){if(currentConfigPath=ts.findConfigFile(currentDir,function(f){return tryFileExists(host,f)},"package.json"),!currentConfigPath)break;paths.push(currentConfigPath),currentDir=ts.getDirectoryPath(currentConfigPath);var parent_21=ts.getDirectoryPath(currentDir);if(currentDir===parent_21)break;currentDir=parent_21}return paths}function enumerateNodeModulesVisibleToScript(host,scriptPath){function tryReadingPackageJson(filePath){try{var fileText=tryReadFile(host,filePath);return fileText?JSON.parse(fileText):void 0}catch(e){return void 0}}function addPotentialPackageNames(dependencies,result){if(dependencies)for(var dep in dependencies)dependencies.hasOwnProperty(dep)&&!ts.startsWith(dep,"@types/")&&result.push(dep)}var result=[];if(host.readFile&&host.fileExists)for(var _i=0,_a=findPackageJsons(scriptPath);_i<_a.length;_i++){var packageJson=_a[_i],package=tryReadingPackageJson(packageJson);if(!package)return;for(var nodeModulesDir=ts.combinePaths(ts.getDirectoryPath(packageJson),"node_modules"),foundModuleNames=[],_b=0,nodeModulesDependencyKeys_1=nodeModulesDependencyKeys;_b<nodeModulesDependencyKeys_1.length;_b++){var key=nodeModulesDependencyKeys_1[_b];addPotentialPackageNames(package[key],foundModuleNames)}for(var _c=0,foundModuleNames_1=foundModuleNames;_c<foundModuleNames_1.length;_c++){var moduleName=foundModuleNames_1[_c],moduleDir=ts.combinePaths(nodeModulesDir,moduleName);result.push({moduleName:moduleName,moduleDir:moduleDir})}}return result}function createCompletionEntryForModule(name,kind,replacementSpan){return{name:name,kind:kind,kindModifiers:ScriptElementKindModifier.none,sortText:name,replacementSpan:replacementSpan}}function getDirectoryFragmentTextSpan(text,textStart){var index=text.lastIndexOf(ts.directorySeparator),offset=-1!==index?index+1:0;return{start:textStart+offset,length:text.length-offset}}function isPathRelativeToScript(path){if(path&&path.length>=2&&46===path.charCodeAt(0)){var slashIndex=path.length>=3&&46===path.charCodeAt(1)?2:1,slashCharCode=path.charCodeAt(slashIndex);return 47===slashCharCode||92===slashCharCode}return!1}function normalizeAndPreserveTrailingSlash(path){return ts.hasTrailingDirectorySeparator(path)?ts.ensureTrailingDirectorySeparator(ts.normalizePath(path)):ts.normalizePath(path)}function tryGetDirectories(host,directoryName){return tryIOAndConsumeErrors(host,host.getDirectories,directoryName)}function tryReadDirectory(host,path,extensions,exclude,include){return tryIOAndConsumeErrors(host,host.readDirectory,path,extensions,exclude,include)}function tryReadFile(host,path){return tryIOAndConsumeErrors(host,host.readFile,path)}function tryFileExists(host,path){return tryIOAndConsumeErrors(host,host.fileExists,path)}function tryDirectoryExists(host,path){try{return ts.directoryProbablyExists(path,host)}catch(e){}return void 0}function tryIOAndConsumeErrors(host,toApply){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];try{return toApply&&toApply.apply(host,args)}catch(e){}return void 0}synchronizeHostData();var sourceFile=getValidSourceFile(fileName);if(ts.isInReferenceComment(sourceFile,position))return getTripleSlashReferenceCompletion(sourceFile,position);
if(ts.isInString(sourceFile,position))return getStringLiteralCompletionEntries(sourceFile,position);var completionData=getCompletionData(fileName,position);if(!completionData)return void 0;var symbols=completionData.symbols,isMemberCompletion=completionData.isMemberCompletion,isNewIdentifierLocation=completionData.isNewIdentifierLocation,location=completionData.location,isJsDocTagName=completionData.isJsDocTagName;if(isJsDocTagName)return{isMemberCompletion:!1,isNewIdentifierLocation:!1,entries:getAllJsDocCompletionEntries()};var entries=[];if(ts.isSourceFileJavaScript(sourceFile)){var uniqueNames=getCompletionEntriesFromSymbols(symbols,entries,location,!0);ts.addRange(entries,getJavaScriptCompletionEntries(sourceFile,location.pos,uniqueNames))}else{if(!symbols||0===symbols.length){if(1!==sourceFile.languageVariant||!location.parent||245!==location.parent.kind)return void 0;var tagName=location.parent.parent.openingElement.tagName;entries.push({name:tagName.text,kind:void 0,kindModifiers:void 0,sortText:"0"})}getCompletionEntriesFromSymbols(symbols,entries,location,!0)}return isMemberCompletion||isJsDocTagName||ts.addRange(entries,keywordCompletions),{isMemberCompletion:isMemberCompletion,isNewIdentifierLocation:isNewIdentifierLocation||ts.isSourceFileJavaScript(sourceFile),entries:entries}}function getCompletionEntryDetails(fileName,position,entryName){synchronizeHostData();var completionData=getCompletionData(fileName,position);if(completionData){var symbols=completionData.symbols,location_2=completionData.location,target_2=program.getCompilerOptions().target,symbol=ts.forEach(symbols,function(s){return getCompletionEntryDisplayNameForSymbol(s,target_2,!1,location_2)===entryName?s:void 0});if(symbol){var _a=getSymbolDisplayPartsDocumentationAndSymbolKind(symbol,getValidSourceFile(fileName),location_2,location_2,7),displayParts=_a.displayParts,documentation=_a.documentation,symbolKind=_a.symbolKind;return{name:entryName,kindModifiers:getSymbolModifiers(symbol),kind:symbolKind,displayParts:displayParts,documentation:documentation}}}var keywordCompletion=ts.forEach(keywordCompletions,function(c){return c.name===entryName});return keywordCompletion?{name:entryName,kind:ScriptElementKind.keyword,kindModifiers:ScriptElementKindModifier.none,displayParts:[ts.displayPart(entryName,SymbolDisplayPartKind.keyword)],documentation:void 0}:void 0}function getSymbolKind(symbol,location){var flags=symbol.getFlags();if(32&flags)return ts.getDeclarationOfKind(symbol,192)?ScriptElementKind.localClassElement:ScriptElementKind.classElement;if(384&flags)return ScriptElementKind.enumElement;if(524288&flags)return ScriptElementKind.typeElement;if(64&flags)return ScriptElementKind.interfaceElement;if(262144&flags)return ScriptElementKind.typeParameterElement;var result=getSymbolKindOfConstructorPropertyMethodAccessorFunctionOrVar(symbol,flags,location);if(result===ScriptElementKind.unknown){if(262144&flags)return ScriptElementKind.typeParameterElement;if(8&flags)return ScriptElementKind.variableElement;if(8388608&flags)return ScriptElementKind.alias;if(1536&flags)return ScriptElementKind.moduleElement}return result}function getSymbolKindOfConstructorPropertyMethodAccessorFunctionOrVar(symbol,flags,location){var typeChecker=program.getTypeChecker();if(typeChecker.isUndefinedSymbol(symbol))return ScriptElementKind.variableElement;if(typeChecker.isArgumentsSymbol(symbol))return ScriptElementKind.localVariableElement;if(97===location.kind&&ts.isExpression(location))return ScriptElementKind.parameterElement;if(3&flags)return ts.isFirstDeclarationOfSymbolParameter(symbol)?ScriptElementKind.parameterElement:symbol.valueDeclaration&&ts.isConst(symbol.valueDeclaration)?ScriptElementKind.constElement:ts.forEach(symbol.declarations,ts.isLet)?ScriptElementKind.letElement:isLocalVariableOrFunction(symbol)?ScriptElementKind.localVariableElement:ScriptElementKind.variableElement;if(16&flags)return isLocalVariableOrFunction(symbol)?ScriptElementKind.localFunctionElement:ScriptElementKind.functionElement;if(32768&flags)return ScriptElementKind.memberGetAccessorElement;if(65536&flags)return ScriptElementKind.memberSetAccessorElement;if(8192&flags)return ScriptElementKind.memberFunctionElement;if(16384&flags)return ScriptElementKind.constructorImplementationElement;if(4&flags){if(268435456&flags){var unionPropertyKind=ts.forEach(typeChecker.getRootSymbols(symbol),function(rootSymbol){var rootSymbolFlags=rootSymbol.getFlags();return 98311&rootSymbolFlags?ScriptElementKind.memberVariableElement:void ts.Debug.assert(!!(8192&rootSymbolFlags))});if(!unionPropertyKind){var typeOfUnionProperty=typeChecker.getTypeOfSymbolAtLocation(symbol,location);return typeOfUnionProperty.getCallSignatures().length?ScriptElementKind.memberFunctionElement:ScriptElementKind.memberVariableElement}return unionPropertyKind}return ScriptElementKind.memberVariableElement}return ScriptElementKind.unknown}function getSymbolModifiers(symbol){return symbol&&symbol.declarations&&symbol.declarations.length>0?ts.getNodeModifiers(symbol.declarations[0]):ScriptElementKindModifier.none}function getSymbolDisplayPartsDocumentationAndSymbolKind(symbol,sourceFile,enclosingDeclaration,location,semanticMeaning){function addNewLineIfDisplayPartsExist(){displayParts.length&&displayParts.push(ts.lineBreakPart())}function addFullSymbolName(symbol,enclosingDeclaration){var fullSymbolDisplayParts=ts.symbolToDisplayParts(typeChecker,symbol,enclosingDeclaration||sourceFile,void 0,3);ts.addRange(displayParts,fullSymbolDisplayParts)}function addPrefixForAnyFunctionOrVar(symbol,symbolKind){addNewLineIfDisplayPartsExist(),symbolKind&&(pushTypePart(symbolKind),displayParts.push(ts.spacePart()),addFullSymbolName(symbol))}function pushTypePart(symbolKind){switch(symbolKind){case ScriptElementKind.variableElement:case ScriptElementKind.functionElement:case ScriptElementKind.letElement:case ScriptElementKind.constElement:case ScriptElementKind.constructorImplementationElement:return void displayParts.push(ts.textOrKeywordPart(symbolKind));default:return displayParts.push(ts.punctuationPart(17)),displayParts.push(ts.textOrKeywordPart(symbolKind)),void displayParts.push(ts.punctuationPart(18))}}function addSignatureDisplayParts(signature,allSignatures,flags){ts.addRange(displayParts,ts.signatureToDisplayParts(typeChecker,signature,enclosingDeclaration,32|flags)),allSignatures.length>1&&(displayParts.push(ts.spacePart()),displayParts.push(ts.punctuationPart(17)),displayParts.push(ts.operatorPart(35)),displayParts.push(ts.displayPart((allSignatures.length-1).toString(),SymbolDisplayPartKind.numericLiteral)),displayParts.push(ts.spacePart()),displayParts.push(ts.textPart(2===allSignatures.length?"overload":"overloads")),displayParts.push(ts.punctuationPart(18))),documentation=signature.getDocumentationComment()}function writeTypeParametersOfSymbol(symbol,enclosingDeclaration){var typeParameterParts=ts.mapToDisplayParts(function(writer){typeChecker.getSymbolDisplayBuilder().buildTypeParameterDisplayFromSymbol(symbol,writer,enclosingDeclaration)});ts.addRange(displayParts,typeParameterParts)}void 0===semanticMeaning&&(semanticMeaning=getMeaningFromLocation(location));var documentation,hasAddedSymbolInfo,type,typeChecker=program.getTypeChecker(),displayParts=[],symbolFlags=symbol.flags,symbolKind=getSymbolKindOfConstructorPropertyMethodAccessorFunctionOrVar(symbol,symbolFlags,location),isThisExpression=97===location.kind&&ts.isExpression(location);if(symbolKind!==ScriptElementKind.unknown||32&symbolFlags||8388608&symbolFlags){(symbolKind===ScriptElementKind.memberGetAccessorElement||symbolKind===ScriptElementKind.memberSetAccessorElement)&&(symbolKind=ScriptElementKind.memberVariableElement);var signature=void 0;if(type=isThisExpression?typeChecker.getTypeAtLocation(location):typeChecker.getTypeOfSymbolAtLocation(symbol,location)){if(location.parent&&172===location.parent.kind){var right=location.parent.name;(right===location||right&&0===right.getFullWidth())&&(location=location.parent)}var callExpression=void 0;if(174===location.kind||175===location.kind?callExpression=location:(isCallExpressionTarget(location)||isNewExpressionTarget(location))&&(callExpression=location.parent),callExpression){var candidateSignatures=[];signature=typeChecker.getResolvedSignature(callExpression,candidateSignatures),!signature&&candidateSignatures.length&&(signature=candidateSignatures[0]);var useConstructSignatures=175===callExpression.kind||95===callExpression.expression.kind,allSignatures=useConstructSignatures?type.getConstructSignatures():type.getCallSignatures();if(ts.contains(allSignatures,signature.target)||ts.contains(allSignatures,signature)||(signature=allSignatures.length?allSignatures[0]:void 0),signature){switch(useConstructSignatures&&32&symbolFlags?(symbolKind=ScriptElementKind.constructorImplementationElement,addPrefixForAnyFunctionOrVar(type.symbol,symbolKind)):8388608&symbolFlags?(symbolKind=ScriptElementKind.alias,pushTypePart(symbolKind),displayParts.push(ts.spacePart()),useConstructSignatures&&(displayParts.push(ts.keywordPart(92)),displayParts.push(ts.spacePart())),addFullSymbolName(symbol)):addPrefixForAnyFunctionOrVar(symbol,symbolKind),symbolKind){case ScriptElementKind.memberVariableElement:case ScriptElementKind.variableElement:case ScriptElementKind.constElement:case ScriptElementKind.letElement:case ScriptElementKind.parameterElement:case ScriptElementKind.localVariableElement:displayParts.push(ts.punctuationPart(54)),displayParts.push(ts.spacePart()),useConstructSignatures&&(displayParts.push(ts.keywordPart(92)),displayParts.push(ts.spacePart())),2097152&type.flags||!type.symbol||ts.addRange(displayParts,ts.symbolToDisplayParts(typeChecker,type.symbol,enclosingDeclaration,void 0,1)),addSignatureDisplayParts(signature,allSignatures,8);break;default:addSignatureDisplayParts(signature,allSignatures)}hasAddedSymbolInfo=!0}}else if(isNameOfFunctionDeclaration(location)&&!(98304&symbol.flags)||121===location.kind&&148===location.parent.kind){var functionDeclaration=location.parent,allSignatures=148===functionDeclaration.kind?type.getNonNullableType().getConstructSignatures():type.getNonNullableType().getCallSignatures();signature=typeChecker.isImplementationOfOverload(functionDeclaration)?allSignatures[0]:typeChecker.getSignatureFromDeclaration(functionDeclaration),148===functionDeclaration.kind?(symbolKind=ScriptElementKind.constructorImplementationElement,addPrefixForAnyFunctionOrVar(type.symbol,symbolKind)):addPrefixForAnyFunctionOrVar(151!==functionDeclaration.kind||2048&type.symbol.flags||4096&type.symbol.flags?symbol:type.symbol,symbolKind),addSignatureDisplayParts(signature,allSignatures),hasAddedSymbolInfo=!0}}}if(32&symbolFlags&&!hasAddedSymbolInfo&&!isThisExpression&&(ts.getDeclarationOfKind(symbol,192)?pushTypePart(ScriptElementKind.localClassElement):displayParts.push(ts.keywordPart(73)),displayParts.push(ts.spacePart()),addFullSymbolName(symbol),writeTypeParametersOfSymbol(symbol,sourceFile)),64&symbolFlags&&2&semanticMeaning&&(addNewLineIfDisplayPartsExist(),displayParts.push(ts.keywordPart(107)),displayParts.push(ts.spacePart()),addFullSymbolName(symbol),writeTypeParametersOfSymbol(symbol,sourceFile)),524288&symbolFlags&&(addNewLineIfDisplayPartsExist(),displayParts.push(ts.keywordPart(134)),displayParts.push(ts.spacePart()),addFullSymbolName(symbol),writeTypeParametersOfSymbol(symbol,sourceFile),displayParts.push(ts.spacePart()),displayParts.push(ts.operatorPart(56)),displayParts.push(ts.spacePart()),ts.addRange(displayParts,ts.typeToDisplayParts(typeChecker,typeChecker.getDeclaredTypeOfSymbol(symbol),enclosingDeclaration,512))),384&symbolFlags&&(addNewLineIfDisplayPartsExist(),ts.forEach(symbol.declarations,ts.isConstEnumDeclaration)&&(displayParts.push(ts.keywordPart(74)),displayParts.push(ts.spacePart())),displayParts.push(ts.keywordPart(81)),displayParts.push(ts.spacePart()),addFullSymbolName(symbol)),1536&symbolFlags){addNewLineIfDisplayPartsExist();var declaration=ts.getDeclarationOfKind(symbol,225),isNamespace=declaration&&declaration.name&&69===declaration.name.kind;displayParts.push(ts.keywordPart(isNamespace?126:125)),displayParts.push(ts.spacePart()),addFullSymbolName(symbol)}if(262144&symbolFlags&&2&semanticMeaning)if(addNewLineIfDisplayPartsExist(),displayParts.push(ts.punctuationPart(17)),displayParts.push(ts.textPart("type parameter")),displayParts.push(ts.punctuationPart(18)),displayParts.push(ts.spacePart()),addFullSymbolName(symbol),displayParts.push(ts.spacePart()),displayParts.push(ts.keywordPart(90)),displayParts.push(ts.spacePart()),symbol.parent)addFullSymbolName(symbol.parent,enclosingDeclaration),writeTypeParametersOfSymbol(symbol.parent,enclosingDeclaration);else{var declaration=ts.getDeclarationOfKind(symbol,141);if(ts.Debug.assert(void 0!==declaration),declaration=declaration.parent)if(ts.isFunctionLikeKind(declaration.kind)){var signature=typeChecker.getSignatureFromDeclaration(declaration);152===declaration.kind?(displayParts.push(ts.keywordPart(92)),displayParts.push(ts.spacePart())):151!==declaration.kind&&declaration.name&&addFullSymbolName(declaration.symbol),ts.addRange(displayParts,ts.signatureToDisplayParts(typeChecker,signature,sourceFile,32))}else displayParts.push(ts.keywordPart(134)),displayParts.push(ts.spacePart()),addFullSymbolName(declaration.symbol),writeTypeParametersOfSymbol(declaration.symbol,sourceFile)}if(8&symbolFlags){addPrefixForAnyFunctionOrVar(symbol,"enum member");var declaration=symbol.declarations[0];if(255===declaration.kind){var constantValue=typeChecker.getConstantValue(declaration);void 0!==constantValue&&(displayParts.push(ts.spacePart()),displayParts.push(ts.operatorPart(56)),displayParts.push(ts.spacePart()),displayParts.push(ts.displayPart(constantValue.toString(),SymbolDisplayPartKind.numericLiteral)))}}if(8388608&symbolFlags&&(addNewLineIfDisplayPartsExist(),228===symbol.declarations[0].kind?(displayParts.push(ts.keywordPart(82)),displayParts.push(ts.spacePart()),displayParts.push(ts.keywordPart(126))):displayParts.push(ts.keywordPart(89)),displayParts.push(ts.spacePart()),addFullSymbolName(symbol),ts.forEach(symbol.declarations,function(declaration){if(229===declaration.kind){var importEqualsDeclaration=declaration;if(ts.isExternalModuleImportEqualsDeclaration(importEqualsDeclaration))displayParts.push(ts.spacePart()),displayParts.push(ts.operatorPart(56)),displayParts.push(ts.spacePart()),displayParts.push(ts.keywordPart(129)),displayParts.push(ts.punctuationPart(17)),displayParts.push(ts.displayPart(ts.getTextOfNode(ts.getExternalModuleImportEqualsDeclarationExpression(importEqualsDeclaration)),SymbolDisplayPartKind.stringLiteral)),displayParts.push(ts.punctuationPart(18));else{var internalAliasSymbol=typeChecker.getSymbolAtLocation(importEqualsDeclaration.moduleReference);internalAliasSymbol&&(displayParts.push(ts.spacePart()),displayParts.push(ts.operatorPart(56)),displayParts.push(ts.spacePart()),addFullSymbolName(internalAliasSymbol,enclosingDeclaration))}return!0}})),!hasAddedSymbolInfo)if(symbolKind!==ScriptElementKind.unknown){if(type)if(isThisExpression?(addNewLineIfDisplayPartsExist(),displayParts.push(ts.keywordPart(97))):addPrefixForAnyFunctionOrVar(symbol,symbolKind),symbolKind===ScriptElementKind.memberVariableElement||3&symbolFlags||symbolKind===ScriptElementKind.localVariableElement||isThisExpression)if(displayParts.push(ts.punctuationPart(54)),displayParts.push(ts.spacePart()),type.symbol&&262144&type.symbol.flags){var typeParameterParts=ts.mapToDisplayParts(function(writer){typeChecker.getSymbolDisplayBuilder().buildTypeParameterDisplay(type,writer,enclosingDeclaration)});ts.addRange(displayParts,typeParameterParts)}else ts.addRange(displayParts,ts.typeToDisplayParts(typeChecker,type,enclosingDeclaration));else if(16&symbolFlags||8192&symbolFlags||16384&symbolFlags||131072&symbolFlags||98304&symbolFlags||symbolKind===ScriptElementKind.memberFunctionElement){var allSignatures=type.getNonNullableType().getCallSignatures();addSignatureDisplayParts(allSignatures[0],allSignatures)}}else symbolKind=getSymbolKind(symbol,location);if(!documentation&&(documentation=symbol.getDocumentationComment(),0===documentation.length&&4&symbol.flags&&symbol.parent&&ts.forEach(symbol.parent.declarations,function(declaration){return 256===declaration.kind})))for(var _i=0,_a=symbol.declarations;_i<_a.length;_i++){var declaration=_a[_i];if(declaration.parent&&187===declaration.parent.kind){var rhsSymbol=program.getTypeChecker().getSymbolAtLocation(declaration.parent.right);if(rhsSymbol&&(documentation=rhsSymbol.getDocumentationComment(),documentation.length>0))break}}return{displayParts:displayParts,documentation:documentation,symbolKind:symbolKind}}function getQuickInfoAtPosition(fileName,position){synchronizeHostData();var sourceFile=getValidSourceFile(fileName),node=ts.getTouchingPropertyName(sourceFile,position);if(node===sourceFile)return void 0;if(isLabelName(node))return void 0;var typeChecker=program.getTypeChecker(),symbol=typeChecker.getSymbolAtLocation(node);if(!symbol||typeChecker.isUnknownSymbol(symbol)){switch(node.kind){case 69:case 172:case 139:case 97:case 165:case 95:var type=typeChecker.getTypeAtLocation(node);if(type)return{kind:ScriptElementKind.unknown,kindModifiers:ScriptElementKindModifier.none,textSpan:ts.createTextSpan(node.getStart(),node.getWidth()),displayParts:ts.typeToDisplayParts(typeChecker,type,getContainerNode(node)),documentation:type.symbol?type.symbol.getDocumentationComment():void 0}}return void 0}var displayPartsDocumentationsAndKind=getSymbolDisplayPartsDocumentationAndSymbolKind(symbol,sourceFile,getContainerNode(node),node);return{kind:displayPartsDocumentationsAndKind.symbolKind,kindModifiers:getSymbolModifiers(symbol),textSpan:ts.createTextSpan(node.getStart(),node.getWidth()),displayParts:displayPartsDocumentationsAndKind.displayParts,documentation:displayPartsDocumentationsAndKind.documentation}}function createDefinitionInfo(node,symbolKind,symbolName,containerName){return{fileName:node.getSourceFile().fileName,textSpan:ts.createTextSpanFromBounds(node.getStart(),node.getEnd()),kind:symbolKind,name:symbolName,containerKind:void 0,containerName:containerName}}function getDefinitionFromSymbol(symbol,node){function tryAddConstructSignature(symbol,location,symbolKind,symbolName,containerName,result){if((isNewExpressionTarget(location)||121===location.kind)&&32&symbol.flags){for(var _i=0,_a=symbol.getDeclarations();_i<_a.length;_i++){var declaration=_a[_i];if(ts.isClassLike(declaration))return tryAddSignature(declaration.members,!0,symbolKind,symbolName,containerName,result)}ts.Debug.fail("Expected declaration to have at least one class-like declaration")}return!1}function tryAddCallSignature(symbol,location,symbolKind,symbolName,containerName,result){return isCallExpressionTarget(location)||isNewExpressionTarget(location)||isNameOfFunctionDeclaration(location)?tryAddSignature(symbol.declarations,!1,symbolKind,symbolName,containerName,result):!1}function tryAddSignature(signatureDeclarations,selectConstructors,symbolKind,symbolName,containerName,result){var definition,declarations=[];return ts.forEach(signatureDeclarations,function(d){(selectConstructors&&148===d.kind||!selectConstructors&&(220===d.kind||147===d.kind||146===d.kind))&&(declarations.push(d),d.body&&(definition=d))}),definition?(result.push(createDefinitionInfo(definition,symbolKind,symbolName,containerName)),!0):declarations.length?(result.push(createDefinitionInfo(ts.lastOrUndefined(declarations),symbolKind,symbolName,containerName)),!0):!1}var typeChecker=program.getTypeChecker(),result=[],declarations=symbol.getDeclarations(),symbolName=typeChecker.symbolToString(symbol),symbolKind=getSymbolKind(symbol,node),containerSymbol=symbol.parent,containerName=containerSymbol?typeChecker.symbolToString(containerSymbol,node):"";return tryAddConstructSignature(symbol,node,symbolKind,symbolName,containerName,result)||tryAddCallSignature(symbol,node,symbolKind,symbolName,containerName,result)||ts.forEach(declarations,function(declaration){result.push(createDefinitionInfo(declaration,symbolKind,symbolName,containerName))}),result}function findReferenceInPosition(refs,pos){for(var _i=0,refs_1=refs;_i<refs_1.length;_i++){var ref=refs_1[_i];if(ref.pos<=pos&&pos<ref.end)return ref}return void 0}function getDefinitionInfoForFileReference(name,targetFileName){return{fileName:targetFileName,textSpan:ts.createTextSpanFromBounds(0,0),kind:ScriptElementKind.scriptElement,name:name,containerName:void 0,containerKind:void 0}}function getDefinitionAtPosition(fileName,position){synchronizeHostData();var sourceFile=getValidSourceFile(fileName),comment=findReferenceInPosition(sourceFile.referencedFiles,position);if(comment){var referenceFile=ts.tryResolveScriptReference(program,sourceFile,comment);return referenceFile?[getDefinitionInfoForFileReference(comment.fileName,referenceFile.fileName)]:void 0}var typeReferenceDirective=findReferenceInPosition(sourceFile.typeReferenceDirectives,position);if(typeReferenceDirective){var referenceFile=program.getResolvedTypeReferenceDirectives()[typeReferenceDirective.fileName];return referenceFile&&referenceFile.resolvedFileName?[getDefinitionInfoForFileReference(typeReferenceDirective.fileName,referenceFile.resolvedFileName)]:void 0}var node=ts.getTouchingPropertyName(sourceFile,position);if(node===sourceFile)return void 0;if(isJumpStatementTarget(node)){var labelName=node.text,label=getTargetLabel(node.parent,node.text);return label?[createDefinitionInfo(label,ScriptElementKind.label,labelName,void 0)]:void 0}var typeChecker=program.getTypeChecker(),symbol=typeChecker.getSymbolAtLocation(node);if(!symbol)return void 0;if(8388608&symbol.flags){var declaration=symbol.declarations[0];69===node.kind&&(node.parent===declaration||234===declaration.kind&&declaration.parent&&233===declaration.parent.kind)&&(symbol=typeChecker.getAliasedSymbol(symbol))}if(254===node.parent.kind){var shorthandSymbol=typeChecker.getShorthandAssignmentValueSymbol(symbol.valueDeclaration);if(!shorthandSymbol)return[];var shorthandDeclarations=shorthandSymbol.getDeclarations(),shorthandSymbolKind_1=getSymbolKind(shorthandSymbol,node),shorthandSymbolName_1=typeChecker.symbolToString(shorthandSymbol),shorthandContainerName_1=typeChecker.symbolToString(symbol.parent,node);return ts.map(shorthandDeclarations,function(declaration){return createDefinitionInfo(declaration,shorthandSymbolKind_1,shorthandSymbolName_1,shorthandContainerName_1)})}return getDefinitionFromSymbol(symbol,node)}function getTypeDefinitionAtPosition(fileName,position){synchronizeHostData();var sourceFile=getValidSourceFile(fileName),node=ts.getTouchingPropertyName(sourceFile,position);if(node===sourceFile)return void 0;var typeChecker=program.getTypeChecker(),symbol=typeChecker.getSymbolAtLocation(node);if(!symbol)return void 0;var type=typeChecker.getTypeOfSymbolAtLocation(symbol,node);if(!type)return void 0;if(524288&type.flags&&!(16&type.flags)){var result_4=[];return ts.forEach(type.types,function(t){t.symbol&&ts.addRange(result_4,getDefinitionFromSymbol(t.symbol,node))}),result_4}return type.symbol?getDefinitionFromSymbol(type.symbol,node):void 0}function getOccurrencesAtPosition(fileName,position){var results=getOccurrencesAtPositionCore(fileName,position);if(results){var sourceFile_1=getCanonicalFileName(ts.normalizeSlashes(fileName));results=ts.filter(results,function(r){return getCanonicalFileName(ts.normalizeSlashes(r.fileName))===sourceFile_1})}return results}function getDocumentHighlights(fileName,position,filesToSearch){function getHighlightSpanForNode(node){var start=node.getStart(),end=node.getEnd();return{fileName:sourceFile.fileName,textSpan:ts.createTextSpanFromBounds(start,end),kind:HighlightSpanKind.none}}function getSemanticDocumentHighlights(node){function convertReferencedSymbols(referencedSymbols){if(!referencedSymbols)return void 0;for(var fileNameToDocumentHighlights=ts.createMap(),result=[],_i=0,referencedSymbols_1=referencedSymbols;_i<referencedSymbols_1.length;_i++)for(var referencedSymbol=referencedSymbols_1[_i],_a=0,_b=referencedSymbol.references;_a<_b.length;_a++){var referenceEntry=_b[_a],fileName_1=referenceEntry.fileName,documentHighlights=fileNameToDocumentHighlights[fileName_1];documentHighlights||(documentHighlights={fileName:fileName_1,highlightSpans:[]},fileNameToDocumentHighlights[fileName_1]=documentHighlights,result.push(documentHighlights)),documentHighlights.highlightSpans.push({textSpan:referenceEntry.textSpan,kind:referenceEntry.isWriteAccess?HighlightSpanKind.writtenReference:HighlightSpanKind.reference})}return result}if(69===node.kind||97===node.kind||165===node.kind||95===node.kind||9===node.kind||isLiteralNameOfPropertyDeclarationOrIndexAccess(node)){var referencedSymbols=getReferencedSymbolsForNode(node,sourceFilesToSearch,!1,!1);return convertReferencedSymbols(referencedSymbols)}return void 0}function getSyntacticDocumentHighlights(node){function hasKind(node,kind){return void 0!==node&&node.kind===kind}function parent(node){return node&&node.parent}function getHighlightSpans(node){if(node)switch(node.kind){case 88:case 80:if(hasKind(node.parent,203))return getIfElseOccurrences(node.parent);break;case 94:if(hasKind(node.parent,211))return getReturnOccurrences(node.parent);break;case 98:if(hasKind(node.parent,215))return getThrowOccurrences(node.parent);break;case 72:if(hasKind(parent(parent(node)),216))return getTryCatchFinallyOccurrences(node.parent.parent);break;case 100:case 85:if(hasKind(parent(node),216))return getTryCatchFinallyOccurrences(node.parent);break;case 96:if(hasKind(node.parent,213))return getSwitchCaseDefaultOccurrences(node.parent);break;case 71:case 77:if(hasKind(parent(parent(parent(node))),213))return getSwitchCaseDefaultOccurrences(node.parent.parent.parent);break;case 70:case 75:if(hasKind(node.parent,210)||hasKind(node.parent,209))return getBreakOrContinueStatementOccurrences(node.parent);break;case 86:if(hasKind(node.parent,206)||hasKind(node.parent,207)||hasKind(node.parent,208))return getLoopBreakContinueOccurrences(node.parent);break;case 104:case 79:if(hasKind(node.parent,205)||hasKind(node.parent,204))return getLoopBreakContinueOccurrences(node.parent);break;case 121:if(hasKind(node.parent,148))return getConstructorOccurrences(node.parent);break;case 123:case 131:if(hasKind(node.parent,149)||hasKind(node.parent,150))return getGetAndSetOccurrences(node.parent);break;default:if(ts.isModifierKind(node.kind)&&node.parent&&(ts.isDeclaration(node.parent)||200===node.parent.kind))return getModifierOccurrences(node.kind,node.parent)}return void 0}function aggregateOwnedThrowStatements(node){function aggregate(node){if(215===node.kind)statementAccumulator.push(node);else if(216===node.kind){var tryStatement=node;aggregate(tryStatement.catchClause?tryStatement.catchClause:tryStatement.tryBlock),tryStatement.finallyBlock&&aggregate(tryStatement.finallyBlock)}else ts.isFunctionLike(node)||ts.forEachChild(node,aggregate)}var statementAccumulator=[];return aggregate(node),statementAccumulator}function getThrowStatementOwner(throwStatement){for(var child=throwStatement;child.parent;){var parent_22=child.parent;if(ts.isFunctionBlock(parent_22)||256===parent_22.kind)return parent_22;if(216===parent_22.kind){var tryStatement=parent_22;if(tryStatement.tryBlock===child&&tryStatement.catchClause)return child}child=parent_22}return void 0}function aggregateAllBreakAndContinueStatements(node){function aggregate(node){210===node.kind||209===node.kind?statementAccumulator.push(node):ts.isFunctionLike(node)||ts.forEachChild(node,aggregate)}var statementAccumulator=[];return aggregate(node),statementAccumulator}function ownsBreakOrContinueStatement(owner,statement){var actualOwner=getBreakOrContinueOwner(statement);return actualOwner&&actualOwner===owner}function getBreakOrContinueOwner(statement){for(var node_1=statement.parent;node_1;node_1=node_1.parent)switch(node_1.kind){case 213:if(209===statement.kind)continue;case 206:case 207:case 208:case 205:case 204:if(!statement.label||isLabeledBy(node_1,statement.label.text))return node_1;break;default:if(ts.isFunctionLike(node_1))return void 0}return void 0}function getModifierOccurrences(modifier,declaration){function getFlagFromModifier(modifier){switch(modifier){case 112:return 4;case 110:return 8;case 111:return 16;case 113:return 32;case 82:return 1;case 122:return 2;case 115:return 128;default:ts.Debug.fail()}}var container=declaration.parent;if(ts.isAccessibilityModifier(modifier)){if(!(221===container.kind||192===container.kind||142===declaration.kind&&hasKind(container,148)))return void 0}else if(113===modifier){if(221!==container.kind&&192!==container.kind)return void 0}else if(82===modifier||122===modifier){if(226!==container.kind&&256!==container.kind)return void 0}else{if(115!==modifier)return void 0;if(221!==container.kind&&221!==declaration.kind)return void 0}var nodes,keywords=[],modifierFlag=getFlagFromModifier(modifier);switch(container.kind){case 226:case 256:nodes=128&modifierFlag?declaration.members.concat(declaration):container.statements;break;case 148:nodes=container.parameters.concat(container.parent.members);break;case 221:case 192:if(nodes=container.members,28&modifierFlag){var constructor=ts.forEach(container.members,function(member){return 148===member.kind&&member});constructor&&(nodes=nodes.concat(constructor.parameters))}else 128&modifierFlag&&(nodes=nodes.concat(container));break;default:ts.Debug.fail("Invalid container kind.")}return ts.forEach(nodes,function(node){node.modifiers&&node.flags&modifierFlag&&ts.forEach(node.modifiers,function(child){return pushKeywordIf(keywords,child,modifier)})}),ts.map(keywords,getHighlightSpanForNode)}function pushKeywordIf(keywordList,token){for(var expected=[],_i=2;_i<arguments.length;_i++)expected[_i-2]=arguments[_i];return token&&ts.contains(expected,token.kind)?(keywordList.push(token),!0):!1}function getGetAndSetOccurrences(accessorDeclaration){function tryPushAccessorKeyword(accessorSymbol,accessorKind){var accessor=ts.getDeclarationOfKind(accessorSymbol,accessorKind);accessor&&ts.forEach(accessor.getChildren(),function(child){return pushKeywordIf(keywords,child,123,131)})}var keywords=[];return tryPushAccessorKeyword(accessorDeclaration.symbol,149),tryPushAccessorKeyword(accessorDeclaration.symbol,150),ts.map(keywords,getHighlightSpanForNode)}function getConstructorOccurrences(constructorDeclaration){var declarations=constructorDeclaration.symbol.getDeclarations(),keywords=[];return ts.forEach(declarations,function(declaration){ts.forEach(declaration.getChildren(),function(token){return pushKeywordIf(keywords,token,121)})}),ts.map(keywords,getHighlightSpanForNode)}function getLoopBreakContinueOccurrences(loopNode){var keywords=[];if(pushKeywordIf(keywords,loopNode.getFirstToken(),86,104,79)&&204===loopNode.kind)for(var loopTokens=loopNode.getChildren(),i=loopTokens.length-1;i>=0&&!pushKeywordIf(keywords,loopTokens[i],104);i--);var breaksAndContinues=aggregateAllBreakAndContinueStatements(loopNode.statement);return ts.forEach(breaksAndContinues,function(statement){ownsBreakOrContinueStatement(loopNode,statement)&&pushKeywordIf(keywords,statement.getFirstToken(),70,75)}),ts.map(keywords,getHighlightSpanForNode)}function getBreakOrContinueStatementOccurrences(breakOrContinueStatement){var owner=getBreakOrContinueOwner(breakOrContinueStatement);if(owner)switch(owner.kind){case 206:case 207:case 208:case 204:case 205:return getLoopBreakContinueOccurrences(owner);case 213:return getSwitchCaseDefaultOccurrences(owner)}return void 0}function getSwitchCaseDefaultOccurrences(switchStatement){var keywords=[];return pushKeywordIf(keywords,switchStatement.getFirstToken(),96),ts.forEach(switchStatement.caseBlock.clauses,function(clause){pushKeywordIf(keywords,clause.getFirstToken(),71,77);var breaksAndContinues=aggregateAllBreakAndContinueStatements(clause);ts.forEach(breaksAndContinues,function(statement){
ownsBreakOrContinueStatement(switchStatement,statement)&&pushKeywordIf(keywords,statement.getFirstToken(),70)})}),ts.map(keywords,getHighlightSpanForNode)}function getTryCatchFinallyOccurrences(tryStatement){var keywords=[];if(pushKeywordIf(keywords,tryStatement.getFirstToken(),100),tryStatement.catchClause&&pushKeywordIf(keywords,tryStatement.catchClause.getFirstToken(),72),tryStatement.finallyBlock){var finallyKeyword=ts.findChildOfKind(tryStatement,85,sourceFile);pushKeywordIf(keywords,finallyKeyword,85)}return ts.map(keywords,getHighlightSpanForNode)}function getThrowOccurrences(throwStatement){var owner=getThrowStatementOwner(throwStatement);if(!owner)return void 0;var keywords=[];return ts.forEach(aggregateOwnedThrowStatements(owner),function(throwStatement){pushKeywordIf(keywords,throwStatement.getFirstToken(),98)}),ts.isFunctionBlock(owner)&&ts.forEachReturnStatement(owner,function(returnStatement){pushKeywordIf(keywords,returnStatement.getFirstToken(),94)}),ts.map(keywords,getHighlightSpanForNode)}function getReturnOccurrences(returnStatement){var func=ts.getContainingFunction(returnStatement);if(!func||!hasKind(func.body,199))return void 0;var keywords=[];return ts.forEachReturnStatement(func.body,function(returnStatement){pushKeywordIf(keywords,returnStatement.getFirstToken(),94)}),ts.forEach(aggregateOwnedThrowStatements(func.body),function(throwStatement){pushKeywordIf(keywords,throwStatement.getFirstToken(),98)}),ts.map(keywords,getHighlightSpanForNode)}function getIfElseOccurrences(ifStatement){for(var keywords=[];hasKind(ifStatement.parent,203)&&ifStatement.parent.elseStatement===ifStatement;)ifStatement=ifStatement.parent;for(;ifStatement;){var children=ifStatement.getChildren();pushKeywordIf(keywords,children[0],88);for(var i=children.length-1;i>=0&&!pushKeywordIf(keywords,children[i],80);i--);if(!hasKind(ifStatement.elseStatement,203))break;ifStatement=ifStatement.elseStatement}for(var result=[],i=0;i<keywords.length;i++){if(80===keywords[i].kind&&i<keywords.length-1){for(var elseKeyword=keywords[i],ifKeyword=keywords[i+1],shouldCombindElseAndIf=!0,j=ifKeyword.getStart()-1;j>=elseKeyword.end;j--)if(!ts.isWhiteSpaceSingleLine(sourceFile.text.charCodeAt(j))){shouldCombindElseAndIf=!1;break}if(shouldCombindElseAndIf){result.push({fileName:fileName,textSpan:ts.createTextSpanFromBounds(elseKeyword.getStart(),ifKeyword.end),kind:HighlightSpanKind.reference}),i++;continue}}result.push(getHighlightSpanForNode(keywords[i]))}return result}var fileName=sourceFile.fileName,highlightSpans=getHighlightSpans(node);return highlightSpans&&0!==highlightSpans.length?[{fileName:fileName,highlightSpans:highlightSpans}]:void 0}synchronizeHostData();var sourceFilesToSearch=ts.map(filesToSearch,function(f){return program.getSourceFile(f)}),sourceFile=getValidSourceFile(fileName),node=ts.getTouchingWord(sourceFile,position);return node?getSemanticDocumentHighlights(node)||getSyntacticDocumentHighlights(node):void 0}function getOccurrencesAtPositionCore(fileName,position){function convertDocumentHighlights(documentHighlights){if(!documentHighlights)return void 0;for(var result=[],_i=0,documentHighlights_1=documentHighlights;_i<documentHighlights_1.length;_i++)for(var entry=documentHighlights_1[_i],_a=0,_b=entry.highlightSpans;_a<_b.length;_a++){var highlightSpan=_b[_a];result.push({fileName:entry.fileName,textSpan:highlightSpan.textSpan,isWriteAccess:highlightSpan.kind===HighlightSpanKind.writtenReference,isDefinition:!1})}return result}return synchronizeHostData(),convertDocumentHighlights(getDocumentHighlights(fileName,position,[fileName]))}function convertReferences(referenceSymbols){if(!referenceSymbols)return void 0;for(var referenceEntries=[],_i=0,referenceSymbols_1=referenceSymbols;_i<referenceSymbols_1.length;_i++){var referenceSymbol=referenceSymbols_1[_i];ts.addRange(referenceEntries,referenceSymbol.references)}return referenceEntries}function findRenameLocations(fileName,position,findInStrings,findInComments){var referencedSymbols=findReferencedSymbols(fileName,position,findInStrings,findInComments);return convertReferences(referencedSymbols)}function getReferencesAtPosition(fileName,position){var referencedSymbols=findReferencedSymbols(fileName,position,!1,!1);return convertReferences(referencedSymbols)}function findReferences(fileName,position){var referencedSymbols=findReferencedSymbols(fileName,position,!1,!1);return ts.filter(referencedSymbols,function(rs){return!!rs.definition})}function findReferencedSymbols(fileName,position,findInStrings,findInComments){synchronizeHostData();var sourceFile=getValidSourceFile(fileName),node=ts.getTouchingPropertyName(sourceFile,position,!0);if(node===sourceFile)return void 0;switch(node.kind){case 8:if(!isLiteralNameOfPropertyDeclarationOrIndexAccess(node))break;case 69:case 97:case 9:return getReferencedSymbolsForNode(node,program.getSourceFiles(),findInStrings,findInComments)}return void 0}function isThis(node){switch(node.kind){case 97:return!0;case 69:return 97===node.originalKeywordKind&&142===node.parent.kind;default:return!1}}function getReferencedSymbolsForNode(node,sourceFiles,findInStrings,findInComments){function getDefinition(symbol){var info=getSymbolDisplayPartsDocumentationAndSymbolKind(symbol,node.getSourceFile(),getContainerNode(node),node),name=ts.map(info.displayParts,function(p){return p.text}).join(""),declarations=symbol.declarations;return declarations&&0!==declarations.length?{containerKind:"",containerName:"",name:name,kind:info.symbolKind,fileName:declarations[0].getSourceFile().fileName,textSpan:ts.createTextSpan(declarations[0].getStart(),0),displayParts:info.displayParts}:void 0}function getAliasSymbolForPropertyNameSymbol(symbol,location){if(8388608&symbol.flags){var defaultImport=ts.getDeclarationOfKind(symbol,231);if(defaultImport)return typeChecker.getAliasedSymbol(symbol);var importOrExportSpecifier=ts.forEach(symbol.declarations,function(declaration){return 234===declaration.kind||238===declaration.kind?declaration:void 0});if(importOrExportSpecifier&&(!importOrExportSpecifier.propertyName||importOrExportSpecifier.propertyName===location))return 234===importOrExportSpecifier.kind?typeChecker.getAliasedSymbol(symbol):typeChecker.getExportSpecifierLocalTargetSymbol(importOrExportSpecifier)}return void 0}function getPropertySymbolOfDestructuringAssignment(location){return ts.isArrayLiteralOrObjectLiteralDestructuringPattern(location.parent.parent)&&typeChecker.getPropertySymbolOfDestructuringAssignment(location)}function isObjectBindingPatternElementWithoutPropertyName(symbol){var bindingElement=ts.getDeclarationOfKind(symbol,169);return bindingElement&&167===bindingElement.parent.kind&&!bindingElement.propertyName}function getPropertySymbolOfObjectBindingPatternWithoutPropertyName(symbol){if(isObjectBindingPatternElementWithoutPropertyName(symbol)){var bindingElement=ts.getDeclarationOfKind(symbol,169),typeOfPattern=typeChecker.getTypeAtLocation(bindingElement.parent);return typeOfPattern&&typeChecker.getPropertyOfType(typeOfPattern,bindingElement.name.text)}return void 0}function getInternedName(symbol,location,declarations){if(ts.isImportOrExportSpecifierName(location))return location.getText();var localExportDefaultSymbol=ts.getLocalSymbolForExportDefault(symbol);return symbol=localExportDefaultSymbol||symbol,ts.stripQuotes(symbol.name)}function getSymbolScope(symbol){var valueDeclaration=symbol.valueDeclaration;if(valueDeclaration&&(179===valueDeclaration.kind||192===valueDeclaration.kind))return valueDeclaration;if(8196&symbol.flags){var privateDeclaration=ts.forEach(symbol.getDeclarations(),function(d){return 8&d.flags?d:void 0});if(privateDeclaration)return ts.getAncestor(privateDeclaration,221)}if(8388608&symbol.flags)return void 0;if(isObjectBindingPatternElementWithoutPropertyName(symbol))return void 0;if(symbol.parent||268435456&symbol.flags)return void 0;var scope,declarations=symbol.getDeclarations();if(declarations)for(var _i=0,declarations_9=declarations;_i<declarations_9.length;_i++){var declaration=declarations_9[_i],container=getContainerNode(declaration);if(!container)return void 0;if(scope&&scope!==container)return void 0;if(256===container.kind&&!ts.isExternalModule(container))return void 0;scope=container}return scope}function getPossibleSymbolReferencePositions(sourceFile,symbolName,start,end){var positions=[];if(!symbolName||!symbolName.length)return positions;for(var text=sourceFile.text,sourceLength=text.length,symbolNameLength=symbolName.length,position=text.indexOf(symbolName,start);position>=0&&(cancellationToken.throwIfCancellationRequested(),!(position>end));){var endPosition=position+symbolNameLength;0!==position&&ts.isIdentifierPart(text.charCodeAt(position-1),2)||endPosition!==sourceLength&&ts.isIdentifierPart(text.charCodeAt(endPosition),2)||positions.push(position),position=text.indexOf(symbolName,position+symbolNameLength+1)}return positions}function getLabelReferencesInNode(container,targetLabel){var references=[],sourceFile=container.getSourceFile(),labelName=targetLabel.text,possiblePositions=getPossibleSymbolReferencePositions(sourceFile,labelName,container.getStart(),container.getEnd());ts.forEach(possiblePositions,function(position){cancellationToken.throwIfCancellationRequested();var node=ts.getTouchingWord(sourceFile,position);node&&node.getWidth()===labelName.length&&(node===targetLabel||isJumpStatementTarget(node)&&getTargetLabel(node,labelName)===targetLabel)&&references.push(getReferenceEntryFromNode(node))});var definition={containerKind:"",containerName:"",fileName:targetLabel.getSourceFile().fileName,kind:ScriptElementKind.label,name:labelName,textSpan:ts.createTextSpanFromBounds(targetLabel.getStart(),targetLabel.getEnd()),displayParts:[ts.displayPart(labelName,SymbolDisplayPartKind.text)]};return[{definition:definition,references:references}]}function isValidReferencePosition(node,searchSymbolName){if(node)switch(node.kind){case 69:return node.getWidth()===searchSymbolName.length;case 9:if(isLiteralNameOfPropertyDeclarationOrIndexAccess(node)||isNameOfExternalModuleImportOrDeclaration(node))return node.getWidth()===searchSymbolName.length+2;break;case 8:if(isLiteralNameOfPropertyDeclarationOrIndexAccess(node))return node.getWidth()===searchSymbolName.length}return!1}function getReferencesInNode(container,searchSymbol,searchText,searchLocation,searchMeaning,findInStrings,findInComments,result,symbolToIndex){function getReferencedSymbol(symbol){var symbolId=ts.getSymbolId(symbol),index=symbolToIndex[symbolId];return void 0===index&&(index=result.length,symbolToIndex[symbolId]=index,result.push({definition:getDefinition(symbol),references:[]})),result[index]}var sourceFile=container.getSourceFile(),start=findInComments?container.getFullStart():container.getStart(),possiblePositions=getPossibleSymbolReferencePositions(sourceFile,searchText,start,container.getEnd());if(possiblePositions.length){var searchSymbols_1=populateSearchSymbolSet(searchSymbol,searchLocation);ts.forEach(possiblePositions,function(position){cancellationToken.throwIfCancellationRequested();var referenceLocation=ts.getTouchingPropertyName(sourceFile,position);if(!isValidReferencePosition(referenceLocation,searchText))return void((findInStrings&&ts.isInString(sourceFile,position)||findInComments&&ts.isInNonReferenceComment(sourceFile,position))&&result.push({definition:void 0,references:[{fileName:sourceFile.fileName,textSpan:ts.createTextSpan(position,searchText.length),isWriteAccess:!1,isDefinition:!1}]}));if(getMeaningFromLocation(referenceLocation)&searchMeaning){var referenceSymbol=typeChecker.getSymbolAtLocation(referenceLocation);if(referenceSymbol){var referenceSymbolDeclaration=referenceSymbol.valueDeclaration,shorthandValueSymbol=typeChecker.getShorthandAssignmentValueSymbol(referenceSymbolDeclaration),relatedSymbol=getRelatedSymbol(searchSymbols_1,referenceSymbol,referenceLocation);if(relatedSymbol){var referencedSymbol=getReferencedSymbol(relatedSymbol);referencedSymbol.references.push(getReferenceEntryFromNode(referenceLocation))}else if(!(67108864&referenceSymbol.flags)&&searchSymbols_1.indexOf(shorthandValueSymbol)>=0){var referencedSymbol=getReferencedSymbol(shorthandValueSymbol);referencedSymbol.references.push(getReferenceEntryFromNode(referenceSymbolDeclaration.name))}}}})}}function getReferencesForSuperKeyword(superKeyword){var searchSpaceNode=ts.getSuperContainer(superKeyword,!1);if(!searchSpaceNode)return void 0;var staticFlag=32;switch(searchSpaceNode.kind){case 145:case 144:case 147:case 146:case 148:case 149:case 150:staticFlag&=searchSpaceNode.flags,searchSpaceNode=searchSpaceNode.parent;break;default:return void 0}var references=[],sourceFile=searchSpaceNode.getSourceFile(),possiblePositions=getPossibleSymbolReferencePositions(sourceFile,"super",searchSpaceNode.getStart(),searchSpaceNode.getEnd());ts.forEach(possiblePositions,function(position){cancellationToken.throwIfCancellationRequested();var node=ts.getTouchingWord(sourceFile,position);if(node&&95===node.kind){var container=ts.getSuperContainer(node,!1);container&&(32&container.flags)===staticFlag&&container.parent.symbol===searchSpaceNode.symbol&&references.push(getReferenceEntryFromNode(node))}});var definition=getDefinition(searchSpaceNode.symbol);return[{definition:definition,references:references}]}function getReferencesForThisKeyword(thisOrSuperKeyword,sourceFiles){function getThisReferencesInFile(sourceFile,searchSpaceNode,possiblePositions,result){ts.forEach(possiblePositions,function(position){cancellationToken.throwIfCancellationRequested();var node=ts.getTouchingWord(sourceFile,position);if(node&&isThis(node)){var container=ts.getThisContainer(node,!1);switch(searchSpaceNode.kind){case 179:case 220:searchSpaceNode.symbol===container.symbol&&result.push(getReferenceEntryFromNode(node));break;case 147:case 146:ts.isObjectLiteralMethod(searchSpaceNode)&&searchSpaceNode.symbol===container.symbol&&result.push(getReferenceEntryFromNode(node));break;case 192:case 221:container.parent&&searchSpaceNode.symbol===container.parent.symbol&&(32&container.flags)===staticFlag&&result.push(getReferenceEntryFromNode(node));break;case 256:256!==container.kind||ts.isExternalModule(container)||result.push(getReferenceEntryFromNode(node))}}})}var searchSpaceNode=ts.getThisContainer(thisOrSuperKeyword,!1),staticFlag=32;switch(searchSpaceNode.kind){case 147:case 146:if(ts.isObjectLiteralMethod(searchSpaceNode))break;case 145:case 144:case 148:case 149:case 150:staticFlag&=searchSpaceNode.flags,searchSpaceNode=searchSpaceNode.parent;break;case 256:if(ts.isExternalModule(searchSpaceNode))return void 0;case 220:case 179:break;default:return void 0}var possiblePositions,references=[];if(256===searchSpaceNode.kind)ts.forEach(sourceFiles,function(sourceFile){possiblePositions=getPossibleSymbolReferencePositions(sourceFile,"this",sourceFile.getStart(),sourceFile.getEnd()),getThisReferencesInFile(sourceFile,sourceFile,possiblePositions,references)});else{var sourceFile=searchSpaceNode.getSourceFile();possiblePositions=getPossibleSymbolReferencePositions(sourceFile,"this",searchSpaceNode.getStart(),searchSpaceNode.getEnd()),getThisReferencesInFile(sourceFile,searchSpaceNode,possiblePositions,references)}var thisOrSuperSymbol=typeChecker.getSymbolAtLocation(thisOrSuperKeyword),displayParts=thisOrSuperSymbol&&getSymbolDisplayPartsDocumentationAndSymbolKind(thisOrSuperSymbol,thisOrSuperKeyword.getSourceFile(),getContainerNode(thisOrSuperKeyword),thisOrSuperKeyword).displayParts;return[{definition:{containerKind:"",containerName:"",fileName:node.getSourceFile().fileName,kind:ScriptElementKind.variableElement,name:"this",textSpan:ts.createTextSpanFromBounds(node.getStart(),node.getEnd()),displayParts:displayParts},references:references}]}function getReferencesForStringLiteral(node,sourceFiles){function getReferencesForStringLiteralInFile(sourceFile,searchType,possiblePositions,references){for(var _i=0,possiblePositions_1=possiblePositions;_i<possiblePositions_1.length;_i++){var position=possiblePositions_1[_i];cancellationToken.throwIfCancellationRequested();var node_2=ts.getTouchingWord(sourceFile,position);if(!node_2||9!==node_2.kind)return;var type_1=getStringLiteralTypeForNode(node_2,typeChecker);type_1===searchType&&references.push(getReferenceEntryFromNode(node_2))}}var typeChecker=program.getTypeChecker(),type=getStringLiteralTypeForNode(node,typeChecker);if(!type)return void 0;for(var references=[],_i=0,sourceFiles_5=sourceFiles;_i<sourceFiles_5.length;_i++){var sourceFile=sourceFiles_5[_i],possiblePositions=getPossibleSymbolReferencePositions(sourceFile,type.text,sourceFile.getStart(),sourceFile.getEnd());getReferencesForStringLiteralInFile(sourceFile,type,possiblePositions,references)}return[{definition:{containerKind:"",containerName:"",fileName:node.getSourceFile().fileName,kind:ScriptElementKind.variableElement,name:type.text,textSpan:ts.createTextSpanFromBounds(node.getStart(),node.getEnd()),displayParts:[ts.displayPart(ts.getTextOfNode(node),SymbolDisplayPartKind.stringLiteral)]},references:references}]}function populateSearchSymbolSet(symbol,location){var result=[symbol],containingObjectLiteralElement=getContainingObjectLiteralElement(location);if(containingObjectLiteralElement&&254!==containingObjectLiteralElement.kind){var propertySymbol=getPropertySymbolOfDestructuringAssignment(location);propertySymbol&&result.push(propertySymbol)}var aliasSymbol=getAliasSymbolForPropertyNameSymbol(symbol,location);if(aliasSymbol&&(result=result.concat(populateSearchSymbolSet(aliasSymbol,location))),containingObjectLiteralElement){ts.forEach(getPropertySymbolsFromContextualType(containingObjectLiteralElement),function(contextualSymbol){ts.addRange(result,typeChecker.getRootSymbols(contextualSymbol))});var shorthandValueSymbol=typeChecker.getShorthandAssignmentValueSymbol(location.parent);shorthandValueSymbol&&result.push(shorthandValueSymbol)}symbol.valueDeclaration&&142===symbol.valueDeclaration.kind&&ts.isParameterPropertyDeclaration(symbol.valueDeclaration)&&(result=result.concat(typeChecker.getSymbolsOfParameterPropertyDeclaration(symbol.valueDeclaration,symbol.name)));var bindingElementPropertySymbol=getPropertySymbolOfObjectBindingPatternWithoutPropertyName(symbol);return bindingElementPropertySymbol&&result.push(bindingElementPropertySymbol),ts.forEach(typeChecker.getRootSymbols(symbol),function(rootSymbol){rootSymbol!==symbol&&result.push(rootSymbol),rootSymbol.parent&&96&rootSymbol.parent.flags&&getPropertySymbolsFromBaseTypes(rootSymbol.parent,rootSymbol.getName(),result,ts.createMap())}),result}function getPropertySymbolsFromBaseTypes(symbol,propertyName,result,previousIterationSymbolsCache){function getPropertySymbolFromTypeReference(typeReference){if(typeReference){var type=typeChecker.getTypeAtLocation(typeReference);if(type){var propertySymbol=typeChecker.getPropertyOfType(type,propertyName);propertySymbol&&result.push.apply(result,typeChecker.getRootSymbols(propertySymbol)),previousIterationSymbolsCache[symbol.name]=symbol,getPropertySymbolsFromBaseTypes(type.symbol,propertyName,result,previousIterationSymbolsCache)}}}symbol&&(symbol.name in previousIterationSymbolsCache||96&symbol.flags&&ts.forEach(symbol.getDeclarations(),function(declaration){ts.isClassLike(declaration)?(getPropertySymbolFromTypeReference(ts.getClassExtendsHeritageClauseElement(declaration)),ts.forEach(ts.getClassImplementsHeritageClauseElements(declaration),getPropertySymbolFromTypeReference)):222===declaration.kind&&ts.forEach(ts.getInterfaceBaseTypeNodes(declaration),getPropertySymbolFromTypeReference)}))}function getRelatedSymbol(searchSymbols,referenceSymbol,referenceLocation){if(searchSymbols.indexOf(referenceSymbol)>=0)return referenceSymbol;var aliasSymbol=getAliasSymbolForPropertyNameSymbol(referenceSymbol,referenceLocation);if(aliasSymbol)return getRelatedSymbol(searchSymbols,aliasSymbol,referenceLocation);var containingObjectLiteralElement=getContainingObjectLiteralElement(referenceLocation);if(containingObjectLiteralElement){var contextualSymbol=ts.forEach(getPropertySymbolsFromContextualType(containingObjectLiteralElement),function(contextualSymbol){return ts.forEach(typeChecker.getRootSymbols(contextualSymbol),function(s){return searchSymbols.indexOf(s)>=0?s:void 0})});if(contextualSymbol)return contextualSymbol;var propertySymbol=getPropertySymbolOfDestructuringAssignment(referenceLocation);if(propertySymbol&&searchSymbols.indexOf(propertySymbol)>=0)return propertySymbol}var bindingElementPropertySymbol=getPropertySymbolOfObjectBindingPatternWithoutPropertyName(referenceSymbol);return bindingElementPropertySymbol&&searchSymbols.indexOf(bindingElementPropertySymbol)>=0?bindingElementPropertySymbol:ts.forEach(typeChecker.getRootSymbols(referenceSymbol),function(rootSymbol){if(searchSymbols.indexOf(rootSymbol)>=0)return rootSymbol;if(rootSymbol.parent&&96&rootSymbol.parent.flags){var result_5=[];return getPropertySymbolsFromBaseTypes(rootSymbol.parent,rootSymbol.getName(),result_5,ts.createMap()),ts.forEach(result_5,function(s){return searchSymbols.indexOf(s)>=0?s:void 0})}return void 0})}function getNameFromObjectLiteralElement(node){if(140===node.name.kind){var nameExpression=node.name.expression;return ts.isStringOrNumericLiteral(nameExpression.kind)?nameExpression.text:void 0}return node.name.text}function getPropertySymbolsFromContextualType(node){var objectLiteral=node.parent,contextualType=typeChecker.getContextualType(objectLiteral),name=getNameFromObjectLiteralElement(node);if(name&&contextualType){var result_6=[],symbol_2=contextualType.getProperty(name);return symbol_2&&result_6.push(symbol_2),524288&contextualType.flags&&ts.forEach(contextualType.types,function(t){var symbol=t.getProperty(name);symbol&&result_6.push(symbol)}),result_6}return void 0}function getIntersectingMeaningFromDeclarations(meaning,declarations){if(declarations){var lastIterationMeaning=void 0;do{lastIterationMeaning=meaning;for(var _i=0,declarations_10=declarations;_i<declarations_10.length;_i++){var declaration=declarations_10[_i],declarationMeaning=getMeaningFromDeclaration(declaration);declarationMeaning&meaning&&(meaning|=declarationMeaning)}}while(meaning!==lastIterationMeaning)}return meaning}var typeChecker=program.getTypeChecker();if(isLabelName(node)){if(isJumpStatementTarget(node)){var labelDefinition=getTargetLabel(node.parent,node.text);return labelDefinition?getLabelReferencesInNode(labelDefinition.parent,labelDefinition):void 0}return getLabelReferencesInNode(node.parent,node)}if(isThis(node))return getReferencesForThisKeyword(node,sourceFiles);if(95===node.kind)return getReferencesForSuperKeyword(node);var symbol=typeChecker.getSymbolAtLocation(node);if(!symbol&&9===node.kind)return getReferencesForStringLiteral(node,sourceFiles);if(!symbol)return void 0;var declarations=symbol.declarations;if(!declarations||!declarations.length)return void 0;var result,searchMeaning=getIntersectingMeaningFromDeclarations(getMeaningFromLocation(node),declarations),declaredName=ts.stripQuotes(ts.getDeclaredName(typeChecker,symbol,node)),scope=getSymbolScope(symbol),symbolToIndex=[];if(scope)result=[],getReferencesInNode(scope,symbol,declaredName,node,searchMeaning,findInStrings,findInComments,result,symbolToIndex);else for(var internedName=getInternedName(symbol,node,declarations),_i=0,sourceFiles_4=sourceFiles;_i<sourceFiles_4.length;_i++){var sourceFile=sourceFiles_4[_i];cancellationToken.throwIfCancellationRequested();var nameTable=getNameTable(sourceFile);void 0!==nameTable[internedName]&&(result=result||[],getReferencesInNode(sourceFile,symbol,declaredName,node,searchMeaning,findInStrings,findInComments,result,symbolToIndex))}return result}function getReferenceEntryFromNode(node){var start=node.getStart(),end=node.getEnd();return 9===node.kind&&(start+=1,end-=1),{fileName:node.getSourceFile().fileName,textSpan:ts.createTextSpanFromBounds(start,end),isWriteAccess:isWriteAccess(node),isDefinition:ts.isDeclarationName(node)||ts.isLiteralComputedPropertyDeclarationName(node)}}function isWriteAccess(node){if(69===node.kind&&ts.isDeclarationName(node))return!0;var parent=node.parent;if(parent){if(186===parent.kind||185===parent.kind)return!0;if(187===parent.kind&&parent.left===node){var operator=parent.operatorToken.kind;return operator>=56&&68>=operator}}return!1}function getNavigateToItems(searchValue,maxResultCount,excludeDts){synchronizeHostData();var checker=getProgram().getTypeChecker();return ts.NavigateTo.getNavigateToItems(program,checker,cancellationToken,searchValue,maxResultCount,excludeDts)}function getEmitOutput(fileName,emitDeclarationsOnly){function writeFile(fileName,data,writeByteOrderMark){outputFiles.push({name:fileName,writeByteOrderMark:writeByteOrderMark,text:data})}synchronizeHostData();var sourceFile=getValidSourceFile(fileName),outputFiles=[],emitOutput=program.emit(sourceFile,writeFile,cancellationToken,emitDeclarationsOnly);return{outputFiles:outputFiles,emitSkipped:emitOutput.emitSkipped}}function getMeaningFromDeclaration(node){switch(node.kind){case 142:case 218:case 169:case 145:case 144:case 253:case 254:case 255:case 147:case 146:case 148:case 149:case 150:case 220:case 179:case 180:case 252:return 1;case 141:case 222:case 223:case 159:return 2;case 221:case 224:return 3;case 225:return ts.isAmbientModule(node)?5:1===ts.getModuleInstanceState(node)?5:4;case 233:case 234:case 229:case 230:case 235:case 236:return 7;case 256:return 5}return 7}function isTypeReference(node){return ts.isRightSideOfQualifiedNameOrPropertyAccess(node)&&(node=node.parent),155===node.parent.kind||194===node.parent.kind&&!ts.isExpressionWithTypeArgumentsInClassExtendsClause(node.parent)||97===node.kind&&!ts.isExpression(node)||165===node.kind}function isNamespaceReference(node){return isQualifiedNameNamespaceReference(node)||isPropertyAccessNamespaceReference(node)}function isPropertyAccessNamespaceReference(node){var root=node,isLastClause=!0;if(172===root.parent.kind){for(;root.parent&&172===root.parent.kind;)root=root.parent;isLastClause=root.name===node}if(!isLastClause&&194===root.parent.kind&&251===root.parent.parent.kind){var decl=root.parent.parent.parent;return 221===decl.kind&&106===root.parent.parent.token||222===decl.kind&&83===root.parent.parent.token}return!1}function isQualifiedNameNamespaceReference(node){var root=node,isLastClause=!0;if(139===root.parent.kind){for(;root.parent&&139===root.parent.kind;)root=root.parent;isLastClause=root.right===node}return 155===root.parent.kind&&!isLastClause}function isInRightSideOfImport(node){for(;139===node.parent.kind;)node=node.parent;return ts.isInternalModuleImportEqualsDeclaration(node.parent)&&node.parent.moduleReference===node}function getMeaningFromRightHandSideOfImportEquals(node){return ts.Debug.assert(69===node.kind),139===node.parent.kind&&node.parent.right===node&&229===node.parent.parent.kind?7:4}function getMeaningFromLocation(node){return 235===node.parent.kind?7:isInRightSideOfImport(node)?getMeaningFromRightHandSideOfImportEquals(node):ts.isDeclarationName(node)?getMeaningFromDeclaration(node.parent):isTypeReference(node)?2:isNamespaceReference(node)?4:1}function getSignatureHelpItems(fileName,position){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);return ts.SignatureHelp.getSignatureHelpItems(program,sourceFile,position,cancellationToken)}function getNonBoundSourceFile(fileName){return syntaxTreeCache.getCurrentSourceFile(fileName)}function getNameOrDottedNameSpan(fileName,startPos,endPos){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName),node=ts.getTouchingPropertyName(sourceFile,startPos);if(node!==sourceFile){switch(node.kind){case 172:case 139:case 9:case 84:case 99:case 93:case 95:case 97:case 165:case 69:break;default:return}for(var nodeForStartPos=node;;)if(isRightSideOfPropertyAccess(nodeForStartPos)||isRightSideOfQualifiedName(nodeForStartPos))nodeForStartPos=nodeForStartPos.parent;else{if(!isNameOfModuleDeclaration(nodeForStartPos))break;if(225!==nodeForStartPos.parent.parent.kind||nodeForStartPos.parent.parent.body!==nodeForStartPos.parent)break;nodeForStartPos=nodeForStartPos.parent.parent.name}return ts.createTextSpanFromBounds(nodeForStartPos.getStart(),node.getEnd())}}function getBreakpointStatementAtPosition(fileName,position){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);return ts.BreakpointResolver.spanInSourceFileAtLocation(sourceFile,position)}function getNavigationBarItems(fileName){return ts.NavigationBar.getNavigationBarItems(syntaxTreeCache.getCurrentSourceFile(fileName))}function getNavigationTree(fileName){return ts.NavigationBar.getNavigationTree(syntaxTreeCache.getCurrentSourceFile(fileName))}function getSemanticClassifications(fileName,span){return convertClassifications(getEncodedSemanticClassifications(fileName,span))}function checkForClassificationCancellation(kind){switch(kind){case 225:case 221:case 222:case 220:cancellationToken.throwIfCancellationRequested()}}function getEncodedSemanticClassifications(fileName,span){function pushClassification(start,length,type){result.push(start),result.push(length),result.push(type)}function classifySymbol(symbol,meaningAtPosition){function hasValueSideModule(symbol){return ts.forEach(symbol.declarations,function(declaration){return 225===declaration.kind&&1===ts.getModuleInstanceState(declaration)})}var flags=symbol.getFlags();if(0!==(788448&flags)){if(32&flags)return 11;if(384&flags)return 12;if(524288&flags)return 16;if(2&meaningAtPosition){if(64&flags)return 13;if(262144&flags)return 15}else if(1536&flags&&(4&meaningAtPosition||1&meaningAtPosition&&hasValueSideModule(symbol)))return 14;return void 0}}function processNode(node){if(node&&ts.textSpanIntersectsWith(span,node.getFullStart(),node.getFullWidth())){var kind=node.kind;if(checkForClassificationCancellation(kind),69===kind&&!ts.nodeIsMissing(node)){var identifier=node;if(classifiableNames[identifier.text]){var symbol=typeChecker.getSymbolAtLocation(node);if(symbol){var type=classifySymbol(symbol,getMeaningFromLocation(node));type&&pushClassification(node.getStart(),node.getWidth(),type)}}}ts.forEachChild(node,processNode)}}synchronizeHostData();var sourceFile=getValidSourceFile(fileName),typeChecker=program.getTypeChecker(),result=[],classifiableNames=program.getClassifiableNames();return processNode(sourceFile),{spans:result,endOfLineState:0}}function getClassificationTypeName(type){switch(type){case 1:return ClassificationTypeNames.comment;case 2:return ClassificationTypeNames.identifier;case 3:return ClassificationTypeNames.keyword;case 4:return ClassificationTypeNames.numericLiteral;case 5:return ClassificationTypeNames.operator;case 6:return ClassificationTypeNames.stringLiteral;case 8:return ClassificationTypeNames.whiteSpace;case 9:return ClassificationTypeNames.text;case 10:return ClassificationTypeNames.punctuation;case 11:return ClassificationTypeNames.className;case 12:return ClassificationTypeNames.enumName;case 13:return ClassificationTypeNames.interfaceName;case 14:return ClassificationTypeNames.moduleName;case 15:return ClassificationTypeNames.typeParameterName;case 16:return ClassificationTypeNames.typeAliasName;case 17:return ClassificationTypeNames.parameterName;case 18:return ClassificationTypeNames.docCommentTagName;case 19:return ClassificationTypeNames.jsxOpenTagName;case 20:return ClassificationTypeNames.jsxCloseTagName;case 21:return ClassificationTypeNames.jsxSelfClosingTagName;case 22:return ClassificationTypeNames.jsxAttribute;case 23:return ClassificationTypeNames.jsxText;case 24:return ClassificationTypeNames.jsxAttributeStringLiteralValue}}function convertClassifications(classifications){ts.Debug.assert(classifications.spans.length%3===0);for(var dense=classifications.spans,result=[],i=0,n=dense.length;n>i;i+=3)result.push({textSpan:ts.createTextSpan(dense[i],dense[i+1]),classificationType:getClassificationTypeName(dense[i+2])});return result}function getSyntacticClassifications(fileName,span){
return convertClassifications(getEncodedSyntacticClassifications(fileName,span))}function getEncodedSyntacticClassifications(fileName,span){function pushClassification(start,length,type){result.push(start),result.push(length),result.push(type)}function classifyLeadingTriviaAndGetTokenStart(token){for(triviaScanner.setTextPos(token.pos);;){var start=triviaScanner.getTextPos();if(!ts.couldStartTrivia(sourceFile.text,start))return start;var kind=triviaScanner.scan(),end=triviaScanner.getTextPos(),width=end-start;if(!ts.isTrivia(kind))return start;if(4!==kind&&5!==kind)if(ts.isComment(kind))classifyComment(token,kind,start,width),triviaScanner.setTextPos(end);else if(7===kind){var text=sourceFile.text,ch=text.charCodeAt(start);if(60===ch||62===ch){pushClassification(start,width,1);continue}ts.Debug.assert(61===ch),classifyDisabledMergeCode(text,start,end)}}}function classifyComment(token,kind,start,width){if(3===kind){var docCommentAndDiagnostics=ts.parseIsolatedJSDocComment(sourceFile.text,start,width);if(docCommentAndDiagnostics&&docCommentAndDiagnostics.jsDocComment)return docCommentAndDiagnostics.jsDocComment.parent=token,void classifyJSDocComment(docCommentAndDiagnostics.jsDocComment)}pushCommentRange(start,width)}function pushCommentRange(start,width){pushClassification(start,width,1)}function classifyJSDocComment(docComment){function processJSDocParameterTag(tag){tag.preParameterName&&(pushCommentRange(pos,tag.preParameterName.pos-pos),pushClassification(tag.preParameterName.pos,tag.preParameterName.end-tag.preParameterName.pos,17),pos=tag.preParameterName.end),tag.typeExpression&&(pushCommentRange(pos,tag.typeExpression.pos-pos),processElement(tag.typeExpression),pos=tag.typeExpression.end),tag.postParameterName&&(pushCommentRange(pos,tag.postParameterName.pos-pos),pushClassification(tag.postParameterName.pos,tag.postParameterName.end-tag.postParameterName.pos,17),pos=tag.postParameterName.end)}for(var pos=docComment.pos,_i=0,_a=docComment.tags;_i<_a.length;_i++){var tag=_a[_i];switch(tag.pos!==pos&&pushCommentRange(pos,tag.pos-pos),pushClassification(tag.atToken.pos,tag.atToken.end-tag.atToken.pos,10),pushClassification(tag.tagName.pos,tag.tagName.end-tag.tagName.pos,18),pos=tag.tagName.end,tag.kind){case 275:processJSDocParameterTag(tag);break;case 278:processJSDocTemplateTag(tag);break;case 277:processElement(tag.typeExpression);break;case 276:processElement(tag.typeExpression)}pos=tag.end}pos!==docComment.end&&pushCommentRange(pos,docComment.end-pos)}function processJSDocTemplateTag(tag){for(var _i=0,_a=tag.getChildren();_i<_a.length;_i++){var child=_a[_i];processElement(child)}}function classifyDisabledMergeCode(text,start,end){var i;for(i=start;end>i&&!ts.isLineBreak(text.charCodeAt(i));i++);for(pushClassification(start,i-start,1),mergeConflictScanner.setTextPos(i);mergeConflictScanner.getTextPos()<end;)classifyDisabledCodeToken()}function classifyDisabledCodeToken(){var start=mergeConflictScanner.getTextPos(),tokenKind=mergeConflictScanner.scan(),end=mergeConflictScanner.getTextPos(),type=classifyTokenType(tokenKind);type&&pushClassification(start,end-start,type)}function tryClassifyNode(node){if(ts.isJSDocTag(node))return!0;if(ts.nodeIsMissing(node))return!0;var classifiedElementName=tryClassifyJsxElementName(node);if(!ts.isToken(node)&&244!==node.kind&&void 0===classifiedElementName)return!1;var tokenStart=244===node.kind?node.pos:classifyLeadingTriviaAndGetTokenStart(node),tokenWidth=node.end-tokenStart;if(ts.Debug.assert(tokenWidth>=0),tokenWidth>0){var type=classifiedElementName||classifyTokenType(node.kind,node);type&&pushClassification(tokenStart,tokenWidth,type)}return!0}function tryClassifyJsxElementName(token){switch(token.parent&&token.parent.kind){case 243:if(token.parent.tagName===token)return 19;break;case 245:if(token.parent.tagName===token)return 20;break;case 242:if(token.parent.tagName===token)return 21;break;case 246:if(token.parent.name===token)return 22}return void 0}function classifyTokenType(tokenKind,token){if(ts.isKeyword(tokenKind))return 3;if((25===tokenKind||27===tokenKind)&&token&&ts.getTypeArgumentOrTypeParameterList(token.parent))return 10;if(ts.isPunctuation(tokenKind)){if(token){if(56===tokenKind&&(218===token.parent.kind||145===token.parent.kind||142===token.parent.kind||246===token.parent.kind))return 5;if(187===token.parent.kind||185===token.parent.kind||186===token.parent.kind||188===token.parent.kind)return 5}return 10}if(8===tokenKind)return 4;if(9===tokenKind)return 246===token.parent.kind?24:6;if(10===tokenKind)return 6;if(ts.isTemplateLiteralKind(tokenKind))return 6;if(244===tokenKind)return 23;if(69===tokenKind){if(token)switch(token.parent.kind){case 221:if(token.parent.name===token)return 11;return;case 141:if(token.parent.name===token)return 15;return;case 222:if(token.parent.name===token)return 13;return;case 224:if(token.parent.name===token)return 12;return;case 225:if(token.parent.name===token)return 14;return;case 142:if(token.parent.name===token){var isThis_1=69===token.kind&&97===token.originalKeywordKind;return isThis_1?3:17}return}return 2}}function processElement(element){if(element&&ts.decodedTextSpanIntersectsWith(spanStart,spanLength,element.pos,element.getFullWidth())){checkForClassificationCancellation(element.kind);for(var children=element.getChildren(sourceFile),i=0,n=children.length;n>i;i++){var child=children[i];tryClassifyNode(child)||processElement(child)}}}var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName),spanStart=span.start,spanLength=span.length,triviaScanner=ts.createScanner(2,!1,sourceFile.languageVariant,sourceFile.text),mergeConflictScanner=ts.createScanner(2,!1,sourceFile.languageVariant,sourceFile.text),result=[];return processElement(sourceFile),{spans:result,endOfLineState:0}}function getOutliningSpans(fileName){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);return ts.OutliningElementsCollector.collectElements(sourceFile)}function getBraceMatchingAtPosition(fileName,position){function getMatchingTokenKind(token){switch(token.kind){case 15:return 16;case 17:return 18;case 19:return 20;case 25:return 27;case 16:return 15;case 18:return 17;case 20:return 19;case 27:return 25}return void 0}var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName),result=[],token=ts.getTouchingToken(sourceFile,position);if(token.getStart(sourceFile)===position){var matchKind=getMatchingTokenKind(token);if(matchKind)for(var parentElement=token.parent,childNodes=parentElement.getChildren(sourceFile),_i=0,childNodes_1=childNodes;_i<childNodes_1.length;_i++){var current=childNodes_1[_i];if(current.kind===matchKind){var range1=ts.createTextSpan(token.getStart(sourceFile),token.getWidth(sourceFile)),range2=ts.createTextSpan(current.getStart(sourceFile),current.getWidth(sourceFile));range1.start<range2.start?result.push(range1,range2):result.push(range2,range1);break}}}return result}function getIndentationAtPosition(fileName,position,optionsOrSettings){var start=ts.timestamp(),settings=toEditorSettings(optionsOrSettings),sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);log("getIndentationAtPosition: getCurrentSourceFile: "+(ts.timestamp()-start)),start=ts.timestamp();var result=ts.formatting.SmartIndenter.getIndentation(position,sourceFile,settings);return log("getIndentationAtPosition: computeIndentation  : "+(ts.timestamp()-start)),result}function getFormattingEditsForRange(fileName,start,end,optionsOrSettings){var settings=toEditorSettings(optionsOrSettings),sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);return ts.formatting.formatSelection(start,end,sourceFile,getRuleProvider(settings),settings)}function getFormattingEditsForDocument(fileName,optionsOrSettings){var settings=toEditorSettings(optionsOrSettings),sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);return ts.formatting.formatDocument(sourceFile,getRuleProvider(settings),settings)}function getFormattingEditsAfterKeystroke(fileName,position,key,optionsOrSettings){var settings=toEditorSettings(optionsOrSettings),sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);return"}"===key?ts.formatting.formatOnClosingCurly(position,sourceFile,getRuleProvider(settings),settings):";"===key?ts.formatting.formatOnSemicolon(position,sourceFile,getRuleProvider(settings),settings):"\n"===key?ts.formatting.formatOnEnter(position,sourceFile,getRuleProvider(settings),settings):[]}function getDocCommentTemplateAtPosition(fileName,position){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);if(ts.isInString(sourceFile,position)||ts.isInComment(sourceFile,position)||ts.hasDocComment(sourceFile,position))return void 0;var tokenAtPos=ts.getTokenAtPosition(sourceFile,position),tokenStart=tokenAtPos.getStart();if(!tokenAtPos||position>tokenStart)return void 0;var commentOwner;findOwner:for(commentOwner=tokenAtPos;commentOwner;commentOwner=commentOwner.parent)switch(commentOwner.kind){case 220:case 147:case 148:case 221:case 200:break findOwner;case 256:return void 0;case 225:if(225===commentOwner.parent.kind)return void 0;break findOwner}if(!commentOwner||commentOwner.getStart()<position)return void 0;for(var parameters=getParametersForJsDocOwningNode(commentOwner),posLineAndChar=sourceFile.getLineAndCharacterOfPosition(position),lineStart=sourceFile.getLineStarts()[posLineAndChar.line],indentationStr=sourceFile.text.substr(lineStart,posLineAndChar.character),newLine=ts.getNewLineOrDefaultFromHost(host),docParams="",i=0,numParams=parameters.length;numParams>i;i++){var currentName=parameters[i].name,paramName=69===currentName.kind?currentName.text:"param"+i;docParams+=indentationStr+" * @param "+paramName+newLine}var preamble="/**"+newLine+indentationStr+" * ",result=preamble+newLine+docParams+indentationStr+" */"+(tokenStart===position?newLine+indentationStr:"");return{newText:result,caretOffset:preamble.length}}function isValidBraceCompletionAtPosition(fileName,position,openingBrace){if(60===openingBrace)return!1;var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);return ts.isInString(sourceFile,position)||ts.isInComment(sourceFile,position)?!1:ts.isInsideJsxElementOrAttribute(sourceFile,position)?123===openingBrace:ts.isInTemplateString(sourceFile,position)?!1:!0}function getParametersForJsDocOwningNode(commentOwner){if(ts.isFunctionLike(commentOwner))return commentOwner.parameters;if(200===commentOwner.kind){var varStatement=commentOwner,varDeclarations=varStatement.declarationList.declarations;if(1===varDeclarations.length&&varDeclarations[0].initializer)return getParametersFromRightHandSideOfAssignment(varDeclarations[0].initializer)}return emptyArray}function getParametersFromRightHandSideOfAssignment(rightHandSide){for(;178===rightHandSide.kind;)rightHandSide=rightHandSide.expression;switch(rightHandSide.kind){case 179:case 180:return rightHandSide.parameters;case 192:for(var _i=0,_a=rightHandSide.members;_i<_a.length;_i++){var member=_a[_i];if(148===member.kind)return member.parameters}}return emptyArray}function getTodoComments(fileName,descriptors){function escapeRegExp(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function getTodoCommentsRegExp(){var singleLineCommentStart=/(?:\/\/+\s*)/.source,multiLineCommentStart=/(?:\/\*+\s*)/.source,anyNumberOfSpacesAndAsterisksAtStartOfLine=/(?:^(?:\s|\*)*)/.source,preamble="("+anyNumberOfSpacesAndAsterisksAtStartOfLine+"|"+singleLineCommentStart+"|"+multiLineCommentStart+")",literals="(?:"+ts.map(descriptors,function(d){return"("+escapeRegExp(d.text)+")"}).join("|")+")",endOfLineOrEndOfComment=/(?:$|\*\/)/.source,messageRemainder=/(?:.*?)/.source,messagePortion="("+literals+messageRemainder+")",regExpString=preamble+messagePortion+endOfLineOrEndOfComment;return new RegExp(regExpString,"gim")}function isLetterOrDigit(char){return char>=97&&122>=char||char>=65&&90>=char||char>=48&&57>=char}synchronizeHostData();var sourceFile=getValidSourceFile(fileName);cancellationToken.throwIfCancellationRequested();var fileContents=sourceFile.text,result=[];if(descriptors.length>0)for(var regExp=getTodoCommentsRegExp(),matchArray=void 0;matchArray=regExp.exec(fileContents);){cancellationToken.throwIfCancellationRequested();var firstDescriptorCaptureIndex=3;ts.Debug.assert(matchArray.length===descriptors.length+firstDescriptorCaptureIndex);var preamble=matchArray[1],matchPosition=matchArray.index+preamble.length,token=ts.getTokenAtPosition(sourceFile,matchPosition);if(isInsideComment(sourceFile,token,matchPosition)){for(var descriptor=void 0,i=0,n=descriptors.length;n>i;i++)matchArray[i+firstDescriptorCaptureIndex]&&(descriptor=descriptors[i]);if(ts.Debug.assert(void 0!==descriptor),!isLetterOrDigit(fileContents.charCodeAt(matchPosition+descriptor.text.length))){var message=matchArray[2];result.push({descriptor:descriptor,message:message,position:matchPosition})}}}return result}function getStringLiteralTypeForNode(node,typeChecker){var searchNode=166===node.parent.kind?node.parent:node,type=typeChecker.getTypeAtLocation(searchNode);return type&&32&type.flags?type:void 0}function getRenameInfo(fileName,position){function getRenameInfoError(localizedErrorMessage){return{canRename:!1,localizedErrorMessage:localizedErrorMessage,displayName:void 0,fullDisplayName:void 0,kind:void 0,kindModifiers:void 0,triggerSpan:void 0}}function isDefinedInLibraryFile(declaration){if(defaultLibFileName){var sourceFile_2=declaration.getSourceFile(),canonicalName=getCanonicalFileName(ts.normalizePath(sourceFile_2.fileName));if(canonicalName===canonicalDefaultLibName)return!0}return!1}function createTriggerSpanForNode(node,sourceFile){var start=node.getStart(sourceFile),width=node.getWidth(sourceFile);return 9===node.kind&&(start+=1,width-=2),ts.createTextSpan(start,width)}synchronizeHostData();var sourceFile=getValidSourceFile(fileName),typeChecker=program.getTypeChecker(),defaultLibFileName=host.getDefaultLibFileName(host.getCompilationSettings()),canonicalDefaultLibName=getCanonicalFileName(ts.normalizePath(defaultLibFileName)),node=ts.getTouchingWord(sourceFile,position,!0);if(node&&(69===node.kind||9===node.kind||isLiteralNameOfPropertyDeclarationOrIndexAccess(node)||isThis(node))){var symbol=typeChecker.getSymbolAtLocation(node);if(symbol){var declarations=symbol.getDeclarations();if(declarations&&declarations.length>0){if(ts.forEach(declarations,isDefinedInLibraryFile))return getRenameInfoError(ts.getLocaleSpecificMessage(ts.Diagnostics.You_cannot_rename_elements_that_are_defined_in_the_standard_TypeScript_library));var displayName=ts.stripQuotes(ts.getDeclaredName(typeChecker,symbol,node)),kind=getSymbolKind(symbol,node);if(kind)return{canRename:!0,kind:kind,displayName:displayName,localizedErrorMessage:void 0,fullDisplayName:typeChecker.getFullyQualifiedName(symbol),kindModifiers:getSymbolModifiers(symbol),triggerSpan:createTriggerSpanForNode(node,sourceFile)}}}else if(9===node.kind){var type=getStringLiteralTypeForNode(node,typeChecker);if(type){if(isDefinedInLibraryFile(node))return getRenameInfoError(ts.getLocaleSpecificMessage(ts.Diagnostics.You_cannot_rename_elements_that_are_defined_in_the_standard_TypeScript_library));var displayName=ts.stripQuotes(type.text);return{canRename:!0,kind:ScriptElementKind.variableElement,displayName:displayName,localizedErrorMessage:void 0,fullDisplayName:displayName,kindModifiers:ScriptElementKindModifier.none,triggerSpan:createTriggerSpanForNode(node,sourceFile)}}}}return getRenameInfoError(ts.getLocaleSpecificMessage(ts.Diagnostics.You_cannot_rename_this_element))}void 0===documentRegistry&&(documentRegistry=createDocumentRegistry(host.useCaseSensitiveFileNames&&host.useCaseSensitiveFileNames(),host.getCurrentDirectory()));var ruleProvider,program,lastProjectVersion,syntaxTreeCache=createSyntaxTreeCache(),lastTypesRootVersion=0,useCaseSensitivefileNames=host.useCaseSensitiveFileNames&&host.useCaseSensitiveFileNames(),cancellationToken=new CancellationTokenObject(host.getCancellationToken&&host.getCancellationToken()),currentDirectory=host.getCurrentDirectory();!ts.localizedDiagnosticMessages&&host.getLocalizedDiagnosticMessages&&(ts.localizedDiagnosticMessages=host.getLocalizedDiagnosticMessages());var getCanonicalFileName=ts.createGetCanonicalFileName(useCaseSensitivefileNames);return{dispose:dispose,cleanupSemanticCache:cleanupSemanticCache,getSyntacticDiagnostics:getSyntacticDiagnostics,getSemanticDiagnostics:getSemanticDiagnostics,getCompilerOptionsDiagnostics:getCompilerOptionsDiagnostics,getSyntacticClassifications:getSyntacticClassifications,getSemanticClassifications:getSemanticClassifications,getEncodedSyntacticClassifications:getEncodedSyntacticClassifications,getEncodedSemanticClassifications:getEncodedSemanticClassifications,getCompletionsAtPosition:getCompletionsAtPosition,getCompletionEntryDetails:getCompletionEntryDetails,getSignatureHelpItems:getSignatureHelpItems,getQuickInfoAtPosition:getQuickInfoAtPosition,getDefinitionAtPosition:getDefinitionAtPosition,getTypeDefinitionAtPosition:getTypeDefinitionAtPosition,getReferencesAtPosition:getReferencesAtPosition,findReferences:findReferences,getOccurrencesAtPosition:getOccurrencesAtPosition,getDocumentHighlights:getDocumentHighlights,getNameOrDottedNameSpan:getNameOrDottedNameSpan,getBreakpointStatementAtPosition:getBreakpointStatementAtPosition,getNavigateToItems:getNavigateToItems,getRenameInfo:getRenameInfo,findRenameLocations:findRenameLocations,getNavigationBarItems:getNavigationBarItems,getNavigationTree:getNavigationTree,getOutliningSpans:getOutliningSpans,getTodoComments:getTodoComments,getBraceMatchingAtPosition:getBraceMatchingAtPosition,getIndentationAtPosition:getIndentationAtPosition,getFormattingEditsForRange:getFormattingEditsForRange,getFormattingEditsForDocument:getFormattingEditsForDocument,getFormattingEditsAfterKeystroke:getFormattingEditsAfterKeystroke,getDocCommentTemplateAtPosition:getDocCommentTemplateAtPosition,isValidBraceCompletionAtPosition:isValidBraceCompletionAtPosition,getEmitOutput:getEmitOutput,getNonBoundSourceFile:getNonBoundSourceFile,getProgram:getProgram}}function getNameTable(sourceFile){return sourceFile.nameTable||initializeNameTable(sourceFile),sourceFile.nameTable}function initializeNameTable(sourceFile){function walk(node){switch(node.kind){case 69:nameTable[node.text]=void 0===nameTable[node.text]?node.pos:-1;break;case 9:case 8:(ts.isDeclarationName(node)||240===node.parent.kind||isArgumentOfElementAccessExpression(node)||ts.isLiteralComputedPropertyDeclarationName(node))&&(nameTable[node.text]=void 0===nameTable[node.text]?node.pos:-1);break;default:if(ts.forEachChild(node,walk),node.jsDocComments)for(var _i=0,_a=node.jsDocComments;_i<_a.length;_i++){var jsDocComment=_a[_i];ts.forEachChild(jsDocComment,walk)}}}var nameTable=ts.createMap();walk(sourceFile),sourceFile.nameTable=nameTable}function isArgumentOfElementAccessExpression(node){return node&&node.parent&&173===node.parent.kind&&node.parent.argumentExpression===node}function createClassifier(){function canFollow(keyword1,keyword2){return ts.isAccessibilityModifier(keyword1)?123===keyword2||131===keyword2||121===keyword2||113===keyword2?!0:!1:!0}function convertClassifications(classifications,text){for(var entries=[],dense=classifications.spans,lastEnd=0,i=0,n=dense.length;n>i;i+=3){var start=dense[i],length_5=dense[i+1],type=dense[i+2];if(lastEnd>=0){var whitespaceLength_1=start-lastEnd;whitespaceLength_1>0&&entries.push({length:whitespaceLength_1,classification:TokenClass.Whitespace})}entries.push({length:length_5,classification:convertClassification(type)}),lastEnd=start+length_5}var whitespaceLength=text.length-lastEnd;return whitespaceLength>0&&entries.push({length:whitespaceLength,classification:TokenClass.Whitespace}),{entries:entries,finalLexState:classifications.endOfLineState}}function convertClassification(type){switch(type){case 1:return TokenClass.Comment;case 3:return TokenClass.Keyword;case 4:return TokenClass.NumberLiteral;case 5:return TokenClass.Operator;case 6:return TokenClass.StringLiteral;case 8:return TokenClass.Whitespace;case 10:return TokenClass.Punctuation;case 2:case 11:case 12:case 13:case 14:case 15:case 16:case 9:case 17:default:return TokenClass.Identifier}}function getClassificationsForLine(text,lexState,syntacticClassifierAbsent){return convertClassifications(getEncodedLexicalClassifications(text,lexState,syntacticClassifierAbsent),text)}function getEncodedLexicalClassifications(text,lexState,syntacticClassifierAbsent){function processToken(){var start=scanner.getTokenPos(),end=scanner.getTextPos();if(addResult(start,end,classFromKind(token)),end>=text.length)if(9===token){var tokenText=scanner.getTokenText();if(scanner.isUnterminated()){for(var lastCharIndex=tokenText.length-1,numBackslashes=0;92===tokenText.charCodeAt(lastCharIndex-numBackslashes);)numBackslashes++;if(1&numBackslashes){var quoteChar=tokenText.charCodeAt(0);result.endOfLineState=34===quoteChar?3:2}}}else 3===token?scanner.isUnterminated()&&(result.endOfLineState=1):ts.isTemplateLiteralKind(token)?scanner.isUnterminated()&&(14===token?result.endOfLineState=5:11===token?result.endOfLineState=4:ts.Debug.fail("Only 'NoSubstitutionTemplateLiteral's and 'TemplateTail's can be unterminated; got SyntaxKind #"+token)):templateStack.length>0&&12===ts.lastOrUndefined(templateStack)&&(result.endOfLineState=6)}function addResult(start,end,classification){if(8!==classification){0===start&&offset>0&&(start+=offset),start-=offset,end-=offset;var length=end-start;length>0&&(result.spans.push(start),result.spans.push(length),result.spans.push(classification))}}for(var offset=0,token=0,lastNonTriviaToken=0;templateStack.length>0;)templateStack.pop();switch(lexState){case 3:text='"\\\n'+text,offset=3;break;case 2:text="'\\\n"+text,offset=3;break;case 1:text="/*\n"+text,offset=3;break;case 4:text="`\n"+text,offset=2;break;case 5:text="}\n"+text,offset=2;case 6:templateStack.push(12)}scanner.setText(text);var result={endOfLineState:0,spans:[]},angleBracketStack=0;do{if(token=scanner.scan(),!ts.isTrivia(token)){if(39!==token&&61!==token||noRegexTable[lastNonTriviaToken]){if(21===lastNonTriviaToken&&isKeyword(token))token=69;else if(isKeyword(lastNonTriviaToken)&&isKeyword(token)&&!canFollow(lastNonTriviaToken,token))token=69;else if(69===lastNonTriviaToken&&25===token)angleBracketStack++;else if(27===token&&angleBracketStack>0)angleBracketStack--;else if(117===token||132===token||130===token||120===token||133===token)angleBracketStack>0&&!syntacticClassifierAbsent&&(token=69);else if(12===token)templateStack.push(token);else if(15===token)templateStack.length>0&&templateStack.push(token);else if(16===token&&templateStack.length>0){var lastTemplateStackToken=ts.lastOrUndefined(templateStack);12===lastTemplateStackToken?(token=scanner.reScanTemplateToken(),14===token?templateStack.pop():ts.Debug.assert(13===token,"Should have been a template middle. Was "+token)):(ts.Debug.assert(15===lastTemplateStackToken,"Should have been an open brace. Was: "+token),templateStack.pop())}}else 10===scanner.reScanSlashToken()&&(token=10);lastNonTriviaToken=token}processToken()}while(1!==token);return result}function isBinaryExpressionOperatorToken(token){switch(token){case 37:case 39:case 40:case 35:case 36:case 43:case 44:case 45:case 25:case 27:case 28:case 29:case 91:case 90:case 116:case 30:case 31:case 32:case 33:case 46:case 48:case 47:case 51:case 52:case 67:case 66:case 68:case 63:case 64:case 65:case 57:case 58:case 59:case 61:case 62:case 56:case 24:return!0;default:return!1}}function isPrefixUnaryExpressionOperatorToken(token){switch(token){case 35:case 36:case 50:case 49:case 41:case 42:return!0;default:return!1}}function isKeyword(token){return token>=70&&138>=token}function classFromKind(token){if(isKeyword(token))return 3;if(isBinaryExpressionOperatorToken(token)||isPrefixUnaryExpressionOperatorToken(token))return 5;if(token>=15&&68>=token)return 10;switch(token){case 8:return 4;case 9:return 6;case 10:return 7;case 7:case 3:case 2:return 1;case 5:case 4:return 8;case 69:default:return ts.isTemplateLiteralKind(token)?6:2}}var scanner=ts.createScanner(2,!1),noRegexTable=[];noRegexTable[69]=!0,noRegexTable[9]=!0,noRegexTable[8]=!0,noRegexTable[10]=!0,noRegexTable[97]=!0,noRegexTable[41]=!0,noRegexTable[42]=!0,noRegexTable[18]=!0,noRegexTable[20]=!0,noRegexTable[16]=!0,noRegexTable[99]=!0,noRegexTable[84]=!0;var templateStack=[];return{getClassificationsForLine:getClassificationsForLine,getEncodedLexicalClassifications:getEncodedLexicalClassifications}}function getDefaultLibFilePath(options){if("undefined"!=typeof __dirname)return __dirname+ts.directorySeparator+ts.getDefaultLibFileName(options);throw new Error("getDefaultLibFilePath is only supported when consumed as a node module. ")}function initializeServices(){ts.objectAllocator={getNodeConstructor:function(){return NodeObject},getTokenConstructor:function(){return TokenObject},getIdentifierConstructor:function(){return IdentifierObject},getSourceFileConstructor:function(){return SourceFileObject},getSymbolConstructor:function(){return SymbolObject},getTypeConstructor:function(){return TypeObject},getSignatureConstructor:function(){return SignatureObject}}}ts.servicesVersion="0.5";var ScriptSnapshot;!function(ScriptSnapshot){function fromString(text){return new StringScriptSnapshot(text)}var StringScriptSnapshot=function(){function StringScriptSnapshot(text){this.text=text}return StringScriptSnapshot.prototype.getText=function(start,end){return this.text.substring(start,end)},StringScriptSnapshot.prototype.getLength=function(){return this.text.length},StringScriptSnapshot.prototype.getChangeRange=function(oldSnapshot){return void 0},StringScriptSnapshot}();ScriptSnapshot.fromString=fromString}(ScriptSnapshot=ts.ScriptSnapshot||(ts.ScriptSnapshot={})),ts.realizeDiagnostics=realizeDiagnostics,ts.realizeDiagnostic=realizeDiagnostic;var jsDocCompletionEntries,scanner=ts.createScanner(2,!0),emptyArray=[],jsDocTagNames=["augments","author","argument","borrows","class","constant","constructor","constructs","default","deprecated","description","event","example","extends","field","fileOverview","function","ignore","inner","lends","link","memberOf","name","namespace","param","private","property","public","requires","returns","see","since","static","throws","type","typedef","property","prop","version"],NodeObject=function(){function NodeObject(kind,pos,end){this.pos=pos,this.end=end,this.flags=0,this.parent=void 0,this.kind=kind}return NodeObject.prototype.getSourceFile=function(){return ts.getSourceFileOfNode(this)},NodeObject.prototype.getStart=function(sourceFile,includeJsDocComment){return ts.getTokenPosOfNode(this,sourceFile,includeJsDocComment)},NodeObject.prototype.getFullStart=function(){return this.pos},NodeObject.prototype.getEnd=function(){return this.end},NodeObject.prototype.getWidth=function(sourceFile){return this.getEnd()-this.getStart(sourceFile)},NodeObject.prototype.getFullWidth=function(){return this.end-this.pos},NodeObject.prototype.getLeadingTriviaWidth=function(sourceFile){return this.getStart(sourceFile)-this.pos},NodeObject.prototype.getFullText=function(sourceFile){return(sourceFile||this.getSourceFile()).text.substring(this.pos,this.end)},NodeObject.prototype.getText=function(sourceFile){return(sourceFile||this.getSourceFile()).text.substring(this.getStart(),this.getEnd())},NodeObject.prototype.addSyntheticNodes=function(nodes,pos,end,useJSDocScanner){for(scanner.setTextPos(pos);end>pos;){var token=useJSDocScanner?scanner.scanJSDocToken():scanner.scan(),textPos=scanner.getTextPos();end>=textPos&&nodes.push(createNode(token,pos,textPos,this)),pos=textPos}return pos},NodeObject.prototype.createSyntaxList=function(nodes){var list=createNode(286,nodes.pos,nodes.end,this);list._children=[];for(var pos=nodes.pos,_i=0,nodes_4=nodes;_i<nodes_4.length;_i++){var node=nodes_4[_i];pos<node.pos&&(pos=this.addSyntheticNodes(list._children,pos,node.pos)),list._children.push(node),pos=node.end}return pos<nodes.end&&this.addSyntheticNodes(list._children,pos,nodes.end),list},NodeObject.prototype.createChildren=function(sourceFile){var children,_this=this;if(this.kind>=139){scanner.setText((sourceFile||this.getSourceFile()).text),children=[];var pos_3=this.pos,useJSDocScanner_1=this.kind>=273&&this.kind<=285,processNode=function(node){var isJSDocTagNode=ts.isJSDocTag(node);!isJSDocTagNode&&pos_3<node.pos&&(pos_3=_this.addSyntheticNodes(children,pos_3,node.pos,useJSDocScanner_1)),children.push(node),isJSDocTagNode||(pos_3=node.end)},processNodes=function(nodes){pos_3<nodes.pos&&(pos_3=_this.addSyntheticNodes(children,pos_3,nodes.pos,useJSDocScanner_1)),children.push(_this.createSyntaxList(nodes)),pos_3=nodes.end};if(this.jsDocComments)for(var _i=0,_a=this.jsDocComments;_i<_a.length;_i++){var jsDocComment=_a[_i];processNode(jsDocComment)}ts.forEachChild(this,processNode,processNodes),pos_3<this.end&&this.addSyntheticNodes(children,pos_3,this.end),scanner.setText(void 0)}this._children=children||emptyArray},NodeObject.prototype.getChildCount=function(sourceFile){return this._children||this.createChildren(sourceFile),this._children.length},NodeObject.prototype.getChildAt=function(index,sourceFile){return this._children||this.createChildren(sourceFile),this._children[index]},NodeObject.prototype.getChildren=function(sourceFile){return this._children||this.createChildren(sourceFile),this._children},NodeObject.prototype.getFirstToken=function(sourceFile){var children=this.getChildren(sourceFile);if(!children.length)return void 0;var child=children[0];return child.kind<139?child:child.getFirstToken(sourceFile)},NodeObject.prototype.getLastToken=function(sourceFile){var children=this.getChildren(sourceFile),child=ts.lastOrUndefined(children);return child?child.kind<139?child:child.getLastToken(sourceFile):void 0},NodeObject}(),TokenOrIdentifierObject=function(){function TokenOrIdentifierObject(pos,end){this.pos=pos,this.end=end,this.flags=0,this.parent=void 0}return TokenOrIdentifierObject.prototype.getSourceFile=function(){return ts.getSourceFileOfNode(this)},TokenOrIdentifierObject.prototype.getStart=function(sourceFile,includeJsDocComment){return ts.getTokenPosOfNode(this,sourceFile,includeJsDocComment)},TokenOrIdentifierObject.prototype.getFullStart=function(){return this.pos},TokenOrIdentifierObject.prototype.getEnd=function(){return this.end},TokenOrIdentifierObject.prototype.getWidth=function(sourceFile){return this.getEnd()-this.getStart(sourceFile)},TokenOrIdentifierObject.prototype.getFullWidth=function(){return this.end-this.pos},TokenOrIdentifierObject.prototype.getLeadingTriviaWidth=function(sourceFile){return this.getStart(sourceFile)-this.pos},TokenOrIdentifierObject.prototype.getFullText=function(sourceFile){return(sourceFile||this.getSourceFile()).text.substring(this.pos,this.end)},TokenOrIdentifierObject.prototype.getText=function(sourceFile){return(sourceFile||this.getSourceFile()).text.substring(this.getStart(),this.getEnd())},TokenOrIdentifierObject.prototype.getChildCount=function(sourceFile){return 0},TokenOrIdentifierObject.prototype.getChildAt=function(index,sourceFile){return void 0},TokenOrIdentifierObject.prototype.getChildren=function(sourceFile){return emptyArray},TokenOrIdentifierObject.prototype.getFirstToken=function(sourceFile){return void 0},TokenOrIdentifierObject.prototype.getLastToken=function(sourceFile){return void 0},TokenOrIdentifierObject}(),TokenObject=function(_super){function TokenObject(kind,pos,end){_super.call(this,pos,end),this.kind=kind}return __extends(TokenObject,_super),TokenObject}(TokenOrIdentifierObject),IdentifierObject=function(_super){function IdentifierObject(kind,pos,end){_super.call(this,pos,end)}return __extends(IdentifierObject,_super),IdentifierObject}(TokenOrIdentifierObject);IdentifierObject.prototype.kind=69;var SymbolObject=function(){function SymbolObject(flags,name){this.flags=flags,this.name=name}return SymbolObject.prototype.getFlags=function(){return this.flags},
SymbolObject.prototype.getName=function(){return this.name},SymbolObject.prototype.getDeclarations=function(){return this.declarations},SymbolObject.prototype.getDocumentationComment=function(){return void 0===this.documentationComment&&(this.documentationComment=getJsDocCommentsFromDeclarations(this.declarations,this.name,!(4&this.flags))),this.documentationComment},SymbolObject}(),TypeObject=function(){function TypeObject(checker,flags){this.checker=checker,this.flags=flags}return TypeObject.prototype.getFlags=function(){return this.flags},TypeObject.prototype.getSymbol=function(){return this.symbol},TypeObject.prototype.getProperties=function(){return this.checker.getPropertiesOfType(this)},TypeObject.prototype.getProperty=function(propertyName){return this.checker.getPropertyOfType(this,propertyName)},TypeObject.prototype.getApparentProperties=function(){return this.checker.getAugmentedPropertiesOfType(this)},TypeObject.prototype.getCallSignatures=function(){return this.checker.getSignaturesOfType(this,0)},TypeObject.prototype.getConstructSignatures=function(){return this.checker.getSignaturesOfType(this,1)},TypeObject.prototype.getStringIndexType=function(){return this.checker.getIndexTypeOfType(this,0)},TypeObject.prototype.getNumberIndexType=function(){return this.checker.getIndexTypeOfType(this,1)},TypeObject.prototype.getBaseTypes=function(){return 98304&this.flags?this.checker.getBaseTypes(this):void 0},TypeObject.prototype.getNonNullableType=function(){return this.checker.getNonNullableType(this)},TypeObject}(),SignatureObject=function(){function SignatureObject(checker){this.checker=checker}return SignatureObject.prototype.getDeclaration=function(){return this.declaration},SignatureObject.prototype.getTypeParameters=function(){return this.typeParameters},SignatureObject.prototype.getParameters=function(){return this.parameters},SignatureObject.prototype.getReturnType=function(){return this.checker.getReturnTypeOfSignature(this)},SignatureObject.prototype.getDocumentationComment=function(){return void 0===this.documentationComment&&(this.documentationComment=this.declaration?getJsDocCommentsFromDeclarations([this.declaration],void 0,!1):[]),this.documentationComment},SignatureObject}(),SourceFileObject=function(_super){function SourceFileObject(kind,pos,end){_super.call(this,kind,pos,end)}return __extends(SourceFileObject,_super),SourceFileObject.prototype.update=function(newText,textChangeRange){return ts.updateSourceFile(this,newText,textChangeRange)},SourceFileObject.prototype.getLineAndCharacterOfPosition=function(position){return ts.getLineAndCharacterOfPosition(this,position)},SourceFileObject.prototype.getLineStarts=function(){return ts.getLineStarts(this)},SourceFileObject.prototype.getPositionOfLineAndCharacter=function(line,character){return ts.getPositionOfLineAndCharacter(this,line,character)},SourceFileObject.prototype.getNamedDeclarations=function(){return this.namedDeclarations||(this.namedDeclarations=this.computeNamedDeclarations()),this.namedDeclarations},SourceFileObject.prototype.computeNamedDeclarations=function(){function addDeclaration(declaration){var name=getDeclarationName(declaration);if(name){var declarations=getDeclarations(name);declarations.push(declaration)}}function getDeclarations(name){return result[name]||(result[name]=[])}function getDeclarationName(declaration){if(declaration.name){var result_3=getTextOfIdentifierOrLiteral(declaration.name);if(void 0!==result_3)return result_3;if(140===declaration.name.kind){var expr=declaration.name.expression;return 172===expr.kind?expr.name.text:getTextOfIdentifierOrLiteral(expr)}}return void 0}function getTextOfIdentifierOrLiteral(node){return!node||69!==node.kind&&9!==node.kind&&8!==node.kind?void 0:node.text}function visit(node){switch(node.kind){case 220:case 179:case 147:case 146:var functionDeclaration=node,declarationName=getDeclarationName(functionDeclaration);if(declarationName){var declarations=getDeclarations(declarationName),lastDeclaration=ts.lastOrUndefined(declarations);lastDeclaration&&functionDeclaration.parent===lastDeclaration.parent&&functionDeclaration.symbol===lastDeclaration.symbol?functionDeclaration.body&&!lastDeclaration.body&&(declarations[declarations.length-1]=functionDeclaration):declarations.push(functionDeclaration),ts.forEachChild(node,visit)}break;case 221:case 192:case 222:case 223:case 224:case 225:case 229:case 238:case 234:case 229:case 231:case 232:case 149:case 150:case 159:addDeclaration(node),ts.forEachChild(node,visit);break;case 142:if(!(92&node.flags))break;case 218:case 169:var decl=node;if(ts.isBindingPattern(decl.name)){ts.forEachChild(decl.name,visit);break}decl.initializer&&visit(decl.initializer);case 255:case 145:case 144:addDeclaration(node);break;case 236:node.exportClause&&ts.forEach(node.exportClause.elements,visit);break;case 230:var importClause=node.importClause;importClause&&(importClause.name&&addDeclaration(importClause),importClause.namedBindings&&(232===importClause.namedBindings.kind?addDeclaration(importClause.namedBindings):ts.forEach(importClause.namedBindings.elements,visit)));break;default:ts.forEachChild(node,visit)}}var result=ts.createMap();return ts.forEachChild(this,visit),result},SourceFileObject}(NodeObject),TextChange=function(){function TextChange(){}return TextChange}();ts.TextChange=TextChange;var HighlightSpanKind;!function(HighlightSpanKind){HighlightSpanKind.none="none",HighlightSpanKind.definition="definition",HighlightSpanKind.reference="reference",HighlightSpanKind.writtenReference="writtenReference"}(HighlightSpanKind=ts.HighlightSpanKind||(ts.HighlightSpanKind={})),function(IndentStyle){IndentStyle[IndentStyle.None=0]="None",IndentStyle[IndentStyle.Block=1]="Block",IndentStyle[IndentStyle.Smart=2]="Smart"}(ts.IndentStyle||(ts.IndentStyle={}));ts.IndentStyle;ts.toEditorSettings=toEditorSettings,function(SymbolDisplayPartKind){SymbolDisplayPartKind[SymbolDisplayPartKind.aliasName=0]="aliasName",SymbolDisplayPartKind[SymbolDisplayPartKind.className=1]="className",SymbolDisplayPartKind[SymbolDisplayPartKind.enumName=2]="enumName",SymbolDisplayPartKind[SymbolDisplayPartKind.fieldName=3]="fieldName",SymbolDisplayPartKind[SymbolDisplayPartKind.interfaceName=4]="interfaceName",SymbolDisplayPartKind[SymbolDisplayPartKind.keyword=5]="keyword",SymbolDisplayPartKind[SymbolDisplayPartKind.lineBreak=6]="lineBreak",SymbolDisplayPartKind[SymbolDisplayPartKind.numericLiteral=7]="numericLiteral",SymbolDisplayPartKind[SymbolDisplayPartKind.stringLiteral=8]="stringLiteral",SymbolDisplayPartKind[SymbolDisplayPartKind.localName=9]="localName",SymbolDisplayPartKind[SymbolDisplayPartKind.methodName=10]="methodName",SymbolDisplayPartKind[SymbolDisplayPartKind.moduleName=11]="moduleName",SymbolDisplayPartKind[SymbolDisplayPartKind.operator=12]="operator",SymbolDisplayPartKind[SymbolDisplayPartKind.parameterName=13]="parameterName",SymbolDisplayPartKind[SymbolDisplayPartKind.propertyName=14]="propertyName",SymbolDisplayPartKind[SymbolDisplayPartKind.punctuation=15]="punctuation",SymbolDisplayPartKind[SymbolDisplayPartKind.space=16]="space",SymbolDisplayPartKind[SymbolDisplayPartKind.text=17]="text",SymbolDisplayPartKind[SymbolDisplayPartKind.typeParameterName=18]="typeParameterName",SymbolDisplayPartKind[SymbolDisplayPartKind.enumMemberName=19]="enumMemberName",SymbolDisplayPartKind[SymbolDisplayPartKind.functionName=20]="functionName",SymbolDisplayPartKind[SymbolDisplayPartKind.regularExpressionLiteral=21]="regularExpressionLiteral"}(ts.SymbolDisplayPartKind||(ts.SymbolDisplayPartKind={}));var SymbolDisplayPartKind=ts.SymbolDisplayPartKind;!function(OutputFileType){OutputFileType[OutputFileType.JavaScript=0]="JavaScript",OutputFileType[OutputFileType.SourceMap=1]="SourceMap",OutputFileType[OutputFileType.Declaration=2]="Declaration"}(ts.OutputFileType||(ts.OutputFileType={}));ts.OutputFileType;!function(EndOfLineState){EndOfLineState[EndOfLineState.None=0]="None",EndOfLineState[EndOfLineState.InMultiLineCommentTrivia=1]="InMultiLineCommentTrivia",EndOfLineState[EndOfLineState.InSingleQuoteStringLiteral=2]="InSingleQuoteStringLiteral",EndOfLineState[EndOfLineState.InDoubleQuoteStringLiteral=3]="InDoubleQuoteStringLiteral",EndOfLineState[EndOfLineState.InTemplateHeadOrNoSubstitutionTemplate=4]="InTemplateHeadOrNoSubstitutionTemplate",EndOfLineState[EndOfLineState.InTemplateMiddleOrTail=5]="InTemplateMiddleOrTail",EndOfLineState[EndOfLineState.InTemplateSubstitutionPosition=6]="InTemplateSubstitutionPosition"}(ts.EndOfLineState||(ts.EndOfLineState={}));ts.EndOfLineState;!function(TokenClass){TokenClass[TokenClass.Punctuation=0]="Punctuation",TokenClass[TokenClass.Keyword=1]="Keyword",TokenClass[TokenClass.Operator=2]="Operator",TokenClass[TokenClass.Comment=3]="Comment",TokenClass[TokenClass.Whitespace=4]="Whitespace",TokenClass[TokenClass.Identifier=5]="Identifier",TokenClass[TokenClass.NumberLiteral=6]="NumberLiteral",TokenClass[TokenClass.StringLiteral=7]="StringLiteral",TokenClass[TokenClass.RegExpLiteral=8]="RegExpLiteral"}(ts.TokenClass||(ts.TokenClass={}));var ScriptElementKind,TokenClass=ts.TokenClass;!function(ScriptElementKind){ScriptElementKind.unknown="",ScriptElementKind.warning="warning",ScriptElementKind.keyword="keyword",ScriptElementKind.scriptElement="script",ScriptElementKind.moduleElement="module",ScriptElementKind.classElement="class",ScriptElementKind.localClassElement="local class",ScriptElementKind.interfaceElement="interface",ScriptElementKind.typeElement="type",ScriptElementKind.enumElement="enum",ScriptElementKind.enumMemberElement="const",ScriptElementKind.variableElement="var",ScriptElementKind.localVariableElement="local var",ScriptElementKind.functionElement="function",ScriptElementKind.localFunctionElement="local function",ScriptElementKind.memberFunctionElement="method",ScriptElementKind.memberGetAccessorElement="getter",ScriptElementKind.memberSetAccessorElement="setter",ScriptElementKind.memberVariableElement="property",ScriptElementKind.constructorImplementationElement="constructor",ScriptElementKind.callSignatureElement="call",ScriptElementKind.indexSignatureElement="index",ScriptElementKind.constructSignatureElement="construct",ScriptElementKind.parameterElement="parameter",ScriptElementKind.typeParameterElement="type parameter",ScriptElementKind.primitiveType="primitive type",ScriptElementKind.label="label",ScriptElementKind.alias="alias",ScriptElementKind.constElement="const",ScriptElementKind.letElement="let",ScriptElementKind.directory="directory",ScriptElementKind.externalModuleName="external module name"}(ScriptElementKind=ts.ScriptElementKind||(ts.ScriptElementKind={}));var ScriptElementKindModifier;!function(ScriptElementKindModifier){ScriptElementKindModifier.none="",ScriptElementKindModifier.publicMemberModifier="public",ScriptElementKindModifier.privateMemberModifier="private",ScriptElementKindModifier.protectedMemberModifier="protected",ScriptElementKindModifier.exportedModifier="export",ScriptElementKindModifier.ambientModifier="declare",ScriptElementKindModifier.staticModifier="static",ScriptElementKindModifier.abstractModifier="abstract"}(ScriptElementKindModifier=ts.ScriptElementKindModifier||(ts.ScriptElementKindModifier={}));var ClassificationTypeNames=function(){function ClassificationTypeNames(){}return ClassificationTypeNames.comment="comment",ClassificationTypeNames.identifier="identifier",ClassificationTypeNames.keyword="keyword",ClassificationTypeNames.numericLiteral="number",ClassificationTypeNames.operator="operator",ClassificationTypeNames.stringLiteral="string",ClassificationTypeNames.whiteSpace="whitespace",ClassificationTypeNames.text="text",ClassificationTypeNames.punctuation="punctuation",ClassificationTypeNames.className="class name",ClassificationTypeNames.enumName="enum name",ClassificationTypeNames.interfaceName="interface name",ClassificationTypeNames.moduleName="module name",ClassificationTypeNames.typeParameterName="type parameter name",ClassificationTypeNames.typeAliasName="type alias name",ClassificationTypeNames.parameterName="parameter name",ClassificationTypeNames.docCommentTagName="doc comment tag name",ClassificationTypeNames.jsxOpenTagName="jsx open tag name",ClassificationTypeNames.jsxCloseTagName="jsx close tag name",ClassificationTypeNames.jsxSelfClosingTagName="jsx self closing tag name",ClassificationTypeNames.jsxAttribute="jsx attribute",ClassificationTypeNames.jsxText="jsx text",ClassificationTypeNames.jsxAttributeStringLiteralValue="jsx attribute string literal value",ClassificationTypeNames}();ts.ClassificationTypeNames=ClassificationTypeNames,function(ClassificationType){ClassificationType[ClassificationType.comment=1]="comment",ClassificationType[ClassificationType.identifier=2]="identifier",ClassificationType[ClassificationType.keyword=3]="keyword",ClassificationType[ClassificationType.numericLiteral=4]="numericLiteral",ClassificationType[ClassificationType.operator=5]="operator",ClassificationType[ClassificationType.stringLiteral=6]="stringLiteral",ClassificationType[ClassificationType.regularExpressionLiteral=7]="regularExpressionLiteral",ClassificationType[ClassificationType.whiteSpace=8]="whiteSpace",ClassificationType[ClassificationType.text=9]="text",ClassificationType[ClassificationType.punctuation=10]="punctuation",ClassificationType[ClassificationType.className=11]="className",ClassificationType[ClassificationType.enumName=12]="enumName",ClassificationType[ClassificationType.interfaceName=13]="interfaceName",ClassificationType[ClassificationType.moduleName=14]="moduleName",ClassificationType[ClassificationType.typeParameterName=15]="typeParameterName",ClassificationType[ClassificationType.typeAliasName=16]="typeAliasName",ClassificationType[ClassificationType.parameterName=17]="parameterName",ClassificationType[ClassificationType.docCommentTagName=18]="docCommentTagName",ClassificationType[ClassificationType.jsxOpenTagName=19]="jsxOpenTagName",ClassificationType[ClassificationType.jsxCloseTagName=20]="jsxCloseTagName",ClassificationType[ClassificationType.jsxSelfClosingTagName=21]="jsxSelfClosingTagName",ClassificationType[ClassificationType.jsxAttribute=22]="jsxAttribute",ClassificationType[ClassificationType.jsxText=23]="jsxText",ClassificationType[ClassificationType.jsxAttributeStringLiteralValue=24]="jsxAttributeStringLiteralValue"}(ts.ClassificationType||(ts.ClassificationType={}));ts.ClassificationType;ts.displayPartsToString=displayPartsToString,ts.getDefaultCompilerOptions=getDefaultCompilerOptions;var commandLineOptionsStringToEnum,HostCache=function(){function HostCache(host,getCanonicalFileName){this.host=host,this.getCanonicalFileName=getCanonicalFileName,this.currentDirectory=host.getCurrentDirectory(),this.fileNameToEntry=ts.createFileMap();for(var rootFileNames=host.getScriptFileNames(),_i=0,rootFileNames_1=rootFileNames;_i<rootFileNames_1.length;_i++){var fileName=rootFileNames_1[_i];this.createEntry(fileName,ts.toPath(fileName,this.currentDirectory,getCanonicalFileName))}this._compilationSettings=host.getCompilationSettings()||getDefaultCompilerOptions()}return HostCache.prototype.compilationSettings=function(){return this._compilationSettings},HostCache.prototype.createEntry=function(fileName,path){var entry,scriptSnapshot=this.host.getScriptSnapshot(fileName);return scriptSnapshot&&(entry={hostFileName:fileName,version:this.host.getScriptVersion(fileName),scriptSnapshot:scriptSnapshot,scriptKind:ts.getScriptKind(fileName,this.host)}),this.fileNameToEntry.set(path,entry),entry},HostCache.prototype.getEntry=function(path){return this.fileNameToEntry.get(path)},HostCache.prototype.contains=function(path){return this.fileNameToEntry.contains(path)},HostCache.prototype.getOrCreateEntry=function(fileName){var path=ts.toPath(fileName,this.currentDirectory,this.getCanonicalFileName);return this.getOrCreateEntryByPath(fileName,path)},HostCache.prototype.getOrCreateEntryByPath=function(fileName,path){return this.contains(path)?this.getEntry(path):this.createEntry(fileName,path)},HostCache.prototype.getRootFileNames=function(){var fileNames=[];return this.fileNameToEntry.forEachValue(function(path,value){value&&fileNames.push(value.hostFileName)}),fileNames},HostCache.prototype.getVersion=function(path){var file=this.getEntry(path);return file&&file.version},HostCache.prototype.getScriptSnapshot=function(path){var file=this.getEntry(path);return file&&file.scriptSnapshot},HostCache}(),tripleSlashDirectiveFragmentRegex=/^(\/\/\/\s*<reference\s+(path|types)\s*=\s*(?:'|"))([^\3]*)$/,nodeModulesDependencyKeys=["dependencies","devDependencies","peerDependencies","optionalDependencies"];ts.transpileModule=transpileModule,ts.transpile=transpile,ts.createLanguageServiceSourceFile=createLanguageServiceSourceFile,ts.disableIncrementalParsing=!1,ts.updateLanguageServiceSourceFile=updateLanguageServiceSourceFile,ts.createDocumentRegistry=createDocumentRegistry,ts.preProcessFile=preProcessFile;var SemanticMeaning;!function(SemanticMeaning){SemanticMeaning[SemanticMeaning.None=0]="None",SemanticMeaning[SemanticMeaning.Value=1]="Value",SemanticMeaning[SemanticMeaning.Type=2]="Type",SemanticMeaning[SemanticMeaning.Namespace=4]="Namespace",SemanticMeaning[SemanticMeaning.All=7]="All"}(SemanticMeaning||(SemanticMeaning={}));var BreakContinueSearchType;!function(BreakContinueSearchType){BreakContinueSearchType[BreakContinueSearchType.None=0]="None",BreakContinueSearchType[BreakContinueSearchType.Unlabeled=1]="Unlabeled",BreakContinueSearchType[BreakContinueSearchType.Labeled=2]="Labeled",BreakContinueSearchType[BreakContinueSearchType.All=3]="All"}(BreakContinueSearchType||(BreakContinueSearchType={}));for(var keywordCompletions=[],i=70;138>=i;i++)keywordCompletions.push({name:ts.tokenToString(i),kind:ScriptElementKind.keyword,kindModifiers:ScriptElementKindModifier.none,sortText:"0"});ts.getContainerNode=getContainerNode,ts.getNodeKind=getNodeKind;var CancellationTokenObject=function(){function CancellationTokenObject(cancellationToken){this.cancellationToken=cancellationToken}return CancellationTokenObject.prototype.isCancellationRequested=function(){return this.cancellationToken&&this.cancellationToken.isCancellationRequested()},CancellationTokenObject.prototype.throwIfCancellationRequested=function(){if(this.isCancellationRequested())throw new ts.OperationCanceledException},CancellationTokenObject}();ts.createLanguageService=createLanguageService,ts.getNameTable=getNameTable,ts.createClassifier=createClassifier,ts.getDefaultLibFilePath=getDefaultLibFilePath,initializeServices()}(ts||(ts={}));var ts;!function(ts){var BreakpointResolver;!function(BreakpointResolver){function spanInSourceFileAtLocation(sourceFile,position){function textSpan(startNode,endNode){var start=startNode.decorators?ts.skipTrivia(sourceFile.text,startNode.decorators.end):startNode.getStart(sourceFile);return ts.createTextSpanFromBounds(start,(endNode||startNode).getEnd())}function textSpanEndingAtNextToken(startNode,previousTokenToFindNextEndToken){return textSpan(startNode,ts.findNextToken(previousTokenToFindNextEndToken,previousTokenToFindNextEndToken.parent))}function spanInNodeIfStartsOnSameLine(node,otherwiseOnNode){return spanInNode(node&&lineOfPosition===sourceFile.getLineAndCharacterOfPosition(node.getStart(sourceFile)).line?node:otherwiseOnNode)}function spanInNodeArray(nodeArray){return ts.createTextSpanFromBounds(ts.skipTrivia(sourceFile.text,nodeArray.pos),nodeArray.end)}function spanInPreviousNode(node){return spanInNode(ts.findPrecedingToken(node.pos,sourceFile))}function spanInNextNode(node){return spanInNode(ts.findNextToken(node,node.parent))}function spanInNode(node){function textSpanFromVariableDeclaration(variableDeclaration){var declarations=variableDeclaration.parent.declarations;return declarations&&declarations[0]===variableDeclaration?textSpan(ts.findPrecedingToken(variableDeclaration.pos,sourceFile,variableDeclaration.parent),variableDeclaration):textSpan(variableDeclaration)}function spanInVariableDeclaration(variableDeclaration){if(207===variableDeclaration.parent.parent.kind)return spanInNode(variableDeclaration.parent.parent);if(ts.isBindingPattern(variableDeclaration.name))return spanInBindingPattern(variableDeclaration.name);if(variableDeclaration.initializer||1&variableDeclaration.flags||208===variableDeclaration.parent.parent.kind)return textSpanFromVariableDeclaration(variableDeclaration);var declarations=variableDeclaration.parent.declarations;return declarations&&declarations[0]!==variableDeclaration?spanInNode(ts.findPrecedingToken(variableDeclaration.pos,sourceFile,variableDeclaration.parent)):void 0}function canHaveSpanInParameterDeclaration(parameter){return!!parameter.initializer||void 0!==parameter.dotDotDotToken||!!(4&parameter.flags)||!!(8&parameter.flags)}function spanInParameterDeclaration(parameter){if(ts.isBindingPattern(parameter.name))return spanInBindingPattern(parameter.name);if(canHaveSpanInParameterDeclaration(parameter))return textSpan(parameter);var functionDeclaration=parameter.parent,indexOfParameter=ts.indexOf(functionDeclaration.parameters,parameter);return indexOfParameter?spanInParameterDeclaration(functionDeclaration.parameters[indexOfParameter-1]):spanInNode(functionDeclaration.body)}function canFunctionHaveSpanInWholeDeclaration(functionDeclaration){return!!(1&functionDeclaration.flags)||221===functionDeclaration.parent.kind&&148!==functionDeclaration.kind}function spanInFunctionDeclaration(functionDeclaration){return functionDeclaration.body?canFunctionHaveSpanInWholeDeclaration(functionDeclaration)?textSpan(functionDeclaration):spanInNode(functionDeclaration.body):void 0}function spanInFunctionBlock(block){var nodeForSpanInBlock=block.statements.length?block.statements[0]:block.getLastToken();return canFunctionHaveSpanInWholeDeclaration(block.parent)?spanInNodeIfStartsOnSameLine(block.parent,nodeForSpanInBlock):spanInNode(nodeForSpanInBlock)}function spanInBlock(block){switch(block.parent.kind){case 225:if(1!==ts.getModuleInstanceState(block.parent))return void 0;case 205:case 203:case 207:return spanInNodeIfStartsOnSameLine(block.parent,block.statements[0]);case 206:case 208:return spanInNodeIfStartsOnSameLine(ts.findPrecedingToken(block.pos,sourceFile,block.parent),block.statements[0])}return spanInNode(block.statements[0])}function spanInInitializerOfForLike(forLikeStatement){if(219!==forLikeStatement.initializer.kind)return spanInNode(forLikeStatement.initializer);var variableDeclarationList=forLikeStatement.initializer;return variableDeclarationList.declarations.length>0?spanInNode(variableDeclarationList.declarations[0]):void 0}function spanInForStatement(forStatement){return forStatement.initializer?spanInInitializerOfForLike(forStatement):forStatement.condition?textSpan(forStatement.condition):forStatement.incrementor?textSpan(forStatement.incrementor):void 0}function spanInBindingPattern(bindingPattern){var firstBindingElement=ts.forEach(bindingPattern.elements,function(element){return 193!==element.kind?element:void 0});return firstBindingElement?spanInNode(firstBindingElement):169===bindingPattern.parent.kind?textSpan(bindingPattern.parent):textSpanFromVariableDeclaration(bindingPattern.parent)}function spanInArrayLiteralOrObjectLiteralDestructuringPattern(node){ts.Debug.assert(168!==node.kind&&167!==node.kind);var elements=170===node.kind?node.elements:node.properties,firstBindingElement=ts.forEach(elements,function(element){return 193!==element.kind?element:void 0});return firstBindingElement?spanInNode(firstBindingElement):textSpan(187===node.parent.kind?node.parent:node)}function spanInOpenBraceToken(node){switch(node.parent.kind){case 224:var enumDeclaration=node.parent;return spanInNodeIfStartsOnSameLine(ts.findPrecedingToken(node.pos,sourceFile,node.parent),enumDeclaration.members.length?enumDeclaration.members[0]:enumDeclaration.getLastToken(sourceFile));case 221:var classDeclaration=node.parent;return spanInNodeIfStartsOnSameLine(ts.findPrecedingToken(node.pos,sourceFile,node.parent),classDeclaration.members.length?classDeclaration.members[0]:classDeclaration.getLastToken(sourceFile));case 227:return spanInNodeIfStartsOnSameLine(node.parent.parent,node.parent.clauses[0])}return spanInNode(node.parent)}function spanInCloseBraceToken(node){switch(node.parent.kind){case 226:if(1!==ts.getModuleInstanceState(node.parent.parent))return void 0;case 224:case 221:return textSpan(node);case 199:if(ts.isFunctionBlock(node.parent))return textSpan(node);case 252:return spanInNode(ts.lastOrUndefined(node.parent.statements));case 227:var caseBlock=node.parent,lastClause=ts.lastOrUndefined(caseBlock.clauses);return lastClause?spanInNode(ts.lastOrUndefined(lastClause.statements)):void 0;case 167:var bindingPattern=node.parent;return spanInNode(ts.lastOrUndefined(bindingPattern.elements)||bindingPattern);default:if(ts.isArrayLiteralOrObjectLiteralDestructuringPattern(node.parent)){var objectLiteral=node.parent;return textSpan(ts.lastOrUndefined(objectLiteral.properties)||objectLiteral)}return spanInNode(node.parent)}}function spanInCloseBracketToken(node){switch(node.parent.kind){case 168:var bindingPattern=node.parent;return textSpan(ts.lastOrUndefined(bindingPattern.elements)||bindingPattern);default:if(ts.isArrayLiteralOrObjectLiteralDestructuringPattern(node.parent)){var arrayLiteral=node.parent;return textSpan(ts.lastOrUndefined(arrayLiteral.elements)||arrayLiteral)}return spanInNode(node.parent)}}function spanInOpenParenToken(node){return 204===node.parent.kind||174===node.parent.kind||175===node.parent.kind?spanInPreviousNode(node):178===node.parent.kind?spanInNextNode(node):spanInNode(node.parent)}function spanInCloseParenToken(node){switch(node.parent.kind){case 179:case 220:case 180:case 147:case 146:case 149:case 150:case 148:case 205:case 204:case 206:case 208:case 174:case 175:case 178:return spanInPreviousNode(node);default:return spanInNode(node.parent)}}function spanInColonToken(node){return ts.isFunctionLike(node.parent)||253===node.parent.kind||142===node.parent.kind?spanInPreviousNode(node):spanInNode(node.parent)}function spanInGreaterThanOrLessThanToken(node){return 177===node.parent.kind?spanInNextNode(node):spanInNode(node.parent)}function spanInWhileKeyword(node){return 204===node.parent.kind?textSpanEndingAtNextToken(node,node.parent.expression):spanInNode(node.parent)}function spanInOfKeyword(node){return 208===node.parent.kind?spanInNextNode(node):spanInNode(node.parent)}if(node)switch(node.kind){case 200:return spanInVariableDeclaration(node.declarationList.declarations[0]);case 218:case 145:case 144:return spanInVariableDeclaration(node);case 142:return spanInParameterDeclaration(node);case 220:case 147:case 146:case 149:case 150:case 148:case 179:case 180:return spanInFunctionDeclaration(node);case 199:if(ts.isFunctionBlock(node))return spanInFunctionBlock(node);case 226:return spanInBlock(node);case 252:return spanInBlock(node.block);case 202:return textSpan(node.expression);case 211:return textSpan(node.getChildAt(0),node.expression);case 205:return textSpanEndingAtNextToken(node,node.expression);case 204:return spanInNode(node.statement);case 217:return textSpan(node.getChildAt(0));case 203:return textSpanEndingAtNextToken(node,node.expression);case 214:return spanInNode(node.statement);case 210:case 209:return textSpan(node.getChildAt(0),node.label);case 206:return spanInForStatement(node);case 207:return textSpanEndingAtNextToken(node,node.expression);case 208:return spanInInitializerOfForLike(node);case 213:return textSpanEndingAtNextToken(node,node.expression);case 249:case 250:return spanInNode(node.statements[0]);case 216:return spanInBlock(node.tryBlock);case 215:return textSpan(node,node.expression);case 235:return textSpan(node,node.expression);case 229:return textSpan(node,node.moduleReference);case 230:return textSpan(node,node.moduleSpecifier);case 236:return textSpan(node,node.moduleSpecifier);case 225:if(1!==ts.getModuleInstanceState(node))return void 0;case 221:case 224:case 255:case 169:return textSpan(node);case 212:return spanInNode(node.statement);case 143:return spanInNodeArray(node.parent.decorators);case 167:case 168:return spanInBindingPattern(node);case 222:case 223:return void 0;case 23:case 1:return spanInNodeIfStartsOnSameLine(ts.findPrecedingToken(node.pos,sourceFile));case 24:return spanInPreviousNode(node);case 15:return spanInOpenBraceToken(node);case 16:return spanInCloseBraceToken(node);case 20:return spanInCloseBracketToken(node);case 17:return spanInOpenParenToken(node);case 18:return spanInCloseParenToken(node);case 54:return spanInColonToken(node);case 27:case 25:return spanInGreaterThanOrLessThanToken(node);case 104:return spanInWhileKeyword(node);case 80:case 72:case 85:return spanInNextNode(node);case 138:return spanInOfKeyword(node);default:if(ts.isArrayLiteralOrObjectLiteralDestructuringPattern(node))return spanInArrayLiteralOrObjectLiteralDestructuringPattern(node);if((69===node.kind||191==node.kind||253===node.kind||254===node.kind)&&ts.isArrayLiteralOrObjectLiteralDestructuringPattern(node.parent))return textSpan(node);if(187===node.kind){var binaryExpression=node;if(ts.isArrayLiteralOrObjectLiteralDestructuringPattern(binaryExpression.left))return spanInArrayLiteralOrObjectLiteralDestructuringPattern(binaryExpression.left);if(56===binaryExpression.operatorToken.kind&&ts.isArrayLiteralOrObjectLiteralDestructuringPattern(binaryExpression.parent))return textSpan(node);if(24===binaryExpression.operatorToken.kind)return spanInNode(binaryExpression.left)}if(ts.isExpression(node))switch(node.parent.kind){case 204:return spanInPreviousNode(node);case 143:return spanInNode(node.parent);case 206:case 208:return textSpan(node);case 187:if(24===node.parent.operatorToken.kind)return textSpan(node);break;case 180:if(node.parent.body===node)return textSpan(node)}if(253===node.parent.kind&&node.parent.name===node&&!ts.isArrayLiteralOrObjectLiteralDestructuringPattern(node.parent.parent))return spanInNode(node.parent.initializer);if(177===node.parent.kind&&node.parent.type===node)return spanInNextNode(node.parent.type);if(ts.isFunctionLike(node.parent)&&node.parent.type===node)return spanInPreviousNode(node);if(218===node.parent.kind||142===node.parent.kind){var paramOrVarDecl=node.parent;if(paramOrVarDecl.initializer===node||paramOrVarDecl.type===node||ts.isAssignmentOperator(node.kind))return spanInPreviousNode(node)}if(187===node.parent.kind){var binaryExpression=node.parent;if(ts.isArrayLiteralOrObjectLiteralDestructuringPattern(binaryExpression.left)&&(binaryExpression.right===node||binaryExpression.operatorToken===node))return spanInPreviousNode(node)}return spanInNode(node.parent)}}if(sourceFile.isDeclarationFile)return void 0;var tokenAtLocation=ts.getTokenAtPosition(sourceFile,position),lineOfPosition=sourceFile.getLineAndCharacterOfPosition(position).line;return sourceFile.getLineAndCharacterOfPosition(tokenAtLocation.getStart(sourceFile)).line>lineOfPosition&&(tokenAtLocation=ts.findPrecedingToken(tokenAtLocation.pos,sourceFile),!tokenAtLocation||sourceFile.getLineAndCharacterOfPosition(tokenAtLocation.getEnd()).line!==lineOfPosition)?void 0:ts.isInAmbientContext(tokenAtLocation)?void 0:spanInNode(tokenAtLocation)}BreakpointResolver.spanInSourceFileAtLocation=spanInSourceFileAtLocation}(BreakpointResolver=ts.BreakpointResolver||(ts.BreakpointResolver={}))}(ts||(ts={}));var ts,debugObjectHost=new Function("return this")();!function(ts){function logInternalError(logger,err){logger&&logger.log("*INTERNAL ERROR* - Exception in typescript services: "+err.message)}function simpleForwardCall(logger,actionDescription,action,logPerformance){var start;logPerformance&&(logger.log(actionDescription),start=ts.timestamp());var result=action();if(logPerformance){var end=ts.timestamp();if(logger.log(actionDescription+" completed in "+(end-start)+" msec"),"string"==typeof result){var str=result;str.length>128&&(str=str.substring(0,128)+"..."),logger.log("  result.length="+str.length+", result='"+JSON.stringify(str)+"'");
}}return result}function forwardJSONCall(logger,actionDescription,action,logPerformance){return forwardCall(logger,actionDescription,!0,action,logPerformance)}function forwardCall(logger,actionDescription,returnJson,action,logPerformance){try{var result=simpleForwardCall(logger,actionDescription,action,logPerformance);return returnJson?JSON.stringify({result:result}):result}catch(err){return err instanceof ts.OperationCanceledException?JSON.stringify({canceled:!0}):(logInternalError(logger,err),err.description=actionDescription,JSON.stringify({error:err}))}}function convertClassifications(classifications){return{spans:classifications.spans.join(","),endOfLineState:classifications.endOfLineState}}var ScriptSnapshotShimAdapter=function(){function ScriptSnapshotShimAdapter(scriptSnapshotShim){this.scriptSnapshotShim=scriptSnapshotShim}return ScriptSnapshotShimAdapter.prototype.getText=function(start,end){return this.scriptSnapshotShim.getText(start,end)},ScriptSnapshotShimAdapter.prototype.getLength=function(){return this.scriptSnapshotShim.getLength()},ScriptSnapshotShimAdapter.prototype.getChangeRange=function(oldSnapshot){var oldSnapshotShim=oldSnapshot,encoded=this.scriptSnapshotShim.getChangeRange(oldSnapshotShim.scriptSnapshotShim);if(null==encoded)return null;var decoded=JSON.parse(encoded);return ts.createTextChangeRange(ts.createTextSpan(decoded.span.start,decoded.span.length),decoded.newLength)},ScriptSnapshotShimAdapter.prototype.dispose=function(){"dispose"in this.scriptSnapshotShim&&this.scriptSnapshotShim.dispose()},ScriptSnapshotShimAdapter}(),LanguageServiceShimHostAdapter=function(){function LanguageServiceShimHostAdapter(shimHost){var _this=this;this.shimHost=shimHost,this.loggingEnabled=!1,this.tracingEnabled=!1,"getModuleResolutionsForFile"in this.shimHost&&(this.resolveModuleNames=function(moduleNames,containingFile){var resolutionsInFile=JSON.parse(_this.shimHost.getModuleResolutionsForFile(containingFile));return ts.map(moduleNames,function(name){var result=ts.getProperty(resolutionsInFile,name);return result?{resolvedFileName:result}:void 0})}),"directoryExists"in this.shimHost&&(this.directoryExists=function(directoryName){return _this.shimHost.directoryExists(directoryName)}),"getTypeReferenceDirectiveResolutionsForFile"in this.shimHost&&(this.resolveTypeReferenceDirectives=function(typeDirectiveNames,containingFile){var typeDirectivesForFile=JSON.parse(_this.shimHost.getTypeReferenceDirectiveResolutionsForFile(containingFile));return ts.map(typeDirectiveNames,function(name){return ts.getProperty(typeDirectivesForFile,name)})})}return LanguageServiceShimHostAdapter.prototype.log=function(s){this.loggingEnabled&&this.shimHost.log(s)},LanguageServiceShimHostAdapter.prototype.trace=function(s){this.tracingEnabled&&this.shimHost.trace(s)},LanguageServiceShimHostAdapter.prototype.error=function(s){this.shimHost.error(s)},LanguageServiceShimHostAdapter.prototype.getProjectVersion=function(){return this.shimHost.getProjectVersion?this.shimHost.getProjectVersion():void 0},LanguageServiceShimHostAdapter.prototype.getTypeRootsVersion=function(){return this.shimHost.getTypeRootsVersion?this.shimHost.getTypeRootsVersion():0},LanguageServiceShimHostAdapter.prototype.useCaseSensitiveFileNames=function(){return this.shimHost.useCaseSensitiveFileNames?this.shimHost.useCaseSensitiveFileNames():!1},LanguageServiceShimHostAdapter.prototype.getCompilationSettings=function(){var settingsJson=this.shimHost.getCompilationSettings();if(null==settingsJson||""==settingsJson)throw Error("LanguageServiceShimHostAdapter.getCompilationSettings: empty compilationSettings");return JSON.parse(settingsJson)},LanguageServiceShimHostAdapter.prototype.getScriptFileNames=function(){var encoded=this.shimHost.getScriptFileNames();return this.files=JSON.parse(encoded)},LanguageServiceShimHostAdapter.prototype.getScriptSnapshot=function(fileName){var scriptSnapshot=this.shimHost.getScriptSnapshot(fileName);return scriptSnapshot&&new ScriptSnapshotShimAdapter(scriptSnapshot)},LanguageServiceShimHostAdapter.prototype.getScriptKind=function(fileName){return"getScriptKind"in this.shimHost?this.shimHost.getScriptKind(fileName):0},LanguageServiceShimHostAdapter.prototype.getScriptVersion=function(fileName){return this.shimHost.getScriptVersion(fileName)},LanguageServiceShimHostAdapter.prototype.getLocalizedDiagnosticMessages=function(){var diagnosticMessagesJson=this.shimHost.getLocalizedDiagnosticMessages();if(null==diagnosticMessagesJson||""==diagnosticMessagesJson)return null;try{return JSON.parse(diagnosticMessagesJson)}catch(e){return this.log(e.description||"diagnosticMessages.generated.json has invalid JSON format"),null}},LanguageServiceShimHostAdapter.prototype.getCancellationToken=function(){var hostCancellationToken=this.shimHost.getCancellationToken();return new ThrottledCancellationToken(hostCancellationToken)},LanguageServiceShimHostAdapter.prototype.getCurrentDirectory=function(){return this.shimHost.getCurrentDirectory()},LanguageServiceShimHostAdapter.prototype.getDirectories=function(path){return JSON.parse(this.shimHost.getDirectories(path))},LanguageServiceShimHostAdapter.prototype.getDefaultLibFileName=function(options){return this.shimHost.getDefaultLibFileName(JSON.stringify(options))},LanguageServiceShimHostAdapter.prototype.readDirectory=function(path,extensions,exclude,include,depth){var pattern=ts.getFileMatcherPatterns(path,extensions,exclude,include,this.shimHost.useCaseSensitiveFileNames(),this.shimHost.getCurrentDirectory());return JSON.parse(this.shimHost.readDirectory(path,JSON.stringify(extensions),JSON.stringify(pattern.basePaths),pattern.excludePattern,pattern.includeFilePattern,pattern.includeDirectoryPattern,depth))},LanguageServiceShimHostAdapter.prototype.readFile=function(path,encoding){return this.shimHost.readFile(path,encoding)},LanguageServiceShimHostAdapter.prototype.fileExists=function(path){return this.shimHost.fileExists(path)},LanguageServiceShimHostAdapter}();ts.LanguageServiceShimHostAdapter=LanguageServiceShimHostAdapter;var ThrottledCancellationToken=function(){function ThrottledCancellationToken(hostCancellationToken){this.hostCancellationToken=hostCancellationToken,this.lastCancellationCheckTime=0}return ThrottledCancellationToken.prototype.isCancellationRequested=function(){var time=ts.timestamp(),duration=Math.abs(time-this.lastCancellationCheckTime);return duration>10?(this.lastCancellationCheckTime=time,this.hostCancellationToken.isCancellationRequested()):!1},ThrottledCancellationToken}(),CoreServicesShimHostAdapter=function(){function CoreServicesShimHostAdapter(shimHost){var _this=this;this.shimHost=shimHost,this.useCaseSensitiveFileNames=this.shimHost.useCaseSensitiveFileNames?this.shimHost.useCaseSensitiveFileNames():!1,"directoryExists"in this.shimHost&&(this.directoryExists=function(directoryName){return _this.shimHost.directoryExists(directoryName)}),"realpath"in this.shimHost&&(this.realpath=function(path){return _this.shimHost.realpath(path)})}return CoreServicesShimHostAdapter.prototype.readDirectory=function(rootDir,extensions,exclude,include,depth){try{var pattern=ts.getFileMatcherPatterns(rootDir,extensions,exclude,include,this.shimHost.useCaseSensitiveFileNames(),this.shimHost.getCurrentDirectory());return JSON.parse(this.shimHost.readDirectory(rootDir,JSON.stringify(extensions),JSON.stringify(pattern.basePaths),pattern.excludePattern,pattern.includeFilePattern,pattern.includeDirectoryPattern,depth))}catch(e){for(var results=[],_i=0,extensions_2=extensions;_i<extensions_2.length;_i++)for(var extension=extensions_2[_i],_a=0,_b=this.readDirectoryFallback(rootDir,extension,exclude);_a<_b.length;_a++){var file=_b[_a];ts.contains(results,file)||results.push(file)}return results}},CoreServicesShimHostAdapter.prototype.fileExists=function(fileName){return this.shimHost.fileExists(fileName)},CoreServicesShimHostAdapter.prototype.readFile=function(fileName){return this.shimHost.readFile(fileName)},CoreServicesShimHostAdapter.prototype.readDirectoryFallback=function(rootDir,extension,exclude){return JSON.parse(this.shimHost.readDirectory(rootDir,extension,JSON.stringify(exclude)))},CoreServicesShimHostAdapter.prototype.getDirectories=function(path){return JSON.parse(this.shimHost.getDirectories(path))},CoreServicesShimHostAdapter}();ts.CoreServicesShimHostAdapter=CoreServicesShimHostAdapter;var ShimBase=function(){function ShimBase(factory){this.factory=factory,factory.registerShim(this)}return ShimBase.prototype.dispose=function(dummy){this.factory.unregisterShim(this)},ShimBase}(),LanguageServiceShimObject=function(_super){function LanguageServiceShimObject(factory,host,languageService){_super.call(this,factory),this.host=host,this.languageService=languageService,this.logPerformance=!1,this.logger=this.host}return __extends(LanguageServiceShimObject,_super),LanguageServiceShimObject.prototype.forwardJSONCall=function(actionDescription,action){return forwardJSONCall(this.logger,actionDescription,action,this.logPerformance)},LanguageServiceShimObject.prototype.dispose=function(dummy){this.logger.log("dispose()"),this.languageService.dispose(),this.languageService=null,debugObjectHost&&debugObjectHost.CollectGarbage&&(debugObjectHost.CollectGarbage(),this.logger.log("CollectGarbage()")),this.logger=null,_super.prototype.dispose.call(this,dummy)},LanguageServiceShimObject.prototype.refresh=function(throwOnError){this.forwardJSONCall("refresh("+throwOnError+")",function(){return null})},LanguageServiceShimObject.prototype.cleanupSemanticCache=function(){var _this=this;this.forwardJSONCall("cleanupSemanticCache()",function(){return _this.languageService.cleanupSemanticCache(),null})},LanguageServiceShimObject.prototype.realizeDiagnostics=function(diagnostics){var newLine=ts.getNewLineOrDefaultFromHost(this.host);return ts.realizeDiagnostics(diagnostics,newLine)},LanguageServiceShimObject.prototype.getSyntacticClassifications=function(fileName,start,length){var _this=this;return this.forwardJSONCall("getSyntacticClassifications('"+fileName+"', "+start+", "+length+")",function(){return _this.languageService.getSyntacticClassifications(fileName,ts.createTextSpan(start,length))})},LanguageServiceShimObject.prototype.getSemanticClassifications=function(fileName,start,length){var _this=this;return this.forwardJSONCall("getSemanticClassifications('"+fileName+"', "+start+", "+length+")",function(){return _this.languageService.getSemanticClassifications(fileName,ts.createTextSpan(start,length))})},LanguageServiceShimObject.prototype.getEncodedSyntacticClassifications=function(fileName,start,length){var _this=this;return this.forwardJSONCall("getEncodedSyntacticClassifications('"+fileName+"', "+start+", "+length+")",function(){return convertClassifications(_this.languageService.getEncodedSyntacticClassifications(fileName,ts.createTextSpan(start,length)))})},LanguageServiceShimObject.prototype.getEncodedSemanticClassifications=function(fileName,start,length){var _this=this;return this.forwardJSONCall("getEncodedSemanticClassifications('"+fileName+"', "+start+", "+length+")",function(){return convertClassifications(_this.languageService.getEncodedSemanticClassifications(fileName,ts.createTextSpan(start,length)))})},LanguageServiceShimObject.prototype.getSyntacticDiagnostics=function(fileName){var _this=this;return this.forwardJSONCall("getSyntacticDiagnostics('"+fileName+"')",function(){var diagnostics=_this.languageService.getSyntacticDiagnostics(fileName);return _this.realizeDiagnostics(diagnostics)})},LanguageServiceShimObject.prototype.getSemanticDiagnostics=function(fileName){var _this=this;return this.forwardJSONCall("getSemanticDiagnostics('"+fileName+"')",function(){var diagnostics=_this.languageService.getSemanticDiagnostics(fileName);return _this.realizeDiagnostics(diagnostics)})},LanguageServiceShimObject.prototype.getCompilerOptionsDiagnostics=function(){var _this=this;return this.forwardJSONCall("getCompilerOptionsDiagnostics()",function(){var diagnostics=_this.languageService.getCompilerOptionsDiagnostics();return _this.realizeDiagnostics(diagnostics)})},LanguageServiceShimObject.prototype.getQuickInfoAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getQuickInfoAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getQuickInfoAtPosition(fileName,position)})},LanguageServiceShimObject.prototype.getNameOrDottedNameSpan=function(fileName,startPos,endPos){var _this=this;return this.forwardJSONCall("getNameOrDottedNameSpan('"+fileName+"', "+startPos+", "+endPos+")",function(){return _this.languageService.getNameOrDottedNameSpan(fileName,startPos,endPos)})},LanguageServiceShimObject.prototype.getBreakpointStatementAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getBreakpointStatementAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getBreakpointStatementAtPosition(fileName,position)})},LanguageServiceShimObject.prototype.getSignatureHelpItems=function(fileName,position){var _this=this;return this.forwardJSONCall("getSignatureHelpItems('"+fileName+"', "+position+")",function(){return _this.languageService.getSignatureHelpItems(fileName,position)})},LanguageServiceShimObject.prototype.getDefinitionAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getDefinitionAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getDefinitionAtPosition(fileName,position)})},LanguageServiceShimObject.prototype.getTypeDefinitionAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getTypeDefinitionAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getTypeDefinitionAtPosition(fileName,position)})},LanguageServiceShimObject.prototype.getRenameInfo=function(fileName,position){var _this=this;return this.forwardJSONCall("getRenameInfo('"+fileName+"', "+position+")",function(){return _this.languageService.getRenameInfo(fileName,position)})},LanguageServiceShimObject.prototype.findRenameLocations=function(fileName,position,findInStrings,findInComments){var _this=this;return this.forwardJSONCall("findRenameLocations('"+fileName+"', "+position+", "+findInStrings+", "+findInComments+")",function(){return _this.languageService.findRenameLocations(fileName,position,findInStrings,findInComments)})},LanguageServiceShimObject.prototype.getBraceMatchingAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getBraceMatchingAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getBraceMatchingAtPosition(fileName,position)})},LanguageServiceShimObject.prototype.isValidBraceCompletionAtPosition=function(fileName,position,openingBrace){var _this=this;return this.forwardJSONCall("isValidBraceCompletionAtPosition('"+fileName+"', "+position+", "+openingBrace+")",function(){return _this.languageService.isValidBraceCompletionAtPosition(fileName,position,openingBrace)})},LanguageServiceShimObject.prototype.getIndentationAtPosition=function(fileName,position,options){var _this=this;return this.forwardJSONCall("getIndentationAtPosition('"+fileName+"', "+position+")",function(){var localOptions=JSON.parse(options);return _this.languageService.getIndentationAtPosition(fileName,position,localOptions)})},LanguageServiceShimObject.prototype.getReferencesAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getReferencesAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getReferencesAtPosition(fileName,position)})},LanguageServiceShimObject.prototype.findReferences=function(fileName,position){var _this=this;return this.forwardJSONCall("findReferences('"+fileName+"', "+position+")",function(){return _this.languageService.findReferences(fileName,position)})},LanguageServiceShimObject.prototype.getOccurrencesAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getOccurrencesAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getOccurrencesAtPosition(fileName,position)})},LanguageServiceShimObject.prototype.getDocumentHighlights=function(fileName,position,filesToSearch){var _this=this;return this.forwardJSONCall("getDocumentHighlights('"+fileName+"', "+position+")",function(){var results=_this.languageService.getDocumentHighlights(fileName,position,JSON.parse(filesToSearch)),normalizedName=ts.normalizeSlashes(fileName).toLowerCase();return ts.filter(results,function(r){return ts.normalizeSlashes(r.fileName).toLowerCase()===normalizedName})})},LanguageServiceShimObject.prototype.getCompletionsAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getCompletionsAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getCompletionsAtPosition(fileName,position)})},LanguageServiceShimObject.prototype.getCompletionEntryDetails=function(fileName,position,entryName){var _this=this;return this.forwardJSONCall("getCompletionEntryDetails('"+fileName+"', "+position+", '"+entryName+"')",function(){return _this.languageService.getCompletionEntryDetails(fileName,position,entryName)})},LanguageServiceShimObject.prototype.getFormattingEditsForRange=function(fileName,start,end,options){var _this=this;return this.forwardJSONCall("getFormattingEditsForRange('"+fileName+"', "+start+", "+end+")",function(){var localOptions=JSON.parse(options);return _this.languageService.getFormattingEditsForRange(fileName,start,end,localOptions)})},LanguageServiceShimObject.prototype.getFormattingEditsForDocument=function(fileName,options){var _this=this;return this.forwardJSONCall("getFormattingEditsForDocument('"+fileName+"')",function(){var localOptions=JSON.parse(options);return _this.languageService.getFormattingEditsForDocument(fileName,localOptions)})},LanguageServiceShimObject.prototype.getFormattingEditsAfterKeystroke=function(fileName,position,key,options){var _this=this;return this.forwardJSONCall("getFormattingEditsAfterKeystroke('"+fileName+"', "+position+", '"+key+"')",function(){var localOptions=JSON.parse(options);return _this.languageService.getFormattingEditsAfterKeystroke(fileName,position,key,localOptions)})},LanguageServiceShimObject.prototype.getDocCommentTemplateAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getDocCommentTemplateAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getDocCommentTemplateAtPosition(fileName,position)})},LanguageServiceShimObject.prototype.getNavigateToItems=function(searchValue,maxResultCount){var _this=this;return this.forwardJSONCall("getNavigateToItems('"+searchValue+"', "+maxResultCount+")",function(){return _this.languageService.getNavigateToItems(searchValue,maxResultCount)})},LanguageServiceShimObject.prototype.getNavigationBarItems=function(fileName){var _this=this;return this.forwardJSONCall("getNavigationBarItems('"+fileName+"')",function(){return _this.languageService.getNavigationBarItems(fileName)})},LanguageServiceShimObject.prototype.getNavigationTree=function(fileName){var _this=this;return this.forwardJSONCall("getNavigationTree('"+fileName+"')",function(){return _this.languageService.getNavigationTree(fileName)})},LanguageServiceShimObject.prototype.getOutliningSpans=function(fileName){var _this=this;return this.forwardJSONCall("getOutliningSpans('"+fileName+"')",function(){return _this.languageService.getOutliningSpans(fileName)})},LanguageServiceShimObject.prototype.getTodoComments=function(fileName,descriptors){var _this=this;return this.forwardJSONCall("getTodoComments('"+fileName+"')",function(){return _this.languageService.getTodoComments(fileName,JSON.parse(descriptors))})},LanguageServiceShimObject.prototype.getEmitOutput=function(fileName){var _this=this;return this.forwardJSONCall("getEmitOutput('"+fileName+"')",function(){return _this.languageService.getEmitOutput(fileName)})},LanguageServiceShimObject.prototype.getEmitOutputObject=function(fileName){var _this=this;return forwardCall(this.logger,"getEmitOutput('"+fileName+"')",!1,function(){return _this.languageService.getEmitOutput(fileName)},this.logPerformance)},LanguageServiceShimObject}(ShimBase),ClassifierShimObject=function(_super){function ClassifierShimObject(factory,logger){_super.call(this,factory),this.logger=logger,this.logPerformance=!1,this.classifier=ts.createClassifier()}return __extends(ClassifierShimObject,_super),ClassifierShimObject.prototype.getEncodedLexicalClassifications=function(text,lexState,syntacticClassifierAbsent){var _this=this;return forwardJSONCall(this.logger,"getEncodedLexicalClassifications",function(){return convertClassifications(_this.classifier.getEncodedLexicalClassifications(text,lexState,syntacticClassifierAbsent))},this.logPerformance)},ClassifierShimObject.prototype.getClassificationsForLine=function(text,lexState,classifyKeywordsInGenerics){for(var classification=this.classifier.getClassificationsForLine(text,lexState,classifyKeywordsInGenerics),result="",_i=0,_a=classification.entries;_i<_a.length;_i++){var item=_a[_i];result+=item.length+"\n",result+=item.classification+"\n"}return result+=classification.finalLexState},ClassifierShimObject}(ShimBase),CoreServicesShimObject=function(_super){function CoreServicesShimObject(factory,logger,host){_super.call(this,factory),this.logger=logger,this.host=host,this.logPerformance=!1}return __extends(CoreServicesShimObject,_super),CoreServicesShimObject.prototype.forwardJSONCall=function(actionDescription,action){return forwardJSONCall(this.logger,actionDescription,action,this.logPerformance)},CoreServicesShimObject.prototype.resolveModuleName=function(fileName,moduleName,compilerOptionsJson){var _this=this;return this.forwardJSONCall("resolveModuleName('"+fileName+"')",function(){var compilerOptions=JSON.parse(compilerOptionsJson),result=ts.resolveModuleName(moduleName,ts.normalizeSlashes(fileName),compilerOptions,_this.host);return{resolvedFileName:result.resolvedModule?result.resolvedModule.resolvedFileName:void 0,failedLookupLocations:result.failedLookupLocations}})},CoreServicesShimObject.prototype.resolveTypeReferenceDirective=function(fileName,typeReferenceDirective,compilerOptionsJson){var _this=this;return this.forwardJSONCall("resolveTypeReferenceDirective("+fileName+")",function(){var compilerOptions=JSON.parse(compilerOptionsJson),result=ts.resolveTypeReferenceDirective(typeReferenceDirective,ts.normalizeSlashes(fileName),compilerOptions,_this.host);return{resolvedFileName:result.resolvedTypeReferenceDirective?result.resolvedTypeReferenceDirective.resolvedFileName:void 0,primary:result.resolvedTypeReferenceDirective?result.resolvedTypeReferenceDirective.primary:!0,failedLookupLocations:result.failedLookupLocations}})},CoreServicesShimObject.prototype.getPreProcessedFileInfo=function(fileName,sourceTextSnapshot){var _this=this;return this.forwardJSONCall("getPreProcessedFileInfo('"+fileName+"')",function(){var result=ts.preProcessFile(sourceTextSnapshot.getText(0,sourceTextSnapshot.getLength()),!0,!0);return{referencedFiles:_this.convertFileReferences(result.referencedFiles),importedFiles:_this.convertFileReferences(result.importedFiles),ambientExternalModules:result.ambientExternalModules,isLibFile:result.isLibFile,typeReferenceDirectives:_this.convertFileReferences(result.typeReferenceDirectives)}})},CoreServicesShimObject.prototype.getAutomaticTypeDirectiveNames=function(compilerOptionsJson){var _this=this;return this.forwardJSONCall("getAutomaticTypeDirectiveNames('"+compilerOptionsJson+"')",function(){var compilerOptions=JSON.parse(compilerOptionsJson);return ts.getAutomaticTypeDirectiveNames(compilerOptions,_this.host)})},CoreServicesShimObject.prototype.convertFileReferences=function(refs){if(!refs)return void 0;for(var result=[],_i=0,refs_2=refs;_i<refs_2.length;_i++){var ref=refs_2[_i];result.push({path:ts.normalizeSlashes(ref.fileName),position:ref.pos,length:ref.end-ref.pos})}return result},CoreServicesShimObject.prototype.getTSConfigFileInfo=function(fileName,sourceTextSnapshot){var _this=this;return this.forwardJSONCall("getTSConfigFileInfo('"+fileName+"')",function(){var text=sourceTextSnapshot.getText(0,sourceTextSnapshot.getLength()),result=ts.parseConfigFileTextToJson(fileName,text);if(result.error)return{options:{},typingOptions:{},files:[],raw:{},errors:[ts.realizeDiagnostic(result.error,"\r\n")]};var normalizedFileName=ts.normalizeSlashes(fileName),configFile=ts.parseJsonConfigFileContent(result.config,_this.host,ts.getDirectoryPath(normalizedFileName),{},normalizedFileName);return{options:configFile.options,typingOptions:configFile.typingOptions,files:configFile.fileNames,raw:configFile.raw,errors:ts.realizeDiagnostics(configFile.errors,"\r\n")}})},CoreServicesShimObject.prototype.getDefaultCompilationSettings=function(){return this.forwardJSONCall("getDefaultCompilationSettings()",function(){return ts.getDefaultCompilerOptions()})},CoreServicesShimObject.prototype.discoverTypings=function(discoverTypingsJson){var _this=this,getCanonicalFileName=ts.createGetCanonicalFileName(!1);return this.forwardJSONCall("discoverTypings()",function(){var info=JSON.parse(discoverTypingsJson);return ts.JsTyping.discoverTypings(_this.host,info.fileNames,ts.toPath(info.projectRootPath,info.projectRootPath,getCanonicalFileName),ts.toPath(info.safeListPath,info.safeListPath,getCanonicalFileName),info.packageNameToTypingLocation,info.typingOptions,info.compilerOptions)})},CoreServicesShimObject}(ShimBase),TypeScriptServicesFactory=function(){function TypeScriptServicesFactory(){this._shims=[]}return TypeScriptServicesFactory.prototype.getServicesVersion=function(){return ts.servicesVersion},TypeScriptServicesFactory.prototype.createLanguageServiceShim=function(host){try{void 0===this.documentRegistry&&(this.documentRegistry=ts.createDocumentRegistry(host.useCaseSensitiveFileNames&&host.useCaseSensitiveFileNames(),host.getCurrentDirectory()));var hostAdapter=new LanguageServiceShimHostAdapter(host),languageService=ts.createLanguageService(hostAdapter,this.documentRegistry);return new LanguageServiceShimObject(this,host,languageService)}catch(err){throw logInternalError(host,err),err}},TypeScriptServicesFactory.prototype.createClassifierShim=function(logger){try{return new ClassifierShimObject(this,logger)}catch(err){throw logInternalError(logger,err),err}},TypeScriptServicesFactory.prototype.createCoreServicesShim=function(host){try{var adapter=new CoreServicesShimHostAdapter(host);return new CoreServicesShimObject(this,host,adapter)}catch(err){throw logInternalError(host,err),err}},TypeScriptServicesFactory.prototype.close=function(){this._shims=[],this.documentRegistry=void 0},TypeScriptServicesFactory.prototype.registerShim=function(shim){this._shims.push(shim)},TypeScriptServicesFactory.prototype.unregisterShim=function(shim){for(var i=0,n=this._shims.length;n>i;i++)if(this._shims[i]===shim)return void delete this._shims[i];throw new Error("Invalid operation")},TypeScriptServicesFactory}();ts.TypeScriptServicesFactory=TypeScriptServicesFactory,"undefined"!=typeof module&&module.exports&&(module.exports=ts)}(ts||(ts={}));var TypeScript;!function(TypeScript){var Services;!function(Services){Services.TypeScriptServicesFactory=ts.TypeScriptServicesFactory}(Services=TypeScript.Services||(TypeScript.Services={}))}(TypeScript||(TypeScript={}))}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},"/node_modules/typescript/lib/typescript.js",arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/typescript/lib")},{_process:201,crypto:113,fs:25,os:25,path:25}],297:[function(require,module,exports){var trim=require("./trim"),decap=require("./decapitalize");module.exports=function(str,decapitalize){return str=trim(str).replace(/[-_\s]+(.)?/g,function(match,c){return c?c.toUpperCase():""}),decapitalize===!0?decap(str):str}},{"./decapitalize":306,"./trim":359}],298:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str,lowercaseRest){str=makeString(str);var remainingChars=lowercaseRest?str.slice(1).toLowerCase():str.slice(1);return str.charAt(0).toUpperCase()+remainingChars}},{"./helper/makeString":316}],299:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str){return makeString(str).split("")}},{"./helper/makeString":316}],300:[function(require,module,exports){module.exports=function(str,step){return null==str?[]:(str=String(str),step=~~step,step>0?str.match(new RegExp(".{1,"+step+"}","g")):[str])}},{}],301:[function(require,module,exports){var capitalize=require("./capitalize"),camelize=require("./camelize"),makeString=require("./helper/makeString");module.exports=function(str){return str=makeString(str),capitalize(camelize(str.replace(/[\W_]/g," ")).replace(/\s/g,""))}},{"./camelize":297,"./capitalize":298,"./helper/makeString":316}],302:[function(require,module,exports){var trim=require("./trim");module.exports=function(str){return trim(str).replace(/\s\s+/g," ")}},{"./trim":359}],303:[function(require,module,exports){var makeString=require("./helper/makeString"),from="ąàáäâãåæăćčĉęèéëêĝĥìíïîĵłľńňòóöőôõðøśșşšŝťțţŭùúüűûñÿýçżźž",to="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz";from+=from.toUpperCase(),to+=to.toUpperCase(),to=to.split(""),from+="ß",to.push("ss"),module.exports=function(str){return makeString(str).replace(/.{1}/g,function(c){var index=from.indexOf(c);return-1===index?c:to[index]})}},{"./helper/makeString":316}],304:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str,substr){return str=makeString(str),substr=makeString(substr),0===str.length||0===substr.length?0:str.split(substr).length-1}},{"./helper/makeString":316}],305:[function(require,module,exports){var trim=require("./trim");module.exports=function(str){return trim(str).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},{"./trim":359}],306:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str){return str=makeString(str),str.charAt(0).toLowerCase()+str.slice(1)}},{"./helper/makeString":316}],307:[function(require,module,exports){function getIndent(str){for(var matches=str.match(/^[\s\\t]*/gm),indent=matches[0].length,i=1;i<matches.length;i++)indent=Math.min(matches[i].length,indent);return indent}var makeString=require("./helper/makeString");module.exports=function(str,pattern){str=makeString(str);var reg,indent=getIndent(str);return 0===indent?str:(reg="string"==typeof pattern?new RegExp("^"+pattern,"gm"):new RegExp("^[ \\t]{"+indent+"}","gm"),str.replace(reg,""))}},{"./helper/makeString":316}],308:[function(require,module,exports){var makeString=require("./helper/makeString"),toPositive=require("./helper/toPositive");module.exports=function(str,ends,position){return str=makeString(str),ends=""+ends,position="undefined"==typeof position?str.length-ends.length:Math.min(toPositive(position),str.length)-ends.length,position>=0&&str.indexOf(ends,position)===position}},{"./helper/makeString":316,"./helper/toPositive":318}],309:[function(require,module,exports){var makeString=require("./helper/makeString"),escapeChars=require("./helper/escapeChars"),regexString="[";for(var key in escapeChars)regexString+=key;regexString+="]";var regex=new RegExp(regexString,"g");module.exports=function(str){return makeString(str).replace(regex,function(m){return"&"+escapeChars[m]+";"})}},{"./helper/escapeChars":313,"./helper/makeString":316}],310:[function(require,module,exports){module.exports=function(){var result={};for(var prop in this)this.hasOwnProperty(prop)&&!prop.match(/^(?:include|contains|reverse|join|map|wrap)$/)&&(result[prop]=this[prop]);return result}},{}],311:[function(require,module,exports){
var makeString=require("./makeString");module.exports=function(str,direction){return str=makeString(str),0===str.length?"":str.slice(0,-1)+String.fromCharCode(str.charCodeAt(str.length-1)+direction)}},{"./makeString":316}],312:[function(require,module,exports){var escapeRegExp=require("./escapeRegExp");module.exports=function(characters){return null==characters?"\\s":characters.source?characters.source:"["+escapeRegExp(characters)+"]"}},{"./escapeRegExp":314}],313:[function(require,module,exports){var escapeChars={"¢":"cent","£":"pound","¥":"yen","€":"euro","©":"copy","®":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"};module.exports=escapeChars},{}],314:[function(require,module,exports){var makeString=require("./makeString");module.exports=function(str){return makeString(str).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},{"./makeString":316}],315:[function(require,module,exports){var htmlEntities={nbsp:" ",cent:"¢",pound:"£",yen:"¥",euro:"€",copy:"©",reg:"®",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};module.exports=htmlEntities},{}],316:[function(require,module,exports){module.exports=function(object){return null==object?"":""+object}},{}],317:[function(require,module,exports){module.exports=function(str,qty){if(1>qty)return"";for(var result="";qty>0;)1&qty&&(result+=str),qty>>=1,str+=str;return result}},{}],318:[function(require,module,exports){module.exports=function(number){return 0>number?0:+number||0}},{}],319:[function(require,module,exports){var capitalize=require("./capitalize"),underscored=require("./underscored"),trim=require("./trim");module.exports=function(str){return capitalize(trim(underscored(str).replace(/_id$/,"").replace(/_/g," ")))}},{"./capitalize":298,"./trim":359,"./underscored":361}],320:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str,needle){return""===needle?!0:-1!==makeString(str).indexOf(needle)}},{"./helper/makeString":316}],321:[function(require,module,exports){"use strict";function s(value){return this instanceof s?void(this._wrapped=value):new s(value)}function fn2method(key,fn){"function"==typeof fn&&(s.prototype[key]=function(){var args=[this._wrapped].concat(Array.prototype.slice.call(arguments)),res=fn.apply(null,args);return"string"==typeof res?new s(res):res})}function prototype2method(methodName){fn2method(methodName,function(context){var args=Array.prototype.slice.call(arguments,1);return String.prototype[methodName].apply(context,args)})}s.VERSION="3.3.4",s.isBlank=require("./isBlank"),s.stripTags=require("./stripTags"),s.capitalize=require("./capitalize"),s.decapitalize=require("./decapitalize"),s.chop=require("./chop"),s.trim=require("./trim"),s.clean=require("./clean"),s.cleanDiacritics=require("./cleanDiacritics"),s.count=require("./count"),s.chars=require("./chars"),s.swapCase=require("./swapCase"),s.escapeHTML=require("./escapeHTML"),s.unescapeHTML=require("./unescapeHTML"),s.splice=require("./splice"),s.insert=require("./insert"),s.replaceAll=require("./replaceAll"),s.include=require("./include"),s.join=require("./join"),s.lines=require("./lines"),s.dedent=require("./dedent"),s.reverse=require("./reverse"),s.startsWith=require("./startsWith"),s.endsWith=require("./endsWith"),s.pred=require("./pred"),s.succ=require("./succ"),s.titleize=require("./titleize"),s.camelize=require("./camelize"),s.underscored=require("./underscored"),s.dasherize=require("./dasherize"),s.classify=require("./classify"),s.humanize=require("./humanize"),s.ltrim=require("./ltrim"),s.rtrim=require("./rtrim"),s.truncate=require("./truncate"),s.prune=require("./prune"),s.words=require("./words"),s.pad=require("./pad"),s.lpad=require("./lpad"),s.rpad=require("./rpad"),s.lrpad=require("./lrpad"),s.sprintf=require("./sprintf"),s.vsprintf=require("./vsprintf"),s.toNumber=require("./toNumber"),s.numberFormat=require("./numberFormat"),s.strRight=require("./strRight"),s.strRightBack=require("./strRightBack"),s.strLeft=require("./strLeft"),s.strLeftBack=require("./strLeftBack"),s.toSentence=require("./toSentence"),s.toSentenceSerial=require("./toSentenceSerial"),s.slugify=require("./slugify"),s.surround=require("./surround"),s.quote=require("./quote"),s.unquote=require("./unquote"),s.repeat=require("./repeat"),s.naturalCmp=require("./naturalCmp"),s.levenshtein=require("./levenshtein"),s.toBoolean=require("./toBoolean"),s.exports=require("./exports"),s.escapeRegExp=require("./helper/escapeRegExp"),s.wrap=require("./wrap"),s.map=require("./map"),s.strip=s.trim,s.lstrip=s.ltrim,s.rstrip=s.rtrim,s.center=s.lrpad,s.rjust=s.lpad,s.ljust=s.rpad,s.contains=s.include,s.q=s.quote,s.toBool=s.toBoolean,s.camelcase=s.camelize,s.mapChars=s.map,s.prototype={value:function(){return this._wrapped}};for(var key in s)fn2method(key,s[key]);fn2method("tap",function(string,fn){return fn(string)});var prototypeMethods=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var method in prototypeMethods)prototype2method(prototypeMethods[method]);module.exports=s},{"./camelize":297,"./capitalize":298,"./chars":299,"./chop":300,"./classify":301,"./clean":302,"./cleanDiacritics":303,"./count":304,"./dasherize":305,"./decapitalize":306,"./dedent":307,"./endsWith":308,"./escapeHTML":309,"./exports":310,"./helper/escapeRegExp":314,"./humanize":319,"./include":320,"./insert":322,"./isBlank":323,"./join":324,"./levenshtein":325,"./lines":326,"./lpad":327,"./lrpad":328,"./ltrim":329,"./map":330,"./naturalCmp":331,"./numberFormat":332,"./pad":333,"./pred":334,"./prune":335,"./quote":336,"./repeat":337,"./replaceAll":338,"./reverse":339,"./rpad":340,"./rtrim":341,"./slugify":342,"./splice":343,"./sprintf":344,"./startsWith":345,"./strLeft":346,"./strLeftBack":347,"./strRight":348,"./strRightBack":349,"./stripTags":350,"./succ":351,"./surround":352,"./swapCase":353,"./titleize":354,"./toBoolean":355,"./toNumber":356,"./toSentence":357,"./toSentenceSerial":358,"./trim":359,"./truncate":360,"./underscored":361,"./unescapeHTML":362,"./unquote":363,"./vsprintf":364,"./words":365,"./wrap":366}],322:[function(require,module,exports){var splice=require("./splice");module.exports=function(str,i,substr){return splice(str,i,0,substr)}},{"./splice":343}],323:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str){return/^\s*$/.test(makeString(str))}},{"./helper/makeString":316}],324:[function(require,module,exports){var makeString=require("./helper/makeString"),slice=[].slice;module.exports=function(){var args=slice.call(arguments),separator=args.shift();return args.join(makeString(separator))}},{"./helper/makeString":316}],325:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str1,str2){"use strict";if(str1=makeString(str1),str2=makeString(str2),str1===str2)return 0;if(!str1||!str2)return Math.max(str1.length,str2.length);for(var prevRow=new Array(str2.length+1),i=0;i<prevRow.length;++i)prevRow[i]=i;for(i=0;i<str1.length;++i){for(var nextCol=i+1,j=0;j<str2.length;++j){var curCol=nextCol;nextCol=prevRow[j]+(str1.charAt(i)===str2.charAt(j)?0:1);var tmp=curCol+1;nextCol>tmp&&(nextCol=tmp),tmp=prevRow[j+1]+1,nextCol>tmp&&(nextCol=tmp),prevRow[j]=curCol}prevRow[j]=nextCol}return nextCol}},{"./helper/makeString":316}],326:[function(require,module,exports){module.exports=function(str){return null==str?[]:String(str).split(/\r\n?|\n/)}},{}],327:[function(require,module,exports){var pad=require("./pad");module.exports=function(str,length,padStr){return pad(str,length,padStr)}},{"./pad":333}],328:[function(require,module,exports){var pad=require("./pad");module.exports=function(str,length,padStr){return pad(str,length,padStr,"both")}},{"./pad":333}],329:[function(require,module,exports){var makeString=require("./helper/makeString"),defaultToWhiteSpace=require("./helper/defaultToWhiteSpace"),nativeTrimLeft=String.prototype.trimLeft;module.exports=function(str,characters){return str=makeString(str),!characters&&nativeTrimLeft?nativeTrimLeft.call(str):(characters=defaultToWhiteSpace(characters),str.replace(new RegExp("^"+characters+"+"),""))}},{"./helper/defaultToWhiteSpace":312,"./helper/makeString":316}],330:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str,callback){return str=makeString(str),0===str.length||"function"!=typeof callback?str:str.replace(/./g,callback)}},{"./helper/makeString":316}],331:[function(require,module,exports){module.exports=function(str1,str2){if(str1==str2)return 0;if(!str1)return-1;if(!str2)return 1;for(var cmpRegex=/(\.\d+|\d+|\D+)/g,tokens1=String(str1).match(cmpRegex),tokens2=String(str2).match(cmpRegex),count=Math.min(tokens1.length,tokens2.length),i=0;count>i;i++){var a=tokens1[i],b=tokens2[i];if(a!==b){var num1=+a,num2=+b;return num1===num1&&num2===num2?num1>num2?1:-1:b>a?-1:1}}return tokens1.length!=tokens2.length?tokens1.length-tokens2.length:str2>str1?-1:1}},{}],332:[function(require,module,exports){module.exports=function(number,dec,dsep,tsep){if(isNaN(number)||null==number)return"";number=number.toFixed(~~dec),tsep="string"==typeof tsep?tsep:",";var parts=number.split("."),fnums=parts[0],decimals=parts[1]?(dsep||".")+parts[1]:"";return fnums.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+tsep)+decimals}},{}],333:[function(require,module,exports){var makeString=require("./helper/makeString"),strRepeat=require("./helper/strRepeat");module.exports=function(str,length,padStr,type){str=makeString(str),length=~~length;var padlen=0;switch(padStr?padStr.length>1&&(padStr=padStr.charAt(0)):padStr=" ",type){case"right":return padlen=length-str.length,str+strRepeat(padStr,padlen);case"both":return padlen=length-str.length,strRepeat(padStr,Math.ceil(padlen/2))+str+strRepeat(padStr,Math.floor(padlen/2));default:return padlen=length-str.length,strRepeat(padStr,padlen)+str}}},{"./helper/makeString":316,"./helper/strRepeat":317}],334:[function(require,module,exports){var adjacent=require("./helper/adjacent");module.exports=function(str){return adjacent(str,-1)}},{"./helper/adjacent":311}],335:[function(require,module,exports){var makeString=require("./helper/makeString"),rtrim=require("./rtrim");module.exports=function(str,length,pruneStr){if(str=makeString(str),length=~~length,pruneStr=null!=pruneStr?String(pruneStr):"...",str.length<=length)return str;var tmpl=function(c){return c.toUpperCase()!==c.toLowerCase()?"A":" "},template=str.slice(0,length+1).replace(/.(?=\W*\w*$)/g,tmpl);return template=template.slice(template.length-2).match(/\w\w/)?template.replace(/\s*\S+$/,""):rtrim(template.slice(0,template.length-1)),(template+pruneStr).length>str.length?str:str.slice(0,template.length)+pruneStr}},{"./helper/makeString":316,"./rtrim":341}],336:[function(require,module,exports){var surround=require("./surround");module.exports=function(str,quoteChar){return surround(str,quoteChar||'"')}},{"./surround":352}],337:[function(require,module,exports){var makeString=require("./helper/makeString"),strRepeat=require("./helper/strRepeat");module.exports=function repeat(str,qty,separator){if(str=makeString(str),qty=~~qty,null==separator)return strRepeat(str,qty);for(var repeat=[];qty>0;repeat[--qty]=str);return repeat.join(separator)}},{"./helper/makeString":316,"./helper/strRepeat":317}],338:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str,find,replace,ignorecase){var flags=ignorecase===!0?"gi":"g",reg=new RegExp(find,flags);return makeString(str).replace(reg,replace)}},{"./helper/makeString":316}],339:[function(require,module,exports){var chars=require("./chars");module.exports=function(str){return chars(str).reverse().join("")}},{"./chars":299}],340:[function(require,module,exports){var pad=require("./pad");module.exports=function(str,length,padStr){return pad(str,length,padStr,"right")}},{"./pad":333}],341:[function(require,module,exports){var makeString=require("./helper/makeString"),defaultToWhiteSpace=require("./helper/defaultToWhiteSpace"),nativeTrimRight=String.prototype.trimRight;module.exports=function(str,characters){return str=makeString(str),!characters&&nativeTrimRight?nativeTrimRight.call(str):(characters=defaultToWhiteSpace(characters),str.replace(new RegExp(characters+"+$"),""))}},{"./helper/defaultToWhiteSpace":312,"./helper/makeString":316}],342:[function(require,module,exports){var trim=require("./trim"),dasherize=require("./dasherize"),cleanDiacritics=require("./cleanDiacritics");module.exports=function(str){return trim(dasherize(cleanDiacritics(str).replace(/[^\w\s-]/g,"-").toLowerCase()),"-")}},{"./cleanDiacritics":303,"./dasherize":305,"./trim":359}],343:[function(require,module,exports){var chars=require("./chars");module.exports=function(str,i,howmany,substr){var arr=chars(str);return arr.splice(~~i,~~howmany,substr),arr.join("")}},{"./chars":299}],344:[function(require,module,exports){var deprecate=require("util-deprecate");module.exports=deprecate(require("sprintf-js").sprintf,"sprintf() will be removed in the next major release, use the sprintf-js package instead.")},{"sprintf-js":259,"util-deprecate":367}],345:[function(require,module,exports){var makeString=require("./helper/makeString"),toPositive=require("./helper/toPositive");module.exports=function(str,starts,position){return str=makeString(str),starts=""+starts,position=null==position?0:Math.min(toPositive(position),str.length),str.lastIndexOf(starts,position)===position}},{"./helper/makeString":316,"./helper/toPositive":318}],346:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str,sep){str=makeString(str),sep=makeString(sep);var pos=sep?str.indexOf(sep):-1;return~pos?str.slice(0,pos):str}},{"./helper/makeString":316}],347:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str,sep){str=makeString(str),sep=makeString(sep);var pos=str.lastIndexOf(sep);return~pos?str.slice(0,pos):str}},{"./helper/makeString":316}],348:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str,sep){str=makeString(str),sep=makeString(sep);var pos=sep?str.indexOf(sep):-1;return~pos?str.slice(pos+sep.length,str.length):str}},{"./helper/makeString":316}],349:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str,sep){str=makeString(str),sep=makeString(sep);var pos=sep?str.lastIndexOf(sep):-1;return~pos?str.slice(pos+sep.length,str.length):str}},{"./helper/makeString":316}],350:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str){return makeString(str).replace(/<\/?[^>]+>/g,"")}},{"./helper/makeString":316}],351:[function(require,module,exports){var adjacent=require("./helper/adjacent");module.exports=function(str){return adjacent(str,1)}},{"./helper/adjacent":311}],352:[function(require,module,exports){module.exports=function(str,wrapper){return[wrapper,str,wrapper].join("")}},{}],353:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str){return makeString(str).replace(/\S/g,function(c){return c===c.toUpperCase()?c.toLowerCase():c.toUpperCase()})}},{"./helper/makeString":316}],354:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str){return makeString(str).toLowerCase().replace(/(?:^|\s|-)\S/g,function(c){return c.toUpperCase()})}},{"./helper/makeString":316}],355:[function(require,module,exports){function boolMatch(s,matchers){var i,matcher,down=s.toLowerCase();for(matchers=[].concat(matchers),i=0;i<matchers.length;i+=1)if(matcher=matchers[i]){if(matcher.test&&matcher.test(s))return!0;if(matcher.toLowerCase()===down)return!0}}var trim=require("./trim");module.exports=function(str,trueValues,falseValues){return"number"==typeof str&&(str=""+str),"string"!=typeof str?!!str:(str=trim(str),boolMatch(str,trueValues||["true","1"])?!0:boolMatch(str,falseValues||["false","0"])?!1:void 0)}},{"./trim":359}],356:[function(require,module,exports){module.exports=function(num,precision){if(null==num)return 0;var factor=Math.pow(10,isFinite(precision)?precision:0);return Math.round(num*factor)/factor}},{}],357:[function(require,module,exports){var rtrim=require("./rtrim");module.exports=function(array,separator,lastSeparator,serial){separator=separator||", ",lastSeparator=lastSeparator||" and ";var a=array.slice(),lastMember=a.pop();return array.length>2&&serial&&(lastSeparator=rtrim(separator)+lastSeparator),a.length?a.join(separator)+lastSeparator+lastMember:lastMember}},{"./rtrim":341}],358:[function(require,module,exports){var toSentence=require("./toSentence");module.exports=function(array,sep,lastSep){return toSentence(array,sep,lastSep,!0)}},{"./toSentence":357}],359:[function(require,module,exports){var makeString=require("./helper/makeString"),defaultToWhiteSpace=require("./helper/defaultToWhiteSpace"),nativeTrim=String.prototype.trim;module.exports=function(str,characters){return str=makeString(str),!characters&&nativeTrim?nativeTrim.call(str):(characters=defaultToWhiteSpace(characters),str.replace(new RegExp("^"+characters+"+|"+characters+"+$","g"),""))}},{"./helper/defaultToWhiteSpace":312,"./helper/makeString":316}],360:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str,length,truncateStr){return str=makeString(str),truncateStr=truncateStr||"...",length=~~length,str.length>length?str.slice(0,length)+truncateStr:str}},{"./helper/makeString":316}],361:[function(require,module,exports){var trim=require("./trim");module.exports=function(str){return trim(str).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},{"./trim":359}],362:[function(require,module,exports){var makeString=require("./helper/makeString"),htmlEntities=require("./helper/htmlEntities");module.exports=function(str){return makeString(str).replace(/\&([^;]+);/g,function(entity,entityCode){var match;return entityCode in htmlEntities?htmlEntities[entityCode]:(match=entityCode.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(match[1],16)):(match=entityCode.match(/^#(\d+)$/))?String.fromCharCode(~~match[1]):entity})}},{"./helper/htmlEntities":315,"./helper/makeString":316}],363:[function(require,module,exports){module.exports=function(str,quoteChar){return quoteChar=quoteChar||'"',str[0]===quoteChar&&str[str.length-1]===quoteChar?str.slice(1,str.length-1):str}},{}],364:[function(require,module,exports){var deprecate=require("util-deprecate");module.exports=deprecate(require("sprintf-js").vsprintf,"vsprintf() will be removed in the next major release, use the sprintf-js package instead.")},{"sprintf-js":259,"util-deprecate":367}],365:[function(require,module,exports){var isBlank=require("./isBlank"),trim=require("./trim");module.exports=function(str,delimiter){return isBlank(str)?[]:trim(str,delimiter).split(delimiter||/\s+/)}},{"./isBlank":323,"./trim":359}],366:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str,options){str=makeString(str),options=options||{};var result,width=options.width||75,seperator=options.seperator||"\n",cut=options.cut||!1,preserveSpaces=options.preserveSpaces||!1,trailingSpaces=options.trailingSpaces||!1;if(0>=width)return str;if(cut){var index=0;for(result="";index<str.length;)index%width==0&&index>0&&(result+=seperator),result+=str.charAt(index),index++;if(trailingSpaces)for(;index%width>0;)result+=" ",index++;return result}var words=str.split(" "),current_column=0;for(result="";words.length>0;){if(1+words[0].length+current_column>width&&current_column>0){if(preserveSpaces)result+=" ",current_column++;else if(trailingSpaces)for(;width>current_column;)result+=" ",current_column++;result+=seperator,current_column=0}current_column>0&&(result+=" ",current_column++),result+=words[0],current_column+=words[0].length,words.shift()}if(trailingSpaces)for(;width>current_column;)result+=" ",current_column++;return result}},{"./helper/makeString":316}],367:[function(require,module,exports){(function(global){function deprecate(fn,msg){function deprecated(){if(!warned){if(config("throwDeprecation"))throw new Error(msg);config("traceDeprecation")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}if(config("noDeprecation"))return fn;var warned=!1;return deprecated}function config(name){try{if(!global.localStorage)return!1}catch(_){return!1}var val=global.localStorage[name];return null==val?!1:"true"===String(val).toLowerCase()}module.exports=deprecate}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],368:[function(require,module,exports){arguments[4][185][0].apply(exports,arguments)},{dup:185}],369:[function(require,module,exports){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],370:[function(require,module,exports){(function(process,global){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(0>recurseTimes)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;l>i;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);return length>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||"undefined"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return 10>n?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];len>i;x=args[++i])str+=isNull(x)||!isObject(x)?" "+x:" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(process.noDeprecation===!0)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":369,_process:201,inherits:368}],371:[function(require,module,exports){function Context(){}var indexOf=require("indexof"),Object_keys=function(obj){if(Object.keys)return Object.keys(obj);var res=[];for(var key in obj)res.push(key);return res},forEach=function(xs,fn){if(xs.forEach)return xs.forEach(fn);for(var i=0;i<xs.length;i++)fn(xs[i],i,xs)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(obj,name,value){Object.defineProperty(obj,name,{writable:!0,enumerable:!1,configurable:!0,value:value})}}catch(e){return function(obj,name,value){obj[name]=value}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(code){return this instanceof Script?void(this.code=code):new Script(code)};Script.prototype.runInContext=function(context){if(!(context instanceof Context))throw new TypeError("needs a 'context' argument.");var iframe=document.createElement("iframe");iframe.style||(iframe.style={}),iframe.style.display="none",document.body.appendChild(iframe);var win=iframe.contentWindow,wEval=win.eval,wExecScript=win.execScript;!wEval&&wExecScript&&(wExecScript.call(win,"null"),wEval=win.eval),forEach(Object_keys(context),function(key){win[key]=context[key]}),forEach(globals,function(key){context[key]&&(win[key]=context[key])});var winKeys=Object_keys(win),res=wEval.call(win,this.code);return forEach(Object_keys(win),function(key){(key in context||-1===indexOf(winKeys,key))&&(context[key]=win[key])}),forEach(globals,function(key){key in context||defineProp(context,key,win[key])}),document.body.removeChild(iframe),res},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(context){
var ctx=Script.createContext(context),res=this.runInContext(ctx);return forEach(Object_keys(ctx),function(key){context[key]=ctx[key]}),res},forEach(Object_keys(Script.prototype),function(name){exports[name]=Script[name]=function(code){var s=Script(code);return s[name].apply(s,[].slice.call(arguments,1))}}),exports.createScript=function(code){return exports.Script(code)},exports.createContext=Script.createContext=function(context){var copy=new Context;return"object"==typeof context&&forEach(Object_keys(context),function(key){copy[key]=context[key]}),copy}},{indexof:183}],372:[function(require,module,exports){function wrappy(fn,cb){function wrapper(){for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];var ret=fn.apply(this,args),cb=args[args.length-1];return"function"==typeof ret&&ret!==cb&&Object.keys(cb).forEach(function(k){ret[k]=cb[k]}),ret}if(fn&&cb)return wrappy(fn)(cb);if("function"!=typeof fn)throw new TypeError("need wrapper function");return Object.keys(fn).forEach(function(k){wrapper[k]=fn[k]}),wrapper}module.exports=wrappy},{}]},{},[1]);